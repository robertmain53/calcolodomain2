<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>World Clock Calculator - Convert Time Zones Instantly</title>
<meta name="description" content="A free, accessible world clock calculator to convert time between multiple cities and time zones. Instantly see the time difference and plan international meetings.">
<link rel="canonical" href="https://calcdomain.com/world-clock-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Custom Calculator & A11y Styles */
label {
display: block;
margin-bottom: 0.25rem;
font-weight: 500;
}
input[type="time"],
input[type="date"],
select {
width: 100%;
padding: 0.5rem 0.75rem;
border: 1px solid #d1d5db;
border-radius: 0.375rem;
box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
-webkit-appearance: none;
-moz-appearance: none;
appearance: none;
background-color: #fff;
}
select {
background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
background-position: right 0.5rem center;
background-repeat: no-repeat;
background-size: 1.5em 1.5em;
padding-right: 2.5rem;
}
/* Visible Focus Ring */
input:focus,
select:focus,
button:focus,
[role="button"]:focus {
outline: 3px solid #2563eb !important;
outline-offset: 1px;
border-color: #2563eb;
}
/* Error Styling */
.error-message {
color: #dc2626;
font-size: 0.875rem;
margin-top: 0.25rem;
display: none; /* Hidden by default */
}
[aria-invalid="true"] {
border-color: #dc2626;
}
[aria-invalid="true"]:focus {
outline-color: #dc2626 !important;
border-color: #dc2626;
}
/* Ensure touch targets are large enough */
button, [role="button"] {
min-height: 48px;
min-width: 48px;
padding: 0.5rem 1rem;
}
.add-button {
padding: 0.5rem 1rem;
}
.remove-button {
font-size: 0.875rem;
color: #dc2626;
background: none;
border: none;
text-decoration: underline;
cursor: pointer;
padding: 0.25rem;
min-height: 44px; /* A bit smaller is ok inside a table cell */
min-width: 44px;
}
/* CLS Prevention */
#results-container {
min-height: 150px;
}
/* Print Styles */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
.remove-button, #calculator-ui form { display: none !important; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "World Clock Calculator - Convert Time Zones Instantly",
"description": "A free, accessible world clock calculator to convert time between multiple cities and time zones. Instantly see the time difference and plan international meetings.",
"url": "https://calcdomain.com/world-clock-calculator",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Everyday Life", "item": "https://calcdomain.com/lifestyle-everyday.html" },
{ "@type": "ListItem", "position": 3, "name": "Time and Date", "item": "https://calcdomain.com/subcategories/time-date.html" },
{ "@type": "ListItem", "position": 4, "name": "World Clock Calculator", "item": "https://calcdomain.com/world-clock-calculator.html" }
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Use the World Clock Calculator",
"description": "A step-by-step guide to converting time across multiple time zones.",
"step": [
{
"@type": "HowToStep",
"name": "Set Your Local Time",
"text": "Enter the date and time in your browser's local time zone. The calculator automatically detects your zone for reference."
},
{
"@type": "HowToStep",
"name": "Add Target Locations",
"text": "Select one or more cities or time zones you want to convert to from the 'Add Target Location' dropdown menu and click the 'Add' button."
},
{
"@type": "HowToStep",
"name": "Review Conversion Results",
"text": "The table instantly updates to show the corresponding date, time, and UTC offset for your location and all target locations."
},
{
"@type": "HowToStep",
"name": "Remove Locations",
"text": "Click the 'Remove' button in any row to remove that time zone from the results table."
}
]
}
</script>
<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm z-50">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="lifestyle-everyday.html" class="hover:text-blue-600">Everyday Life</a> &raquo;
<a href="subcategories/time-date.html" class="hover:text-blue-600">Time and Date</a> &raquo;
<span class="text-gray-900">World Clock Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">World Clock Calculator</h1>
<p class="text-gray-600 mb-6">Instantly convert time between multiple cities and time zones. This tool is perfect for scheduling international meetings, planning travel, or coordinating with remote teams, ensuring everyone is on the same page by automatically handling UTC offsets and Daylight Saving Time (DST).</p>

<section id="calculator-ui" aria-labelledby="calculator-heading">
<h2 id="calculator-heading" class="sr-only">Time Conversion Calculator</h2>
<form class="space-y-6" onsubmit="return false;">
<fieldset class="grid grid-cols-1 md:grid-cols-2 gap-6">
<legend class="sr-only">Base Time and Location</legend>
<div>
<label for="baseDate">Your Local Date *</label>
<input type="date" id="baseDate" aria-required="true" aria-describedby="baseDate-error" aria-invalid="false">
<div id="baseDate-error" class="error-message" aria-live="assertive"></div>
</div>
<div>
<label for="baseTime">Your Local Time *</label>
<input type="time" id="baseTime" aria-required="true" aria-describedby="baseTime-error" aria-invalid="false">
<div id="baseTime-error" class="error-message" aria-live="assertive"></div>
</div>
<div class="md:col-span-2">
<label for="localZoneDisplay">Your Detected Time Zone</label>
<input type="text" id="localZoneDisplay" class="bg-gray-100 text-gray-700" readonly disabled>
</div>
</fieldset>

<fieldset class="border-t border-gray-200 pt-6">
<legend class="text-lg font-semibold text-gray-800 mb-4">Add Target Locations</legend>
<div class="flex flex-col sm:flex-row sm:items-end gap-4">
<div class="flex-grow">
<label for="targetLocation">Select a location</label>
<select id="targetLocation" aria-describedby="targetLocation-error">
<option value="">-- Please select a location --</option>
</select>
<div id="targetLocation-error" class="error-message" aria-live="assertive"></div>
</div>
<button type="button" id="add-location" class="add-button bg-blue-600 text-white font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 w-full sm:w-auto">
Add Location
</button>
</div>
</fieldset>
</form>
</section>

<section id="results" class="mt-8" aria-labelledby="results-heading">
<h2 id="results-heading" class="text-2xl font-bold text-gray-900 mb-4">Conversion Results</h2>
<div id="results-container" class="bg-blue-50 border border-blue-100 rounded-lg p-4" aria-live="polite">
<p id="results-placeholder" class="text-gray-600">Results will appear here once you add a target location.</p>
<div class="overflow-x-auto">
<table id="results-table" class="min-w-full text-left hidden">
<thead class="bg-gray-100 text-gray-700 uppercase text-sm">
<tr>
<th scope="col" class="px-4 py-3">Location</th>
<th scope="col" class="px-4 py-3">Date</th>
<th scope="col" class="px-4 py-3">Time</th>
<th scope="col" class="px-4 py-3">Offset</th>
<th scope="col" class="px-4 py-3 sr-only">Actions</th>
</tr>
</thead>
<tbody id="results-body" class="bg-white">
</tbody>
</table>
</div>
</div>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<h2>Data Source and Methodology</h2>
<p>This calculator relies on the **IANA Time Zone Database (tz database)**, the global standard for time zone and daylight saving rules. Our tool uses the built-in JavaScript `Intl.DateTimeFormat` API, which directly implements the IANA database.</p>
<ul>
<li><strong>Authoritative Source:</strong> IANA Time Zone Database (tzdb)</li>
<li><strong>Reference:</strong> <a href="https://www.iana.org/time-zones" target="_blank" rel="noopener noreferrer">https://www.iana.org/time-zones</a></li>
<li><strong>Date:</strong> Continuously updated (using browser's latest implementation)</li>
</ul>
<p>All calculations are based strictly on the conversion rules and data provided by this source, ensuring automatic and accurate handling of complex scenarios like Daylight Saving Time (DST) changes.</p>

<h2>The 'Formula' Explained: How Time Conversion Works</h2>
<p>There isn't a single algebraic formula for time conversion due to the complexities of DST and historical time zone changes. Instead, the calculator follows a precise computational algorithm:</p>
<div class="formula-box">
<ol class="list-decimal list-inside">
<li><strong>Step 1: Get Local Timestamp.</strong> The calculator takes your input date and time (e.g., "Oct 27, 2025 at 10:00") and parses it using your browser's local time setting to create a universal, time-zone-independent timestamp. This timestamp represents a specific, single moment in time (measured in milliseconds since the UNIX epoch, Jan 1, 1970 UTC).</li>
<li><strong>Step 2: Identify Target Zone.</strong> You select a target IANA time zone (e.g., "America/New_York").</li>
<li><strong>Step 3: Convert Timestamp.</strong> The calculator passes the universal timestamp (from Step 1) to the `Intl.DateTimeFormat` function, instructing it to format that exact moment *for* the target time zone ("America/New_York").</li>
<li><strong>Step 4: Apply Rules.</strong> The API internally consults the IANA database. It knows that on that specific date, "America/New_York" is on Eastern Daylight Time (EDT), which is UTC-4. It correctly applies this offset to the universal timestamp, outputting the correct local date and time for New York (e.g., "Oct 27, 2025 at 6:00 AM").</li>
</ol>
</div>

<h2>Glossary of Terms</h2>
<dl class="space-y-4">
<div>
<dt class="font-semibold">Local Time</dt>
<dd>The time in a specific location, as entered in the calculator inputs. All conversions are relative to this starting point.</dd>
</div>
<div>
<dt class="font-semibold">IANA Time Zone</dt>
<dd>The official name for a time zone region (e.g., "Europe/Paris", "Asia/Tokyo"). These names are unambiguous and automatically account for DST, unlike abbreviations (e.g., EST, PST) which can be ambiguous.</dd>
</div>
<div>
<dt class="font-semibold">UTC (Coordinated Universal Time)</dt>
<dd>The global standard time from which all other time zones are offset. For example, "UTC-5" is 5 hours behind UTC.</dd>
</div>
<div>
<dt class="font-semibold">DST (Daylight Saving Time)</dt>
<dd>The practice of advancing clocks during warmer months. This calculator handles all DST transitions automatically based on the IANA database rules for the selected date and zone.</dd>
</div>
</dl>

<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's plan a meeting. You are in **Chicago ("America/Chicago")** and want to find a good time to meet with colleagues in **London ("Europe/London")** and **Sydney ("Australia/Sydney")**.</p>
<ol>
<li><strong>Input 1 (Your Time):</strong> You enter the date `November 6, 2025` and the time `10:00 AM`.</li>
<li><strong>Input 2 (Target 1):</strong> You add "Europe/London".</li>
<li><strong>Input 3 (Target 2):</strong> You add "Australia/Sydney".</li>
</ol>
<p><strong>The Calculation:</strong></p>
<ul>
<li>On this date, Chicago is on Central Standard Time (CST), which is **UTC-6**. Your local time of 10:00 AM corresponds to **16:00 UTC**.</li>
<li>London is on Greenwich Mean Time (GMT), which is **UTC+0**. The calculator converts 16:00 UTC to `4:00 PM (16:00)` on November 6.</li>
<li>Sydney is on Australian Eastern Daylight Time (AEDT), which is **UTC+11**. The calculator converts 16:00 UTC to `3:00 AM (03:00)` on the *next day*, November 7.</li>
</ul>
<p><strong>Result:</strong> The table shows that 10:00 AM in Chicago is 4:00 PM in London and 3:00 AM (the next day) in Sydney.</p>

<h2>Frequently Asked Questions</h2>
<details>
<summary>What's the difference between GMT and UTC?</summary>
<p>UTC (Coordinated Universal Time) is the modern, scientific standard for time. GMT (Greenwich Mean Time) is an older time zone, now technically superseded by UTC. For most practical purposes, UTC and GMT are the same (UTC+0). The "Europe/London" time zone uses GMT in winter and British Summer Time (BST, or UTC+1) in summer.</p>
</details>
<details>
<summary>How does Daylight Saving Time (DST) affect the calculator?</summary>
<p>It's handled automatically. Because we use the IANA database, the calculator knows the exact date and time that DST starts and ends for every supported location. When you pick a date, it applies the correct offset (standard or daylight) for that zone on that day.</p>
</details>
<details>
<summary>Why do you use names like "America/Los_Angeles" instead of "PST"?</summary>
<p>Time zone abbreviations like "PST" (Pacific Standard Time) or "CST" (Central Standard Time) are ambiguous. "CST" could mean Central Standard Time (UTC-6) in North America, China Standard Time (UTC+8), or Cuba Standard Time (UTC-5). IANA names (e.g., "America/Chicago") are unique and the only reliable way to ensure accurate conversions.</p>
</details>
<details>
<summary>Can I convert past or future dates?</summary>
<p>Yes. The calculator works for any date you select. The IANA database includes historical data and future DST rules, allowing for accurate conversions in the past or future.</p>
</details>
<details>
<summary>How accurate is this tool?</summary>
<p>This tool is as accurate as the time zone database built into your web browser, which is synchronized with the official IANA Time Zone Database. For day-to-day planning, it is highly reliable.</p>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Contents verified by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-27">October 27, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Instantly convert time to multiple cities at once.</li>
<li>Automatically handles complex Daylight Saving Time (DST) rules.</li>
<li>Uses the official IANA time zone database for maximum accuracy.</li>
<li>Clean, mobile-first, and fully accessible (WCAG 2.1 AA) interface.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Lifestyle Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="time-duration-calculator.html" class="text-blue-600 hover:underline">Time Duration Calculator</a></li>
<li><a href="date-calculator.html" class="text-blue-600 hover:underline">Date Calculator</a></li>
<li><a href="age-calculator.html" class="text-blue-600 hover:underline">Age Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. DEFINE MAJOR TIMEZONES (Curated List for UX) ---
// We use a curated list instead of Intl.supportedValuesOf('timeZone') which returns 590+
const majorTimeZones = [
{ "label": "(UTC-11:00) Midway", "value": "Pacific/Midway" },
{ "label": "(UTC-10:00) Honolulu", "value": "Pacific/Honolulu" },
{ "label": "(UTC-09:00) Anchorage", "value": "America/Anchorage" },
{ "label": "(UTC-08:00) Los Angeles", "value": "America/Los_Angeles" },
{ "label": "(UTC-08:00) Vancouver", "value": "America/Vancouver" },
{ "label": "(UTC-07:00) Denver", "value": "America/Denver" },
{ "label": "(UTC-07:00) Phoenix", "value": "America/Phoenix" },
{ "label": "(UTC-07:00) Edmonton", "value": "America/Edmonton" },
{ "label": "(UTC-06:00) Chicago", "value": "America/Chicago" },
{ "label": "(UTC-06:00) Mexico City", "value": "America/Mexico_City" },
{ "label": "(UTC-06:00) Costa Rica", "value": "America/Costa_Rica" },
{ "label": "(UTC-05:00) New York", "value": "America/New_York" },
{ "label": "(UTC-05:00) Toronto", "value": "America/Toronto" },
{ "label": "(UTC-05:00) Lima", "value": "America/Lima" },
{ "label": "(UTC-05:00) Bogota", "value": "America/Bogota" },
{ "label": "(UTC-04:00) Halifax", "value": "America/Halifax" },
{ "label": "(UTC-04:00) Santiago", "value": "America/Santiago" },
{ "label": "(UTC-04:00) Caracas", "value": "America/Caracas" },
{ "label": "(UTC-03:00) Buenos Aires", "value": "America/Argentina/Buenos_Aires" },
{ "label": "(UTC-03:00) Sao Paulo", "value": "America/Sao_Paulo" },
{ "label": "(UTC-01:00) Azores", "value": "Atlantic/Azores" },
{ "label": "(UTC+00:00) London (GMT)", "value": "Europe/London" },
{ "label": "(UTC+00:00) Dublin", "value": "Europe/Dublin" },
{ "label": "(UTC+00:00) Lisbon", "value": "Europe/Lisbon" },
{ "label": "(UTC+00:00) Reykjavik", "value": "Atlantic/Reykjavik" },
{ "label": "(UTC+01:00) Berlin", "value": "Europe/Berlin" },
{ "label": "(UTC+01:00) Paris", "value": "Europe/Paris" },
{ "label": "(UTC+01:00) Rome", "value": "Europe/Rome" },
{ "label": "(UTC+01:00) Madrid", "value": "Europe/Madrid" },
{ "label": "(UTC+01:00) Amsterdam", "value": "Europe/Amsterdam" },
{ "label": "(UTC+01:00) Lagos", "value": "Africa/Lagos" },
{ "label": "(UTC+02:00) Athens", "value": "Europe/Athens" },
{ "label": "(UTC+02:00) Helsinki", "value": "Europe/Helsinki" },
{ "label": "(UTC+02:00) Cairo", "value": "Africa/Cairo" },
{ "label": "(UTC+02:00) Johannesburg", "value": "Africa/Johannesburg" },
{ "label": "(UTC+02:00) Jerusalem", "value": "Asia/Jerusalem" },
{ "label": "(UTC+03:00) Moscow", "value": "Europe/Moscow" },
{ "label": "(UTC+03:00) Istanbul", "value": "Europe/Istanbul" },
{ "label": "(UTC+03:00) Nairobi", "value": "Africa/Nairobi" },
{ "label": "(UTC+03:00) Riyadh", "value": "Asia/Riyadh" },
{ "label": "(UTC+03:30) Tehran", "value": "Asia/Tehran" },
{ "label": "(UTC+04:00) Dubai", "value": "Asia/Dubai" },
{ "label": "(UTC+04:30) Kabul", "value": "Asia/Kabul" },
{ "label": "(UTC+05:00) Karachi", "value": "Asia/Karachi" },
{ "label": "(UTC+05:30) Mumbai", "value": "Asia/Kolkata" },
{ "label": "(UTC+05:45) Kathmandu", "value": "Asia/Kathmandu" },
{ "label": "(UTC+06:00) Dhaka", "value": "Asia/Dhaka" },
{ "label": "(UTC+07:00) Bangkok", "value": "Asia/Bangkok" },
{ "label": "(UTC+07:00) Ho Chi Minh", "value": "Asia/Ho_Chi_Minh" },
{ "label": "(UTC+08:00) Beijing", "value": "Asia/Shanghai" },
{ "label": "(UTC+08:00) Hong Kong", "value": "Asia/Hong_Kong" },
{ "label": "(UTC+08:00) Singapore", "value": "Asia/Singapore" },
{ "label": "(UTC+08:00) Perth", "value": "Australia/Perth" },
{ "label": "(UTC+09:00) Tokyo", "value": "Asia/Tokyo" },
{ "label": "(UTC+09:00) Seoul", "value": "Asia/Seoul" },
{ "label": "(UTC+09:30) Adelaide", "value": "Australia/Adelaide" },
{ "label": "(UTC+09:30) Darwin", "value": "Australia/Darwin" },
{ "label": "(UTC+10:00) Sydney", "value": "Australia/Sydney" },
{ "label": "(UTC+10:00) Brisbane", "value": "Australia/Brisbane" },
{ "label": "(UTC+10:00) Guam", "value": "Pacific/Guam" },
{ "label": "(UTC+11:00) Vladivostok", "value": "Asia/Vladivostok" },
{ "label": "(UTC+12:00) Auckland", "value": "Pacific/Auckland" },
{ "label": "(UTC+12:00) Fiji", "value": "Pacific/Fiji" }
];

// --- 2. GET DOM ELEMENTS ---
const elements = {
baseDate: document.getElementById('baseDate'),
baseTime: document.getElementById('baseTime'),
localZoneDisplay: document.getElementById('localZoneDisplay'),
targetLocation: document.getElementById('targetLocation'),
addButton: document.getElementById('add-location'),
resultsBody: document.getElementById('results-body'),
resultsTable: document.getElementById('results-table'),
resultsPlaceholder: document.getElementById('results-placeholder'),
// Error divs
baseDateError: document.getElementById('baseDate-error'),
baseTimeError: document.getElementById('baseTime-error'),
targetLocationError: document.getElementById('targetLocation-error')
};

// --- 3. STATE ---
let targetZones = new Set();
let localZone = '';

// --- 4. VALIDATION & ERROR HANDLING ---
function showError(el, errorEl, message) {
errorEl.textContent = message;
errorEl.style.display = 'block';
el.setAttribute('aria-invalid', 'true');
el.setAttribute('aria-describedby', errorEl.id);
}

function clearError(el, errorEl) {
errorEl.textContent = '';
errorEl.style.display = 'none';
el.setAttribute('aria-invalid', 'false');
el.setAttribute('aria-describedby', errorEl.id);
}

function validateInputs() {
let isValid = true;
clearError(elements.baseDate, elements.baseDateError);
clearError(elements.baseTime, elements.baseTimeError);

if (!elements.baseDate.value) {
showError(elements.baseDate, elements.baseDateError, 'Please select a valid date.');
isValid = false;
}
if (!elements.baseTime.value) {
showError(elements.baseTime, elements.baseTimeError, 'Please select a valid time.');
isValid = false;
}
return isValid;
}

// --- 5. CORE LOGIC & RENDERING ---

/**
* Formats a given timestamp for a specific IANA time zone.
* @param {number} timestamp - The UTC timestamp in milliseconds.
* @param {string} timeZone - The IANA time zone string (e.g., "America/New_York").
* @returns {object} An object with formatted date, time, and offset.
*/
function formatTimeForZone(timestamp, timeZone) {
const dateObj = new Date(timestamp);
const formatter = new Intl.DateTimeFormat('en-US', {
timeZone: timeZone,
year: 'numeric',
month: 'long',
day: 'numeric',
hour: '2-digit',
minute: '2-digit',
hour12: true,
timeZoneName: 'shortOffset'
});

const parts = formatter.formatToParts(dateObj);
const find = (type) => parts.find(p => p.type === type)?.value || '';

return {
date: `${find('month')} ${find('day')}, ${find('year')}`,
time: `${find('hour')}:${find('minute')} ${find('dayPeriod')}`,
offset: find('timeZoneName'),
zone: timeZone
};
}

/**
* Main function to recalculate and render the results table.
*/
function calculateAndRender() {
if (!validateInputs()) {
// Hide table if inputs are invalid
elements.resultsTable.classList.add('hidden');
elements.resultsPlaceholder.classList.remove('hidden');
elements.resultsPlaceholder.textContent = 'Please enter a valid date and time to see results.';
return;
}

// Get timestamp from local date/time inputs
const localDateStr = elements.baseDate.value;
const localTimeStr = elements.baseTime.value;
const localDateObj = new Date(`${localDateStr}T${localTimeStr}`);
const timestamp = localDateObj.getTime();

// Combine local zone and target zones for rendering
const allZones = [localZone, ...targetZones];

// Clear previous results
elements.resultsBody.innerHTML = '';

if (allZones.length === 0) {
elements.resultsTable.classList.add('hidden');
elements.resultsPlaceholder.classList.remove('hidden');
elements.resultsPlaceholder.textContent = 'Add a target location to see conversion results.';
return;
}

// Show table, hide placeholder
elements.resultsTable.classList.remove('hidden');
elements.resultsPlaceholder.classList.add('hidden');

// Render a row for each zone
allZones.forEach((zone, index) => {
const formatted = formatTimeForZone(timestamp, zone);
const isLocalZone = (index === 0);

const tr = document.createElement('tr');
tr.className = isLocalZone ? 'bg-blue-50 font-semibold' : 'border-t border-gray-200';
tr.innerHTML = `
<td class="px-4 py-3">${zone.replace(/_/g, ' ')} ${isLocalZone ? '(Your Location)' : ''}</td>
<td class="px-4 py-3">${formatted.date}</td>
<td class="px-4 py-3">${formatted.time}</td>
<td class="px-4 py-3">${formatted.offset}</td>
<td class="px-4 py-3 text-right">
${!isLocalZone ?
`<button type="button" class="remove-button" data-zone="${zone}" aria-label="Remove ${zone}">
Remove
</button>` :
''}
</td>
`;
elements.resultsBody.appendChild(tr);
});
}

// --- 6. EVENT HANDLERS ---

/**
* Handles adding a new target location.
*/
function handleAddLocation() {
const zoneToAdd = elements.targetLocation.value;
clearError(elements.targetLocation, elements.targetLocationError);

if (!zoneToAdd) {
showError(elements.targetLocation, elements.targetLocationError, 'Please select a location to add.');
return;
}

if (zoneToAdd === localZone) {
showError(elements.targetLocation, elements.targetLocationError, 'This is your local time zone.');
return;
}

if (targetZones.has(zoneToAdd)) {
showError(elements.targetLocation, elements.targetLocationError, 'This location is already in the list.');
return;
}

targetZones.add(zoneToAdd);
elements.targetLocation.value = ''; // Reset dropdown
calculateAndRender();
}

/**
* Handles removing a target location via event delegation.
*/
function handleRemoveLocation(e) {
if (e.target.classList.contains('remove-button')) {
const zoneToRemove = e.target.dataset.zone;
targetZones.delete(zoneToRemove);
calculateAndRender();
}
}

// --- 7. INITIALIZATION ---

/**
* Populates the time zone select dropdown.
*/
function populateTimeZoneSelect() {
const fragment = document.createDocumentFragment();
majorTimeZones.forEach(zone => {
const option = document.createElement('option');
option.value = zone.value;
option.textContent = zone.label;
fragment.appendChild(option);
});
elements.targetLocation.appendChild(fragment);
}

/**
* Sets default values and detected time zone.
*/
function initialize() {
// Detect local IANA time zone
try {
localZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
elements.localZoneDisplay.value = `${localZone.replace(/_/g, ' ')}`;
} catch (e) {
localZone = 'America/New_York'; // Fallback
elements.localZoneDisplay.value = 'Could not detect time zone. (Using Fallback)';
}

// Set default date and time to now
const now = new Date();
const year = now.getFullYear();
const month = (now.getMonth() + 1).toString().padStart(2, '0');
const day = now.getDate().toString().padStart(2, '0');
const hours = now.getHours().toString().padStart(2, '0');
const minutes = now.getMinutes().toString().padStart(2, '0');

elements.baseDate.value = `${year}-${month}-${day}`;
elements.baseTime.value = `${hours}:${minutes}`;

// Populate dropdown
populateTimeZoneSelect();

// Add event listeners
elements.baseDate.addEventListener('input', calculateAndRender);
elements.baseTime.addEventListener('input', calculateAndRender);
elements.addButton.addEventListener('click', handleAddLocation);
elements.resultsBody.addEventListener('click', handleRemoveLocation);

// Initial render (will just show the placeholder)
calculateAndRender();
}

// Run initialization
initialize();

});
</script>

</body>
</html>