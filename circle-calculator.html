<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/circle-calculator.html">





<meta charset="utf-8">
<title>Circle Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Professional circle calculator for radius, diameter, circumference, and area with exact π expressions, unit conversion, LaTeX formulas, and step-by-step example.">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- MathJax for LaTeX rendering -->
<script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
  :root{
    --brand:#2563eb; --ink:#111827; --muted:#6b7280; --surface:#ffffff; --bg:#f9fafb; --border:#e5e7eb;
    --ok:#047857; --warn:#b45309; --err:#b91c1c; --focus:#7c3aed;
  }
  html,body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--ink)}
  .container{max-width:1120px}
  .prose{max-width:65ch}
  .prose h2{font-size:1.5rem;font-weight:700;margin-top:1.75rem;margin-bottom:.75rem}
  .prose h3{font-size:1.125rem;font-weight:700;margin-top:1.25rem;margin-bottom:.5rem}
  .prose p{margin-bottom:1rem;line-height:1.7}
  .prose ul,.prose ol{margin-left:1.25rem;margin-bottom:1rem}
  .formula-box{background:#f3f4f6;border:1px solid #d1d5db;border-radius:.75rem;padding:1rem;overflow:auto}
  .result-card{background:var(--surface);border:1px solid var(--border);border-radius:.75rem;padding:1rem;text-align:center}
  .result-card h4{font-size:.95rem;color:#4b5563;margin-bottom:.25rem}
  .result-card p{font-size:1.5rem;font-weight:800;color:var(--brand)}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono","Courier New",monospace}
  /* Accessible focus */
  :is(button,a,input,select,details,summary,textarea):focus-visible{outline:3px solid var(--focus);outline-offset:2px;border-radius:.5rem}
  /* Min-height to prevent CLS when results mount */
  #results-viewport{min-height:220px}
  /* Touch target */
  .tap-target{min-height:48px;min-width:48px}
  /* Tooltip panel */
  .tip-panel[hidden]{display:none}
  @media print{
    header,nav,aside,#cta,footer,.no-print{display:none!important}
    #print-section{position:absolute;inset:0}
  }
</style>

<!-- JSON-LD: WebPage -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"WebPage",
  "name":"Circle Calculator",
  "description":"Compute radius, diameter, circumference, and area of a circle. Supports exact π, unit conversion, and LaTeX formulas.",
  "url":"https://calcdomain.com/circle-calculator.html",
  "inLanguage":"en",
  "author":{"@type":"Person","name":"Ugo Candido"},
  "publisher":{"@type":"Organization","name":"CalcDomain"}
}
</script>

<!-- JSON-LD: Breadcrumbs -->
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Math & Conversions",
      "item": "https://calcdomain.com/math-conversions.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Geometry",
      "item": "https://calcdomain.com/subcategories/geometry.html"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Circle Calculator",
      "item": "https://calcdomain.com/circle-calculator.html"
    }
  ]
}</script>

<!-- JSON-LD: SoftwareApplication / WebApplication -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"WebApplication",
  "name":"Circle Calculator",
  "applicationCategory":"MathApplication",
  "operatingSystem":"Any",
  "url":"https://calcdomain.com/circle-calculator.html",
  "featureList":["Exact π mode","Unit conversion","LaTeX formulas","Keyboard accessible","Mobile-first"],
  "author":{"@type":"Person","name":"Ugo Candido"},
  "publisher":{"@type":"Organization","name":"CalcDomain"}
}
</script>

<!-- JSON-LD: HowTo -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"HowTo",
  "name":"How to compute circle measurements",
  "description":"Enter one known value (radius, diameter, circumference, or area) and the calculator finds the rest.",
  "step":[
    {"@type":"HowToStep","name":"Choose known quantity","text":"Select radius, diameter, circumference, or area."},
    {"@type":"HowToStep","name":"Enter value and units","text":"Type a positive number and pick suitable units."},
    {"@type":"HowToStep","name":"Pick π mode and precision","text":"Toggle exact-π and set decimal places as needed."},
    {"@type":"HowToStep","name":"Read all results","text":"The tool computes the remaining properties and shows exact/decimal outputs."}
  ]
}
</script>

<!-- JSON-LD: FAQPage -->
<script type="application/ld+json" id="faq-jsonld">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {"@type":"Question","name":"What formulas does this calculator use?",
     "acceptedAnswer":{"@type":"Answer","text":"Circumference C = 2πr = πd and Area A = πr^2 = π(d/2)^2."}},
    {"@type":"Question","name":"Can I enter circumference or area instead?",
     "acceptedAnswer":{"@type":"Answer","text":"Yes. Choose the known quantity from the selector and the calculator derives the rest."}},
    {"@type":"Question","name":"What is Exact π mode?",
     "acceptedAnswer":{"@type":"Answer","text":"It shows expressions as multiples of π alongside decimal approximations using π ≈ 3.14159."}},
    {"@type":"Question","name":"Which units are supported?",
     "acceptedAnswer":{"@type":"Answer","text":"Millimeters, centimeters, meters, inches, feet for lengths; corresponding squared units for area."}},
    {"@type":"Question","name":"How precise are results?",
     "acceptedAnswer":{"@type":"Answer","text":"You can set decimal places (0–10). Calculations use full double precision internally and round only for display."}},
    {"@type":"Question","name":"Does it handle invalid or negative inputs?",
     "acceptedAnswer":{"@type":"Answer","text":"Yes. Inline validation explains issues and guides you to enter positive numbers."}},
    {"@type":"Question","name":"Is the tool accessible?",
     "acceptedAnswer":{"@type":"Answer","text":"Yes. It follows WCAG 2.1 AA with labels, keyboard support, visible focus, ARIA descriptions, and high-contrast styles."}}
  ]
}
</script>
</head>
<body>

<header class="bg-white border-b">
  <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
    <div class="flex items-center justify-between">
      <a class="text-2xl font-bold text-blue-600" href="index.html">CalcDomain</a>
      <div class="hidden md:flex items-center gap-6 text-sm">
        <a class="hover:text-blue-600" href="search.html">Advanced Search</a>
        Categories
      </div>
      <button id="mobileMenuBtn" class="md:hidden p-2 tap-target" aria-controls="mobileMenu" aria-expanded="false" aria-label="Open menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
    <div id="mobileMenu" class="md:hidden hidden mt-3">
      <a class="block py-2 hover:text-blue-600" href="search.html">Advanced Search</a>
      Categories
    </div>
  </nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-8">
  <!-- Breadcrumbs -->
  <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
    <a class="hover:text-blue-600" href="index.html">Home</a> &raquo;
    <a class="hover:text-blue-600" href="math.html">Math</a> &raquo;
    <a class="hover:text-blue-600" href="subcategories/geometry.html">Geometry</a> &raquo;
    <span class="text-gray-900">Circle Calculator</span>
  </nav>

  <section id="print-section" class="bg-white p-6 rounded-lg shadow-sm">
    <!-- 1) H1 -->
    <h1 class="text-3xl font-extrabold mb-2">Circle Calculator</h1>

    <!-- 2) Intro -->
    <p class="text-gray-700 mb-6">Enter any one value—radius, diameter, circumference, or area—and this calculator instantly finds the rest. Built for students, engineers, architects, and professionals who need trustworthy results, exact π expressions, and clear LaTeX formulas.</p>

    <div class="flex flex-col lg:flex-row gap-8">
      <!-- 3) Calculator UI -->
      <section class="w-full lg:w-1/2" aria-labelledby="calc-heading">
        <h2 id="calc-heading" class="sr-only">Interactive Circle Calculator</h2>

        <div class="space-y-5">
          <!-- Known quantity -->
          <div>
            <label for="known" class="block text-sm font-medium text-gray-800">Known quantity <span aria-hidden="true" class="text-red-600">*</span></label>
            <div class="mt-1 flex items-center gap-2">
              <select id="known" class="tap-target w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-required="true" aria-describedby="known-help">
                <option value="radius" selected>Radius (r)</option>
                <option value="diameter">Diameter (d)</option>
                <option value="circumference">Circumference (C)</option>
                <option value="area">Area (A)</option>
              </select>
              <button type="button" class="tap-target px-3 py-2 rounded-md border" aria-controls="known-help" aria-expanded="false">?</button>
            </div>
            <p id="known-help" class="text-sm text-gray-600 mt-1">Choose the quantity you already know; we’ll compute the rest.</p>
          </div>

          <!-- Value input -->
          <div>
            <label for="value" class="block text-sm font-medium text-gray-800">Value <span aria-hidden="true" class="text-red-600">*</span></label>
            <input id="value" inputmode="decimal" type="number" step="any" min="0" class="tap-target mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-required="true" aria-describedby="value-help value-err">
            <p id="value-help" class="text-sm text-gray-600 mt-1">Enter a positive number. Units defined below.</p>
            <p id="value-err" class="text-sm text-red-700 mt-1" role="alert" hidden>Enter a valid positive number.</p>
          </div>

          <!-- Units -->
          <div>
            <div class="flex items-center justify-between">
              <label for="lengthUnit" class="block text-sm font-medium text-gray-800">Length unit</label>
              <button type="button" class="tap-target px-3 py-1.5 rounded-md border text-sm" aria-controls="unit-tip" aria-expanded="false">?</button>
            </div>
            <div class="mt-1 grid grid-cols-2 gap-3">
              <select id="lengthUnit" class="tap-target w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-describedby="unit-tip">
                <option value="mm">millimeter (mm)</option>
                <option value="cm" selected>centimeter (cm)</option>
                <option value="m">meter (m)</option>
                <option value="in">inch (in)</option>
                <option value="ft">foot (ft)</option>
              </select>
              <select id="areaUnit" class="tap-target w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-describedby="unit-tip">
                <option value="mm2">mm²</option>
                <option value="cm2" selected>cm²</option>
                <option value="m2">m²</option>
                <option value="in2">in²</option>
                <option value="ft2">ft²</option>
              </select>
            </div>
            <p id="unit-tip" class="text-sm text-gray-600 mt-1">Length units apply to r, d, C; area units apply to A.</p>
          </div>

          <!-- π mode + precision -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label for="piMode" class="block text-sm font-medium text-gray-800">π display</label>
              <select id="piMode" class="tap-target mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-describedby="pi-tip">
                <option value="both" selected>Exact π and decimal</option>
                <option value="decimal">Decimal only</option>
                <option value="exact">Exact π only</option>
              </select>
              <p id="pi-tip" class="text-sm text-gray-600 mt-1">Show results as multiples of π and/or decimals.</p>
            </div>
            <div>
              <label for="precision" class="block text-sm font-medium text-gray-800">Decimal places</label>
              <input id="precision" type="number" min="0" max="10" step="1" value="4" class="tap-target mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-describedby="prec-tip">
              <p id="prec-tip" class="text-sm text-gray-600 mt-1">Applies to decimal outputs only.</p>
            </div>
          </div>

          <!-- Actions -->
          <div class="flex flex-wrap gap-3">
            <button id="computeBtn" class="tap-target px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700">Compute</button>
            <button id="resetBtn" class="tap-target px-4 py-2 rounded-md border">Reset</button>
          </div>
        </div>
      </section>

      <!-- 4) Results -->
      <section class="w-full lg:w-1/2" aria-labelledby="results-heading">
        <h2 id="results-heading" class="sr-only">Results</h2>

        <div id="results-viewport" class="space-y-6">
          <!-- Diagram -->
          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-semibold mb-2">Diagram</h3>
            <div class="flex items-center gap-4">
              <svg id="circle-svg" width="160" height="160" viewBox="0 0 160 160" role="img" aria-label="Circle with radius line">
                <circle cx="80" cy="80" r="60" fill="#eff6ff" stroke="#2563eb" stroke-width="3"></circle>
                <line x1="80" y1="80" x2="140" y2="80" stroke="#f97316" stroke-width="3"></line>
                <circle cx="80" cy="80" r="3" fill="#111827"></circle>
              </svg>
              <div class="text-sm text-gray-700">
                <p><span class="font-semibold">r</span>: radius (orange line)</p>
                <p><span class="font-semibold">d</span>: diameter = 2r</p>
                <p><span class="font-semibold">C</span>: circumference = 2πr</p>
                <p><span class="font-semibold">A</span>: area = πr²</p>
              </div>
            </div>
          </div>

          <!-- Cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="result-card">
              <h4>Radius (r)</h4>
              <p id="out-radius">—</p>
              <p id="out-radius-ex" class="text-xs text-gray-600 mt-1">exact: —</p>
            </div>
            <div class="result-card">
              <h4>Diameter (d)</h4>
              <p id="out-diameter">—</p>
              <p id="out-diameter-ex" class="text-xs text-gray-600 mt-1">exact: —</p>
            </div>
            <div class="result-card">
              <h4>Circumference (C)</h4>
              <p id="out-circ">—</p>
              <p id="out-circ-ex" class="text-xs text-gray-600 mt-1">exact: —</p>
            </div>
            <div class="result-card">
              <h4>Area (A)</h4>
              <p id="out-area">—</p>
              <p id="out-area-ex" class="text-xs text-gray-600 mt-1">exact: —</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </section>

  <!-- 5) Authoritative Content Ecosystem -->
  <section class="prose bg-white p-6 rounded-lg shadow-sm mt-8">
    <h2>Authoritative data source & methodology</h2>
    <p><strong>Primary reference:</strong> <a class="text-blue-600 underline" href="https://dlmf.nist.gov/" rel="noopener">NIST Digital Library of Mathematical Functions (DLMF)</a>, National Institute of Standards and Technology, 2023 edition. All circle calculations are consistent with classical Euclidean geometry (circumference \(C=2\pi r\), area \(A=\pi r^2\)). <em>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</em></p>

    <h2>The formula explained</h2>
    <div class="formula-box">
      \[
        C = 2\pi r = \pi d \qquad\quad
        A = \pi r^2 = \pi\left(\frac{d}{2}\right)^2
      \]
      \[
        r = \frac{d}{2} = \frac{C}{2\pi} = \sqrt{\frac{A}{\pi}}
      \]
    </div>

    <h2>Glossary of variables</h2>
    <ul>
      <li><strong>r</strong> — radius (length).</li>
      <li><strong>d</strong> — diameter (length), with \(d = 2r\).</li>
      <li><strong>C</strong> — circumference (length), with \(C = 2\pi r\).</li>
      <li><strong>A</strong> — area (area units), with \(A = \pi r^2\).</li>
      <li><strong>\(\pi\)</strong> — the circle constant (~3.14159…).</li>
    </ul>

    <h2>How it works: a step-by-step example</h2>
    <p><strong>Goal:</strong> Given a circumference \(C = 31.4159\ \text{cm}\), find \(r\), \(d\), and \(A\).</p>
    <ol>
      <li>Radius: \(r = \frac{C}{2\pi} = \frac{31.4159}{2\pi} \approx 5.0000\ \text{cm}\).</li>
      <li>Diameter: \(d=2r = 10.0000\ \text{cm}\).</li>
      <li>Area: \(A=\pi r^2 = \pi \cdot 25 \approx 78.5398\ \text{cm}^2\).</li>
    </ol>

    <h2>Frequently asked questions</h2>
    <details>
      <summary>Can I switch between exact and decimal results?</summary>
      <p>Yes. Use “π display” to show multiples of π, decimals, or both.</p>
    </details>
    <details>
      <summary>How are units handled?</summary>
      <p>Lengths (r, d, C) follow the selected length unit; area (A) follows the selected area unit. Conversions are applied consistently.</p>
    </details>
    <details>
      <summary>What if I only know the area?</summary>
      <p>Select “Area (A)”, enter A, and the calculator derives r, d, and C.</p>
    </details>
    <details>
      <summary>Is rounding applied internally?</summary>
      <p>No. Full precision is used; rounding applies only to displayed decimals with your chosen precision.</p>
    </details>
    <details>
      <summary>Can I print or export?</summary>
      <p>Use your browser’s print dialog for a clean print layout; the page hides navigation automatically when printing.</p>
    </details>
  </section>

  <!-- 6) Authors & Review -->
  <section class="bg-white p-6 rounded-lg shadow-sm mt-8">
    <p class="text-sm text-gray-700">
      <strong>Tool developed by Ugo Candido.</strong> Content verified by the CalcDomain Editorial Board.<br>
      Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time>
    </p>
  </section>
</main>

<footer class="bg-white border-t">
  <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
    <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
    <div class="mt-4 space-x-4">
      <a href="about.html" class="hover:text-blue-600">About</a>
      <a href="contact.html" class="hover:text-blue-600">Contact</a>
      <a href="privacy.html" class="hover:text-blue-600">Privacy</a>
      <a href="terms.html" class="hover:text-blue-600">Terms</a>
    </div>
  </div>
</footer>

<!-- Calculator Logic (defer) -->
<script defer>
(function(){
  const $ = (id)=>document.getElementById(id);
  const els = {
    known: $("known"), value: $("value"),
    lengthUnit: $("lengthUnit"), areaUnit: $("areaUnit"),
    piMode: $("piMode"), precision: $("precision"),
    outR: $("out-radius"), outRex: $("out-radius-ex"),
    outD: $("out-diameter"), outDex: $("out-diameter-ex"),
    outC: $("out-circ"), outCex: $("out-circ-ex"),
    outA: $("out-area"), outAex: $("out-area-ex"),
    errVal: $("value-err"),
    mobileMenuBtn: $("mobileMenuBtn"), mobileMenu: $("mobileMenu"),
    computeBtn: $("computeBtn"), resetBtn: $("resetBtn")
  };

  // Mobile menu
  if(els.mobileMenuBtn){
    els.mobileMenuBtn.addEventListener("click", ()=>{
      const open = els.mobileMenu.classList.toggle("hidden") ? "false":"true";
      els.mobileMenuBtn.setAttribute("aria-expanded", open);
    });
  }

  // Conversions
  const L2M = { mm:1e-3, cm:1e-2, m:1, in:0.0254, ft:0.3048 };
  const A2M2 = { mm2:1e-6, cm2:1e-4, m2:1, in2:0.00064516, ft2:0.09290304 };

  function round(val, dp){
    if(!isFinite(val)) return val;
    const f = Math.pow(10, dp);
    return Math.round((val + Number.EPSILON)*f)/f;
  }
  function fmtDec(val, dp){
    if(val==null || !isFinite(val)) return "—";
    return new Intl.NumberFormat(undefined,{maximumFractionDigits:dp,minimumFractionDigits:dp}).format(val);
  }
  function show(el, yes){ el.hidden = !yes; }
  function resetOutputs(){
    [els.outR, els.outD, els.outC, els.outA].forEach(e=>e.textContent="—");
    [els.outRex, els.outDex, els.outCex, els.outAex].forEach(e=>e.textContent="exact: —");
  }

  // Validation on blur
  els.value.addEventListener("blur", ()=>{
    const v = Number(els.value.value);
    const bad = !(isFinite(v) && v>0);
    show(els.errVal, bad);
    els.value.setAttribute("aria-invalid", bad ? "true":"false");
  });

  // Compute
  function compute(){
    // validate
    const v = Number(els.value.value);
    const dp = Math.min(10, Math.max(0, Number(els.precision.value)||0));
    const piMode = els.piMode.value; // both | decimal | exact
    const known = els.known.value;

    // if area is known, use area unit; else length unit
    const lenUnit = els.lengthUnit.value;
    const areaUnit = els.areaUnit.value;

    if(!(isFinite(v) && v>0)){
      show(els.errVal,true); resetOutputs(); return;
    } else { show(els.errVal,false); }

    // Convert input to SI base (meters or m²)
    let r_m = null, d_m = null, c_m = null, a_m2 = null;

    if(known==="radius"){
      r_m = v * L2M[lenUnit];
    } else if(known==="diameter"){
      d_m = v * L2M[lenUnit];
      r_m = d_m/2;
    } else if(known==="circumference"){
      c_m = v * L2M[lenUnit];
      r_m = c_m / (2*Math.PI);
    } else if(known==="area"){
      a_m2 = v * A2M2[areaUnit];
      r_m = Math.sqrt(a_m2 / Math.PI);
    }

    // Derive all in base units
    if(r_m==null || !isFinite(r_m) || r_m<=0){ resetOutputs(); return; }
    d_m = 2*r_m;
    c_m = 2*Math.PI*r_m;
    a_m2 = Math.PI*r_m*r_m;

    // Convert to selected output units
    const r_out = r_m / L2M[lenUnit];
    const d_out = d_m / L2M[lenUnit];
    const c_out = c_m / L2M[lenUnit];
    const a_out = a_m2 / A2M2[areaUnit];

    // Decimal strings
    els.outR.textContent = fmtDec(r_out, dp) + " " + lenUnit;
    els.outD.textContent = fmtDec(d_out, dp) + " " + lenUnit;
    els.outC.textContent = fmtDec(c_out, dp) + " " + lenUnit;
    els.outA.textContent = fmtDec(a_out, dp) + " " + areaUnit;

    // Exact strings (multiples of π where appropriate)
    const r_exact = `r = ${fmtDec(r_out, dp)}\\ ${lenUnit}`;
    const d_exact = `d = 2r`;
    const c_exact = `C = 2\\pi r`;
    const a_exact = `A = \\pi r^2`;

    // Render according to piMode
    function setExact(el, tex){
      if(piMode==="decimal"){ el.textContent = "exact: —"; return; }
      el.textContent = ""; // clear
      // Inline TeX using MathJax
      const span = document.createElement("span");
      span.innerHTML = `exact: \\( ${tex} \\)`;
      el.appendChild(span);
      if(window.MathJax && MathJax.typesetPromise){ MathJax.typesetPromise([el]); }
    }
    function maybeDecimal(el, text){
      if(piMode==="exact"){ el.textContent = "—"; }
      else el.textContent = text;
    }

    maybeDecimal(els.outR, fmtDec(r_out, dp) + " " + lenUnit);
    maybeDecimal(els.outD, fmtDec(d_out, dp) + " " + lenUnit);
    maybeDecimal(els.outC, fmtDec(c_out, dp) + " " + lenUnit);
    maybeDecimal(els.outA, fmtDec(a_out, dp) + " " + areaUnit);

    setExact(els.outRex, r_exact);
    setExact(els.outDex, d_exact);
    setExact(els.outCex, c_exact);
    setExact(els.outAex, a_exact);

    // Update diagram radius line length (simple visual scale)
    const svg = document.getElementById("circle-svg");
    if(svg){
      const cx=80, cy=80, baseR=60;
      // scale r to svg (cap to visible ring)
      const r_px = Math.max(8, Math.min(baseR, baseR*(r_out/(r_out+1))));
      const x2 = cx + r_px;
      const line = svg.querySelector("line");
      line.setAttribute("x2", String(x2));
    }
  }

  function onKnownChange(){
    // Toggle which unit selector is primary (only for guidance text; both are always shown to keep UX simple)
    // Optionally clear value
    els.value.value = "";
    resetOutputs();
    // Update aria-describedby to emphasize correct unit help
    if(els.known.value==="area"){
      $("value").setAttribute("aria-describedby","value-help value-err unit-tip prec-tip pi-tip");
    } else {
      $("value").setAttribute("aria-describedby","value-help value-err unit-tip prec-tip pi-tip");
    }
  }

  // Buttons
  els.computeBtn.addEventListener("click", (e)=>{ e.preventDefault(); compute(); });
  els.resetBtn.addEventListener("click", (e)=>{
    e.preventDefault();
    els.known.value="radius";
    els.value.value="";
    els.lengthUnit.value="cm";
    els.areaUnit.value="cm2";
    els.piMode.value="both";
    els.precision.value="4";
    resetOutputs();
  });

  // Recompute on changes (live but lightweight)
  ["known","lengthUnit","areaUnit","piMode","precision"].forEach(id=>{
    $(id).addEventListener("input", ()=>{ if(id==="known"){ onKnownChange(); } compute(); });
  });

  // Simple tooltip toggles (buttons adjacent to help paragraphs)
  document.querySelectorAll('button[aria-controls]').forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const id = btn.getAttribute("aria-controls");
      const panel = document.getElementById(id);
      const expanded = btn.getAttribute("aria-expanded")==="true";
      btn.setAttribute("aria-expanded", String(!expanded));
      panel.toggleAttribute("hidden");
    });
  });

  // Initialize
  resetOutputs();
})();
</script>
</body>
</html>
