<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Odds Calculator: Convert Betting & Probability Odds</title>
<meta name="description" content="Instantly convert any odds format—American, Decimal, Fractional, or Probability ('1 in X')—to see implied probability, percentages, and equivalents.">
<link rel="canonical" href="https://calcdomain.com/ods-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
font-size: 1.1rem;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Stili dei risultati */
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; font-weight: 500; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }

/* REQUISITI WCAG 2.1 AA E PRESTAZIONI:
  1. Stili di focus personalizzati e visibili (WCAG 2.4.7).
  2. Messaggi di errore.
  3. Stili per tooltip accessibili.
  4. Stile per l'asterisco dei campi obbligatori.
*/
*:focus-visible {
outline: 3px solid #3b82f6; /* Blue-600 */
outline-offset: 2px;
box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
border-radius: 4px;
}
*:focus:not(:focus-visible) {
outline: none;
box-shadow: none;
}
.error-message {
color: #dc2626; /* red-600 */
font-size: 0.875rem;
margin-top: 0.25rem;
}
.required-marker {
color: #dc2626;
font-weight: bold;
margin-left: 0.125rem;
}
.tooltip-btn {
display: inline-flex;
align-items: center;
justify-content: center;
width: 1.25rem; /* 20px */
height: 1.25rem; /* 20px */
border: 1px solid #9ca3af; /* gray-400 */
border-radius: 50%;
background: #f9fafb; /* gray-50 */
color: #6b7280; /* gray-500 */
font-weight: bold;
cursor: pointer;
margin-left: 0.25rem;
vertical-align: middle;
}
.tooltip-content {
display: none;
background: #1f2937; /* gray-800 */
color: #f9fafb; /* gray-50 */
padding: 0.5rem 0.75rem;
border-radius: 6px;
font-size: 0.875rem;
margin-top: 0.5rem;
position: relative;
width: 100%;
}
.tooltip-content[aria-hidden="false"] {
display: block;
}

/* Stampa */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
.no-print { display: none !important; }
}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Odds Calculator: Convert Betting & Probability Odds",
  "description": "Instantly convert any odds format—American, Decimal, Fractional, or Probability ('1 in X')—to see implied probability, percentages, and equivalents.",
  "url": "https://calcdomain.com/ods-calculator.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://calcdomain.com/logo.svg"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
    { "@type": "ListItem", "position": 2, "name": "Lifestyle Everyday", "item": "https://calcdomain.com/lifestyle-everyday.html" },
    { "@type": "ListItem", "position": 3, "name": "Miscellaneous", "item": "https://calcdomain.com/subcategories/lifestyle-everyday-miscellaneous.html" },
    { "@type": "ListItem", "position": 4, "name": "Odds Calculator", "item": "https://calcdomain.com/ods-calculator.html" }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Convert Odds",
  "description": "A step-by-step guide to converting any odds format into implied probability and other formats.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "1. Select Input Format",
      "text": "Choose the type of odds you are starting with from the dropdown menu (e.g., 'American', 'Fractional', 'Decimal')."
    },
    {
      "@type": "HowToStep",
      "name": "2. Enter Your Odds",
      "text": "Input your values into the fields that appear. For example, enter '-150' for American, '5/2' for Fractional, or '10' for '1 in 10' probability."
    },
    {
      "@type": "HowToStep",
      "name": "3. Review Instant Conversions",
      "text": "The calculator instantly updates, showing your odds converted into all other major formats, including the 'Implied Probability' percentage."
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is implied probability?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Implied probability is the likelihood of an outcome occurring as suggested by the odds. It converts any odds format into a simple percentage, making it easy to understand the 'chance' of an event."
      }
    },
    {
      "@type": "Question",
      "name": "How do American odds work (e.g., -110 vs +200)?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Negative odds (e.g., -110) show how much you must bet to profit $100. Positive odds (e.g., +200) show how much you will profit on a $100 bet. This calculator converts both to a 'fair odds' probability."
      }
    },
    {
      "@type": "Question",
      "name": "Do these calculations include the 'vig' or 'juice'?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No. This calculator converts odds to their 'fair' implied probability. The 'vig' (vigorish) or 'juice' is the fee a bookmaker charges, which is why the probabilities for all outcomes of an event often add up to more than 100%."
      }
    },
    {
      "@type": "Question",
      "name": "What do decimal odds represent?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Decimal odds (e.g., 3.50) represent the total amount you will receive for a winning 1-unit bet, including your original stake. A $10 bet at 3.50 odds would return $35 ($25 profit + $10 stake)."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between '1 in 5' probability and '4/1' fractional odds?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "They represent the same probability. A '1 in 5' chance (20%) means the event is expected to happen 1 time out of 5 total attempts. '4/1' (four-to-one) odds mean you are expected to lose 4 times for every 1 time you win (again, 1 win in 5 total attempts). This calculator shows this relationship clearly."
      }
    }
  ]
}
</script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm no-print">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off" disabled>
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4 no-print" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="lifestyle-everyday.html" class="hover:text-blue-600">Lifestyle Everyday</a> &raquo;
<a href="subcategories/lifestyle-everyday-miscellaneous.html" class="hover:text-blue-600">Miscellaneous</a> &raquo;
<span class="text-gray-900">Odds Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Odds Calculator</h1>
<p class="text-gray-600 mb-6">This universal odds conversion tool instantly translates any format—including American, Decimal, Fractional, and probability—into all other formats, including its implied probability. Use it to understand the true likelihood of an outcome.</p>

<section id="calculator-ui" aria-label="Odds Conversion Calculator">
<div class="space-y-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="inputType" class="block text-sm font-medium text-gray-700">1. Select Your Odds Format</label>
<select id="inputType"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
style="min-height: 48px;">
<option value="probability" selected>Probability (1 in X)</option>
<option value="percentage">Percentage (%)</option>
<option value="fractional">Fractional (e.g., 5/2)</option>
<option value="decimal">Decimal (e.g., 3.50)</option>
<option value="american">American (e.g., +250)</option>
</select>
</div>
</div>

<div>
<div id="prob-group" class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="probValue" class="block text-sm font-medium text-gray-700">
2. Enter 'X' (e.g., for 1 in 5, enter 5)<span class="required-marker">*</span>
</label>
<input type="number" id="probValue" value="5" step="0.01" min="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" style="min-height: 48px;">
<p id="prob-error" class="error-message" aria-live="polite"></p>
</div>
</div>

<div id="perc-group" class="grid grid-cols-1 md:grid-cols-2 gap-6" style="display: none;">
<div>
<label for="percValue" class="block text-sm font-medium text-gray-700">
2. Enter Percentage (%)<span class="required-marker">*</span>
</label>
<input type="number" id="percValue" value="20" step="0.01" min="0.0001" max="100"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" style="min-height: 48px;">
<p id="perc-error" class="error-message" aria-live="polite"></p>
</div>
</div>

<div id="frac-group" class="grid grid-cols-2 gap-6" style="display: none;">
<div>
<label for="fracNum" class="block text-sm font-medium text-gray-700">
2. Numerator (A)<span class="required-marker">*</span>
</label>
<input type="number" id="fracNum" value="4" step="1" min="0.01"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" style="min-height: 48px;">
</div>
<div>
<label for="fracDen" class="block text-sm font-medium text-gray-700">
3. Denominator (B)<span class="required-marker">*</span>
</label>
<input type="number" id="fracDen" value="1" step="1" min="0.01"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" style="min-height: 48px;">
</div>
<p id="frac-error" class="error-message col-span-2" aria-live="polite"></p>
</div>

<div id="dec-group" class="grid grid-cols-1 md:grid-cols-2 gap-6" style="display: none;">
<div>
<label for="decValue" class="block text-sm font-medium text-gray-700">
2. Enter Decimal Odds<span class="required-marker">*</span>
</label>
<input type="number" id="decValue" value="5.0" step="0.01" min="1.01"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="dec-tooltip" style="min-height: 48px;">
<div class="mt-1">
<button type="button" class="tooltip-btn" aria-expanded="false" aria-controls="dec-tooltip" aria-label="More info on decimal odds">?</button>
<span class="text-sm text-gray-600">Must be greater than 1.0</span>
</div>
<div id="dec-tooltip" role="tooltip" class="tooltip-content" aria-hidden="true">
Decimal odds represent the total payout (stake + profit). For example, a $10 bet at 3.50 odds returns $35 total.
</div>
<p id="dec-error" class="error-message" aria-live="polite"></p>
</div>
</div>

<div id="amer-group" class="grid grid-cols-1 md:grid-cols-2 gap-6" style="display: none;">
<div>
<label for="amerValue" class="block text-sm font-medium text-gray-700">
2. Enter American Odds<span class="required-marker">*</span>
</label>
<input type="number" id="amerValue" value="400" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="amer-tooltip" style="min-height: 48px;">
<div class="mt-1">
<button type="button" class="tooltip-btn" aria-expanded="false" aria-controls="amer-tooltip" aria-label="More info on American odds">?</button>
<span class="text-sm text-gray-600">e.g., +200 or -150</span>
</div>
<div id="amer-tooltip" role="tooltip" class="tooltip-content" aria-hidden="true">
Positive (+) odds show profit on a $100 bet. Negative (-) odds show stake needed to profit $100. Cannot be between -99 and +99.
</div>
<p id="amer-error" class="error-message" aria-live="polite"></p>
</div>
</div>
</div>

<div class="mt-6 flex gap-4">
<button type="button" id="resetButton" class="px-5 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500" style="min-height: 48px;">Reset</button>
</div>
</div>
</section>

<section id="results" aria-live="polite" aria-atomic="true" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" style="min-height: 200px;">
<h2 class="text-xl font-semibold text-gray-900 mb-4">Conversion Results</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
<div class="result-card">
<h4>Implied Probability</h4>
<p id="result-percentage">20.00%</p>
</div>
<div class="result-card">
<h4>Probability Odds</h4>
<p id="result-probability">1 in 5</p>
</div>
<div class="result-card">
<h4>Fractional Odds</h4>
<p id="result-fractional">4/1</p>
</div>
<div class="result-card">
<h4>Decimal Odds</h4>
<p id="result-decimal">5.00</p>
</div>
<div class="result-card">
<h4>American Odds</h4>
<p id="result-american">+400</p>
</div>
</div>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<h2>Data Source and Methodology</h2>
<p>This calculator is based on the fundamental principles of probability theory. It converts any given format into its core **implied probability** (the statistical likelihood of the outcome) and then uses that value to derive all other equivalent formats.</p>
<p>All calculations are strictly based on the standard mathematical formulas for probability conversion, ensuring unbiased and accurate results.</p>

<h2>The Formulas Explained</h2>
<p>All calculations are normalized by first finding the implied probability, $P$, as a decimal (e.g., 25% = 0.25). The following formulas are then used to convert $P$ into each odds format.</p>

<h3>1. From Probability to Other Formats</h3>
<div class="formula-box">
<p><strong>Implied Probability ($P$)</strong> = The core decimal value (e.g., 0.25)</p>
<p><strong>Percentage</strong> = $P \times 100\%$</p>
<p><strong>Probability (1 in X)</strong> = $X = \frac{1}{P}$</p>
<p><strong>Fractional Odds (A/B)</strong> = $\frac{A}{B} = \frac{1 - P}{P}$ (simplified to lowest terms)</p>
<p><strong>Decimal Odds</strong> = $\frac{1}{P}$</p>
</div>

<h3>2. American Odds Formulas</h3>
<p>American odds have two different formulas depending on whether the probability is greater or less than 50%.</p>
<div class="formula-box">
<p><strong>If $P < 0.5$ (Underdog/Positive Odds):</strong></p>
<p>$$American \ Odds = \left( \frac{100}{P} \right) - 100$$</p>
<p><em>Example: $P = 0.25 \rightarrow (\frac{100}{0.25}) - 100 = 400 - 100 = +300$</em></p>
<br>
<p><strong>If $P \ge 0.5$ (Favorite/Negative Odds):</strong></p>
<p>$$American \ Odds = - \left( \frac{P \times 100}{1 - P} \right)$$</p>
<p><em>Example: $P = 0.60 \rightarrow -(\frac{0.60 \times 100}{1 - 0.60}) = -(\frac{60}{0.40}) = -150$</em></p>
</div>

<h2>Glossary of Variables</h2>
<dl class="space-y-4">
<div>
<dt class="font-semibold">Implied Probability (%)</dt>
<dd class="pl-4">The most direct measure of likelihood. A 25% implied probability means the event is expected to happen 1 out of every 4 times.</dd>
</div>
<div>
<dt class="font-semibold">Probability (1 in X)</dt>
<dd class="pl-4">A common way to express probability. "1 in 5" means a 1-in-5 chance of winning, which is the same as a 20% implied probability.</dd>
</div>
<div>
<dt class="font-semibold">Fractional Odds (A/B)</dt>
<dd class="pl-4">Popular in the UK. Odds of '4/1' (four-to-one) mean you profit 4 units for every 1 unit staked. This represents a 1-in-5 chance of winning (1 win + 4 losses).</dd>
</div>
<div>
<dt class="font-semibold">Decimal Odds</dt>
<dd class="pl-4">Popular in Europe and Canada. Decimal odds represent the <strong>total payout</strong> (stake + profit). Odds of 5.00 mean a 1-unit bet returns 5 units (4 profit + 1 stake).</dd>
</div>
<div>
<dt class="font-semibold">American Odds (+/-)</dt>
<dd class="pl-4">The US standard.
<strong>Positive (+) odds</strong> (e.g., +400) show the profit on a $100 bet.
<strong>Negative (-) odds</strong> (e.g., -150) show the amount you must bet to profit $100.</dd>
</div>
</dl>

<h2>How it Works: A Step-by-Step Example</h2>
<p>Let's convert **4/1 Fractional Odds** into all other formats.</p>
<ol>
<li><strong>Find Implied Probability (P):</strong> The formula for fractional odds (A/B) is $P = \frac{B}{A + B}$.</li>
<li>With 4/1 odds, A=4 and B=1.</li>
<li>$P = \frac{1}{4 + 1} = \frac{1}{5} = 0.20$</li>
<li><strong>Convert P (0.20) to other formats:</strong>
<ul>
<li><strong>Percentage:</strong> $0.20 \times 100 = 20\%$</li>
<li><strong>Probability (1 in X):</strong> $X = \frac{1}{0.20} = 5$. The odds are **1 in 5**.</li>
<li><strong>Decimal Odds:</strong> $\frac{1}{0.20} = 5.00$</li>
<li><strong>American Odds:</strong> Since P (0.20) is less than 0.5, we use the positive odds formula:
$(\frac{100}{0.20}) - 100 = 500 - 100 = +400$</li>
</ul>
</li>
</ol>
<p><strong>Result:</strong> 4/1 odds are equivalent to +400, 5.00, a 1-in-5 chance, and a 20% implied probability.</p>

<h2>Frequently Asked Questions</h2>
<details>
<summary>What is implied probability?</summary>
<p>Implied probability is the likelihood of an outcome occurring as suggested by the odds. It converts any odds format into a simple percentage, making it easy to understand the 'chance' of an event.</p>
</details>
<details>
<summary>How do American odds work (e.g., -110 vs +200)?</summary>
<p>Negative odds (e.g., -110) show how much you must bet to profit $100. Positive odds (e.g., +200) show how much you will profit on a $100 bet. This calculator converts both to a 'fair odds' probability.</p>
</details>
<details>
<summary>Do these calculations include the 'vig' or 'juice'?</summary>
<p>No. This calculator converts odds to their 'fair' implied probability. The 'vig' (vigorish) or 'juice' is the fee a bookmaker charges, which is why the probabilities for all outcomes of an event often add up to more than 100%. This tool helps you see the true probability *before* the vig is applied.</p>
</details>
<details>
<summary>What do decimal odds represent?</summary>
<p>Decimal odds (e.g., 3.50) represent the total amount you will receive for a winning 1-unit bet, including your original stake. A $10 bet at 3.50 odds would return $35 ($25 profit + $10 stake).</p>
</details>
<details>
<summary>What is the difference between '1 in 5' probability and '4/1' fractional odds?</summary>
<p>They represent the same probability. A '1 in 5' chance (20%) means the event is expected to happen 1 time out of 5 total attempts. '4/1' (four-to-one) odds mean you are expected to lose 4 times for every 1 time you win (again, 1 win in 5 total attempts). This calculator shows this relationship clearly.</p>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong>
<br>Content verified by the CalcDomain Editorial Board.
</p>
<p>Last accuracy review: <time datetime="2025-10-26">October 26, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3 no-print">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Instantly convert any odds format to any other.</li>
<li>Understand the true implied probability of a bet.</li>
<li>Translate fractional, decimal, and American odds.</li>
<li>Check the "fair" chance before the bookmaker's 'vig'.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Probability Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="probability-calculator.html" class="text-blue-600 hover:underline">Probability Calculator</a></li>
<li><a href="percentage-calculator.html" class="text-blue-600 hover:underline">Percentage Calculator</a></li>
<li><a href="ratio-calculator.html" class="text-blue-600 hover:underline">Ratio Calculator</a></li>
<li><a href="expected-value-calculator.html" class="text-blue-600 hover:underline">Expected Value (EV) Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t no-print">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

  // --- 1. Riferimenti agli Elementi UI ---
  const ui = {
    inputType: document.getElementById('inputType'),
    // Gruppi di input
    probGroup: document.getElementById('prob-group'),
    percGroup: document.getElementById('perc-group'),
    fracGroup: document.getElementById('frac-group'),
    decGroup: document.getElementById('dec-group'),
    amerGroup: document.getElementById('amer-group'),
    // Campi di input
    probValue: document.getElementById('probValue'),
    percValue: document.getElementById('percValue'),
    fracNum: document.getElementById('fracNum'),
    fracDen: document.getElementById('fracDen'),
    decValue: document.getElementById('decValue'),
    amerValue: document.getElementById('amerValue'),
    // Messaggi di errore
    probError: document.getElementById('prob-error'),
    percError: document.getElementById('perc-error'),
    fracError: document.getElementById('frac-error'),
    decError: document.getElementById('dec-error'),
    amerError: document.getElementById('amer-error'),
    // Risultati
    resultPercentage: document.getElementById('result-percentage'),
    resultProbability: document.getElementById('result-probability'),
    resultFractional: document.getElementById('result-fractional'),
    resultDecimal: document.getElementById('result-decimal'),
    resultAmerican: document.getElementById('result-american'),
    // Pulsanti
    resetButton: document.getElementById('resetButton'),
    tooltipButtons: document.querySelectorAll('.tooltip-btn'),
    // Menu Mobile
    mobileMenuToggle: document.getElementById('mobile-menu-toggle'),
    mobileMenu: document.getElementById('mobile-menu')
  };

  const inputGroups = {
    'probability': ui.probGroup,
    'percentage': ui.percGroup,
    'fractional': ui.fracGroup,
    'decimal': ui.decGroup,
    'american': ui.amerGroup
  };

  const defaultValues = {
    probValue: 5,
    percValue: 20,
    fracNum: 4,
    fracDen: 1,
    decValue: 5.0,
    amerValue: 400
  };

  // --- 2. Logica di Gestione UI ---

  /**
   * Mostra il gruppo di input corretto e nasconde gli altri.
   */
  function updateInputUI() {
    const selectedType = ui.inputType.value;
    for (const type in inputGroups) {
      inputGroups[type].style.display = (type === selectedType) ? '' : 'none';
    }
    clearAllErrors();
    runCalculation();
  }

  /**
   * Pulisce tutti i messaggi di errore e gli stati 'aria-invalid'.
   */
  function clearAllErrors() {
    const errorMessages = [ui.probError, ui.percError, ui.fracError, ui.decError, ui.amerError];
    const inputs = [ui.probValue, ui.percValue, ui.fracNum, ui.fracDen, ui.decValue, ui.amerValue];
    
    errorMessages.forEach(el => { el.textContent = ''; });
    inputs.forEach(el => { el.setAttribute('aria-invalid', 'false'); });
  }

  /**
   * Mostra un messaggio di errore per un campo specifico.
   * @param {HTMLElement} inputEl - L'elemento input.
   * @param {HTMLElement} errorEl - L'elemento per il messaggio di errore.
   * @param {string} message - Il messaggio da mostrare.
   */
  function displayError(inputEl, errorEl, message) {
    errorEl.textContent = message;
    inputEl.setAttribute('aria-invalid', 'true');
    // Se è un gruppo (frazionarie), applica a entrambi gli input
    if (inputEl === ui.fracNum) {
      ui.fracDen.setAttribute('aria-invalid', 'true');
    }
  }
  
  /**
   * Resetta tutti i campi ai loro valori di default.
   */
  function resetCalculator() {
    ui.inputType.value = 'probability';
    ui.probValue.value = defaultValues.probValue;
    ui.percValue.value = defaultValues.percValue;
    ui.fracNum.value = defaultValues.fracNum;
    ui.fracDen.value = defaultValues.fracDen;
    ui.decValue.value = defaultValues.decValue;
    ui.amerValue.value = defaultValues.amerValue;
    updateInputUI();
  }

  // --- 3. Logica di Calcolo Core ---

  /**
   * Calcola il Massimo Comun Divisore (MCD) per semplificare le frazioni.
   */
  function gcd(a, b) {
    return b === 0 ? a : gcd(b, a % b);
  }

  /**
   * Converte un decimale in una frazione semplificata.
   * @param {number} decimal - Il valore decimale.
   * @returns {{num: number, den: number}} - Numeratore e denominatore.
   */
  function decimalToFraction(decimal) {
    if (decimal === 1) return { num: 1, den: 1 };
    if (decimal === 0) return { num: 0, den: 1 };
    
    // Gestisce numeri con molte cifre decimali
    const tolerance = 1.0E-9;
    let h1 = 1, h2 = 0, k1 = 0, k2 = 1;
    let b = decimal;
    do {
        let a = Math.floor(b);
        let aux = h1; h1 = a * h1 + h2; h2 = aux;
        aux = k1; k1 = a * k1 + k2; k2 = aux;
        b = 1 / (b - a);
    } while (Math.abs(decimal - h1 / k1) > decimal * tolerance);

    return { num: h1, den: k1 };
  }

  /**
   * Esegue l'intero ciclo di calcolo: Parse -> Validate -> Calculate -> Update.
   */
  function runCalculation() {
    clearAllErrors();
    const P = parseAndValidateInput();

    if (P === null) {
      // Se l'input non è valido, non calcolare
      updateResultsUI(null);
      return;
    }

    const results = calculateAllFormats(P);
    updateResultsUI(results);
  }

  /**
   * Legge l'input attivo, lo valida e restituisce la probabilità implicita (P).
   * @returns {number|null} La probabilità implicita (0-1) o null se non valida.
   */
  function parseAndValidateInput() {
    const type = ui.inputType.value;
    let P = null;
    let val, num, den;

    try {
      switch (type) {
        case 'probability':
          val = parseFloat(ui.probValue.value);
          if (isNaN(val) || val < 1) {
            displayError(ui.probValue, ui.probError, 'Value must be 1 or greater.');
            return null;
          }
          P = 1 / val;
          break;

        case 'percentage':
          val = parseFloat(ui.percValue.value);
          if (isNaN(val) || val <= 0 || val > 100) {
            displayError(ui.percValue, ui.percError, 'Percentage must be between 0.01 and 100.');
            return null;
          }
          P = val / 100;
          break;

        case 'fractional':
          num = parseFloat(ui.fracNum.value);
          den = parseFloat(ui.fracDen.value);
          if (isNaN(num) || isNaN(den) || num <= 0 || den <= 0) {
            displayError(ui.fracNum, ui.fracError, 'Numerator and denominator must be positive numbers.');
            return null;
          }
          P = den / (num + den);
          break;

        case 'decimal':
          val = parseFloat(ui.decValue.value);
          if (isNaN(val) || val < 1.01) {
            displayError(ui.decValue, ui.decError, 'Decimal odds must be greater than 1.0.');
            return null;
          }
          P = 1 / val;
          break;

        case 'american':
          val = parseFloat(ui.amerValue.value);
          if (isNaN(val) || (val > -100 && val < 100)) {
            displayError(ui.amerValue, ui.amerError, 'American odds must be +100 or greater, or -100 or less.');
            return null;
          }
          if (val >= 100) {
            P = 100 / (val + 100);
          } else {
            P = (-val) / ((-val) + 100);
          }
          break;
      }
      
      if (P < 0.000001) P = 0.000001; // Previene divisioni per zero
      if (P > 0.999999) P = 0.999999; // Previene divisioni per zero

      return P;

    } catch (e) {
      console.error("Calculation error: ", e);
      return null;
    }
  }

  /**
   * Converte la probabilità implicita (P) in tutti gli altri formati.
   * @param {number} P - Probabilità implicita (0-1).
   * @returns {object|null} Un oggetto con tutti i formati calcolati.
   */
  function calculateAllFormats(P) {
    if (P === null) return null;

    // 1. Percentuale
    const percentage = P * 100;

    // 2. Probabilità (1 in X)
    const probX = 1 / P;

    // 3. Frazionarie
    const fracVal = (1 - P) / P;
    const fraction = decimalToFraction(fracVal);
    const fractional = `${Math.round(fraction.num)}/${Math.round(fraction.den)}`;

    // 4. Decimali
    const decimal = 1 / P;

    // 5. Americane
    let american;
    if (P < 0.5) {
      american = (100 / P) - 100;
      american = `+${american.toFixed(0)}`;
    } else {
      american = (-P) / (1 - P) * 100;
      american = american.toFixed(0);
    }
    
    // Gestisce il caso limite di P=0.5 (even odds)
    if (P === 0.5) american = "+100";

    return {
      percentage: percentage.toFixed(2) + '%',
      probability: `1 in ${probX.toFixed(2)}`,
      fractional: fractional,
      decimal: decimal.toFixed(2),
      american: american
    };
  }

  /**
   * Aggiorna l'area dei risultati con i nuovi valori.
   * @param {object|null} results - Oggetto risultati da calculateAllFormats.
   */
  function updateResultsUI(results) {
    if (results === null) {
      // Se l'input non è valido, svuota i risultati
      const placeholder = '—';
      ui.resultPercentage.textContent = placeholder;
      ui.resultProbability.textContent = placeholder;
      ui.resultFractional.textContent = placeholder;
      ui.resultDecimal.textContent = placeholder;
      ui.resultAmerican.textContent = placeholder;
      return;
    }

    ui.resultPercentage.textContent = results.percentage;
    ui.resultProbability.textContent = results.probability;
    ui.resultFractional.textContent = results.fractional;
    ui.resultDecimal.textContent = results.decimal;
    ui.resultAmerican.textContent = results.american;
  }

  // --- 4. Accessibilità e Handler Eventi ---

  /**
   * Gestisce il toggle dei tooltip accessibili.
   */
  function toggleTooltip(event) {
    const button = event.currentTarget;
    const tooltipId = button.getAttribute('aria-controls');
    const tooltip = document.getElementById(tooltipId);
    
    if (!tooltip) return;

    const isExpanded = button.getAttribute('aria-expanded') === 'true';
    button.setAttribute('aria-expanded', !isExpanded);
    tooltip.setAttribute('aria-hidden', isExpanded);
  }

  /**
   * Gestisce il toggle del menu mobile.
   */
  function toggleMobileMenu() {
    const isHidden = ui.mobileMenu.classList.contains('hidden');
    ui.mobileMenu.classList.toggle('hidden', !isHidden);
    ui.mobileMenuToggle.setAttribute('aria-expanded', isHidden);
  }

  // --- 5. Registrazione Eventi ---

  // Logica principale del calcolatore
  ui.inputType.addEventListener('change', updateInputUI);
  [ui.probValue, ui.percValue, ui.fracNum, ui.fracDen, ui.decValue, ui.amerValue].forEach(input => {
    input.addEventListener('input', runCalculation);
  });
  ui.resetButton.addEventListener('click', resetCalculator);

  // Accessibilità (Tooltip)
  ui.tooltipButtons.forEach(button => {
    button.addEventListener('click', toggleTooltip);
  });

  // Template (Menu Mobile)
  if (ui.mobileMenuToggle && ui.mobileMenu) {
    ui.mobileMenuToggle.addEventListener('click', toggleMobileMenu);
  }

  // --- 6. Inizializzazione ---
  updateInputUI(); // Esegue il calcolo al caricamento della pagina
});
</script>
</body>
</html>