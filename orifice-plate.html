<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/orifice-plate.html">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orifice Plate Flow Calculator - ISO 5167 Standard</title>
<meta name="description" content="Calculate fluid flow rate (liquids & gases) through an orifice plate based on ISO 5167. Enter pressure drop, density, and diameters to get mass and volumetric flow.">

<meta name="author" content="Ugo Candido">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558fYv3eWK7go8HWaISdGfZ9u/IqR55LILGmgEMpGUFJGuRhLVnCALiB" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTadBVOjsjMZEJfaFGxaAPfW5dAiMgOkVKG8M4HNTs4LfsKNnxKNOTSBi8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/Gf1ESgqCntTwubN/bRgrLqtWplvT1lP4GrZot6rGGDg/F9Jv" crossorigin="anonymous"></script>

<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.25rem;
overflow-x:auto; text-align: center; font-size: 1.1rem;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Stili del Calcolatore e Risultati (Conformi WCAG) */
.form-label {
display: block;
text-sm;
font-weight: 500;
color: #374151; /* gray-700 */
margin-bottom: 0.25rem;
}
.form-input {
display: block;
width: 100%;
padding: 0.75rem 0.75rem; /* 48px target-size */
border: 1px solid #d1d5db; /* gray-300 */
border-radius: 0.375rem;
box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}
.form-input-group {
display: flex;
}
.form-input-group .form-input {
border-top-right-radius: 0;
border-bottom-right-radius: 0;
flex-grow: 1;
}
.form-input-group select {
border-top-left-radius: 0;
border-bottom-left-radius: 0;
border-left: 0;
background-color: #f9fafb; /* gray-50 */
}
.form-input:focus, .form-input-group select:focus {
outline: 2px solid transparent;
outline-offset: 2px;
border-color: #2563eb; /* blue-600 */
box-shadow: 0 0 0 2px #2563eb;
z-index: 10;
}
.required-marker {
color: #ef4444; /* red-500 */
margin-left: 0.25rem;
}
.error-message {
color: #dc2626; /* red-600 */
font-size: 0.875rem;
margin-top: 0.5rem;
min-height: 1.25rem; /* Previene CLS */
}
.tap-target {
min-height: 48px;
min-width: 48px;
display: inline-flex;
align-items: center;
justify-content: center;
padding-left: 1.5rem;
padding-right: 1.5rem;
}

/* Stile Focus Visibile Personalizzato (WCAG 2.4.7) */
:focus-visible {
outline: 3px solid #3b82f6; /* blue-500 */
outline-offset: 2px;
border-radius: 4px;
}
:focus:not(:focus-visible) {
outline: none;
}

/* Stili Risultati (Contrasto Corretto) */
.result-card {
background: #fff;
border: 1px solid #e5e7eb; /* gray-200 */
border-radius: 10px;
padding: 1rem 1.25rem;
text-align: center;
}
.result-card h4 {
font-size: 0.9rem;
font-weight: 500;
color: #4b5563; /* gray-600 */
margin-bottom: 0.25rem;
text-transform: uppercase;
letter-spacing: 0.05em;
}
.result-card p {
font-size: 1.5rem;
font-weight: 700;
color: #1f2937; /* gray-800 */
}
.result-card .unit {
font-size: 1rem;
font-weight: 500;
color: #374151;
margin-left: 0.25rem;
}

/* Stili Tab (A11y) */
[role="tab"] {
cursor: pointer;
padding: 0.75rem 1.25rem;
border-bottom: 3px solid transparent;
font-size: 1rem;
font-weight: 500;
}
[role="tab"][aria-selected="true"] {
border-bottom-color: #2563eb; /* blue-600 */
color: #2563eb;
font-weight: 600;
}
[role="tabpanel"] {
border-top: 1px solid #d1d5db;
padding-top: 1.5rem;
}

/* Stili Tooltip (A11y) */
.tooltip-btn {
background: none;
border: none;
padding: 0.25rem;
border-radius: 9999px;
color: #6b7280;
}
.tooltip-btn:hover { color: #111827; }
.tooltip-text {
display: none;
background-color: #1f2937;
color: white;
padding: 0.5rem 0.75rem;
border-radius: 6px;
font-size: 0.875rem;
margin-top: 0.5rem;
position: relative;
}
.tooltip-text[aria-hidden="false"] {
display: block;
}

/* Stili Stampa */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Orifice Plate Flow Calculator - ISO 5167 Standard",
"description": "Calculate fluid flow rate (liquids & gases) through an orifice plate based on ISO 5167. Enter pressure drop, density, and diameters to get mass and volumetric flow.",
"url": "https://calcdomain.com/orifice-plate.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Engineering",
      "item": "https://calcdomain.com/engineering.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Orifice Plate Flow Calculator",
      "item": "https://calcdomain.com/orifice-plate.html"
    }
  ]
}</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Calculate Flow Rate with an Orifice Plate",
"description": "A step-by-step guide to calculating fluid flow rate using an orifice plate based on ISO 5167.",
"step": [
{"@type": "HowToStep", "name": "Select Fluid Type", "text": "Choose whether you are calculating for a Liquid (incompressible) or a Gas/Vapor (compressible)."},
{"@type": "HowToStep", "name": "Enter Geometry", "text": "Input the Orifice Diameter (d) and the internal Pipe Diameter (D) using consistent units."},
{"@type": "HowToStep", "name": "Enter Fluid Properties", "text": "Input the Differential Pressure (ΔP) across the plate and the fluid's upstream Density (ρ₁)."},
{"@type": "HowToStep", "name": "Enter Gas-Specific Data", "text": "If calculating for a gas, you must also provide the Upstream Pressure (P₁), the Specific Heat Ratio (κ), and a Discharge Coefficient (C_d)."},
{"@type": "HowToStep", "name": "Enter Liquid-Specific Data", "text": "If calculating for a liquid, provide the Discharge Coefficient (C_d). A typical value is 0.61."},
{"@type": "HowToStep", "name": "Review Results", "text": "The calculator instantly provides the Mass Flow Rate (Q_m) and Volumetric Flow Rate (Q_v), along with intermediate values like the Beta Ratio (β) and Expansibility Factor (Y)."}
]
}
</script>
<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-700">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-700">Advanced Search</a>
Categories
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-700">Advanced Search</a>
Categories
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
<a href="engineering.html" class="hover:text-blue-700">Engineering</a> &raquo;
Mechanical (Fluid Mechanics) &raquo;
<span class="text-gray-900">Orifice Plate Flow Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Orifice Plate Flow Calculator</h1>
<p class="text-gray-600 mb-6">Calculate the mass flow rate ($Q_m$) and volumetric flow rate ($Q_v$) for liquids and gases passing through an orifice plate. This tool implements the formulas from the ISO 5167 standard. Ideal for engineers and technicians sizing or verifying differential pressure flow meters.</p>

<form id="orifice-calculator" onsubmit="return false;">

<div class="mb-4 border-b border-gray-200">
<div role="tablist" aria-label="Fluid Type" class="flex">
<button type="button" role="tab" aria-selected="true" id="tab-liquid" aria-controls="panel-liquid">
Liquid Flow
</button>
<button type="button" role="tab" aria-selected="false" id="tab-gas" aria-controls="panel-gas">
Gas / Vapor Flow
</button>
</div>
</div>

<section id="calculator-ui" class="space-y-6">

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="orificeDiameter" class="form-label">
Orifice Diameter ($d$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="orificeDiameter" value="50" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="orificeDiameter-error">
<select id="diameterUnit" class="form-input" aria-label="Diameter unit">
<option value="mm">mm</option>
<option value="cm">cm</option>
<option value="in">in</option>
<option value="m">m</option>
<option value="ft">ft</option>
</select>
</div>
<div id="orificeDiameter-error" class="error-message" role="alert"></div>
</div>

<div>
<label for="pipeDiameter" class="form-label">
Pipe Diameter ($D$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="pipeDiameter" value="100" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="pipeDiameter-error">
</div>
<div id="pipeDiameter-error" class="error-message" role="alert"></div>
</div>

<div>
<label for="pressureDrop" class="form-label">
Differential Pressure ($\Delta P$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="pressureDrop" value="25" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="pressureDrop-error">
<select id="pressureUnit" class="form-input" aria-label="Pressure unit">
<option value="kPa">kPa</option>
<option value="Pa">Pa</option>
<option value="bar">bar</option>
<option value="psi">psi</option>
</select>
</div>
<div id="pressureDrop-error" class="error-message" role="alert"></div>
</div>
</div>

<div role="tabpanel" id="panel-liquid" tabindex="0" class="space-y-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="liquidDensity" class="form-label">
Fluid Density ($\rho$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="liquidDensity" value="998" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="liquidDensity-error">
<select id="liquidDensityUnit" class="form-input" aria-label="Liquid density unit">
<option value="kg/m³">kg/m³</option>
<option value="lb/ft³">lb/ft³</option>
</select>
</div>
<div id="liquidDensity-error" class="error-message" role="alert"></div>
</div>

<div>
<div class="flex items-center space-x-1">
<label for="dischargeCoeff" class="form-label">
Discharge Coefficient ($C_d$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<button type="button" id="cd-tooltip-btn" class="tooltip-btn" aria-label="More info about Discharge Coefficient" aria-expanded="false" aria-controls="cd-tooltip-text">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.06-1.061 3.5 3.5 0 014.12 4.122A.75.75 0 0110.82 10a2 2 0 10-2.298 1.75a.75.75 0 01-1.496-.068 3.5 3.5 0 014.12-4.122zM10 12.25a.75.75 0 01.75.75v.008a.75.75 0 01-1.5 0V13a.75.75 0 01.75-.75z" clip-rule="evenodd" />
</svg>
</button>
</div>
<input type="number" id="dischargeCoeff" value="0.61" step="any" min="0.1" max="1"
class="form-input"
aria-required="true"
aria-describedby="dischargeCoeff-error cd-tooltip-text">
<div id="dischargeCoeff-error" class="error-message" role="alert"></div>
<div id="cd-tooltip-text" role="tooltip" class="tooltip-text" aria-hidden="true">
A value of ~0.61 is typical for sharp-edged orifices with $Re > 10^4$. Use manufacturer-specific data if available.
</div>
</div>
</div>
</div>

<div role="tabpanel" id="panel-gas" tabindex="0" class="hidden space-y-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="gasDensity" class="form-label">
Upstream Density ($\rho_1$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="gasDensity" value="1.225" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="gasDensity-error">
<select id="gasDensityUnit" class="form-input" aria-label="Gas density unit">
<option value="kg/m³">kg/m³</option>
<option value="lb/ft³">lb/ft³</option>
</select>
</div>
<div id="gasDensity-error" class="error-message" role="alert"></div>
</div>

<div>
<label for="upstreamPressure" class="form-label">
Upstream Pressure ($P_1$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="upstreamPressure" value="101.325" step="any" min="0.0001"
class="form-input"
aria-required="true"
aria-describedby="upstreamPressure-error">
<select id="upstreamPressureUnit" class="form-input" aria-label="Upstream pressure unit">
<option value="kPa">kPa</option>
<option value="Pa">Pa</option>
<option value="bar">bar</option>
<option value="psi">psi</option>
</select>
</div>
<div id="upstreamPressure-error" class="error-message" role="alert"></div>
</div>

<div>
<label for="specificHeatRatio" class="form-label">
Specific Heat Ratio ($\kappa$ or $\gamma$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<input type="number" id="specificHeatRatio" value="1.4" step="any" min="1"
class="form-input"
aria-required="true"
aria-describedby="specificHeatRatio-error">
<div id="specificHeatRatio-error" class="error-message" role="alert"></div>
</div>

<div>
<div class="flex items-center space-x-1">
<label for="dischargeCoeffGas" class="form-label">
Discharge Coefficient ($C_d$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<button type="button" id="cd-gas-tooltip-btn" class="tooltip-btn" aria-label="More info about Discharge Coefficient" aria-expanded="false" aria-controls="cd-gas-tooltip-text">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.06-1.061 3.5 3.5 0 014.12 4.122A.75.75 0 0110.82 10a2 2 0 10-2.298 1.75a.75.75 0 01-1.496-.068 3.5 3.5 0 014.12-4.122zM10 12.25a.75.75 0 01.75.75v.008a.75.75 0 01-1.5 0V13a.75.75 0 01.75-.75z" clip-rule="evenodd" />
</svg>
</button>
</div>
<input type="number" id="dischargeCoeffGas" value="0.61" step="any" min="0.1" max="1"
class="form-input"
aria-required="true"
aria-describedby="dischargeCoeffGas-error cd-gas-tooltip-text">
<div id="dischargeCoeffGas-error" class="error-message" role="alert"></div>
<div id="cd-gas-tooltip-text" role="tooltip" class="tooltip-text" aria-hidden="true">
A value of ~0.61 is typical. For gases, $C_d$ is also a function of Reynolds number and $\beta$. Use manufacturer data.
</div>
</div>
</div>
</div>

<div class="flex space-x-4 mt-6">
<button type="button" id="reset-btn" class="tap-target px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 ring-offset-2">Reset</button>
</div>

</section>
</form>

<section id="results" class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6" style="min-height: 320px;" aria-labelledby="results-heading">
<h3 id="results-heading" class="text-xl font-semibold text-gray-800 mb-4 text-center">Flow Rate Results</h3>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div class="result-card bg-blue-100 border-blue-200 shadow-sm">
<h4 class="text-blue-800">Mass Flow Rate ($Q_m$)</h4>
<p id="mass-flow-result" class="text-blue-700 text-3xl font-bold">
— <span class="unit" id="mass-flow-unit">kg/s</span>
</p>
</div>

<div class="result-card bg-blue-100 border-blue-200 shadow-sm">
<h4 class="text-blue-800">Volumetric Flow ($Q_v$)</h4>
<p id="volumetric-flow-result" class="text-blue-700 text-3xl font-bold">
— <span class="unit" id="volumetric-flow-unit">m³/s</span>
</p>
</div>
</div>

<h4 class="font-semibold text-gray-700 mt-6 mb-3 text-center">Intermediate Values</h4>
<div id="conversions-container" class="grid grid-cols-1 sm:grid-cols-2 gap-3" aria-live="polite">
<div class="result-card">
<h4>Beta Ratio ($\beta$)</h4>
<p id="beta-ratio-result">—</p>
</div>
<div class="result-card" id="expansibility-card">
<h4>Expansibility ($Y$)</h4>
<p id="expansibility-result">—</p>
</div>
</div>
</section>
</div>

<article class="bg-white p-6 md:p-8 rounded-lg shadow-md mt-8 prose prose-blue">
<h2 id="methodology">Data Source & Methodology</h2>
<p>This calculator provides a determination of mass and volumetric flow rate for fluids and gases based on the principles of differential pressure measurement. The calculations are rigorously based on the international standard:</p>
<ul>
<li><strong>Authoritative Source:</strong> International Organization for Standardization (ISO)</li>
<li><strong>Reference:</strong> <a href="https://www.iso.org/standard/29595.html" target="_blank" rel="noopener">ISO 5167-2:2003</a>, "Measurement of fluid flow by means of pressure differential devices inserted in circular cross-section conduits running full - Part 2: Orifice plates".</li>
</ul>
<p>All calculations are based strictly on the formulas and data provided by this source. The tool calculates for turbulent flow where the Reynolds number ($Re$) is sufficiently high.</p>

<h2 id="formula">The Formulas Explained</h2>

<p>The fundamental equation for calculating mass flow rate ($Q_m$) through an orifice plate is:</p>
<div class="formula-box" role="math" aria-label="Mass flow rate formula">
$$ Q_m = \frac{C_d}{\sqrt{1-\beta^4}} \cdot Y \cdot \frac{\pi}{4} d^2 \sqrt{2 \cdot \Delta P \cdot \rho_1} $$
</div>

<h3 id="key-components">Key Components of the Equation</h3>
<p><strong>1. Beta Ratio ($\beta$):</strong> The ratio of the orifice diameter ($d$) to the pipe diameter ($D$).</p>
<div class="formula-box" role="math" aria-label="Beta ratio formula">
$$ \beta = \frac{d}{D} $$
</div>

<p><strong>2. Incompressible Flow (Liquids):</strong> For liquids, the density is constant, so the <strong>Expansibility Factor ($Y$) is equal to 1</strong>. The formula simplifies to:</p>
<div class="formula-box" role="math" aria-label="Liquid flow rate formula">
$$ Q_m = \frac{C_d}{\sqrt{1-\beta^4}} \cdot \frac{\pi}{4} d^2 \sqrt{2 \cdot \Delta P \cdot \rho} $$
</div>

<p><strong>3. Compressible Flow (Gases):</strong> For gases, the fluid expands and its density changes as it passes through the orifice. The <strong>Expansibility Factor ($Y$)</strong> accounts for this. This calculator uses the empirical formula for $Y$ (Reader-Harris/Stolz equation as per ISO 5167):</p>
<div class="formula-box" role="math" aria-label="Expansibility factor formula">
$$ Y = 1 - (0.41 + 0.35\beta^4) \frac{x_T}{\kappa} $$
<p class="text-sm mt-2">where $x_T = \frac{\Delta P}{P_1}$ is the pressure ratio and $\kappa$ is the specific heat ratio.</p>
</div>

<p><strong>4. Volumetric Flow Rate ($Q_v$):</strong> This is found by dividing the mass flow rate by the fluid density at upstream conditions ($\rho_1$).</p>
<div class="formula-box" role="math" aria-label="Volumetric flow rate formula">
$$ Q_v = \frac{Q_m}{\rho_1} $$
</div>


<h2 id="variables">Glossary of Variables</h2>
<ul class="list-disc list-inside">
<li><strong>$Q_m$ (Mass Flow Rate):</strong> The mass of fluid passing through the orifice per unit of time (e.g., kg/s).</li>
<li><strong>$Q_v$ (Volumetric Flow Rate):</strong> The volume of fluid passing through the orifice per unit of time (e.g., m³/s).</li>
<li><strong>$d$ (Orifice Diameter):</strong> The internal diameter of the orifice hole, in meters (m).</li>
<li><strong>$D$ (Pipe Diameter):</strong> The internal diameter of the pipe, in meters (m).</li>
<li><strong>$\Delta P$ (Differential Pressure):</strong> The pressure drop between the upstream ($P_1$) and downstream ($P_2$) taps, in Pascals (Pa).</li>
<li><strong>$\rho_1$ (Upstream Density):</strong> The density of the fluid before the orifice plate, in kg/m³.</li>
<li><strong>$P_1$ (Upstream Pressure):</strong> The absolute static pressure of the fluid before the plate (Required for gases), in Pascals (Pa).</li>
<li><strong>$C_d$ (Discharge Coefficient):</strong> A unitless value that accounts for friction and non-ideal flow. It is determined empirically and is often ~0.61 for sharp-edged plates.</li>
<li><strong>$\beta$ (Beta Ratio):</strong> The unitless ratio $d/D$.</li>
<li><strong>$Y$ (Expansibility Factor):</strong> A unitless factor that accounts for the expansion of compressible fluids (gases). $Y=1$ for liquids.</li>
<li><strong>$\kappa$ (Specific Heat Ratio):</strong> A unitless property of a gas, also known as the isentropic exponent $\gamma$. (e.g., ~1.4 for air, ~1.33 for steam).</li>
</ul>

<h2 id="example">How It Works: A Step-by-Step Example (Liquid)</h2>
<p>Let's calculate the flow rate of water through a 100mm pipe with a 50mm orifice plate.</p>
<ul>
<li><strong>Fluid Type:</strong> Liquid (Water)</li>
<li><strong>Orifice Diameter ($d$):</strong> 50 mm = $0.05 \text{ m}$</li>
<li><strong>Pipe Diameter ($D$):</strong> 100 mm = $0.1 \text{ m}$</li>
<li><strong>Differential Pressure ($\Delta P$):</strong> 25 kPa = $25000 \text{ Pa}$</li>
<li><strong>Fluid Density ($\rho$):</strong> 998 kg/m³ (water at 20°C)</li>
<li><strong>Discharge Coefficient ($C_d$):</strong> 0.61</li>
</ul>
<ol class="list-decimal list-inside">
<li><strong>Calculate Beta Ratio ($\beta$):</strong>
<br> $\beta = d / D = 0.05 \text{ m} / 0.1 \text{ m} = 0.5$</li>
<li><strong>Calculate Orifice Area ($A_d$):</strong>
<br> $A_d = (\pi/4) \cdot d^2 = (\pi/4) \cdot (0.05)^2 = 0.001963 \text{ m}^2$</li>
<li><strong>Calculate Velocity Term:</strong>
<br> $1 / \sqrt{1 - \beta^4} = 1 / \sqrt{1 - 0.5^4} = 1 / \sqrt{1 - 0.0625} = 1.0328$</li>
<li><strong>Calculate Mass Flow ($Q_m$):</strong>
<br> For liquids, $Y=1$.
<br> $Q_m = C_d \cdot (1 / \sqrt{1 - \beta^4}) \cdot A_d \cdot \sqrt{2 \cdot \Delta P \cdot \rho}$
<br> $Q_m = 0.61 \cdot 1.0328 \cdot 0.001963 \cdot \sqrt{2 \cdot 25000 \cdot 998}$
<br> $Q_m = 0.001235 \cdot \sqrt{49,900,000} \approx 0.001235 \cdot 7064$
<br> <strong>$Q_m \approx 8.72 \text{ kg/s}$</strong></li>
<li><strong>Calculate Volumetric Flow ($Q_v$):</strong>
<br> $Q_v = Q_m / \rho = 8.72 \text{ kg/s} / 998 \text{ kg/m}^3$
<br> <strong>$Q_v \approx 0.00874 \text{ m}^3/\text{s}$</strong></li>
</ol>

<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What is the Discharge Coefficient ($C_d$) and how do I find it?</summary>
<p>The $C_d$ is an efficiency factor. It corrects the theoretical flow rate for real-world energy losses due to friction and turbulence. A value of 0.61 is a common approximation for sharp-edged orifices, but the true value depends on the Reynolds number ($Re$) and Beta Ratio ($\beta$). For high-accuracy work, you must use the Reader-Harris/Stolz equation (defined in ISO 5167) or use the value provided by your orifice plate manufacturer.</p>
</details>
<details>
<summary>Why is the Beta Ratio ($\beta$) important?</summary>
<p>The Beta Ratio is critical. ISO 5167 specifies that its calculations are only valid for $0.1 \le \beta \le 0.75$. Outside this range, measurement uncertainty increases significantly. A very small $\beta$ creates a large, permanent pressure loss, while a very large $\beta$ creates a small, difficult-to-measure differential pressure.</p>
</details>
<details>
<summary>What's the difference between mass flow and volumetric flow?</summary>
<p><strong>Mass Flow ($Q_m$)</strong> is the mass of a substance passing a point per unit time (e.g., kg/s). It is independent of temperature and pressure changes. <strong>Volumetric Flow ($Q_v$)</strong> is the volume passing per unit time (e.g., m³/s). For gases, this value changes dramatically with pressure and temperature. Therefore, mass flow is the standard for gas measurement.</p>
</details>
<details>
<summary>Why is the Expansibility Factor ($Y$) needed for gases but not liquids?</summary>
<p>Liquids are considered incompressible, meaning their density ($\rho$) does not change when pressure changes. Gases are compressible. As a gas approaches the orifice, its pressure drops and it expands, causing its density to decrease. The $Y$ factor (which is always $\le 1$) corrects for this change in density, which is not accounted for in the basic Bernoulli equation.</p>
</details>
<details>
<summary>When should I *not* use this calculator?</summary>
<p>This calculator is for single-phase, Newtonian fluids in a full, circular pipe. Do not use it for:
<ul>
<li><strong>Multi-phase flow</strong> (e.g., liquid and gas mixed, or liquid with suspended solids).</li>
<li><strong>Non-Newtonian fluids</strong> (e.g., slurries, gels, polymers).</li>
<li><strong>Laminar flow</strong> (very low Reynolds number, $Re < 4000$). This tool assumes turbulent flow.</li>
<li><strong>Choked flow</strong> (when gas velocity reaches the speed of sound, though a basic correction is applied).</li>
</ul>
</p>
</details>

<div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong>
<br>Engineering content reviewed by the CalcDomain Editorial Board for ISO 5167 compliance.
<br>Last accuracy review: <time datetime="2025-11-03">November 3, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Calculates flow for both **liquids and gases**.</li>
<li>Based on the **ISO 5167** engineering standard.</li>
<li>Provides both Mass and Volumetric flow rates.</li>
<li>Built-in unit conversions for all inputs.</li>
<li>Shows key intermediate values like $\beta$ and $Y$.</li>
<li>Fully accessible (WCAG 2.1 AA) and mobile-first.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Fluid Mechanics Tools</h3>
<ul class="space-y-3 text-sm">
<li>Venturi Meter Flow Calculator</li>
<li><a href="reynolds-number.html" class="text-blue-700 hover:underline">Reynolds Number Calculator</a></li>
<li>Pipe Flow Calculator</li>
<li>Fluid Density Calculator</li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-700">About</a>
<a href="contact.html" class="hover:text-blue-700">Contact</a>
<a href="privacy.html" class="hover:text-blue-700">Privacy</a>
<a href="terms.html" class="hover:text-blue-700">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. Riferimenti DOM ---
const elements = {
// Tabs
tabLiquid: document.getElementById('tab-liquid'),
tabGas: document.getElementById('tab-gas'),
panelLiquid: document.getElementById('panel-liquid'),
panelGas: document.getElementById('panel-gas'),
// Common Inputs
orificeDiameter: document.getElementById('orificeDiameter'),
pipeDiameter: document.getElementById('pipeDiameter'),
diameterUnit: document.getElementById('diameterUnit'),
pressureDrop: document.getElementById('pressureDrop'),
pressureUnit: document.getElementById('pressureUnit'),
// Liquid Inputs
liquidDensity: document.getElementById('liquidDensity'),
liquidDensityUnit: document.getElementById('liquidDensityUnit'),
dischargeCoeff: document.getElementById('dischargeCoeff'),
// Gas Inputs
gasDensity: document.getElementById('gasDensity'),
gasDensityUnit: document.getElementById('gasDensityUnit'),
upstreamPressure: document.getElementById('upstreamPressure'),
upstreamPressureUnit: document.getElementById('upstreamPressureUnit'),
specificHeatRatio: document.getElementById('specificHeatRatio'),
dischargeCoeffGas: document.getElementById('dischargeCoeffGas'),
// Error Divs
orificeDiameterError: document.getElementById('orificeDiameter-error'),
pipeDiameterError: document.getElementById('pipeDiameter-error'),
pressureDropError: document.getElementById('pressureDrop-error'),
liquidDensityError: document.getElementById('liquidDensity-error'),
dischargeCoeffError: document.getElementById('dischargeCoeff-error'),
gasDensityError: document.getElementById('gasDensity-error'),
upstreamPressureError: document.getElementById('upstreamPressure-error'),
specificHeatRatioError: document.getElementById('specificHeatRatio-error'),
dischargeCoeffGasError: document.getElementById('dischargeCoeffGas-error'),
// Results
massFlowResult: document.getElementById('mass-flow-result'),
volumetricFlowResult: document.getElementById('volumetric-flow-result'),
betaRatioResult: document.getElementById('beta-ratio-result'),
expansibilityResult: document.getElementById('expansibility-result'),
expansibilityCard: document.getElementById('expansibility-card'),
// Tooltips
cdTooltipBtn: document.getElementById('cd-tooltip-btn'),
cdTooltipText: document.getElementById('cd-tooltip-text'),
cdGasTooltipBtn: document.getElementById('cd-gas-tooltip-btn'),
cdGasTooltipText: document.getElementById('cd-gas-tooltip-text'),
// Reset
resetBtn: document.getElementById('reset-btn'),
};

// --- 2. Costanti di Conversione (a SI) ---
const unitsToMeters = { 'm': 1, 'cm': 0.01, 'mm': 0.001, 'in': 0.0254, 'ft': 0.3048 };
const unitsToPa = { 'Pa': 1, 'kPa': 1000, 'bar': 100000, 'psi': 6894.76 };
const unitsToKgM3 = { 'kg/m³': 1, 'lb/ft³': 16.0185 };

// --- 3. Logica TAB (A11y) ---
function switchTab(activeTab) {
const isLiquid = activeTab === 'liquid';

elements.tabLiquid.setAttribute('aria-selected', isLiquid);
elements.tabGas.setAttribute('aria-selected', !isLiquid);

elements.panelLiquid.classList.toggle('hidden', !isLiquid);
elements.panelGas.classList.toggle('hidden', isLiquid);

elements.expansibilityCard.classList.toggle('hidden', isLiquid);

if (isLiquid) {
elements.panelLiquid.focus();
} else {
elements.panelGas.focus();
}
calculate(); // Ricalcola quando si cambia tab
}
elements.tabLiquid.addEventListener('click', () => switchTab('liquid'));
elements.tabGas.addEventListener('click', () => switchTab('gas'));

// --- 4. Logica Tooltip (A11y) ---
function setupTooltip(btn, text) {
btn.addEventListener('click', () => {
const isExpanded = btn.getAttribute('aria-expanded') === 'true';
btn.setAttribute('aria-expanded', !isExpanded);
text.setAttribute('aria-hidden', isExpanded);
});
}
setupTooltip(elements.cdTooltipBtn, elements.cdTooltipText);
setupTooltip(elements.cdGasTooltipBtn, elements.cdGasTooltipText);

// --- 5. Validazione e Calcolo ---
function validateInput(el, errorEl, minVal = 0) {
const val = parseFloat(el.value);
if (el.value === '' || isNaN(val)) {
errorEl.textContent = 'This field is required.';
return null;
}
if (val <= minVal) {
errorEl.textContent = `Value must be greater than ${minVal}.`;
return null;
}
errorEl.textContent = '';
return val;
}

function clearErrors() {
const errors = document.querySelectorAll('.error-message');
errors.forEach(e => e.textContent = '');
}

function resetResults() {
elements.massFlowResult.innerHTML = '— <span class="unit">kg/s</span>';
elements.volumetricFlowResult.innerHTML = '— <span class="unit">m³/s</span>';
elements.betaRatioResult.textContent = '—';
elements.expansibilityResult.textContent = '—';
}

function calculate() {
clearErrors();
resetResults();
let isValid = true;

// Valori Comuni
const d_val = validateInput(elements.orificeDiameter, elements.orificeDiameterError, 0);
const D_val = validateInput(elements.pipeDiameter, elements.pipeDiameterError, 0);
const deltaP_val = validateInput(elements.pressureDrop, elements.pressureDropError, 0);

if ([d_val, D_val, deltaP_val].includes(null)) isValid = false;

// Controllo Beta
if (d_val && D_val && d_val >= D_val) {
elements.orificeDiameterError.textContent = 'Orifice diameter must be smaller than pipe diameter.';
isValid = false;
}

// Conversione SI Comuni
const d_m = d_val * unitsToMeters[elements.diameterUnit.value];
const D_m = D_val * unitsToMeters[elements.diameterUnit.value];
const deltaP_Pa = deltaP_val * unitsToPa[elements.pressureUnit.value];

const beta = d_m / D_m;
const A_orifice = (Math.PI / 4) * Math.pow(d_m, 2);
const velocityTerm = 1 / Math.sqrt(1 - Math.pow(beta, 4));

let rho_1, C_d, Y, P1_Pa, kappa;
const mode = elements.tabLiquid.getAttribute('aria-selected') === 'true' ? 'liquid' : 'gas';

if (mode === 'liquid') {
const density_val = validateInput(elements.liquidDensity, elements.liquidDensityError, 0);
const cd_val = validateInput(elements.dischargeCoeff, elements.dischargeCoeffError, 0);
if ([density_val, cd_val].includes(null)) isValid = false;

rho_1 = density_val * unitsToKgM3[elements.liquidDensityUnit.value];
C_d = cd_val;
Y = 1;
elements.expansibilityResult.textContent = '1.000 (for liquids)';
} else { // Gas mode
const density_val = validateInput(elements.gasDensity, elements.gasDensityError, 0);
const P1_val = validateInput(elements.upstreamPressure, elements.upstreamPressureError, 0);
const kappa_val = validateInput(elements.specificHeatRatio, elements.specificHeatRatioError, 0);
const cd_val = validateInput(elements.dischargeCoeffGas, elements.dischargeCoeffGasError, 0);
if ([density_val, P1_val, kappa_val, cd_val].includes(null)) isValid = false;

rho_1 = density_val * unitsToKgM3[elements.gasDensityUnit.value];
P1_Pa = P1_val * unitsToPa[elements.upstreamPressureUnit.value];
kappa = kappa_val;
C_d = cd_val;

if (isValid) {
if (P1_Pa <= deltaP_Pa) {
elements.upstreamPressureError.textContent = 'Upstream pressure must be greater than differential pressure.';
isValid = false;
} else {
const pressureRatio = deltaP_Pa / P1_Pa;
Y = 1 - (0.41 + 0.35 * Math.pow(beta, 4)) * (pressureRatio / kappa);
if (Y < 0.667) Y = 0.667; // Choked flow approximation
elements.expansibilityResult.textContent = Y.toFixed(4);
}
}
}

// Calcolo finale solo se tutto è valido
if (isValid) {
elements.betaRatioResult.textContent = beta.toFixed(4);

const Qm_kg_s = C_d * velocityTerm * Y * A_orifice * Math.sqrt(2 * deltaP_Pa * rho_1);
const Qv_m3_s = Qm_kg_s / rho_1;

elements.massFlowResult.innerHTML = `${Qm_kg_s.toFixed(4)} <span class="unit">kg/s</span>`;
elements.volumetricFlowResult.innerHTML = `${Qv_m3_s.toFixed(5)} <span class="unit">m³/s</span>`;
} else {
// Resetta i risultati se la validazione fallisce
resetResults();
if (mode === 'liquid') {
elements.expansibilityResult.textContent = '1.000 (for liquids)';
}
if (!isNaN(beta)) {
elements.betaRatioResult.textContent = beta.toFixed(4);
}
}
}

// --- 6. Reset Form ---
function resetForm() {
// Common
elements.orificeDiameter.value = '50';
elements.pipeDiameter.value = '100';
elements.diameterUnit.value = 'mm';
elements.pressureDrop.value = '25';
elements.pressureUnit.value = 'kPa';
// Liquid
elements.liquidDensity.value = '998';
elements.liquidDensityUnit.value = 'kg/m³';
elements.dischargeCoeff.value = '0.61';
// Gas
elements.gasDensity.value = '1.225';
elements.gasDensityUnit.value = 'kg/m³';
elements.upstreamPressure.value = '101.325';
elements.upstreamPressureUnit.value = 'kPa';
elements.specificHeatRatio.value = '1.4';
elements.dischargeCoeffGas.value = '0.61';
// Calcola
calculate();
}
elements.resetBtn.addEventListener('click', resetForm);

// --- 7. Event Listeners ---
const allInputs = [
...document.querySelectorAll('#orifice-calculator input'),
...document.querySelectorAll('#orifice-calculator select')
];
allInputs.forEach(el => el.addEventListener('input', calculate));

// --- 8. Inizializzazione ---
switchTab('liquid'); // Inizia con la tab liquid
resetForm(); // Popola i valori di default e calcola

// --- 9. Logica Menu Mobile (dal template) ---
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
menuToggle.addEventListener('click', () => {
const isHidden = mobileMenu.classList.toggle('hidden');
menuToggle.setAttribute('aria-expanded', !isHidden);
});

// --- 10. Logica Rendering LaTeX (necessaria) ---
renderMathInElement(document.body, {
delimiters: [
{left: "$$", right: "$$", display: true},
{left: "$", right: "$", display: false}
]
});

});
</script>

</body>
</html>