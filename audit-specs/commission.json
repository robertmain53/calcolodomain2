{
  "slug": "commission",
  "title": "Commission Calculator | Finance â€¢ Business",
  "canonical": "https://calcdomain.com/commission",
  "version": "0.1.0-draft",
  "lastCodeUpdateISO": "2026-01-19",
  "verifiedByName": "Ugo Candido",
  "verifiedProfileUrl": "https://calcdomain.com/ugocandido",
  "verifiedLinkedInUrl": "https://www.linkedin.com/in/ugocandido92821/",
  "formulas": [
    {
      "title": "Formula (extracted LaTeX)",
      "latex": "','",
      "raw": "','"
    },
    {
      "title": "Formula (extracted LaTeX)",
      "latex": "C = \\begin{cases} B \\cdot \\frac{r_1}{100}, &amp; B \\le T_1 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (B - T_1) \\cdot \\frac{r_2}{100}, &amp; T_1 &lt; B \\le T_2 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (T_2 - T_1) \\cdot \\frac{r_2}{100} + (B - T_2) \\cdot \\frac{r_3}{100}, &amp; B &gt; T_2 \\end{cases} \\",
      "raw": "C = \\begin{cases} B \\cdot \\frac{r_1}{100}, &amp; B \\le T_1 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (B - T_1) \\cdot \\frac{r_2}{100}, &amp; T_1 &lt; B \\le T_2 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (T_2 - T_1) \\cdot \\frac{r_2}{100} + (B - T_2) \\cdot \\frac{r_3}{100}, &amp; B &gt; T_2 \\end{cases} \\"
    },
    {
      "title": "Formula (extracted LaTeX)",
      "latex": "= (sel) => Array.from(document.querySelectorAll(sel)); // Elements const currencyEl = $('#currencySymbol'); const saleEl = $('#saleAmount'); const discEl = $('#discount'); const percentFields = $('#percentFields'); const percentRateEl = $('#percentRate'); const flatplusFields = $('#flatplusFields'); const flatFeeEl = $('#flatFee'); const flatPlusRateEl = $('#flatPlusRate'); const tieredFields = $('#tieredFields'); const t1El = $('#t1'), r1El = $('#r1'), t2El = $('#t2'), r2El = $('#r2'), r3El = $('#r3'); const capEl = $('#cap'); const splitToggleEl = $('#splitToggle'); const splitFieldsEl = $('#splitFields'); const agentShareEl = $('#agentShare'); // Tooltips const tooltipPairs = [ ['saleTTBtn','saleTT'], ['discTTBtn','discTT'], ['tierTTBtn','tierTT'], ['capTTBtn','capTT'] ]; tooltipPairs.forEach(([btnId, tipId])=>{ const btn = document.getElementById(btnId); const tip = document.getElementById(tipId); if(!btn || !tip) return; btn.addEventListener('click', ()=>{ const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); tip.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ btn.setAttribute('aria-expanded', 'false'); tip.setAttribute('aria-hidden','true'); btn.focus(); } }); }); // Results const baseOut = $('#baseOut'); const commissionRawOut = $('#commissionRawOut'); const commissionFinalOut = $('#commissionFinalOut'); const capAppliedOut = $('#capAppliedOut'); const effectiveRateOut = $('#effectiveRateOut'); const netAfterOut = $('#netAfterOut'); const splitSummary = $('#splitSummary'); const agentOut = $('#agentOut'); const partnerOut = $('#partnerOut'); function fmt(n){ const sym = (currencyEl.value || '$').trim(); const num = isFinite(n) ? Number(n) : 0; return sym + ' ' + num.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2}); } function pct(n){ const num = isFinite(n) ? Number(n) : 0; return num.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2}) + '%'; } // Validation helpers function setError(input, id, msg){ input.setAttribute('aria-invalid','true'); const el = document.getElementById(id); if(el){ el.textContent = msg || ''; } } function clearError(input, id){ input.setAttribute('aria-invalid','false'); const el = document.getElementById(id); if(el){ el.textContent = ''; } } function getVal(input){ const v = parseFloat(input.value); return isNaN(v) ? 0 : v; } // Model show/hide const modelRadios =",
      "raw": "= (sel) => Array.from(document.querySelectorAll(sel)); // Elements const currencyEl = $('#currencySymbol'); const saleEl = $('#saleAmount'); const discEl = $('#discount'); const percentFields = $('#percentFields'); const percentRateEl = $('#percentRate'); const flatplusFields = $('#flatplusFields'); const flatFeeEl = $('#flatFee'); const flatPlusRateEl = $('#flatPlusRate'); const tieredFields = $('#tieredFields'); const t1El = $('#t1'), r1El = $('#r1'), t2El = $('#t2'), r2El = $('#r2'), r3El = $('#r3'); const capEl = $('#cap'); const splitToggleEl = $('#splitToggle'); const splitFieldsEl = $('#splitFields'); const agentShareEl = $('#agentShare'); // Tooltips const tooltipPairs = [ ['saleTTBtn','saleTT'], ['discTTBtn','discTT'], ['tierTTBtn','tierTT'], ['capTTBtn','capTT'] ]; tooltipPairs.forEach(([btnId, tipId])=>{ const btn = document.getElementById(btnId); const tip = document.getElementById(tipId); if(!btn || !tip) return; btn.addEventListener('click', ()=>{ const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); tip.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ btn.setAttribute('aria-expanded', 'false'); tip.setAttribute('aria-hidden','true'); btn.focus(); } }); }); // Results const baseOut = $('#baseOut'); const commissionRawOut = $('#commissionRawOut'); const commissionFinalOut = $('#commissionFinalOut'); const capAppliedOut = $('#capAppliedOut'); const effectiveRateOut = $('#effectiveRateOut'); const netAfterOut = $('#netAfterOut'); const splitSummary = $('#splitSummary'); const agentOut = $('#agentOut'); const partnerOut = $('#partnerOut'); function fmt(n){ const sym = (currencyEl.value || '$').trim(); const num = isFinite(n) ? Number(n) : 0; return sym + ' ' + num.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2}); } function pct(n){ const num = isFinite(n) ? Number(n) : 0; return num.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2}) + '%'; } // Validation helpers function setError(input, id, msg){ input.setAttribute('aria-invalid','true'); const el = document.getElementById(id); if(el){ el.textContent = msg || ''; } } function clearError(input, id){ input.setAttribute('aria-invalid','false'); const el = document.getElementById(id); if(el){ el.textContent = ''; } } function getVal(input){ const v = parseFloat(input.value); return isNaN(v) ? 0 : v; } // Model show/hide const modelRadios ="
    },
    {
      "title": "Formula (extracted LaTeX)",
      "latex": "('input').forEach(inp => { inp.addEventListener('blur', () => validateField(inp)); }); // Compute logic function compute(){ // Basic inputs const sale = getVal(saleEl); const disc = getVal(discEl); // Validate base to safeguard compute if(sale <= 0 || disc < 0 || disc > sale){ baseOut.textContent = fmt(0); commissionRawOut.textContent = fmt(0); capAppliedOut.textContent = fmt(0); commissionFinalOut.textContent = fmt(0); effectiveRateOut.textContent = pct(0); netAfterOut.textContent = fmt(0); splitSummary.style.display = 'none'; return; } const base = Math.max(0, sale - disc); // Determine model const model = (modelRadios.find(r=>r.checked)||{}).value; let commission = 0; if(model === 'percent'){ const rate = Math.max(0, Math.min(100, getVal(percentRateEl))); commission = base * rate / 100; } else if(model === 'flatplus'){ const fee = Math.max(0, getVal(flatFeeEl)); const rate = Math.max(0, Math.min(100, getVal(flatPlusRateEl))); commission = fee + base * rate / 100; } else if(model === 'tiered'){ // thresholds in ascending order; treat 0 as not provided for T2 let T1 = Math.max(0, getVal(t1El)); let T2 = Math.max(0, getVal(t2El)); if(T2 && T2 < T1){ [T1, T2] = [T2, T1]; } // ensure order const R1 = Math.max(0, Math.min(100, getVal(r1El))); const R2 = Math.max(0, Math.min(100, getVal(r2El))); const R3 = Math.max(0, Math.min(100, getVal(r3El))); const part1 = Math.min(base, T1); const part2 = Math.max(0, Math.min(base - T1, Math.max(0, T2 - T1))); const part3 = Math.max(0, base - Math.max(T1, T2)); commission = (part1 * R1 + part2 * R2 + part3 * R3) / 100; } // Apply cap if any const cap = Math.max(0, getVal(capEl)); const capped = cap > 0 ? Math.min(commission, cap) : commission; const capApplied = Math.max(0, commission - capped); // Split const splitOn = splitToggleEl.checked; let agentAmt = 0, partnerAmt = 0; if(splitOn){ const a = Math.max(0, Math.min(100, getVal(agentShareEl))); agentAmt = capped * a / 100; partnerAmt = capped - agentAmt; } // Net after commission const netAfter = sale - disc - capped; const effRate = base > 0 ? (capped / base * 100) : 0; // Render baseOut.textContent = fmt(base); commissionRawOut.textContent = fmt(commission); capAppliedOut.textContent = fmt(capApplied); commissionFinalOut.textContent = fmt(capped); effectiveRateOut.textContent = pct(effRate); netAfterOut.textContent = fmt(netAfter); if(splitOn){ splitSummary.style.display = ''; agentOut.textContent = fmt(agentAmt); partnerOut.textContent = fmt(partnerAmt); }else{ splitSummary.style.display = 'none'; } } // Live compute on input (debounced micro) let rafId = null; function scheduleCompute(){ if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(()=>{ compute(); rafId = null; }); }",
      "raw": "('input').forEach(inp => { inp.addEventListener('blur', () => validateField(inp)); }); // Compute logic function compute(){ // Basic inputs const sale = getVal(saleEl); const disc = getVal(discEl); // Validate base to safeguard compute if(sale <= 0 || disc < 0 || disc > sale){ baseOut.textContent = fmt(0); commissionRawOut.textContent = fmt(0); capAppliedOut.textContent = fmt(0); commissionFinalOut.textContent = fmt(0); effectiveRateOut.textContent = pct(0); netAfterOut.textContent = fmt(0); splitSummary.style.display = 'none'; return; } const base = Math.max(0, sale - disc); // Determine model const model = (modelRadios.find(r=>r.checked)||{}).value; let commission = 0; if(model === 'percent'){ const rate = Math.max(0, Math.min(100, getVal(percentRateEl))); commission = base * rate / 100; } else if(model === 'flatplus'){ const fee = Math.max(0, getVal(flatFeeEl)); const rate = Math.max(0, Math.min(100, getVal(flatPlusRateEl))); commission = fee + base * rate / 100; } else if(model === 'tiered'){ // thresholds in ascending order; treat 0 as not provided for T2 let T1 = Math.max(0, getVal(t1El)); let T2 = Math.max(0, getVal(t2El)); if(T2 && T2 < T1){ [T1, T2] = [T2, T1]; } // ensure order const R1 = Math.max(0, Math.min(100, getVal(r1El))); const R2 = Math.max(0, Math.min(100, getVal(r2El))); const R3 = Math.max(0, Math.min(100, getVal(r3El))); const part1 = Math.min(base, T1); const part2 = Math.max(0, Math.min(base - T1, Math.max(0, T2 - T1))); const part3 = Math.max(0, base - Math.max(T1, T2)); commission = (part1 * R1 + part2 * R2 + part3 * R3) / 100; } // Apply cap if any const cap = Math.max(0, getVal(capEl)); const capped = cap > 0 ? Math.min(commission, cap) : commission; const capApplied = Math.max(0, commission - capped); // Split const splitOn = splitToggleEl.checked; let agentAmt = 0, partnerAmt = 0; if(splitOn){ const a = Math.max(0, Math.min(100, getVal(agentShareEl))); agentAmt = capped * a / 100; partnerAmt = capped - agentAmt; } // Net after commission const netAfter = sale - disc - capped; const effRate = base > 0 ? (capped / base * 100) : 0; // Render baseOut.textContent = fmt(base); commissionRawOut.textContent = fmt(commission); capAppliedOut.textContent = fmt(capApplied); commissionFinalOut.textContent = fmt(capped); effectiveRateOut.textContent = pct(effRate); netAfterOut.textContent = fmt(netAfter); if(splitOn){ splitSummary.style.display = ''; agentOut.textContent = fmt(agentAmt); partnerOut.textContent = fmt(partnerAmt); }else{ splitSummary.style.display = 'none'; } } // Live compute on input (debounced micro) let rafId = null; function scheduleCompute(){ if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(()=>{ compute(); rafId = null; }); }"
    },
    {
      "title": "Formula (extracted text)",
      "latex": "",
      "raw": "Base: The commission base subtracts discounts from sale amount: \\\\( B = \\max(0,\\; S - D) \\\\) Percentage model: \\\\( C = B \\times \\frac{r}{100} \\\\) Flat + percentage: \\\\( C = F + B \\times \\frac{r}{100} \\\\) Tiered (three brackets): \\\\[ C = \\begin{cases} B \\cdot \\frac{r_1}{100}, & B \\le T_1 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (B - T_1) \\cdot \\frac{r_2}{100}, & T_1 < B \\le T_2 \\\\\\\\ T_1 \\cdot \\frac{r_1}{100} + (T_2 - T_1) \\cdot \\frac{r_2}{100} + (B - T_2) \\cdot \\frac{r_3}{100}, & B > T_2 \\end{cases} \\\\] Cap and split: \\\\( C_{cap} = \\min(C,\\; \\text{Cap}) \\\\) \\\\( C_{agent} = C_{cap} \\times \\frac{a}{100}, \\quad C_{partner} = C_{cap} - C_{agent} \\\\) Effective rate: \\\\( r_{eff} = \\begin{cases} \\frac{C_{cap}}{B}\\times 100\\%, & B>0 \\\\\\\\ 0, & B=0 \\end{cases} \\\\)"
    }
  ],
  "variables": [],
  "sources": [
    {
      "label": "Business Operations",
      "publisher": "calcdomain.com",
      "url": "https://calcdomain.com/business-operations",
      "accessedISO": "2026-01-19"
    },
    {
      "label": "Direct link",
      "publisher": "ecfr.gov",
      "url": "https://www.ecfr.gov/current/title-29/subtitle-B/chapter-V/part-778/subject-group-ECFR5a3068f3d9b492e/section-778.117",
      "accessedISO": "2026-01-19"
    }
  ],
  "changelog": [
    {
      "dateISO": "2026-01-19",
      "version": "0.1.0-draft",
      "changes": [
        "Initial audit spec draft generated from HTML extraction (review required).",
        "Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.",
        "Confirm sources are authoritative and relevant to the calculator methodology."
      ]
    }
  ]
}
