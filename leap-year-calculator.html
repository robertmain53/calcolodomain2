<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leap Year Calculator - Check Any Year Instantly</title>
<meta name="description" content="Instantly check if a year is a leap year with our accurate calculator. Understand the rules, see examples, and find past or future leap years.">
<link rel="canonical" href="https://calcdomain.com/leap-year-calculator.html"/>
<meta name="author" content="Ugo Candido">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
/* Stile per la formula */
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.5rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
text-align: center;
font-size: 1.1rem;
}
/* Stili per le FAQ */
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Stili per i risultati */
.result-wrapper {
background: #f9fafb;
border: 1px solid #e5e7eb;
border-radius: 10px;
padding: 1.5rem;
min-height: 150px; /* Prevenzione CLS */
transition: background-color 0.3s ease, border-color 0.3s ease;
}
.result-wrapper h4 {
font-size: 1rem;
color: #374151;
font-weight: 600;
margin-bottom: 0.5rem;
}
.result-wrapper p.result-main {
font-size: 2rem;
font-weight: 700;
line-height: 1.2;
}
.result-wrapper p.result-reasoning {
font-size: 0.9rem;
color: #6b7280;
margin-top: 0.5rem;
}
/* Risultati di successo (verde) */
.result-success {
background-color: #f0fdf4; /* green-50 */
border-color: #bbf7d0; /* green-200 */
}
.result-success p.result-main { color: #15803d; /* green-700 */ }
/* Risultati negativi/neutri (grigio) */
.result-fail {
background-color: #f8fafc; /* slate-50 */
border-color: #e2e8f0; /* slate-200 */
}
.result-fail p.result-main { color: #334155; /* slate-700 */ }
/* Risultati di errore (rosso) */
.result-error {
background-color: #fef2f2; /* red-50 */
border-color: #fecaca; /* red-200 */
}
.result-error p.result-main { color: #b91c1c; /* red-700 */ }

/* Stile per il tooltip accessibile */
.tooltip-container {
position: relative;
display: inline-block;
}
.tooltip-button {
background: none;
border: none;
padding: 0 0.25rem;
cursor: pointer;
color: #6b7280; /* gray-500 */
}
.tooltip-button:hover, .tooltip-button:focus {
color: #111827; /* gray-900 */
outline: none;
box-shadow: 0 0 0 2px #bfdbfe; /* blue-200 */
border-radius: 50%;
}
.tooltip-text {
visibility: hidden;
width: 220px;
background-color: #1f2937; /* gray-800 */
color: #fff;
text-align: center;
border-radius: 6px;
padding: 8px;
position: absolute;
z-index: 10;
bottom: 125%;
left: 50%;
margin-left: -110px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.875rem;
line-height: 1.4;
}
.tooltip-text::after {
content: "";
position: absolute;
top: 100%;
left: 50%;
margin-left: -5px;
border-width: 5px;
border-style: solid;
border-color: #1f2937 transparent transparent transparent;
}
/* Visibilit√† del tooltip su focus/hover del bottone */
.tooltip-button:focus + .tooltip-text,
.tooltip-button:hover + .tooltip-text {
visibility: visible;
opacity: 1;
}
/* Gestione focus visibile per WCAG */
input:focus, button:focus, select:focus, a:focus {
outline: 3px solid #3b82f6 !important; /* blue-500 */
outline-offset: 1px;
}
input:focus, select:focus {
border-color: #3b82f6 !important;
box-shadow: none !important;
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Leap Year Calculator",
"description": "Instantly check if a year is a leap year with our accurate calculator. Understand the rules, see examples, and find past or future leap years.",
"url": "https://calcdomain.com/leap-year-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Everyday Life", "item": "https://calcdomain.com/lifestyle-everyday.html" },
{ "@type": "ListItem", "position": 3, "name": "Time and Date", "item": "https://calcdomain.com/subcategories/time-date.html" },
{ "@type": "ListItem", "position": 4, "name": "Leap Year Calculator", "item": "https://calcdomain.com/leap-year-calculator.html" }
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Check if a Year is a Leap Year",
"description": "A step-by-step guide to determining if a year is a leap year using the Gregorian calendar rules.",
"step": [
{"@type": "HowToStep", "name": "Enter Year", "text": "Input the year you want to check into the 'Enter a Year' field. The year must be 1582 or later, as this is when the Gregorian calendar was instituted."},
{"@type": "HowToStep", "name": "Calculate", "text": "Click the 'Check Year' button to perform the calculation."},
{"@type": "HowToStep", "name": "Review Result", "text": "The calculator will display 'Yes' or 'No' and provide a clear explanation for why the year is or is not a leap year based on the standard rules."},
{"@type: "HowToStep", "name": "Find Other Leap Years", "text": "Alternatively, you can click 'Find Next' or 'Find Previous' to find the closest leap year relative to the year you entered."}
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "Why do we have leap years?",
"acceptedAnswer": {
"@type": "Answer",
"text": "We have leap years to keep our modern Gregorian calendar aligned with the Earth's revolutions around the sun. An astronomical year (the time it takes for the Earth to orbit the sun) is approximately 365.2425 days, not exactly 365. Adding an extra day (February 29) nearly every four years compensates for this difference and prevents the seasons from 'drifting' over time."
}
},
{
"@type": "Question",
"name": "Who invented the leap year?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The concept of a leap year was first introduced by Julius Caesar in the Roman Empire (the Julian calendar) around 45 B.C. However, his rule (a leap year every 4 years) was slightly inaccurate. The modern Gregorian calendar, introduced by Pope Gregory XIII in 1582, refined the rule (adding the exceptions for years divisible by 100 but not 400) to be much more accurate."
}
},
{
"@type": "Question",
"name": "What is the difference between a leap year and a leap second?",
"acceptedAnswer": {
"@type": "Answer",
"text": "A leap year adds a full day (February 29) to the calendar to synchronize it with the Earth's orbit around the sun (the astronomical year). A leap second is a one-second adjustment added to Coordinated Universal Time (UTC) to account for the slowing of the Earth's rotation. They are unrelated concepts that solve different timekeeping problems."
}
},
{
"@type": "Question",
"name": "Was 1900 a leap year?",
"acceptedAnswer": {
"@type": "Answer",
"text": "No, 1900 was not a leap year. While it is divisible by 4, it is also divisible by 100. According to the Gregorian calendar rules, a year divisible by 100 is *not* a leap year unless it is *also* divisible by 400. Since 1900 is not divisible by 400, it was a common year."
}
},
{
"@type": "Question",
"name": "Was 2000 a leap year?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Yes, 2000 was a special case leap year. It is divisible by 4, 100, and 400. Because it is divisible by 400, it *is* a leap year, overriding the 'divisible by 100' exception."
}
},
{
"@type": "Question",
"name": "When is the next leap day?",
"acceptedAnswer": {
"@type": "Answer",
"text": "After 2024, the next leap day will be February 29, 2028. Following that, the leap years will be 2032, 2036, and so on, continuing the four-year cycle until the next century exception in 2100 (which will not be a leap year)."
}
]
}
</script>

<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="lifestyle-everyday.html" class="hover:text-blue-600">Everyday Life</a> &raquo;
<a href="subcategories/time-date.html" class="hover:text-blue-600">Time and Date</a> &raquo;
<span class="text-gray-900">Leap Year Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Leap Year Calculator</h1>
<p class="text-gray-600 mb-6">Instantly determine if any given year is a leap year. This tool provides a quick and accurate answer based on the Gregorian calendar rules. Enter a year to check it, or find the next or previous leap year.</p>

<section id="calculator-ui" class="space-y-4" aria-labelledby="calculator-heading">
<h2 id="calculator-heading" class="sr-only">Leap Year Calculation Tool</h2>
<div>
<div class="flex justify-between items-center mb-1">
<label for="yearInput" class="block text-sm font-medium text-gray-700">
Enter a Year (e.g., 2024)
<span class="text-red-500" aria-hidden="true">*</span>
</label>
<div class="tooltip-container">
<button type="button" class="tooltip-button" aria-describedby="year-tooltip-msg" aria-label="More information about year input">
<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
</svg>
</button>
<span id="year-tooltip-msg" role="tooltip" class="tooltip-text">
Enter any year after 1581, when the Gregorian calendar was adopted.
</span>
</div>
</div>
<input type="number" id="yearInput" placeholder="Enter year" step="1" min="1582"
class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-lg"
aria-required="true"
aria-describedby="year-error-msg year-tooltip-msg">
<div id="year-error-msg" class="text-red-600 text-sm mt-1" role="alert" aria-live="polite"></div>
</div>

<div class="grid grid-cols-3 gap-3 pt-2">
<button type="button" id="checkButton"
class="w-full py-3 px-4 rounded-md shadow-sm text-white font-medium bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
Check Year
</button>
<button type="button" id="prevButton"
class="w-full py-3 px-4 rounded-md shadow-sm text-gray-700 font-medium bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2">
Find Previous
</button>
<button type="button" id="nextButton"
class="w-full py-3 px-4 rounded-md shadow-sm text-gray-700 font-medium bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2">
Find Next
</button>
</div>
</section>

<section id="results" class="mt-8" aria-labelledby="results-heading">
<h3 id="results-heading" class="sr-only">Calculation Results</h3>
<div id="result-container" class="result-wrapper text-center">
<h4>Result</h4>
<p id="result-text" class="result-main text-gray-700">‚Äî</p>
<p id="result-reasoning" class="result-reasoning"></p>
</div>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<section>
<h2>Data Source and Methodology</h2>
<p>Calculations are based on the rules of the Gregorian calendar, which is the international standard for civil use. This system was introduced in 1582 to correct the drift of the Julian calendar.</p>
<ul>
<li><strong>AuthoritativeDataSource</strong>: U.S. Naval Observatory (USNO), Astronomical Applications Department.</li>
<li><strong>Reference</strong>: "Leap Years" documentation.</li>
<li><strong>Source URL</strong>: <a href="https://aa.usno.navy.mil/faq/docs/leap_years.php" target="_blank" rel="nofollow noopener">https://aa.usno.navy.mil/faq/docs/leap_years.php</a></li>
</ul>
<p>All calculations are based rigorously on the formulas and data provided by this source.</p>
</section>

<section>
<h2>The Formula Explained</h2>
<p>A year is a leap year if it meets one of two conditions. The logic, which we can express as an algorithm, is as follows: A year $Y$ is a leap year if:</p>
<div class="formula-box">
( $Y \pmod{4} = 0$ AND $Y \pmod{100} \neq 0$ )
<br>
<strong>OR</strong>
<br>
( $Y \pmod{400} = 0$ )
</div>
<p class="mt-4">In plain English, this means:</p>
<ol>
<li>A year is a leap year if it is divisible by 4.</li>
<li><strong>However</strong>, if that year is also divisible by 100, it is <strong>not</strong> a leap year...</li>
<li><strong>Unless</strong> that year is *also* divisible by 400, in which case it <strong>is</strong> a leap year.</li>
</ol>
</section>

<section>
<h2>Glossary of Variables</h2>
<ul class="list-disc list-outside">
<li><strong>Year (Input)</strong>: The year to be checked. This calculator accepts any year from 1582 onwards, which is the year the Gregorian calendar was instituted.</li>
<li><strong>Is Leap Year (Output)</strong>: A simple 'Yes' or 'No' answer to the query.</li>
<li><strong>Reasoning (Output)</strong>: A brief, clear explanation of *why* the given year is or is not a leap year, based on the formula's rules.</li>
</ul>
</section>

<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's test the year <strong>1900</strong>:</p>
<ol>
<li><strong>Is $1900 \pmod{4} = 0$?</strong> Yes. The first check passes.</li>
<li><strong>Is $1900 \pmod{100} = 0$?</strong> Yes. This triggers the exception. We must now check the third rule.</li>
<li><strong>Is $1900 \pmod{400} = 0$?</strong> No. It fails the final exception.</li>
<li><strong>Result:</strong> Because it is divisible by 100 but not by 400, **1900 was not a leap year.**</li>
</ol>
<p>Now let's test <strong>2000</strong>:</p>
<ol>
<li><strong>Is $2000 \pmod{4} = 0$?</strong> Yes. The first check passes.</li>
<li><strong>Is $2000 \pmod{100} = 0$?</strong> Yes. This triggers the exception.</li>
<li><strong>Is $2000 \pmod{400} = 0$?</strong> Yes. It passes the final exception.</li>
<li><strong>Result:</strong> Because it is divisible by 400, **2000 was a leap year.**</li>
</ol>
</section>

<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>Why do we have leap years?</summary>
<p>We have leap years to keep our modern Gregorian calendar aligned with the Earth's revolutions around the sun. An astronomical year (the time it takes for the Earth to orbit the sun) is approximately 365.2425 days, not exactly 365. Adding an extra day (February 29) nearly every four years compensates for this difference and prevents the seasons from "drifting" over time.</p>
</details>
<details>
<summary>Who invented the leap year?</summary>
<p>The concept of a leap year was first introduced by Julius Caesar in the Roman Empire (the Julian calendar) around 45 B.C. However, his rule (a leap year every 4 years) was slightly inaccurate. The modern Gregorian calendar, introduced by Pope Gregory XIII in 1582, refined the rule (adding the exceptions for years divisible by 100 but not 400) to be much more accurate.</p>
</details>
<details>
<summary>What is the difference between a leap year and a leap second?</summary>
<p>A leap year adds a full day (February 29) to the calendar to synchronize it with the Earth's orbit around the sun (the astronomical year). A leap second is a one-second adjustment added to Coordinated Universal Time (UTC) to account for the slowing of the Earth's rotation. They are unrelated concepts that solve different timekeeping problems.</p>
</details>
<details>
<summary>Was 1700 a leap year?</summary>
<p>No, 1700 was not a leap year. Like 1900, it was divisible by 4 and 100, but not by 400. Therefore, it fell under the exception rule and was a common year.</p>
</details>
<details>
<summary>When is the next leap day?</summary>
<p>After 2024, the next leap day will be February 29, 2028. Following that, the leap years will be 2032, 2036, and so on, continuing the four-year cycle until the next century exception in 2100 (which will not be a leap year).</p>
</details>
</section>

<div class="mt-8 pt-4 border-t border-gray-200 text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Contents verified by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-27">October 27, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6"> <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300√ó600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get instant, accurate leap year checks.</li>
<li>Understands the complex rules (e.g., 1900 vs. 2000).</li>
<li>Find the next or previous leap year from any date.</li>
<li>Based on authoritative astronomical sources (USNO).</li>
<li>Fully accessible (WCAG 2.1 AA) and mobile-first design.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Date & Time Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="age-calculator.html" class="text-blue-600 hover:underline">Age Calculator</a></li>
<li><a href="date-calculator.html" class="text-blue-600 hover:underline">Date Calculator (Add/Subtract Days)</a></li>
<li><a href="days-between-dates.html" class="text-blue-600 hover:underline">Days Between Dates</a></li>
<li><a href="time-calculator.html" class="text-blue-600 hover:underline">Time Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
// Selezione elementi DOM
const yearInput = document.getElementById('yearInput');
const errorMsg = document.getElementById('year-error-msg');
const checkButton = document.getElementById('checkButton');
const prevButton = document.getElementById('prevButton');
const nextButton = document.getElementById('nextButton');
const resultContainer = document.getElementById('result-container');
const resultText = document.getElementById('result-text');
const resultReasoning = document.getElementById('result-reasoning');

const MIN_YEAR = 1582;

/**
* Controlla se un anno √® bisestile
* @param {number} year - L'anno da controllare
* @returns {boolean} - True se √® bisestile, altrimenti false
*/
function isLeap(year) {
return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
}

/**
* Fornisce la motivazione della regola
* @param {number} year - L'anno controllato
* @param {boolean} isLeapYear - Il risultato del controllo
* @returns {string} - La spiegazione
*/
function getReasoning(year, isLeapYear) {
if (isLeapYear) {
if (year % 400 === 0) {
return `It is divisible by 400.`;
}
if (year % 100 === 0) {
// Questo caso non dovrebbe accadere se isLeapYear √® true
return '';
}
if (year % 4 === 0) {
return `It is divisible by 4 but not by 100.`;
}
} else {
if (year % 4 !== 0) {
return `It is not divisible by 4.`;
}
if (year % 100 === 0 && year % 400 !== 0) {
return `It is divisible by 100 but not by 400.`;
}
}
return ''; // Caso base
}

/**
* Trova il prossimo anno bisestile
* @param {number} year - L'anno di partenza
* @returns {number} - Il prossimo anno bisestile
*/
function findNextLeap(year) {
let nextYear = year + 1;
while (!isLeap(nextYear)) {
nextYear++;
}
return nextYear;
}

/**
* Trova il precedente anno bisestile
* @param {number} year - L'anno di partenza
* @returns {number} - Il precedente anno bisestile (>= MIN_YEAR)
*/
function findPrevLeap(year) {
let prevYear = year - 1;
while (prevYear >= MIN_YEAR) {
if (isLeap(prevYear)) {
return prevYear;
}
prevYear--;
}
return null; // Nessun anno bisestile trovato prima (rispetto a 1582)
}

/**
* Valida l'input dell'anno
* @returns {number|null} - Il numero dell'anno se valido, altrimenti null
*/
function validateInput() {
const yearStr = yearInput.value;
if (yearStr === '') {
errorMsg.textContent = 'Please enter a year.';
yearInput.setAttribute('aria-invalid', 'true');
return null;
}
const year = parseInt(yearStr, 10);
if (isNaN(year)) {
errorMsg.textContent = 'Please enter a valid number.';
yearInput.setAttribute('aria-invalid', 'true');
return null;
}
if (year < MIN_YEAR) {
errorMsg.textContent = `Year must be ${MIN_YEAR} or later (Gregorian calendar).`;
yearInput.setAttribute('aria-invalid', 'true');
return null;
}

// Input valido
errorMsg.textContent = '';
yearInput.setAttribute('aria-invalid', 'false');
return year;
}

/**
* Aggiorna il DOM con i risultati
* @param {string} mainText - Il testo principale del risultato
* @param {string} reasoningText - La spiegazione
* @param {'success'|'fail'|'error'} state - Lo stato visuale
*/
function updateResults(mainText, reasoningText, state) {
resultText.textContent = mainText;
resultReasoning.textContent = reasoningText;

// Resetta le classi di stato
resultContainer.classList.remove('result-success', 'result-fail', 'result-error');

// Applica la classe di stato corretta
if (state === 'success') {
resultContainer.classList.add('result-success');
} else if (state === 'fail') {
resultContainer.classList.add('result-fail');
} else if (state === 'error') {
resultContainer.classList.add('result-error');
}
}

// Gestore per il pulsante "Check Year"
function handleCheck() {
const year = validateInput();
if (year === null) {
updateResults('Invalid Input', 'Please correct the error above.', 'error');
return;
}

const isLeapYear = isLeap(year);
const reasoning = getReasoning(year, isLeapYear);

if (isLeapYear) {
updateResults(`Yes, ${year} is a leap year.`, reasoning, 'success');
} else {
updateResults(`No, ${year} is not a leap year.`, reasoning, 'fail');
}
}

// Gestore per il pulsante "Find Next"
function handleFindNext() {
const year = validateInput();
if (year === null) {
updateResults('Invalid Input', 'Please correct the error above.', 'error');
return;
}

const nextLeap = findNextLeap(year);
const reasoning = getReasoning(nextLeap, true);
updateResults(`The next leap year is ${nextLeap}.`, reasoning, 'success');
}

// Gestore per il pulsante "Find Previous"
function handleFindPrev() {
const year = validateInput();
if (year === null) {
updateResults('Invalid Input', 'Please correct the error above.', 'error');
return;
}

const prevLeap = findPrevLeap(year);
if (prevLeap === null) {
updateResults(`No leap year found before ${year}.`, `Checks stop at ${MIN_YEAR}.`, 'fail');
} else {
const reasoning = getReasoning(prevLeap, true);
updateResults(`The previous leap year was ${prevLeap}.`, reasoning, 'success');
}
}

// Aggiunta Event Listeners
checkButton.addEventListener('click', handleCheck);
nextButton.addEventListener('click', handleFindNext);
prevButton.addEventListener('click', handleFindPrev);

// Validazione on-blur
yearInput.addEventListener('blur', validateInput);

// Cancella l'errore durante la digitazione per una migliore UX
yearInput.addEventListener('input', () => {
if (yearInput.getAttribute('aria-invalid') === 'true') {
errorMsg.textContent = '';
yearInput.setAttribute('aria-invalid', 'false');
}
});
});
</script>

</body>
</html>