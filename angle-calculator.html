<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Angle Calculator — Difference, Triangle Angles, Visual Angle, Polygon Angles</title>
  <meta name="description" content="Professional angle calculator: compute angle differences, triangle angles (law of cosines), visual angle from size & distance, and polygon interior/exterior angles. Includes formulas, glossary, and worked examples."/>
  <link rel="canonical" href="https://calcdomain.com/angle-calculator.html"/>

  <!-- Favicons (safe fallbacks if not present) -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"/>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
  <link rel="shortcut icon" href="/favicon.ico"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
  <link rel="manifest" href="/site.webmanifest"/>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- MathJax for LaTeX rendering -->
  <script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root {
      --brand: #1d4ed8;
      --accent: #0ea5e9;
      --error: #b91c1c;
      --ok: #065f46;
    }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .prose { max-width: 70ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 0.75rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.25rem; margin-bottom: 0.5rem; }
    .formula-box {
      background:#f3f4f6; border:1px solid #e5e7eb; border-radius:10px; padding:1rem; overflow-x:auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    }
    /* Accessible focus */
    :focus-visible { outline: 3px solid var(--accent); outline-offset: 2px; border-radius: 6px; }
    /* Touch targets */
    .tap-target { min-height: 48px; min-width: 48px; }
    /* Prevent CLS in results */
    #results-panel { min-height: 230px; }
    /* Simple badge styles */
    .mode-badge { border:1px solid #e5e7eb; border-radius:999px; padding:0.25rem 0.625rem; font-size:0.75rem; background:#f8fafc; }
    /* Inline icon button for tooltips */
    .icon-btn { line-height: 1; border:1px solid #cbd5e1; border-radius:6px; padding:0.15rem 0.4rem; }
    .icon-btn[aria-expanded="true"] { background:#e0f2fe; border-color:#7dd3fc; }
    /* Print */
    @media print {
      body * { visibility: hidden; }
      #print-section, #print-section * { visibility: visible; }
      #print-section { position: absolute; inset: 0; }
    }
  </style>

  <!-- JSON-LD: WebPage + WebApplication (Calculator) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Angle Calculator",
    "url": "https://calcdomain.com/angle-calculator.html",
    "inLanguage": "en",
    "description": "Compute angle differences, triangle angles, visual angles, and polygon interior/exterior angles with professional accuracy.",
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
        { "@type": "ListItem", "position": 2, "name": "Math", "item": "https://calcdomain.com/math.html" },
        { "@type": "ListItem", "position": 3, "name": "Geometry", "item": "https://calcdomain.com/subcategories/geometry.html" },
        { "@type": "ListItem", "position": 4, "name": "Angle Calculator", "item": "https://calcdomain.com/angle-calculator.html" }
      ]
    },
    "author": { "@type": "Person", "name": "Ugo Candido" },
    "publisher": { "@type": "Organization", "name": "CalcDomain" }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Angle Calculator",
    "applicationCategory": "EducationalApplication",
    "operatingSystem": "Any",
    "url": "https://calcdomain.com/angle-calculator.html",
    "author": { "@type": "Person", "name": "Ugo Candido" },
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
  }
  </script>

  <!-- JSON-LD: HowTo (worked example) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to compute a visual angle",
    "description":"Compute the visual angle from object size and viewing distance.",
    "step":[
      {"@type":"HowToStep","name":"Measure size","text":"Measure the object's linear size across your field of view (same units as distance)."},
      {"@type":"HowToStep","name":"Measure distance","text":"Measure the viewing distance to the object's centerline."},
      {"@type":"HowToStep","name":"Apply formula","text":"Use θ = 2·atan(S/(2D)) to get the angle in radians; convert to degrees."},
      {"@type":"HowToStep","name":"Convert units","text":"To arcminutes multiply degrees by 60."}
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"What is an angle difference?", "acceptedAnswer":{"@type":"Answer","text":"It is the rotation needed to go from one direction to another. You can choose clockwise, counterclockwise, or the smallest unsigned difference."}},
      {"@type":"Question","name":"Which triangle data do I need?", "acceptedAnswer":{"@type":"Answer","text":"For SSS you need all three sides. For a right triangle you can use two legs or one leg plus the hypotenuse; the calculator derives the angles."}},
      {"@type":"Question","name":"How accurate is the visual angle formula?", "acceptedAnswer":{"@type":"Answer","text":"θ = 2·atan(S/(2D)) is exact in Euclidean geometry. For small angles it matches S/D in radians. Ensure units for S and D are consistent."}},
      {"@type":"Question","name":"What are polygon interior and exterior angles?", "acceptedAnswer":{"@type":"Answer","text":"For a regular n-gon, each interior angle is (n−2)·180°/n and each exterior (turning) angle is 360°/n."}},
      {"@type":"Question","name":"Can I input bearings like 350° and 10°?", "acceptedAnswer":{"@type":"Answer","text":"Yes. The tool normalizes to [0,360). The smallest difference between 350° and 10° is 20°."}},
      {"@type":"Question","name":"Can I get arcminutes/arcseconds?", "acceptedAnswer":{"@type":"Answer","text":"Yes. The results show degrees plus arcminutes and arcseconds. Toggle unit detail in the results."}},
      {"@type":"Question","name":"Will this work offline?", "acceptedAnswer":{"@type":"Answer","text":"Yes. The calculator runs entirely in your browser and does not send data to a server."}}
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-extrabold text-blue-700">CalcDomain</a>
      <div class="w-full max-w-md hidden md:block mx-6">
        <label for="site-search" class="sr-only">Search calculators</label>
        <div class="relative">
          <input id="site-search" type="search" placeholder="Search for a calculator…" class="w-full tap-target py-2 px-4 pr-10 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500" autocomplete="off" />
          <svg class="w-5 h-5 absolute right-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.8-4.8M4 11a7 7 0 1114 0 7 7 0 01-14 0z"/></svg>
        </div>
      </div>
      <a href="search.html" class="text-sm text-gray-700 hover:text-blue-700">Advanced Search</a>
    </nav>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div id="print-section" class="flex flex-col lg:flex-row gap-8">
      <!-- Main content -->
      <section class="w-full lg:w-2/3">
        <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
          <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
          <a href="math.html" class="hover:text-blue-700">Math</a> &raquo;
          <a href="https://calcdomain.com/subcategories/geometry.html" class="hover:text-blue-700">Geometry</a> &raquo;
          <span class="text-gray-900">Angle Calculator</span>
        </nav>

        <h1 class="text-3xl font-extrabold mb-2">angle calculator</h1>
        <p class="text-gray-700 mb-6">A professional multi-mode tool to compute <strong>angle differences</strong>, <strong>triangle angles</strong> (law of cosines / right-triangle), <strong>visual angle</strong> from size &amp; distance, and <strong>regular polygon</strong> interior/exterior angles. Built for engineers, surveyors, UX researchers, educators, and students who need authoritative results with clear formulas.</p>

        <!-- Calculator Interactive -->
        <section id="calculator-ui" class="bg-white rounded-lg shadow p-6">
          <div class="flex flex-wrap items-center gap-2 mb-4" role="tablist" aria-label="Angle calculator modes">
            <button class="mode-badge tap-target focus-visible:outline-none focus:ring-2 focus:ring-blue-500 data-[active=true]:bg-blue-600 data-[active=true]:text-white"
                    data-mode="diff" role="tab" aria-selected="true">Angle Difference</button>
            <button class="mode-badge tap-target" data-mode="triangle" role="tab" aria-selected="false">Triangle Angles</button>
            <button class="mode-badge tap-target" data-mode="visual" role="tab" aria-selected="false">Visual Angle</button>
            <button class="mode-badge tap-target" data-mode="polygon" role="tab" aria-selected="false">Polygon Angles</button>
          </div>

          <!-- MODE: Angle Difference -->
          <form id="form-diff" class="space-y-5" data-mode-panel="diff" aria-labelledby="mode-diff-label">
            <h2 id="mode-diff-label" class="text-lg font-semibold">Angle Difference</h2>
            <div>
              <label for="a1" class="block text-sm font-medium text-gray-800">Angle A (deg) <span class="text-red-600">*</span></label>
              <div class="flex items-center gap-2">
                <input id="a1" name="a1" type="number" inputmode="decimal" step="0.0001" aria-required="true" aria-describedby="a1-help a1-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <button type="button" class="icon-btn tap-target" aria-expanded="false" aria-controls="a1-help" title="What is Angle A?">?</button>
              </div>
              <p id="a1-help" class="text-sm text-gray-600 mt-1 hidden">Enter any real number; we’ll normalize to [0°, 360°).</p>
              <p id="a1-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
            </div>

            <div>
              <label for="a2" class="block text-sm font-medium text-gray-800">Angle B (deg) <span class="text-red-600">*</span></label>
              <div class="flex items-center gap-2">
                <input id="a2" name="a2" type="number" inputmode="decimal" step="0.0001" aria-required="true" aria-describedby="a2-help a2-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <button type="button" class="icon-btn tap-target" aria-expanded="false" aria-controls="a2-help" title="What is Angle B?">?</button>
              </div>
              <p id="a2-help" class="text-sm text-gray-600 mt-1 hidden">Same as above. Negative/large values are allowed; we normalize.</p>
              <p id="a2-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
            </div>

            <fieldset class="mt-2">
              <legend class="block text-sm font-medium text-gray-800 mb-1">Direction</legend>
              <div class="flex flex-wrap gap-4 text-sm">
                <label class="inline-flex items-center gap-2"><input type="radio" name="dir" value="cw" class="tap-target" checked> Clockwise (A→B)</label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="dir" value="ccw" class="tap-target"> Counter-clockwise (A→B)</label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="dir" value="min" class="tap-target"> Smallest difference</label>
              </div>
            </fieldset>
          </form>

          <!-- MODE: Triangle Angles -->
          <form id="form-triangle" class="space-y-5 hidden" data-mode-panel="triangle" aria-labelledby="mode-tri-label">
            <h2 id="mode-tri-label" class="text-lg font-semibold">Triangle Angles (SSS &amp; Right-Triangle)</h2>

            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <div>
                <label for="side-a" class="block text-sm font-medium text-gray-800">Side a <span class="text-red-600">*</span></label>
                <input id="side-a" type="number" inputmode="decimal" step="any" min="0" aria-required="true" aria-describedby="side-a-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <p id="side-a-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
              </div>
              <div>
                <label for="side-b" class="block text-sm font-medium text-gray-800">Side b <span class="text-red-600">*</span></label>
                <input id="side-b" type="number" inputmode="decimal" step="any" min="0" aria-required="true" aria-describedby="side-b-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <p id="side-b-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
              </div>
              <div>
                <label for="side-c" class="block text-sm font-medium text-gray-800">Side c <span class="text-red-600">*</span></label>
                <input id="side-c" type="number" inputmode="decimal" step="any" min="0" aria-required="true" aria-describedby="side-c-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <p id="side-c-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
              </div>
            </div>

            <div class="text-sm text-gray-600">
              You may enter any positive lengths. The tool verifies the triangle inequality automatically. Results use the Law of Cosines.
            </div>
          </form>

          <!-- MODE: Visual Angle -->
          <form id="form-visual" class="space-y-5 hidden" data-mode-panel="visual" aria-labelledby="mode-vis-label">
            <h2 id="mode-vis-label" class="text-lg font-semibold">Visual Angle</h2>
            <div>
              <label for="size" class="block text-sm font-medium text-gray-800">Object Size S (same units as distance) <span class="text-red-600">*</span></label>
              <div class="flex items-center gap-2">
                <input id="size" type="number" inputmode="decimal" step="any" min="0" aria-required="true" aria-describedby="size-help size-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
                <button type="button" class="icon-btn tap-target" aria-expanded="false" aria-controls="size-help" title="More about size">?</button>
              </div>
              <p id="size-help" class="text-sm text-gray-600 mt-1 hidden">Linear extent subtended by your gaze (e.g., screen height). Units cancel with distance if consistent.</p>
              <p id="size-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
            </div>

            <div>
              <label for="distance" class="block text-sm font-medium text-gray-800">Viewing Distance D <span class="text-red-600">*</span></label>
              <input id="distance" type="number" inputmode="decimal" step="any" min="0" aria-required="true" aria-describedby="distance-err"
                     class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
              <p id="distance-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
            </div>
          </form>

          <!-- MODE: Polygon -->
          <form id="form-polygon" class="space-y-5 hidden" data-mode-panel="polygon" aria-labelledby="mode-poly-label">
            <h2 id="mode-poly-label" class="text-lg font-semibold">Regular Polygon Angles</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label for="nsides" class="block text-sm font-medium text-gray-800">Number of sides n <span class="text-red-600">*</span></label>
                <input id="nsides" type="number" inputmode="numeric" step="1" min="3" aria-required="true" aria-describedby="nsides-err"
                       class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"/>
                <p id="nsides-err" class="text-sm text-red-700 mt-1" role="alert" hidden></p>
              </div>
              <div>
                <label for="turning" class="block text-sm font-medium text-gray-800">Turning (exterior) or interior</label>
                <select id="turning" class="mt-1 block w-full tap-target px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" aria-describedby="turning-help">
                  <option value="both" selected>Show both</option>
                  <option value="interior">Interior only</option>
                  <option value="exterior">Exterior only</option>
                </select>
                <p id="turning-help" class="text-sm text-gray-600 mt-1">Exterior (turning) angle is the step to trace the polygon; interior is at each vertex.</p>
              </div>
            </div>
          </form>
        </section>

        <!-- Results -->
        <section id="results-panel" class="mt-6 bg-blue-50 border border-blue-100 rounded-lg p-6">
          <h2 class="sr-only">Results</h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-xs font-semibold text-gray-600 uppercase tracking-wide">Primary Result</h3>
              <p id="res-primary" class="text-2xl font-bold text-blue-700 mt-1">—</p>
              <p id="res-primary-sub" class="text-sm text-gray-600 mt-1">Degrees (°)</p>
            </div>
            <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-xs font-semibold text-gray-600 uppercase tracking-wide">Arcminutes / Arcseconds</h3>
              <p id="res-dms" class="text-lg font-semibold text-gray-800 mt-1">—</p>
              <p class="text-sm text-gray-600 mt-1">D° M′ S″</p>
            </div>
            <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-xs font-semibold text-gray-600 uppercase tracking-wide">Supplementary Data</h3>
              <p id="res-extra" class="text-sm text-gray-800 mt-1">—</p>
            </div>
          </div>

          <details id="viz-details" class="mt-5 bg-white rounded-lg border">
            <summary class="px-4 py-3 font-semibold cursor-pointer">Show diagram</summary>
            <div class="px-4 pb-4 pt-2">
              <svg id="viz" viewBox="0 0 320 160" class="w-full h-40" role="img" aria-label="Angle diagram">
                <desc>Simple diagram illustrating the computed angle.</desc>
                <line x1="20" y1="140" x2="300" y2="140" stroke="#94a3b8" stroke-width="2"/>
                <circle cx="60" cy="140" r="4" fill="#1d4ed8"/>
                <line id="ray1" x1="60" y1="140" x2="300" y2="140" stroke="#1d4ed8" stroke-width="3"/>
                <line id="ray2" x1="60" y1="140" x2="300" y2="140" stroke="#f97316" stroke-width="3"/>
                <path id="arc" d="" fill="none" stroke="#10b981" stroke-width="3"/>
                <text id="arc-label" x="80" y="120" class="text-xs" fill="#0f172a">θ = —</text>
              </svg>
            </div>
          </details>

          <div class="mt-4">
            <button id="copy-results" class="tap-target inline-flex items-center justify-center px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500">Copy results</button>
            <button id="print-page" class="tap-target ml-2 inline-flex items-center justify-center px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50">Print</button>
            <span id="copy-status" class="ml-3 text-sm text-gray-600" role="status" aria-live="polite"></span>
          </div>
        </section>

        <!-- Authoritative Content -->
        <section class="bg-white p-6 rounded-lg shadow mt-8 prose">
          <h2>Data Source &amp; Methodology</h2>
          <p><strong>AuthoritativeDataSource:</strong> ISO 80000-3:2019 — <em>Quantities and units — Part 3: Space and time</em>, and standard Euclidean geometry identities (Law of Cosines). See also: NIST SP 811 (Guide for the Use of the International System of Units) for angle units (degree, arcminute, arcsecond). All calculations strictly follow the formulas and definitions provided by these sources.</p>
          <ul>
            <li><a href="https://www.iso.org/standard/64973.html" rel="nofollow">ISO 80000-3:2019</a></li>
            <li><a href="https://www.nist.gov/pml/special-publication-811" rel="nofollow">NIST SP 811</a></li>
          </ul>

          <h2>The formulas explained</h2>
          <div class="formula-box">
            Angle normalization: \\(\\operatorname{wrap}_{0..360}(\\alpha)= (\\alpha\\bmod 360 + 360)\\bmod 360\\)<br/>
            Angle difference (clockwise A→B): \\(\\Delta\\theta_{\\text{cw}} = \\operatorname{wrap}_{0..360}(\\alpha - \\beta)\\)<br/>
            Angle difference (counter-clockwise A→B): \\(\\Delta\\theta_{\\text{ccw}} = \\operatorname{wrap}_{0..360}(\\beta - \\alpha)\\)<br/>
            Smallest difference: \\(\\Delta\\theta_{\\min} = \\min(\\Delta\\theta_{\\text{cw}},\\,\\Delta\\theta_{\\text{ccw}})\\)<br/><br/>
            Law of Cosines (SSS): \\(\\cos A = \\tfrac{b^2 + c^2 - a^2}{2bc}\\), and cyclic permutations for \\(B, C\\).<br/><br/>
            Visual angle: \\(\\theta = 2\\,\\arctan\\!\\left(\\dfrac{S}{2D}\\right)\\). Small-angle approx.: \\(\\theta \\approx S/D\\) (radians).<br/><br/>
            Regular polygon (n ≥ 3): Interior \\(\\phi = \\dfrac{(n-2)\\cdot 180^\\circ}{n}\\), Exterior (turning) \\(\\psi = \\dfrac{360^\\circ}{n}\\).
          </div>

          <h2>Glossary of variables</h2>
          <ul>
            <li><strong>A, B</strong>: absolute directions/angles in degrees.</li>
            <li><strong>Δθ</strong>: angle difference (deg).</li>
            <li><strong>a, b, c</strong>: triangle sides opposite angles A, B, C.</li>
            <li><strong>S</strong>: object size across the field of view (same units as D).</li>
            <li><strong>D</strong>: viewing distance.</li>
            <li><strong>n</strong>: number of sides for a regular polygon.</li>
            <li><strong>φ</strong>: interior angle of a regular polygon.</li>
            <li><strong>ψ</strong>: exterior (turning) angle of a regular polygon.</li>
          </ul>

          <h2>How it works: a step-by-step example</h2>
          <h3>Example — Visual angle of a 30 cm object at 2.0 m</h3>
          <ol>
            <li>Inputs: \\(S = 0.30\\,\\text{m}\\), \\(D = 2.0\\,\\text{m}\\).</li>
            <li>Apply \\(\\theta = 2\\arctan(S/(2D)) = 2\\arctan(0.30/4.0)\\).</li>
            <li>Compute \\(\\theta \\approx 2\\arctan(0.075) \\approx 2\\times 4.289^\\circ = 8.578^\\circ\\).</li>
            <li>Convert: \\(8.578^\\circ = 8^\\circ\\,34'\\,41.\\!\\!\\,\\text{(approx)}\\).</li>
          </ol>

          <h2>Frequently asked questions</h2>
          <details>
            <summary>Is degree the only unit supported?</summary>
            <p>Primary results are in degrees, with DMS (degrees–minutes–seconds) provided. For radians, multiply degrees by \\(\\pi/180\\).</p>
          </details>
          <details>
            <summary>Can I enter negative or &gt;360° values?</summary>
            <p>Yes. Inputs are normalized to the [0°, 360°) range before computing differences.</p>
          </details>
          <details>
            <summary>What happens if the triangle sides don’t satisfy the triangle inequality?</summary>
            <p>The calculator flags an error and will not produce angles until valid side lengths are provided.</p>
          </details>
          <details>
            <summary>When should I use the small-angle approximation?</summary>
            <p>When \\(\\theta\\lt 10^\\circ\\) the relative error between \\(\\theta\\) and \\(S/D\\) (in radians) is very small.</p>
          </details>
          <details>
            <summary>Do polygons need to be regular?</summary>
            <p>Yes. The interior/exterior formulas apply to regular polygons where all sides and angles are equal.</p>
          </details>
          <details>
            <summary>How many decimal places are used?</summary>
            <p>By default we round to 4 decimals for degrees; DMS is rounded to the nearest arcsecond.</p>
          </details>
          <details>
            <summary>Can I copy results?</summary>
            <p>Yes—use the “Copy results” button. No data leaves your device.</p>
          </details>

          <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido</strong>. Content verified by the CalcDomain Editorial Board.<br/>
            Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
          </div>
        </section>
      </section>

      <!-- Aside -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky top-6 space-y-6">
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Why this calculator outperforms</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Four professional modes in a single, accessible UI.</li>
              <li>Inline validation with constructive guidance—no guesswork.</li>
              <li>Formulas in LaTeX with authoritative standards cited.</li>
              <li>Copy/print-ready outputs and DMS conversion.</li>
            </ul>
          </div>
          <div class="bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Related geometry tools</h3>
            <ul class="text-sm space-y-2">
              <li><a class="text-blue-700 hover:underline" href="right-triangle-calculator.html">Right-Triangle Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="triangle-calculator.html">Triangle Side/Angle Solver</a></li>
              <li><a class="text-blue-700 hover:underline" href="circle-calculator.html">Circle Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="regular-polygon-calculator.html">Regular Polygon Calculator</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-gray-700 text-sm">
      <p>&copy; 2025 CalcDomain. All rights reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator logic (defer) -->
  <script defer>
  (function(){
    // Helpers
    const $ = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));
    const clamp360 = a => ((a % 360) + 360) % 360;
    const toRad = d => d * Math.PI / 180;
    const toDeg = r => r * 180 / Math.PI;

    function fmtDeg(x) {
      if (!isFinite(x)) return '—';
      return (Math.round(x * 10000) / 10000).toString();
    }
    function toDMS(deg) {
      if (!isFinite(deg)) return '—';
      const sign = deg < 0 ? '-' : '';
      let d = Math.abs(deg);
      const D = Math.floor(d);
      d = (d - D) * 60;
      const M = Math.floor(d);
      const S = Math.round((d - M) * 60);
      return `${sign}${D}° ${M}′ ${S}″`;
    }

    // Tabs
    const tabBtns = $$('[role="tab"]');
    const panels = $$('[data-mode-panel]');
    function activate(mode) {
      tabBtns.forEach(b=>{
        const active = b.dataset.mode === mode;
        b.dataset.active = active ? 'true' : 'false';
        b.setAttribute('aria-selected', active ? 'true' : 'false');
        b.classList.toggle('bg-blue-600', active);
        b.classList.toggle('text-white', active);
      });
      panels.forEach(p => {
        p.classList.toggle('hidden', p.dataset.modePanel !== mode);
      });
      currentMode = mode;
      compute();
    }
    tabBtns.forEach(b => b.addEventListener('click', e => activate(b.dataset.mode)));

    // Tooltips
    $$('#calculator-ui .icon-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const el = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', expanded ? 'false' : 'true');
        el.classList.toggle('hidden', expanded);
      });
    });

    // Validation
    function setErr(input, msg) {
      const errId = input.getAttribute('aria-describedby')?.split(' ').find(id=>id.endsWith('-err'));
      if (!errId) return;
      const err = document.getElementById(errId);
      if (!msg) {
        err.hidden = true; err.textContent = '';
        input.setAttribute('aria-invalid','false');
      } else {
        err.hidden = false; err.textContent = msg;
        input.setAttribute('aria-invalid','true');
      }
    }
    function valPositive(input, name) {
      const v = parseFloat(input.value);
      if (!(v > 0)) { setErr(input, `${name} must be a positive number.`); return null; }
      setErr(input, ''); return v;
    }
    function onBlurPositive(e){ valPositive(e.target, e.target.previousElementSibling?.innerText?.replace('*','').trim() || 'Value'); }
    $$('#form-triangle input[type=number], #form-visual input[type=number], #form-polygon input[type=number]').forEach(i=>i.addEventListener('blur', onBlurPositive));
    $$('#form-diff input[type=number]').forEach(i=>i.addEventListener('blur', e=>{
      const v = parseFloat(e.target.value);
      if (isNaN(v)) setErr(e.target, 'Please enter a valid number.'); else setErr(e.target, '');
    }));

    // Inputs
    const a1 = $('#a1'), a2 = $('#a2');
    const triA = $('#side-a'), triB = $('#side-b'), triC = $('#side-c');
    const size = $('#size'), dist = $('#distance');
    const nsides = $('#nsides'), turning = $('#turning');

    // Results
    const resPrimary = $('#res-primary');
    const resPrimarySub = $('#res-primary-sub');
    const resDMS = $('#res-dms');
    const resExtra = $('#res-extra');

    // Diagram
    const ray1 = $('#ray1'), ray2 = $('#ray2'), arc = $('#arc'), arcLabel = $('#arc-label');

    // Mode state
    let currentMode = 'diff';

    // Compute functions
    function computeDiff() {
      const A = parseFloat(a1.value); const B = parseFloat(a2.value);
      if (!isFinite(A) || !isFinite(B)) return show('-', '-', '-');
      const A0 = clamp360(A), B0 = clamp360(B);
      const dir = $('input[name="dir"]:checked', $('#form-diff')).value;
      const cw = clamp360(A0 - B0);
      const ccw = clamp360(B0 - A0);
      const min = Math.min(cw, ccw);
      let out = cw;
      let label = 'Clockwise Δ (deg)';
      if (dir === 'ccw') { out = ccw; label = 'Counter-clockwise Δ (deg)'; }
      if (dir === 'min') { out = min; label = 'Smallest Δ (deg)'; }
      show(out, toDMSString(out), `A=${fmtDeg(A0)}°, B=${fmtDeg(B0)}°, CW=${fmtDeg(cw)}°, CCW=${fmtDeg(ccw)}°`);
      updateDiagram(A0, (dir==='ccw') ? A0+ccw : A0 - cw, out);
    }

    function toDMSString(deg) { return toDMS(deg); }

    function triangleInequality(a,b,c){ return a + b > c && a + c > b && b + c > a; }
    function computeTriangle() {
      const a = parseFloat(triA.value), b = parseFloat(triB.value), c = parseFloat(triC.value);
      if (!(a>0) || !(b>0) || !(c>0)) { show('-', '-', 'Enter three positive side lengths.'); return; }
      if (!triangleInequality(a,b,c)) {
        setErr(triA, ''); setErr(triB, ''); setErr(triC, '');
        setErr(triC, 'Triangle inequality not satisfied. Ensure each side is less than the sum of the other two.');
        show('-', '-', 'Invalid triangle.');
        return;
      }
      // Law of cosines
      const A = Math.acos( (b*b + c*c - a*a) / (2*b*c) );
      const B = Math.acos( (a*a + c*c - b*b) / (2*a*c) );
      const C = Math.acos( (a*a + b*b - c*c) / (2*a*b) );
      const Ad = toDeg(A), Bd = toDeg(B), Cd = toDeg(C);
      show(fmtDeg(Ad), `A=${toDMS(Ad)}, B=${toDMS(Bd)}, C=${toDMS(Cd)}`, `Sum ≈ ${fmtDeg(Ad+Bd+Cd)}°`);
      // Diagram: show A at base as primary
      updateDiagram(0, Ad, Ad);
    }

    function computeVisual() {
      const S = valPositive(size, 'Object size'); if (S == null) { show('-', '-', ''); return; }
      const D = valPositive(dist, 'Distance'); if (D == null) { show('-', '-', ''); return; }
      const theta = 2 * Math.atan( (S)/(2*D) );
      const deg = toDeg(theta);
      const approx = S/D; // radians
      show(fmtDeg(deg), toDMS(deg), `Small-angle approx ≈ ${(approx*180/Math.PI).toFixed(4)}°`);
      updateDiagram(0, deg, deg);
    }

    function computePolygon() {
      const n = parseFloat(nsides.value);
      if (!(n>=3)) { setErr(nsides, 'n must be ≥ 3.'); show('-', '-', ''); return; }
      setErr(nsides, '');
      const interior = (n - 2) * 180 / n;
      const exterior = 360 / n;
      const mode = turning.value;
      if (mode === 'interior') {
        show(fmtDeg(interior), toDMS(interior), `Exterior ${fmtDeg(exterior)}°`);
        updateDiagram(0, interior, interior);
      } else if (mode === 'exterior') {
        show(fmtDeg(exterior), toDMS(exterior), `Interior ${fmtDeg(interior)}°`);
        updateDiagram(0, exterior, exterior);
      } else {
        show(fmtDeg(interior), toDMS(interior), `Exterior ${fmtDeg(exterior)}°`);
        updateDiagram(0, interior, interior);
      }
    }

    function show(primary, dms, extra) {
      resPrimary.textContent = (typeof primary === 'number') ? fmtDeg(primary) : primary;
      resPrimarySub.textContent = 'Degrees (°)';
      resDMS.textContent = dms;
      resExtra.textContent = extra || '—';
    }

    // Simple diagram: two rays from a point, draw arc
    function updateDiagram(baseDeg, otherDeg, deltaDeg){
      // Base at (60,140), rays 140 length
      const O = {x:60, y:140}, L = 130;
      const a1 = toRad(baseDeg);
      const a2 = toRad(otherDeg);
      const p1 = { x: O.x + L*Math.cos(a1), y: O.y - L*Math.sin(a1) };
      const p2 = { x: O.x + L*Math.cos(a2), y: O.y - L*Math.sin(a2) };
      ray1.setAttribute('x2', p1.x); ray1.setAttribute('y2', p1.y);
      ray2.setAttribute('x2', p2.x); ray2.setAttribute('y2', p2.y);
      // Arc path (simple circular arc of radius 30)
      const r = 30;
      const largeArc = (deltaDeg > 180) ? 1 : 0;
      const end = { x: O.x + r*Math.cos(a2), y: O.y - r*Math.sin(a2) };
      const start = { x: O.x + r*Math.cos(a1), y: O.y - r*Math.sin(a1) };
      const path = `M ${start.x} ${start.y} A ${r} ${r} 0 ${largeArc} 0 ${end.x} ${end.y}`;
      arc.setAttribute('d', path);
      arcLabel.textContent = `θ = ${isFinite(deltaDeg)?fmtDeg(deltaDeg)+'°':'—'}`;
    }

    // Wire inputs to compute
    $$('#calculator-ui input, #calculator-ui select').forEach(el=>{
      el.addEventListener('input', compute);
      el.addEventListener('change', compute);
    });

    function compute(){
      if (currentMode === 'diff') computeDiff();
      else if (currentMode === 'triangle') computeTriangle();
      else if (currentMode === 'visual') computeVisual();
      else if (currentMode === 'polygon') computePolygon();
    }

    // Actions
    $('#copy-results').addEventListener('click', async ()=>{
      const text = `Primary: ${resPrimary.textContent} deg
DMS: ${resDMS.textContent}
Notes: ${resExtra.textContent}`;
      try {
        await navigator.clipboard.writeText(text);
        const s = $('#copy-status'); s.textContent = 'Copied.'; setTimeout(()=>s.textContent='', 1500);
      } catch { const s=$('#copy-status'); s.textContent='Copy failed.'; setTimeout(()=>s.textContent='', 2000); }
    });
    $('#print-page').addEventListener('click', ()=>window.print());

    // Default values
    a1.value = '350'; a2.value = '10';
    triA.value='3'; triB.value='4'; triC.value='5';
    size.value='0.30'; dist.value='2.0';
    nsides.value='6';

    // Initial compute
    activate('diff');
  })();
  </script>
</body>
</html>
