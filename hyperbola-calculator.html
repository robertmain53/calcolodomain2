<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hyperbola Calculator — Standard Form, Asymptotes, Foci, Directrices</title>
<meta name="description" content="Compute a hyperbola’s standard form, foci, vertices, asymptotes, directrices, eccentricity, and latus rectum. Drawn on canvas with instant validation and LaTeX formulas." />
<link rel="canonical" href="https://calcdomain.com/hyperbola-calculator.html" />

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<!-- Tailwind (JIT CDN) -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- MathJax for LaTeX -->
<script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
  :root {
    --brand:#1d4ed8; /* blue-700 */
    --ink:#111827;   /* gray-900 */
    --muted:#4b5563; /* gray-600 */
    --surface:#ffffff;
    --panel:#f9fafb; /* gray-50 */
    --ring:#2563eb;  /* blue-600 */
    --danger:#b91c1c;/* red-700 */
  }
  html,body{height:100%}
  body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--panel);color:var(--ink)}
  /* Prose */
  .prose { max-width: 70ch; }
  .prose h2 { font-size:1.5rem; font-weight:700; margin-top:2rem; margin-bottom:0.75rem; }
  .prose h3 { font-size:1.25rem; font-weight:700; margin-top:1.25rem; margin-bottom:0.5rem; }
  .prose p, .prose li { line-height:1.7; }
  .formula-box {
    background:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; padding:1rem; overflow-x:auto;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  }
  /* Focus ring */
  :where(a,button,input,select,textarea,summary,[role="switch"]) {
    outline: none;
  }
  :where(a,button,input,select,textarea,summary,[role="switch"]):focus-visible{
    box-shadow: 0 0 0 3px #bfdbfe, 0 0 0 6px var(--ring);
    border-radius: 8px;
  }
  /* Inputs */
  .field input,.field select,.field textarea{
    width:100%; padding:.6rem .75rem; border:1px solid #d1d5db; border-radius:.75rem; background:#fff; color:var(--ink);
  }
  .field input:focus,.field select:focus,.field textarea:focus{ border-color:var(--ring) }
  .req::after{ content:" *"; color:#dc2626; }
  .help { color:var(--muted); font-size:.875rem; margin-top:.35rem; }
  .error { color:#991b1b; font-size:.875rem; margin-top:.35rem; display:none; }
  .has-error .error{ display:block; }
  .tooltip {
    display:none; background:#111827; color:#fff; border-radius:.5rem; padding:.5rem .75rem; font-size:.875rem; max-width: 48ch;
  }
  .tooltip[aria-hidden="false"]{ display:block; }
  .tt-btn { inline-size: 2.25rem; block-size: 2.25rem; min-inline-size: 48px; min-block-size: 48px; display:inline-grid; place-items:center;
    border:1px solid #d1d5db; border-radius:999px; background:#fff; color:#111827; margin-left:.5rem; }
  .tt-btn:focus-visible{ box-shadow: 0 0 0 3px #bfdbfe, 0 0 0 6px var(--ring); }
  /* Results min-height to prevent CLS */
  #resultsArea{ min-height: 320px; }
  .result-card {
    background:var(--surface); border:1px solid #e5e7eb; border-radius:12px; padding:1rem; text-align:center;
  }
  .result-card h4{ font-size:.95rem; color:#4b5563; margin-bottom:.25rem; }
  .result-card p{ font-size:1.6rem; font-weight:800; color:var(--brand); word-break: break-word; }
  /* Canvas wrapper */
  .graph-wrap{ background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:.75rem; }
  /* Print */
  @media print {
    header, nav, aside, .no-print { display:none !important; }
    main { padding:0; }
    #print-section { position:absolute; inset:0; }
  }
</style>

<!-- JSON-LD: WebPage + WebApplication (Calculator) + Breadcrumbs + FAQ + HowTo -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://calcdomain.com/hyperbola-calculator.html",
      "url": "https://calcdomain.com/hyperbola-calculator.html",
      "name": "Hyperbola Calculator — Standard Form, Asymptotes, Foci, Directrices",
      "inLanguage": "en",
      "description": "Compute a hyperbola’s standard form, foci, vertices, asymptotes, directrices, eccentricity, and latus rectum. Includes a clean canvas plot and LaTeX formulas.",
      "breadcrumb": { "@id":"https://calcdomain.com/#/breadcrumbs/hyperbola" },
      "author": { "@type":"Person", "name":"Ugo Candido" },
      "publisher": { "@type":"Organization", "name":"CalcDomain" }
    },
    {
      "@type": "WebApplication",
      "name": "Hyperbola Calculator",
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Any",
      "url": "https://calcdomain.com/hyperbola-calculator.html",
      "offers": { "@type":"Offer", "price":"0", "priceCurrency":"USD" },
      "creator": { "@type":"Person", "name":"Ugo Candido" }
    },
    {
      "@type":"BreadcrumbList",
      "@id":"https://calcdomain.com/#/breadcrumbs/hyperbola",
      "itemListElement":[
        {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
        {"@type":"ListItem","position":2,"name":"Math","item":"https://calcdomain.com/math.html"},
        {"@type":"ListItem","position":3,"name":"Analytic Geometry","item":"https://calcdomain.com/subcategories/math-analytic-geometry.html"},
        {"@type":"ListItem","position":4,"name":"Hyperbola Calculator","item":"https://calcdomain.com/hyperbola-calculator.html"}
      ]
    },
    {
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"What parameters define a hyperbola?","acceptedAnswer":{"@type":"Answer","text":"Center (h,k), semi-axes a and b, orientation (horizontal or vertical). From these we derive c, eccentricity e, asymptotes, foci, directrices, and vertices."}},
        {"@type":"Question","name":"How do I know the orientation?","acceptedAnswer":{"@type":"Answer","text":"If the transverse axis is horizontal, the standard form is (x−h)^2/a^2 − (y−k)^2/b^2 = 1. If it is vertical, swap x and y so (y−k)^2/a^2 − (x−h)^2/b^2 = 1."}},
        {"@type":"Question","name":"What is c and how is it computed?","acceptedAnswer":{"@type":"Answer","text":"c^2 = a^2 + b^2. Then foci are (h±c,k) for horizontal or (h,k±c) for vertical."}},
        {"@type":"Question","name":"What is the eccentricity of a hyperbola?","acceptedAnswer":{"@type":"Answer","text":"e = c/a, which is always greater than 1 for hyperbolas."}},
        {"@type":"Question","name":"What are the asymptotes?","acceptedAnswer":{"@type":"Answer","text":"For horizontal: y−k = ±(b/a)(x−h). For vertical: y−k = ±(a/b)(x−h)."}},
        {"@type":"Question","name":"What are the directrices?","acceptedAnswer":{"@type":"Answer","text":"For horizontal: x = h ± a/e. For vertical: y = k ± a/e."}},
        {"@type":"Question","name":"What is the latus rectum length?","acceptedAnswer":{"@type":"Answer","text":"For a hyperbola, the length is 2b^2/a (measured through a focus, perpendicular to the transverse axis)."}}
      ]
    },
    {
      "@type":"HowTo",
      "name":"How to compute a hyperbola’s equation and key features",
      "step":[
        {"@type":"HowToStep","name":"Choose input mode","text":"Use Standard Parameters or Foci + Vertex. Orientation determines which standard form is used."},
        {"@type":"HowToStep","name":"Enter values","text":"Provide center (h,k) or foci and a vertex. Enter a and b or the required points."},
        {"@type":"HowToStep","name":"Review results","text":"Read standard form, foci, vertices, asymptotes, directrices, eccentricity, and latus rectum."},
        {"@type":"HowToStep","name":"View the plot","text":"The canvas shows both branches and asymptotes in the chosen domain."}
      ]
    }
  ]
}
</script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
</head>
<body>

<header class="bg-white border-b">
  <nav class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex items-center justify-between">
      <a href="index.html" class="text-2xl font-extrabold text-blue-700">CalcDomain</a>
      <div class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="text-gray-700 hover:text-blue-700">Advanced Search</a>
        <a href="index.html#categories" class="text-gray-700 hover:text-blue-700">Categories</a>
      </div>
    </div>
  </nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-8">
  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Main column -->
    <section class="w-full lg:w-2/3">
      <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
        <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
        <a href="math.html" class="hover:text-blue-700">Math</a> &raquo;
        <a href="subcategories/math-analytic-geometry.html" class="hover:text-blue-700">Analytic Geometry</a> &raquo;
        <span class="text-gray-900">Hyperbola Calculator</span>
      </nav>

      <div id="print-section" class="bg-white p-6 rounded-xl shadow">
        <h1 class="text-3xl font-extrabold mb-2">hyperbola calculator</h1>
        <p class="text-gray-700 mb-6">
          Compute a hyperbola’s <strong>standard form</strong>, <strong>foci</strong>, <strong>vertices</strong>, <strong>asymptotes</strong>,
          <strong>directrices</strong>, <strong>eccentricity</strong>, and <strong>latus rectum</strong>. Enter parameters directly or derive
          them from <em>foci + vertex</em>. Ideal for students, engineers, and educators needing accurate, explainable results.
        </p>

        <!-- Calculator UI -->
        <section aria-labelledby="calc-title" class="space-y-6">
          <h2 id="calc-title" class="sr-only">Hyperbola Calculator</h2>

          <!-- Input mode -->
          <div class="bg-gray-50 border border-gray-200 rounded-xl p-4">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
              <div>
                <label for="mode" class="block text-sm font-semibold text-gray-800">Input mode</label>
                <select id="mode" class="mt-1 field" aria-describedby="modeHelp">
                  <option value="standard" selected>Standard parameters (center, a, b, orientation)</option>
                  <option value="foci-vertex">From two foci + one vertex</option>
                </select>
                <p id="modeHelp" class="help">Pick how you want to provide the data.</p>
              </div>

              <div class="flex items-center">
                <label for="orientation" class="block text-sm font-semibold text-gray-800 req">Orientation</label>
                <div class="flex items-center gap-3 ml-4">
                  <label class="inline-flex items-center gap-2">
                    <input type="radio" name="orientation" id="ori-h" value="horizontal" checked aria-describedby="oriHelp">
                    <span>Horizontal (transverse along x)</span>
                  </label>
                  <label class="inline-flex items-center gap-2">
                    <input type="radio" name="orientation" id="ori-v" value="vertical" aria-describedby="oriHelp">
                    <span>Vertical (transverse along y)</span>
                  </label>
                  <button type="button" class="tt-btn" aria-expanded="false" aria-controls="oriTip" aria-label="Orientation help">?</button>
                </div>
              </div>
              <div id="oriTip" class="tooltip" role="note" aria-hidden="true">
                Orientation decides which variable has the positive term in standard form.
                Horizontal: \((x-h)^2/a^2 - (y-k)^2/b^2 = 1\). Vertical swaps x and y.
              </div>
              <p id="oriHelp" class="sr-only">Choose whether the transverse axis is horizontal or vertical.</p>
            </div>
          </div>

          <!-- Standard parameters -->
          <div id="panel-standard" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="field">
              <label for="h" class="block text-sm font-semibold text-gray-800">Center h</label>
              <input type="number" id="h" step="any" value="0" aria-required="true" aria-describedby="hHelp hErr">
              <p id="hHelp" class="help">Horizontal shift of the center.</p>
              <p id="hErr" class="error">Please enter a valid real number for h.</p>
            </div>
            <div class="field">
              <label for="k" class="block text-sm font-semibold text-gray-800">Center k</label>
              <input type="number" id="k" step="any" value="0" aria-required="true" aria-describedby="kHelp kErr">
              <p id="kHelp" class="help">Vertical shift of the center.</p>
              <p id="kErr" class="error">Please enter a valid real number for k.</p>
            </div>
            <div class="field">
              <div class="flex items-center">
                <label for="a" class="block text-sm font-semibold text-gray-800 req">a (semi-transverse)</label>
                <button type="button" class="tt-btn ml-2" aria-expanded="false" aria-controls="aTip" aria-label="What is a?">?</button>
              </div>
              <input type="number" id="a" step="any" min="0.0000001" value="5" aria-required="true" aria-describedby="aTip aErr">
              <div id="aTip" class="tooltip" aria-hidden="true">
                \(a > 0\). Distance from center to a vertex along the transverse axis.
              </div>
              <p id="aErr" class="error">a must be a positive number.</p>
            </div>
            <div class="field">
              <div class="flex items-center">
                <label for="b" class="block text-sm font-semibold text-gray-800 req">b (semi-conjugate)</label>
                <button type="button" class="tt-btn ml-2" aria-expanded="false" aria-controls="bTip" aria-label="What is b?">?</button>
              </div>
              <input type="number" id="b" step="any" min="0.0000001" value="3" aria-required="true" aria-describedby="bTip bErr">
              <div id="bTip" class="tooltip" aria-hidden="true">
                \(b > 0\). Determines slope of asymptotes: \( \pm b/a \) (horizontal) or \( \pm a/b \) (vertical).
              </div>
              <p id="bErr" class="error">b must be a positive number.</p>
            </div>
          </div>

          <!-- Foci + Vertex panel -->
          <div id="panel-foci-vertex" class="grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
            <div class="field">
              <label for="F1x" class="block text-sm font-semibold text-gray-800 req">Focus 1: x</label>
              <input type="number" id="F1x" step="any" value="-6" aria-required="true" aria-describedby="FVErr">
            </div>
            <div class="field">
              <label for="F1y" class="block text-sm font-semibold text-gray-800 req">Focus 1: y</label>
              <input type="number" id="F1y" step="any" value="0" aria-required="true" aria-describedby="FVErr">
            </div>
            <div class="field">
              <label for="F2x" class="block text-sm font-semibold text-gray-800 req">Focus 2: x</label>
              <input type="number" id="F2x" step="any" value="6" aria-required="true" aria-describedby="FVErr">
            </div>
            <div class="field">
              <label for="F2y" class="block text-sm font-semibold text-gray-800 req">Focus 2: y</label>
              <input type="number" id="F2y" step="any" value="0" aria-required="true" aria-describedby="FVErr">
            </div>
            <div class="field md:col-span-2">
              <label for="Vx" class="block text-sm font-semibold text-gray-800 req">A vertex: x</label>
              <input type="number" id="Vx" step="any" value="5" aria-required="true" aria-describedby="FVErr">
            </div>
            <div class="field md:col-span-2">
              <label for="Vy" class="block text-sm font-semibold text-gray-800 req">A vertex: y</label>
              <input type="number" id="Vy" step="any" value="0" aria-required="true" aria-describedby="FVErr">
            </div>
            <p id="FVErr" class="error md:col-span-2">Foci must be symmetric about the center and the provided vertex must lie on the transverse axis.</p>
          </div>

          <!-- Graph & actions -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
            <div class="graph-wrap">
              <canvas id="plot" width="600" height="420" aria-label="Hyperbola plot with asymptotes"></canvas>
              <div class="flex gap-3 mt-3 text-sm">
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" id="showAsym" checked>
                  <span>Show asymptotes</span>
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" id="showDirectrices">
                  <span>Show directrices</span>
                </label>
              </div>
            </div>
            <div class="bg-gray-50 border border-gray-200 rounded-xl p-4">
              <div class="flex gap-3 flex-wrap">
                <button id="btnCalc" class="px-4 py-2 rounded-lg bg-blue-700 text-white font-semibold">Calculate</button>
                <button id="btnReset" class="px-4 py-2 rounded-lg bg-white border font-semibold">Reset</button>
                <button id="btnCopyLatex" class="px-4 py-2 rounded-lg bg-white border font-semibold">Copy LaTeX</button>
                <button id="btnPrint" class="px-4 py-2 rounded-lg bg-white border font-semibold">Print</button>
              </div>
              <p class="help mt-3">Keyboard: Tab/Shift+Tab to navigate, Space/Enter to toggle. No keyboard traps.</p>
            </div>
          </div>
        </section>

        <!-- Results Area -->
        <section id="resultsArea" class="mt-8 bg-blue-50 border border-blue-100 rounded-xl p-6">
          <h2 class="text-xl font-bold text-blue-900 mb-4">Results</h2>

          <!-- Cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div class="result-card">
              <h4>Eccentricity (e)</h4>
              <p id="ecc">—</p>
            </div>
            <div class="result-card">
              <h4>c (focus distance)</h4>
              <p id="cval">—</p>
            </div>
            <div class="result-card">
              <h4>Latus rectum</h4>
              <p id="lr">—</p>
            </div>
            <div class="result-card">
              <h4>Orientation</h4>
              <p id="oriOut">—</p>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div class="bg-white border border-gray-200 rounded-xl p-4">
              <h3 class="font-semibold mb-2">Standard form</h3>
              <div class="formula-box" id="stdForm">\( \; \)</div>
            </div>
            <div class="bg-white border border-gray-200 rounded-xl p-4">
              <h3 class="font-semibold mb-2">Asymptotes</h3>
              <div class="formula-box" id="asymForm">\( \; \)</div>
            </div>
            <div class="bg-white border border-gray-200 rounded-xl p-4">
              <h3 class="font-semibold mb-2">Foci & Vertices</h3>
              <div class="formula-box" id="fvForm">\( \; \)</div>
            </div>
            <div class="bg-white border border-gray-200 rounded-xl p-4">
              <h3 class="font-semibold mb-2">Directrices</h3>
              <div class="formula-box" id="dirForm">\( \; \)</div>
            </div>
          </div>
        </section>
      </div>

      <!-- Authoritative ecosystem -->
      <article class="bg-white p-6 rounded-xl shadow mt-8 prose">
        <h2>Source of truth & methodology</h2>
        <p>
          Authoritative Data Source:
          <a href="https://mathworld.wolfram.com/Hyperbola.html" target="_blank" rel="noopener">MathWorld — “Hyperbola” (Wolfram)</a>,
          continuously updated; standard conic-section identities (\(c^2=a^2+b^2\), eccentricity \(e=c/a\), asymptotes, directrices).
          <br><em>“Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.”</em>
        </p>

        <h2>The formula explained</h2>
        <div class="formula-box">
          <p><strong>Horizontal transverse axis:</strong></p>
          \[
            \frac{(x-h)^2}{a^2} - \frac{(y-k)^2}{b^2} = 1,\quad
            c^2 = a^2 + b^2,\quad e=\frac{c}{a}>1
          \]
          \[
            \text{Foci: }(h\pm c,\,k),\quad
            \text{Vertices: }(h\pm a,\,k),\quad
            \text{Asymptotes: } y-k=\pm\frac{b}{a}(x-h),\quad
            \text{Directrices: } x=h\pm\frac{a}{e},\quad
            \text{Latus rectum: } \frac{2b^2}{a}
          \]
          <p><strong>Vertical transverse axis:</strong></p>
          \[
            \frac{(y-k)^2}{a^2} - \frac{(x-h)^2}{b^2} = 1,\quad
            \text{Asymptotes: } y-k=\pm\frac{a}{b}(x-h),\quad
            \text{Foci: }(h,\,k\pm c),\quad
            \text{Vertices: }(h,\,k\pm a),\quad
            \text{Directrices: } y=k\pm\frac{a}{e}
          \]
        </div>

        <h2>Glossary of variables</h2>
        <ul>
          <li><strong>h, k</strong> — center coordinates.</li>
          <li><strong>a</strong> — semi-transverse axis (center → vertex).</li>
          <li><strong>b</strong> — semi-conjugate axis (controls asymptote slope).</li>
          <li><strong>c</strong> — center → focus distance, \(c=\sqrt{a^2+b^2}\).</li>
          <li><strong>e</strong> — eccentricity, \(e=c/a\) (always &gt; 1).</li>
          <li><strong>Asymptotes</strong> — straight lines approximating the branches at infinity.</li>
          <li><strong>Directrices</strong> — reference lines at distance \(a/e\) from the center.</li>
          <li><strong>Latus rectum</strong> — chord through a focus, length \(2b^2/a\).</li>
        </ul>

        <h2>How it works: a step-by-step example</h2>
        <h3>Example</h3>
        <p>Choose orientation: <strong>horizontal</strong>. Enter \(h=0\), \(k=0\), \(a=5\), \(b=3\).</p>
        <ol>
          <li>Compute \(c=\sqrt{a^2+b^2}=\sqrt{25+9}=\sqrt{34}\approx 5.83095\).</li>
          <li>Eccentricity \(e=c/a\approx 5.83095/5=1.16619\).</li>
          <li>Standard form:
            \(\displaystyle \frac{x^2}{25}-\frac{y^2}{9}=1\).</li>
          <li>Asymptotes: \(y=\pm\frac{3}{5}x\).</li>
          <li>Foci: \((\pm \sqrt{34},0)\). Vertices: \((\pm5,0)\).</li>
          <li>Directrices: \(x=\pm a/e \approx \pm4.2875\).</li>
          <li>Latus rectum: \(2b^2/a = 2\cdot9/5 = 18/5 = 3.6\).</li>
        </ol>

        <h2>Frequently Asked Questions</h2>
        <details>
          <summary>Does a hyperbola enclose a finite area?</summary>
          <p>No. Each branch extends to infinity; area under the curve in standard axes is unbounded.</p>
        </details>
        <details>
          <summary>Can a or b be zero?</summary>
          <p>No. Both must be strictly positive to define a proper hyperbola.</p>
        </details>
        <details>
          <summary>How are asymptotes affected by translations?</summary>
          <p>They shift with the center \((h,k)\) but keep the same slopes.</p>
        </details>
        <details>
          <summary>Why is \(e&gt;1\) for hyperbolas?</summary>
          <p>Because \(c^2=a^2+b^2\Rightarrow c&gt;a\Rightarrow e=c/a&gt;1\).</p>
        </details>
        <details>
          <summary>What if my inputs come as endpoints of vertices and co-vertices?</summary>
          <p>Compute the center as midpoints; \(a\) and \(b\) are half the respective distances. Orientation is aligned with the segment connecting the vertices.</p>
        </details>

        <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700">
          <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br>
          Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
        </div>
      </article>
    </section>

    <!-- Sidebar -->
    <aside class="w-full lg:w-1/3">
      <div class="sticky top-8 space-y-6 no-print">
        <div class="bg-gray-200 h-72 rounded-xl flex items-center justify-center text-gray-600">Ad Placement (300×600)</div>
        <div class="bg-white p-6 rounded-xl shadow">
          <h3 class="font-bold text-lg mb-3">Why this calculator stands out</h3>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
            <li>Two input modes (parameters or foci + vertex).</li>
            <li>Instant LaTeX and a crisp canvas plot with asymptotes.</li>
            <li>WCAG 2.1 AA with inline validation and keyboard-first UX.</li>
          </ul>
        </div>
        <div class="bg-white p-6 rounded-xl shadow">
          <h3 class="font-bold text-lg mb-3">Related geometry tools</h3>
          <ul class="space-y-2 text-sm">
            <li><a href="parabola-calculator.html" class="text-blue-700 hover:underline">Parabola Calculator</a></li>
            <li><a href="ellipse-calculator.html" class="text-blue-700 hover:underline">Ellipse Calculator</a></li>
            <li><a href="circle-calculator.html" class="text-blue-700 hover:underline">Circle Calculator</a></li>
            <li><a href="conic-classifier.html" class="text-blue-700 hover:underline">Conic Section Classifier</a></li>
          </ul>
        </div>
      </div>
    </aside>
  </div>
</main>

<footer class="bg-white border-t">
  <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
    <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
    <div class="mt-4 space-x-4">
      <a href="about.html" class="hover:text-blue-700">About</a>
      <a href="contact.html" class="hover:text-blue-700">Contact</a>
      <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
      <a href="terms.html" class="hover:text-blue-700">Terms</a>
    </div>
  </div>
</footer>

<!-- Calculator Logic (defer implicit at end of body) -->
<script>
(function(){
  const $ = (id)=>document.getElementById(id);
  const els = {
    mode: $('mode'),
    oriH: $('ori-h'),
    oriV: $('ori-v'),
    oriTip: $('oriTip'),
    // standard
    panelStd: $('panel-standard'),
    h: $('h'), k:$('k'), a:$('a'), b:$('b'),
    aTip: $('aTip'), bTip: $('bTip'),
    // foci-vertex
    panelFV: $('panel-foci-vertex'),
    F1x:$('F1x'),F1y:$('F1y'),F2x:$('F2x'),F2y:$('F2y'),Vx:$('Vx'),Vy:$('Vy'),
    // toggles & actions
    showAsym:$('showAsym'), showDirectrices:$('showDirectrices'),
    btnCalc:$('btnCalc'), btnReset:$('btnReset'), btnCopyLatex:$('btnCopyLatex'), btnPrint:$('btnPrint'),
    // results
    ecc:$('ecc'), cval:$('cval'), lr:$('lr'), oriOut:$('oriOut'),
    stdForm:$('stdForm'), asymForm:$('asymForm'), fvForm:$('fvForm'), dirForm:$('dirForm'),
    // canvas
    plot:$('plot')
  };

  // Accessible tooltips
  function bindTooltip(button, tip){
    button.addEventListener('click', ()=>{
      const open = button.getAttribute('aria-expanded') === 'true';
      button.setAttribute('aria-expanded', String(!open));
      tip.setAttribute('aria-hidden', String(open));
    });
    button.addEventListener('keydown', (e)=>{
      if(e.key==='Escape'){ button.setAttribute('aria-expanded','false'); tip.setAttribute('aria-hidden','true'); button.focus(); }
    });
    document.addEventListener('click', (e)=>{
      if(!button.contains(e.target) && !tip.contains(e.target)){
        button.setAttribute('aria-expanded','false');
        tip.setAttribute('aria-hidden','true');
      }
    });
  }
  bindTooltip(document.querySelector('.tt-btn[aria-controls="oriTip"]'), els.oriTip);
  bindTooltip(document.querySelector('.tt-btn[aria-controls="aTip"]'), els.aTip);
  bindTooltip(document.querySelector('.tt-btn[aria-controls="bTip"]'), els.bTip);

  // Mode switch
  function syncMode(){
    const mode = els.mode.value;
    els.panelStd.classList.toggle('hidden', mode!=='standard');
    els.panelFV.classList.toggle('hidden', mode!=='foci-vertex');
  }
  els.mode.addEventListener('change', syncMode); syncMode();

  // Validation helpers
  function isNum(v){ return typeof v==='number' && !Number.isNaN(v) && Number.isFinite(v); }
  function pos(v){ return isNum(v) && v>0; }
  function getOrientation(){ return els.oriV.checked ? 'vertical' : 'horizontal'; }

  function showError(input, id, show){
    const p = $(id);
    const wrap = input.closest('.field')||input.parentElement;
    if(show){ wrap?.classList.add('has-error'); p&& (p.style.display='block'); }
    else { wrap?.classList.remove('has-error'); p&& (p.style.display='none'); }
  }

  // on-blur inline validation
  [els.h,els.k].forEach(inp=>{
    inp.addEventListener('blur',()=> showError(inp, inp.id==='h'?'hErr':'kErr', !isNum(parseFloat(inp.value))));
  });
  [els.a,els.b].forEach(inp=>{
    inp.addEventListener('blur',()=> showError(inp, inp.id+'Err', !pos(parseFloat(inp.value))));
  });

  // Compute from Standard
  function readStandard(){
    const h = parseFloat(els.h.value), k = parseFloat(els.k.value);
    const a = parseFloat(els.a.value), b = parseFloat(els.b.value);
    if(!isNum(h)||!isNum(k)||!pos(a)||!pos(b)) return null;
    return {h,k,a,b,orientation:getOrientation()};
  }

  // Compute from Foci + Vertex
  function readFociVertex(){
    const F1x = parseFloat(els.F1x.value), F1y = parseFloat(els.F1y.value);
    const F2x = parseFloat(els.F2x.value), F2y = parseFloat(els.F2y.value);
    const Vx = parseFloat(els.Vx.value),  Vy = parseFloat(els.Vy.value);
    if([F1x,F1y,F2x,F2y,Vx,Vy].some(v=>!isNum(v))) return null;

    // Center is midpoint of foci
    const h = (F1x+F2x)/2, k = (F1y+F2y)/2;
    // c is half distance between foci
    const c = 0.5*Math.hypot(F2x-F1x, F2y-F1y);
    if(!(c>0)) return null;

    // Orientation from foci alignment (dominant axis)
    const dx = Math.abs(F2x-F1x), dy = Math.abs(F2y-F1y);
    const orientation = (dx>=dy) ? 'horizontal' : 'vertical';

    // Vertex must be distance a from center along transverse axis
    const alongX = Math.abs(Vy-k) < 1e-9;
    const alongY = Math.abs(Vx-h) < 1e-9;

    let a;
    if(orientation==='horizontal' && alongX){
      a = Math.abs(Vx-h);
    } else if(orientation==='vertical' && alongY){
      a = Math.abs(Vy-k);
    } else {
      // invalid alignment
      return null;
    }
    if(!(a>0) || c<=a){ /* for hyperbola c>a always */
      return null;
    }
    const b = Math.sqrt(c*c - a*a); // since c^2=a^2+b^2
    return {h,k,a,b,orientation};
  }

  // Format helpers
  function fmt(n){
    if(!isNum(n)) return '—';
    const sign = Math.sign(n) < 0 ? '−' : '';
    n = Math.abs(n);
    return sign + (Math.abs(n) >= 1e6 ? n.toExponential(6) : n.toFixed(6).replace(/\.?0+$/,''));
  }
  const latex = {
    stdHorizontal:(h,k,a,b)=>`\\frac{(x-${h===0?0:`${fmt(h)}`})^2}{${fmt(a*a)}}-\\frac{(y-${k===0?0:`${fmt(k)}`})^2}{${fmt(b*b)}}=1`
      .replaceAll('(x-0)','x').replaceAll('(y-0)','y'),
    stdVertical:(h,k,a,b)=>`\\frac{(y-${k===0?0:`${fmt(k)}`})^2}{${fmt(a*a)}}-\\frac{(x-${h===0?0:`${fmt(h)}`})^2}{${fmt(b*b)}}=1`
      .replaceAll('(x-0)','x').replaceAll('(y-0)','y'),
    asymHorizontal:(h,k,a,b)=>`y-${fmt(k)}=\\pm\\frac{${fmt(b)}}{${fmt(a)}}(x-${fmt(h)})`,
    asymVertical:(h,k,a,b)=>`y-${fmt(k)}=\\pm\\frac{${fmt(a)}}{${fmt(b)}}(x-${fmt(h)})`,
    fociVerticesH:(h,k,a,c)=>`\\text{Foci: }(${fmt(h)}\\pm ${fmt(c)},\\,${fmt(k)})\\quad \\text{Vertices: }(${fmt(h)}\\pm ${fmt(a)},\\,${fmt(k)})`,
    fociVerticesV:(h,k,a,c)=>`\\text{Foci: }(${fmt(h)},\\,${fmt(k)}\\pm ${fmt(c)})\\quad \\text{Vertices: }(${fmt(h)},\\,${fmt(k)}\\pm ${fmt(a)})`,
    dirH:(h,k,a,e)=>`x=${fmt(h)}\\pm\\frac{${fmt(a)}}{${fmt(e)}}`,
    dirV:(h,k,a,e)=>`y=${fmt(k)}\\pm\\frac{${fmt(a)}}{${fmt(e)}}`
  };

  // Plotting
  const ctx = els.plot.getContext('2d');
  function clearPlot(){ ctx.clearRect(0,0,els.plot.width,els.plot.height); }
  function plotAxes(scale, h, k){
    const W=els.plot.width, H=els.plot.height;
    ctx.save();
    ctx.translate(W/2, H/2);
    // grid
    ctx.strokeStyle = '#e5e7eb';
    ctx.lineWidth = 1;
    for(let x=-W/2; x<=W/2; x+=scale){
      ctx.beginPath(); ctx.moveTo(x,-H/2); ctx.lineTo(x,H/2); ctx.stroke();
    }
    for(let y=-H/2; y<=H/2; y+=scale){
      ctx.beginPath(); ctx.moveTo(-W/2,y); ctx.lineTo(W/2,y); ctx.stroke();
    }
    // axes
    ctx.strokeStyle = '#9ca3af'; ctx.lineWidth = 2;
    ctx.beginPath(); ctx.moveTo(-W/2,0); ctx.lineTo(W/2,0); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(0,-H/2); ctx.lineTo(0,H/2); ctx.stroke();
    // center
    ctx.fillStyle = '#111827';
    const cx = h*scale, cy = -k*scale;
    ctx.beginPath(); ctx.arc(cx, cy, 3, 0, 2*Math.PI); ctx.fill();
    ctx.restore();
  }
  function drawLine(m, b, scale, color){
    const W=els.plot.width, H=els.plot.height;
    ctx.save(); ctx.translate(W/2, H/2); ctx.scale(1,-1);
    ctx.strokeStyle=color; ctx.lineWidth=1.5;
    // y = m(x-h) + k => convert to pixel coords by sampling
    const xmin = -W/2/scale, xmax = W/2/scale, step = (xmax-xmin)/200;
    ctx.beginPath();
    let started=false;
    for(let x=xmin; x<=xmax; x+=step){
      const y = m*x + b;
      const X = x*scale, Y = y*scale;
      if(!started){ ctx.moveTo(X,Y); started=true; } else ctx.lineTo(X,Y);
    }
    ctx.stroke();
    ctx.restore();
  }
  function drawVertical(x, scale, color){
    const W=els.plot.width, H=els.plot.height;
    ctx.save(); ctx.translate(W/2, H/2);
    ctx.strokeStyle=color; ctx.lineWidth=1.5;
    const X = x*scale;
    ctx.beginPath(); ctx.moveTo(X,-H/2); ctx.lineTo(X,H/2); ctx.stroke();
    ctx.restore();
  }
  function plotHyperbola(params){
    const {h,k,a,b,orientation} = params;
    const W=els.plot.width, H=els.plot.height;
    const scale = Math.max(14, Math.min(38, Math.floor(Math.min(W,H) / (6*a)) * 10)); // heuristic scaling
    clearPlot();
    plotAxes(scale, h, k);

    // Draw asymptotes
    if(els.showAsym.checked){
      if(orientation==='horizontal'){
        const m = b/a;
        drawLine(m, k - m*h, scale, '#2563eb');
        drawLine(-m, k + m*h, scale, '#2563eb');
      } else {
        const m = a/b;
        drawLine(m, k - m*h, scale, '#2563eb');
        drawLine(-m, k + m*h, scale, '#2563eb');
      }
    }

    // Draw directrices (optional)
    if(els.showDirectrices.checked){
      const c = Math.sqrt(a*a + b*b);
      const e = c / a;
      if(orientation==='horizontal'){
        drawVertical(h + a/e, scale, '#f59e0b');
        drawVertical(h - a/e, scale, '#f59e0b');
      } else {
        // y = k ± a/e
        drawLine(0, k + a/e, scale, '#f59e0b');
        drawLine(0, k - a/e, scale, '#f59e0b');
      }
    }

    // Draw branches by sampling x-domain
    ctx.save(); ctx.translate(W/2, H/2); ctx.scale(1,-1);
    ctx.strokeStyle = '#111827'; ctx.lineWidth = 2;

    const xmin = -W/2/scale - h, xmax = W/2/scale - h;
    const step = (xmax - xmin)/600;

    if(orientation==='horizontal'){
      const xLeftMax = -a - 0.001, xRightMin = a + 0.001;
      // Right branch (x>=h+a)
      ctx.beginPath(); let started=false;
      for(let x = xRightMin; x <= xmax; x+=step){
        const yAbs = Math.sqrt( ( (x*x - a*a) * b*b ) / (a*a) );
        const X = (x+h)*scale;
        const Y1 = (k + yAbs)*scale, Y2=(k - yAbs)*scale;
        if(!started){ ctx.moveTo(X,Y1); started=true; } else ctx.lineTo(X,Y1);
      }
      ctx.stroke();
      ctx.beginPath(); started=false;
      for(let x = xRightMin; x <= xmax; x+=step){
        const yAbs = Math.sqrt( ( (x*x - a*a) * b*b ) / (a*a) );
        const X = (x+h)*scale, Y2=(k - yAbs)*scale;
        if(!started){ ctx.moveTo(X,Y2); started=true; } else ctx.lineTo(X,Y2);
      }
      ctx.stroke();
      // Left branch (x<=h-a)
      ctx.beginPath(); started=false;
      for(let x = xmin; x <= xLeftMax; x+=step){
        const yAbs = Math.sqrt( ( (x*x - a*a) * b*b ) / (a*a) );
        const X = (x+h)*scale, Y1=(k + yAbs)*scale;
        if(!started){ ctx.moveTo(X,Y1); started=true; } else ctx.lineTo(X,Y1);
      }
      ctx.stroke();
      ctx.beginPath(); started=false;
      for(let x = xmin; x <= xLeftMax; x+=step){
        const yAbs = Math.sqrt( ( (x*x - a*a) * b*b ) / (a*a) );
        const X = (x+h)*scale, Y2=(k - yAbs)*scale;
        if(!started){ ctx.moveTo(X,Y2); started=true; } else ctx.lineTo(X,Y2);
      }
      ctx.stroke();
    } else { // vertical
      // swap roles by symmetry: sample y domain
      const ymin = -H/2/scale - k, ymax = H/2/scale - k;
      const yLowMax = -a - 0.001, yHighMin = a + 0.001;
      const ystep = (ymax - ymin)/600;

      // Upper branch (y>=k+a)
      ctx.beginPath(); let started=false;
      for(let y = yHighMin; y <= ymax; y+=ystep){
        const xAbs = Math.sqrt( ( (y*y - a*a) * b*b ) / (a*a) );
        const Y = (y+k)*scale, X1=(h + xAbs)*scale, X2=(h - xAbs)*scale;
        if(!started){ ctx.moveTo(X1,Y); started=true; } else ctx.lineTo(X1,Y);
      }
      ctx.stroke();
      ctx.beginPath(); started=false;
      for(let y = yHighMin; y <= ymax; y+=ystep){
        const xAbs = Math.sqrt( ( (y*y - a*a) * b*b ) / (a*a) );
        const Y = (y+k)*scale, X2=(h - xAbs)*scale;
        if(!started){ ctx.moveTo(X2,Y); started=true; } else ctx.lineTo(X2,Y);
      }
      ctx.stroke();

      // Lower branch (y<=k-a)
      ctx.beginPath(); started=false;
      for(let y = ymin; y <= yLowMax; y+=ystep){
        const xAbs = Math.sqrt( ( (y*y - a*a) * b*b ) / (a*a) );
        const Y = (y+k)*scale, X1=(h + xAbs)*scale;
        if(!started){ ctx.moveTo(X1,Y); started=true; } else ctx.lineTo(X1,Y);
      }
      ctx.stroke();
      ctx.beginPath(); started=false;
      for(let y = ymin; y <= yLowMax; y+=ystep){
        const xAbs = Math.sqrt( ( (y*y - a*a) * b*b ) / (a*a) );
        const Y = (y+k)*scale, X2=(h - xAbs)*scale;
        if(!started){ ctx.moveTo(X2,Y); started=true; } else ctx.lineTo(X2,Y);
      }
      ctx.stroke();
    }
    ctx.restore();
  }

  function compute(){
    let p = null;
    if(els.mode.value==='standard'){
      p = readStandard();
    } else {
      p = readFociVertex();
      if(!p){
        // show error block for FV
        $('FVErr').style.display='block';
        return;
      } else $('FVErr').style.display='none';
    }
    if(!p) return;

    const {h,k,a,b,orientation} = p;
    const c = Math.sqrt(a*a + b*b);
    const e = c/a;
    const lr = 2*b*b/a;

    // Outputs
    els.ecc.textContent = (e).toFixed(6).replace(/\.?0+$/,'');
    els.cval.textContent = (c).toFixed(6).replace(/\.?0+$/,'');
    els.lr.textContent = (lr).toFixed(6).replace(/\.?0+$/,'');
    els.oriOut.textContent = orientation;

    // LaTeX blocks
    const std = orientation==='horizontal' ? latex.stdHorizontal(h,k,a,b) : latex.stdVertical(h,k,a,b);
    const asym = orientation==='horizontal' ? latex.asymHorizontal(h,k,a,b) : latex.asymVertical(h,k,a,b);
    const fv = orientation==='horizontal' ? latex.fociVerticesH(h,k,a,c) : latex.fociVerticesV(h,k,a,c);
    const dir = orientation==='horizontal' ? latex.dirH(h,k,a,e) : latex.dirV(h,k,a,e);

    els.stdForm.textContent = `\\(${std}\\)`;
    els.asymForm.textContent = `\\(${asym}\\)`;
    els.fvForm.textContent = `\\(${fv}\\)`;
    els.dirForm.textContent = `\\(${dir}\\)`;
    if(window.MathJax?.typeset){ MathJax.typeset([els.stdForm,els.asymForm,els.fvForm,els.dirForm]); }

    plotHyperbola(p);
    // store last LaTeX for copy
    lastLatex = {std,asym,fv,dir};
  }

  // Buttons
  els.btnCalc.addEventListener('click', compute);
  els.btnReset.addEventListener('click', ()=>{
    // Reset to defaults
    els.mode.value='standard'; syncMode();
    els.oriH.checked = true;
    [els.h,els.k,els.a,els.b].forEach((x,i)=>{
      x.value = [0,0,5,3][i];
      showError(x, (x.id==='h'?'hErr':x.id==='k'?'kErr':x.id+'Err'), false);
    });
    els.showAsym.checked = true; els.showDirectrices.checked = false;
    els.F1x.value=-6; els.F1y.value=0; els.F2x.value=6; els.F2y.value=0; els.Vx.value=5; els.Vy.value=0;
    $('FVErr').style.display='none';
    compute();
  });
  let lastLatex = null;
  els.btnCopyLatex.addEventListener('click', async ()=>{
    if(!lastLatex) compute();
    const txt = [
      'Standard form:', lastLatex.std,
      'Asymptotes:', lastLatex.asym,
      'Foci & Vertices:', lastLatex.fv,
      'Directrices:', lastLatex.dir
    ].join('\n');
    try{
      await navigator.clipboard.writeText(txt);
      els.btnCopyLatex.textContent='Copied!';
      setTimeout(()=>els.btnCopyLatex.textContent='Copy LaTeX',1200);
    }catch(e){
      alert('Copy failed. You can select the LaTeX blocks and copy manually.');
    }
  });
  els.btnPrint.addEventListener('click', ()=> window.print());

  // Live toggles re-render
  els.showAsym.addEventListener('change', compute);
  els.showDirectrices.addEventListener('change', compute);
  [els.oriH,els.oriV].forEach(r=>r.addEventListener('change', compute));
  ['h','k','a','b','F1x','F1y','F2x','F2y','Vx','Vy'].forEach(id=>{
    const node = $(id); node.addEventListener('input', ()=>{ /* soft live compute */ compute(); });
    node.addEventListener('blur', ()=>{ /* on-blur validation already set above; ensure recompute */ compute(); });
  });

  // Initial render
  compute();
})();
</script>
</body>
</html>
