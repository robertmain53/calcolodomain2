<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<title>Radical (Root) Calculator</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Professional root calculator for n-th roots. Simplify radicals, detect perfect powers, and compute real or complex n-th roots with step-by-step explanations." name="description"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/root.html" rel="canonical"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="index, follow" name="robots"/>
<meta content="IE=edge" http-equiv="x-ua-compatible"/>
<link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E√%3C/text%3E%3C/svg%3E" rel="icon"/>
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect"/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Radical (Root) Calculator",
  "description": "Compute exact and approximate n-th roots. Simplify radicals, detect perfect powers, and show real or complex results with clear steps.",
  "url": "https://calcdomain.com/root.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "dateModified": "2025-09-14",
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Simplify and evaluate the square root of 500 using factorization and extract-perfect-powers method.",
      "totalTime": "PT1M",
      "tool": [
        {
          "@type": "HowToTool",
          "name": "Radical (Root) Calculator"
        }
      ],
      "supply": [
        {
          "@type": "HowToSupply",
          "name": "Radicand: 500"
        },
        {
          "@type": "HowToSupply",
          "name": "Index: 2"
        },
        {
          "@type": "HowToSupply",
          "name": "Precision: 6 decimals"
        }
      ],
      "step": [
        {
          "@type": "HowToStep",
          "name": "Prime factorization",
          "text": "500 = 2^2 × 5^3."
        },
        {
          "@type": "HowToStep",
          "name": "Extract perfect powers",
          "text": "Groups of 2 (the index) exit: 2 and 5^2 form 10 outside the radical."
        },
        {
          "@type": "HowToStep",
          "name": "Simplified radical",
          "text": "√500 = 10√5."
        },
        {
          "@type": "HowToStep",
          "name": "Decimal evaluation",
          "text": "√500 ≈ 22.360680 (6-decimal rounding)."
        }
      ],
      "estimatedCost": {
        "@type": "MonetaryAmount",
        "currency": "USD",
        "value": "0"
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is an n-th root?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For a number x and integer n ≥ 2, the n-th root is a value y such that y^n = x. For non-negative x, the principal n-th root is the unique non-negative solution."
          }
        },
        {
          "@type": "Question",
          "name": "Can I simplify radicals with this tool?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. For non-negative integer radicands, the calculator factors the radicand and extracts perfect n-th powers, returning a simplified form like a·√[n]{b}."
          }
        },
        {
          "@type": "Question",
          "name": "How are negative inputs handled?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "In the Real domain, negative radicands are allowed only for odd indices. In the Complex domain, the principal root for even indices is given in both polar and a+bi forms, with an option to list all n complex roots."
          }
        },
        {
          "@type": "Question",
          "name": "What precision is used for decimals?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can choose 0–12 decimals. The tool uses IEEE 754 double precision and rounds the displayed value to the selected number of decimals."
          }
        },
        {
          "@type": "Question",
          "name": "How do I know if the result is a perfect root?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator checks if the radicand is a perfect n-th power within a small tolerance and will show an exact integer result when detected."
          }
        },
        {
          "@type": "Question",
          "name": "Do you show all complex n-th roots?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Enable Complex domain and expand the “All n complex roots” panel to view the n equally spaced roots on the complex plane."
          }
        },
        {
          "@type": "Question",
          "name": "Do you store my inputs?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. All calculations occur locally in your browser."
          }
        }
      ]
    }
  ]
}
  </script>
<style>
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#6C757D; --border-color:#DEE2E6;
      --success-color:#198754; --error-color:#DC3545; --warning-color:#FFC107;

      --font-sans-serif:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      --font-monospace:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

      --touch-target-min:48px;
      --input-padding:clamp(.75rem,2vw,1rem);
      --radius-sm:6px; --radius-md:8px; --radius-lg:12px;

      --transition:.2s ease-in-out;

      --container-max:1200px;
      --gap-xs:.5rem; --gap-sm:.75rem; --gap-md:1rem; --gap-lg:2rem;
    }

    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; scroll-behavior:auto !important; }
    }

    *{ box-sizing:border-box; }
    html{ font-size:clamp(16px,2.2vw,18px); }
    body{
      margin:0;
      font-family:var(--font-sans-serif);
      background:var(--background-color);
      color:var(--text-color);
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .skip-link{
      position:absolute; top:-40px; left:8px;
      background:var(--primary-color); color:#fff; padding:8px 12px; border-radius:0 0 4px 4px;
      text-decoration:none; z-index:1000;
    }
    .skip-link:focus{ top:0; }

    header.site-header{
      background:var(--surface-color);
      border-bottom:1px solid var(--border-color);
      position:static; /* non-sticky per mobile space */
    }
    .header-inner{
      max-width:var(--container-max); margin:0 auto; padding:.75rem clamp(1rem,4vw,2rem);
      display:flex; align-items:center; gap:var(--gap-md); justify-content:space-between;
    }
    .brand{
      font-weight:700; color:var(--primary-color); font-size:1.25rem; text-decoration:none;
    }
    .brand:focus{ outline:3px solid var(--primary-color); outline-offset:2px; border-radius:4px; }
    form.site-search{ display:flex; align-items:center; gap:.5rem; flex:1; max-width:520px; margin-left:auto; }
    form.site-search input[type="search"]{
      flex:1 1 auto; min-width:0; width:100%;
      padding:.6rem .75rem; border:1px solid var(--border-color); border-radius:8px; background:#fff;
    }
    form.site-search input[type="search"]:focus{
      outline:none; border-color:var(--primary-color); box-shadow:0 0 0 3px rgba(0,90,156,.15);
    }
    form.site-search button{
      min-height:var(--touch-target-min); min-width:var(--touch-target-min);
      padding:.5rem .9rem; border-radius:8px; border:1px solid var(--primary-color); background:transparent; color:var(--primary-color); font-weight:600; cursor:pointer;
    }
    form.site-search button:hover{ background:var(--primary-color); color:#fff; }
    form.site-search button:focus{ outline:3px solid var(--primary-color); outline-offset:2px; }

    main{ padding:var(--gap-lg) 0; }
    .container{ max-width:var(--container-max); margin:0 auto; padding:0 clamp(1rem,4vw,2rem); }

    h1,h2,h3{ color:var(--secondary-color); margin:0 0 .75rem; line-height:1.25; }
    p{ margin:0 0 1rem; max-width:75ch; }
    .breadcrumb{ font-size:.9rem; color:var(--muted-text-color); margin-bottom:.75rem; }

    .calculator-layout{
      display:grid; grid-template-columns:1fr; gap:var(--gap-lg); margin-top:.5rem;
    }
    @media (min-width: 992px){
      .calculator-layout{ grid-template-columns: minmax(280px,420px) 1fr; }
    }

    .card{
      background:var(--surface-color);
      border:1px solid var(--border-color);
      border-radius:var(--radius-lg);
      padding:clamp(1rem,3vw,1.5rem);
      box-shadow:0 4px 6px rgba(0,0,0,.05);
    }

    .calculator-container .form-group{ margin-bottom:1rem; }
    .calculator-container label{ display:block; font-weight:600; margin-bottom:.4rem; }
    .label-row{ display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
    .required-asterisk{ color:var(--error-color); margin-left:.25rem; }
    .help-btn{
      appearance:none; border:1px solid var(--border-color); background:#fff; color:var(--secondary-color);
      border-radius:50%; width:32px; height:32px; min-width:32px; min-height:32px; line-height:1; font-weight:800; cursor:pointer;
    }
    .help-btn:focus{ outline:3px solid var(--primary-color); outline-offset:2px; }
    .tooltip{
      margin-top:.25rem; background:#eef5fb; border:1px solid #cfe3f5; color:#0b3c66;
      border-radius:6px; padding:.5rem .65rem; font-size:.95rem;
    }

    .input-group{ position:relative; }
    .form-control{
      width:100%; min-height:48px; padding:var(--input-padding);
      border:1px solid var(--border-color); border-radius:var(--radius-md); font-size:1rem;
      transition:border-color var(--transition), box-shadow var(--transition);
      background:#fff;
    }
    .form-control:focus-visible{
      outline:3px solid var(--primary-color); outline-offset:2px; border-color:var(--primary-color);
      box-shadow:0 0 0 3px rgba(0,90,156,.15);
    }
    .form-control[aria-invalid="true"]{ border-color:var(--error-color); }

    .error-message{ color:var(--error-color); font-size:.9rem; margin-top:.25rem; min-height:1.25em; }

    .radio-group{
      display:flex; gap:.5rem; border:1px solid var(--border-color); border-radius:var(--radius-md); padding:.25rem;
    }
    .radio-option{ position:relative; flex:1; }
    .radio-option input[type="radio"]{
      position:absolute; opacity:0; inset:0; width:100%; height:100%;
    }
    .radio-option label{
      display:flex; align-items:center; justify-content:center; gap:.5rem;
      min-height:48px; padding:.5rem; border-radius:var(--radius-md); cursor:pointer; user-select:none;
    }
    .radio-option input[type="radio"]:checked + label{ background:var(--primary-color); color:#fff; }
    .radio-option input[type="radio"]:focus-visible + label{ outline:3px solid var(--primary-color); outline-offset:2px; }

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
      min-height:var(--touch-target-min); min-width:var(--touch-target-min);
      padding:.75rem 1rem; border-radius:var(--radius-md); border:1px solid transparent; cursor:pointer; font-weight:600;
    }
    .btn-primary{ background:var(--primary-color); color:#fff; border-color:var(--primary-color); }
    .btn-primary:hover{ background:var(--secondary-color); border-color:var(--secondary-color); }
    .btn-secondary{ background:transparent; color:var(--primary-color); border-color:var(--primary-color); }
    .btn-secondary:hover{ background:var(--primary-color); color:#fff; }

    .actions{ display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.5rem; }

    .results-container{
      background:var(--background-color);
      border:1px solid var(--border-color);
      border-radius:var(--radius-lg);
      padding:1rem;
      min-height:260px; /* prevent CLS */
    }
    .results-grid{ display:grid; grid-template-columns:1fr; gap:.75rem; }
    @media (min-width:600px){ .results-grid{ grid-template-columns:repeat(2, 1fr); } }
    .result-item{
      background:#fff; border:1px solid var(--border-color); border-radius:10px; padding:.75rem .9rem;
      display:flex; flex-direction:column; gap:.25rem;
    }
    .result-label{ color:var(--muted-text-color); font-size:.95rem; }
    .result-value{ font-weight:700; font-size:1.15rem; color:var(--success-color); font-family:var(--font-monospace); word-break:break-all; }

    details.all-roots summary{
      cursor:pointer; font-weight:600; color:var(--secondary-color);
    }
    details.all-roots{ margin-top:.5rem; }

    .content-container h2{ margin-top:1.5rem; padding-top:.5rem; border-top:1px solid var(--border-color); }
    .formula-box{
      background:#e9f3ff; color:#0b3c66; border:1px solid #cfe3f5; border-radius:10px;
      padding:1rem; overflow-x:auto;
    }
    .glossary{ display:grid; grid-template-columns:1fr; gap:.5rem; }
    @media (min-width:700px){ .glossary{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
    .glossary .term{ background:#fff; border:1px solid var(--border-color); border-radius:8px; padding:.6rem .75rem; }

    .author-box{
      margin-top:1.5rem; padding-top:1rem; border-top:1px solid var(--border-color); color:var(--muted-text-color); font-size:.95rem;
    }

    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
<script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)']], displayMath: [['$$','$$']] },
      options: { renderActions: { addMenu: [] } }
    };
  </script>
<script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
</head>
<body>
<a class="skip-link" href="#main-content">Skip to main content</a>

<main class="container" id="main-content" role="main">
<nav aria-label="Breadcrumb" class="breadcrumb">
<a href="/">Home</a> › <a href="https://calcdomain.com/math.html">Math</a> › <a href="https://calcdomain.com/algebra.html">Algebra</a> › Root Calculator
    </nav>
<h1>Radical (Root) Calculator</h1>
<p>
      A professional-grade root calculator to compute n-th roots accurately, simplify radicals, detect perfect powers, and present real or complex results with clear steps. Ideal for students, engineers, and educators who need trustworthy, accessible, and fast results.
    </p>
<div class="calculator-layout">
<section aria-labelledby="calc-heading" class="calculator-container card" id="root-calculator">
<h2 class="sr-only" id="calc-heading">Root Calculator Inputs</h2>
<div class="form-group">
<fieldset>
<legend class="sr-only">Choose number domain</legend>
<div aria-label="Number domain" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="domainReal" name="domain" type="radio" value="real"/>
<label for="domainReal">Real</label>
</div>
<div class="radio-option">
<input id="domainComplex" name="domain" type="radio" value="complex"/>
<label for="domainComplex">Complex</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group">
<div class="label-row">
<label for="radicand">Radicand *</label>
<button aria-controls="tipRadicand" aria-expanded="false" aria-label="Help: Radicand" class="help-btn" id="tipBtnRadicand" type="button">?</button>
<span aria-hidden="true" class="required-asterisk">*</span>
</div>
<div class="input-group">
<input aria-describedby="radicandError tipRadicand" aria-required="true" class="form-control" id="radicand" placeholder="e.g., 500 or -27" step="any" type="number"/>
</div>
<div class="tooltip" hidden="" id="tipRadicand" role="tooltip">
            The number under the radical sign. Can be negative for odd indices in the Real domain or for any index in the Complex domain.
          </div>
<div aria-live="polite" class="error-message" id="radicandError" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="index">Index (n) *</label>
<button aria-controls="tipIndex" aria-expanded="false" aria-label="Help: Index" class="help-btn" id="tipBtnIndex" type="button">?</button>
<span aria-hidden="true" class="required-asterisk">*</span>
</div>
<div class="input-group">
<input aria-describedby="indexError tipIndex" aria-required="true" class="form-control" id="index" inputmode="numeric" max="64" min="2" placeholder="e.g., 2 for square root" step="1" type="number"/>
</div>
<div class="tooltip" hidden="" id="tipIndex" role="tooltip">
            The degree of the root. Use 2 for square root, 3 for cube root, etc. Allowed range: 2–64.
          </div>
<div aria-live="polite" class="error-message" id="indexError" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="precision">Precision (decimals) *</label>
<button aria-controls="tipPrecision" aria-expanded="false" aria-label="Help: Precision" class="help-btn" id="tipBtnPrecision" type="button">?</button>
<span aria-hidden="true" class="required-asterisk">*</span>
</div>
<div class="input-group">
<input aria-describedby="precisionError tipPrecision" aria-required="true" class="form-control" id="precision" inputmode="numeric" max="12" min="0" step="1" type="number" value="6"/>
</div>
<div class="tooltip" hidden="" id="tipPrecision" role="tooltip">
            Number of decimals shown in numeric outputs. Range: 0–12.
          </div>
<div aria-live="polite" class="error-message" id="precisionError" role="alert"></div>
</div>
<div class="form-group">
<label for="simplify">
<input checked="" id="simplify" type="checkbox"/>
            Simplify radical when possible (integer, non-negative radicands)
          </label>
</div>
<div class="actions">
<button aria-label="Calculate n-th root now" class="btn btn-primary" id="calculateBtn" type="button">Calculate</button>
<button aria-label="Reset inputs" class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
</section>
<section aria-labelledby="results-heading" aria-live="polite" class="results-container" id="results" role="region">
<h2 id="results-heading">Results</h2>
<div class="results-grid" id="resultsGrid">
<div class="result-item">
<span class="result-label">Simplified Radical (exact)</span>
<span class="result-value" id="simplifiedRadical">—</span>
</div>
<div class="result-item">
<span class="result-label">Decimal Approximation</span>
<span class="result-value" id="decimalResult">—</span>
</div>
<div class="result-item">
<span class="result-label">Perfect n-th Power?</span>
<span class="result-value" id="perfectPower">—</span>
</div>
<div class="result-item">
<span class="result-label">Principal Complex Root</span>
<span class="result-value" id="complexPrincipal">—</span>
</div>
</div>
<details class="all-roots" hidden="" id="allRootsPanel">
<summary>All n complex roots</summary>
<div id="allRootsList" style="margin-top:.5rem; font-family: var(--font-monospace);"></div>
</details>
<div class="card" id="stepsBox" style="margin-top:.75rem;">
<h3 style="margin-top:0;">Steps</h3>
<ol id="stepsList" style="padding-left:1.2rem; margin: .25rem 0 0;"></ol>
</div>
</section>
</div>
<article aria-labelledby="content-heading" class="content-container">
<h2 class="sr-only" id="content-heading">Authoritative Content</h2>
<section>
<h2>Data Source and Methodology</h2>
<p>
          Primary reference: NIST Digital Library of Mathematical Functions (DLMF), Chapter 1: Elementary Transcendental Functions (Release 1.1.9 of 2023-06-15). Direct link:
          <a href="https://dlmf.nist.gov/1" rel="noopener nofollow" target="_blank">https://dlmf.nist.gov/1</a>.
          All derivations and properties (principal roots, polar form, and extraction of perfect powers) are consistent with standard mathematical conventions.
        </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section>
<h2>The Formula Explained</h2>
<div aria-live="polite" class="formula-box">
<p>For x ≥ 0 and integer n ≥ 2, the principal n-th root is defined by:</p>
<p>$$ y = \sqrt[n]{x} \iff y^n = x,\quad y \ge 0. $$</p>
<p>Radical simplification (for x ∈ ℕ) uses prime factorization. If
          $$ x = \prod_{i} p_i^{\,\alpha_i}, $$
          then
          $$ \sqrt[n]{x} = \left( \prod_{i} p_i^{\,\left\lfloor \alpha_i/n \right\rfloor} \right)\cdot \sqrt[n]{\prod_{i} p_i^{\,\alpha_i \bmod n}}. $$</p>
<p>For complex results (principal root). If
          $$ z = r\,e^{i\theta},\quad r \ge 0,\ \theta\in(-\pi,\pi], $$
          then the principal n-th root is
          $$ z^{1/n} = r^{1/n} e^{i\theta/n} = r^{1/n}\big(\cos(\tfrac{\theta}{n}) + i\sin(\tfrac{\theta}{n})\big). $$</p>
<p>All n complex roots are given by:
          $$ z_k = r^{1/n} e^{i(\theta + 2\pi k)/n},\quad k=0,1,\dots,n-1. $$</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<div class="glossary">
<div class="term"><strong>Radicand (x)</strong>: The number under the radical sign.</div>
<div class="term"><strong>Index (n)</strong>: The root degree (2 = square, 3 = cube, etc.).</div>
<div class="term"><strong>Precision</strong>: Number of decimals for numeric outputs.</div>
<div class="term"><strong>Simplified Radical</strong>: Exact form, e.g., a·√[n]{b} with b as small as possible.</div>
<div class="term"><strong>Decimal Approximation</strong>: Rounded numeric value to your precision.</div>
<div class="term"><strong>Principal Complex Root</strong>: The k=0 root in polar/a+bi form when complex output is needed.</div>
</div>
</section>
<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p><strong>Goal:</strong> Simplify and evaluate √500 with 6 decimals.</p>
<ol>
<li>Factorize 500 = 2² × 5³.</li>
<li>Extract perfect squares (groups of 2): 2 and 5² leave 10 outside the radical; one 5 remains inside.</li>
<li>Result: √500 = 10√5.</li>
<li>Decimal: √500 ≈ 22.360680.</li>
</ol>
<p>If you switch the domain to Complex and use an even index on a negative radicand, the tool computes the principal root using polar form and can list all n equally spaced complex roots.</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Is there any difference between √x and x^(1/2)?</h3>
<p>For real x ≥ 0, they coincide and refer to the principal square root. For negative or complex values, branch choices matter; this tool uses the principal branch.</p>
<h3>When can a radical be simplified?</h3>
<p>When the radicand is a non-negative integer, factorization can extract perfect n-th powers. For decimals or rationals, simplification may not apply in integer-factorization terms.<!--          p-->
</p><h3>What if the input is a perfect n-th power?</h3>
<p>The tool reports an exact integer result and indicates that the radicand is a perfect n-th power.</p>
<h3>How accurate are the decimals?</h3>
<p>Calculations use double-precision floating point. The displayed value is rounded to your selected precision (0–12 decimals).</p>
<h3>Do you support all complex n-th roots?</h3>
<p>Yes. In Complex domain, open the “All n complex roots” panel to see all roots z_k = r^{1/n} e^{i(θ+2πk)/n} for k = 0,…,n−1.</p>
<h3>Why do I get an error for negative radicands with even indices in Real mode?</h3>
<p>Because no real number raised to an even power yields a negative result. Switch to Complex mode for a valid principal complex root.</p>
</div>
</section>
<div class="author-box">
<p>
          Tool developed by <strong>Ugo Candido</strong>.<br/>
          Content reviewed by the <strong>CalcDomain Editorial Team</strong>.<br/>
          Last reviewed for accuracy on: <time datetime="2025-09-14">September 14, 2025</time>.
        </p>
</div>
</article>
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      "use strict";

      const $ = (sel) => document.querySelector(sel);

      const el = {
        domainReal: $('#domainReal'),
        domainComplex: $('#domainComplex'),
        radicand: $('#radicand'),
        index: $('#index'),
        precision: $('#precision'),
        simplify: $('#simplify'),
        calcBtn: $('#calculateBtn'),
        resetBtn: $('#resetBtn'),
        simplifiedRadical: $('#simplifiedRadical'),
        decimalResult: $('#decimalResult'),
        perfectPower: $('#perfectPower'),
        complexPrincipal: $('#complexPrincipal'),
        stepsList: $('#stepsList'),
        stepsBox: $('#stepsBox'),
        allRootsPanel: $('#allRootsPanel'),
        allRootsList: $('#allRootsList'),
        // errors
        errRadicand: $('#radicandError'),
        errIndex: $('#indexError'),
        errPrecision: $('#precisionError'),
        // tooltips
        tipBtnRadicand: $('#tipBtnRadicand'),
        tipRadicand: $('#tipRadicand'),
        tipBtnIndex: $('#tipBtnIndex'),
        tipIndex: $('#tipIndex'),
        tipBtnPrecision: $('#tipBtnPrecision'),
        tipPrecision: $('#tipPrecision')
      };

      // Accessible tooltip toggles
      function bindTooltip(btn, panel){
        btn.addEventListener('click', () => {
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          panel.hidden = expanded;
        });
        btn.addEventListener('keydown', (e) => {
          if(e.key === 'Escape'){
            btn.setAttribute('aria-expanded','false');
            panel.hidden = true;
            btn.focus();
          }
        });
      }
      bindTooltip(el.tipBtnRadicand, el.tipRadicand);
      bindTooltip(el.tipBtnIndex, el.tipIndex);
      bindTooltip(el.tipBtnPrecision, el.tipPrecision);

      // Validation helpers
      function setError(input, errEl, message){
        if(message){
          input.setAttribute('aria-invalid', 'true');
          errEl.textContent = message;
        }else{
          input.setAttribute('aria-invalid', 'false');
          errEl.textContent = '';
        }
      }

      function validateRadicand(){
        const v = el.radicand.value.trim();
        if(v === ''){ setError(el.radicand, el.errRadicand, 'Please enter a radicand.'); return null; }
        const num = Number(v);
        if(!Number.isFinite(num)){ setError(el.radicand, el.errRadicand, 'The radicand must be a valid number.'); return null; }
        setError(el.radicand, el.errRadicand, '');
        return num;
      }

      function validateIndex(){
        const v = el.index.value.trim();
        if(v === ''){ setError(el.index, el.errIndex, 'Please enter an index (n).'); return null; }
        const n = Number(v);
        if(!Number.isInteger(n)){ setError(el.index, el.errIndex, 'The index must be an integer.'); return null; }
        if(n < 2 || n > 64){ setError(el.index, el.errIndex, 'Please use an index between 2 and 64.'); return null; }
        setError(el.index, el.errIndex, '');
        return n;
      }

      function validatePrecision(){
        const v = el.precision.value.trim();
        if(v === ''){ setError(el.precision, el.errPrecision, 'Please choose a precision.'); return null; }
        const p = Number(v);
        if(!Number.isInteger(p) || p < 0 || p > 12){ setError(el.precision, el.errPrecision, 'Precision must be an integer between 0 and 12.'); return null; }
        setError(el.precision, el.errPrecision, '');
        return p;
      }

      el.radicand.addEventListener('blur', validateRadicand);
      el.index.addEventListener('blur', validateIndex);
      el.precision.addEventListener('blur', validatePrecision);

      // Math utilities
      function formatNumber(x, decimals){
        if(!Number.isFinite(x)) return '—';
        const s = x.toFixed(decimals);
        return s;
      }
      function nearlyEqual(a,b,eps=1e-10){ return Math.abs(a-b) <= eps * Math.max(1, Math.abs(a), Math.abs(b)); }

      function nthRootReal(x, n){
        if(x === 0) return 0;
        if(x > 0) return Math.pow(x, 1/n);
        // x < 0
        if(n % 2 === 1){
          return -Math.pow(Math.abs(x), 1/n);
        }
        return NaN; // even root of negative in reals
      }

      function perfectNthPowerInfo(x, n){
        if(!Number.isFinite(x) || x < 0) return { isPerfect:false, root:null };
        if(!Number.isInteger(x)) return { isPerfect:false, root:null };
        const y = Math.round(Math.pow(x, 1/n));
        if(Math.pow(y, n) === x) return { isPerfect:true, root:y };
        return { isPerfect:false, root:null };
      }

      function primeFactors(num){
        const factors = new Map();
        let n = num;
        let d = 2;
        while(d * d <= n){
          while(n % d === 0){
            factors.set(d, (factors.get(d)||0) + 1);
            n = n / d;
          }
          d += (d === 2 ? 1 : 2); // check 2, then odd numbers
          if(d > 1e6) break; // safety
        }
        if(n > 1) factors.set(n, (factors.get(n)||0) + 1);
        return factors;
      }

      function simplifyRadical(x, n){
        // Only for non-negative integers
        if(!Number.isInteger(x) || x < 0) return null;
        if(x === 0) return { outside: 0, inside: 1, exact: true };
        if(x === 1) return { outside: 1, inside: 1, exact: true };

        if(x > 1e12){ return { outside: 1, inside: x, note: 'Large number—partial simplification may be skipped for performance.' }; }

        const fac = primeFactors(x);
        let outside = 1;
        let inside = 1;
        for(const [p, a] of fac){
          const outExp = Math.floor(a / n);
          const inExp = a % n;
          if(outExp > 0) outside *= Math.pow(p, outExp);
          if(inExp > 0) inside *= Math.pow(p, inExp);
        }
        const exact = (inside === 1);
        return { outside, inside, exact };
      }

      function complexPrincipalRoot(x, n){
        // returns {polar: {r, theta}, cart: {a, b}}
        // x is real number. For x >= 0 principal root is real positive.
        if(x >= 0){
          const y = Math.pow(x, 1/n);
          return { polar:{ r:y, theta:0 }, cart:{ a:y, b:0 } };
        }
        // x < 0
        const r = Math.abs(x);
        const mag = Math.pow(r, 1/n);
        const theta = Math.PI / n; // principal angle for negative real input
        const a = mag * Math.cos(theta);
        const b = mag * Math.sin(theta);
        return { polar:{ r:mag, theta }, cart:{ a, b } };
      }

      function allComplexRootsRealInput(x, n){
        // Return array of {a,b,theta}
        const r = Math.abs(x);
        let baseTheta = 0;
        if(x < 0) baseTheta = Math.PI; // negative real has angle pi
        const mag = Math.pow(r, 1/n);
        const roots = [];
        for(let k=0;k<n;k++){
          const theta = (baseTheta + 2*Math.PI*k)/n;
          roots.push({
            a: mag * Math.cos(theta),
            b: mag * Math.sin(theta),
            theta
          });
        }
        return roots;
      }

      // Main calculation
      function calculate(){
        const domain = el.domainComplex.checked ? 'complex' : 'real';
        const x = validateRadicand();
        const n = validateIndex();
        const p = validatePrecision();
        if(x === null || n === null || p === null){
          return; // wait for valid inputs
        }

        el.stepsList.innerHTML = '';
        const steps = [];

        // Perfect power check (non-negative integer)
        const perfect = perfectNthPowerInfo(x, n);

        // Simplification (optional)
        let simplified = '—';
        let simplInfo = null;

        if(el.simplify.checked && Number.isInteger(x) && x >= 0){
          simplInfo = simplifyRadical(x, n);
          if(simplInfo){
            if(simplInfo.exact){
              simplified = String(simplInfo.outside);
              steps.push(`Detected perfect n-th power: ${x} = ${simplInfo.outside}^${n}.`);
            }else{
              const outsideStr = simplInfo.outside !== 1 ? simplInfo.outside : '';
              const insideStr = simplInfo.inside;
              simplified = `${outsideStr}${outsideStr ? '·' : ''}√[${n}]{${insideStr}}`;
              steps.push(`Prime factorization extracted outside: outside=${simplInfo.outside}, inside=${simplInfo.inside}.`);
            }
            if(simplInfo.note){ steps.push(simplInfo.note); }
          }
        }else{
          if(el.simplify.checked) steps.push('Simplification applies to non-negative integers only; skipped.');
        }

        // Decimal result and domain handling
        let decimal = '—';
        let principalComplex = '—';
        el.allRootsPanel.hidden = true;
        el.allRootsList.innerHTML = '';

        if(domain === 'real'){
          if(x < 0 && n % 2 === 0){
            setError(el.radicand, el.errRadicand, 'Even-index root of a negative number is not real. Switch to Complex domain to proceed.');
            el.decimalResult.textContent = '—';
            el.complexPrincipal.textContent = '—';
            el.perfectPower.textContent = '—';
            el.simplifiedRadical.textContent = simplified;
            renderSteps(steps);
            return;
          }
          setError(el.radicand, el.errRadicand, '');
          const y = nthRootReal(x, n);
          if(Number.isNaN(y)){
            decimal = '—';
          }else{
            decimal = formatNumber(y, p);
            steps.push(`Real n-th root computed: ${y}. Rounded to ${p} decimals → ${decimal}.`);
          }
          principalComplex = 'Not applicable in Real domain';
        }else{
          // Complex domain
          const cp = complexPrincipalRoot(x, n);
          const a = cp.cart.a;
          const b = cp.cart.b;
          const r = cp.polar.r;
          const theta = cp.polar.theta;
          const aStr = formatNumber(a, p);
          const bStr = formatNumber(b, p);
          principalComplex = `${aStr} ${b >= 0 ? '+' : '−'} ${formatNumber(Math.abs(b), p)}i  (polar: r=${formatNumber(r, p)}, θ=${formatNumber(theta, p)} rad)`;
          steps.push(`Principal complex root: r=${r}, θ=${theta}.`);
          steps.push(`Cartesian form: a=${a}, b=${b}. Rounded to ${p} decimals.`);

          // Decimal result (magnitude only if purely real?); Use principal root magnitude in decimal column if imaginary part is ~0
          if(Math.abs(b) < 1e-14){
            decimal = formatNumber(a, p);
          }else{
            decimal = 'Complex — see principal root';
          }

          // All roots
          const roots = allComplexRootsRealInput(x, n);
          el.allRootsPanel.hidden = false;
          const list = document.createElement('ol');
          list.style.paddingLeft = '1.2rem';
          roots.forEach((z, idx) => {
            const li = document.createElement('li');
            const aS = formatNumber(z.a, p);
            const bS = formatNumber(z.b, p);
            const tS = formatNumber(z.theta, p);
            li.textContent = `k=${idx}: ${aS} ${z.b >= 0 ? '+' : '−'} ${formatNumber(Math.abs(z.b), p)}i  (θ=${tS} rad)`;
            list.appendChild(li);
          });
          el.allRootsList.replaceChildren(list);
        }

        // Perfect power label
        let perfectLabel = 'No';
        if(perfect.isPerfect){
          perfectLabel = `Yes — exact root = ${perfect.root}`;
          steps.push(`Perfect power detected: ${x} = ${perfect.root}^${n}.`);
          if(simplified === '—') simplified = String(perfect.root);
        }

        // Update UI
        el.simplifiedRadical.textContent = simplified;
        el.decimalResult.textContent = decimal;
        el.perfectPower.textContent = perfectLabel;
        el.complexPrincipal.textContent = principalComplex;

        renderSteps(steps);
      }

      function renderSteps(steps){
        el.stepsList.innerHTML = '';
        if(!steps || steps.length === 0){
          const li = document.createElement('li');
          li.textContent = 'Enter inputs to view the step-by-step solution.';
          el.stepsList.appendChild(li);
          return;
        }
        for(const s of steps){
          const li = document.createElement('li');
          li.textContent = s;
          el.stepsList.appendChild(li);
        }
      }

      // Wire controls
      function computeIfValid(){ if(validateRadicand()!==null && validateIndex()!==null && validatePrecision()!==null){ calculate(); } }

      el.calcBtn.addEventListener('click', calculate);
      el.resetBtn.addEventListener('click', () => {
        el.domainReal.checked = true;
        el.radicand.value = '';
        el.index.value = '';
        el.precision.value = 6;
        el.simplify.checked = true;
        setError(el.radicand, el.errRadicand, '');
        setError(el.index, el.errIndex, '');
        setError(el.precision, el.errPrecision, '');
        el.simplifiedRadical.textContent = '—';
        el.decimalResult.textContent = '—';
        el.perfectPower.textContent = '—';
        el.complexPrincipal.textContent = '—';
        el.allRootsPanel.hidden = true;
        el.allRootsList.innerHTML = '';
        renderSteps([]);
        el.radicand.focus();
      });

      // Recalculate on input changes (non-intrusive)
      [el.radicand, el.index, el.precision, el.simplify, el.domainReal, el.domainComplex].forEach(ctrl => {
        ctrl.addEventListener('input', () => {
          // validate inline on blur requirement is met; here we compute opportunistically
          computeIfValid();
        });
        ctrl.addEventListener('change', computeIfValid);
      });

      // Initial state
      renderSteps([]);

      // Provide sensible defaults for demo usability
      if(el.radicand.value === '') el.radicand.value = '500';
      if(el.index.value === '') el.index.value = '2';
      calculate();
    })();
  </script>

<script defer src="/assets/js/mobile-menu.js"></script>
<script defer src="/assets/js/page-enhancements.js"></script>
</body></html>