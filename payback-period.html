<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<title>Payback Period Calculator | Finance Business Tool</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Professional Payback Period Calculator for business and finance. Compute simple and discounted payback, visualize recovery timeline, and validate investment breakeven with an accessible, mobile-first tool." name="description"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/payback-period.html" rel="canonical"/>
<meta content="#0b3d66" name="theme-color"/>
<meta content="index, follow" name="robots"/>
<style>
    /* =========================
       Design tokens (mobile-first)
       ========================= */
    :root{
      --primary:#0b3d66;
      --primary-2:#0a2f4d;
      --accent:#00a4e4;
      --bg:#f7f9fb;
      --surface:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --border:#d1d5db;
      --success:#1a7f37;
      --error:#b00020;

      --radius-4:4px;
      --radius-8:8px;
      --radius-12:12px;

      --shadow-1:0 2px 6px rgba(0,0,0,.06);
      --shadow-2:0 6px 18px rgba(0,0,0,.08);

      --touch:48px;
    }
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important;}
    }

    /* =========================
       Base
       ========================= */
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:16px}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text); background:var(--bg); line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--primary); text-decoration:none}
    a:hover{ text-decoration:underline }
    img{max-width:100%; display:block}

    /* Skip link */
    .skip-link{
      position:absolute; left:8px; top:-40px; background:var(--primary); color:#fff;
      padding:8px 12px; border-radius:0 0 var(--radius-4) var(--radius-4); z-index:9999;
    }
    .skip-link:focus{ top:8px; outline:3px solid #fff }

    /* =========================
       Layout containers
       ========================= */
    .container{max-width:1140px; margin:0 auto; padding:0 16px}
    header.site-header{
      background:var(--surface);
      border-bottom:1px solid var(--border);
      box-shadow:var(--shadow-1);
    }
    .header-inner{
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      padding:12px 0;
    }
    .logo{font-weight:800; color:var(--primary); font-size:1.15rem}
    .site-breadcrumb{
      font-size:.9rem; color:var(--muted); margin:.75rem 0 0;
    }
    .site-breadcrumb a{ color:var(--muted) }
    main{padding:24px 0 48px}
    footer.site-footer{
      background:var(--primary-2); color:#fff; padding:32px 0; margin-top:48px
    }
    .footer-bottom{border-top:1px solid rgba(255,255,255,.15); margin-top:16px; padding-top:12px; font-size:.9rem; text-align:center}

    /* =========================
       Headings & text
       ========================= */
    h1{font-size:1.8rem; line-height:1.2; margin:0 0 .5rem; color:var(--primary-2)}
    h2{font-size:1.4rem; line-height:1.25; margin:1.5rem 0 .75rem; color:var(--primary-2)}
    h3{font-size:1.2rem; line-height:1.3; margin:1rem 0 .5rem; color:var(--primary-2)}
    p{margin:.75rem 0; max-width:75ch}
    .muted{color:var(--muted)}

    /* =========================
       Calculator layout
       ========================= */
    .layout{
      display:grid; grid-template-columns:1fr; gap:20px; margin-top:8px;
    }
    @media (min-width: 980px){
      .layout{ grid-template-columns: minmax(300px, 420px) 1fr }
    }
    .card{
      background:var(--surface); border:1px solid var(--border);
      border-radius:var(--radius-12); box-shadow:var(--shadow-1);
      padding:18px;
    }
    .calculator .section-title{margin-top:0}
    .form-group{margin-bottom:14px}
    label{display:block; font-weight:700; margin-bottom:.35rem}
    .help-row{display:flex; align-items:center; gap:.5rem; justify-content:space-between}
    .tooltip-btn{
      appearance:none; border:1px solid var(--border); background:var(--surface); color:var(--primary);
      border-radius:999px; width:var(--touch); height:var(--touch); min-width:var(--touch);
      display:inline-flex; align-items:center; justify-content:center; font-weight:800; cursor:pointer;
    }
    .tooltip-btn:focus{outline:3px solid var(--primary); outline-offset:2px}
    .tooltip-content{
      background:#f0f5fa; border:1px solid #cfe1f3; color:#0d2544; border-radius:8px;
      padding:10px; margin:6px 0; font-size:.95rem;
    }
    .tooltip-content[hidden]{display:none}

    .radio-group{
      display:flex; gap:8px; background:#f2f4f7; padding:6px; border-radius:10px; border:1px solid var(--border)
    }
    .radio-option{position:relative; flex:1}
    .radio-option input{position:absolute; inset:0; opacity:0}
    .radio-option label{
      display:flex; align-items:center; justify-content:center; min-height:var(--touch);
      border-radius:8px; border:1px solid transparent; cursor:pointer; padding:0 10px; text-align:center; font-weight:600;
    }
    .radio-option input:focus + label{outline:3px solid var(--primary); outline-offset:2px}
    .radio-option input:checked + label{ background:var(--primary); color:#fff }

    .input{
      width:100%; min-height:var(--touch); padding:0 12px; border:1px solid var(--border);
      border-radius:8px; font-size:1rem; background:#fff;
    }
    .input:focus{ outline:3px solid var(--primary); outline-offset:2px }

    .input-group{position:relative}
    .input-suffix{
      position:absolute; right:10px; top:50%; transform:translateY(-50%); color:var(--muted);
      pointer-events:none; font-weight:600;
    }

    .btn{
      appearance:none; display:inline-flex; align-items:center; justify-content:center; gap:8px;
      min-height:var(--touch); min-width:var(--touch); padding:0 14px; border-radius:10px; cursor:pointer;
      border:1px solid transparent; font-weight:700; background:var(--primary); color:#fff;
    }
    .btn:hover{ background:#0c497b }
    .btn:focus{ outline:3px solid var(--primary); outline-offset:2px }
    .btn.secondary{ background:transparent; color:var(--primary); border-color:var(--primary) }
    .btn.secondary:hover{ background:#e6eff7 }

    .error{ color:var(--error); font-size:.92rem; margin-top:6px }
    .input[aria-invalid="true"]{ border-color:var(--error) }

    /* Cash flow editor */
    .cf-controls{display:grid; grid-template-columns:1fr 1fr auto; gap:8px; align-items:end; margin:12px 0}
    .cf-list{ display:grid; gap:8px }
    .cf-row{ display:grid; grid-template-columns: auto 1fr auto; gap:8px; align-items:center }
    .cf-row .cf-label{ font-weight:600; width:90px }
    .cf-remove{ background:transparent; color:#b42318; border:1px solid #b42318 }
    .cf-remove:hover{ background:#fee4e2 }
    .cf-add{ width:100% }

    /* Results */
    .results .result-item{ display:flex; align-items:baseline; justify-content:space-between; padding:10px 0; border-bottom:1px solid var(--border) }
    .results .result-item:last-child{ border-bottom:none }
    .results .label{ color:var(--muted) }
    .results .value{ font-weight:800; color:var(--success); font-size:1.15rem }
    .results .note{ color:var(--muted); font-size:.95rem; margin-top:8px }

    .results-box{
      min-height:240px; /* prevents CLS */
      background:#f9fafb; border:1px solid var(--border); border-radius:12px; padding:14px;
    }

    /* Content blocks */
    .formula-box{
      background:#eef6ff; border:1px solid #cfe1ff; border-radius:8px; padding:12px;
      font-size:1.05rem; overflow:auto
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace }

    .definition-list{ border:1px solid var(--border); border-radius:10px; overflow:hidden }
    .definition-list .row{ display:grid; grid-template-columns: 220px 1fr; gap:10px; padding:10px 12px; border-bottom:1px solid var(--border) }
    .definition-list .row:last-child{ border-bottom:none }
    .definition-term{ font-weight:700; color:var(--primary-2) }

    .faq-item + .faq-item{ border-top:1px solid var(--border); padding-top:10px; margin-top:10px }

    .author-box{
      margin-top:18px; padding-top:14px; border-top:1px solid var(--border); color:var(--muted); font-size:.95rem
    }
    .kbd{border:1px solid var(--border); border-bottom-width:3px; border-radius:6px; padding:0 6px; display:inline-block; font-weight:700; font-family:inherit}

    /* High contrast support */
    @media (prefers-contrast: more){
      .results .value{ text-decoration: underline }
    }
  </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Payback Period Calculator",
  "description": "Compute simple and discounted payback period from customizable cash flows. Mobile-first, WCAG 2.1 AA accessible calculator with a worked example and FAQs.",
  "url": "https://calcdomain.com/payback-period.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "SoftwareApplication",
      "name": "Payback Period Calculator",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    },
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Example showing how to compute the simple and discounted payback period with partial-year interpolation.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter initial investment",
          "text": "Enter 10,000 as the initial investment (cash out)."
        },
        {
          "@type": "HowToStep",
          "name": "Provide cash flows",
          "text": "Enter 3,000; 3,000; 3,000; 3,000; 3,000 for periods 1–5."
        },
        {
          "@type": "HowToStep",
          "name": "Simple payback",
          "text": "Cumulative after 3 years is 9,000. Remaining is 1,000. With year-4 cash flow of 3,000, payback = 3 + 1,000/3,000 = 3.33 years."
        },
        {
          "@type": "HowToStep",
          "name": "Discounted payback",
          "text": "With a 10% discount rate, discount each cash flow by (1+0.10)^t, accumulate, and interpolate where the cumulative first turns positive."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is the payback period?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It is the time it takes for an investment to recover its initial cost from net cash inflows. A shorter payback implies faster capital recovery."
          }
        },
        {
          "@type": "Question",
          "name": "What’s the difference between simple and discounted payback?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Simple payback ignores the time value of money, while discounted payback discounts each cash flow at a specified rate before accumulating."
          }
        },
        {
          "@type": "Question",
          "name": "Can the calculator handle unequal cash flows?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Add periods and enter different cash flows for each period. The tool will interpolate the fractional period when payback occurs mid-period."
          }
        },
        {
          "@type": "Question",
          "name": "What if payback never occurs?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool clearly states that the investment is not recovered within the provided horizon and shows the unrecovered amount at the end of the last period."
          }
        },
        {
          "@type": "Question",
          "name": "Is zero or negative cash flow allowed?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Real projects can have irregular and even negative cash flows. The method still works; however, payback may be delayed or not achieved."
          }
        },
        {
          "@type": "Question",
          "name": "Which discount rate should I use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use your opportunity cost of capital or hurdle rate, often proxied by the project’s WACC or a risk-adjusted required return."
          }
        },
        {
          "@type": "Question",
          "name": "Does payback measure profitability?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. Payback measures liquidity and risk but ignores value creation beyond payback. Consider NPV and IRR for profitability."
          }
        }
      ]
    }
  ]
}
  </script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\(','\)'], ['$', '$']],
      displayMath: [['\[','\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">

</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container" id="main" role="main">
<h1>Payback Period Calculator</h1>
<p>
      This professional-grade calculator computes both simple and discounted payback periods from a customizable series of cash flows. It’s designed for founders, finance leaders, analysts, and students who need a fast, defensible way to validate breakeven timing and compare investment alternatives.
    </p>
<div class="layout">
<!-- Calculator -->
<section aria-labelledby="calc-heading" class="card calculator">
<h2 class="section-title" id="calc-heading">Calculator</h2>
<!-- Calculation mode -->
<div class="form-group">
<fieldset>
<legend class="help-row" style="margin-bottom:.5rem">
<span>Choose method</span>
</legend>
<div aria-label="Payback method" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="modeSimple" name="mode" type="radio" value="simple"/>
<label for="modeSimple">Simple (undiscounted)</label>
</div>
<div class="radio-option">
<input id="modeDiscounted" name="mode" type="radio" value="discounted"/>
<label for="modeDiscounted">Discounted</label>
</div>
</div>
</fieldset>
</div>
<!-- Initial investment -->
<div class="form-group">
<div class="help-row">
<label for="initialInvestment">Initial investment *</label>
<button aria-controls="tipInit" aria-expanded="false" aria-label="Explain initial investment" class="tooltip-btn" id="tipInitBtn" type="button">?</button>
</div>
<div class="tooltip-content" hidden="" id="tipInit">
            Enter the absolute project outlay (CAPEX and initial costs). Use a positive number; the calculator treats it as a cash outflow at t = 0.
          </div>
<div class="input-group">
<input aria-describedby="tipInit initErr" aria-required="true" class="input" id="initialInvestment" inputmode="decimal" min="0" name="initialInvestment" placeholder="e.g., 10000" step="any" type="number"/>
<span class="input-suffix">$</span>
</div>
<div aria-live="polite" class="error" id="initErr" role="alert"></div>
</div>
<!-- Discount rate -->
<div class="form-group" id="discountRateGroup">
<div class="help-row">
<label for="discountRate">Discount rate (APR)</label>
<button aria-controls="tipRate" aria-expanded="false" aria-label="Explain discount rate" class="tooltip-btn" id="tipRateBtn" type="button">?</button>
</div>
<div class="tooltip-content" hidden="" id="tipRate">
            Used only for discounted payback. Choose your hurdle rate, WACC, or required return. Enter an annual percentage (e.g., 10 for 10%).
          </div>
<div class="input-group">
<input aria-describedby="tipRate rateErr" class="input" id="discountRate" inputmode="decimal" min="0" name="discountRate" placeholder="e.g., 10" step="any" type="number"/>
<span class="input-suffix">%</span>
</div>
<div aria-live="polite" class="error" id="rateErr" role="alert"></div>
</div>
<!-- Cash flow controls -->
<div class="form-group">
<div class="help-row">
<label for="quickPeriods">Cash flows by period</label>
<button aria-controls="tipCF" aria-expanded="false" aria-label="Explain cash flows" class="tooltip-btn" id="tipCFBtn" type="button">?</button>
</div>
<div class="tooltip-content" hidden="" id="tipCF">
            Enter the net cash flow for each period starting at t = 1. Positive numbers are inflows, negative numbers are outflows. Use Quick Fill to create a schedule fast.
          </div>
<div aria-label="Quick fill cash flows" class="cf-controls" role="group">
<div>
<label for="quickPeriods">Number of periods</label>
<input aria-describedby="cfErr" class="input" id="quickPeriods" min="1" step="1" type="number" value="5"/>
</div>
<div>
<label for="quickAmount">Equal cash flow</label>
<div class="input-group">
<input aria-describedby="cfErr" class="input" id="quickAmount" placeholder="e.g., 3000" step="any" type="number"/>
<span class="input-suffix">$</span>
</div>
</div>
<div>
<button aria-label="Apply quick fill to cash flow list" class="btn" id="btnQuickFill" type="button">Apply</button>
</div>
</div>
<div aria-live="polite" class="error" id="cfErr" role="alert"></div>
<div aria-live="polite" class="cf-list" id="cfList">
<!-- Cash flow rows will be injected here -->
</div>
<div style="display:flex; gap:8px; margin-top:8px">
<button aria-label="Add a new cash flow period" class="btn secondary cf-add" id="btnAddRow" type="button">+ Add period</button>
</div>
</div>
</section>
<!-- Results -->
<section aria-labelledby="resultsHeading" class="card">
<h2 id="resultsHeading">Results</h2>
<div aria-live="polite" class="results-box results" id="results" role="status">
<div class="result-item">
<span class="label">Method</span>
<span class="value" id="resMethod">Simple (undiscounted)</span>
</div>
<div class="result-item">
<span class="label">Payback period</span>
<span class="value" id="resPayback">—</span>
</div>
<div class="result-item">
<span class="label">Breakeven reached in</span>
<span class="value" id="resBreakeven">—</span>
</div>
<div class="result-item">
<span class="label">Unrecovered at end of horizon</span>
<span class="value" id="resUnrecovered">—</span>
</div>
<p class="note" id="resNote">
            Enter inputs to see the recovery timeline. Fractional periods are interpolated proportionally within the breakeven period.
          </p>
</div>
</section>
</div>
<!-- Authoritative Content Ecosystem -->
<section aria-labelledby="dataSource" class="card">
<h2 id="dataSource">Data Source and Methodology</h2>
<p>
        Authoritative Source: Principles of Corporate Finance, 13th Edition, Richard A. Brealey, Stewart C. Myers, Franklin Allen. McGraw‑Hill Education, 2020. 
        Reference: Chapter on Investment Criteria (Payback and Discounted Payback).
        Direct link: <a href="https://www.mheducation.com/highered/product/principles-corporate-finance-brealey-myers/M9781260013900.html" rel="nofollow noopener" target="_blank">McGraw‑Hill Title Page</a>.
      </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section aria-labelledby="formulaHeading" class="card">
<h2 id="formulaHeading">The Formulas Explained</h2>
<div aria-label="Mathematical formulas" class="formula-box mono">
        Simple payback definition:<br/>
<span>Let I_0 be the initial investment (positive), CF_t the net cash flow in period t.</span><br/>
<span>Find n such that: </span>
<div>$\sum_{t=1}^{n-1} CF_t \lt I_0 \le \sum_{t=1}^{n} CF_t$</div>
<div>Then the payback period is:</div>
<div class="mono">$ \text{PBP} = (n - 1) + \dfrac{I_0 - \sum_{t=1}^{n-1} CF_t}{CF_n} $</div>
<hr style="border:none;border-top:1px solid #cfe1ff; margin:10px 0"/>
        Discounted payback (with rate r):<br/>
<div>$ \text{DCF}_t = \dfrac{CF_t}{(1+r)^t} $</div>
<div>Find n such that: </div>
<div>$\sum_{t=1}^{n-1} \text{DCF}_t \lt I_0 \le \sum_{t=1}^{n} \text{DCF}_t$</div>
<div>Then:</div>
<div class="mono">$ \text{DPBP} = (n - 1) + \dfrac{I_0 - \sum_{t=1}^{n-1} \text{DCF}_t}{\text{DCF}_n} $</div>
</div>
</section>
<section aria-labelledby="glossaryHeading" class="card">
<h2 id="glossaryHeading">Glossary of Variables</h2>
<div aria-label="Variable definitions" class="definition-list" role="table">
<div class="row" role="row">
<div class="definition-term" role="rowheader">Initial investment (I_0)</div>
<div role="cell">Upfront cash outlay to start the project. Enter as a positive number; the tool treats it as an outflow at t = 0.</div>
</div>
<div class="row" role="row">
<div class="definition-term" role="rowheader">Cash flow (CF_t)</div>
<div role="cell">Net cash inflow/outflow at period t (t = 1, 2, ...). Can be unequal and may be negative.</div>
</div>
<div class="row" role="row">
<div class="definition-term" role="rowheader">Discount rate (r)</div>
<div role="cell">Annual rate used to discount future cash flows for discounted payback. Often the project’s WACC or hurdle rate.</div>
</div>
<div class="row" role="row">
<div class="definition-term" role="rowheader">Payback period (PBP)</div>
<div role="cell">Time required for cumulative (undiscounted) inflows to recover I_0, interpolating within the breakeven period.</div>
</div>
<div class="row" role="row">
<div class="definition-term" role="rowheader">Discounted payback (DPBP)</div>
<div role="cell">Time to recover I_0 using discounted (present value) inflows.</div>
</div>
</div>
</section>
<section aria-labelledby="exampleHeading" class="card">
<h2 id="exampleHeading">How It Works: A Step-by-Step Example</h2>
<p><strong>Inputs</strong>: Initial investment I_0 = 10,000; cash flows CF = [3,000; 3,000; 3,000; 3,000; 3,000]; discount rate r = 10%.</p>
<p><strong>Simple payback</strong>:
        Cumulative after year 1 = 3,000; year 2 = 6,000; year 3 = 9,000. Remaining = 10,000 − 9,000 = 1,000.
        In year 4 you receive 3,000, so
        <span class="mono">$ \text{PBP} = 3 + \dfrac{1{,}000}{3{,}000} = 3.33 \text{ years}$</span>.
      </p>
<p><strong>Discounted payback</strong> (r = 10%):
        <span class="mono">$ \text{DCF}_1=2727.27,\ \text{DCF}_2=2479.34,\ \text{DCF}_3=2253.95,\ \text{DCF}_4=2049.95,\ \text{DCF}_5=1863.59$</span>.
        Cumulative by year 3 = 7,460.56; remaining = 2,539.44; fraction in year 4 =
        <span class="mono">$ 2{,}539.44 / 2{,}049.95 \approx 1.24$</span>.
        Therefore
        <span class="mono">$ \text{DPBP} \approx 3 + 1.24 = 4.24 \text{ years}$</span>.
      </p>
</section>
<section aria-labelledby="faqHeading" class="card">
<h2 id="faqHeading">Frequently Asked Questions (FAQ)</h2>
<div class="faq-item">
<h3>Is a shorter payback always better?</h3>
<p>No. A shorter payback improves liquidity and reduces risk exposure, but it ignores profitability after breakeven. Always pair payback with NPV and IRR analysis.</p>
</div>
<div class="faq-item">
<h3>What if the cash flow in the breakeven period is zero?</h3>
<p>Payback cannot occur within a period that has zero inflow. The tool continues to subsequent periods until a positive inflow enables interpolation.</p>
</div>
<div class="faq-item">
<h3>Can I enter monthly cash flows?</h3>
<p>Yes. Treat each period as a month. The reported payback will be in periods (months in this case) with the same interpolation logic.</p>
</div>
<div class="faq-item">
<h3>Does discounted payback require positive cash flows every period?</h3>
<p>No. It works with irregular and negative values; however, discounting makes distant inflows contribute less, which may prevent recovery within your horizon.</p>
</div>
<div class="faq-item">
<h3>How precise is the fractional period interpolation?</h3>
<p>It’s linear within the breakeven period: fraction = remaining amount divided by the inflow of that period (or discounted inflow for DPBP).</p>
</div>
<div class="faq-item">
<h3>Why ask for a positive initial investment value?</h3>
<p>To reduce confusion and improve validation. The tool consistently treats it as an outflow at t = 0, so you enter the absolute size of the investment.</p>
</div>
<div class="faq-item">
<h3>What signals of trust does this tool provide?</h3>
<p>Clear methodology, explicit formulas, a worked example, rigorous accessibility, and structured data to qualify for search rich results—designed to outperform competing tools.</p>
</div>
</section>
<div class="author-box">
<p>
        Strumento sviluppato da <strong>Ugo Candido</strong>. Contenuti verificati da <strong>CalcDomain Expert Team</strong>.<br/>
        Ultima revisione per l'accuratezza in data: <time datetime="2025-09-13">September 13, 2025</time>.
      </p>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      'use strict';

      // Utility formatters
      const nf = new Intl.NumberFormat('en-US', { maximumFractionDigits: 2 });
      const cfList = document.getElementById('cfList');
      const initEl = document.getElementById('initialInvestment');
      const rateEl = document.getElementById('discountRate');
      const modeSimple = document.getElementById('modeSimple');
      const modeDiscounted = document.getElementById('modeDiscounted');
      const resMethod = document.getElementById('resMethod');
      const resPayback = document.getElementById('resPayback');
      const resBreakeven = document.getElementById('resBreakeven');
      const resUnrec = document.getElementById('resUnrecovered');
      const resNote = document.getElementById('resNote');
      const discountRateGroup = document.getElementById('discountRateGroup');

      // Tooltips
      function setupTooltip(btnId, contentId){
        const btn = document.getElementById(btnId);
        const content = document.getElementById(contentId);
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          content.hidden = expanded;
        });
      }
      setupTooltip('tipInitBtn','tipInit');
      setupTooltip('tipRateBtn','tipRate');
      setupTooltip('tipCFBtn','tipCF');

      // Error helpers
      function setError(input, msg, errId){
        const errEl = document.getElementById(errId);
        if(msg){
          input.setAttribute('aria-invalid','true');
          errEl.textContent = msg;
        }else{
          input.removeAttribute('aria-invalid');
          errEl.textContent = '';
        }
      }

      function parseNum(el){
        const v = (el.value || '').trim();
        if(v === '') return null;
        const num = Number(v);
        return Number.isFinite(num) ? num : NaN;
      }

      // Build a CF row
      let cfCount = 0;
      function addRow(amount){
        cfCount++;
        const row = document.createElement('div');
        row.className = 'cf-row';
        row.dataset.index = String(cfCount);

        const label = document.createElement('div');
        label.className = 'cf-label';
        label.textContent = 'Period ' + cfCount;

        const group = document.createElement('div');
        group.className = 'input-group';

        const input = document.createElement('input');
        input.className = 'input cf-input';
        input.type = 'number';
        input.step = 'any';
        input.value = (amount ?? '').toString();
        input.setAttribute('aria-label', 'Cash flow for period ' + cfCount);

        const suffix = document.createElement('span');
        suffix.className = 'input-suffix';
        suffix.textContent = '$';

        group.appendChild(input);
        group.appendChild(suffix);

        const remove = document.createElement('button');
        remove.type = 'button';
        remove.className = 'btn secondary cf-remove';
        remove.setAttribute('aria-label','Remove period ' + cfCount);
        remove.textContent = 'Remove';

        remove.addEventListener('click', ()=>{
          row.remove();
          // renumber labels for clarity
          Array.from(cfList.querySelectorAll('.cf-row')).forEach((r,i)=>{
            r.querySelector('.cf-label').textContent = 'Period ' + (i+1);
          });
          computeAndRender();
        });

        // Validate on blur (number can be any, including negative/0)
        input.addEventListener('blur', ()=> {
          if (input.value !== '' && !isFinite(Number(input.value))) {
            input.setAttribute('aria-invalid','true');
          } else {
            input.removeAttribute('aria-invalid');
          }
          computeAndRender();
        });

        input.addEventListener('input', ()=> {
          // debounce minor; compute immediately for responsiveness
          computeAndRender();
        });

        row.appendChild(label);
        row.appendChild(group);
        row.appendChild(remove);
        cfList.appendChild(row);
      }

      // Initial rows
      for(let i=0;i<5;i++) addRow('');

      // Quick fill
      const quickPeriods = document.getElementById('quickPeriods');
      const quickAmount = document.getElementById('quickAmount');
      const btnQuickFill = document.getElementById('btnQuickFill');
      const cfErrEl = document.getElementById('cfErr');

      btnQuickFill.addEventListener('click', ()=>{
        const n = Number(quickPeriods.value);
        const amt = Number(quickAmount.value);
        if(!Number.isInteger(n) || n < 1){
          cfErrEl.textContent = 'Please enter a valid number of periods (1 or more).';
          return;
        }
        if(!isFinite(amt)){
          cfErrEl.textContent = 'Please enter a valid cash flow amount to quick-fill.';
          return;
        }
        cfErrEl.textContent = '';
        cfList.innerHTML = '';
        cfCount = 0;
        for(let i=0;i<n;i++) addRow(amt);
        computeAndRender();
      });

      document.getElementById('btnAddRow').addEventListener('click', ()=>{
        addRow('');
        computeAndRender();
      });

      // Input validations
      initEl.addEventListener('blur', ()=>{
        const v = parseNum(initEl);
        if(v === null || !isFinite(v) || v <= 0){
          setError(initEl, 'Please enter a positive amount greater than 0.', 'initErr');
        }else{
          setError(initEl, '', 'initErr');
        }
        computeAndRender();
      });
      rateEl.addEventListener('blur', ()=>{
        const mode = modeDiscounted.checked ? 'discounted' : 'simple';
        const v = parseNum(rateEl);
        if(mode === 'discounted'){
          if(v === null || !isFinite(v) || v < 0){
            setError(rateEl, 'Please enter a valid non-negative percentage (e.g., 10 for 10%).', 'rateErr');
          }else{
            setError(rateEl, '', 'rateErr');
          }
        }else{
          setError(rateEl, '', 'rateErr');
        }
        computeAndRender();
      });

      // Mode switch
      function updateModeUI(){
        if(modeDiscounted.checked){
          resMethod.textContent = 'Discounted';
          discountRateGroup.style.opacity = '1';
          discountRateGroup.style.pointerEvents = 'auto';
          discountRateGroup.style.filter = 'none';
        }else{
          resMethod.textContent = 'Simple (undiscounted)';
          discountRateGroup.style.opacity = '0.7';
          discountRateGroup.style.pointerEvents = 'none';
          discountRateGroup.style.filter = 'grayscale(15%)';
        }
      }
      modeSimple.addEventListener('change', ()=>{ updateModeUI(); computeAndRender(); });
      modeDiscounted.addEventListener('change', ()=>{ updateModeUI(); computeAndRender(); });
      updateModeUI();

      // Core computation
      function getCashFlows(){
        const rows = Array.from(cfList.querySelectorAll('.cf-row'));
        return rows.map(r=>{
          const input = r.querySelector('input.cf-input');
          const v = input.value.trim();
          if(v === '') return 0;
          const num = Number(v);
          return isFinite(num) ? num : 0;
        });
      }

      function computeSimple(initial, cfs){
        let cum = 0;
        for(let i=0;i<cfs.length;i++){
          const prevCum = cum;
          cum += cfs[i];
          if(prevCum < initial && cum >= initial){
            const remaining = initial - prevCum;
            const cf = cfs[i];
            if(cf <= 0){ // cannot recover in this period
              continue;
            }
            const frac = remaining / cf;
            return { payback: (i) + frac, // i is 0-based; i periods completed = i, add frac
                     breakevenPeriod: i+1,
                     unrecovered: Math.max(0, initial - cum),
                     recovered: true };
          }
        }
        return { payback: null, breakevenPeriod: null, unrecovered: Math.max(0, initial - cum), recovered: false };
      }

      function computeDiscounted(initial, cfs, rPct){
        const r = (rPct ?? 0) / 100;
        let cum = 0;
        for(let i=0;i<cfs.length;i++){
          const t = i+1;
          const dcf = cfs[i] / Math.pow(1+r, t);
          const prevCum = cum;
          cum += dcf;
          if(prevCum < initial && cum >= initial){
            const remaining = initial - prevCum;
            if(dcf <= 0){ continue; }
            const frac = remaining / dcf;
            return { payback: (i) + frac, breakevenPeriod: i+1, unrecovered: Math.max(0, initial - cum), recovered: true };
          }
        }
        return { payback: null, breakevenPeriod: null, unrecovered: Math.max(0, initial - cum), recovered: false };
      }

      // Render
      function computeAndRender(){
        const initial = parseNum(initEl);
        const cfs = getCashFlows();
        const mode = modeDiscounted.checked ? 'discounted' : 'simple';
        const rate = parseNum(rateEl);

        // Validate presence of at least one positive inflow
        const cfErrEl = document.getElementById('cfErr');
        if(cfs.length === 0){
          cfErrEl.textContent = 'Add at least one period.';
        }else if(cfs.every(v => v <= 0)){
          cfErrEl.textContent = 'Provide at least one positive cash inflow to allow recovery.';
        }else{
          cfErrEl.textContent = '';
        }

        // Early exit until minimum valid inputs
        if(!(initial && initial > 0) || cfs.length === 0){
          resPayback.textContent = '—';
          resBreakeven.textContent = '—';
          resUnrec.textContent = '—';
          resNote.textContent = 'Enter initial investment and cash flows to compute the payback period.';
          return;
        }

        let result;
        if(mode === 'simple'){
          result = computeSimple(initial, cfs);
        }else{
          // validate rate for discounted
          if(rate === null || !isFinite(rate) || rate < 0){
            setError(rateEl, 'Please enter a valid non-negative percentage (e.g., 10 for 10%).', 'rateErr');
            resPayback.textContent = '—';
            resBreakeven.textContent = '—';
            resUnrec.textContent = '—';
            resNote.textContent = 'Enter a valid discount rate to compute discounted payback.';
            return;
          }else{
            setError(rateEl, '', 'rateErr');
          }
          result = computeDiscounted(initial, cfs, rate);
        }

        if(result.recovered && isFinite(result.payback)){
          const pbp = result.payback; // in periods (years if period=year)
          const periodsText = pbp.toFixed(2) + ' periods';
          const breakevenText = 'During period ' + result.breakevenPeriod;
          resPayback.textContent = periodsText;
          resBreakeven.textContent = breakevenText;
          resUnrec.textContent = '$' + nf.format(Math.max(0, result.unrecovered));
          resNote.textContent = 'Fractional period = remaining amount divided by the inflow of the breakeven period' + (mode === 'discounted' ? ' (discounted).' : '.');
        }else{
          resPayback.textContent = 'Not recovered';
          resBreakeven.textContent = '—';
          resUnrec.textContent = '$' + nf.format(result.unrecovered);
          resNote.textContent = 'The investment is not recovered within the provided horizon. Consider extending the schedule or reassessing cash flows.';
        }
      }

      // Recompute on initial load in case placeholders are present
      computeAndRender();

      // Also recompute on input
      initEl.addEventListener('input', computeAndRender);
      rateEl.addEventListener('input', computeAndRender);

      // Accessibility: allow Enter on quick fill fields to apply
      quickAmount.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); btnQuickFill.click(); } });
      quickPeriods.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); btnQuickFill.click(); } });

    })();
  </script>

</body></html>