<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<title>BS 7671 Maximum Demand Calculator | Electrical (UK) Diversity per IET OSG</title>
<meta content="Professional BS 7671 maximum demand calculator for UK electrical installations. Apply diversity per IET On‑Site Guide (18th Edition, A2:2022) including cooker, lighting, socket circuits, showers, and custom loads. Mobile-first, A11y-compliant, and optimized for Core Web Vitals." name="description"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/maximum-demand.html" rel="canonical"/>
<meta content="#005A9C" name="theme-color"/>
<meta content="website" property="og:type"/>
<meta content="BS 7671 Maximum Demand Calculator" property="og:title"/>
<meta content="Apply UK diversity rules from the IET On‑Site Guide to compute electrical maximum demand with confidence." property="og:description"/>
<meta content="https://calcdomain.com/engineering/electrical-uk-bs-7671/maximum-demand-calculator" property="og:url"/>
<meta content="summary" name="twitter:card"/>
<meta content="BS 7671 Maximum Demand Calculator" name="twitter:title"/>
<meta content="Accurate, accessible, mobile-first maximum demand tool using BS 7671/IET OSG diversity rules." name="twitter:description"/>
<style>
    /* === Design tokens (critical) === */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#495057; --border-color:#DEE2E6;
      --success-color:#198754; --danger-color:#DC3545; --warning-color:#FFC107;

      --font-sans:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,"Helvetica Neue",sans-serif;
      --font-mono:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono","Courier New",monospace;

      --radius-sm:6px; --radius:10px; --radius-lg:12px;
      --gap-xs:.5rem; --gap:.75rem; --gap-md:1rem; --gap-lg:1.5rem; --gap-xl:2rem;
      --touch:48px;
      --shadow-sm:0 1px 2px rgba(0,0,0,.06);
      --shadow:0 8px 20px rgba(0,0,0,.08);
    }
    @media (prefers-contrast: more){
      :root{ --primary-color:#003366; --secondary-color:#001a33; --text-color:#000; --muted-text-color:#111; --border-color:#000; --background-color:#fff; }
    }
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important; scroll-behavior:auto!important; }
    }

    /* === Base === */
    *,*::before,*::after{ box-sizing:border-box; }
    html{ font-size:16px; }
    body{ margin:0; font-family:var(--font-sans); color:var(--text-color); background:var(--background-color); line-height:1.55; }
    h1,h2,h3{ color:var(--secondary-color); line-height:1.2; margin:.25rem 0 .75rem; }
    h1{ font-size:clamp(1.6rem,4vw,2.2rem); }
    h2{ font-size:clamp(1.3rem,3.2vw,1.8rem); }
    h3{ font-size:clamp(1.1rem,2.8vw,1.4rem); }
    p{ margin:0 0 1rem; max-width:70ch; }
    a{ color:var(--primary-color); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    code,kbd,samp{ font-family:var(--font-mono); background:#eef3f7; padding:.15em .35em; border-radius:4px; }
    .container{ max-width:1200px; margin:0 auto; padding:0 clamp(1rem,4vw,2rem); }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .skip-link{ position:absolute; top:-40px; left:6px; background:var(--primary-color); color:#fff; padding:.5rem .75rem; border-radius:0 0 6px 6px; z-index:1000; }
    .skip-link:focus{ top:0; }

    /* === Header (non-sticky for small screens as requested) === */
    header.site-header{ background:var(--surface-color); border-bottom:1px solid var(--border-color); }
    .header-inner{ display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:.75rem 0; }
    .brand a{ font-weight:700; color:var(--primary-color); }
    nav.breadcrumb{ font-size:.95rem; color:var(--muted-text-color); margin:.25rem 0 1rem; }
    nav.breadcrumb a{ color:inherit; }

    /* === Layout === */
    .calculator-layout{ display:grid; grid-template-columns:1fr; gap:var(--gap-xl); }
    @media (min-width: 992px){
      .calculator-layout{ grid-template-columns:minmax(280px,440px) 1fr; align-items:start; }
    }

    /* === Card / Panels === */
    .card{ background:var(--surface-color); border:1px solid var(--border-color); border-radius:var(--radius-lg); box-shadow:var(--shadow-sm); padding:clamp(1rem,3vw,1.5rem); }
    .muted{ color:var(--muted-text-color); }

    /* === Form controls === */
    .form-group{ margin-bottom:var(--gap-lg); }
    .form-row{ display:grid; grid-template-columns:1fr; gap:var(--gap); }
    @media (min-width:720px){ .form-row.cols-2{ grid-template-columns:1fr 1fr; } .form-row.cols-3{ grid-template-columns:repeat(3,1fr); } }
    label{ display:block; font-weight:600; margin-bottom:.4rem; }
    .label-row{ display:flex; align-items:center; gap:.5rem; }
    .hint{ font-size:.9rem; color:var(--muted-text-color); }
    .input, select, button, .btn{
      min-height:var(--touch); font:inherit; padding:.7rem .9rem; border:1px solid var(--border-color);
      border-radius:var(--radius-sm); background:#fff; color:var(--text-color);
    }
    .input, select{ width:100%; }
    .input:focus, select:focus, .btn:focus, button:focus{ outline:3px solid var(--primary-color); outline-offset:2px; }
    .input[aria-invalid="true"], select[aria-invalid="true"]{ border-color:var(--danger-color); }
    .unit{ position:absolute; right:.75rem; top:50%; transform:translateY(-50%); color:var(--muted-text-color); pointer-events:none; }
    .input-wrap{ position:relative; }
    .error{ color:var(--danger-color); font-size:.9rem; margin-top:.35rem; min-height:1.25rem; }

    /* Radio group */
    .radio-group{ display:flex; gap:.5rem; flex-wrap:wrap; }
    .radio-pill{ position:relative; }
    .radio-pill input{ position:absolute; inset:0; opacity:0; }
    .radio-pill label{
      display:inline-flex; align-items:center; justify-content:center; padding:.6rem .9rem; min-height:var(--touch);
      border:1px solid var(--border-color); border-radius:999px; cursor:pointer; user-select:none;
    }
    .radio-pill input:checked + label{ background:var(--primary-color); color:#fff; border-color:var(--primary-color); }

    /* Tooltip */
    .tooltip-btn{ inline-size:var(--touch); block-size:var(--touch); min-width:var(--touch); min-height:var(--touch);
      display:inline-flex; align-items:center; justify-content:center; border-radius:50%; border:1px solid var(--border-color); background:#fff; cursor:pointer;
      font-weight:700; color:var(--primary-color);
    }
    .tooltip{ display:none; margin-top:.35rem; background:#eef6ff; border:1px solid #cfe5ff; padding:.6rem .75rem; border-radius:8px; color:#0b3d66; }
    .tooltip[aria-hidden="false"]{ display:block; }

    /* Load list */
    .loads{ display:grid; gap:var(--gap-lg); }
    .load{ border:1px solid var(--border-color); border-radius:var(--radius-lg); padding:1rem; background:#fff; box-shadow:var(--shadow-sm); }
    .load-head{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
    .load-title{ font-weight:700; }
    .load-actions{ display:flex; gap:.5rem; }
    .btn{ cursor:pointer; border-radius:var(--radius-sm); transition:transform .1s ease; }
    .btn:hover{ transform:translateY(-1px); }
    .btn-primary{ background:var(--primary-color); color:#fff; border-color:var(--primary-color); }
    .btn-secondary{ background:#fff; color:var(--primary-color); border-color:var(--primary-color); }
    .btn-danger{ background:#fff; color:var(--danger-color); border-color:var(--danger-color); }
    .btn-ghost{ background:transparent; color:var(--primary-color); border-color:transparent; }
    .btn-icon{ width:var(--touch); height:var(--touch); display:inline-flex; align-items:center; justify-content:center; }
    .mini{ padding:.4rem .6rem; min-height:40px; }

    /* Results */
    .results{ min-height:260px; }
    .results-grid{ display:grid; grid-template-columns:1fr; gap:var(--gap); }
    @media (min-width:660px){ .results-grid{ grid-template-columns:repeat(2,1fr); } }
    .result{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:.85rem 1rem; border:1px solid var(--border-color); border-radius:10px; background:#f7fbff; }
    .result .label{ color:var(--muted-text-color); }
    .result .value{ font-weight:800; color:#0b5f2a; font-size:1.15rem; }

    /* Content sections */
    .content h2{ margin-top:1.25rem; padding-top:.5rem; border-top:1px solid var(--border-color); }
    .formula-box{ background:#f0f3f7; border:1px solid var(--border-color); border-radius:10px; padding:1rem; overflow:auto; }
    ul{ padding-left:1.2rem; }
    li{ margin-bottom:.5rem; }

    footer.site-footer{ background:var(--secondary-color); color:#fff; margin-top:3rem; }
    .footer-inner{ padding:1.25rem 0; text-align:center; font-size:.95rem; }
  </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "BS 7671 Maximum Demand Calculator",
  "description": "Professional-grade UK maximum demand calculator applying diversity per IET On‑Site Guide (18th Edition, A2:2022). Includes cooker, lighting, socket, shower, EV and custom loads. Fully accessible and mobile-first.",
  "url": "https://calcdomain.com/maximum-demand.html",
  "inLanguage": "en-GB",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How to compute maximum demand under BS 7671",
      "description": "Use IET On‑Site Guide diversity rules to estimate maximum demand for typical UK domestic installations.",
      "totalTime": "PT3M",
      "tool": [
        {
          "@type": "HowToTool",
          "name": "BS 7671 Maximum Demand Calculator"
        }
      ],
      "step": [
        {
          "@type": "HowToStep",
          "name": "Select supply",
          "text": "Choose Single-phase 230 V or Three-phase 400/230 V and confirm voltage."
        },
        {
          "@type": "HowToStep",
          "name": "Add loads",
          "text": "Add each load (e.g., lighting, cooker, socket circuits, shower) and choose the method/preset."
        },
        {
          "@type": "HowToStep",
          "name": "Apply diversity",
          "text": "For each load, the calculator applies the IET On-Site Guide rule or your custom diversity factor."
        },
        {
          "@type": "HowToStep",
          "name": "Review results",
          "text": "Read the maximum demand in amperes. For 3-phase, values are per-phase. kVA and kW are provided for context."
        },
        {
          "@type": "HowToStep",
          "name": "Document assumptions",
          "text": "Export or note the diversity rules used and the date of assessment."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Which standard does this calculator follow?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It follows BS 7671:2018+A2:2022 principles and diversity guidance from the IET On‑Site Guide (7th Edition, 2022), Table A2."
          }
        },
        {
          "@type": "Question",
          "name": "Is diversity in BS 7671 mandatory?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Diversity factors are guidance (not prescriptive) to estimate demand. Designers must apply engineering judgement for the specific installation."
          }
        },
        {
          "@type": "Question",
          "name": "How is a cooker demand calculated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Demand current Id = 10 A + 30% of (Itotal − 10 A) + 5 A if a socket-outlet is incorporated in the cooker control unit, per IET OSG Table A2."
          }
        },
        {
          "@type": "Question",
          "name": "How are 3‑phase results shown?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool assumes an even distribution of 1‑phase loads across phases and reports per‑phase current. 3‑phase loads are added by line current."
          }
        },
        {
          "@type": "Question",
          "name": "Does power factor matter?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. For loads entered as power (kW), the current depends on the assumed PF. Resistive loads (lighting, heating) are near 1.0; motors can be lower."
          }
        },
        {
          "@type": "Question",
          "name": "Can this be used for DNO applications?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It provides a defendable estimate. Some DNOs have their own forms or assumptions; always verify and use their required method where applicable."
          }
        }
      ]
    }
  ]
}
  </script>
<!-- MathJax for LaTeX rendering -->
<script crossorigin="anonymous" defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\(','\)'], ['$', '$']],
      displayMath: [['\[','\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">

</head>
<body>
<a class="skip-link" href="#main-content">Skip to main content</a>

<main class="main-content" id="main-content" role="main">
<div class="container">
<nav aria-label="Breadcrumb" class="breadcrumb">
<a href="/">Home</a> / <a href="https://calcdomain.com/engineering.html">Engineering</a> / <a href="https://calcdomain.com/engineering/electrical-uk-bs-7671.html">Electrical (UK BS 7671)</a> / Maximum Demand Calculator
      </nav>
<h1>BS 7671 Maximum Demand Calculator</h1>
<p>
        Estimate the maximum demand of a UK electrical installation using BS 7671 principles and IET On‑Site Guide diversity guidance. This tool is designed for electricians, designers, and inspectors to quickly apply diversity to common loads (lighting, cooker, socket circuits, showers, EV, etc.) with full accessibility and mobile‑first UX.
      </p>
<div aria-live="polite" class="calculator-layout">
<aside aria-labelledby="calc-heading" class="card">
<section aria-describedby="calc-desc" id="calc">
<h2 id="calc-heading">Interactive Calculator</h2>
<p class="hint" id="calc-desc">Add each load and choose the matching diversity method or preset. Fields marked * are required.</p>
<!-- General supply settings -->
<div aria-labelledby="supply-heading" class="form-group" role="group">
<div class="label-row">
<label id="supply-heading">Supply type *</label>
<button aria-controls="tip-supply" aria-expanded="false" aria-label="Supply help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip" id="tip-supply">
                Choose 1‑phase 230 V or 3‑phase 400/230 V. For 3‑phase, the calculator assumes an even distribution of 1‑phase loads across phases unless otherwise specified.
              </div>
<div aria-label="Supply type" class="radio-group" role="radiogroup">
<div class="radio-pill">
<input checked="" id="supply1" name="supplyType" type="radio" value="1p"/>
<label for="supply1">Single-phase</label>
</div>
<div class="radio-pill">
<input id="supply3" name="supplyType" type="radio" value="3p"/>
<label for="supply3">Three-phase</label>
</div>
</div>
</div>
<div class="form-row cols-3">
<div class="form-group">
<div class="label-row">
<label for="voltage">Nominal voltage (V) *</label>
<button aria-controls="tip-voltage" aria-expanded="false" aria-label="Voltage help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip" id="tip-voltage">
                  230 V for single‑phase. For three‑phase, use 400 V (line‑to‑line). You may adjust to suit site conditions or manufacturer data.
                </div>
<div class="input-wrap">
<input aria-describedby="err-voltage tip-voltage" aria-required="true" class="input" id="voltage" inputmode="decimal" max="1000" min="100" step="1" type="number" value="230"/>
</div>
<div aria-live="polite" class="error" id="err-voltage" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="frequency">Frequency (Hz)</label>
<button aria-controls="tip-frequency" aria-expanded="false" aria-label="Frequency help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip" id="tip-frequency">
                  Used for documentation only; calculations are not frequency‑dependent. UK nominal frequency is 50 Hz.
                </div>
<div class="input-wrap">
<input aria-describedby="tip-frequency" class="input" id="frequency" inputmode="decimal" max="70" min="40" step="1" type="number" value="50"/>
</div>
<div aria-hidden="true" class="error"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="pfSystem">Default power factor</label>
<button aria-controls="tip-pfsys" aria-expanded="false" aria-label="Power factor help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip" id="tip-pfsys">
                  Used as a default PF for power‑based entries. Resistive loads ≈ 1.0; motors often 0.8–0.95. You can override PF per load.
                </div>
<div class="input-wrap">
<input aria-describedby="tip-pfsys" class="input" id="pfSystem" inputmode="decimal" max="1" min="0.3" step="0.01" type="number" value="1.00"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
</div>
<!-- Loads -->
<div class="form-group">
<div class="label-row">
<label>Loads</label>
<button aria-label="Add load" class="btn btn-secondary mini" id="addLoadBtn" type="button">+ Add load</button>
</div>
<div class="loads" id="loadsContainer"></div>
</div>
<div class="form-row">
<button aria-label="Calculate maximum demand" class="btn btn-primary" id="calculateBtn" type="button">Calculate</button>
<button aria-label="Reset all inputs" class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
</section>
</aside>
<article aria-labelledby="results-heading" class="card results">
<section>
<h2 id="results-heading">Results</h2>
<p class="hint" id="results-hint">Summary updates as you type. Values are rounded to 2 decimals.</p>
<div aria-describedby="results-hint" class="results-grid" id="resultsContainer">
<div class="result">
<div class="label">Maximum demand</div>
<div class="value"><span id="maxDemandA">0.00</span> A</div>
</div>
<div class="result">
<div class="label">System apparent power</div>
<div class="value"><span id="apparentKVA">0.00</span> kVA</div>
</div>
<div class="result">
<div class="label">Estimated active power</div>
<div class="value"><span id="activeKW">0.00</span> kW</div>
</div>
<div class="result">
<div class="label">Assumptions</div>
<div class="value" id="assumptionText">Single-phase</div>
</div>
</div>
</section>
</article>
</div>
<section class="content">
<h2>Data Source and Methodology</h2>
<p>
          Authoritative data source:
          <strong>IET Wiring Regulations, BS 7671:2018+A2:2022</strong> and
          <strong>IET On‑Site Guide, 7th Edition (2022), Table A2 — Diversity</strong>.
          Official IET links:
          <a href="https://electrical.theiet.org/bs-7671/" rel="nofollow noopener" target="_blank">BS 7671 overview</a> and
          <a href="https://electrical.theiet.org/books/onsite/" rel="nofollow noopener" target="_blank">On‑Site Guide</a>.
        </p>
<p><em>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</em></p>
<p class="hint">
          Diversity values are guidance to help estimate demand; they are not prescriptive. Designers must consider usage patterns, simultaneity, and manufacturer instructions.
        </p>
<h2>The Formulas Explained</h2>
<div class="formula-box">
<p>Single‑phase current from power:</p>
<p>$$ I_{1\phi} = \frac{1000 \cdot P_{\mathrm{kW}}}{V \cdot \mathrm{PF}} $$</p>
<p>Three‑phase current from power (balanced):</p>
<p>$$ I_{3\phi} = \frac{1000 \cdot P_{\mathrm{kW}}}{\sqrt{3} \cdot V_{\mathrm{LL}} \cdot \mathrm{PF}} $$</p>
<p>Cooker demand (IET OSG Table A2):</p>
<p>$$ I_{\mathrm{d}} = 10 + 0.3 \cdot \max\!\big(I_{\mathrm{total}} - 10,\,0\big) + 5\cdot s $$ where s = 1 if a socket‑outlet is incorporated in the cooker control unit, else 0.</p>
<p>Socket‑style “first 10 A + 30% remainder” rule:</p>
<p>$$ I_{\mathrm{d}} = 10 + 0.3 \cdot \max\!\big(I_{\mathrm{rated}} - 10,\,0\big) + \Delta $$ with optional addition Δ (e.g., +5 A) where applicable.</p>
<p>Lighting diversity (IET OSG Table A2):</p>
<p>$$ I_{\mathrm{d}} = 0.66 \cdot I_{\mathrm{total}} $$</p>
<p>Custom diversity factor f (0–1):</p>
<p>$$ I_{\mathrm{d}} = f \cdot I_{\mathrm{total}} $$</p>
</div>
<h2>Glossary of Variables</h2>
<ul>
<li><strong>V</strong>: Nominal voltage in volts. Single‑phase: 230 V typical; three‑phase line‑to‑line: 400 V typical.</li>
<li><strong>PF</strong>: Power factor (0–1). Ratio of real to apparent power.</li>
<li><strong>P</strong>: Load power in kilowatts (kW).</li>
<li><strong>I_total</strong>: Calculated load current before diversity.</li>
<li><strong>I_d</strong>: Diversified current (the demand used in summation).</li>
<li><strong>kVA</strong>: Apparent power, calculated from current and voltage.</li>
<li><strong>kW</strong>: Estimated active power using the assumed PF.</li>
<li><strong>Δ</strong>: Optional additive current (e.g., +5 A for a cooker control unit socket).</li>
<li><strong>f</strong>: Diversity factor (e.g., 0.66 for 66%).</li>
</ul>
<h2>How It Works: A Step‑By‑Step Example</h2>
<p>
          Suppose a single‑phase dwelling at 230 V with:
        </p>
<ul>
<li>Lighting: 900 W total → I_total = 900 / 230 = 3.91 A → I_d = 0.66 × 3.91 = 2.58 A</li>
<li>Cooker: 8 kW, no socket → I_total = 8000 / 230 = 34.78 A → I_d = 10 + 0.3 × (34.78 − 10) = 17.43 A</li>
<li>Socket circuit (rule 10 A + 30% remainder): 32 A → I_d = 10 + 0.3 × (32 − 10) = 16.6 A</li>
<li>Shower: 9.5 kW at PF=1 → I_total = 9500 / 230 = 41.30 A → I_d = 1.0 × 41.30 = 41.30 A</li>
</ul>
<p>
          Summed maximum demand ≈ 2.58 + 17.43 + 16.6 + 41.3 = <strong>77.91 A</strong>.<br/>
          Apparent power ≈ 230 × 77.91 / 1000 = <strong>17.92 kVA</strong>. With PF≈1, active power ≈ <strong>17.92 kW</strong>.
        </p>
<h2>Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Is this calculator compliant with BS 7671?</h3>
<p>It applies BS 7671 principles and the IET On‑Site Guide (Table A2) diversity guidance. Always verify with the latest edition and project‑specific requirements.</p>
<h3>Can I use custom diversity factors?</h3>
<p>Yes. Choose “Fixed current” or “Power (kW)” and set a custom diversity percentage to reflect usage patterns or manufacturer data.</p>
<h3>How do I enter EV chargers?</h3>
<p>Enter as “Power (kW)” at PF≈1 and use 100% diversity unless a smart load management system justifies a lower value.</p>
<h3>What about heat pumps and motors?</h3>
<p>Use “Power (kW)” with an appropriate PF (e.g., 0.9) and apply diversity if justified by simultaneity or control systems.</p>
<h3>Are results per phase for 3‑phase supplies?</h3>
<p>Yes. The calculator assumes single‑phase loads are evenly spread across phases and reports a per‑phase maximum demand. Three‑phase loads are included by their line current.</p>
<h3>Why do my results differ from DNO calculators?</h3>
<p>DN0s may enforce specific assumptions or simultaneity factors. Use their required method when applying for supply upgrades.</p>
</div>
<div class="muted" style="margin-top:1.25rem;">
          Tool developed by <strong>Ugo Candido</strong>. Content verified by the CalcDomain Editorial Team. Last reviewed for accuracy on: <time datetime="2025-09-14">14 September 2025</time>.
        </div>
</section>
</div>
</main>
<!-- Standard Footer --> 
<template id="loadRowTemplate">
<div class="load" data-load="">
<div class="load-head">
<div class="load-title"><span data-title="">New load</span></div>
<div class="load-actions">
<button aria-label="Duplicate load" class="btn btn-ghost mini" data-duplicate="" type="button">Duplicate</button>
<button aria-label="Remove load" class="btn btn-danger mini" data-remove="" type="button">Remove</button>
</div>
</div>
<div class="form-row cols-2">
<div class="form-group">
<label data-for="name" for="">Load name *</label>
<input aria-describedby="" aria-required="true" class="input" data-name="" placeholder="e.g., Lighting Circuit, Cooker" type="text"/>
<div aria-live="polite" class="error" data-err="name" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label data-for="method" for="">Method / Preset *</label>
<button aria-expanded="false" aria-label="Method help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip">
            Choose how this load is defined:
            Fixed current, Power in kW, Cooker rule (OSG), Socket rule (10 A + 30%), or Lighting (66%).
          </div>
<select aria-required="true" class="input" data-method="">
<option selected="" value="current">Fixed current (A) + diversity</option>
<option value="power">Power (kW) + PF + diversity</option>
<option value="cooker">Cooker (OSG Table A2)</option>
<option value="first10_30">First 10 A + 30% remainder</option>
<option value="lighting">Lighting (66% of total)</option>
</select>
<div aria-live="polite" class="error" data-err="method" role="alert"></div>
</div>
</div>
<div class="form-row cols-3" data-row="current">
<div class="form-group">
<label>Current (A) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-current="" inputmode="decimal" min="0" placeholder="e.g., 16" step="0.01" type="number"/>
<span class="unit">A</span>
</div>
<div aria-live="polite" class="error" data-err="current" role="alert"></div>
</div>
<div class="form-group">
<label>Power factor</label>
<div class="input-wrap">
<input class="input" data-pf="" inputmode="decimal" max="1" min="0.3" placeholder="e.g., 1.0" step="0.01" type="number"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
<div class="form-group">
<label>Diversity (%) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-diversity="" inputmode="decimal" max="100" min="0" step="1" type="number" value="100"/>
<span class="unit">%</span>
</div>
<div aria-live="polite" class="error" data-err="diversity" role="alert"></div>
</div>
</div>
<div class="form-row cols-3" data-row="power" hidden="">
<div class="form-group">
<label>Power (kW) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-kw="" inputmode="decimal" min="0" placeholder="e.g., 7.2" step="0.01" type="number"/>
<span class="unit">kW</span>
</div>
<div aria-live="polite" class="error" data-err="kw" role="alert"></div>
</div>
<div class="form-group">
<label>Power factor</label>
<div class="input-wrap">
<input class="input" data-pf="" inputmode="decimal" max="1" min="0.3" placeholder="e.g., 1.0" step="0.01" type="number"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
<div class="form-group">
<div class="label-row">
<label>Phase</label>
<button aria-expanded="false" aria-label="Phase help" class="tooltip-btn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip">Is this a single‑phase or a three‑phase load?</div>
<select class="input" data-loadphase="">
<option selected="" value="1p">Single‑phase</option>
<option value="3p">Three‑phase</option>
</select>
</div>
<div class="form-group">
<label>Diversity (%) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-diversity="" inputmode="decimal" max="100" min="0" step="1" type="number" value="100"/>
<span class="unit">%</span>
</div>
<div aria-live="polite" class="error" data-err="diversity" role="alert"></div>
</div>
</div>
<div class="form-row cols-3" data-row="cooker" hidden="">
<div class="form-group">
<label>Total connected load (kW) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-kw="" inputmode="decimal" min="0" placeholder="e.g., 8" step="0.01" type="number"/>
<span class="unit">kW</span>
</div>
<div aria-live="polite" class="error" data-err="kw" role="alert"></div>
</div>
<div class="form-group">
<label>Socket in cooker control unit?</label>
<select class="input" data-extrasocket="">
<option selected="" value="no">No</option>
<option value="yes">Yes (+5 A)</option>
</select>
</div>
<div class="form-group">
<label>Assumed PF</label>
<div class="input-wrap">
<input class="input" data-pf="" inputmode="decimal" max="1" min="0.8" step="0.01" type="number" value="1.00"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
</div>
<div class="form-row cols-3" data-row="first10_30" hidden="">
<div class="form-group">
<label>Rated current (A) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-rated="" inputmode="decimal" min="0" placeholder="e.g., 32" step="0.1" type="number"/>
<span class="unit">A</span>
</div>
<div aria-live="polite" class="error" data-err="rated" role="alert"></div>
</div>
<div class="form-group">
<label>Extra addition</label>
<select class="input" data-delta="">
<option selected="" value="0">None</option>
<option value="5">+5 A (e.g., control unit socket)</option>
</select>
</div>
<div class="form-group">
<label>Power factor</label>
<div class="input-wrap">
<input class="input" data-pf="" inputmode="decimal" max="1" min="0.3" step="0.01" type="number" value="1.00"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
</div>
<div class="form-row cols-3" data-row="lighting" hidden="">
<div class="form-group">
<label>Total lighting load (W) *</label>
<div class="input-wrap">
<input aria-required="true" class="input" data-watts="" inputmode="decimal" min="0" placeholder="e.g., 900" step="1" type="number"/>
<span class="unit">W</span>
</div>
<div aria-live="polite" class="error" data-err="watts" role="alert"></div>
</div>
<div class="form-group">
<label>Diversity (fixed)</label>
<input aria-disabled="true" class="input" disabled="" value="66%"/>
</div>
<div class="form-group">
<label>Assumed PF</label>
<div class="input-wrap">
<input class="input" data-pf="" inputmode="decimal" max="1" min="0.8" step="0.01" type="number" value="1.00"/>
<span class="unit">PF</span>
</div>
<div aria-hidden="true" class="error"></div>
</div>
</div>
</div>
</template>
<script defer="">
    (function(){
      'use strict';

      // Utilities
      const $ = (sel, root=document) => root.querySelector(sel);
      const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
      const clamp = (n, min, max) => Math.min(Math.max(n, min), max);
      const toNum = (v) => {
        const n = Number(v);
        return Number.isFinite(n) ? n : NaN;
      };

      const els = {
        loads: $('#loadsContainer'),
        addLoadBtn: $('#addLoadBtn'),
        calcBtn: $('#calculateBtn'),
        resetBtn: $('#resetBtn'),
        supplyRadios: $$('input[name="supplyType"]'),
        voltage: $('#voltage'),
        pfSystem: $('#pfSystem'),
        maxDemandA: $('#maxDemandA'),
        apparentKVA: $('#apparentKVA'),
        activeKW: $('#activeKW'),
        assumptionText: $('#assumptionText'),
        errVoltage: $('#err-voltage')
      };

      // Accessible tooltips (toggle buttons controlling next sibling .tooltip or by id)
      function setupTooltips(root=document){
        $$('button.tooltip-btn', root).forEach(btn=>{
          btn.addEventListener('click', ()=>{
            let tip;
            const controls = btn.getAttribute('aria-controls');
            if(controls){
              tip = document.getElementById(controls);
            }else{
              tip = btn.parentElement.nextElementSibling;
            }
            if(!tip || !tip.classList.contains('tooltip')) return;
            const expanded = btn.getAttribute('aria-expanded') === 'true';
            btn.setAttribute('aria-expanded', String(!expanded));
            tip.setAttribute('aria-hidden', String(expanded));
          });
        });
      }
      setupTooltips(document);

      // Validation helpers
      function setError(input, errEl, msg){
        if(!errEl) return;
        input?.setAttribute('aria-invalid', 'true');
        errEl.textContent = msg;
      }
      function clearError(input, errEl){
        if(!errEl) return;
        input?.setAttribute('aria-invalid', 'false');
        errEl.textContent = '';
      }

      // Load management
      let loadCounter = 0;

      function addLoad(preset){
        const tpl = document.getElementById('loadRowTemplate');
        const node = tpl.content.firstElementChild.cloneNode(true);
        const id = ++loadCounter;
        // Set label-for relationships
        const mapIds = {};
        $$('[data-for]', node).forEach(lab=>{
          const key = lab.getAttribute('data-for');
          const input = node.querySelector(`[data-${key}]`);
          const inputId = `load-${id}-${key}`;
          input.id = inputId;
          lab.setAttribute('for', inputId);
          mapIds[key] = inputId;
        });
        // Attach tooltip toggles within row
        setupTooltips(node);

        // Title binding
        const titleEl = $('[data-title]', node);
        const nameInput = $('[data-name]', node);
        nameInput.addEventListener('input', ()=> {
          titleEl.textContent = nameInput.value.trim() || 'New load';
        });

        // Method switching
        const methodSel = $('[data-method]', node);
        const rows = {
          current: $('[data-row="current"]', node),
          power: $('[data-row="power"]', node),
          cooker: $('[data-row="cooker"]', node),
          first10_30: $('[data-row="first10_30"]', node),
          lighting: $('[data-row="lighting"]', node),
        };
        function showRow(m){
          Object.entries(rows).forEach(([k, el])=>{
            el.hidden = (k !== m);
          });
        }
        methodSel.addEventListener('change', ()=> {
          showRow(methodSel.value);
          validateLoad(node); // revalidate visibility changes
          scheduleCompute();
        });

        // Duplicate/remove
        $('[data-remove]', node).addEventListener('click', ()=>{
          node.remove();
          scheduleCompute();
        });
        $('[data-duplicate]', node).addEventListener('click', ()=>{
          const data = extractLoad(node);
          const newNode = addLoad();
          hydrateLoad(newNode, data);
          scheduleCompute();
        });

        // Inline validation on blur
        $$('input, select', node).forEach(inp=>{
          inp.addEventListener('blur', ()=>{
            validateLoad(node);
          });
          inp.addEventListener('input', debounce(scheduleCompute, 120));
          inp.addEventListener('change', debounce(scheduleCompute, 120));
        });

        // Apply preset if provided
        if(preset){
          hydrateLoad(node, preset);
        }

        els.loads.appendChild(node);
        showRow(methodSel.value);
        return node;
      }

      function hydrateLoad(node, data){
        if(!data) return;
        const name = $('[data-name]', node);
        const method = $('[data-method]', node);
        if(data.name){ name.value = data.name; $('[data-title]', node).textContent = data.name; }
        if(data.method){ method.value = data.method; method.dispatchEvent(new Event('change')); }
        // Fill method-specific fields
        if(data.method === 'current'){
          $('[data-current]', node).value = data.current ?? '';
          $('[data-pf]', node).value = data.pf ?? '';
          $('[data-diversity]', node).value = data.diversity ?? '100';
        } else if(data.method === 'power'){
          $('[data-kw]', node).value = data.kw ?? '';
          $('[data-pf]', node).value = data.pf ?? '';
          $('[data-loadphase]', node).value = data.loadphase ?? '1p';
          const divs = rowsOf(node,'power').map(r=>r.querySelector('[data-diversity]')).filter(Boolean);
          if(divs[0]) divs[0].value = data.diversity ?? '100';
        } else if(data.method === 'cooker'){
          rowsOf(node,'cooker')[0]?.querySelector('[data-kw]').value = data.kw ?? '';
          rowsOf(node,'cooker')[0]?.querySelector('[data-extrasocket]').value = data.extrasocket ?? 'no';
          rowsOf(node,'cooker')[0]?.querySelector('[data-pf]').value = data.pf ?? '1.0';
        } else if(data.method === 'first10_30'){
          rowsOf(node,'first10_30')[0]?.querySelector('[data-rated]').value = data.rated ?? '';
          rowsOf(node,'first10_30')[0]?.querySelector('[data-delta]').value = data.delta ?? '0';
          rowsOf(node,'first10_30')[0]?.querySelector('[data-pf]').value = data.pf ?? '1.0';
        } else if(data.method === 'lighting'){
          rowsOf(node,'lighting')[0]?.querySelector('[data-watts]').value = data.watts ?? '';
          rowsOf(node,'lighting')[0]?.querySelector('[data-pf]').value = data.pf ?? '1.0';
        }
      }
      function rowsOf(node, key){ return [$(`[data-row="${key}"]`, node)].filter(Boolean); }

      function extractLoad(node){
        const name = $('[data-name]', node).value.trim();
        const method = $('[data-method]', node).value;
        const out = { name, method };
        if(method === 'current'){
          out.current = toNum($('[data-current]', node).value);
          out.pf = toNum($('[data-pf]', node).value) || NaN;
          out.diversity = toNum($('[data-diversity]', node).value);
          out.phase = '1p';
        } else if(method === 'power'){
          out.kw = toNum($('[data-row="power"] [data-kw]', node).value);
          out.pf = toNum($('[data-row="power"] [data-pf]', node).value) || NaN;
          out.diversity = toNum($('[data-row="power"] [data-diversity]', node).value);
          out.loadphase = $('[data-loadphase]', node).value || '1p';
        } else if(method === 'cooker'){
          out.kw = toNum($('[data-row="cooker"] [data-kw]', node).value);
          out.extrasocket = $('[data-extrasocket]', node).value;
          out.pf = toNum($('[data-row="cooker"] [data-pf]', node).value) || 1.0;
        } else if(method === 'first10_30'){
          out.rated = toNum($('[data-row="first10_30"] [data-rated]', node).value);
          out.delta = toNum($('[data-row="first10_30"] [data-delta]', node).value) || 0;
          out.pf = toNum($('[data-row="first10_30"] [data-pf]', node).value) || 1.0;
        } else if(method === 'lighting'){
          out.watts = toNum($('[data-row="lighting"] [data-watts]', node).value);
          out.pf = toNum($('[data-row="lighting"] [data-pf]', node).value) || 1.0;
        }
        return out;
      }

      function validateLoad(node){
        let ok = true;
        const method = $('[data-method]', node).value;
        const nameEl = $('[data-name]', node);
        const nameErr = $('[data-err="name"]', node);
        if(!nameEl.value.trim()){
          setError(nameEl, nameErr, 'Please provide a load name.');
          ok = false;
        } else { clearError(nameEl, nameErr); }

        function reqNum(sel, errKey, label, min=0){
          const inp = sel;
          const err = $(`[data-err="${errKey}"]`, node);
          const val = toNum(inp.value);
          if(!Number.isFinite(val) || val < min){
            setError(inp, err, `Enter a valid ${label}${min > 0 ? ` (≥ ${min})` : ''}.`);
            return false;
          } else { clearError(inp, err); return true; }
        }

        if(method === 'current'){
          ok &= reqNum($('[data-current]', node), 'current', 'current (A)');
          ok &= reqNum($('[data-diversity]', node), 'diversity', 'diversity (%)', 0);
        } else if(method === 'power'){
          ok &= reqNum($('[data-row="power"] [data-kw]', node), 'kw', 'power (kW)');
          ok &= reqNum($('[data-row="power"] [data-diversity]', node), 'diversity', 'diversity (%)', 0);
        } else if(method === 'cooker'){
          ok &= reqNum($('[data-row="cooker"] [data-kw]', node), 'kw', 'power (kW)');
        } else if(method === 'first10_30'){
          ok &= reqNum($('[data-row="first10_30"] [data-rated]', node), 'rated', 'rated current (A)');
        } else if(method === 'lighting'){
          ok &= reqNum($('[data-row="lighting"] [data-watts]', node), 'watts', 'lighting load (W)');
        }
        return !!ok;
      }

      function validateGlobal(){
        const v = toNum(els.voltage.value);
        if(!Number.isFinite(v) || v < 100 || v > 1000){
          setError(els.voltage, els.errVoltage, 'Please enter a valid voltage between 100 and 1000 V.');
          return false;
        } else { clearError(els.voltage, els.errVoltage); }
        return true;
      }

      // Computation
      function compute(){
        if(!validateGlobal()) return {I:0,kVA:0,kW:0,assumption:''};
        let supply = $('input[name="supplyType"]:checked')?.value || '1p';
        const V = toNum(els.voltage.value);
        const pfDefault = toNum(els.pfSystem.value) || 1.0;

        // per-phase current accumulation for 3p
        let I_single_phase_total = 0; // diversified single-phase current sum
        let I_three_phase_line = 0;   // diversified 3p line current sum (assumed concurrent)
        let PkW_total = 0;            // estimated diversified active kW (approx)

        $$('#loadsContainer [data-load]').forEach(node=>{
          if(!validateLoad(node)) return;
          const data = extractLoad(node);
          const method = data.method;
          let Id = 0; // diversified current equivalent (A)
          let PkW = 0; // diversified active power estimate

          if(method === 'current'){
            const I = Math.max(0, toNum(data.current));
            const f = clamp((toNum(data.diversity) || 0) / 100, 0, 1);
            const pf = Number.isFinite(data.pf) ? data.pf : pfDefault;
            Id = I * f;
            // convert to kW (1-phase assumption)
            PkW = (V * Id * pf) / 1000;
            I_single_phase_total += Id;
          }
          else if(method === 'power'){
            const kw = Math.max(0, toNum(data.kw));
            const pf = Number.isFinite(data.pf) ? data.pf : pfDefault;
            const f = clamp((toNum(data.diversity) || 0) / 100, 0, 1);
            const diversifiedKW = kw * f;
            if((data.loadphase || '1p') === '3p'){
              // 3-phase load: compute line current and kW directly
              if(V <= 0){ return; }
              const Iline = (1000 * diversifiedKW) / (Math.sqrt(3) * V * pf);
              Id = Iline; // line current
              I_three_phase_line += Id;
              PkW = diversifiedKW; // diversified active kW provided
            }else{
              // 1-phase load
              if(V <= 0){ return; }
              const I1p = (1000 * diversifiedKW) / (V * pf);
              Id = I1p;
              I_single_phase_total += Id;
              PkW = diversifiedKW;
            }
          }
          else if(method === 'cooker'){
            const kw = Math.max(0, toNum(data.kw));
            const pf = Number.isFinite(data.pf) ? data.pf : 1.0;
            if(V <= 0){ return; }
            const Itotal = (1000 * kw) / (V * pf);
            const add5 = (data.extrasocket === 'yes') ? 5 : 0;
            Id = 10 + 0.3 * Math.max(Itotal - 10, 0) + add5;
            I_single_phase_total += Id;
            PkW = (V * Id * pf) / 1000; // approximate resulting kW at PF
          }
          else if(method === 'first10_30'){
            const Irated = Math.max(0, toNum(data.rated));
            const delta = Math.max(0, toNum(data.delta) || 0);
            const pf = Number.isFinite(data.pf) ? data.pf : 1.0;
            Id = 10 + 0.3 * Math.max(Irated - 10, 0) + delta;
            I_single_phase_total += Id;
            PkW = (V * Id * pf) / 1000;
          }
          else if(method === 'lighting'){
            const W = Math.max(0, toNum(data.watts));
            const pf = Number.isFinite(data.pf) ? data.pf : 1.0;
            if(V <= 0){ return; }
            const I = W / V;
            Id = 0.66 * I;
            I_single_phase_total += Id;
            PkW = (V * Id * pf) / 1000;
          }
          PkW_total += PkW;
        });

        let Iresult = 0;
        let S_kVA = 0;
        let P_kW = PkW_total;
        let assumption = '';

        if(supply === '1p'){
          Iresult = I_single_phase_total + I_three_phase_line; // if any 3p specified erroneously, include conservatively
          S_kVA = (V * Iresult) / 1000;
          assumption = 'Single-phase';
        } else {
          // three-phase: distribute 1p loads evenly across 3 phases
          const IperPhase_from1p = I_single_phase_total / 3;
          const IperPhase_total = IperPhase_from1p + I_three_phase_line; // 3p line current adds equally to each phase
          Iresult = IperPhase_total; // report per-phase current
          S_kVA = (Math.sqrt(3) * V * IperPhase_total) / 1000;
          assumption = 'Three-phase (per-phase current; 1‑phase loads evenly distributed)';
        }

        return { I: Iresult, kVA: S_kVA, kW: P_kW, assumption };
      }

      function renderResults(){
        const res = compute();
        els.maxDemandA.textContent = (Math.round(res.I * 100) / 100).toFixed(2);
        els.apparentKVA.textContent = (Math.round(res.kVA * 100) / 100).toFixed(2);
        els.activeKW.textContent = (Math.round(res.kW * 100) / 100).toFixed(2);
        els.assumptionText.textContent = res.assumption || '—';
      }

      let computeTimer;
      function scheduleCompute(){
        window.clearTimeout(computeTimer);
        computeTimer = window.setTimeout(renderResults, 50);
      }
      const debounce = (fn, t=100)=> {
        let h; return (...args)=>{ clearTimeout(h); h=setTimeout(()=>fn.apply(null,args), t); };
      };

      // Event bindings
      els.addLoadBtn.addEventListener('click', ()=>{
        addLoad();
      });
      els.calcBtn.addEventListener('click', renderResults);
      els.resetBtn.addEventListener('click', ()=>{
        // clear loads and add a few sensible defaults
        els.loads.innerHTML = '';
        defaultLoads().forEach(p=> addLoad(p));
        scheduleCompute();
      });
      els.voltage.addEventListener('blur', validateGlobal);
      els.voltage.addEventListener('input', debounce(scheduleCompute,120));
      els.pfSystem.addEventListener('input', debounce(scheduleCompute,120));
      els.supplyRadios.forEach(r=> r.addEventListener('change', ()=>{
        // adjust voltage defaults when switching supply
        const v = toNum(els.voltage.value);
        if(r.value === '3p' && r.checked && (Math.abs(v-230)<1)){ els.voltage.value = 400; }
        if(r.value === '1p' && r.checked && (Math.abs(v-400)<1)){ els.voltage.value = 230; }
        scheduleCompute();
      }));

      // Initialize with helpful defaults
      function defaultLoads(){
        return [
          { name:'Lighting', method:'lighting', watts:900, pf:1.0 },
          { name:'Cooker', method:'cooker', kw:8, extrasocket:'no', pf:1.0 },
          { name:'Socket circuit', method:'first10_30', rated:32, delta:0, pf:1.0 },
          { name:'Shower', method:'power', kw:9.5, pf:1.0, diversity:100, loadphase:'1p' }
        ];
      }
      defaultLoads().forEach(p=> addLoad(p));
      renderResults();
    })();
  </script>

</body></html>