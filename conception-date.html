<!DOCTYPE html>
<html lang="en"><head> 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="utf-8"/>
<title>Pregnancy Conception Date Calculator | Health &amp; Fitness</title>
<meta content="Estimate your conception date from LMP, due date, ultrasound, or ovulation/IUI/IVF. Get fertile window, gestational age, fetal age, and due date with evidence-based formulas." name="description"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/conception-date.html" rel="canonical"/>
<meta content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" name="robots"/>
<meta content="#0a2d4d" name="theme-color"/>
<!-- Favicons (placeholders) -->
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<!-- Optional global CSS loaded non-blocking (for platforms that host it) -->
<noscript></noscript>
<!-- Preconnect hints -->
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect"/>
<style>
    /* Critical, mobile-first CSS (optimized for accessibility and CWV) */
    :root{
      --primary:#0a2d4d; --primary-600:#083055; --secondary:#106ba3; --text:#122033; --muted:#5a6b7b;
      --bg:#f7f9fc; --surface:#ffffff; --border:#d7dde5;
      --success:#1e7e34; --danger:#c62828; --warning:#b7791f;
      --radius:12px; --focus:3px;
      --touch:48px;
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg); color:var(--text); line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--secondary); text-decoration:none}
    a:hover{text-decoration:underline}
    .skip-link{
      position:absolute; top:-40px; left:8px; background:var(--primary); color:#fff; padding:8px 12px; border-radius:6px;
    }
    .skip-link:focus{top:8px}
    .container{max-width:1200px; margin:0 auto; padding:0 16px}
    header.site-header{
      background:var(--surface); border-bottom:1px solid var(--border); /* not sticky per requirements */
      position:static;
    }
    .header-content{
      display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center; padding:12px 0;
    }
    .logo{font-weight:800; color:var(--primary); font-size:1.125rem}
    .site-search{display:flex; gap:8px; align-items:center}
    .site-search input[type="search"]{
      flex:1; min-width:0; padding:12px; border:1px solid var(--border); border-radius:10px; font-size:1rem; background:#fff;
    }
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:12px 16px; min-height:var(--touch); min-width:var(--touch);
      border:1px solid var(--primary); color:#fff; background:var(--primary); border-radius:10px; font-weight:600; cursor:pointer}
    .btn:hover{background:var(--primary-600)}
    .btn-secondary{background:transparent; color:var(--primary)}
    nav.main-nav ul{list-style:none; margin:0; padding:0; display:flex; gap:12px; flex-wrap:wrap}
    nav.main-nav a{padding:8px 10px; border-radius:8px}
    nav.main-nav a:focus{outline:var(--focus) solid var(--secondary); outline-offset:2px}

    main{padding:24px 0}
    h1{font-size:1.75rem; margin:0 0 8px; color:#0e2a43}
    p.lead{color:#223447}

    /* Calculator layout */
    .calculator-layout{display:grid; grid-template-columns:1fr; gap:24px; margin-top:16px}
    @media (min-width: 992px){
      .calculator-layout{grid-template-columns:minmax(300px,420px) 1fr}
    }

    .card{
      background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
      padding:20px; box-shadow:0 2px 12px rgba(10,15,25,.04);
    }
    .card h2{margin:0 0 8px; font-size:1.25rem}
    .form-group{margin-bottom:16px}
    .form-group label{display:block; font-weight:700; margin-bottom:6px}
    .label-row{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
    .help-btn{
      border:1px solid var(--border); background:#fff; color:var(--primary); border-radius:999px; width:32px; height:32px;
      display:inline-flex; align-items:center; justify-content:center; font-weight:800; cursor:pointer;
    }
    .help-btn:focus{outline:var(--focus) solid var(--secondary); outline-offset:2px}
    .help-text{display:none; margin-top:8px; color:#2b3b4b; background:#f0f4f9; border:1px dashed var(--border); border-radius:8px; padding:10px}
    .help-text[aria-hidden="false"]{display:block}
    .form-control, select{
      width:100%; padding:12px 14px; font-size:1rem; border:1px solid var(--border); border-radius:10px; background:#fff;
      min-height:var(--touch);
    }
    .form-control:focus, select:focus{outline:var(--focus) solid var(--secondary); outline-offset:2px; border-color:var(--secondary)}
    .form-control[aria-invalid="true"]{border-color:var(--danger)}
    .error-message{color:var(--danger); font-size:0.95rem; margin-top:6px; min-height:1.25em}

    fieldset{border:none; padding:0; margin:0 0 8px}
    .radio-group{
      display:grid; grid-template-columns:1fr 1fr; gap:8px;
    }
    @media (min-width: 640px){ .radio-group{grid-template-columns:repeat(4,1fr)} }
    .radio-item{position:relative}
    .radio-item input[type="radio"]{position:absolute; opacity:0; inset:0}
    .radio-item label{
      display:flex; align-items:center; justify-content:center; text-align:center; gap:6px;
      border:1px solid var(--border); border-radius:10px; padding:12px; min-height:var(--touch); cursor:pointer;
      background:#fff; color:#0b2238; font-weight:600;
    }
    .radio-item input[type="radio"]:focus + label{outline:var(--focus) solid var(--secondary); outline-offset:2px}
    .radio-item input[type="radio"]:checked + label{background:var(--primary); color:#fff; border-color:var(--primary)}

    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width: 520px){ .row{grid-template-columns:1fr} }

    .results-container{
      min-height:280px; /* Prevent CLS */
      background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
      padding:20px;
    }
    .results-grid{display:grid; gap:12px}
    .result-item{display:flex; justify-content:space-between; gap:12px; border-bottom:1px dashed var(--border); padding:8px 0}
    .result-item:last-child{border-bottom:none}
    .result-label{color:#42546a}
    .result-value{font-weight:800; color:var(--success)}

    .content-container h2{margin:24px 0 12px; font-size:1.35rem}
    .formula-box{background:#f0f4f9; border:1px solid var(--border); border-radius:10px; padding:14px; overflow:auto}
    code, kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

    .note{font-size:.95rem; color:#2b3b4b; background:#fff4e5; border:1px solid #ffd59e; padding:12px; border-radius:8px}
    .author-box{font-size:.95rem; color:#3a495b; margin-top:20px; border-top:1px solid var(--border); padding-top:14px}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); border:0; white-space:nowrap}
  </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "MedicalWebPage",
  "name": "Pregnancy Conception Date Calculator",
  "description": "An evidence-based calculator to estimate conception date from LMP, due date, ultrasound, or ovulation/IUI/IVF, with fertile window and due date.",
  "url": "https://calcdomain.com/conception-date.html",
  "about": [
    "Pregnancy",
    "Women's Health",
    "Conception",
    "Due date",
    "Gestational age"
  ],
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "Worked Example: Estimate conception date from LMP",
      "description": "Use Naegele’s rule and the 266-day post-conception gestation to compute conception date and due date.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter LMP and cycle length",
          "text": "Input the first day of your last menstrual period (LMP) and your average cycle length (e.g., 30 days)."
        },
        {
          "@type": "HowToStep",
          "name": "Compute ovulation",
          "text": "Ovulation ≈ LMP + (cycle length − 14). Conception typically occurs within 24 hours after ovulation."
        },
        {
          "@type": "HowToStep",
          "name": "Compute due date (EDD)",
          "text": "EDD = Conception date + 266 days."
        },
        {
          "@type": "HowToStep",
          "name": "Interpret results",
          "text": "Review fertile window (ovulation − 5 to ovulation + 1 days), gestational age, and fetal age."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How accurate is a conception date estimate?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Conception timing is estimated within a window. Natural cycles vary and ovulation can shift several days. Ultrasound in the first trimester provides the most reliable dating when available."
          }
        },
        {
          "@type": "Question",
          "name": "What if my cycle is not 28 days?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator adjusts ovulation as cycle length − 14 days. Longer cycles shift ovulation later; shorter cycles, earlier."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use an IVF transfer date?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. For day-5 transfers, EDD = transfer date + 261 days; for day-3 transfers, EDD = transfer date + 263 days. Conception date ≈ transfer date − embryo age (3 or 5 days)."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between gestational and fetal age?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Gestational age counts from LMP; fetal age counts from conception (about two weeks later in a 28-day cycle)."
          }
        },
        {
          "@type": "Question",
          "name": "Which method should I choose?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use LMP if cycles are regular and you recall the date. Use Due Date if provided by a clinician. Use Ultrasound if you have scan date and gestational age. Use Ovulation/IUI/IVF if you tracked ovulation or had assisted reproduction."
          }
        },
        {
          "@type": "Question",
          "name": "Is this medical advice?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. This tool is for education only and does not replace clinical evaluation. Consult your healthcare professional for personalized care."
          }
        }
      ]
    }
  ]
}
  </script>
<!-- MathJax for LaTeX formulas (deferred) -->
<script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
</head>
<body>
<a class="skip-link" href="#main-content">Skip to main content</a>

<main class="container" id="main-content" role="main">
<nav aria-label="Breadcrumb" style="font-size:.95rem; color:#415468; margin-bottom:8px">
<a href="/">Home</a> › <a href="https://calcdomain.com/health-and-fitness.html">Health &amp; Fitness</a> › <a href="https://calcdomain.com/pregnancy-womens-health.html">Pregnancy &amp; Women’s Health</a> › Pregnancy Conception Date Calculator
    </nav>
<h1>Pregnancy Conception Date Calculator</h1>
<p class="lead">Estimate your conception date and fertile window using Last Menstrual Period (LMP), a known Due Date (EDD), ultrasound measurements, or an ovulation/IUI/IVF date. You’ll also get gestational age, fetal age, and an evidence-based estimated due date.</p>
<div class="calculator-layout">
<section aria-labelledby="calc-heading" class="card" id="calculator">
<h2 id="calc-heading">Calculate</h2>
<fieldset>
<legend class="sr-only">Choose calculation method</legend>
<div aria-label="Calculation method" class="radio-group" role="radiogroup">
<div class="radio-item">
<input checked="" id="m-lmp" name="method" type="radio" value="lmp"/>
<label for="m-lmp">From LMP</label>
</div>
<div class="radio-item">
<input id="m-edd" name="method" type="radio" value="edd"/>
<label for="m-edd">From Due Date</label>
</div>
<div class="radio-item">
<input id="m-us" name="method" type="radio" value="ultrasound"/>
<label for="m-us">From Ultrasound</label>
</div>
<div class="radio-item">
<input id="m-ovu" name="method" type="radio" value="ovulation"/>
<label for="m-ovu">From Ovulation/IUI/IVF</label>
</div>
</div>
</fieldset>
<!-- LMP panel -->
<div aria-labelledby="m-lmp" class="form-panel" id="panel-lmp" role="region">
<div class="form-group">
<div class="label-row">
<label for="lmpDate">First day of your last period (LMP) *</label>
<button aria-controls="tip-lmp" aria-expanded="false" aria-label="What counts as LMP?" class="help-btn" id="tip-lmp-btn" type="button">?</button>
</div>
<input aria-describedby="err-lmpDate tip-lmp" aria-required="true" class="form-control" id="lmpDate" inputmode="numeric" type="date"/>
<div aria-hidden="true" class="help-text" id="tip-lmp" role="note">Use the first day of full menstrual flow, not spotting. If unsure, consider using the Ultrasound method.</div>
<div aria-live="polite" class="error-message" id="err-lmpDate" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="cycleLength">Average cycle length (days) *</label>
<button aria-controls="tip-cycle" aria-expanded="false" aria-label="Help about cycle length" class="help-btn" id="tip-cycle-btn" type="button">?</button>
</div>
<input aria-describedby="err-cycleLength tip-cycle" aria-required="true" class="form-control" id="cycleLength" max="45" min="20" placeholder="e.g., 28" step="1" type="number" value="28"/>
<div aria-hidden="true" class="help-text" id="tip-cycle" role="note">Typical cycles are 21–35 days. Ovulation is approximated as cycle length − 14 days after LMP.</div>
<div aria-live="polite" class="error-message" id="err-cycleLength" role="alert"></div>
</div>
</div>
<!-- EDD panel -->
<div aria-labelledby="m-edd" class="form-panel" hidden="" id="panel-edd" role="region">
<div class="form-group">
<label for="eddDate">Known due date (EDD) *</label>
<input aria-describedby="err-eddDate" aria-required="true" class="form-control" id="eddDate" type="date"/>
<div aria-live="polite" class="error-message" id="err-eddDate" role="alert"></div>
</div>
<div class="form-group">
<div class="label-row">
<label for="cycleLength2">Average cycle length (days)</label>
<button aria-controls="tip-cycle2" aria-expanded="false" aria-label="Help about cycle length" class="help-btn" id="tip-cycle2-btn" type="button">?</button>
</div>
<input aria-describedby="tip-cycle2" class="form-control" id="cycleLength2" max="45" min="20" step="1" type="number" value="28"/>
<div aria-hidden="true" class="help-text" id="tip-cycle2" role="note">Used only to estimate LMP from conception. Conception = EDD − 266 days; LMP ≈ Conception − (cycle length − 14).</div>
</div>
</div>
<!-- Ultrasound panel -->
<div aria-labelledby="m-us" class="form-panel" hidden="" id="panel-us" role="region">
<div class="form-group">
<label for="scanDate">Ultrasound scan date *</label>
<input aria-describedby="err-scanDate" aria-required="true" class="form-control" id="scanDate" type="date"/>
<div aria-live="polite" class="error-message" id="err-scanDate" role="alert"></div>
</div>
<div class="row">
<div class="form-group">
<div class="label-row">
<label for="gaWeeks">Gestational age at scan — weeks *</label>
<button aria-controls="tip-ga" aria-expanded="false" aria-label="What is GA?" class="help-btn" id="tip-ga-btn" type="button">?</button>
</div>
<input aria-describedby="err-ga tip-ga" aria-required="true" class="form-control" id="gaWeeks" max="42" min="0" placeholder="e.g., 8" step="1" type="number"/>
</div>
<div class="form-group">
<label for="gaDays">days *</label>
<input aria-describedby="err-ga" aria-required="true" class="form-control" id="gaDays" max="6" min="0" placeholder="0–6" step="1" type="number"/>
</div>
</div>
<div aria-hidden="true" class="help-text" id="tip-ga" role="note">Gestational age is dated from LMP. We compute LMP = scan date − GA, then estimate ovulation and conception.</div>
<div aria-live="polite" class="error-message" id="err-ga" role="alert"></div>
<div class="form-group">
<label for="cycleLength3">Average cycle length (days)</label>
<input class="form-control" id="cycleLength3" max="45" min="20" step="1" type="number" value="28"/>
</div>
</div>
<!-- Ovulation / IUI / IVF panel -->
<div aria-labelledby="m-ovu" class="form-panel" hidden="" id="panel-ovu" role="region">
<div class="form-group">
<label for="methodType">Type of event *</label>
<select aria-describedby="err-type" aria-required="true" class="form-control" id="methodType">
<option selected="" value="ovulation">Natural ovulation/conception</option>
<option value="iui">IUI (intrauterine insemination)</option>
<option value="ivf5">IVF transfer — day-5 embryo</option>
<option value="ivf3">IVF transfer — day-3 embryo</option>
</select>
<div aria-live="polite" class="error-message" id="err-type" role="alert"></div>
</div>
<div class="form-group">
<label for="eventDate"><span id="eventLabel">Ovulation or IUI date</span> *</label>
<input aria-describedby="err-eventDate" aria-required="true" class="form-control" id="eventDate" type="date"/>
<div aria-live="polite" class="error-message" id="err-eventDate" role="alert"></div>
</div>
<div class="form-group">
<label for="cycleLength4">Average cycle length (days)</label>
<input aria-describedby="tip-ovu" class="form-control" id="cycleLength4" max="45" min="20" step="1" type="number" value="28"/>
<div aria-hidden="false" class="help-text" id="tip-ovu" role="note">For IVF transfers, cycle length is not used. For natural/IUI, it helps estimate LMP and fertile window.</div>
</div>
</div>
<div aria-live="polite" class="note" role="note">
          Educational use only. Not a diagnosis. For personalized advice and clinical dating, consult your healthcare professional.
        </div>
</section>
<section aria-labelledby="results-heading" class="results-container" id="results">
<h2 id="results-heading">Results</h2>
<div aria-live="polite" class="results-grid">
<div class="result-item">
<span class="result-label">Estimated conception date</span>
<span class="result-value" id="res-conception">—</span>
</div>
<div class="result-item">
<span class="result-label">Estimated fertile window</span>
<span class="result-value" id="res-fertile">—</span>
</div>
<div class="result-item">
<span class="result-label">Estimated due date (EDD)</span>
<span class="result-value" id="res-edd">—</span>
</div>
<div class="result-item">
<span class="result-label">Estimated LMP</span>
<span class="result-value" id="res-lmp">—</span>
</div>
<div class="result-item">
<span class="result-label">Gestational age today</span>
<span class="result-value" id="res-ga">—</span>
</div>
<div class="result-item">
<span class="result-label">Fetal age today</span>
<span class="result-value" id="res-fa">—</span>
</div>
<div class="result-item">
<span class="result-label">Current trimester</span>
<span class="result-value" id="res-trimester">—</span>
</div>
</div>
</section>
</div>
<article class="content-container">
<section>
<h2>Data Source and Methodology</h2>
<p>
          Primary sources:
        </p>
<ul>
<li>ACOG Committee Opinion No. 700, Methods for Estimating the Due Date (2017; reaffirmed 2024). American College of Obstetricians and Gynecologists. https://www.acog.org/clinical/clinical-guidance/committee-opinion/articles/2017/05/methods-for-estimating-the-due-date</li>
<li>Naegele’s rule and standard obstetric dating conventions (EDD = LMP + 280 days for 28‑day cycles; EDD = Conception + 266 days).</li>
<li>NICE Guideline NG201: Antenatal care (2021, updated). National Institute for Health and Care Excellence. https://www.nice.org.uk/guidance/ng201</li>
</ul>
<p><strong>All calculations are strictly based on the formulas and data provided by this source.</strong></p>
</section>
<section>
<h2>The Formula Explained</h2>
<div class="formula-box">
<p>We denote dates as integers in days. Let L be LMP (first day of last period), C be conception date, E be estimated due date (EDD), and CL be average cycle length in days.</p>
<p>
            Naegele’s rule generalized via conception:
          </p>
<p>$$ E = C + 266 $$</p>
<p>
            If LMP is known:
          </p>
<p>$$ \text{Ovulation} \approx L + (CL - 14), \quad C \approx L + (CL - 14) $$</p>
<p>
            If EDD is known:
          </p>
<p>$$ C = E - 266 $$
             $$ L \approx C - (CL - 14) $$
          </p>
<p>
            If an ultrasound on date U measured gestational age GA (weeks w and days d):
          </p>
<p>$$ GA = 7w + d, \quad L = U - GA, \quad C \approx L + (CL - 14), \quad E = C + 266 $$</p>
<p>
            For IVF transfer on date T with embryo age A (A = 5 for day‑5; A = 3 for day‑3):
          </p>
<p>$$ C = T - A, \quad E = T + (266 - A) $$
             $$ L \approx C - (CL - 14) $$
          </p>
<p>Fertile window (natural/IUI):</p>
<p>$$ \text{Window} \approx [C - 5,\; C + 1] $$</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<ul>
<li>LMP (Last Menstrual Period): First day of the last menstrual bleeding.</li>
<li>Cycle length (CL): Average number of days in your menstrual cycle. Default 28.</li>
<li>Conception date (C): Estimated day of fertilization, usually within 24 hours of ovulation.</li>
<li>EDD (Estimated Due Date): Expected date of delivery, computed as C + 266 days.</li>
<li>Gestational age (GA): Age of pregnancy counted from LMP (weeks + days).</li>
<li>Fetal age: Age of the fetus counted from conception.</li>
<li>Fertile window: Period with highest chance of conception, approximately ovulation − 5 to +1 days.</li>
</ul>
</section>
<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p><strong>Scenario:</strong> LMP = March 1, 2025; cycle length CL = 30 days.</p>
<ol>
<li>Ovulation and conception: C ≈ L + (CL − 14) = Mar 1 + 16 = <em>March 17, 2025</em>.</li>
<li>EDD: E = C + 266 = <em>December 8, 2025</em>.</li>
<li>Fertile window: [C − 5, C + 1] = <em>March 12–18, 2025</em>.</li>
<li>On April 28, 2025, gestational age = days since LMP ÷ 7 ≈ 58 days = 8 weeks 2 days; fetal age ≈ 42 days = 6 weeks 0 days.</li>
</ol>
<p>These outputs align with ACOG’s conventions and standard obstetric dating.</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>How precise is an ultrasound-based date?</summary>
<p>First-trimester ultrasound (up to 13 weeks 6 days) provides the most accurate dating. If this date and LMP disagree, clinicians usually adopt the ultrasound-based EDD within accepted tolerance ranges.</p>
</details>
<details>
<summary>My periods are irregular. Which method should I use?</summary>
<p>Prefer the Ultrasound method if possible. If using LMP, consider that ovulation may not be cycle length − 14 and the fertile window may be wider.</p>
</details>
<details>
<summary>Why use 266 days from conception?</summary>
<p>Pregnancy length is approximately 280 days from LMP in a 28‑day cycle, which equals 266 days from fertilization (about two weeks later). This convention underpins EDD calculations.</p>
</details>
<details>
<summary>Is the fertile window the same as the conception window?</summary>
<p>The fertile window spans ovulation − 5 to ovulation + 1 days. Conception typically happens within 24 hours of ovulation, so the conception window is narrower.</p>
</details>
<details>
<summary>Can I enter an IVF egg retrieval date instead of transfer?</summary>
<p>You can, but you must convert to transfer-based or conception-based dating. This tool accepts transfer date with embryo age or a known conception day.</p>
</details>
<details>
<summary>What if my due date is today or has passed?</summary>
<p>The calculator still computes the implied conception date and ages. If dates are inconsistent (e.g., negative ages), double-check inputs.</p>
</details>
</section>
<div class="author-box">
<p>
          Strumento sviluppato da <strong>Ugo Candido</strong>,. Contenuti verificati da,.
          <br/>
          Ultima revisione per l'accuratezza in data: <time id="reviewDate"></time>.
        </p>
</div>
</article>
</main>
<!-- Standard Footer --> 
<script defer="">
  (function(){
    'use strict';

    // Utilities: Date handling in UTC to avoid TZ shifts
    const MS_DAY = 24*60*60*1000;
    const toUTC = (y,m,d)=> new Date(Date.UTC(y, m, d));
    const parseDateInput = (el) => {
      const v = el.value;
      if(!v) return null;
      const [y,m,d] = v.split('-').map(Number);
      if(!y || !m || !d) return null;
      return toUTC(y, m-1, d);
    };
    const addDaysUTC = (date, days) => new Date(date.getTime() + days*MS_DAY);
    const diffDaysUTC = (a, b) => Math.round((a.getTime() - b.getTime())/MS_DAY);
    const fmt = (date) => date ? date.toLocaleDateString('en-US', {weekday:'short', year:'numeric', month:'short', day:'numeric'}) : '—';

    const todayUTC = () => {
      const t = new Date();
      return toUTC(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate());
    };

    // Elements
    const methodRadios = [...document.querySelectorAll('input[name="method"]')];
    const panels = {
      lmp: document.getElementById('panel-lmp'),
      edd: document.getElementById('panel-edd'),
      ultrasound: document.getElementById('panel-us'),
      ovulation: document.getElementById('panel-ovu')
    };

    // Inputs
    const lmpDate = document.getElementById('lmpDate');
    const cycleLength = document.getElementById('cycleLength');

    const eddDate = document.getElementById('eddDate');
    const cycleLength2 = document.getElementById('cycleLength2');

    const scanDate = document.getElementById('scanDate');
    const gaWeeks = document.getElementById('gaWeeks');
    const gaDays = document.getElementById('gaDays');
    const cycleLength3 = document.getElementById('cycleLength3');

    const methodType = document.getElementById('methodType');
    const eventDate = document.getElementById('eventDate');
    const eventLabel = document.getElementById('eventLabel');
    const cycleLength4 = document.getElementById('cycleLength4');

    // Tooltip buttons
    const tipToggles = [
      {btn:'tip-lmp-btn', panel:'tip-lmp'},
      {btn:'tip-cycle-btn', panel:'tip-cycle'},
      {btn:'tip-cycle2-btn', panel:'tip-cycle2'},
      {btn:'tip-ga-btn', panel:'tip-ga'}
    ];
    tipToggles.forEach(({btn,panel})=>{
      const b = document.getElementById(btn);
      const p = document.getElementById(panel);
      if(!b || !p) return;
      b.addEventListener('click', ()=>{
        const expanded = b.getAttribute('aria-expanded') === 'true';
        b.setAttribute('aria-expanded', String(!expanded));
        p.setAttribute('aria-hidden', String(expanded));
      });
    });

    // Error helpers
    const setError = (inputEl, errorId, message) => {
      const errEl = document.getElementById(errorId);
      if(errEl){
        errEl.textContent = message || '';
      }
      inputEl.setAttribute('aria-invalid', message ? 'true' : 'false');
    };

    // Validation on blur
    const requireDate = (inputEl, errorId, {notFuture=false}={}) => {
      const d = parseDateInput(inputEl);
      if(!d){
        setError(inputEl, errorId, 'Please enter a valid date.');
        return null;
      }
      if(notFuture && d > todayUTC()){
        setError(inputEl, errorId, 'Date should not be in the future.');
        return null;
      }
      setError(inputEl, errorId, '');
      return d;
    };
    const requireNumber = (inputEl, errorId, min, max) => {
      const v = Number(inputEl.value);
      if(!Number.isFinite(v)){
        setError(inputEl, errorId, 'Please enter a valid number.');
        return null;
      }
      if(v < min || v > max){
        setError(inputEl, errorId, `Please enter a value between ${min} and ${max}.`);
        return null;
      }
      setError(inputEl, errorId, '');
      return v;
    };

    // Results elements
    const res = {
      conception: document.getElementById('res-conception'),
      fertile: document.getElementById('res-fertile'),
      edd: document.getElementById('res-edd'),
      lmp: document.getElementById('res-lmp'),
      ga: document.getElementById('res-ga'),
      fa: document.getElementById('res-fa'),
      trimester: document.getElementById('res-trimester')
    };

    function renderResults({C=null, E=null, L=null, fertile=null}){
      // Dates
      res.conception.textContent = C ? fmt(C) : '—';
      res.edd.textContent = E ? fmt(E) : '—';
      res.lmp.textContent = L ? fmt(L) : '—';
      res.fertile.textContent = fertile ? `${fmt(fertile.start)} – ${fmt(fertile.end)}` : '—';

      // Ages
      const today = todayUTC();
      if(L){
        const gdays = Math.max(0, diffDaysUTC(today, L));
        const gw = Math.floor(gdays/7);
        const gd = gdays % 7;
        res.ga.textContent = `${gw}w ${gd}d`;
        const tri = (gw < 14) ? '1st trimester' : (gw < 28 ? '2nd trimester' : '3rd trimester');
        res.trimester.textContent = tri;
      } else {
        res.ga.textContent = '—';
        res.trimester.textContent = '—';
      }
      if(C){
        const fdays = Math.max(0, diffDaysUTC(today, C));
        const fw = Math.floor(fdays/7);
        const fd = fdays % 7;
        res.fa.textContent = `${fw}w ${fd}d`;
      } else {
        res.fa.textContent = '—';
      }
    }

    function compute(){
      const method = methodRadios.find(r => r.checked)?.value;

      // reset display
      let C=null, E=null, L=null, fertile=null;

      if(method === 'lmp'){
        const LMP = requireDate(lmpDate, 'err-lmpDate', {notFuture:true});
        const CL = requireNumber(cycleLength, 'err-cycleLength', 20, 45);
        if(!LMP || !CL) { renderResults({}); return; }
        C = addDaysUTC(LMP, (CL - 14));
        E = addDaysUTC(C, 266);
        L = LMP;
        fertile = { start: addDaysUTC(C, -5), end: addDaysUTC(C, +1) };
      }
      else if(method === 'edd'){
        const EDD = requireDate(eddDate, 'err-eddDate', {notFuture:false});
        const CL = Number(cycleLength2.value) || 28;
        // no validation error for optional cycle length, but clamp
        const clampedCL = Math.min(45, Math.max(20, CL));
        if(!EDD){ renderResults({}); return; }
        C = addDaysUTC(EDD, -266);
        E = EDD;
        L = addDaysUTC(C, -(clampedCL - 14));
        // fertile window only for natural/IUI context; with EDD source we can't know,
        // but we can still illustrate based on implied ovulation C.
        fertile = { start: addDaysUTC(C, -5), end: addDaysUTC(C, +1) };
      }
      else if(method === 'ultrasound'){
        const U = requireDate(scanDate, 'err-scanDate', {notFuture:false});
        const W = requireNumber(gaWeeks, 'err-ga', 0, 42);
        const D = requireNumber(gaDays, 'err-ga', 0, 6);
        const CL = Number(cycleLength3.value) || 28;
        if(!U || W===null || D===null){ renderResults({}); return; }
        if(W === 0 && D === 0){
          setError(gaWeeks, 'err-ga', 'Gestational age cannot be 0w 0d. Enter weeks and/or days.');
          renderResults({}); return;
        } else {
          setError(gaWeeks, 'err-ga', '');
        }
        const GA = W*7 + D;
        L = addDaysUTC(U, -GA);
        C = addDaysUTC(L, (Math.min(45, Math.max(20, CL)) - 14));
        E = addDaysUTC(C, 266);
        fertile = { start: addDaysUTC(C, -5), end: addDaysUTC(C, +1) };
      }
      else if(method === 'ovulation'){
        const type = methodType.value;
        const EV = requireDate(eventDate, 'err-eventDate', {notFuture:false});
        if(!type){ setError(methodType, 'err-type', 'Please select an event type.'); }
        else setError(methodType, 'err-type', '');
        if(!EV){ renderResults({}); return; }

        if(type === 'ovulation' || type === 'iui'){
          C = EV; // conception within ~24h of ovulation/IUI
          const CL = Number(cycleLength4.value) || 28;
          L = addDaysUTC(C, -(Math.min(45, Math.max(20, CL)) - 14));
          E = addDaysUTC(C, 266);
          fertile = { start: addDaysUTC(C, -5), end: addDaysUTC(C, +1) };
        } else if(type === 'ivf5'){
          // day-5 embryo transfer
          C = addDaysUTC(EV, -5);
          E = addDaysUTC(EV, 261);
          const CL = Number(cycleLength4.value) || 28;
          L = addDaysUTC(C, -(Math.min(45, Math.max(20, CL)) - 14));
          fertile = null; // not applicable
        } else if(type === 'ivf3'){
          C = addDaysUTC(EV, -3);
          E = addDaysUTC(EV, 263);
          const CL = Number(cycleLength4.value) || 28;
          L = addDaysUTC(C, -(Math.min(45, Math.max(20, CL)) - 14));
          fertile = null;
        }
      }

      renderResults({C, E, L, fertile});
    }

    // Switch panels
    function showPanel(which){
      Object.entries(panels).forEach(([key, el])=>{
        const active = key === which;
        el.hidden = !active;
      });
      compute();
    }
    methodRadios.forEach(r=>{
      r.addEventListener('change', ()=> showPanel(r.value));
    });

    // Dynamic label for event type
    methodType.addEventListener('change', ()=>{
      const v = methodType.value;
      if(v === 'ovulation') eventLabel.textContent = 'Ovulation date';
      else if(v === 'iui') eventLabel.textContent = 'IUI procedure date';
      else if(v === 'ivf5' || v === 'ivf3') eventLabel.textContent = 'Embryo transfer date';
      compute();
    });

    // Validate on blur
    lmpDate.addEventListener('blur', ()=> requireDate(lmpDate, 'err-lmpDate', {notFuture:true}));
    cycleLength.addEventListener('blur', ()=> requireNumber(cycleLength, 'err-cycleLength', 20, 45));

    eddDate.addEventListener('blur', ()=> requireDate(eddDate, 'err-eddDate'));
    // cycleLength2 optional

    scanDate.addEventListener('blur', ()=> requireDate(scanDate, 'err-scanDate'));
    gaWeeks.addEventListener('blur', ()=> requireNumber(gaWeeks, 'err-ga', 0, 42));
    gaDays.addEventListener('blur', ()=> requireNumber(gaDays, 'err-ga', 0, 6));

    eventDate.addEventListener('blur', ()=> requireDate(eventDate, 'err-eventDate'));

    // Recompute on input
    [lmpDate, cycleLength, eddDate, cycleLength2, scanDate, gaWeeks, gaDays, cycleLength3, methodType, eventDate, cycleLength4]
      .forEach(el => el && el.addEventListener('input', compute));

    // Initialize
    showPanel('lmp');
    compute();

    // Author review date
    const rd = document.getElementById('reviewDate');
    if(rd){
      const t = todayUTC();
      rd.textContent = t.toLocaleDateString('en-US', {year:'numeric', month:'long', day:'numeric'});
    }
  })();
  </script>

<script defer src="/assets/js/mobile-menu.js"></script>
<script defer src="/assets/js/page-enhancements.js"></script>
</body></html>