<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/fat-calculator.html">





<link rel="icon" type="ihttps://calcdomain.commage/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/https://calcdomain.comfavicon.svg" />
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
<link rel="manifest" href="https://calcdomain.com/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Body Fat Calculator - Estimate Your Body Fat Percentage</title>
<meta name="description" content="A free, accessible calculator to estimate body fat percentage (BFP) using the U.S. Navy method or BMI. Includes formulas, health charts, and step-by-step examples.">


<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }

/* --- Accessibility & UX Enhancements --- */
/* Visible focus for keyboard navigation */
:focus-visible {
outline: 3px solid #3b82f6;
outline-offset: 2px;
border-radius: 4px;
}
/* Style for invalid fields */
input[aria-invalid="true"] {
border-color: #e11d48;
box-shadow: 0 0 0 1px #e11d48;
}
/* Error message styling */
.error-message {
color: #c1103c;
font-size: 0.875rem;
margin-top: 0.25rem;
display: none; /* Hidden by default */
}
/* Show error message when invalid */
input[aria-invalid="true"] + .error-message {
display: block;
}
/* Taller touch targets for accessibility */
.touch-target {
min-height: 48px;
min-width: 48px;
display: inline-flex;
align-items: center;
}
/* Accessible tooltip button */
.tooltip-btn {
background: none;
border: none;
padding: 0.25rem;
margin-left: 0.25rem;
cursor: help;
border-radius: 99px;
color: #6b7280;
}
.tooltip-btn:hover { color: #111827; }
.tooltip-content {
position: absolute;
background: #111827;
color: white;
padding: 0.5rem 0.75rem;
border-radius: 6px;
font-size: 0.875rem;
width: max-content;
max-width: 250px;
z-index: 10;
box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
}
/* Custom radio toggle */
.toggle-label {
cursor: pointer;
padding: 0.5rem 1rem;
border: 1px solid #d1d5db;
color: #374151;
font-weight: 500;
transition: all 0.2s ease-in-out;
}
.toggle-label:first-of-type { border-radius: 6px 0 0 6px; }
.toggle-label:last-of-type { border-radius: 0 6px 6px 0; margin-left: -1px; }
input[type="radio"]:checked + .toggle-label {
background-color: #3b82f6;
color: white;
border-color: #3b82f6;
z-index: 1;
position: relative;
}
/* --- End Accessibility Enhancements --- */

@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#results-chart-container { display: none !important; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Body Fat Calculator - Estimate Your Body Fat Percentage",
"description": "A free, accessible calculator to estimate body fat percentage (BFP) using the U.S. Navy method or BMI. Includes formulas, health charts, and step-by-step examples.",
"url": "https://calcdomain.com/fat-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Health & Fitness",
      "item": "https://calcdomain.com/health-fitness.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Diet & Nutrition",
      "item": "https://calcdomain.com/subcategories/diet-nutrition.html"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Body Fat Calculator",
      "item": "https://calcdomain.com/fat-calculator.html"
    }
  ]
}</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebApplication",
"name": "Body Fat Calculator",
"description": "Calculates body fat percentage, fat mass, and lean mass using the U.S. Navy or BMI-based formulas.",
"applicationCategory": "HealthApplication",
"operatingSystem": "All",
"browserRequirements": "Requires a modern browser.",
"offers": {
"@type": "Offer",
"price": "0",
"priceCurrency": "USD"
}
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Use the Body Fat Calculator",
"description": "A step-by-step guide to estimating your body fat percentage.",
"step": [
{"@type": "HowToStep", "name": "Select Units", "text": "Choose between Metric (kg, cm) and Imperial (lbs, ft, in) units."},
{"@type": "HowToStep", "name": "Select Method", "text": "Choose the 'U.S. Navy' method (requires tape measurements) or the 'BMI-Based' method (quicker estimate)."},
{"@type": "HowToStep", "name": "Enter Basic Info", "text": "Input your gender, age, height, and weight."},
{"@type": "HowToStep", "name": "Enter Measurements (if U.S. Navy)", "text": "If using the U.S. Navy method, provide your neck, waist, and (if female) hip measurements."},
{"@type": "HowToStep", "name": "Calculate & Review", "text": "Click 'Calculate' to see your results, including body fat percentage, fat mass, lean mass, and health category."}
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "Article",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https://calcdomain.com/fat-calculator.html"
},
"headline": "Body Fat Calculator: A Comprehensive Guide",
"description": "This page provides an interactive tool to calculate body fat percentage, along with detailed explanations of the U.S. Navy and BMI-based formulas, data sources, and a step-by-step example.",
"image": "https://calcdomain.com/images/body-fat-chart.png",
"author": {
"@type": "Person",
"name": "Ugo Candido"
},
"publisher": {
"@type": "Organization",
"name": "CalcDomain",
"logo": {
"@type": "ImageObject",
"url": "https://calcdomain.com/logo.png"
}
},
"datePublished": "2025-02-15",
"dateModified": "2025-10-29",
"mainEntity": {
"@context": "https://schema.org",
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "How accurate is this body fat calculator?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The accuracy depends on the method. The U.S. Navy method has a reported accuracy of ±3-4% for most people, but it requires precise measurements. The BMI-based method is a less accurate, general estimate. No calculator can replace a professional assessment like a DEXA scan."
}
},
{
"@type": "Question",
"name": "What is the U.S. Navy method?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The U.S. Navy method (also called the 'DoD method') is a circumference-based formula developed by Hodgdon & Beckett in 1984. It uses tape measurements of height, neck, waist, and (for women) hips to estimate body fat percentage."
}
},
{
"@type": "Question",
"name": "Why is my Body Fat Percentage (BFP) different from my BMI?",
"acceptedAnswer": {
"@type": "Answer",
"text": "BMI (Body Mass Index) only measures your weight relative to your height. It cannot tell the difference between muscle and fat. Body Fat Percentage (BFP) specifically estimates the portion of your weight that is fat. An athlete, for example, might have a high BMI (due to muscle) but a low BFP."
}
},
{
"@type": "Question",
"name": "How should I measure my waist, neck, and hip?",
"acceptedAnswer": {
"@type":E": "Answer",
"text": "For accurate results, be consistent. Use a flexible tape measure (not a metal one). \n- Neck: Measure just below the larynx (Adam's apple), rounding up to the nearest half-inch or 0.5 cm.\n- Waist: For men, measure at the navel. For women, measure at the narrowest point between the ribs and hip bone. \n- Hip (Women only): Measure at the widest point of the hips/buttocks. \nAll measurements should be taken without sucking in or pulling the tape too tight."
}
},
{
"@type": "Question",
"name": "What is a healthy body fat percentage?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Healthy ranges vary by age and gender. Generally, for men, 10-20% is considered healthy or 'fitness'. For women, 20-30% is the equivalent range. Essential fat (the minimum needed for health) is around 2-5% for men and 10-13% for women."
}
},
{
"@type": "Question",
"name": "Is this calculator suitable for children or bodybuilders?",
"acceptedAnswer": {
"@type": "Answer",
"text": "No. These formulas were developed for and validated on average adults. They are known to be inaccurate for children, pregnant women, the elderly, and individuals with very high muscle mass (like bodybuilders), as they don't fit the standard assumptions of the model."
}
}
]
}
}
</script>

</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off" disabled>
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
Categories
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
Categories
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="health-fitness.html" class="hover:text-blue-600">Health & Fitness</a> &raquo;
<a href="subcategories/diet-nutrition.html" class="hover:text-blue-600">Diet & Nutrition</a> &raquo;
<span class="text-gray-900">Body Fat Calculator</span>
</nav>

<div id="print-section">
<section id="calculator-container" class="bg-white p-6 rounded-lg shadow-md" aria-labelledby="calculator-heading">
<h1 id="calculator-heading" class="text-3xl font-extrabold text-gray-900 mb-2">Body Fat Calculator</h1>
<p class="text-gray-600 mb-6">Estimate your body fat percentage using the U.S. Navy formula (tape measure) or a BMI-based calculation. This tool helps you understand your body composition beyond just weight.</p>

<form id="calculator-ui" class="space-y-6">
<fieldset>
<legend class="block text-sm font-medium text-gray-700 mb-2">1. Unit System</legend>
<div class="flex">
<input type="radio" id="units-metric" name="unit-system" value="metric" class="sr-only" checked>
<label for="units-metric" class="toggle-label">Metric (cm, kg)</label>
<input type="radio" id="units-imperial" name="unit-system" value="imperial" class="sr-only">
<label for="units-imperial" class="toggle-label">Imperial (ft, in, lbs)</label>
</div>
</fieldset>

<fieldset>
<legend class="block text-sm font-medium text-gray-700 mb-2">2. Calculation Method</legend>
<div class="flex">
<input type="radio" id="method-navy" name="method" value="navy" class="sr-only" checked>
<label for="method-navy" class="toggle-label">U.S. Navy (Tape Measure)</label>
<input type="radio" id="method-bmi" name="method" value="bmi" class="sr-only">
<label for="method-bmi" class="toggle-label">BMI-Based Estimate</label>
</div>
</fieldset>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<fieldset>
<legend class="block text-sm font-medium text-gray-700 mb-2">Gender <span class="text-red-600" aria-hidden="true">*</span></legend>
<div class="flex items-center space-x-4">
<div class="flex items-center">
<input id="gender-male" name="gender" type="radio" value="male" class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500" checked aria-required="true">
<label for="gender-male" class="ml-2 block text-sm text-gray-900">Male</label>
</div>
<div class="flex items-center">
<input id="gender-female" name="gender" type="radio" value="female" class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500" aria-required="true">
<label for="gender-female" class="ml-2 block text-sm text-gray-900">Female</label>
</div>
</div>
</fieldset>

<div>
<label for="age" class="block text-sm font-medium text-gray-700">Age (18-79) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="age" min="18" max="79" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="age-error">
<div id="age-error" class="error-message" role="alert">Please enter a valid age between 18 and 79.</div>
</div>

<div id="height-imperial-group" class="grid grid-cols-2 gap-4 hidden">
<div>
<label for="height-ft" class="block text-sm font-medium text-gray-700">Height (ft) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="height-ft" min="3" max="8" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="height-ft-error">
<div id="height-ft-error" class="error-message" role="alert">Enter feet.</div>
</div>
<div>
<label for="height-in" class="block text-sm font-medium text-gray-700">(in) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="height-in" min="0" max="11.9" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="height-in-error">
<div id="height-in-error" class="error-message" role="alert">Enter inches.</div>
</div>
</div>
<div id="height-metric-group">
<label for="height-cm" class="block text-sm font-medium text-gray-700">Height (cm) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="height-cm" min="100" max="250" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="height-cm-error">
<div id="height-cm-error" class="error-message" role="alert">Please enter a valid height in cm.</div>
</div>

<div>
<label for="weight" class="block text-sm font-medium text-gray-700">Weight (<span id="weight-unit">kg</span>) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="weight" min="30" max="300" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="weight-error">
<div id="weight-error" class="error-message" role="alert">Please enter a valid weight.</div>
</div>
</div>

<div id="navy-fields" class="space-y-6">
<hr>
<p class="text-sm text-gray-500">Enter tape measurements below. See "How to Measure" tips for accuracy.</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="neck" class="flex items-center text-sm font-medium text-gray-700">
<span>Neck (<span id="neck-unit">cm</span>)</span> <span class="text-red-600 ml-1" aria-hidden="true">*</span>
<button type="button" class="tooltip-btn" aria-label="How to measure neck" data-tooltip-id="neck-tooltip">
<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.732-1A3 3 0 0110 4a3 3 0 013 3 1 1 0 01-2 0 1 1 0 00-1-1zm-1 4a1 1 0 100 2 1 1 0 000-2z" clip-rule="evenodd"></path></svg>
</button>
</label>
<input type="number" id="neck" min="20" max="70" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="neck-error neck-tooltip">
<div id="neck-error" class="error-message" role="alert">Please enter a valid neck measurement.</div>
<div id="neck-tooltip" class="tooltip-content hidden" role="tooltip">Measure circumference just below the larynx (Adam's apple), rounding up.</div>
</div>

<div>
<label for="waist" class="flex items-center text-sm font-medium text-gray-700">
<span>Waist (<span id="waist-unit">cm</span>)</span> <span class="text-red-600 ml-1" aria-hidden="true">*</span>
<button type="button" class="tooltip-btn" aria-label="How to measure waist" data-tooltip-id="waist-tooltip">
<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.732-1A3 3 0 0110 4a3 3 0 013 3 1 1 0 01-2 0 1 1 0 00-1-1zm-1 4a1 1 0 100 2 1 1 0 000-2z" clip-rule="evenodd"></path></svg>
</button>
</label>
<input type="number" id="waist" min="40" max="200" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="waist-error waist-tooltip">
<div id="waist-error" class="error-message" role="alert">Please enter a valid waist measurement.</div>
<div id="waist-tooltip" class="tooltip-content hidden" role="tooltip">Men: Measure at the navel. Women: Measure at the narrowest point. Do not suck in.</div>
</div>

<div id="hip-group" classhidden>
<label for="hip" class="flex items-center text-sm font-medium text-gray-700">
<span>Hip (<span id="hip-unit">cm</span>)</span> <span class="text-red-600 ml-1" aria-hidden="true">*</span>
<button type="button" class="tooltip-btn" aria-label="How to measure hip" data-tooltip-id="hip-tooltip">
<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.732-1A3 3 0 0110 4a3 3 0 013 3 1 1 0 01-2 0 1 1 0 00-1-1zm-1 4a1 1 0 100 2 1 1 0 000-2z" clip-rule="evenodd"></path></svg>
</button>
</label>
<input type="number" id="hip" min="50" max="200" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="hip-error hip-tooltip">
<div id="hip-error" class="error-message" role="alert">Please enter a valid hip measurement.</div>
<div id="hip-tooltip" class="tooltip-content hidden" role="tooltip">Measure at the widest point of the hips/buttocks.</div>
</div>
</div>
</div>

<div class="flex items-center space-x-4 pt-4 border-t border-gray-200">
<button type="button" id="calculate-btn"
class="touch-target px-6 py-2.5 bg-blue-600 text-white font-medium text-sm rounded-md shadow-sm hover:bg-blue-700 focus-visible:ring-4 focus-visible:ring-blue-300">
Calculate
</button>
<button type="button" id="clear-btn"
class="touch-target px-4 py-2.5 bg-gray-100 text-gray-700 font-medium text-sm rounded-md border border-gray-300 hover:bg-gray-200 focus-visible:ring-4 focus-visible:ring-gray-300">
Clear
</button>
</div>

</form>
</section>
<section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 min-h-[300px] hidden" aria-live="polite" aria-atomic="true">
<h2 id="results-heading" tabindex="-1" class="text-2xl font-bold text-gray-900 mb-4">Your Results</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
<div class="result-card">
<h4>Body Fat % (BFP)</h4>
<p id="result-bfp">0.0%</p>
</div>
<div class="result-card">
<h4>Body Fat Mass</h4>
<p id="result-fat-mass">0.0 <span id="result-fat-mass-unit">kg</span></p>
</div>
<div class="result-card">
<h4>Lean Body Mass</h4>
<p id="result-lean-mass">0.0 <span id="result-lean-mass-unit">kg</span></p>
</div>
</div>
<div class="mt-6">
<h3 class="font-semibold text-lg text-gray-900 mb-2">Health Category</h3>
<p class="text-gray-700 mb-4">Based on your body fat percentage of <strong id="result-bfp-category-value">0.0%</strong>, your body composition is classified as: <strong id="result-category" class="text-blue-600">...</strong></p>
<div class="w-full overflow-x-auto">
<table class="min-w-full text-sm border-collapse border border-gray-300">
<caption class="text-left text-xs text-gray-600 mb-1">Body Fat Percentage Categories (Adapted from ACE/WHO)</caption>
<thead class="bg-gray-100">
<tr>
<th class="px-2 py-2 border border-gray-300 font-medium">Classification</th>
<th class="px-2 py-2 border border-gray-300 font-medium">Women (% Fat)</th>
<th class="px-2 py-2 border border-gray-300 font-medium">Men (% Fat)</th>
</tr>
</thead>
<tbody>
<tr id="cat-row-essential">
<td class="px-2 py-2 border border-gray-300">Essential Fat</td>
<td class="px-2 py-2 border border-gray-300">10-13%</td>
<td class="px-2 py-2 border border-gray-300">2-5%</td>
</tr>
<tr id="cat-row-athletes">
<td class="px-2 py-2 border border-gray-300">Athletes</td>
<td class="px-2 py-2 border border-gray-300">14-20%</td>
<td class="px-2 py-2 border border-gray-300">6-13%</td>
</tr>
<tr id="cat-row-fitness">
<td class="px-2 py-2 border border-gray-300">Fitness</td>
<td class="px-2 py-2 border border-gray-300">21-24%</td>
<td class="px-2 py-2 border border-gray-300">14-17%</td>
</tr>
<tr id="cat-row-acceptable">
<td class="px-2 py-2 border border-gray-300">Acceptable</td>
<td class="px-2 py-2 border border-gray-300">25-31%</td>
<td class="px-2 py-2 border border-gray-300">18-24%</td>
</tr>
<tr id="cat-row-obese">
<td class="px-2 py-2 border border-gray-300">Obese</td>
<td class="px-2 py-2 border border-gray-300">&gt; 32%</td>
<td class="px-2 py-2 border border-gray-300">&gt; 25%</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</div>
<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<h2 id="methodology-heading">Data Source &amp; Methodology</h2>
<p>This calculator provides estimates based on established formulas. It is not a substitute for professional medical advice or a clinical assessment (like a DEXA scan).</p>
<p>Our calculations are rigorously based on the following peer-reviewed sources:</p>
<ul>
<li><strong>U.S. Navy Method:</strong> The formula and methodology from the 1984 Naval Health Research Center report: <strong>Hodgdon, J. A., & Beckett, M. B. (1984). <em>Prediction of percent body fat for U.S. Navy men and women</em> (No. NAVHLTHRSCH-TR-84-11). Naval Health Research Center.</strong> This method uses body circumference measurements.</li>
<li><strong>BMI-Based Method:</strong> A formula derived from studies by Deurenberg et al., which estimates body fat from Body Mass Index (BMI), age, and gender. <strong>Deurenberg, P., Weststrate, J. A., & Seidell, J. C. (1991). <em>Body mass index as a measure of body fatness: age- and sex-specific prediction formulas.</em> British journal of nutrition, 65(2), 105-114.</strong></li>
</ul>
<p>All calculations are based strictly on the formulas and data provided by these sources.</p>

<h2 id="formulas-heading">The Formulas Explained</h2>
<p>All calculations are performed using metric units (cm, kg). Imperial inputs are converted first.</p>

<h3 id="formula-us-navy">U.S. Navy Method</h3>
<p>The U.S. Navy method uses different formulas for men and women.</p>
<p><strong>For Men:</strong></p>
<div class="formula-box" aria-label="U.S. Navy formula for men">
$$BFP \% = 86.010 \times \log_{10}(\text{waist}_{cm} - \text{neck}_{cm}) - 70.041 \times \log_{10}(\text{height}_{cm}) + 36.76$$
</div>
<p><strong>For Women:</strong></p>
<div class="formula-box" aria-label="U.S. Navy formula for women">
$$BFP \% = 163.205 \times \log_{10}(\text{waist}_{cm} + \text{hip}_{cm} - \text{neck}_{cm}) - 97.684 \times \log_{10}(\text{height}_{cm}) - 78.387$$
</div>

<h3 id="formula-bmi">BMI-Based Method (Deurenberg)</h3>
<p>This method first calculates your Body Mass Index (BMI) and then uses it to estimate body fat.</p>
<p><strong>Step 1: Calculate BMI</strong></p>
<div class="formula-box" aria-label="BMI formula">
$$BMI = \frac{\text{weight}_{kg}}{\text{height}_m^2}$$
</div>
<p><strong>Step 2: Calculate BFP</strong> (Gender is a binary value: Male = 1, Female = 0)</p>
<div class="formula-box" aria-label="BMI-based BFP formula">
$$BFP \% = (1.20 \times BMI) + (0.23 \times \text{Age}) - (10.8 \times \text{Gender}) - 5.4$$
</div>

<h3 id="formula-derived">Derived Calculations</h3>
<p>Once BFP is found, other metrics are calculated as follows:</p>
<div class="formula-box" aria-label="Fat Mass and Lean Mass formulas">
$$\text{Fat Mass} = \text{Total Weight} \times (BFP \% / 100)$$
$$\text{Lean Body Mass} = \text{Total Weight} - \text{Fat Mass}$$
</div>

<h2 id="glossary-heading">Glossary of Variables</h2>
<dl class="space-y-4">
<dt class="font-semibold">Body Fat Percentage (BFP)</dt>
<dd class="ml-4">The proportion of your total body weight that consists of fat tissue. This is the primary result of the calculator.</dd>

<dt class="font-semibold">Body Fat Mass</dt>
<dd class="ml-4">The total weight (in kg or lbs) of the fat in your body.</dd>

<dt class="font-semibold">Lean Body Mass (LBM)</dt>
<dd class="ml-4">The weight of all your body components except fat. This includes muscle, bone, water, and organs.</dd>

<dt class="font-semibold">Body Mass Index (BMI)</dt>
<dd class="ml-4">A simple measure of weight for height, used in one of the calculation methods. It is not a direct measure of body fat.</dd>

<dt class="font-semibold">Neck, Waist, Hip</dt>
<dd class="ml-4">Circumference measurements used in the U.S. Navy method. Accurate measurement at the correct locations is crucial for this method's accuracy.</dd>
</dl>

<h2 id="example-heading">How It Works: A Step-by-Step Example</h2>
<p>Let's calculate the body fat for a <strong>30-year-old male</strong> using the <strong>U.S. Navy method</strong>.</p>
<p><strong>Inputs:</strong></p>
<ul>
<li><strong>Gender:</strong> Male</li>
<li><strong>Height:</strong> 180 cm</li>
<li><strong>Weight:</strong> 85 kg</li>
<li><strong>Neck:</strong> 40 cm</li>
<li><strong>Waist:</strong> 90 cm</li>
</ul>

<p><strong>Step 1: Calculate the log values</strong></p>
<ul>
<li>$\text{waist} - \text{neck} = 90 - 40 = 50 \text{ cm}$</li>
<li>$\log_{10}(50) \approx 1.699$</li>
<li>$\log_{10}(\text{height}) = \log_{10}(180) \approx 2.255$</li>
</ul>
<p><strong>Step 2: Plug values into the male formula</strong></p>
<ul>
<li>$BFP \% = 86.010 \times 1.699 - 70.041 \times 2.255 + 36.76$</li>
<li>$BFP \% = 146.13 - 157.94 + 36.76$</li>
<li>$BFP \% \approx 24.95\%$</li>
</ul>
<p><strong>Step 3: Calculate mass</strong></p>
<ul>
<li>$\text{Fat Mass} = 85 \text{ kg} \times (24.95 / 100) \approx 21.21 \text{ kg}$</li>
<li>$\text{Lean Mass} = 85 \text{ kg} - 21.21 \text{ kg} \approx 63.79 \text{ kg}$</li>
</ul>
<p><strong>Result:</strong> The estimated body fat percentage is <strong>25.0%</strong> (rounded), which falls into the "Obese" category for men.</p>

<h2 id="faq-heading">Frequently Asked Questions</h2>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">How accurate is this body fat calculator?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">The accuracy depends on the method. The U.S. Navy method has a reported accuracy of ±3-4% for most people, but it requires precise measurements. The BMI-based method is a less accurate, general estimate. No calculator can replace a professional assessment like a DEXA scan.</p>
</div>
</details>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">What is the U.S. Navy method?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">The U.S. Navy method (also called the 'DoD method') is a circumference-based formula developed by Hodgdon & Beckett in 1984. It uses tape measurements of height, neck, waist, and (for women) hips to estimate body fat percentage.</p>
</div>
</details>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">Why is my Body Fat Percentage (BFP) different from my BMI?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">BMI (Body Mass Index) only measures your weight relative to your height. It cannot tell the difference between muscle and fat. Body Fat Percentage (BFP) specifically estimates the portion of your weight that is fat. An athlete, for example, might have a high BMI (due to muscle) but a low BFP.</p>
</div>
</details>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">How should I measure my waist, neck, and hip?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">For accurate results, be consistent. Use a flexible tape measure (not a metal one).
<ul>
<li><strong>Neck:</strong> Measure just below the larynx (Adam's apple), rounding up to the nearest half-inch or 0.5 cm.</li>
<li><strong>Waist:</strong> For men, measure at the navel. For women, measure at the narrowest point between the ribs and hip bone.</li>
<li><strong>Hip (Women only):</strong> Measure at the widest point of the hips/buttocks.</li>
</ul>
All measurements should be taken without sucking in or pulling the tape too tight.
</p>
</div>
</details>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">What is a healthy body fat percentage?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">Healthy ranges vary by age and gender. Generally, for men, 10-20% is considered healthy or 'fitness'. For women, 20-30% is the equivalent range. Essential fat (the minimum needed for health) is around 2-5% for men and 10-13% for women.</p>
</div>
</details>
<details itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
<summary itemprop="name">Is this calculator suitable for children or bodybuilders?</summary>
<div class="pt-2" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
<p itemprop="text">No. These formulas were developed for and validated on average adults. They are known to be inaccurate for children, pregnant women, the elderly, and individuals with very high muscle mass (like bodybuilders), as they don't fit the standard assumptions of the model.</p>
</div>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Health content reviewed by the CalcDomain Health Editorial Board.</p>
<p>Last accuracy review: <time datetime="2025-10-29">October 29, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator?</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get an estimate of your body composition, not just weight.</li>
<li>Compare two of the most common estimation methods.</li>
<li>Understand the formulas and data sources behind the calculation.</li>
<li>Track changes in fat mass and lean mass over time (when used consistently).</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Health Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="https://calcdomain.com/bmi-calculator.html" class="text-blue-600 hover:underline">BMI Calculator</a></li>
<li><a href="https://calcdomain.com/bmr.html" class="text-blue-600 hover:underline">BMR Calculator</a></li>
<li><a href="https://calcdomain.com/tdee.html" class="text-blue-600 hover:underline">TDEE Calculator</a></li>
<li><a href="https://calcdomain.com/ideal-weight.html" class="text-blue-600 hover:underline">Ideal Weight Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

// --- DOM Element Selection ---
const ui = {
form: document.getElementById('calculator-ui'),
unitMetric: document.getElementById('units-metric'),
unitImperial: document.getElementById('units-imperial'),
methodNavy: document.getElementById('method-navy'),
methodBmi: document.getElementById('method-bmi'),
genderMale: document.getElementById('gender-male'),
genderFemale: document.getElementById('gender-female'),
age: document.getElementById('age'),
heightFt: document.getElementById('height-ft'),
heightIn: document.getElementById('height-in'),
heightCm: document.getElementById('height-cm'),
heightImperialGroup: document.getElementById('height-imperial-group'),
heightMetricGroup: document.getElementById('height-metric-group'),
weight: document.getElementById('weight'),
neck: document.getElementById('neck'),
waist: document.getElementById('waist'),
hip: document.getElementById('hip'),
hipGroup: document.getElementById('hip-group'),
navyFields: document.getElementById('navy-fields'),
weightUnit: document.getElementById('weight-unit'),
neckUnit: document.getElementById('neck-unit'),
waistUnit: document.getElementById('waist-unit'),
hipUnit: document.getElementById('hip-unit'),
calculateBtn: document.getElementById('calculate-btn'),
clearBtn: document.getElementById('clear-btn'),
results: document.getElementById('results'),
resultsHeading: document.getElementById('results-heading'),
resultBfp: document.getElementById('result-bfp'),
resultFatMass: document.getElementById('result-fat-mass'),
resultLeanMass: document.getElementById('result-lean-mass'),
resultFatMassUnit: document.getElementById('result-fat-mass-unit'),
resultLeanMassUnit: document.getElementById('result-lean-mass-unit'),
resultBfpCategoryValue: document.getElementById('result-bfp-category-value'),
resultCategory: document.getElementById('result-category'),
tooltipBtns: document.querySelectorAll('.tooltip-btn')
};

const categoryRows = {
essential: document.getElementById('cat-row-essential'),
athletes: document.getElementById('cat-row-athletes'),
fitness: document.getElementById('cat-row-fitness'),
acceptable: document.getElementById('cat-row-acceptable'),
obese: document.getElementById('cat-row-obese')
};

// --- State Management ---
let currentUnit = 'metric'; // 'metric' or 'imperial'
let currentMethod = 'navy'; // 'navy' or 'bmi'
let currentGender = 'male'; // 'male' or 'female'

// --- Event Listeners ---
ui.unitMetric.addEventListener('change', handleUnitChange);
ui.unitImperial.addEventListener('change', handleUnitChange);
ui.methodNavy.addEventListener('change', handleMethodChange);
ui.methodBmi.addEventListener('change', handleMethodChange);
ui.genderMale.addEventListener('change', handleGenderChange);
ui.genderFemale.addEventListener('change', handleGenderChange);
ui.calculateBtn.addEventListener('click', handleCalculate);
ui.clearBtn.addEventListener('click', handleClear);

// Add blur validation listeners
const inputsToValidate = [ui.age, ui.heightFt, ui.heightIn, ui.heightCm, ui.weight, ui.neck, ui.waist, ui.hip];
inputsToValidate.forEach(input => {
input.addEventListener('blur', () => validateField(input));
});

// Tooltip listeners
ui.tooltipBtns.forEach(btn => {
const tooltipId = btn.getAttribute('data-tooltip-id');
const tooltip = document.getElementById(tooltipId);
if (tooltip) {
btn.addEventListener('click', () => toggleTooltip(tooltip, btn));
btn.addEventListener('blur', () => hideTooltip(tooltip));
btn.addEventListener('keydown', (e) => {
if (e.key === 'Escape') hideTooltip(tooltip);
});
}
});

// --- UI Toggles ---
function handleUnitChange(e) {
currentUnit = e.target.value;
updateUnits();
}

function handleMethodChange(e) {
currentMethod = e.target.value;
updateMethodView();
}

function handleGenderChange(e) {
currentGender = e.target.value;
updateHipFieldVisibility();
}

function updateUnits() {
const isMetric = currentUnit === 'metric';
const weightLabel = isMetric ? 'kg' : 'lbs';
const lengthLabel = isMetric ? 'cm' : 'in';

ui.heightMetricGroup.classList.toggle('hidden', !isMetric);
ui.heightImperialGroup.classList.toggle('hidden', isMetric);

ui.weightUnit.textContent = weightLabel;
ui.neckUnit.textContent = lengthLabel;
ui.waistUnit.textContent = lengthLabel;
ui.hipUnit.textContent = lengthLabel;

// Update required attributes
ui.heightCm.ariaRequired = isMetric ? 'true' : 'false';
ui.heightFt.ariaRequired = !isMetric ? 'true' : 'false';
ui.heightIn.ariaRequired = !isMetric ? 'true' : 'false';
}

function updateMethodView() {
const isNavy = currentMethod === 'navy';
ui.navyFields.classList.toggle('hidden', !isNavy);

// Update required attributes
ui.neck.ariaRequired = isNavy ? 'true' : 'false';
ui.waist.ariaRequired = isNavy ? 'true' : 'false';
updateHipFieldVisibility(); // Re-check hip visibility
}

function updateHipFieldVisibility() {
const isNavy = currentMethod === 'navy';
const isFemale = currentGender === 'female';
const showHip = isNavy && isFemale;

ui.hipGroup.classList.toggle('hidden', !showHip);
ui.hip.ariaRequired = showHip ? 'true' : 'false';
}

// --- Tooltip Logic ---
function toggleTooltip(tooltip, btn) {
const isHidden = tooltip.classList.toggle('hidden');
btn.setAttribute('aria-expanded', !isHidden);
if (!isHidden) {
// Position tooltip (simple version)
const btnRect = btn.getBoundingClientRect();
tooltip.style.left = `${btnRect.left}px`;
tooltip.style.top = `${btnRect.bottom + 4}px`;
}
}

function hideTooltip(tooltip) {
tooltip.classList.add('hidden');
const btn = document.querySelector(`[data-tooltip-id="${tooltip.id}"]`);
if (btn) btn.setAttribute('aria-expanded', 'false');
}

// --- Validation Logic ---
function validateField(input) {
if (!input) return true;

const isVisible = !input.closest('.hidden');
const isRequired = input.ariaRequired === 'true';

if (!isVisible || !isRequired) {
setValidity(input, true);
return true;
}

const value = parseFloat(input.value);
const min = parseFloat(input.min);
const max = parseFloat(input.max);
let isValid = true;

if (isNaN(value)) {
isValid = false;
} else if (!isNaN(min) && value < min) {
isValid = false;
} else if (!isNaN(max) && value > max) {
isValid = false;
}

setValidity(input, isValid);
return isValid;
}

function setValidity(input, isValid) {
const errorDiv = document.getElementById(input.getAttribute('aria-describedby').split(' ')[0]);
if (isValid) {
input.setAttribute('aria-invalid', 'false');
if (errorDiv) errorDiv.style.display = 'none';
} else {
input.setAttribute('aria-invalid', 'true');
if (errorDiv) errorDiv.style.display = 'block';
}
}

function validateForm() {
let isFormValid = true;
let firstErrorField = null;

const fieldsToValidate = [
ui.age,
ui.weight,
...(currentUnit === 'metric' ? [ui.heightCm] : [ui.heightFt, ui.heightIn]),
...(currentMethod === 'navy' ? [ui.neck, ui.waist] : []),
...(currentMethod === 'navy' && currentGender === 'female' ? [ui.hip] : [])
];

fieldsToValidate.forEach(field => {
if (!validateField(field)) {
isFormValid = false;
if (!firstErrorField) {
firstErrorField = field;
}
}
});

if (firstErrorField) {
firstErrorField.focus();
}

return isFormValid;
}

// --- Calculation Logic ---
function handleCalculate() {
// Clear previous results and highlights
ui.results.classList.add('hidden');
resetCategoryHighlights();

if (!validateForm()) {
return;
}

// 1. Get and normalize values to METRIC
const values = getMetricValues();
if (!values) return;

const { age, heightCm, weightKg, neckCm, waistCm, hipCm } = values;

// 2. Perform calculation
let bfp;
const heightM = heightCm / 100;
const bmi = weightKg / (heightM * heightM);

if (currentMethod === 'navy') {
if (currentGender === 'male') {
if (waistCm <= neckCm) {
alert("Waist measurement must be greater than neck measurement.");
return;
}
bfp = 86.010 * Math.log10(waistCm - neckCm) - 70.041 * Math.log10(heightCm) + 36.76;
} else { // Female
if ((waistCm + hipCm) <= neckCm) {
alert("Waist + Hip measurement must be greater than neck measurement.");
return;
}
bfp = 163.205 * Math.log10(waistCm + hipCm - neckCm) - 97.684 * Math.log10(heightCm) - 78.387;
}
} else { // BMI method
const genderVal = (currentGender === 'male') ? 1 : 0;
bfp = (1.20 * bmi) + (0.23 * age) - (10.8 * genderVal) - 5.4;
}

// Ensure BFP is within a reasonable range (e.g., essential fat to 60%)
const essentialFat = (currentGender === 'male') ? 2 : 10;
bfp = Math.max(essentialFat, Math.min(bfp, 60));

// 3. Calculate derived metrics
const fatMassKg = weightKg * (bfp / 100);
const leanMassKg = weightKg - fatMassKg;

// 4. Convert for display if needed
const displayWeightUnit = currentUnit === 'metric' ? 'kg' : 'lbs';
const fatMassDisplay = currentUnit === 'metric' ? fatMassKg : kgToLbs(fatMassKg);
const leanMassDisplay = currentUnit === 'metric' ? leanMassKg : kgToLbs(leanMassKg);

// 5. Render results
renderResults(bfp, fatMassDisplay, leanMassDisplay, displayWeightUnit);
}

function getMetricValues() {
const age = parseFloat(ui.age.value);
let heightCm, weightKg, neckCm, waistCm, hipCm;

if (currentUnit === 'metric') {
heightCm = parseFloat(ui.heightCm.value);
weightKg = parseFloat(ui.weight.value);
neckCm = parseFloat(ui.neck.value);
waistCm = parseFloat(ui.waist.value);
hipCm = parseFloat(ui.hip.value);
} else {
const ft = parseFloat(ui.heightFt.value) || 0;
const inches = parseFloat(ui.heightIn.value) || 0;
heightCm = (ft * 12 + inches) * 2.54;
weightKg = lbsToKg(parseFloat(ui.weight.value));
neckCm = inToCm(parseFloat(ui.neck.value));
waistCm = inToCm(parseFloat(ui.waist.value));
hipCm = inToCm(parseFloat(ui.hip.value));
}

return { age, heightCm, weightKg, neckCm, waistCm, hipCm, gender: currentGender };
}

function renderResults(bfp, fatMass, leanMass, unit) {
const bfpFixed = bfp.toFixed(1);
const fatMassFixed = fatMass.toFixed(1);
const leanMassFixed = leanMass.toFixed(1);

ui.resultBfp.textContent = `${bfpFixed}%`;
ui.resultFatMass.textContent = `${fatMassFixed}`;
ui.resultLeanMass.textContent = `${leanMassFixed}`;
ui.resultFatMassUnit.textContent = unit;
ui.resultLeanMassUnit.textContent = unit;

const { category, rowId } = getCategory(bfp, currentGender);
ui.resultBfpCategoryValue.textContent = `${bfpFixed}%`;
ui.resultCategory.textContent = category;

// Highlight the correct row
const rowToHighlight = document.getElementById(rowId);
if (rowToHighlight) {
rowToHighlight.classList.add('bg-blue-100', 'font-bold');
}

ui.results.classList.remove('hidden');
ui.resultsHeading.focus(); // Focus for accessibility
}

function getCategory(bfp, gender) {
if (gender === 'male') {
if (bfp < 6) return { category: 'Essential Fat (Low)', rowId: 'cat-row-essential' };
if (bfp < 14) return { category: 'Athletes', rowId: 'cat-row-athletes' };
if (bfp < 18) return { category: 'Fitness', rowId: 'cat-row-fitness' };
if (bfp < 25) return { category: 'Acceptable', rowId: 'cat-row-acceptable' };
return { category: 'Obese', rowId: 'cat-row-obese' };
} else { // Female
if (bfp < 14) return { category: 'Essential Fat (Low)', rowId: 'cat-row-essential' };
if (bfp < 21) return { category: 'Athletes', rowId: 'cat-row-athletes' };
if (bfp < 25) return { category: 'Fitness', rowId: 'cat-row-fitness' };
if (bfp < 32) return { category: 'Acceptable', rowId: 'cat-row-acceptable' };
return { category: 'Obese', rowId: 'cat-row-obese' };
}
}

function resetCategoryHighlights() {
Object.values(categoryRows).forEach(row => {
if (row) row.classList.remove('bg-blue-100', 'font-bold');
});
}

// --- Clear Form ---
function handleClear() {
ui.form.reset();
// Reset state variables and UI
currentUnit = 'metric';
currentMethod = 'navy';
currentGender = 'male';
updateUnits();
updateMethodView();
ui.results.classList.add('hidden');
resetCategoryHighlights();

// Clear all validation states
inputsToValidate.forEach(input => setValidity(input, true));
}

// --- Unit Conversion Helpers ---
const lbsToKg = (lbs) => lbs * 0.453592;
const kgToLbs = (kg) => kg * 2.20462;
const inToCm = (inches) => inches * 2.54;

// --- Initial Setup ---
updateUnits();
updateMethodView();
});
</script>

</body>
</html>