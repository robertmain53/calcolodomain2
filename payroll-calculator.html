<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Payroll Calculator — Net Pay, Withholding, FICA Breakdown</title>
<meta name="description" content="Compute take-home pay with federal withholding, Social Security, Medicare (including the 0.9% Additional Medicare tax), plus custom state and local taxes. Supports pre-tax and post-tax deductions." />
<link rel="canonical" href="https://calcdomain.com/payroll-calculator.html" />
<meta name="author" content="Ugo Candido" />

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- MathJax for LaTeX rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
  :root { --focus: #2563eb; }
  body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
  .prose { max-width: 70ch; }
  .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: .75rem; }
  .prose h3 { font-size: 1.125rem; font-weight: 700; margin-top: 1.25rem; margin-bottom: .5rem; }
  .prose p, .prose li { line-height: 1.65; }
  .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius: .75rem; padding:1rem; overflow-x:auto; }
  input, select, button, details, summary, a { outline-offset: 2px; }
  :focus-visible { outline: 3px solid var(--focus); }
  .result-card { background:#fff; border:1px solid #e5e7eb; border-radius: .75rem; padding:1rem; text-align:center; }
  .result-card h4 { font-size:.9rem; color:#4b5563; margin-bottom:.25rem; }
  .result-card p { font-size:1.5rem; font-weight:800; color:#1f2937; }
  .error { color:#b91c1c; font-size:.875rem; margin-top:.375rem; }
  [data-tooltip] { position: relative; }
  [data-tooltip]:focus-visible::after, [data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute; left: 50%; transform: translateX(-50%);
    bottom: 125%; background:#111827; color:#fff; padding:.5rem .625rem; font-size:.875rem; border-radius:.5rem; width: 18rem; max-width: 80vw; text-align:left; z-index: 20;
  }
  @media (prefers-reduced-motion: no-preference) {
    .fade-in { animation: fade .3s ease-out both; } @keyframes fade { from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }
  }
  /* Reserve space to prevent CLS when results render */
  #results { min-height: 420px; }
  @media print {
    body * { visibility: hidden; }
    #print-section, #print-section * { visibility: visible; }
    #print-section { position: absolute; inset: 0; width: 100%; }
    #chart-wrap { display: none !important; }
  }
</style>

<!-- Schema.org: WebPage -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"WebPage",
  "name":"Payroll Calculator",
  "url":"https://calcdomain.com/payroll-calculator.html",
  "inLanguage":"en",
  "description":"Calculate take-home pay with federal income tax withholding, Social Security, Medicare, Additional Medicare, plus custom state and local taxes.",
  "author":{"@type":"Person","name":"Ugo Candido"},
  "publisher":{"@type":"Organization","name":"CalcDomain"}
}
</script>

<!-- Schema.org: SoftwareApplication -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"SoftwareApplication",
  "name":"Payroll Calculator",
  "applicationCategory":"BusinessApplication",
  "operatingSystem":"Any",
  "softwareVersion":"1.0.0",
  "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
  "publisher":{"@type":"Organization","name":"CalcDomain"}
}
</script>

<!-- Schema.org: BreadcrumbList -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BreadcrumbList",
  "itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
    {"@type":"ListItem","position":2,"name":"Finance","item":"https://calcdomain.com/finance.html"},
    {"@type":"ListItem","position":3,"name":"Taxes","item":"https://calcdomain.com/subcategories/taxes.html"},
    {"@type":"ListItem","position":4,"name":"Payroll Calculator","item":"https://calcdomain.com/payroll-calculator.html"}
  ]
}
</script>

<!-- Schema.org: HowTo -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"HowTo",
  "name":"How to calculate net pay from gross wages",
  "description":"Step-by-step to compute federal withholding, FICA, state/local taxes, and net pay.",
  "step":[
    {"@type":"HowToStep","name":"Enter pay basis","text":"Choose Hourly or Salary and set gross pay for the period."},
    {"@type":"HowToStep","name":"Add deductions","text":"Enter pre-tax and post-tax deductions like 401(k) or garnishments."},
    {"@type":"HowToStep","name":"Set tax parameters","text":"Enter state/local rates or use employer guidance; FICA is applied automatically up to the wage base."},
    {"@type":"HowToStep","name":"Review results","text":"See federal withholding, Social Security, Medicare, Additional Medicare, state/local taxes, and net pay."}
  ]
}
</script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky by requirement) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4">
      <div class="flex items-center justify-between">
        <a href="index.html" class="text-2xl font-extrabold text-blue-700">CalcDomain</a>
        <div class="hidden md:flex items-center gap-6 text-sm">
          <a href="search.html" class="hover:text-blue-700">Search</a>
          <a href="index.html#categories" class="hover:text-blue-700">Categories</a>
        </div>
      </div>
    </nav>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      <section class="w-full lg:w-2/3">
        <nav class="text-sm text-gray-600 mb-3" aria-label="Breadcrumb">
          <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
          <a href="finance.html" class="hover:text-blue-700">Finance</a> &raquo;
          <a href="subcategories/taxes.html" class="hover:text-blue-700">Taxes</a> &raquo;
          <span class="text-gray-900">Payroll Calculator</span>
        </nav>

        <!-- 1) H1 -->
        <div id="print-section" class="bg-white p-6 rounded-lg shadow-sm">
          <h1 class="text-3xl font-extrabold tracking-tight mb-2">Payroll Calculator</h1>

          <!-- 2) Intro -->
          <p class="text-gray-700 mb-6">
            This professional payroll calculator estimates employee take-home pay by applying federal withholding, Social Security, Medicare (including the 0.9% Additional Medicare), and optional state/local taxes. It’s designed for finance teams, accountants, and operators who need fast, reliable net-pay estimates with transparent assumptions.
          </p>

          <!-- 3) Calculator UI -->
          <section id="calculator" class="space-y-6" aria-labelledby="calc-heading">
            <h2 id="calc-heading" class="sr-only">Payroll calculator inputs</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Pay basis -->
              <div>
                <label for="payBasis" class="block text-sm font-medium text-gray-800">Pay Basis *</label>
                <select id="payBasis" aria-required="true" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"
                        aria-describedby="payBasis_help">
                  <option value="hourly">Hourly</option>
                  <option value="salary" selected>Salary (per period)</option>
                </select>
                <p id="payBasis_help" class="sr-only">Choose hourly wages or salary per pay period.</p>
              </div>

              <!-- Pay frequency -->
              <div>
                <div class="flex items-center justify-between">
                  <label for="frequency" class="block text-sm font-medium text-gray-800">Pay Frequency *</label>
                  <button type="button" class="text-sm text-blue-700 underline" data-tooltip="The number of payrolls per year. Weekly=52, Biweekly=26, Semimonthly=24, Monthly=12.">?</button>
                </div>
                <select id="frequency" aria-required="true" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                  <option value="weekly">Weekly (52)</option>
                  <option value="biweekly">Biweekly (26)</option>
                  <option value="semimonthly">Semimonthly (24)</option>
                  <option value="monthly" selected>Monthly (12)</option>
                </select>
              </div>

              <!-- Hours -->
              <div id="hoursWrap">
                <label for="hours" class="block text-sm font-medium text-gray-800">Hours this period *</label>
                <input type="number" inputmode="decimal" id="hours" value="160" step="0.25" min="0"
                       aria-required="true" aria-describedby="hours_err"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
                <p id="hours_err" class="error hidden">Enter hours &ge; 0.</p>
              </div>

              <!-- Rate / Salary -->
              <div>
                <label for="rateOrSalary" class="block text-sm font-medium text-gray-800">
                  Hourly Rate or Salary per Period *
                </label>
                <input type="number" inputmode="decimal" id="rateOrSalary" value="5000" step="0.01" min="0"
                       aria-required="true" aria-describedby="pay_err"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
                <p id="pay_err" class="error hidden">Amount must be &ge; 0.</p>
              </div>

              <!-- Pre-tax deductions -->
              <div>
                <div class="flex items-center justify-between">
                  <label for="pretax" class="block text-sm font-medium text-gray-800">Pre-tax Deductions</label>
                  <button type="button" class="text-sm text-blue-700 underline" data-tooltip="Examples: 401(k), 403(b), traditional HSA, Section 125 health premiums. These reduce taxable wages for income tax and, often, FICA depending on plan rules.">?</button>
                </div>
                <input type="number" inputmode="decimal" id="pretax" value="0" step="0.01" min="0"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
              </div>

              <!-- Post-tax deductions -->
              <div>
                <div class="flex items-center justify-between">
                  <label for="posttax" class="block text-sm font-medium text-gray-800">Post-tax Deductions</label>
                  <button type="button" class="text-sm text-blue-700 underline" data-tooltip="Examples: Roth 401(k), after-tax garnishments, union dues not excluded from tax.">?</button>
                </div>
                <input type="number" inputmode="decimal" id="posttax" value="0" step="0.01" min="0"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
              </div>

              <!-- Federal withholding mode -->
              <div>
                <div class="flex items-center justify-between">
                  <label for="fedMode" class="block text-sm font-medium text-gray-800">Federal Withholding Method *</label>
                  <button type="button" class="text-sm text-blue-700 underline" data-tooltip="Use a quick effective rate (recommended for estimates) or enter a custom W-4 adjustment for more precision with your payroll team.">?</button>
                </div>
                <select id="fedMode" aria-required="true"
                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                  <option value="effective" selected>Quick effective rate (%)</option>
                  <option value="custom">Custom fixed per-period withholding ($)</option>
                </select>
              </div>

              <div id="fedEffWrap">
                <label for="fedEffective" class="block text-sm font-medium text-gray-800">Federal Effective Rate (%)</label>
                <input type="number" inputmode="decimal" id="fedEffective" value="12" step="0.1" min="0" max="60"
                       aria-describedby="fedEff_err"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
                <p id="fedEff_err" class="error hidden">Enter a rate between 0 and 60.</p>
              </div>

              <div id="fedCustomWrap" class="hidden">
                <label for="fedCustom" class="block text-sm font-medium text-gray-800">Federal Withholding ($ per period)</label>
                <input type="number" inputmode="decimal" id="fedCustom" value="0" step="0.01" min="0"
                       aria-describedby="fedCustom_err"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
                <p id="fedCustom_err" class="error hidden">Amount must be &ge; 0.</p>
              </div>

              <!-- State & local -->
              <div>
                <label for="stateRate" class="block text-sm font-medium text-gray-800">State Income Tax Rate (%)</label>
                <input type="number" inputmode="decimal" id="stateRate" value="0" step="0.1" min="0" max="25"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
              </div>

              <div>
                <label for="localRate" class="block text-sm font-medium text-gray-800">Local / City Tax Rate (%)</label>
                <input type="number" inputmode="decimal" id="localRate" value="0" step="0.1" min="0" max="10"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
              </div>

              <!-- Year-to-date for Additional Medicare logic -->
              <div>
                <div class="flex items-center justify-between">
                  <label for="ytd" class="block text-sm font-medium text-gray-800">Year-to-Date Medicare Wages</label>
                  <button type="button" class="text-sm text-blue-700 underline" data-tooltip="Used to determine if the 0.9% Additional Medicare withholding applies after $200,000 of wages from this employer in a calendar year.">?</button>
                </div>
                <input type="number" inputmode="decimal" id="ytd" value="0" step="0.01" min="0"
                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm" />
              </div>
            </div>

            <!-- Action -->
            <div class="flex flex-wrap items-center gap-3 pt-2">
              <button id="calcBtn" class="px-5 py-3 rounded-lg bg-blue-700 text-white font-semibold hover:bg-blue-800 focus-visible:outline focus-visible:outline-4 focus-visible:outline-blue-300">
                Calculate Net Pay
              </button>
              <button id="resetBtn" class="px-5 py-3 rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-50">
                Reset
              </button>
            </div>
          </section>

          <!-- 4) Results -->
          <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 fade-in" aria-live="polite">
            <div class="flex flex-col md:flex-row gap-6">
              <div class="w-full md:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="result-card"><h4>Net Pay</h4><p id="netPay">$0.00</p></div>
                <div class="result-card"><h4>Gross (This Period)</h4><p id="gross">$0.00</p></div>
                <div class="result-card"><h4>Federal Withholding</h4><p id="fedTax">$0.00</p></div>
                <div class="result-card"><h4>Social Security (6.2%)</h4><p id="ssTax">$0.00</p></div>
                <div class="result-card"><h4>Medicare (1.45%)</h4><p id="medTax">$0.00</p></div>
                <div class="result-card"><h4>Additional Medicare (0.9%)</h4><p id="addMedTax">$0.00</p></div>
                <div class="result-card"><h4>State Tax</h4><p id="stateTax">$0.00</p></div>
                <div class="result-card"><h4>Local Tax</h4><p id="localTax">$0.00</p></div>
              </div>
              <div id="chart-wrap" class="w-full md:w-1/3">
                <canvas id="breakdownChart" aria-label="Payroll deduction breakdown chart"></canvas>
              </div>
            </div>

            <details class="mt-6 bg-white rounded-lg">
              <summary class="font-semibold text-gray-800 px-4 py-3 cursor-pointer">Detailed Line Items</summary>
              <div class="p-4 overflow-x-auto">
                <table class="min-w-full text-sm text-right">
                  <thead class="bg-gray-100 text-gray-700 uppercase">
                    <tr>
                      <th class="px-3 py-2 text-left">Item</th>
                      <th class="px-3 py-2">Amount</th>
                    </tr>
                  </thead>
                  <tbody id="detailBody"></tbody>
                </table>
              </div>
            </details>
          </section>
        </div>

        <!-- 5) Authoritative content -->
        <article class="bg-white p-6 rounded-lg shadow-sm mt-8 prose">
          <h2>Data source &amp; methodology</h2>
          <p>
            Federal payroll taxes are based on IRS employer guidance. Social Security (OASDI) and Medicare (HI) rates and the annual wage base follow
            <a href="https://www.irs.gov/publications/p15" target="_blank" rel="nofollow noopener">IRS Publication 15 (Circular E) — 2025</a> and the
            <a href="https://www.ssa.gov/oact/cola/cbb.html" target="_blank" rel="nofollow noopener">SSA Contribution and Benefit Base</a> (2025 wage base $176,100).
            The 0.9% Additional Medicare withholding applies after $200,000 of wages from a single employer (see IRS Topic No. 560 and Q&amp;A). All references current to 2025.
            <br><em>“Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.”</em>
          </p>
          <ul>
            <li><a href="https://www.irs.gov/publications/p15t" target="_blank" rel="nofollow noopener">IRS Publication 15-T (2025)</a> — federal withholding methods (wage-bracket &amp; percentage).</li>
            <li><a href="https://www.irs.gov/taxtopics/tc751" target="_blank" rel="nofollow noopener">IRS Topic No. 751</a> — Social Security &amp; Medicare rates/wage base.</li>
            <li><a href="https://www.irs.gov/taxtopics/tc560" target="_blank" rel="nofollow noopener">IRS Topic No. 560</a> — Additional Medicare Tax thresholds.</li>
          </ul>

          <h2>The formulas, explained</h2>
          <div class="formula-box">
            <p><strong>Gross (period)</strong>:
              \( \; G =
                \begin{cases}
                  h \times r & \text{(hourly)} \\
                  s & \text{(salary per period)}
                \end{cases}
              \)</p>
            <p><strong>Taxable wages for income tax</strong> (approximate with pre-tax deductions \(D_{pre}\)):<br/>
              \( \; W_{income} = \max(0, G - D_{pre}) \)</p>
            <p><strong>Social Security (6.2%)</strong>, up to annual base \(B\):<br/>
              \( \; SS = 0.062 \times \min(B - \text{YTD}_{SS}, \; \max(0, G - D_{pre})) \)</p>
            <p><strong>Medicare (1.45%)</strong>: \( \; M = 0.0145 \times \max(0, G - D_{pre}) \)</p>
            <p><strong>Additional Medicare (0.9%)</strong> when employer wages exceed \$200{,}000 YTD:<br/>
              \( \; AM = 0.009 \times \max\big(0,\; \text{YTD} + (G - D_{pre}) - 200{,}000\big)_{\text{this period portion}} \)</p>
            <p><strong>Federal withholding (effective method)</strong>:
              \( \; F = r_f \times W_{income} \) &nbsp; where \(r_f\) is your chosen effective rate.</p>
            <p><strong>State/local</strong>: \( \; S = r_s \times W_{income}, \quad L = r_l \times W_{income} \)</p>
            <p><strong>Net pay</strong>:
              \( \; \text{Net} = G - D_{pre} - (F + SS + M + AM + S + L) - D_{post} \)</p>
          </div>

          <h2>Glossary of inputs &amp; outputs</h2>
          <ul>
            <li><strong>Pay Basis</strong>: Hourly (hours × rate) or Salary (amount per pay period).</li>
            <li><strong>Pay Frequency</strong>: Weekly (52), Biweekly (26), Semimonthly (24), Monthly (12).</li>
            <li><strong>Pre-tax deductions</strong>: Amounts excluded before tax (e.g., 401(k), HSA, Section 125 premiums).</li>
            <li><strong>Post-tax deductions</strong>: Deductions after tax (e.g., Roth contributions, garnishments).</li>
            <li><strong>Federal effective rate</strong>: Quick estimate for withholding (% of taxable wages).</li>
            <li><strong>State/Local</strong>: Flat rates applied to taxable wages (user-provided; rules vary by jurisdiction).</li>
            <li><strong>Net Pay</strong>: Take-home (deposit) after all deductions and taxes.</li>
          </ul>

          <h2>How it works: a step-by-step example</h2>
          <p><em>Scenario:</em> Monthly salary of \$5,000; pre-tax \$300 (401(k)); post-tax \$50; federal effective rate 12%; state 4%; local 1%; YTD wages \$0.</p>
          <ol>
            <li>Gross \(G = \$5{,}000\). Pre-tax \(D_{pre}=\$300\) → taxable wages \(W_{income}=\$4{,}700\).</li>
            <li>FICA: Social Security \(= 6.2\%\times \$4{,}700 = \$291.40\) (assuming under wage base); Medicare \(= 1.45\%\times \$4{,}700 = \$68.15\); Additional Medicare \(= \$0\) (YTD &lt; \$200k).</li>
            <li>Federal \(= 12\%\times \$4{,}700 = \$564.00\); State \(= 4\%\times \$4{,}700 = \$188.00\); Local \(= 1\%\times \$4{,}700 = \$47.00\).</li>
            <li>Net \(= G - D_{pre} - (\text{taxes}) - D_{post}\) = \( \$5{,}000 - 300 - (291.40 + 68.15 + 0 + 564 + 188 + 47) - 50 \approx \$3{,}491.45\).</li>
          </ol>

          <h2>FAQ</h2>
          <details>
            <summary>Does this replace my payroll provider’s exact withholding?</summary>
            <p>No. This is an estimation tool. Exact withholding uses IRS Pub. 15-T methods plus jurisdiction-specific rules. Use this to sanity-check stubs and model scenarios.</p>
          </details>
          <details>
            <summary>Why use an “effective rate” for federal withholding?</summary>
            <p>Pub. 15-T methods are complex (W-4 steps, credits, brackets, frequency). An effective rate yields fast, defensible estimates. If you know your per-period federal withholding, choose the “custom” option.</p>
          </details>
          <details>
            <summary>Are pre-tax benefits always excluded from FICA?</summary>
            <p>Not always. Section 125 health premiums generally reduce FICA; 401(k) reduces income tax but not Social Security/Medicare. Confirm plan rules with HR/payroll.</p>
          </details>
          <details>
            <summary>When does the 0.9% Additional Medicare apply?</summary>
            <p>Employers must withhold once wages paid by that employer exceed $200,000 in a calendar year (filing status doesn’t matter for employer withholding).</p>
          </details>
          <details>
            <summary>How are state and local taxes handled?</summary>
            <p>They vary widely. Enter flat rates or \$0 if your state/locality has no income tax, or if your payroll provider handles variable rules.</p>
          </details>
          <details>
            <summary>Can I export results?</summary>
            <p>Use your browser’s Print to PDF for a clean one-page summary of the results and line items.</p>
          </details>

          <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br/>
            Last accuracy review: <time datetime="2025-10-28">October 28, 2025</time></p>
          </div>
        </article>
      </section>

      <!-- Aside -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-6">
          <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <h3 class="font-bold text-lg mb-3">Why this calculator</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Transparent, line-item breakdown of all taxes.</li>
              <li>Models pre-tax vs post-tax effects clearly.</li>
              <li>Fast estimates that mirror real paystubs.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <h3 class="font-bold text-lg mb-4">Related finance tools</h3>
            <ul class="space-y-3 text-sm">
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/salary-to-hourly-calculator.html">Salary ↔ Hourly Converter</a></li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/overtime-calculator.html">Overtime Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/bonus-gross-up-calculator.html">Bonus Gross-Up Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/tax-bracket-calculator.html">Tax Bracket Estimator</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All rights reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="https://calcdomain.com/about.html" class="hover:text-blue-700">About</a>
        <a href="https://calcdomain.com/contact.html" class="hover:text-blue-700">Contact</a>
        <a href="https://calcdomain.com/privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="https://calcdomain.com/terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator logic (defer placement near end) -->
  <script>
  (function () {
    const el = (id) => document.getElementById(id);
    const fmt = (v) => new Intl.NumberFormat(undefined,{style:'currency',currency:'USD'}).format(v||0);
    const num = (id) => Math.max(0, parseFloat(el(id).value)||0);

    const UI = {
      payBasis: el('payBasis'),
      frequency: el('frequency'),
      hoursWrap: el('hoursWrap'),
      hours: el('hours'),
      rateOrSalary: el('rateOrSalary'),
      pretax: el('pretax'),
      posttax: el('posttax'),
      fedMode: el('fedMode'),
      fedEffective: el('fedEffective'),
      fedEffWrap: el('fedEffWrap'),
      fedCustom: el('fedCustom'),
      fedCustomWrap: el('fedCustomWrap'),
      stateRate: el('stateRate'),
      localRate: el('localRate'),
      ytd: el('ytd'),
      calcBtn: el('calcBtn'),
      resetBtn: el('resetBtn'),

      // Results
      netPay: el('netPay'),
      gross: el('gross'),
      fedTax: el('fedTax'),
      ssTax: el('ssTax'),
      medTax: el('medTax'),
      addMedTax: el('addMedTax'),
      stateTax: el('stateTax'),
      localTax: el('localTax'),
      detailBody: el('detailBody'),
    };

    // IRS/SSA constants (2025). Sources: IRS Pub 15, Topic 751, Topic 560, SSA CBB.
    const SS_RATE = 0.062;                 // employee OASDI
    const SS_WAGE_BASE = 176100;           // 2025 wage base (USD)
    const MED_RATE = 0.0145;               // employee HI
    const ADD_MED_THRESH_EMPLOYER = 200000; // employer withholding threshold
    const ADD_MED_RATE = 0.009;

    function periodsPerYear(freq) {
      switch (freq) {
        case 'weekly': return 52;
        case 'biweekly': return 26;
        case 'semimonthly': return 24;
        default: return 12; // monthly
      }
    }

    function visibleHours() {
      UI.hoursWrap.style.display = UI.payBasis.value === 'hourly' ? '' : 'none';
      if (UI.payBasis.value === 'salary') { UI.hours.value = 0; }
    }

    function toggleFedMode() {
      const mode = UI.fedMode.value;
      UI.fedEffWrap.classList.toggle('hidden', mode !== 'effective');
      UI.fedCustomWrap.classList.toggle('hidden', mode !== 'custom');
    }

    function validateField(input, errId, condFn, msg) {
      const err = document.getElementById(errId);
      if (!condFn()) { err.textContent = msg; err.classList.remove('hidden'); input.setAttribute('aria-invalid','true'); return false; }
      err.classList.add('hidden'); input.removeAttribute('aria-invalid'); return true;
    }

    function grossForPeriod() {
      const basis = UI.payBasis.value;
      if (basis === 'hourly') {
        return (Math.max(0, parseFloat(UI.hours.value)||0)) * (Math.max(0, parseFloat(UI.rateOrSalary.value)||0));
      }
      return Math.max(0, parseFloat(UI.rateOrSalary.value)||0);
    }

    let chart;
    function renderChart(buckets) {
      const ctx = document.getElementById('breakdownChart');
      const labels = Object.keys(buckets);
      const data = Object.values(buckets).map(v => Math.max(0, v));
      if (chart) {
        chart.data.labels = labels;
        chart.data.datasets[0].data = data;
        chart.update();
        return;
      }
      chart = new Chart(ctx, {
        type: 'doughnut',
        data: { labels, datasets: [{ data }] },
        options: { plugins: { legend: { position: 'bottom' } }, responsive: true, maintainAspectRatio: false }
      });
    }

    function calculate() {
      // Basic validation
      const ok1 = validateField(UI.rateOrSalary, 'pay_err', () => (parseFloat(UI.rateOrSalary.value)||0) >= 0, 'Amount must be ≥ 0.');
      const ok2 = UI.payBasis.value === 'salary'
        ? true
        : validateField(UI.hours, 'hours_err', () => (parseFloat(UI.hours.value)||0) >= 0, 'Enter hours ≥ 0.');
      const mode = UI.fedMode.value;
      const ok3 = mode === 'effective'
        ? validateField(UI.fedEffective, 'fedEff_err',
            () => {
              const v = parseFloat(UI.fedEffective.value); return !isNaN(v) && v >= 0 && v <= 60;
            }, 'Enter a rate between 0 and 60.')
        : validateField(UI.fedCustom, 'fedCustom_err', () => (parseFloat(UI.fedCustom.value)||0) >= 0, 'Amount must be ≥ 0.');
      if (!(ok1 && ok2 && ok3)) return;

      const gross = grossForPeriod();
      const pre = num('pretax');
      const post = num('posttax');

      // Taxable wages for income taxes (approximate; see Methodology)
      const taxable = Math.max(0, gross - pre);

      // FICA calculations respect wage base and employer threshold rules
      // SS: apply to taxable FICA wages capped by remaining wage base
      const ytd = num('ytd');
      const remainingSSBase = Math.max(0, SS_WAGE_BASE - ytd);
      const ssWagesThis = Math.max(0, Math.min(remainingSSBase, taxable));
      const ss = SS_RATE * ssWagesThis;

      // Medicare: all wages
      const med = MED_RATE * taxable;

      // Additional Medicare: employer must withhold once wages paid by this employer exceed $200k
      const projectedYTD = ytd + taxable;
      let addMed = 0;
      if (projectedYTD > ADD_MED_THRESH_EMPLOYER) {
        const amtOver = Math.max(0, projectedYTD - ADD_MED_THRESH_EMPLOYER);
        const thisPeriodOver = Math.min(amtOver, taxable);
        addMed = ADD_MED_RATE * thisPeriodOver;
      }

      // Federal withholding
      let fed = 0;
      if (mode === 'effective') {
        const eff = (parseFloat(UI.fedEffective.value)||0) / 100;
        fed = eff * taxable;
      } else {
        fed = Math.min(taxable, Math.max(0, parseFloat(UI.fedCustom.value)||0));
      }

      // State & local (flat)
      const state = (Math.max(0, parseFloat(UI.stateRate.value)||0) / 100) * taxable;
      const local = (Math.max(0, parseFloat(UI.localRate.value)||0) / 100) * taxable;

      // Net pay
      const totalTaxes = fed + ss + med + addMed + state + local;
      const net = gross - pre - totalTaxes - post;

      // Results
      UI.gross.textContent = fmt(gross);
      UI.fedTax.textContent = fmt(fed);
      UI.ssTax.textContent = fmt(ss);
      UI.medTax.textContent = fmt(med);
      UI.addMedTax.textContent = fmt(addMed);
      UI.stateTax.textContent = fmt(state);
      UI.localTax.textContent = fmt(local);
      UI.netPay.textContent = fmt(net);

      // Detail table
      const rows = [
        ['Gross (this period)', gross],
        ['Pre-tax deductions', -pre],
        ['Taxable wages (approx.)', taxable],
        ['Federal withholding', -fed],
        ['Social Security (6.2%)', -ss],
        ['Medicare (1.45%)', -med],
        ['Additional Medicare (0.9%)', -addMed],
        ['State tax', -state],
        ['Local tax', -local],
        ['Post-tax deductions', -post],
        ['Net pay', net],
      ];
      UI.detailBody.innerHTML = rows.map(([k,v]) => `
        <tr>
          <td class="px-3 py-2 text-left">${k}</td>
          <td class="px-3 py-2">${fmt(v)}</td>
        </tr>
      `).join('');

      // Chart
      renderChart({
        'Federal': fed,
        'Social Security': ss,
        'Medicare': med,
        'Add. Medicare': addMed,
        'State': state,
        'Local': local
      });
    }

    // Events
    UI.payBasis.addEventListener('change', () => { visibleHours(); });
    UI.fedMode.addEventListener('change', toggleFedMode);
    UI.calcBtn.addEventListener('click', (e) => { e.preventDefault(); calculate(); });
    UI.resetBtn.addEventListener('click', (e) => {
      e.preventDefault();
      document.querySelectorAll('#calculator input[type=number]').forEach(i => i.value = i.id === 'rateOrSalary' ? 5000 : 0);
      UI.payBasis.value = 'salary';
      UI.frequency.value = 'monthly';
      UI.fedMode.value = 'effective';
      UI.fedEffective.value = 12;
      UI.stateRate.value = 0;
      UI.localRate.value = 0;
      visibleHours(); toggleFedMode();
      document.querySelectorAll('.error').forEach(e => e.classList.add('hidden'));
      calculate();
    });

    // On load:
    visibleHours(); toggleFedMode(); calculate();
  })();
  </script>
</body>
</html>
