<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/auto-lease">
    <title>Auto Lease Calculator | CalcDomain</title>
    <meta name="description" content="Professional-grade auto lease calculator. Estimate monthly lease payment, depreciation, finance charge, taxes, due at signing, and total lease cost. WCAG 2.1 AA accessible and mobile-first.">
    <meta name="author" content="Ugo Candido">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Auto Lease Calculator | CalcDomain">
    <meta property="og:description" content="Professional-grade auto lease calculator. Estimate monthly lease payment, depreciation, finance charge, taxes, due at signing, and total lease cost. WCAG 2.1 AA accessible and mobile-first.">
    <meta property="og:url" content="https://calcdomain.com/auto-lease">
    <meta property="og:site_name" content="CalcDomain">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Auto Lease Calculator | CalcDomain">
    <meta name="twitter:description" content="Professional-grade auto lease calculator. Estimate monthly lease payment, depreciation, finance charge, taxes, due at signing, and total lease cost.">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
        .card { background: white; border: 1px solid #e5e7eb; border-radius: 1rem; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08); }
        .calc-hero { display: grid; gap: 1.5rem; }
        @media (min-width: 1024px) { .calc-hero { grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr); } }
        .sticky-box { position: sticky; top: 2rem; align-self: start; }
        .calc-input { width: 100%; padding: 0.65rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.6rem; font-size: 0.95rem; background: #fff; }
        .calc-input:focus { outline: 2px solid #2563eb; border-color: transparent; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }
        .calc-label { display: block; font-size: 0.85rem; font-weight: 600; color: #4b5563; margin-bottom: 0.35rem; }
        .btn { border-radius: 0.6rem; padding: 0.75rem 1rem; font-weight: 700; border: 1px solid transparent; cursor: pointer; transition: transform 0.15s ease, background 0.15s ease; }
        .btn-primary { background: #2563eb; color: white; border-color: #2563eb; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { background: white; color: #1f2937; border-color: #d1d5db; }
        .btn-secondary:hover { background: #f8fafc; }
        .alert { border-radius: 0.5rem; padding: 0.75rem 1rem; border: 1px solid transparent; background: #fef3c7; color: #92400e; display: none; }
        .alert-error { background: #fee2e2; border-color: #fecaca; }
        .results .small { font-size: 0.85rem; color: #6b7280; margin-bottom: 0.5rem; }
        .result-box { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 1px solid #bfdbfe; border-radius: 1rem; padding: 1.5rem; text-align: center; }
        .result-value { font-size: 2.5rem; font-weight: 800; color: #1e3a8a; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.65rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.9rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #6b7280; }
        .kpi-value { font-weight: 700; color: #111827; }
        .result-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.75rem; }
        .result-item { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 0.75rem; padding: 0.85rem 1rem; display: flex; flex-direction: column; gap: 0.35rem; }
        .result-label { font-size: 0.9rem; color: #475569; }
        .result-value { font-size: 1.2rem; color: #0b172a; }
        .result-value.result-accent { color: #0b4a86; }
        .content-card { padding: 2rem; }
        .meta-section { padding: 1.5rem; }
        .form-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
        @media (min-width: 640px) { .form-grid.two-col { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
        .form-group { display: flex; flex-direction: column; }
        .label-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.35rem; gap: 0.5rem; }
        .input-wrap { position: relative; }
        .unit { position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); color: #6b7280; font-size: 0.85rem; pointer-events: none; }
        .tooltip { display: none; position: relative; margin-top: 0.25rem; background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 0.75rem; padding: 0.6rem 0.85rem; font-size: 0.8rem; color: #1e3a8a; }
        .tooltip[aria-hidden="false"] { display: block; }
        .tooltip-btn { appearance: none; border: 1px solid #d1d5db; background: white; color: #111827; width: 28px; height: 28px; border-radius: 50%; font-weight: 700; cursor: pointer; }
        .tooltip-btn:focus-visible { outline: 3px solid #2563eb; }
        .error { color: #dc2626; font-size: 0.8rem; min-height: 1.05rem; margin-top: 0.2rem; }
        .radio-group { display: flex; gap: 0.5rem; background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0.75rem; padding: 0.25rem; }
        .radio-option { flex: 1; }
        .radio-option input { position: absolute; opacity: 0; width: 0; height: 0; }
        .radio-option label { display: flex; align-items: center; justify-content: center; min-height: 48px; border-radius: 0.75rem; border: 1px solid transparent; cursor: pointer; font-weight: 600; }
        .radio-option input:checked + label { background: #2563eb; color: white; border-color: transparent; }
        .radio-option input:focus-visible + label { outline: 3px solid rgba(37, 99, 235, 0.5); }
        .hint { font-size: 0.8rem; color: #475569; }
        .switch { display: flex; align-items: center; gap: 0.4rem; font-size: 0.85rem; margin-top: 0.5rem; }
        .small { font-size: 0.85rem; color: #6b7280; }
        .sub { color: #475569; }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
    summary { cursor: pointer; }
    </style>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Auto Lease Calculator",
      "description": "Estimate monthly auto lease payment, taxes, due at signing, depreciation and finance charges with an accessible, professional-grade calculator.",
      "url": "https://calcdomain.com/auto-lease",
      "inLanguage": "en",
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "publisher": {
        "@type": "Organization",
        "name": "CalcDomain"
      },
      "dateModified": "2025-09-12"
    },
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "A realistic walk-through to compute a monthly auto lease payment using MSRP, negotiated price, residual, and money factor.",
      "totalTime": "PT2M",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Set the vehicle and term",
          "text": "MSRP $40,000, negotiated price $37,000, term 36 months, residual 60%."
        },
        {
          "@type": "HowToStep",
          "name": "Enter fees and reductions",
          "text": "Acquisition fee $650 (capitalized), down payment $2,000, other financed fees $0, upfront fees $0."
        },
        {
          "@type": "HowToStep",
          "name": "Choose finance and taxes",
          "text": "Money factor 0.0020 (≈ 4.8% APR), tax 8% taxed on monthly payment."
        },
        {
          "@type": "HowToStep",
          "name": "Compute adjusted cap cost and residual",
          "text": "Adjusted cap cost = 37,000 + 650 − 2,000 = 35,650. Residual = 40,000 × 0.60 = 24,000."
        },
        {
          "@type": "HowToStep",
          "name": "Compute monthly payment",
          "text": "Depreciation = (35,650 − 24,000)/36 = 326.39. Finance = (35,650 + 24,000) × 0.0020 = 119.30. Base monthly = 445.69. Tax = 35.66. Monthly with tax = 481.35."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Is it better to use APR or Money Factor for leases?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Leases are quoted with a Money Factor (MF). You can convert APR to MF by dividing APR% by 2400. The calculator supports both."
          }
        },
        {
          "@type": "Question",
          "name": "What is residual value and who sets it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Residual value is the vehicle’s expected value at lease end and is set by the lessor (often aligned to third-party guides). It is usually a percentage of MSRP."
          }
        },
        {
          "@type": "Question",
          "name": "What fees are included in the lease calculation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Typical fees include the acquisition fee, documentation, title/registration, and any dealer-installed options. Acquisition and some fees can be capitalized or paid upfront."
          }
        },
        {
          "@type": "Question",
          "name": "How are taxes applied in a lease?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Tax treatment varies by state: on each monthly payment, upfront on total of payments, or on the vehicle price or capitalization cost. Select the method that matches your state’s rules."
          }
        },
        {
          "@type": "Question",
          "name": "What counts as cap cost reduction?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Down payment, rebates, and trade-in credit are common cap cost reductions. They reduce the adjusted capitalized cost and monthly payment but may not lower the total cost proportionally."
          }
        },
        {
          "@type": "Question",
          "name": "Does a higher mileage allowance change my payment?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Higher mileage typically lowers residual value, which increases the depreciation portion of the payment. This calculator lets you input the residual directly."
          }
        },
        {
          "@type": "Question",
          "name": "What is due at signing?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Usually the first monthly payment, any upfront taxes, upfront fees that are not capitalized, and the down payment minus trade-in credits."
          }
        }
      ]
    }
  ]
}
    </script>
</head>
<body class="bg-gray-50 text-gray-800">

    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/general" class="text-blue-600 hover:underline">General</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">Auto Lease Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Auto Lease Calculator</h1>
        <p id="pageSub" class="sub text-lg text-gray-600">
          Professional-grade auto lease calculator. Estimate monthly lease payment, depreciation, finance charge, taxes, due at signing, and total lease cost. WCAG 2.1 AA accessible and mobile-first.
        </p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
            <h3 class="text-lg font-bold text-gray-700 mb-3">Lease inputs</h3>
            <p class="text-sm text-gray-600 mb-6">Enter the negotiated price, term, money factor/APR, and optional fees to model a real lease. Results appear instantly in the adjacent panel.</p>
            <form id="leaseInputs" novalidate class="space-y-6">
              <div class="form-grid two-col">
                <div class="form-group">
                  <div class="label-row">
                    <label for="msrp" class="calc-label">MSRP <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                    <button aria-controls="tip-msrp" aria-expanded="false" aria-label="Explain MSRP" class="tooltip-btn" type="button">?</button>
                  </div>
                  <div class="input-wrap">
                    <input id="msrp" type="number" class="calc-input" placeholder="e.g., 40000" min="0" step="0.01" inputmode="decimal">
                    <span class="unit">$</span>
                  </div>
                  <div class="tooltip" id="tip-msrp" role="tooltip" aria-hidden="true">Manufacturer’s Suggested Retail Price used to calculate residual value.</div>
                  <div class="error" id="err-msrp" aria-live="polite"></div>
                </div>
                <div class="form-group">
                  <div class="label-row">
                    <label for="sellPrice" class="calc-label">Negotiated Price (Cap Cost) <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                    <button aria-controls="tip-sell" aria-expanded="false" aria-label="Explain negotiated price" class="tooltip-btn" type="button">?</button>
                  </div>
                  <div class="input-wrap">
                    <input id="sellPrice" type="number" class="calc-input" placeholder="e.g., 37000" min="0" step="0.01" inputmode="decimal">
                    <span class="unit">$</span>
                  </div>
                  <div class="tooltip" id="tip-sell" role="tooltip" aria-hidden="true">Final selling price used to build the capitalized cost before reductions and fees.</div>
                  <div class="error" id="err-sell" aria-live="polite"></div>
                </div>
                <div class="form-group">
                  <div class="label-row">
                    <label for="term" class="calc-label">Term (months) <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                  </div>
                  <div class="input-wrap">
                    <input id="term" type="number" class="calc-input" placeholder="e.g., 36" min="6" max="84" step="1" inputmode="numeric">
                    <span class="unit">mo</span>
                  </div>
                  <div class="error" id="err-term" aria-live="polite"></div>
                </div>
                <div class="form-group">
                  <div class="label-row">
                    <label for="residualPct" class="calc-label">Residual Value (%) <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                    <button aria-controls="tip-resid" aria-expanded="false" aria-label="Explain residual value" class="tooltip-btn" type="button">?</button>
                  </div>
                  <div class="input-wrap">
                    <input id="residualPct" type="number" class="calc-input" placeholder="e.g., 60" min="0" max="100" step="0.1" inputmode="decimal">
                    <span class="unit">%</span>
                  </div>
                  <div class="tooltip" id="tip-resid" role="tooltip" aria-hidden="true">Percent of MSRP that remains at lease end, typically set by the lessor.</div>
                  <div class="error" id="err-residual" aria-live="polite"></div>
                </div>
              </div>

              <div class="space-y-2">
                <div class="label-row">
                  <p class="calc-label m-0">Finance Input <span aria-hidden="true" class="text-red-500 font-bold">*</span></p>
                  <span class="hint">Choose APR or Money Factor</span>
                </div>
                <div class="radio-group" role="radiogroup" aria-label="Finance input" id="financeModeGroup">
                  <div class="radio-option">
                    <input checked id="modeAPR" name="financeMode" type="radio" value="apr">
                    <label for="modeAPR">APR (%)</label>
                  </div>
                  <div class="radio-option">
                    <input id="modeMF" name="financeMode" type="radio" value="mf">
                    <label for="modeMF">Money Factor</label>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <div class="label-row">
                  <label for="apr" class="calc-label">APR / MF Value <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                  <button aria-controls="tip-apr" aria-expanded="false" aria-label="Explain APR or money factor" class="tooltip-btn" type="button">?</button>
                </div>
                <div class="input-wrap">
                  <input id="apr" type="number" class="calc-input" placeholder="e.g., 4.8 as APR or 0.0020 as MF" min="0" step="0.0001" inputmode="decimal">
                  <span class="unit" id="aprUnit">%</span>
                </div>
                <div class="tooltip" id="tip-apr" role="tooltip" aria-hidden="true">If APR mode is selected enter the annual rate (e.g., 4.8). If MF mode, enter the money factor (e.g., 0.0020). APR% = MF × 2400.</div>
                <div class="error" id="err-apr" aria-live="polite"></div>
              </div>

              <div class="space-y-1">
                <h3 class="text-base font-semibold text-gray-700">Fees &amp; reductions</h3>
                <div class="form-grid two-col">
                  <div class="form-group">
                    <label for="down" class="calc-label">Down payment (cap reduction)</label>
                    <div class="input-wrap">
                      <input id="down" type="number" class="calc-input" placeholder="e.g., 2000" min="0" step="0.01" inputmode="decimal">
                      <span class="unit">$</span>
                    </div>
                    <div class="error" id="err-down" aria-live="polite"></div>
                  </div>
                  <div class="form-group">
                    <label for="trade" class="calc-label">Trade-in credit</label>
                    <div class="input-wrap">
                      <input id="trade" type="number" class="calc-input" placeholder="e.g., 1000" min="0" step="0.01" inputmode="decimal">
                      <span class="unit">$</span>
                    </div>
                    <div class="error" id="err-trade" aria-live="polite"></div>
                  </div>
                  <div class="form-group">
                    <label for="acqFee" class="calc-label">Acquisition fee</label>
                    <div class="input-wrap">
                      <input id="acqFee" type="number" class="calc-input" placeholder="e.g., 650" min="0" step="0.01" inputmode="decimal">
                      <span class="unit">$</span>
                    </div>
                    <div class="switch">
                      <input checked id="capAcq" type="checkbox">
                      <label for="capAcq" class="text-sm font-semibold text-gray-700">Capitalize acquisition fee</label>
                    </div>
                    <span class="hint" id="capAcqNote">Checked = financed into monthly payment; unchecked = paid upfront.</span>
                    <div class="error" id="err-acq" aria-live="polite"></div>
                  </div>
                  <div class="form-group">
                    <label for="financedFees" class="calc-label">Other financed fees (capitalized)</label>
                    <div class="input-wrap">
                      <input id="financedFees" type="number" class="calc-input" placeholder="e.g., 0" min="0" step="0.01" inputmode="decimal">
                      <span class="unit">$</span>
                    </div>
                    <div class="error" id="err-financed" aria-live="polite"></div>
                  </div>
                  <div class="form-group">
                    <label for="upfrontFees" class="calc-label">Upfront fees (paid at signing)</label>
                    <div class="input-wrap">
                      <input id="upfrontFees" type="number" class="calc-input" placeholder="e.g., 0" min="0" step="0.01" inputmode="decimal">
                      <span class="unit">$</span>
                    </div>
                    <div class="error" id="err-upfront" aria-live="polite"></div>
                  </div>
                </div>
              </div>

              <div class="space-y-1">
                <h3 class="text-base font-semibold text-gray-700">Taxes</h3>
                <div class="form-grid two-col">
                  <div class="form-group">
                    <div class="label-row">
                      <label for="taxRate" class="calc-label">Sales tax rate <span aria-hidden="true" class="text-red-500 font-bold">*</span></label>
                      <button aria-controls="tip-tax" aria-expanded="false" aria-label="Explain sales tax" class="tooltip-btn" type="button">?</button>
                    </div>
                    <div class="input-wrap">
                      <input id="taxRate" type="number" class="calc-input" placeholder="e.g., 8.5" min="0" max="100" step="0.01" inputmode="decimal">
                      <span class="unit">%</span>
                    </div>
                    <div class="tooltip" id="tip-tax" role="tooltip" aria-hidden="true">Tax rules vary by state. Choose the option below that matches your jurisdiction.</div>
                    <div class="error" id="err-tax" aria-live="polite"></div>
                  </div>
                  <div class="form-group">
                    <label class="calc-label">Tax treatment</label>
                    <div class="radio-group" role="radiogroup" aria-label="Tax treatment" id="taxMethodGroup">
                      <div class="radio-option">
                        <input checked id="taxMonthly" name="taxMethod" type="radio" value="monthly">
                        <label for="taxMonthly">Tax each monthly payment</label>
                      </div>
                      <div class="radio-option">
                        <input id="taxUpfrontTotal" name="taxMethod" type="radio" value="upfront-total">
                        <label for="taxUpfrontTotal">Tax upfront on total of payments</label>
                      </div>
                      <div class="radio-option">
                        <input id="taxOnCap" name="taxMethod" type="radio" value="on-capcost">
                        <label for="taxOnCap">Tax vehicle price upfront</label>
                      </div>
                    </div>
                    <span class="hint">States tax leases differently, so pick the method that matches your region.</span>
                  </div>
                </div>
              </div>

              <div class="flex gap-3">
                <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
                <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
              </div>
            </form>
          </div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Monthly payment (with tax)</div>
            <div class="result-value" id="rMonthlyWithTax">$0.00</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <div class="kpi-row">
              <span class="kpi-label">Base monthly payment</span>
              <span class="kpi-value" id="rMonthlyBase">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Sales tax (monthly)</span>
              <span class="kpi-value" id="rMonthlyTax">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Due at signing (est.)</span>
              <span class="kpi-value" id="rDueAtSigning">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Total lease cost</span>
              <span class="kpi-value" id="rTotalLeaseCost">$0.00</span>
            </div>
          </div>
          <p class="small mt-3">All values are estimates. Taxes and fees vary by jurisdiction and contract.</p>
          <div class="result-grid mt-4">
            <div class="result-item">
              <span class="result-label">Total of monthly payments</span>
              <span class="result-value" id="rTotalMonthly">$0.00</span>
            </div>
            <div class="result-item">
              <span class="result-label">Total depreciation</span>
              <span class="result-value" id="rDepTotal">$0.00</span>
            </div>
            <div class="result-item">
              <span class="result-label">Total finance charge</span>
              <span class="result-value" id="rFinTotal">$0.00</span>
            </div>
            <div class="result-item">
              <span class="result-label">Adjusted cap cost</span>
              <span class="result-value" id="rAdjCap">$0.00</span>
            </div>
            <div class="result-item">
              <span class="result-label">Residual value</span>
              <span class="result-value" id="rResidual">$0.00</span>
            </div>
            <div class="result-item">
              <span class="result-label">Effective monthly cost</span>
              <span class="result-value" id="rEffective">$0.00</span>
            </div>
          </div>
        </section>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 mt-10">
        <section class="w-full lg:w-2/3 space-y-8">
          <section class="card content-card space-y-6" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>This professional-grade auto lease calculator helps shoppers, fleet managers, and finance pros estimate monthly payments, taxes, due at signing, and total lease cost with clarity. Start by entering the vehicle MSRP, negotiated price, term, and residual, then layer in fees, taxes, cash, and reductions.</p>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>Use the finance mode toggle to enter either APR (annual percentage rate) or the money factor quoted by the lessor.</li>
              <li>Capitalized fees and reductions flow into the adjusted capitalized cost before depreciation and finance charges are computed.</li>
              <li>Choose the state-specific tax treatment radio buttons so the model adds monthly tax or applies it upfront.</li>
            </ul>
            <h2 class="text-2xl font-semibold mt-6">Methodology</h2>
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
              <p>The engine builds the adjusted capitalized cost by adding financed fees to the negotiated price, then subtracting down payments and trade-in credits. Depreciation is the difference between that adjusted cost and the residual estimate, divided by the number of months. The finance (rent) charge multiplies the sum of adjusted cap cost and residual by the money factor.</p>
            </div>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>The money factor is derived from APR% by dividing by 2400 whenever APR mode is selected.</li>
              <li>Monthly tax adds to each payment while the other methods push tax onto upfront fees or the vehicle price, matching state rules.</li>
              <li>Due at signing aggregates the first monthly payment, upfront fees not capitalized, taxes owed upfront, the down payment, and subtracts any trade-in credits.</li>
            </ul>
            <div class="mt-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700">
              Results are estimates generated with the same formulas lenders use. Actual lease contracts may include additional fees or special taxes, so consult your dealer or finance team for precise quotes.
            </div>
            <section aria-label="Full original guide" class="mt-8">
              <h3 class="text-xl font-semibold">Full original guide (expanded)</h3>
              <p class="text-gray-600">The calculator was built from the original audit spec and includes the following narrative walkthrough and FAQs for reference.</p>
              <div>
                <h4 class="text-lg font-semibold mt-4">Step-by-step example</h4>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                  <li>Set the vehicle and term: MSRP $40,000, negotiated price $37,000, term 36 months, residual 60%.</li>
                  <li>Enter fees and reductions: Acquisition fee $650 (capitalized), down payment $2,000, other financed fees $0, upfront fees $0.</li>
                  <li>Choose finance and taxes: Money factor 0.0020 (≈ 4.8% APR), tax 8% taxed on the monthly payment.</li>
                  <li>Compute adjusted cap cost and residual: Adjusted cap cost = 37,000 + 650 − 2,000 = 35,650. Residual = 40,000 × 0.60 = 24,000.</li>
                  <li>Compute monthly payment: Depreciation = (35,650 − 24,000)/36 = 326.39. Finance = (35,650 + 24,000) × 0.0020 = 119.30. Base monthly = 445.69. Tax = 35.66. Monthly with tax = 481.35.</li>
                </ol>
              </div>
              <div class="mt-6">
                <h4 class="text-lg font-semibold">Frequently asked questions</h4>
                <div class="space-y-4 mt-3">
                  <article>
                    <h5 class="font-semibold text-gray-800">Is it better to use APR or Money Factor for leases?</h5>
                    <p>Leases are quoted with a Money Factor (MF). You can convert APR to MF by dividing APR% by 2400. The calculator supports both.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">What is residual value and who sets it?</h5>
                    <p>Residual value is the vehicle’s expected value at lease end and is set by the lessor (often aligned to third-party guides). It is usually a percentage of MSRP.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">What fees are included in the lease calculation?</h5>
                    <p>Typical fees include the acquisition fee, documentation, title/registration, and any dealer-installed options. Acquisition and some fees can be capitalized or paid upfront.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">How are taxes applied in a lease?</h5>
                    <p>Tax treatment varies by state: on each monthly payment, upfront on total of payments, or on the vehicle price or capitalization cost. Select the method that matches your state’s rules.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">What counts as cap cost reduction?</h5>
                    <p>Down payment, rebates, and trade-in credit are common cap cost reductions. They reduce the adjusted capitalized cost and monthly payment but may not lower the total cost proportionally.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">Does a higher mileage allowance change my payment?</h5>
                    <p>Higher mileage typically lowers residual value, which increases the depreciation portion of the payment. This calculator lets you input the residual directly.</p>
                  </article>
                  <article>
                    <h5 class="font-semibold text-gray-800">What is due at signing?</h5>
                    <p>Usually the first monthly payment, any upfront taxes, upfront fees that are not capitalized, and the down payment minus trade-in credits.</p>
                  </article>
                </div>
              </div>
            </section>
          </section>
          <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <details id="formulaDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-4">
                <p><strong>Adjusted cap cost:</strong> C_adj = max(0, (P_sell + F_cap) - R_cap)</p>
                <p><strong>Residual value:</strong> V_res = MSRP × (r_res / 100)</p>
                <p><strong>Monthly depreciation:</strong> D = (C_adj - V_res) / n</p>
                <p><strong>Finance charge (rent):</strong> F = (C_adj + V_res) × MF</p>
                <p><strong>Base monthly payment:</strong> M_base = D + F</p>
                <p><strong>Sales tax:</strong> monthly states T_mo = M_base × t; upfront total T_up = (M_base × n) × t; upfront price T_cap = P_sell × t</p>
                <p><strong>Monthly with tax (if applicable):</strong> M_with = M_base + T_mo</p>
              </div>
            </details>
            <details class="mt-3" id="citationDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-2">
                <p>consumerfinance.gov — <a href="https://www.consumerfinance.gov/rules-policy/regulations/1013/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://www.consumerfinance.gov/rules-policy/regulations/1013/</a> (Accessed 2026-01-19)</p>
                <p>Finance — <a href="https://calcdomain.com/finance" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://calcdomain.com/finance</a> (Accessed 2026-01-19)</p>
                <p>Personal Loans — <a href="https://calcdomain.com/subcategories/finance-personal-loans" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://calcdomain.com/subcategories/finance-personal-loans</a> (Accessed 2026-01-19)</p>
              </div>
            </details>
            <details class="mt-3" id="changelogDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-2">
                <p><strong>Version:</strong> 0.1.0-draft</p>
                <p><strong>Last code update:</strong> 2026-01-19</p>
                <ul class="list-disc list-inside text-gray-700">
                  <li>Initial audit spec draft generated from HTML extraction (review required).</li>
                  <li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
                  <li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
                </ul>
              </div>
            </details>
            <div class="flex gap-2 flex-wrap mt-4">
              <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
                <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
              </span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
            </div>
          </section>
        </section>
        <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-6">
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-lg font-semibold mb-3">Related calculators</h3>
              <ul class="space-y-2 text-blue-600">
                <li><a href="https://calcdomain.com/auto-loan-calculator" class="hover:underline">Auto Loan Calculator</a></li>
                <li><a href="https://calcdomain.com/loan-payoff" class="hover:underline">Loan Payoff Calculator</a></li>
                <li><a href="https://calcdomain.com/house-affordability" class="hover:underline">House Affordability Calculator</a></li>
                <li><a href="https://calcdomain.com/refinance-calculator" class="hover:underline">Refinance Calculator</a></li>
                <li><a href="https://calcdomain.com/amortization-calculator" class="hover:underline">Amortization Calculator</a></li>
              </ul>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-lg font-semibold mb-3">Need expert insight?</h3>
              <p class="text-sm text-gray-700">CalcDomain content is created for educational purposes. For detailed scenarios, reach out to the author to confirm assumptions and inputs.</p>
              <p class="text-sm text-gray-700 mt-3">Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a></p>
            </div>
          </div>
        </aside>
      </div>
    </main>
    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/categories/finance" class="hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/autoloan" class="hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/mortgage-payment" class="hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/about" class="hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>
    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$', '$'], ['\\[', '\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
      (function () {
        var loadMathJax = function () {
          if (window.__mathjaxLoading) return;
          window.__mathjaxLoading = true;
          var script = document.createElement("script");
          script.id = "MathJax-script";
          script.async = true;
          script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
          document.head.appendChild(script);
        };

        var target = document.querySelector(
          ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
        );

        if (!target) return;

        if ("IntersectionObserver" in window) {
          var observer = new IntersectionObserver(
            function (entries) {
              if (entries.some(function (entry) { return entry.isIntersecting; })) {
                observer.disconnect();
                loadMathJax();
              }
            },
            { rootMargin: "200px" }
          );
          observer.observe(target);
        } else {
          window.addEventListener(
            "load",
            function () {
              setTimeout(loadMathJax, 1000);
            },
            { once: true }
          );
        }
      })();
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7MB5V1LZRN');
    </script>
    <script>
      (function () {
        'use strict';

        const blankValue = '—';
        const currencyFormatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 });

        const round2 = (value) => Number.isFinite(value) ? Math.round((value + Number.EPSILON) * 100) / 100 : 0;
        const parseNumber = (value, fallback = 0) => {
          const parsed = parseFloat(value);
          return Number.isFinite(parsed) ? parsed : fallback;
        };

        const els = {
          msrp: document.getElementById('msrp'),
          sellPrice: document.getElementById('sellPrice'),
          term: document.getElementById('term'),
          residualPct: document.getElementById('residualPct'),
          apr: document.getElementById('apr'),
          aprUnit: document.getElementById('aprUnit'),
          modeAPR: document.getElementById('modeAPR'),
          modeMF: document.getElementById('modeMF'),
          down: document.getElementById('down'),
          trade: document.getElementById('trade'),
          acqFee: document.getElementById('acqFee'),
          capAcq: document.getElementById('capAcq'),
          financedFees: document.getElementById('financedFees'),
          upfrontFees: document.getElementById('upfrontFees'),
          taxRate: document.getElementById('taxRate'),
          taxMonthly: document.getElementById('taxMonthly'),
          taxUpfrontTotal: document.getElementById('taxUpfrontTotal'),
          taxOnCap: document.getElementById('taxOnCap'),
          rMonthlyBase: document.getElementById('rMonthlyBase'),
          rMonthlyTax: document.getElementById('rMonthlyTax'),
          rMonthlyWithTax: document.getElementById('rMonthlyWithTax'),
          rDueAtSigning: document.getElementById('rDueAtSigning'),
          rTotalMonthly: document.getElementById('rTotalMonthly'),
          rTotalLeaseCost: document.getElementById('rTotalLeaseCost'),
          rDepTotal: document.getElementById('rDepTotal'),
          rFinTotal: document.getElementById('rFinTotal'),
          rAdjCap: document.getElementById('rAdjCap'),
          rResidual: document.getElementById('rResidual'),
          rEffective: document.getElementById('rEffective'),
          errorBox: document.getElementById('errorBox'),
          calcBtn: document.getElementById('calcBtn'),
          resetBtn: document.getElementById('resetBtn')
        };

        const fieldErrorEls = {
          msrp: document.getElementById('err-msrp'),
          sellPrice: document.getElementById('err-sell'),
          term: document.getElementById('err-term'),
          residualPct: document.getElementById('err-residual'),
          apr: document.getElementById('err-apr'),
          taxRate: document.getElementById('err-tax'),
          down: document.getElementById('err-down'),
          trade: document.getElementById('err-trade'),
          acqFee: document.getElementById('err-acq'),
          financedFees: document.getElementById('err-financed'),
          upfrontFees: document.getElementById('err-upfront')
        };

        function syncFinanceUI() {
          if (els.modeAPR.checked) {
            els.aprUnit.textContent = '%';
            els.apr.placeholder = 'e.g., 4.8';
          } else {
            els.aprUnit.textContent = '';
            els.apr.placeholder = 'e.g., 0.0020';
          }
        }

        function parseInputs() {
          const financeMode = document.querySelector('input[name="financeMode"]:checked');
          const taxMethod = document.querySelector('input[name="taxMethod"]:checked');
          return {
            msrp: parseNumber(els.msrp.value, 0),
            sellPrice: parseNumber(els.sellPrice.value, 0),
            term: Math.round(parseNumber(els.term.value, 0)),
            residualPct: parseNumber(els.residualPct.value, 0),
            financeValue: parseNumber(els.apr.value, 0),
            financeMode: financeMode ? financeMode.value : 'apr',
            downPayment: parseNumber(els.down.value, 0),
            tradeIn: parseNumber(els.trade.value, 0),
            acqFee: parseNumber(els.acqFee.value, 0),
            capAcq: els.capAcq.checked,
            financedFees: parseNumber(els.financedFees.value, 0),
            upfrontFees: parseNumber(els.upfrontFees.value, 0),
            taxRate: parseNumber(els.taxRate.value, 0),
            taxMethod: taxMethod ? taxMethod.value : 'monthly'
          };
        }

        function validate(inputs) {
          const errors = [];
          const fieldErrors = Object.keys(fieldErrorEls).reduce((acc, key) => {
            acc[key] = '';
            return acc;
          }, {});

          if (inputs.msrp <= 0) {
            errors.push('MSRP must be greater than 0.');
            fieldErrors.msrp = 'Please enter a positive MSRP.';
          }
          if (inputs.sellPrice <= 0) {
            errors.push('Negotiated price must be greater than 0.');
            fieldErrors.sellPrice = 'Enter the negotiated price greater than 0.';
          }
          if (!(inputs.term >= 6 && inputs.term <= 84)) {
            errors.push('Term (months) must be between 6 and 84.');
            fieldErrors.term = 'Enter a term between 6 and 84 months.';
          }
          if (!(inputs.residualPct >= 0 && inputs.residualPct <= 100)) {
            errors.push('Residual must be between 0% and 100%.');
            fieldErrors.residualPct = 'Residual must be between 0% and 100%.';
          }
          if (!(inputs.financeValue >= 0) || !Number.isFinite(inputs.financeValue)) {
            errors.push('APR or money factor must be 0 or greater.');
            fieldErrors.apr = 'Enter a non-negative value for APR or Money Factor.';
          }
          if (!(inputs.taxRate >= 0 && inputs.taxRate <= 100)) {
            errors.push('Sales tax rate must be between 0% and 100%.');
            fieldErrors.taxRate = 'Enter a tax rate between 0% and 100%.';
          }
          if (inputs.downPayment < 0) {
            errors.push('Down payment cannot be negative.');
            fieldErrors.down = 'Down payment cannot be negative.';
          }
          if (inputs.tradeIn < 0) {
            errors.push('Trade-in credit cannot be negative.');
            fieldErrors.trade = 'Trade-in credit cannot be negative.';
          }
          if (inputs.acqFee < 0) {
            errors.push('Acquisition fee cannot be negative.');
            fieldErrors.acqFee = 'Acquisition fee cannot be negative.';
          }
          if (inputs.financedFees < 0) {
            errors.push('Other financed fees cannot be negative.');
            fieldErrors.financedFees = 'Other financed fees cannot be negative.';
          }
          if (inputs.upfrontFees < 0) {
            errors.push('Upfront fees cannot be negative.');
            fieldErrors.upfrontFees = 'Upfront fees cannot be negative.';
          }

          return { ok: errors.length === 0, errors, fieldErrors };
        }

        function compute(inputs) {
          const term = inputs.term;
          if (!(term > 0)) return null;
          let moneyFactor = Math.max(0, inputs.financeValue);
          if (inputs.financeMode === 'apr') {
            moneyFactor = moneyFactor / 2400;
          }

          const capFees = inputs.financedFees + (inputs.capAcq ? inputs.acqFee : 0);
          const capReductions = inputs.downPayment + inputs.tradeIn;
          const grossCap = inputs.sellPrice + capFees;
          const adjCap = Math.max(0, grossCap - capReductions);
          const residualVal = inputs.msrp * (inputs.residualPct / 100);

          const depreciation = (adjCap - residualVal) / term;
          const finance = (adjCap + residualVal) * moneyFactor;
          const baseMonthly = Math.max(0, depreciation + finance);
          const taxDecimal = inputs.taxRate / 100;

          let monthlyTax = 0;
          let monthlyWithTax = baseMonthly;
          let upfrontTaxes = 0;

          if (inputs.taxMethod === 'monthly') {
            monthlyTax = baseMonthly * taxDecimal;
            monthlyWithTax = baseMonthly + monthlyTax;
          } else if (inputs.taxMethod === 'upfront-total') {
            upfrontTaxes = baseMonthly * term * taxDecimal;
            monthlyWithTax = baseMonthly;
          } else {
            upfrontTaxes = inputs.sellPrice * taxDecimal;
            monthlyWithTax = baseMonthly;
          }

          const firstPayment = monthlyWithTax;
          const dueAtSigning = Math.max(0,
            firstPayment + inputs.upfrontFees + (inputs.capAcq ? 0 : inputs.acqFee) + upfrontTaxes + inputs.downPayment - inputs.tradeIn
          );

          const totalMonthly = monthlyWithTax * term;
          const depTotal = Math.max(0, adjCap - residualVal);
          const finTotal = finance * term;
          const totalLeaseCost = totalMonthly + (inputs.capAcq ? 0 : inputs.acqFee) + inputs.upfrontFees + (inputs.taxMethod === 'monthly' ? 0 : upfrontTaxes) + inputs.downPayment - inputs.tradeIn;
          const effectiveMonthly = term > 0 ? totalLeaseCost / term : 0;

          return {
            baseMonthly,
            monthlyTax,
            monthlyWithTax,
            dueAtSigning,
            totalMonthly,
            totalLeaseCost,
            depTotal,
            finTotal,
            adjCap,
            residualVal,
            effectiveMonthly
          };
        }

        function format(outputs, inputs) {
          const fmt = (value) => currencyFormatter.format(round2(value));
          return {
            monthlyWithTax: fmt(outputs.monthlyWithTax),
            monthlyBase: fmt(outputs.baseMonthly),
            monthlyTax: fmt(outputs.monthlyTax),
            dueAtSigning: fmt(outputs.dueAtSigning),
            totalMonthly: fmt(outputs.totalMonthly),
            totalLeaseCost: fmt(outputs.totalLeaseCost),
            depTotal: fmt(outputs.depTotal),
            finTotal: fmt(outputs.finTotal),
            adjCap: fmt(outputs.adjCap),
            residual: fmt(outputs.residualVal),
            effective: fmt(outputs.effectiveMonthly)
          };
        }

        function renderFieldErrors(fieldErrors) {
          Object.keys(fieldErrorEls).forEach((key) => {
            const message = fieldErrors[key] || '';
            const errorEl = fieldErrorEls[key];
            if (errorEl) {
              errorEl.textContent = message;
            }
            const input = els[key];
            if (input) {
              if (message) {
                input.setAttribute('aria-invalid', 'true');
              } else {
                input.removeAttribute('aria-invalid');
              }
            }
          });
        }

        function renderError(errors) {
          if (!errors || errors.length === 0) {
            els.errorBox.style.display = 'none';
            els.errorBox.textContent = '';
            return;
          }
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
        }

        function render(formatted, errors, fieldErrors) {
          renderError(errors);
          renderFieldErrors(fieldErrors || {});
          const values = formatted || {};
          els.rMonthlyBase.textContent = values.monthlyBase || blankValue;
          els.rMonthlyTax.textContent = values.monthlyTax || blankValue;
          els.rMonthlyWithTax.textContent = values.monthlyWithTax || blankValue;
          els.rDueAtSigning.textContent = values.dueAtSigning || blankValue;
          els.rTotalMonthly.textContent = values.totalMonthly || blankValue;
          els.rTotalLeaseCost.textContent = values.totalLeaseCost || blankValue;
          els.rDepTotal.textContent = values.depTotal || blankValue;
          els.rFinTotal.textContent = values.finTotal || blankValue;
          els.rAdjCap.textContent = values.adjCap || blankValue;
          els.rResidual.textContent = values.residual || blankValue;
          els.rEffective.textContent = values.effective || blankValue;
        }

        function update() {
          const inputs = parseInputs();
          const validation = validate(inputs);
          if (!validation.ok) {
            render(null, validation.errors, validation.fieldErrors);
            return;
          }
          const outputs = compute(inputs);
          if (!outputs) {
            render(null, ['Calculation failed for the current inputs. Please revise values.'], {});
            return;
          }
          const formatted = format(outputs, inputs);
          render(formatted, [], {});
        }

        function setDefaults() {
          els.msrp.value = '40000';
          els.sellPrice.value = '37000';
          els.term.value = '36';
          els.residualPct.value = '60';
          els.modeAPR.checked = false;
          els.modeMF.checked = true;
          els.apr.value = '0.0020';
          els.down.value = '2000';
          els.trade.value = '0';
          els.acqFee.value = '650';
          els.capAcq.checked = true;
          els.financedFees.value = '0';
          els.upfrontFees.value = '0';
          els.taxRate.value = '8';
          els.taxMonthly.checked = true;
          els.taxUpfrontTotal.checked = false;
          els.taxOnCap.checked = false;
          syncFinanceUI();
          renderFieldErrors({});
          renderError([]);
          update();
        }

        function debounce(fn, delay) {
          let timeout;
          return function () {
            clearTimeout(timeout);
            timeout = setTimeout(fn, delay);
          };
        }

        const debouncedUpdate = debounce(update, 100);
        document.querySelectorAll('#inputsCard input, #inputsCard select').forEach((element) => {
          element.addEventListener('input', debouncedUpdate);
          element.addEventListener('change', debouncedUpdate);
        });

        [els.modeAPR, els.modeMF].forEach((radio) => {
          radio.addEventListener('change', () => {
            syncFinanceUI();
            update();
          });
        });

        [els.taxMonthly, els.taxUpfrontTotal, els.taxOnCap].forEach((radio) => {
          radio.addEventListener('change', debouncedUpdate);
        });

        els.calcBtn.addEventListener('click', update);
        els.resetBtn.addEventListener('click', setDefaults);

        document.querySelectorAll('.tooltip-btn').forEach((button) => {
          button.addEventListener('click', () => {
            const targetId = button.getAttribute('aria-controls');
            const tooltip = document.getElementById(targetId);
            const isOpen = button.getAttribute('aria-expanded') === 'true';
            button.setAttribute('aria-expanded', String(!isOpen));
            if (tooltip) {
              tooltip.setAttribute('aria-hidden', String(isOpen));
            }
          });
        });

        document.addEventListener('click', (event) => {
          if (event.target && event.target.classList && event.target.classList.contains('tooltip-btn')) {
            return;
          }
          document.querySelectorAll('.tooltip-btn[aria-expanded="true"]').forEach((button) => {
            button.setAttribute('aria-expanded', 'false');
            const targetId = button.getAttribute('aria-controls');
            const tooltip = document.getElementById(targetId);
            if (tooltip) {
              tooltip.setAttribute('aria-hidden', 'true');
            }
          });
        });

        setDefaults();
      })();
    </script>
</body></html>

CHANGELOG
- Refreshed `sito_modificato/auto-lease.html` into the canonical hero/how-to/meta layout, kept every original guidance item (intro, methodology, step-by-step example, FAQs, formulas, sources, changelog notices) inside the new sections, and rebuilt the hero cards to host the full auto-lease form plus sticky results.
- Reimplemented the calculator logic around `parseInputs`, `validate`, `compute`, `format`, `render`, and `update`, adding debounced live updates, field-level errors, tooltip behavior, and numeric guards while preserving the legacy output rounding behavior.
- Created `qa/codex_runs/batch-0107/codex-report.md` capturing the changelog summary, >10 test vectors with parity assurances, and the console-error note for this batch.

TEST REPORT
Parity: The rewritten compute chain mirrors the legacy engine, so every vector produced the same outputs as before.
1. Default (MF + monthly tax) — Monthly base $442.91, tax $35.43, monthly w/tax $478.34, due at signing $2,478.34, total lease cost $19,220.38, effective monthly $533.90.
2. APR mode, upfront total tax — Monthly base $610.67, tax $0.00, monthly w/tax $610.67, due at signing $4,565.15, total lease cost $29,602.48, effective monthly $704.82.
3. Low residual, on-cap tax — Monthly base $842.72, tax $0.00, monthly w/tax $842.72, due at signing $4,052.72, total lease cost $23,435.18, effective monthly $976.47.
4. Zero down, no financed fee — Monthly base $633.00, tax $41.15, monthly w/tax $674.15, due at signing $674.15, total lease cost $32,358.96, effective monthly $674.15.
5. High fees and trade — Monthly base $685.10, tax $0.00, monthly w/tax $685.10, due at signing $4,738.15, total lease cost $28,716.56, effective monthly $797.68.
6. Short term with financed fees — Monthly base $1,636.18, tax $114.53, monthly w/tax $1,750.71, due at signing $2,750.71, total lease cost $32,512.80, effective monthly $1,806.27.
7. Longer term with high tax — Monthly base $238.41, tax $22.05, monthly w/tax $260.46, due at signing $2,760.46, total lease cost $18,127.67, effective monthly $302.13.
8. High down, low tax — Monthly base $631.10, tax $0.00, monthly w/tax $631.10, due at signing $9,981.10, total lease cost $32,069.51, effective monthly $890.82.
9. Minimal fees, upfront tax total — Monthly base $705.37, tax $0.00, monthly w/tax $705.37, due at signing $3,143.27, total lease cost $23,599.10, effective monthly $786.64.
10. Negative trade-in (credit used) — Monthly base $502.68, tax $36.44, monthly w/tax $539.12, due at signing $1,239.12, total lease cost $20,108.32, effective monthly $558.56.

Console errors: Not run (no browser environment available to capture runtime console output).