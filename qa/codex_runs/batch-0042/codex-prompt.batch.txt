You are Codex. You must refactor CalcDomain calculator pages into a single canonical layout and behavior contract.

CANONICAL REFERENCE
Use the file "sito_modificato/mortgage-payment.html" as the exact structural and interaction canon.

CRITICAL OUTPUT FORMAT (NO EXCEPTIONS)
1) First output MUST be a single, complete UPDATED_PAGE.html document as one contiguous HTML block (starting with <!DOCTYPE html> and ending with </html>).
   - Do NOT include any commentary inside the HTML.
   - Do NOT prepend or append any extra text within the HTML.
2) After the HTML block, output two plain-text sections:
   B) CHANGELOG (bulleted diffs)
   C) TEST REPORT (>=10 test vectors + parity statement + console error check result)

MANDATORY SECTION ORDER (MUST MATCH CANON)
1) Header & H1: Keep as-is (site header + H1 + subtitle). Only change text content (title/subtitle). Do not change wrapper structure or IDs.
2) The Calculator (Hero): Inputs + Results in .calc-hero grid (side-by-side desktop, stacked mobile). Left card = inputs, right card = results (sticky).
3) How to Use / Methodology: Interpretive content for users. Must come AFTER hero.
4) Footer Area: Verification badges, Changelog, Formulas, Citations. Must come AFTER How to Use / Methodology.

DE-DUPLICATION (STRICT, NON-DESTRUCTIVE)
- Remove duplicate information within the page while preserving meaning.
- Keep each type of info only in its correct section:
  - Interpretation/how-to guidance -> How to Use / Methodology
  - Equations -> Formulas
  - Sources -> Citations
  - Release notes -> Changelog
- Do NOT delete unique content. If you are unsure whether content is duplicate, KEEP it and move it under a section titled exactly:
  "Full original guide (expanded)".

CITATIONS RULE (IMPORTANT CLARIFICATION)
- Keep the Citations *section structure and required IDs* exactly as in the canon.
- Populate Citations content ONLY with citations already present in ORIGINAL_PAGE.html.
- Do NOT invent references, sources, claims, reviewers, or dates.

TASK
Given:
- ORIGINAL_PAGE.html (manual legacy page HTML)
- Canon file: sito_modificato/mortgage-payment.html
Produce UPDATED_PAGE.html that:
1) Preserves the calculator’s numeric behavior and rounding rules exactly (unless original is demonstrably broken; if so document it and preserve backward compatibility).
2) Preserves all original informational content (no deletions). Reorder/move content as needed to fit the canonical section order. Anything that does not fit goes under "Full original guide (expanded)".
3) Uses vanilla HTML/CSS/JS only (no build steps, no new dependencies).
4) Keeps the canonical class names and required IDs exactly (see invariant requirements below). Do not rename them.
5) Implements robust parsing, validation, and safe-number handling so the UI never renders NaN/Infinity.
6) Produces deterministic output across browsers by defining and consistently applying a rounding strategy.

INVARIANTS (GLOBAL TEMPLATE) — MUST MATCH CANON
- Required IDs must exist exactly once:
  siteHeader, mainContent, pageTitle, pageSub, errorBox, calcHero, inputsCard, resultsCard, howToUse, pageMeta, siteFooter
- Required class names must exist at least once:
  container, nav, brand, navRight, pill, calc-hero, card, btn, btnSecondary, alert, meta-section, content-card, sub
- #calcHero must have exactly two direct child elements: section#inputsCard.card and section#resultsCard.card (results card may include sticky-box like canon).
- If a schedule exists on the original page, keep schedule behavior; if you add schedule, it must use IDs scheduleWrap/tableWrap and scheduleBody and follow canon.
- If download CSV exists, it must use id downloadCsv and be disabled until compute is successful.

IMPLEMENTATION REQUIREMENTS (JS)
Refactor logic into these functions in the same HTML file:
- parseInputs()
- validate(inputs) -> { ok, errors[] }
- compute(inputs) -> outputs object (pure)
- format(outputs, inputs) -> strings for UI
- render(formatted, errors)
- update() orchestrates parse->validate->compute->format->render

Event model must match canon:
- Calculate button triggers update()
- Reset restores defaultValue and triggers update()
- input/select change triggers debounced update (100ms)
- Toggle schedule shows/hides and renders table (if schedule exists)
- Download CSV enabled only after successful compute (if CSV exists)

HARD CONSTRAINTS
- Do not change the slug, canonical URL, or internal link targets unless explicitly instructed.
- Do not add sitewide navigation or IA not present in the canon and original inputs.
- Do not add/modify tracking/ads scripts unless they already exist in the input.

ACCEPTANCE CRITERIA
- For >=10 test vectors, UPDATED_PAGE outputs match ORIGINAL_PAGE outputs exactly (same rounding/formatting).
- No JS errors in console during interaction.
- Layout matches canon (hero grid on desktop, stacked on mobile).
- All global required IDs/classes present exactly as required (no duplicates).

WORKSPACE CONTEXT
- Canon file (must be used as exact layout+behavior reference): sito_modificato/mortgage-payment.html
- You MUST edit files in-place under sito_modificato/.
- Only refactor the TARGET FILES listed below. Do not touch any other .html files.

TARGET FILES (10)
- sito_modificato/covariance.html
- sito_modificato/covered-call.html
- sito_modificato/cp-to-pa-s.html
- sito_modificato/cpk.html
- sito_modificato/cpm-calculator.html
- sito_modificato/cpm.html
- sito_modificato/cpp.html
- sito_modificato/crack-width.html
- sito_modificato/crane-lift-plan.html
- sito_modificato/crane-runway-beam-design.html

STOP CONDITION
- When all target files are updated AND saved, stop immediately.

REPORTING (WRITE FILE)
- Create or overwrite: qa/codex_runs/batch-0042/codex-report.md
- In that report include:
  - CHANGELOG (per file: bullet list)
  - TEST REPORT (>=10 vectors per file OR if infeasible, explain precisely why and include at least 10 total vectors across the batch)
  - Console error check statement
  - Any deviations, with justification.
