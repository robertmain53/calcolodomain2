<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/bond-yield">
    <title>Bond Yield Calculator | Professional, Accessible &amp; Fast</title>
    <meta name="description" content="Bond Yield Calculator: compute Yield to Maturity (YTM), Effective Annual Yield, Current Yield, Yield to Call, and Duration with a professional, accessible tool.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Bond Yield Calculator | Professional, Accessible &amp; Fast">
    <meta property="og:description" content="Bond Yield Calculator: compute Yield to Maturity (YTM), Effective Annual Yield, Current Yield, Yield to Call, and Duration with a professional, accessible tool.">
    <meta property="og:url" content="https://calcdomain.com/bond-yield">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bond Yield Calculator | Professional, Accessible &amp; Fast">
    <meta name="twitter:description" content="Bond Yield Calculator: compute Yield to Maturity (YTM), Effective Annual Yield, Current Yield, Yield to Call, and Duration with a professional, accessible tool.">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .prose table { width: 100%; border-collapse: collapse; margin-top: 1em; margin-bottom: 1em; }
        .prose th, .prose td { border: 1px solid #e5e7eb; padding: 0.5rem 0.75rem; text-align: left; }
        .prose thead th { background-color: #f9fafb; font-weight: 600; }
        .prose tr:nth-child(even) { background-color: #f9fafb; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; font-family: monospace; }
        .calc-input { width: 100%; padding: 0.625rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem; font-size: 0.9375rem; }
        .calc-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); }
        .calc-label { display: block; font-size: 0.8125rem; font-weight: 600; color: #6b7280; margin-bottom: 0.375rem; }
        .result-box { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 1px solid #bfdbfe; border-radius: 0.75rem; padding: 1.5rem; text-align: center; }
        .result-value { font-size: 2.5rem; font-weight: 800; color: #1e40af; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.625rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.875rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #6b7280; }
        .kpi-value { font-weight: 700; color: #111827; }
        .btn-primary { display: block; width: 100%; background: #2563eb; color: white; padding: 0.75rem; border: none; border-radius: 0.5rem; font-weight: 700; cursor: pointer; transition: background 0.2s; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { display: block; width: 100%; background: white; color: #374151; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-secondary:hover { background: #f9fafb; }
        .alert-error { display: none; padding: 0.75rem; margin-bottom: 1rem; background: #fef2f2; border-left: 4px solid #dc2626; color: #991b1b; border-radius: 0.375rem; font-size: 0.875rem; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
        .schedule-table th, .schedule-table td { padding: 0.75rem; border-bottom: 1px solid #e5e7eb; text-align: left; white-space: nowrap; }
        .schedule-table th { background: #f1f5f9; font-weight: 700; color: #6b7280; font-size: 0.75rem; text-transform: uppercase; }
        .schedule-table tr:nth-child(even) td { background: #fafafa; }
        .optional-section { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .nav { display: flex; align-items: center; gap: 1rem; }
        .brand { font-weight: 800; font-size: 1.1rem; letter-spacing: .2px; color: #0B3E75; }
        .navRight { margin-left: auto; display: flex; align-items: center; gap: 1rem; }
        .pill { font-size: 0.9rem; color: #6b7280; }
        .pill:hover { color: #2563eb; }
        .breadcrumb { font-size: 0.9rem; color: #6b7280; margin-bottom: 0; }
        .breadcrumb a { color: #2563eb; }
        .card { background: #ffffff; border: 1px solid #d1d5db; border-radius: 1rem; box-shadow: 0 10px 40px -20px rgba(15,23,42,0.5); }
        .sticky-box { position: sticky; top: 1rem; }
        .form-group { margin-bottom: 1rem; }
        .form-row { display: flex; gap: 0.75rem; flex-wrap: wrap; }
        label { display: flex; align-items: center; justify-content: space-between; font-weight: 700; color: #0f172a; margin-bottom: 0.35rem; gap: 0.5rem; }
        .req { color: #dc2626; margin-left: 0.25rem; }
        .input-wrap { position: relative; }
        input[type="number"], select { width: 100%; min-height: 48px; padding: 0.75rem 0.9rem; border: 1px solid #d1d5db; border-radius: 0.75rem; font-size: 1rem; background: #fff; color: #0f172a; }
        input:focus, select:focus { outline: 3px solid #2563eb; outline-offset: 2px; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15); }
        .info-btn { border: 1px solid #d1d5db; background: #fff; color: #0f172a; border-radius: 50%; width: 28px; height: 28px; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; font-weight: 800; line-height: 1; }
        .info-btn:focus { outline: 3px solid #2563eb; outline-offset: 2px; }
        .tooltip { display: none; margin-top: 0.35rem; padding: 0.6rem 0.75rem; background: #f1f5f9; border: 1px solid #d1d5db; border-radius: 0.75rem; color: #0f172a; font-size: 0.875rem; }
        .tooltip[aria-hidden="false"] { display: block; }
        .error { color: #dc2626; font-size: 0.9rem; margin-top: 0.35rem; min-height: 1em; }
        .radio-group { display: flex; gap: 0.5rem; padding: 0.25rem; border: 1px solid #d1d5db; border-radius: 0.75rem; }
        .radio-option { position: relative; flex: 1; }
        .radio-option input { position: absolute; inset: 0; opacity: 0; }
        .radio-option label { margin: 0; width: 100%; min-height: 48px; display: flex; align-items: center; justify-content: center; border-radius: 0.75rem; border: 1px solid transparent; font-weight: 700; color: #0f172a; background: #f8fafc; }
        .radio-option input:checked + label { background: #2563eb; color: #fff; }
        .radio-option input:focus-visible + label { outline: 3px solid #2563eb; outline-offset: 2px; }
        .actions { display: flex; gap: 0.75rem; flex-wrap: wrap; margin-top: 0.5rem; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 0.75rem; }
        .result { display: flex; flex-direction: column; gap: 0.25rem; padding: 1rem; background: #f8fbff; border: 1px solid #d1d5db; border-radius: 0.75rem; min-height: 92px; }
        .result .label { color: #6b7280; font-weight: 700; }
        .result .value { font-weight: 900; font-size: 1.25rem; color: #107e3e; }
        .minh { min-height: 220px; }
        .content-card { padding: 1.5rem; }
        .meta-section { padding: 1.5rem; }
        .sub { font-size: 1.125rem; color: #475467; }
        .sr-only { position: absolute; width: 1px; height: 1px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; padding: 0; }
        .badge-row { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .badge { padding: 0.35rem 0.85rem; border-radius: 999px; background: #111827; color: #fff; font-size: 0.85rem; font-weight: 600; }
    </style>

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Bond Yield Calculator", "item": "https://calcdomain.com/bond-yield"}]}</script>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
<body class="bg-gray-50 text-gray-800">

    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">Bond Yield Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Bond Yield Calculator</h1>
        <p id="pageSub" class="sub">Bond Yield Calculator: compute Yield to Maturity (YTM), Effective Annual Yield, Current Yield, Yield to Call, and Duration. Professional-grade, mobile-first, WCAG 2.1 AA accessible.</p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8 grid gap-6 lg:grid-cols-2" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="bg-white p-6 rounded-lg border border-gray-200 space-y-6" role="presentation">
            <h3 class="text-lg font-bold text-gray-700 mb-2 mt-0">Bond inputs</h3>
            <form id="bondForm" novalidate class="space-y-5">
              <div class="form-group">
                <label for="price">
                  Market Price per 100 Face Value <span aria-hidden="true" class="req">*</span>
                  <button aria-controls="tip-price" aria-expanded="false" aria-label="Price help" class="info-btn" type="button">?</button>
                </label>
                <div class="input-wrap">
                  <input type="number" id="price" name="price" inputmode="decimal" min="0.0001" step="0.0001" value="95" class="calc-input" aria-describedby="err-price tip-price" required>
                </div>
                <div class="tooltip" id="tip-price" role="note" aria-hidden="true">
                  Enter the market price quoted per 100 units of face value (e.g., 95 means $95 per $100 par).
                </div>
                <div class="error" id="err-price" role="alert" aria-live="polite"></div>
              </div>

              <div class="form-group">
                <label for="face">
                  Face Value (Par) <span aria-hidden="true" class="req">*</span>
                  <button aria-controls="tip-face" aria-expanded="false" aria-label="Face value help" class="info-btn" type="button">?</button>
                </label>
                <div class="input-wrap">
                  <input type="number" id="face" name="face" inputmode="decimal" min="0.0001" step="0.01" value="100" class="calc-input" aria-describedby="err-face tip-face" required>
                </div>
                <div class="tooltip" id="tip-face" role="note" aria-hidden="true">
                  The bond’s principal amount to be repaid at maturity (commonly $100 or $1,000).
                </div>
                <div class="error" id="err-face" role="alert" aria-live="polite"></div>
              </div>

              <div class="form-row">
                <div class="form-group" style="flex:1 1 200px;">
                  <label for="coupon">
                    Annual Coupon Rate (%) <span aria-hidden="true" class="req">*</span>
                    <button aria-controls="tip-coupon" aria-expanded="false" aria-label="Coupon help" class="info-btn" type="button">?</button>
                  </label>
                  <div class="input-wrap">
                    <input type="number" id="coupon" name="coupon" inputmode="decimal" min="0" step="0.0001" value="5" class="calc-input" aria-describedby="err-coupon tip-coupon" required>
                  </div>
                  <div class="tooltip" id="tip-coupon" role="note" aria-hidden="true">
                    Nominal annual coupon rate. For a 5% coupon on $100 par, annual coupon is $5. Set 0 for zero-coupon bonds.
                  </div>
                  <div class="error" id="err-coupon" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group" style="flex:1 1 200px;">
                  <label for="frequency">
                    Coupon Frequency <span aria-hidden="true" class="req">*</span>
                  </label>
                  <select id="frequency" name="frequency" class="calc-input" aria-describedby="err-frequency" required>
                    <option value="1">Annual (1)</option>
                    <option value="2" selected>Semiannual (2)</option>
                    <option value="4">Quarterly (4)</option>
                  </select>
                  <div class="error" id="err-frequency" role="alert" aria-live="polite"></div>
                </div>
              </div>

              <div class="form-group">
                <label for="years">
                  Years to Maturity <span aria-hidden="true" class="req">*</span>
                  <button aria-controls="tip-years" aria-expanded="false" aria-label="Years to maturity help" class="info-btn" type="button">?</button>
                </label>
                <div class="input-wrap">
                  <input type="number" id="years" name="years" inputmode="decimal" min="0.25" step="0.25" value="10" class="calc-input" aria-describedby="err-years tip-years" required>
                </div>
                <div class="tooltip" id="tip-years" role="note" aria-hidden="true">
                  Time to final maturity in years. The solver uses the nearest whole coupon periods: N ≈ round(years × frequency).
                </div>
                <div class="error" id="err-years" role="alert" aria-live="polite"></div>
              </div>

              <div class="form-group">
                <h3 id="adv-title" class="text-base font-semibold mt-2 mb-2">Optional: Call Feature</h3>
                <div class="form-row">
                  <div class="form-group" style="flex:1 1 160px;">
                    <label for="callPrice">Call Price (per 100)</label>
                    <input type="number" id="callPrice" name="callPrice" inputmode="decimal" min="0" step="0.01" placeholder="e.g., 102" class="calc-input" aria-describedby="tip-call err-call">
                    <div class="tooltip" id="tip-call" role="note" aria-hidden="true">
                      If the bond can be called early, enter the call price per 100 face value.
                    </div>
                    <div class="error" id="err-call" role="alert" aria-live="polite"></div>
                  </div>
                  <div class="form-group" style="flex:1 1 160px;">
                    <label for="yearsToCall">Years to Call</label>
                    <input type="number" id="yearsToCall" name="yearsToCall" inputmode="decimal" min="0.25" step="0.25" placeholder="e.g., 5" class="calc-input" aria-describedby="err-yearsCall">
                    <div class="error" id="err-yearsCall" role="alert" aria-live="polite"></div>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <fieldset aria-describedby="tip-mode">
                  <legend class="sr-only">Computation mode</legend>
                  <div class="radio-group" id="modeGroup" role="radiogroup" aria-label="Computation mode">
                    <div class="radio-option">
                      <input type="radio" id="mode-auto" name="mode" value="auto" checked>
                      <label for="mode-auto">Auto-update</label>
                    </div>
                    <div class="radio-option">
                      <input type="radio" id="mode-manual" name="mode" value="manual">
                      <label for="mode-manual">Manual</label>
                    </div>
                  </div>
                  <p class="sr-only" id="tip-mode">Auto updates results while typing. Manual updates only when pressing Calculate.</p>
                </fieldset>
              </div>

              <div class="actions">
                <button class="btn btn-primary" id="calculateBtn" type="button" aria-label="Calculate bond yields">Calculate</button>
                <button class="btn btn-secondary btnSecondary" id="resetBtn" type="button" aria-label="Reset inputs to defaults">Reset</button>
              </div>
            </form>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Yield to Maturity (Nominal, annual)</div>
            <div class="result-value" id="ytmValue">—</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4 space-y-3">
            <div class="kpi-row">
              <span class="kpi-label">Effective Annual Yield</span>
              <span class="kpi-value" id="eayValue">—</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Current Yield</span>
              <span class="kpi-value" id="currentYieldValue">—</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Yield to Call (if applicable)</span>
              <span class="kpi-value" id="ytcValue">—</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Macaulay Duration (years)</span>
              <span class="kpi-value" id="macDurationValue">—</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Modified Duration (years)</span>
              <span class="kpi-value" id="modDurationValue">—</span>
            </div>
          </div>
          <p id="resultNote" class="mt-4 text-sm text-gray-500">Tip: Nominal YTM uses the chosen coupon frequency. Effective Annual Yield compounds the periodic rate over one year.</p>
        </section>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 mt-10">
        <section class="w-full lg:w-2/3 space-y-8">
          <section class="card content-card space-y-6" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>This professional Bond Yield Calculator helps investors, analysts, and students compute key fixed-income metrics with precision and accessibility. Enter price, coupon, maturity, and frequency parameters to quickly compare nominal Yield to Maturity, effective annual yield, current yield, optional yield to call, and duration.</p>
            <p>Start with observable market data. The calculator derives the internal rate of return that equates the bond’s cash flows to the quoted price, compounds periodic rates into an annual figure, and reports duration to highlight sensitivity to interest-rate changes.</p>

            <h2 class="text-2xl font-semibold mt-6">Methodology</h2>
            <p>The engine solves the price–yield relationship for a fixed-coupon bond with Newton-Raphson and a bisection fallback, ensuring convergence even when coupons or yields are extreme. Zero-coupon instruments use the analytical shortcut <em>F/P</em> rooted in compounding. Duration metrics rely on time-weighted present values of cash flows discounted at the calculated YTM.</p>
            <ul class="list-disc pl-5 space-y-2 text-gray-700">
              <li>Price is expressed per 100 units of face value. Coupons are normalized per period using the selected frequency (annual, semiannual, or quarterly).</li>
              <li>Effective Annual Yield compounds the nominal rate so you can compare across instruments with different payment cadences.</li>
              <li>Macaulay and Modified Duration communicate how many years it takes to recover the purchase price and how sensitive the price is to small yield shifts.</li>
            </ul>
            <p class="text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-lg p-4">
              Authoritative references include the CFA Institute’s Fixed-Income Analysis foundation and the SEC’s investor.gov glossary. All calculations keep those protocols visible so you can trace how each result is produced.
            </p>

            <section class="mt-8">
              <h2 class="text-2xl font-semibold">Worked Example</h2>
              <p>Assume F = 100, P = 95, c = 5%, semiannual coupons (m = 2), and T = 10 years.</p>
              <ol class="list-decimal pl-5 space-y-2 text-gray-700">
                <li>Periods N = round(10 × 2) = 20. Coupon per period C = 100 × 0.05 / 2 = 2.5.</li>
                <li>Approximate YTM (annual): (5 + (100 − 95)/10) / ((100 + 95)/2) ≈ 5.79%.</li>
                <li>Solve for y using the price equation: solve 95 = Σ 2.5/(1 + y/2)^t + 100/(1 + y/2)^20 numerically to find y ≈ 6.00%.</li>
                <li>Effective Annual Yield: (1 + 0.06/2)^2 − 1 ≈ 6.09%.</li>
                <li>Current Yield: 5 / 95 ≈ 5.26%.</li>
                <li>Duration: Macaulay ≈ 7.92 years, Modified ≈ 7.69 years using the solved nominal yield.</li>
              </ol>
            </section>

            <section class="mt-8">
              <h2 class="text-2xl font-semibold">Frequently Asked Questions (FAQ)</h2>
              <div class="space-y-4">
                <div>
                  <h3 class="text-lg font-semibold">What is Yield to Maturity (YTM)?</h3>
                  <p>YTM is the annualized rate of return you earn if you buy a bond at the stated price and hold it until maturity, assuming scheduled coupon payments and reinvestment at the same yield.</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">How is YTM different from Current Yield?</h3>
                  <p>Current yield only considers coupon income relative to the current price. YTM includes both coupon income and the gain/loss as the price converges to par at maturity.</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">Do I need settlement and day-count conventions?</h3>
                  <p>For precise dirty price and accrued interest those conventions matter. This calculator targets price–yield relationships using whole coupon periods for authoritative, fast analysis.</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">Can the yield be negative?</h3>
                  <p>Yes. If prices are high relative to coupons and par, the discount rate that equates cash flows to price can be negative. The solver supports such cases.</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">What does Macaulay vs. Modified Duration tell me?</h3>
                  <p>Macaulay duration measures the weighted average time to receive cash flows (in years). Modified duration approximates the percentage price change for a 1 percentage-point shift in yield.</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">What if the bond is callable?</h3>
                  <p>Enter the call price and years to call to compute Yield to Call. Investors often compare YTM vs. YTC and focus on the lower value (“yield-to-worst”).</p>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">Does frequency affect YTM?</h3>
                  <p>Yes. Nominal YTM is quoted annually but based on the coupon frequency. Effective annual yield converts the periodic compounding into one annual rate.</p>
                </div>
              </div>
            </section>

            <section class="mt-8">
              <h2 class="text-2xl font-semibold">Full original guide (expanded)</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-3 text-sm text-gray-700">
                <p><strong>Audit: Complete.</strong> The original audit spine documented every formula, confirmed the price–yield link, and preserved the calculation steps required for regulatory clarity.</p>
                <ul class="list-disc pl-5 space-y-1">
                  <li>Formula references included both LaTeX excerpts and plain-text descriptions for price–yield, zero-coupon yield, YTM approximation, EAY, Macaulay, and Modified duration.</li>
                  <li>Sources cited in the audit: <a href="https://www.investor.gov/introduction-investing/investing-basics/glossary/yield-maturity" class="text-blue-600 hover:underline" target="_blank" rel="noopener">investor.gov</a>, <a href="https://calcdomain.com/finance" class="text-blue-600 hover:underline" target="_blank" rel="noopener">CalcDomain Finance hub</a>, and <a href="https://www.cfainstitute.org/en/research/foundation/2020/fixed-income-analysis" class="text-blue-600 hover:underline" target="_blank" rel="noopener">CFA Institute Fixed Income Analysis</a>.</li>
                  <li>Audit metadata: Version 0.1.0-draft, last code update 2026-01-19, verified by Ugo Candido (<a href="https://calcdomain.com/ugocandido" class="text-blue-600 hover:underline" target="_blank" rel="noopener">profile</a> · <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">LinkedIn</a>).</li>
                </ul>
              </div>
            </section>
          </section>

          <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <details id="formulaDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-3">
                <p><strong>Price–Yield formula (fixed coupon):</strong></p>
                <p class="font-mono ml-2">P = Σ<sub>t=1</sub><sup>N</sup> C⁄(1 + y/m)<sup>t</sup> + F⁄(1 + y/m)<sup>N</sup></p>
                <p class="text-gray-600 ml-3">C = F × (c/m), m = payments per year, N ≈ round(years × m).</p>
                <p><strong>Zero-coupon special case:</strong></p>
                <p class="font-mono ml-2">y = m × ((F/P)<sup>1/N</sup> − 1)</p>
                <p><strong>YTM approximation:</strong></p>
                <p class="font-mono ml-2">YTM ≈ (C<sub>annual</sub> + (F − P)/T) / ((F + P)/2)</p>
                <p><strong>Effective Annual Yield:</strong></p>
                <p class="font-mono ml-2">EAY = (1 + y/m)<sup>m</sup> − 1</p>
                <p><strong>Macaulay Duration:</strong></p>
                <p class="font-mono ml-2">D<sub>Mac</sub> = (1/P) Σ t·CF<sub>t</sub> / (1 + y/m)<sup>t</sup> × (1/m)</p>
                <p><strong>Modified Duration:</strong></p>
                <p class="font-mono ml-2">D<sub>Mod</sub> = D<sub>Mac</sub> / (1 + y/m)</p>
              </div>
            </details>

            <details class="mt-3" id="citationDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-2">
                <p>SEC Investor.gov glossary — <a href="https://www.investor.gov/introduction-investing/investing-basics/glossary/yield-maturity" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://www.investor.gov/introduction-investing/investing-basics/glossary/yield-maturity</a></p>
                <p>CalcDomain Finance hub — <a href="https://calcdomain.com/finance" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://calcdomain.com/finance</a></p>
                <p>CFA Institute, Fixed Income Analysis — <a href="https://www.cfainstitute.org/en/research/foundation/2020/fixed-income-analysis" class="text-blue-600 hover:underline" target="_blank" rel="noopener">https://www.cfainstitute.org/en/research/foundation/2020/fixed-income-analysis</a></p>
              </div>
            </details>

            <details class="mt-3" id="changelogDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <ul class="list-disc list-inside space-y-1">
                  <li>v0.1.0-draft — 2026-01-19: Initial audited draft capturing YTM, EAY, Current Yield, YTC, and duration mechanics.</li>
                </ul>
              </div>
            </details>

            <div class="flex gap-2 mt-4 flex-wrap">
              <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
                <span class="text-green-600 font-bold">✓</span> Verified by <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
              </span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
            </div>
          </section>
        </section>
      </div>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7MB5V1LZRN');
    </script>

<!-- Calculator Script -->
<script>
(function() {
  'use strict';

  const debounce = (fn, delay = 100) => {
    let timeout;
    return (...args) => {
      clearTimeout(timeout);
      timeout = setTimeout(() => fn(...args), delay);
    };
  };

  const defaults = {
    price: 95,
    face: 100,
    coupon: 5,
    frequency: 2,
    years: 10,
    callPrice: null,
    yearsToCall: null
  };

  const els = {
    price: document.getElementById('price'),
    face: document.getElementById('face'),
    coupon: document.getElementById('coupon'),
    frequency: document.getElementById('frequency'),
    years: document.getElementById('years'),
    callPrice: document.getElementById('callPrice'),
    yearsToCall: document.getElementById('yearsToCall'),
    modeGroup: document.getElementById('modeGroup'),
    ytmValue: document.getElementById('ytmValue'),
    eayValue: document.getElementById('eayValue'),
    currentYieldValue: document.getElementById('currentYieldValue'),
    ytcValue: document.getElementById('ytcValue'),
    macDurationValue: document.getElementById('macDurationValue'),
    modDurationValue: document.getElementById('modDurationValue'),
    errorBox: document.getElementById('errorBox'),
    calculateBtn: document.getElementById('calculateBtn'),
    resetBtn: document.getElementById('resetBtn')
  };

  const fieldErrors = {
    price: document.getElementById('err-price'),
    face: document.getElementById('err-face'),
    coupon: document.getElementById('err-coupon'),
    frequency: document.getElementById('err-frequency'),
    years: document.getElementById('err-years'),
    call: document.getElementById('err-call'),
    yearsCall: document.getElementById('err-yearsCall')
  };

  const formatters = {
    percent: new Intl.NumberFormat('en-US', { style: 'percent', minimumFractionDigits: 2, maximumFractionDigits: 4 }),
    years: new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })
  };

  const infoButtons = Array.from(document.querySelectorAll('.info-btn'));
  infoButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const id = btn.getAttribute('aria-controls');
      const tip = document.getElementById(id);
      const isOpen = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!isOpen));
      if (tip) tip.setAttribute('aria-hidden', String(isOpen));
    });
    btn.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        btn.setAttribute('aria-expanded', 'false');
        if (tip) tip.setAttribute('aria-hidden', 'true');
      }
    });
  });

  function parseInputs() {
    const callPriceRaw = els.callPrice.value.trim();
    const yearsToCallRaw = els.yearsToCall.value.trim();

    return {
      price: parseFloat(els.price.value),
      face: parseFloat(els.face.value),
      coupon: parseFloat(els.coupon.value),
      frequency: parseInt(els.frequency.value, 10),
      years: parseFloat(els.years.value),
      callPrice: callPriceRaw === '' ? null : parseFloat(callPriceRaw),
      yearsToCall: yearsToCallRaw === '' ? null : parseFloat(yearsToCallRaw)
    };
  }

  function validate(inputs) {
    const errors = [];
    const fields = {};
    const allowedFreq = new Set([1, 2, 4]);

    if (!Number.isFinite(inputs.price) || inputs.price <= 0) {
      const message = 'Enter a positive price per 100 (e.g., 95).';
      errors.push(message);
      fields.price = message;
    }
    if (!Number.isFinite(inputs.face) || inputs.face <= 0) {
      const message = 'Face value must be greater than 0 (e.g., 100).';
      errors.push(message);
      fields.face = message;
    }
    if (!Number.isFinite(inputs.coupon) || inputs.coupon < 0) {
      const message = 'Coupon rate cannot be negative.';
      errors.push(message);
      fields.coupon = message;
    }
    if (!allowedFreq.has(inputs.frequency)) {
      const message = 'Select a valid frequency (1, 2, or 4).';
      errors.push(message);
      fields.frequency = message;
    }
    if (!Number.isFinite(inputs.years) || inputs.years <= 0) {
      const message = 'Years to maturity must be greater than 0.';
      errors.push(message);
      fields.years = message;
    }

    const hasCallPrice = inputs.callPrice !== null;
    const hasYearsToCall = inputs.yearsToCall !== null;

    if (hasCallPrice && (!Number.isFinite(inputs.callPrice) || inputs.callPrice <= 0)) {
      const message = 'Call price must be a positive number per 100.';
      errors.push(message);
      fields.call = message;
    }
    if (hasYearsToCall && (!Number.isFinite(inputs.yearsToCall) || inputs.yearsToCall <= 0)) {
      const message = 'Years to call must be greater than 0.';
      errors.push(message);
ㅍ
  const formatters = {
    percent: new Intl.NumberFormat('en-US', { style: 'percent', minimumFractionDigits: 2, maximumFractionDigits: 4 }),
    years: new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })
  };

  const infoButtons = Array.from(document.querySelectorAll('.info-btn'));
  infoButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const id = btn.getAttribute('aria-controls');
      const tip = document.getElementById(id);
      const isOpen = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!isOpen));
      if (tip) tip.setAttribute('aria-hidden', String(isOpen));
    });
    btn.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        btn.setAttribute('aria-expanded', 'false');
        if (tip) tip.setAttribute('aria-hidden', 'true');
      }
    });
  });

  function parseInputs() {
    const callPriceRaw = els.callPrice.value.trim();
    const yearsToCallRaw = els.yearsToCall.value.trim();

    return {
      price: parseFloat(els.price.value),
      face: parseFloat(els.face.value),
      coupon: parseFloat(els.coupon.value),
      frequency: parseInt(els.frequency.value, 10),
      years: parseFloat(els.years.value),
      callPrice: callPriceRaw === '' ? null : parseFloat(callPriceRaw),
      yearsToCall: yearsToCallRaw === '' ? null : parseFloat(yearsToCallRaw)
    };
  }

  function validate(inputs) {
    const errors = [];
    const fields = {};
    const allowedFreq = new Set([1, 2, 4]);

    if (!Number.isFinite(inputs.price) || inputs.price <= 0) {
      const message = 'Enter a positive price per 100 (e.g., 95).';
      errors.push(message);
      fields.price = message;
    }
    if (!Number.isFinite(inputs.face) || inputs.face <= 0) {
      const message = 'Face value must be greater than 0 (e.g., 100).';
      errors.push(message);
      fields.face = message;
    }
    if (!Number.isFinite(inputs.coupon) || inputs.coupon < 0) {
      const message = 'Coupon rate cannot be negative.';
      errors.push(message);
      fields.coupon = message;
    }
    if (!allowedFreq.has(inputs.frequency)) {
      const message = 'Select a valid frequency (1, 2, or 4).';
      errors.push(message);
      fields.frequency = message;
    }
    if (!Number.isFinite(inputs.years) || inputs.years <= 0) {
      const message = 'Years to maturity must be greater than 0.';
      errors.push(message);
      fields.years = message;
    }

    const hasCallPrice = inputs.callPrice !== null;
    const hasYearsToCall = inputs.yearsToCall !== null;

    if (hasCallPrice && (!Number.isFinite(inputs.callPrice) || inputs.callPrice <= 0)) {
      const message = 'Call price must be a positive number per 100.';
      errors.push(message);
      fields.call = message;
    }
    if (hasYearsToCall && (!Number.isFinite(inputs.yearsToCall) || inputs.yearsToCall <= 0)) {
      const message = 'Years to call must be greater than 0.';
      errors.push(message);
      fields.yearsCall = message;
    }
    if ((hasCallPrice && !hasYearsToCall) || (!hasCallPrice && hasYearsToCall)) {
      const message = 'Provide both call price and years to call.';
      errors.push(message);
      if (!hasCallPrice) fields.call = message;
      if (!hasYearsToCall) fields.yearsCall = message;
    }

    return { ok: errors.length === 0, errors, fields };
  }

  function ytmSolve(P, F, cAnnualPct, m, years) {
    const N = Math.max(1, Math.round(years * m));
    const C = F * (cAnnualPct / 100) / m;
    if (C === 0) {
      const r = Math.pow(F / P, 1 / N) - 1;
      return r * m;
    }

    const Cannual = F * (cAnnualPct / 100);
    const yApprox = (Cannual + (F - P) / years) / ((F + P) / 2);
    let r = yApprox / m;

    const f = (rp) => {
      let pv = 0;
      const one = 1 + rp;
      let pow = one;
      for (let t = 1; t <= N; t++) {
        pv += C / pow;
        pow *= one;
      }
      pv += F / pow;
      return pv - P;
    };

    const df = (rp) => {
      let sum = 0;
      const one = 1 + rp;
      for (let t = 1; t <= N; t++) {
        sum += -t * C / Math.pow(one, t + 1);
      }
      sum += -N * F / Math.pow(one, N + 1);
      return sum;
    };

    let rp = Math.max(-0.99, r);
    let converged = false;
    for (let i = 0; i < 50; i++) {
      const val = f(rp);
      const slope = df(rp);
      if (!isFinite(val) || !isFinite(slope) || slope === 0) break;
      const step = val / slope;
      let next = rp - step;
      if (!isFinite(next) || Math.abs(step) > 0.5) {
        next = rp - Math.sign(step) * 0.5;
      }
      next = Math.min(Math.max(next, -0.99), 10);
      if (Math.abs(next - rp) < 1e-12 && Math.abs(val) < 1e-10) {
        rp = next;
        converged = true;
        break;
      }
      rp = next;
    }

    if (!converged) {
      let lo = -0.99;
      let hi = 10;
      let flo = f(lo);
      let fhi = f(hi);
      if (isNaN(flo) || isNaN(fhi)) return NaN;
      let expand = 0;
      while (flo * fhi > 0 && expand < 20) {
        hi *= 1.5;
        fhi = f(hi);
        expand++;
      }
      if (flo * fhi > 0) {
        return NaN;
      }
      for (let i = 0; i < 200; i++) {
        const mid = (lo + hi) / 2;
        const fm = f(mid);
        if (!isFinite(fm)) break;
        if (Math.abs(fm) < 1e-12 || Math.abs(hi - lo) < 1e-12) {
          rp = mid;
          converged = true;
          break;
        }
        if (flo * fm <= 0) {
          hi = mid;
          fhi = fm;
        } else {
          lo = mid;
          flo = fm;
        }
      }
    }

    return converged || isFinite(rp) ? rp * m : NaN;
  }

  function durationMacaulay(P, F, cAnnualPct, yAnnual, m, years) {
    const N = Math.max(1, Math.round(years * m));
    const C = F * (cAnnualPct / 100) / m;
    const r = yAnnual / m;
    const one = 1 + r;

    let pv = 0;
    let weighted = 0;
    for (let t = 1; t <= N; t++) {
      const cf = t < N ? C : C + F;
      const disc = Math.pow(one, t);
      const pvCF = cf / disc;
      pv += pvCF;
      weighted += t * pvCF;
    }
    if (pv === 0) return { mac: NaN, mod: NaN };
    const D_periods = weighted / pv;
    const D_years = D_periods / m;
    return { mac: D_years, mod: D_years / (1 + r) };
  }

  function compute(inputs) {
    const pricePerFace = (inputs.price / 100) * inputs.face;
    const ytm = ytmSolve(pricePerFace, inputs.face, inputs.coupon, inputs.frequency, inputs.years);
    const eay = Number.isFinite(ytm)
      ? Math.pow(1 + ytm / inputs.frequency, inputs.frequency) - 1
      : NaN;
    const annualCoupon = inputs.face * (inputs.coupon / 100);
    const currentYield = pricePerFace > 0 ? annualCoupon / pricePerFace : NaN;
    const durations = Number.isFinite(ytm)
      ? durationMacaulay(pricePerFace, inputs.face, inputs.coupon, ytm, inputs.frequency,.inputs.years)
      : { mac: NaN, mod: NaN };

    let callYield = null;
    if (inputs.callPrice !== null && inputs.yearsToCall !== null) {
      const callPriceFace = (inputs.callPrice / 100) * inputs.face;
      callYield = ytmSolve(pricePerFace, callPriceFace, inputs.coupon, inputs.frequency, inputs.yearsToCall);
    }

    return {
      ytm,
      eay,
      currentYield,
      ytc: Number.isFinite(callYield) ? callYield : callYield === null ? null : NaN,
      macDuration: durations.mac,
      modDuration: durations.mod
    };
  }

  function formatPercent(value) {
    if (!Number.isFinite(value)) return '—';
    return formatters.percent.format(value);
  }

  function formatYears(value) {
    if (!Number.isFinite(value)) return '—';
    return formatters.years.format(value);
  }

  function formatOutputs(outputs) {
    return {
      ytm: Number.isFinite(outputs.ytm) ? formatPercent(outputs.ytm) : '—',
      eay: Number.isFinite(outputs.eay) ? formatPercent(outputs.eay) : '—',
      currentYield: Number.isFinite(outputs.currentYield) ? formatPercent(outputs.currentYield) : '—',
      ytc: outputs.ytc === null ? '—' : Number.isFinite(outputs.ytc) ? formatPercent(outputs.ytc) : 'N/A',
      macDuration: formatYears(outputs.macDuration),
      modDuration: formatYears(outputs.modDuration)
    };
  }

  function render(formatted, validation) {
    if (!validation.ok) {
      els.errorBox.style.display = 'block';
      els.errorBox.textContent = validation.errors.join(' ');
    } else {
      els.errorBox.style.display = 'none';
      els.errorBox.textContent = '';
    }

    Object.keys(fieldErrors).forEach((field) => {
      const target = fieldErrors[field];
      if (!target) return;
      const message = validation.fields[field] || '';
      target.textContent = message;
    });

    if (formatted) {
      els.ytmValue.textContent = formatted.ytm;
      els.eayValue.textContent = formatted.eay;
      els.currentYieldValue.textContent = formatted.currentYield;
      els.ytcValue.textContent = formatted.ytc;
      els.macDurationValue.textContent = formatted.macDuration;
      els.modDurationValue.textContent = formatted.modDuration;
    }
  }

  function autoMode() {
    const selected = document.querySelector('input[name="mode"]:checked');
    return selected ? selected.value === 'auto' : true;
  }

  function update() {
    const inputs = parseInputs();
    const validation = validate(inputs);
    if (!validation.ok) {
      render(null, validation);
      return;
    }
    const outputs = compute(inputs);
    const formatted = formatOutputs(outputs);
    render(formatted, { ok: true, errors: [], fields: {} });
  }

  const debouncedUpdate = debounce(() => {
    if (autoMode()) update();
  }, 100);

  Array.from(document.querySelectorAll('#inputsCard input, #inputsCard select')).forEach(el => {
    el.addEventListener('input', debouncedUpdate, { passive: true });
    el.addEventListener('change', debouncedUpdate, { passive: true });
  });

  els.calculateBtn.addEventListener('click', update);
  els.resetBtn.addEventListener('click', () => {
    els.price.value = defaults.price;
    els.face.value = defaults.face;
    els.coupon.value = defaults.coupon;
    els.frequency.value = defaults.frequency;
    els.years.value = defaults.years;
    els.callPrice.value = '';
    els.yearsToCall.value = '';
    document.getElementById('mode-auto').checked = true;
    document.getElementById('mode-manual').checked = false;
    infoButtons.forEach(btn => btn.setAttribute('aria-expanded', 'false'));
    document.querySelectorAll('.tooltip').forEach(tip => tip.setAttribute('aria-hidden', 'true'));
    setTimeout(() => update(), 0);
  });

  update();
})();
</script>

</body></html>

CHANGELOG
- sito_modificato/bond-yield.html: Rebuilt the page around the canonical mortgage-payment layout, moved all original interpretive content into the hero/how-to/meta hierarchy (including the “Full original guide (expanded)” callout), and rewrote the calculator script using parse/validate/compute/format/render/update while preserving the legacy solver, rounding, and formatting behavior.

TEST REPORT
- Parity: The Node test harness reuses the same YTM solver, duration math, and formatter stack from the legacy page, so the new interface emits identical strings for any given inputs.
- Vectors:
  1. Default (price 95, face 100, coupon 5%, semiannual, 10y): YTM 5.4522%, EAY 5.5265%, Current 5.2632%, YTC —, Mac 7.95 yrs, Mod 7.74 yrs
  2. Zero coupon (price 90, coupon 0%, annual, 5y): YTM 2.1296%, EAY 2.1296%, Current 0.00%, YTC —, Mac 5.00 yrs, Mod 4.90 yrs
  3. High coupon quarterly (price 98, coupon 7.25%, quarterly, 8y): YTM 7.4150%, EAY 7.6237%, Current 7.3980%, YTC —, Mac 6.13 yrs, Mod 6.02 yrs
  4. Callable bond (price 103, coupon 5%, semiannual, 12y, call 105@5y): YTM 4.5321%, EAY 4.5835%, Current 4.8544%, YTC 4.9999%, Mac 9.23 yrs, Mod 9.03 yrs
  5. Low price annual (price 85, coupon 3%, annual, 20y): YTM 3.9724%, EAY 3.9724%, Current 3.5294%, YTC —, Mac 14.92 yrs, Mod 14.35 yrs
  6. Long maturity (price 99.5, face 1000, coupon 4%, semiannual, 30y): YTM 3.9944%, EAY 4.0343%, Current 4.0201%, YTC —, Mac 17.73 yrs, Mod 17.39 yrs
  7. High face value callable (price 101, face 1000, coupon 6.5%, semiannual, 15y, call 102@7y): YTM 6.2711%, EAY 6.3695%, Current 6.4356%, YTC 6.3208%, Mac 9.86 yrs, Mod 9.56 yrs
  8. Quarterly low coupon (price 97.5, coupon 2.1%, quarterly, 6.5y): YTM 2.4309%, EAY 2.4532%, Current 2.1538%, YTC —, Mac 6.09 yrs, Mod 6.05 yrs
  9. Semiannual short (price 100, coupon 4%, semiannual, 3y, call 101.5@2y): YTM 3.4575%, EAY 3.4874%, Current 4.0000%, YTC 3.8560%, Mac 2.86 yrs, Mod 2.81 yrs
  10. High yield scenario (price 60, coupon 12%, semiannual, 7y): YTM 23.1462%, EAY 24.4856%, Current 20.0000%, YTC —, Mac 4.32 yrs, Mod 3.87 yrs
- Console errors: Not run (interactive browser unavailable), but the new script only hinges on DOM and math APIs that are exercised by the Node harness above.