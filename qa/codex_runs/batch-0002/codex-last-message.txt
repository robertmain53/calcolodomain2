<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>homebrew abv calculator | Precise, Accessible, Mobile-First Tool</title>
  <meta name="description" content="Homebrew ABV calculator: compute Alcohol by Volume (ABV) and Alcohol by Weight (ABW) from Original Gravity (OG) and Final Gravity (FG). Includes advanced Terrill method, hydrometer temperature correction, and Plato conversions." />
  <meta name="author" content="Ugo Candido" />
  <meta name="theme-color" content="#0b3d63" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://calcdomain.com/abv" />

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <script>
    (function() {

      'use strict';

    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
      svg: { fontCache: 'global' }
    };
  

    })();</script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "homebrew abv calculator",
    "description": "Compute Alcohol by Volume (ABV) and Alcohol by Weight (ABW) from Original Gravity (OG) and Final Gravity (FG). Includes advanced Terrill method, hydrometer temperature correction, and Plato conversions.",
    "url": "https://calcdomain.com/abv",
    "inLanguage": "en",
    "mainEntity": [
      {
        "@type": "HowTo",
        "name": "How It Works: A Step-by-Step Example",
        "description": "Use OG and FG to calculate ABV with the Standard or Advanced (Terrill) method, with optional hydrometer temperature correction.",
        "step": [
          { "@type": "HowToStep", "name": "Enter Original Gravity (OG)", "text": "Input OG, e.g., 1.050 as measured with a hydrometer." },
          { "@type": "HowToStep", "name": "Enter Final Gravity (FG)", "text": "Input FG, e.g., 1.012 after fermentation completes." },
          { "@type": "HowToStep", "name": "Choose formula", "text": "Select Standard (131.25 factor) or Advanced (Terrill) for higher accuracy." },
          { "@type": "HowToStep", "name": "Optional: apply temperature correction", "text": "Enable correction and set sample and calibration temperatures if your hydrometer reading was taken far from its calibration temperature." },
          { "@type": "HowToStep", "name": "Read results", "text": "The tool displays ABV, ABW, Original/Final Extract in °P, Apparent Attenuation, and Real Extract." }
        ]
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Which ABV formula should I use?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Use the Advanced (Terrill) method for most homebrew scenarios as it compensates for non-linearity at higher gravities. The Standard method is simpler and close enough for low to moderate OG beers."
            }
          },
          {
            "@type": "Question",
            "name": "Do I need hydrometer temperature correction?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Correct if your sample temperature differs from the hydrometer calibration temperature (often 20°C or 60°F). Significant differences can bias OG/FG and final ABV."
            }
          }
        ]
      }
    ]
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com" },
      { "@type": "ListItem", "position": 2, "name": "General", "item": "https://calcdomain.com/categories/general" },
      { "@type": "ListItem", "position": 3, "name": "Miscellaneous", "item": "https://calcdomain.com/subcategories/miscellaneous" }
    ]
  }
  </script>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e5e7eb;
      --primary:#2563eb;
      --primary2:#1d4ed8;
      --shadow:0 10px 25px rgba(2,6,23,.08);
      --radius:14px;
      --sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"Apple Color Emoji","Segoe UI Emoji";

      --surface-subtle:#f8fafc;
      --danger:#b91c1c;
      --dangerBg:#fef2f2;
      --ok:#15803d;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:var(--bg);
      line-height:1.5;
    }
    a{ color:var(--primary); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .container{ max-width:1120px; margin:0 auto; padding:18px; }

    header{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.92);
      backdrop-filter:blur(8px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      padding:12px 18px;
    }
    .brand{ font-weight:800; letter-spacing:.2px; font-size:20px; color:var(--text); }
    .navRight{ display:flex; gap:14px; align-items:center; color:var(--muted); font-size:14px; }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line); background:#fff;
      padding:8px 10px; border-radius:999px; font-size:13px;
    }

    .calc-hero{
      display:grid;
      grid-template-columns:1.2fr 1fr;
      gap:24px;
      margin-top:24px;
      align-items:start;
    }
    @media (max-width:800px){ .calc-hero{ grid-template-columns:1fr; } }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
    }

    h1{ margin:0 0 8px; font-size:28px; line-height:1.2; }
    .sub{ margin:0 0 20px; color:var(--muted); font-size:15px; }

    .sectionTitle{
      font-weight:800; margin:0 0 12px;
      font-size:15px; text-transform:uppercase; letter-spacing:.5px; color:var(--muted);
    }

    .grid2{ display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px; }
    @media (max-width:500px){ .grid2{ grid-template-columns:1fr; } }

    label{ display:block; font-size:13px; font-weight:600; color:var(--muted); margin:0 0 6px; }
    input, select{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:10px;
      background:#fff;
      font-size:15px;
      outline:none;
      transition:border-color .2s;
    }
    input:focus, select:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 3px rgba(37,99,235,0.15);
    }

    .optional-box{
      background:var(--surface-subtle);
      border:1px solid var(--line);
      border-radius:10px;
      padding:16px;
      margin-bottom:16px;
    }

    details.settings summary{
      cursor:pointer;
      color:var(--primary);
      font-size:14px;
      font-weight:600;
      padding:6px 0;
    }
    details.settings summary:hover{ text-decoration:underline; }

    .sticky-box{ position:sticky; top:90px; }

    .totalBox{
      text-align:center;
      padding-bottom:20px;
      border-bottom:1px solid var(--line);
      margin-bottom:16px;
    }
    .totalBox .t{ color:var(--muted); font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:.5px; }
    .totalBox .v{ font-size:42px; font-weight:900; margin-top:4px; color:var(--text); }

    .kpi{ display:flex; justify-content:space-between; margin-bottom:10px; font-size:14px; }
    .kpi span:first-child{ color:var(--muted); }
    .kpi span:last-child{ font-weight:700; color:var(--text); }

    .btn{
      display:block; width:100%;
      border:none; background:var(--primary); color:#fff;
      padding:12px; border-radius:10px;
      cursor:pointer; font-weight:700; font-size:15px;
      text-align:center; margin-top:10px;
    }
    .btn:hover{ background:var(--primary2); text-decoration:none; }
    .btnSecondary{ background:#fff; border:1px solid var(--line); color:var(--text); }
    .btnSecondary:hover{ background:#f8fafc; }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    .tableWrap{
      overflow-x:auto;
      margin-top:18px;
      display:none;
      border:1px solid var(--line);
      border-radius:12px;
    }
    table{ width:100%; border-collapse:collapse; background:#fff; font-size:14px; }
    th, td{ padding:12px; border-bottom:1px solid var(--line); text-align:left; white-space:nowrap; }
    th{ background:#f1f5f9; font-weight:700; color:var(--muted); font-size:12px; text-transform:uppercase; }
    tr:nth-child(even) td{ background:#fafafa; }

    .alert{
      display:none;
      padding:12px;
      margin-bottom:20px;
      background:var(--dangerBg);
      border-left:4px solid var(--danger);
      color:#7f1d1d;
      border-radius:6px;
      font-size:14px;
    }

    .method-fields{ margin-bottom:16px; }
    .radio-row{ display:flex; flex-wrap:wrap; gap:10px; margin-bottom:16px; }
    .radio-row label{ display:flex; align-items:center; gap:6px; font-weight:600; color:var(--text); }
    .inline-tip{ font-size:12px; color:var(--muted); margin-top:4px; }

    .content-card{ margin-top:24px; }
    .content-card h2{ margin:0 0 10px; font-size:18px; }
    .content-card p{ margin:0 0 10px; color:var(--text); }
    .content-card ul{ margin:8px 0 0; padding-left:18px; }
    .content-card ol{ margin:8px 0 0; padding-left:18px; }

    .meta-section{
      margin-top:40px;
      padding-top:20px;
      border-top:1px solid var(--line);
      font-size:13px;
      color:var(--muted);
    }
    .badge-row{ display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    .badge{
      display:inline-flex; align-items:center; gap:6px;
      border:1px solid var(--line); padding:4px 10px;
      border-radius:20px; background:#fff;
    }

    .bg-gray-900{ background-color:#0f172a; }
    .text-white{ color:#ffffff; }
    .text-gray-400{ color:#94a3b8; }
    .hover\:text-white:hover{ color:#ffffff; }
    .py-12{ padding-top:3rem; padding-bottom:3rem; }
    .px-4{ padding-left:1rem; padding-right:1rem; }
    .grid{ display:grid; }
    .gap-8{ gap:2rem; }
    .mb-4{ margin-bottom:1rem; }
    .mt-8{ margin-top:2rem; }
    .pt-8{ padding-top:2rem; }
    .border-t{ border-top-width:1px; }
    .border-gray-800{ border-color:#1e293b; }
    .text-center{ text-align:center; }
    .font-bold{ font-weight:700; }
    .font-semibold{ font-weight:600; }
    .text-2xl{ font-size:1.5rem; }
    .text-lg{ font-size:1.125rem; }
    .space-y-2 > * + *{ margin-top:.5rem; }
    .mx-auto{ margin-left:auto; margin-right:auto; }

    @media (min-width:768px){
      .md\:grid-cols-4{ grid-template-columns:repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>

<body>
  <header id="siteHeader">
    <div class="nav container">
      <a class="brand" href="https://calcdomain.com">CalcDomain</a>
      <div class="navRight">
        <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
        <span class="pill">Categories</span>
      </div>
    </div>
  </header>

  <div class="container">
    <main style="margin:24px 0 40px;" id="mainContent">
      <h1 id="pageTitle">homebrew abv calculator</h1>
      <p class="sub" id="pageSub">
        A precise, accessibility-first tool for homebrewers to compute Alcohol by Volume (ABV) and related metrics.
      </p>

      <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>

      <div class="calc-hero" id="calcHero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="sectionTitle">Gravity Inputs</div>

          <div class="grid2">
            <div>
              <label for="og">Original Gravity (OG)</label>
              <input id="og" type="number" value="1.050" step="0.001" min="0.98" max="1.2" inputmode="decimal" />
              <div class="inline-tip">Typical range: 1.030–1.120.</div>
            </div>
            <div>
              <label for="fg">Final Gravity (FG)</label>
              <input id="fg" type="number" value="1.010" step="0.001" min="0.98" max="1.2" inputmode="decimal" />
              <div class="inline-tip">Must be less than OG for a normal fermentation.</div>
            </div>
          </div>

          <div class="optional-box">
            <div class="sectionTitle" style="font-size:12px; margin-bottom:8px;">Formula</div>
            <div class="grid2" style="margin-bottom:0;">
              <label style="display:flex; align-items:center; gap:8px; font-weight:700; color:var(--text);">
                <input type="radio" name="method" value="standard" checked />
                Standard (131.25)
              </label>
              <label style="display:flex; align-items:center; gap:8px; font-weight:700; color:var(--text);">
                <input type="radio" name="method" value="advanced" />
                Advanced (Terrill)
              </label>
            </div>
            <div class="inline-tip">Advanced method is recommended for higher gravities.</div>
          </div>

          <details class="settings" id="tempSettings">
            <summary>Hydrometer Temperature Correction</summary>
            <div style="margin-top:12px;" class="grid2">
              <div>
                <label>
                  <input type="checkbox" id="tempToggle" /> Apply correction
                </label>
                <div class="inline-tip">Enable if measurements were taken away from hydrometer calibration temperature.</div>
              </div>
              <div></div>
            </div>
            <div id="tempBlock" class="grid2" style="margin-top:12px; display:none;">
              <div>
                <label for="sampleTemp">Sample temperature</label>
                <input id="sampleTemp" type="number" value="20" step="0.1" min="0" max="100" inputmode="decimal" />
                <select id="sampleTempUnit" style="margin-top:8px;">
                  <option value="C" selected>°C</option>
                  <option value="F">°F</option>
                </select>
              </div>
              <div>
                <label for="calTemp">Calibration temperature</label>
                <input id="calTemp" type="number" value="20" step="0.1" min="0" max="100" inputmode="decimal" />
                <select id="calTempUnit" style="margin-top:8px;">
                  <option value="C" selected>°C</option>
                  <option value="F">°F</option>
                </select>
              </div>
            </div>
          </details>

          <div style="display:flex; gap:12px; margin-top:24px;">
            <button class="btn" id="calcBtn" type="button">Calculate</button>
            <button class="btn btnSecondary" id="resetBtn" type="button">Reset</button>
          </div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="totalBox">
            <div class="t" id="totalLabel">ABV</div>
            <div class="v" id="abv">—</div>
          </div>

          <div class="kpi">
            <span>ABW</span>
            <span id="abw">—</span>
          </div>
          <div class="kpi">
            <span>Original Extract (°P)</span>
            <span id="ogp">—</span>
          </div>
          <div class="kpi">
            <span>Final Extract (°P)</span>
            <span id="fgp">—</span>
          </div>
          <div class="kpi">
            <span>Real Extract (°P)</span>
            <span id="re">—</span>
          </div>
          <div class="kpi">
            <span>Apparent Attenuation</span>
            <span id="aa">—</span>
          </div>
        </section>
      </div>

      <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
        <h2>How to use</h2>
        <p>
          Enter Original Gravity (OG) and Final Gravity (FG), choose the calculation method, and optionally enable temperature correction if your measurements were taken away from hydrometer calibration temperature.
        </p>
        <h2>Methodology</h2>
        <p>
          The calculator derives ABV and ABW from OG and FG. It converts specific gravity to Plato using the ASBC cubic relationship, then computes Real Extract and Apparent Attenuation using standard brewing equations.
        </p>
        <h2>Full original guide (expanded)</h2>
        <p>
          This tool provides Standard and Advanced (Terrill) ABV calculations, hydrometer temperature correction, and Plato-based analytics used in professional brewing. It supports OG/FG validation, optional correction for sample and calibration temperatures, and outputs ABV, ABW, Original Extract, Final Extract, Real Extract, and Apparent Attenuation.
        </p>
        <h3>Temperature correction notes</h3>
        <ul>
          <li>Correction is recommended when the sample temperature differs from hydrometer calibration temperature.</li>
          <li>Valid range: 0–100 °C (32–212 °F).</li>
        </ul>
        <h3>FAQ highlights</h3>
        <ul>
          <li>Advanced (Terrill) is recommended for higher gravities.</li>
          <li>ABW is derived from ABV and the beer’s density.</li>
          <li>Plato values enable professional extract and attenuation calculations.</li>
        </ul>
      </section>

      <section class="meta-section" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
        <details id="formulaDetails">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Formulas</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <p><strong>ABV (Standard):</strong></p>
            \[ ABV_{\%} = (OG - FG) \times 131.25 \]
            <p><strong>ABV (Advanced/Terrill):</strong></p>
            \[ ABV_{\%} = \frac{76.08 \times (OG - FG)}{1.775 - OG} \times \frac{FG}{0.794} \]
            <p><strong>Plato from Specific Gravity:</strong></p>
            \[ P = -616.868 + 1111.14\,SG - 630.272\,SG^{2} + 135.997\,SG^{3} \]
            <p><strong>Real Extract:</strong></p>
            \[ RE = 0.1808 \times P_{OG} + 0.8192 \times P_{FG} \]
            <p><strong>Apparent Attenuation:</strong></p>
            \[ AA_{\%} = \frac{P_{OG} - P_{FG}}{P_{OG}} \times 100 \]
            <p><strong>Alcohol by Weight:</strong></p>
            \[ ABW_{\%} = \frac{0.79336 \times ABV_{\%}}{FG} \]
            <p><strong>Hydrometer Correction:</strong></p>
            \[ SG_{corr} = SG_{obs} \times \frac{CF(T_{sample})}{CF(T_{cal})} \]
            \[ CF(T) = 1.00130346 - 1.34722124\times10^{-4}T + 2.04052596\times10^{-6}T^{2} - 2.32820948\times10^{-9}T^{3} \]
          </div>
        </details>

        <details id="citationDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Citations</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <p style="margin:0;">Everyday Life — calcdomain.com: https://calcdomain.com/lifestyle-everyday</p>
            <p style="margin:0;">Hobbies — calcdomain.com: https://calcdomain.com/subcategories/hobbies</p>
            <p style="margin:0;">asbcnet.org — Methods of Analysis: https://www.asbcnet.org/exams-resources/Resources/Pages/Methods.aspx</p>
          </div>
        </details>

        <details id="changelogDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Changelog</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <ul style="padding-left:18px; margin:0;">
              <li>0.1.0-draft — 2026-01-19: Initial audit spec draft generated from HTML extraction (review required). Verify formulas match the calculator engine and convert any text-only formulas to LaTeX. Confirm sources are authoritative and relevant to the calculator methodology.</li>
            </ul>
          </div>
        </details>

        <div class="badge-row" id="badgeRow">
          <div class="badge" id="verifiedBadge">
            <span style="color:var(--ok); font-weight:800;">✓</span> Verified by Ugo Candido
          </div>
          <div class="badge" id="lastUpdatedBadge">Last Updated: 2026-01-19</div>
          <div class="badge" id="versionBadge">Version 0.1.0-draft</div>
        </div>
      </section>
    </main>
  </div>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>

  <script>
    (function() {

      'use strict';

      const debounce = (fn, delay = 100) => {
        let timer;
        return (...args) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn(...args), delay);
        };
      };

      const round = (value, digits) => {
        if (!Number.isFinite(value)) return NaN;
        const factor = Math.pow(10, digits);
        return Math.round((value + Number.EPSILON) * factor) / factor;
      };

      const toCelsius = (val, unit) => {
        if (!Number.isFinite(val)) return NaN;
        return unit === 'F' ? (val - 32) * 5 / 9 : val;
      };

      const cfPoly = (tC) => 1.00130346 - 0.000134722124 * tC + 0.00000204052596 * tC * tC - 0.00000000232820948 * tC * tC * tC;

      const correctedSG = (sg, sampleTemp, sampleUnit, calTemp, calUnit) => {
        const ts = toCelsius(sampleTemp, sampleUnit);
        const tc = toCelsius(calTemp, calUnit);
        if (!Number.isFinite(ts) || !Number.isFinite(tc)) return sg;
        const cf = cfPoly(ts) / cfPoly(tc);
        return sg * cf;
      };

      const sgToPlato = (sg) => -616.868 + 1111.14 * sg - 630.272 * sg * sg + 135.997 * sg * sg * sg;

      const defaults = {
        og: '1.050',
        fg: '1.010',
        method: 'standard',
        sampleTemp: '20',
        calTemp: '20',
        sampleTempUnit: 'C',
        calTempUnit: 'C'
      };

      const els = {
        og: document.getElementById('og'),
        fg: document.getElementById('fg'),
        methodRadios: [...document.querySelectorAll('input[name="method"]')],
        tempToggle: document.getElementById('tempToggle'),
        tempBlock: document.getElementById('tempBlock'),
        sampleTemp: document.getElementById('sampleTemp'),
        sampleTempUnit: document.getElementById('sampleTempUnit'),
        calTemp: document.getElementById('calTemp'),
        calTempUnit: document.getElementById('calTempUnit'),
        abv: document.getElementById('abv'),
        abw: document.getElementById('abw'),
        ogp: document.getElementById('ogp'),
        fgp: document.getElementById('fgp'),
        re: document.getElementById('re'),
        aa: document.getElementById('aa'),
        errorBox: document.getElementById('errorBox'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn')
      };

      function parseInputs() {
        const selectedMethod = els.methodRadios.find((radio) => radio.checked)?.value || defaults.method;
        return {
          og: parseFloat(els.og.value),
          fg: parseFloat(els.fg.value),
          method: selectedMethod,
          tempOn: els.tempToggle.checked,
          sampleTemp: parseFloat(els.sampleTemp.value),
          sampleTempUnit: els.sampleTempUnit.value,
          calTemp: parseFloat(els.calTemp.value),
          calTempUnit: els.calTempUnit.value
        };
      }

      function validate(inputs) {
        const errors = [];
        if (!Number.isFinite(inputs.og)) errors.push('Enter a numeric OG value.');
        if (!Number.isFinite(inputs.fg)) errors.push('Enter a numeric FG value.');
        if (Number.isFinite(inputs.og) && (inputs.og < 0.98 || inputs.og > 1.2)) {
          errors.push('OG must be between 0.980 and 1.200.');
        }
        if (Number.isFinite(inputs.fg) && (inputs.fg < 0.98 || inputs.fg > 1.2)) {
          errors.push('FG must be between 0.980 and 1.200.');
        }
        if (Number.isFinite(inputs.og) && Number.isFinite(inputs.fg) && inputs.fg >= inputs.og) {
          errors.push('FG must be less than OG for a typical fermentation.');
        }
        if (inputs.tempOn) {
          if (!Number.isFinite(inputs.sampleTemp) || !Number.isFinite(inputs.calTemp)) {
            errors.push('Enter both sample and calibration temperatures.');
          } else if (
            inputs.sampleTemp < 0 ||
            inputs.sampleTemp > 100 ||
            inputs.calTemp < 0 ||
            inputs.calTemp > 100
          ) {
            errors.push('Temperatures must be between 0 and 100 °C (32–212 °F).');
          }
        }
        return { ok: errors.length === 0, errors };
      }

      function compute(inputs) {
        let og = inputs.og;
        let fg = inputs.fg;
        if (inputs.tempOn) {
          og = correctedSG(og, inputs.sampleTemp, inputs.sampleTempUnit, inputs.calTemp, inputs.calTempUnit);
          fg = correctedSG(fg, inputs.sampleTemp, inputs.sampleTempUnit, inputs.calTemp, inputs.calTempUnit);
        }

        og = Math.min(Math.max(og, 0.98), 1.2);
        fg = Math.min(Math.max(fg, 0.98), 1.2);

        const ogP = sgToPlato(og);
        const fgP = sgToPlato(fg);
        const RE = 0.1808 * ogP + 0.8192 * fgP;

        let abv;
        if (inputs.method === 'advanced') {
          const denom = 1.775 - og;
          abv = denom <= 0 ? NaN : (76.08 * (og - fg) / denom) * (fg / 0.794);
        } else {
          abv = (og - fg) * 131.25;
        }

        const abw = Number.isFinite(abv) && fg > 0 ? (0.79336 * abv) / fg : NaN;
        const aa = ogP > 0 ? ((ogP - fgP) / ogP) * 100 : NaN;

        return { abv, abw, ogP, fgP, RE, aa };
      }

      function format(outputs) {
        const formatPercent = (value, digits) => Number.isFinite(value) ? `${round(value, digits).toFixed(digits)}%` : '—';
        const formatPlato = (value) => Number.isFinite(value) ? `${round(value, 2).toFixed(2)} °P` : '—';
        return {
          abv: formatPercent(outputs.abv, 2),
          abw: formatPercent(outputs.abw, 2),
          ogP: formatPlato(outputs.ogP),
          fgP: formatPlato(outputs.fgP),
          re: formatPlato(outputs.RE),
          aa: formatPercent(outputs.aa, 1)
        };
      }

      function render(formatted, errors) {
        if (errors.length) {
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
        } else {
          els.errorBox.style.display = 'none';
          els.errorBox.textContent = '';
        }
        els.abv.textContent = formatted.abv;
        els.abw.textContent = formatted.abw;
        els.ogp.textContent = formatted.ogP;
        els.fgp.textContent = formatted.fgP;
        els.re.textContent = formatted.re;
        els.aa.textContent = formatted.aa;
      }

      function resetControls() {
        els.og.value = defaults.og;
        els.fg.value = defaults.fg;
        els.sampleTemp.value = defaults.sampleTemp;
        els.calTemp.value = defaults.calTemp;
        els.sampleTempUnit.value = defaults.sampleTempUnit;
        els.calTempUnit.value = defaults.calTempUnit;
        els.tempToggle.checked = false;
        els.tempBlock.style.display = 'none';
        els.methodRadios.forEach((radio) => {
          radio.checked = radio.value === defaults.method;
        });
      }

      function update() {
        const inputs = parseInputs();
        const validation = validate(inputs);
        if (!validation.ok) {
          render(format({ abv: NaN, abw: NaN, ogP: NaN, fgP: NaN, RE: NaN, aa: NaN }), validation.errors);
          return;
        }
        const outputs = compute(inputs);
        const formatted = format(outputs);
        render(formatted, []);
      }

      const debouncedUpdate = debounce(update, 100);

      document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea').forEach((element) => {
        element.addEventListener('input', debouncedUpdate);
        element.addEventListener('change', debouncedUpdate);
      });

      els.calcBtn.addEventListener('click', update);
      els.resetBtn.addEventListener('click', () => {
        resetControls();
        update();
      });

      els.tempToggle.addEventListener('change', () => {
        els.tempBlock.style.display = els.tempToggle.checked ? 'grid' : 'none';
        debouncedUpdate();
      });

      resetControls();
      update();
    })();
  </script>
</body>
</html>

B) CHANGELOG
- Updated `sito_modificato/abv.html` to the canonical hero/results layout, preserved the original metadata/JSON-LD, moved extra guidance into the How to Use/Methodology block (including “Full original guide (expanded)”), and rewired the JS into parse→validate→compute→format→render→update with debounced inputs/reset handling.
- Logged this work plus the 10-vector test data in `qa/codex_runs/batch-0002/codex-report.md` so there is a traceable QA entry.
- Remaining target pages (acceleration, accessibility, etc.) still require the same canonical refactor; pick up the pattern established here for those files to finish the batch.

C) TEST REPORT
- Case 1: OG=1.050, FG=1.010, method=standard → ABV 5.25%, ABW 4.12%, OG°P 12.388, FG°P 2.561, Real Extract 4.337, Apparent Attenuation 79.33%.
- Case 2: OG=1.080, FG=1.018, method=standard → ABV 8.14%, ABW 6.34%, OG°P 19.331, FG°P 4.580, Real Extract 7.247, Apparent Attenuation 76.31%.
- Case 3: OG=1.065, FG=1.020, method=advanced → ABV 6.19%, ABW 4.82%, OG°P 15.903, FG°P 5.081, Real Extract 7.038, Apparent Attenuation 68.05%.
- Case 4: OG=1.095, FG=1.032, method=advanced with 30°C sample correction → ABV 9.15%, ABW 7.04%, OG°P 22.584, FG°P 7.955, Real Extract 10.600, Apparent Attenuation 64.78%.
- Case 5: OG=1.040, FG=1.005, method=standard → ABV 4.59%, ABW 3.63%, OG°P 9.994, FG°P 1.284, Real Extract 2.859, Apparent Attenuation 87.15%.
- Case 6: OG=1.110, FG=1.045, method=advanced → ABV 9.79%, ABW 7.43%, OG°P 25.933, FG°P 11.196, Real Extract 13.860, Apparent Attenuation 56.83%.
- Case 7: OG=1.025, FG=0.995, method=standard → ABV 3.94%, ABW 3.14%, OG°P 6.325, FG°P -1.302, Real Extract 0.077, Apparent Attenuation 120.58%.
- Case 8: OG=1.075, FG=1.025, method=standard → ABV 6.56%, ABW 5.08%, OG°P 18.198, FG°P 6.325, Real Extract 8.472, Apparent Attenuation 65.24%.
- Case 9: OG=1.090, FG=1.040, method=advanced → ABV 7.27%, ABW 5.55%, OG°P 21.568, FG°P 9.994, Real Extract 12.086, Apparent Attenuation 53.67%.
- Case 10: OG=1.115, FG=1.055, method=advanced → ABV 9.19%, ABW 6.91%, OG°P 27.002, FG°P 13.570, Real Extract 15.998, Apparent Attenuation 49.75%.
- Parity: Default case (OG 1.050 / FG 1.010) reproduced the pre-refactor numbers exactly, so behavior matches the original outputs.
- Console errors: Not inspected in this environment; please validate via your browser’s dev tools when you load the page.