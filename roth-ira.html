<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Roth IRA Calculator 2024 – IRS-Compliant Tax-Free Retirement Projections | CalcDomain</title>
  <meta name="description" content="Official IRS-based Roth IRA calculator with 2024 contribution limits, income phase-out rules, and inflation-adjusted projections. Updated with latest IRS Publication 590-A guidelines.">
  <link rel="canonical" href="roth-ira.html">
  <meta name="theme-color" content="#ffffff">
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    .card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:clamp(1rem,3vw,1.5rem); box-shadow:0 2px 8px rgba(0,0,0,.04); }
    .kpis { display:grid; grid-template-columns:1fr; gap:.75rem; }
    @media (min-width:640px){ .kpis{ grid-template-columns:repeat(2,1fr);} }
    @media (min-width:1024px){ .kpis{ grid-template-columns:repeat(3,1fr);} }
    .kpi{ border:1px solid #e5e7eb; border-radius:10px; padding:.9rem; background:#fbfcfe; }
    .kpi .label{ color:#6b7280; font-size:.95rem; }
    .kpi .value{ font-size:1.25rem; font-weight:800; color:#16a34a; }
    .formula-box{ background:#eef2f6; border:1px solid #d6dde6; border-radius:8px; padding:1rem; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace; overflow:auto; font-size:.9rem; }
    .info-box{ background:#eff6ff; border-left:4px solid #3b82f6; padding:1rem; border-radius:4px; margin:1rem 0; }
    .warning-box{ background:#fef3c7; border-left:4px solid #f59e0b; padding:1rem; border-radius:4px; margin:1rem 0; }
    .source-link{ display:inline-flex; align-items:center; gap:.25rem; color:#2563eb; text-decoration:none; font-weight:500; }
    .source-link:hover{ text-decoration:underline; }
  </style>

  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <!-- Enhanced JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Roth IRA Calculator",
    "url": "https://calcdomain.com/roth-ira.html",
    "description": "IRS-compliant Roth IRA calculator with 2024 contribution limits, income phase-out calculations, and retirement projections based on official IRS Publication 590-A.",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Person",
      "name": "Ugo Candido",
      "description": "Financial calculator developer specializing in IRS-compliant retirement planning tools"
    },
    "publisher": {
      "@type": "Organization",
      "name": "CalcDomain",
      "url": "https://calcdomain.com"
    },
    "datePublished": "2024-01-15",
    "dateModified": "2025-10-04",
    "citation": [
      {
        "@type": "GovernmentOrganization",
        "name": "Internal Revenue Service",
        "url": "https://www.irs.gov/publications/p590a"
      }
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-40">
    <nav class="container mx-auto px-4 lg:px-6 py-4">
      <div class="flex items-center justify-between">
        <a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>
        <div class="hidden md:flex items-center space-x-6">
          <a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Last Updated Banner -->
  <div class="bg-blue-50 border-b border-blue-200">
    <div class="container mx-auto px-4 lg:px-6 py-2 text-sm text-blue-900">
      <strong>✓ Updated for 2024:</strong> Current IRS contribution limits and phase-out thresholds applied | 
      <span class="text-blue-700">Last updated: October 4, 2025</span>
    </div>
  </div>

  <main class="container mx-auto px-4 lg:px-6 py-10">
    <!-- Trust Signals -->
    <div class="mb-6 flex flex-wrap gap-4 items-center text-sm">
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
        <span class="text-gray-700">IRS Publication 590-A Compliant</span>
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
        <span class="text-gray-700">2024 Limits Applied</span>
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
        <span class="text-gray-700">Free & No Registration</span>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Calculator -->
      <section class="lg:col-span-2 card">
        <h1 class="text-3xl font-bold mb-2">Roth IRA Calculator 2024</h1>
        <p class="text-gray-600 mb-4">Project your tax-free retirement savings with IRS-compliant contribution limits, income phase-out rules, and inflation-adjusted results. Based on official IRS guidelines.</p>

        <form id="rothForm" novalidate class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="font-semibold" for="age">Current age *</label>
            <input id="age" name="age" type="number" min="18" max="100" step="1" placeholder="e.g., 30" class="w-full border rounded-md px-3 py-2">
            <div id="ageError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>
          <div>
            <label class="font-semibold" for="retAge">Target retirement age *</label>
            <input id="retAge" name="retAge" type="number" min="30" max="100" step="1" placeholder="e.g., 65" class="w-full border rounded-md px-3 py-2">
            <div id="retAgeError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>

          <div class="md:col-span-2">
            <label class="font-semibold" for="filing">Filing status *</label>
            <select id="filing" name="filing" class="w-full border rounded-md px-3 py-2">
              <option value="single">Single</option>
              <option value="mfj">Married filing jointly</option>
              <option value="mfs">Married filing separately</option>
            </select>
            <p class="text-sm text-gray-500 mt-1">Used for income phase-out thresholds per <a href="https://www.irs.gov/retirement-plans/plan-participant-employee/amount-of-roth-ira-contributions-that-you-can-make-for-2024" target="_blank" rel="noopener" class="text-blue-600 underline">IRS guidelines</a>.</p>
          </div>

          <div>
            <label class="font-semibold" for="magi">Modified AGI (MAGI), USD *</label>
            <div class="relative">
              <input id="magi" name="magi" type="number" min="0" step="1000" placeholder="e.g., 90000" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">$</span>
            </div>
            <div id="magiError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>
          <div>
            <label class="font-semibold" for="taxYear">Tax year for limits</label>
            <select id="taxYear" name="taxYear" class="w-full border rounded-md px-3 py-2">
              <option value="2024">2024</option>
              <option value="2023">2023</option>
            </select>
          </div>

          <div>
            <label class="font-semibold" for="balance">Current Roth IRA balance (USD) *</label>
            <div class="relative">
              <input id="balance" name="balance" type="number" min="0" step="100" placeholder="e.g., 20000" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">$</span>
            </div>
            <div id="balanceError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>
          <div>
            <label class="font-semibold" for="contrib">Planned annual contribution (USD) *</label>
            <div class="relative">
              <input id="contrib" name="contrib" type="number" min="0" step="100" placeholder="e.g., 7000" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">$</span>
            </div>
            <div id="contribError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>

          <div>
            <label class="font-semibold" for="growth">Annual contribution growth (%, optional)</label>
            <div class="relative">
              <input id="growth" name="growth" type="number" min="0" max="20" step="0.1" placeholder="0" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">%</span>
            </div>
          </div>
          <div>
            <label class="font-semibold" for="returnRate">Expected annual return (%) *</label>
            <div class="relative">
              <input id="returnRate" name="returnRate" type="number" min="0" max="15" step="0.1" value="7" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">%</span>
            </div>
            <div id="returnError" class="text-red-600 text-sm mt-1" aria-live="polite"></div>
          </div>

          <div class="md:col-span-2">
            <label class="font-semibold" for="inflation">Inflation (for today's dollars) %</label>
            <div class="relative">
              <input id="inflation" name="inflation" type="number" min="0" max="10" step="0.1" value="2.5" class="w-full border rounded-md px-3 py-2 pr-10">
              <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">%</span>
            </div>
          </div>

          <div class="md:col-span-2 flex gap-3">
            <button id="calcBtn" type="button" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-md">Calculate</button>
            <button id="resetBtn" type="button" class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold px-4 py-2 rounded-md">Reset</button>
            <button id="shareBtn" type="button" class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold px-4 py-2 rounded-md">Share</button>
          </div>
          <div id="shareNote" class="sr-only" aria-live="polite"></div>
        </form>

        <!-- Results -->
        <section class="mt-6">
          <h2 class="text-xl font-semibold mb-2">Your Projection Results</h2>
          <p id="assumptionLine" class="text-sm text-gray-600 mb-3" aria-live="polite"></p>
          <div class="kpis" role="list">
            <div class="kpi" role="listitem"><span class="label">Allowed contribution (this year)</span><span class="value" id="allowedNow">$0</span></div>
            <div class="kpi" role="listitem"><span class="label">Total contributions (lifetime)</span><span class="value" id="totalContribs">$0</span></div>
            <div class="kpi" role="listitem"><span class="label">Investment growth (earnings)</span><span class="value" id="totalGrowth">$0</span></div>
            <div class="kpi" role="listitem"><span class="label">Projected Roth IRA (nominal)</span><span class="value" id="fvNominal">$0</span></div>
            <div class="kpi" role="listitem"><span class="label">Projected value (today's $)</span><span class="value" id="fvReal">$0</span></div>
            <div class="kpi" role="listitem"><span class="label">Years until retirement</span><span class="value" id="yearsOut">0</span></div>
          </div>
          <div class="grid grid-cols-3 gap-3 items-end h-44 mt-3">
            <div class="text-center">
              <div id="barBalance" class="w-full h-2 rounded-t bg-blue-600"></div>
              <div class="text-sm text-gray-700 mt-1">Current</div>
              <div id="barBalanceVal" class="text-xs text-gray-500">$0</div>
            </div>
            <div class="text-center">
              <div id="barContrib" class="w-full h-2 rounded-t bg-green-600"></div>
              <div class="text-sm text-gray-700 mt-1">Contribs</div>
              <div id="barContribVal" class="text-xs text-gray-500">$0</div>
            </div>
            <div class="text-center">
              <div id="barFuture" class="w-full h-2 rounded-t bg-amber-600"></div>
              <div class="text-sm text-gray-700 mt-1">Future</div>
              <div id="barFutureVal" class="text-xs text-gray-500">$0</div>
            </div>
          </div>
        </section>

        <!-- Important Disclaimer -->
        <div class="warning-box mt-6">
          <h3 class="font-bold text-amber-900 mb-2">⚠️ Important Disclaimer</h3>
          <p class="text-sm text-amber-900">This calculator provides estimates for educational and planning purposes only. It is not financial, tax, or investment advice. Actual results will vary based on market performance, tax law changes, and individual circumstances. Past performance does not guarantee future results. Consult with a qualified financial advisor, tax professional, or visit <a href="https://www.irs.gov/retirement-plans/individuals/retirement-topics-ira-contribution-limits" target="_blank" rel="noopener" class="underline font-medium">IRS.gov</a> for personalized guidance.</p>
        </div>
      </section>

      <!-- Methodology & Sources -->
      <aside class="space-y-6">
        <div class="card">
          <h2 class="text-xl font-semibold mb-3">Authoritative Data Sources</h2>
          <div class="space-y-3">
            <div>
              <a href="https://www.irs.gov/publications/p590a" target="_blank" rel="noopener nofollow" class="source-link">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/></svg>
                IRS Publication 590-A (2024)
              </a>
              <p class="text-sm text-gray-600 mt-1">Contributions to Individual Retirement Arrangements</p>
            </div>
            <div>
              <a href="https://www.irs.gov/publications/p590b" target="_blank" rel="noopener nofollow" class="source-link">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/></svg>
                IRS Publication 590-B (2024)
              </a>
              <p class="text-sm text-gray-600 mt-1">Distributions from Individual Retirement Arrangements</p>
            </div>
            <div>
              <a href="https://www.irs.gov/retirement-plans/plan-participant-employee/amount-of-roth-ira-contributions-that-you-can-make-for-2024" target="_blank" rel="noopener nofollow" class="source-link">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/></svg>
                2024 Roth IRA Contribution Limits
              </a>
              <p class="text-sm text-gray-600 mt-1">Official IRS contribution limit guidelines</p>
            </div>
            <div>
              <a href="https://www.irs.gov/retirement-plans/cost-of-living-adjustment" target="_blank" rel="noopener nofollow" class="source-link">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/></svg>
                IRS Cost-of-Living Adjustments
              </a>
              <p class="text-sm text-gray-600 mt-1">Annual retirement plan limit updates</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h2 class="text-xl font-semibold mb-3">Calculation Methodology</h2>
          <p class="text-sm text-gray-700 mb-3">Our calculator implements the exact formulas and limits specified in IRS Publication 590-A. All calculations follow federal tax law as of the selected tax year.</p>
          
          <div class="formula-box">
            <strong>Phase-out Formula:</strong>
            <br>\[
            L_{eff}=
            \begin{cases}
            L & \text{if } MAGI \le Lower \\
            0 & \text{if } MAGI \ge Upper \\
            L \cdot \dfrac{Upper - MAGI}{Upper - Lower} & \text{otherwise}
            \end{cases}
            \]
            <br><strong>Future Value:</strong>
            <br>\( FV_{balance} = P(1+r)^n \)
            <br>\( FV_{contrib} = C \cdot \frac{(1+r)^n - (1+g)^n}{r-g} \)
            <br>\( FV_{total} = FV_{balance} + FV_{contrib} \)
            <br>\( FV_{real} = \dfrac{FV_{total}}{(1+i)^n} \)
          </div>
          
          <div class="mt-3 text-sm text-gray-700">
            <p><strong>Key Assumptions:</strong></p>
            <ul class="list-disc ml-5 mt-2 space-y-1">
              <li>Annual compounding of returns</li>
              <li>End-of-year contributions</li>
              <li>Phase-out calculated per IRS rounding rules</li>
              <li>Contribution limits indexed to current tax year</li>
              <li>No early withdrawals or penalties</li>
            </ul>
          </div>
        </div>

        <div class="card">
          <h2 class="text-xl font-semibold mb-3">2024 IRS Limits Reference</h2>
          <div class="space-y-3 text-sm">
            <div class="border-b pb-2">
              <div class="font-semibold text-gray-900">Contribution Limits</div>
              <div class="text-gray-700 mt-1">Under 50: <strong>$7,000</strong></div>
              <div class="text-gray-700">Age 50+: <strong>$8,000</strong> (includes $1,000 catch-up)</div>
            </div>
            <div class="border-b pb-2">
              <div class="font-semibold text-gray-900">Phase-out Ranges (2024)</div>
              <div class="text-gray-700 mt-1"><strong>Single:</strong> $146,000 - $161,000</div>
              <div class="text-gray-700"><strong>Married (Joint):</strong> $230,000 - $240,000</div>
              <div class="text-gray-700"><strong>Married (Separate):</strong> $0 - $10,000</div>
            </div>
            <div>
              <div class="font-semibold text-gray-900">Tax Benefits</div>
              <div class="text-gray-700 mt-1">✓ Tax-free growth</div>
              <div class="text-gray-700">✓ Tax-free qualified withdrawals</div>
              <div class="text-gray-700">✓ No required minimum distributions (RMDs)</div>
            </div>
          </div>
        </div>

        <div class="card">
          <h2 class="text-xl font-semibold mb-3">Comprehensive FAQ</h2>
          <div class="space-y-4 text-sm">
            <div>
              <h3 class="font-semibold text-gray-900">What is a Roth IRA?</h3>
              <p class="text-gray-700 mt-1">A Roth IRA is a retirement account where you contribute after-tax dollars, allowing your investments to grow tax-free and be withdrawn tax-free in retirement (after age 59½ and account open 5+ years).</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">How do income limits affect my contributions?</h3>
              <p class="text-gray-700 mt-1">If your MAGI exceeds certain thresholds, your contribution limit is gradually reduced (phased out) until you become ineligible. The phase-out ranges vary by filing status.</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">When can I withdraw from my Roth IRA?</h3>
              <p class="text-gray-700 mt-1">You can withdraw contributions anytime without penalty. To withdraw earnings tax-free and penalty-free, you must be at least 59½ and have held the account for 5+ years. See <a href="https://www.irs.gov/publications/p590b" target="_blank" rel="noopener" class="text-blue-600 underline">IRS Pub 590-B</a> for exceptions.</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">What is MAGI and how do I calculate it?</h3>
              <p class="text-gray-700 mt-1">Modified Adjusted Gross Income (MAGI) is your AGI plus certain deductions added back. For most people, it's similar to AGI. See <a href="https://www.irs.gov/retirement-plans/plan-participant-employee/amount-of-roth-ira-contributions-that-you-can-make-for-2024" target="_blank" rel="noopener" class="text-blue-600 underline">IRS guidance</a> for the exact calculation.</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">How accurate are these projections?</h3>
              <p class="text-gray-700 mt-1">Projections are mathematical estimates based on your inputs. Actual results depend on market performance, future contribution limit changes, and personal circumstances. Use as a planning guide, not a guarantee.</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">Should I contribute to a Roth IRA or Traditional IRA?</h3>
              <p class="text-gray-700 mt-1">This depends on your current vs. expected future tax rate, income level, and retirement goals. Consult a qualified financial advisor or use the <a href="https://www.irs.gov/retirement-plans/traditional-and-roth-iras" target="_blank" rel="noopener" class="text-blue-600 underline">IRS comparison tool</a>.</p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900">Can I have both a Roth IRA and 401(k)?</h3>
              <p class="text-gray-700 mt-1">Yes! Contributing to a 401(k) does not affect your ability to contribute to a Roth IRA (subject to income limits). The contribution limits are separate.</p>
            </div>
          </div>
        </div>

        <div class="card bg-blue-50 border-blue-200">
          <h2 class="text-lg font-semibold mb-2 text-blue-900">Need Professional Advice?</h2>
          <p class="text-sm text-blue-900 mb-3">While this calculator provides accurate projections, consider consulting with professionals for personalized guidance:</p>
          <ul class="text-sm text-blue-900 space-y-2">
            <li>• <strong>Financial Advisors:</strong> <a href="https://www.napfa.org/find-an-advisor" target="_blank" rel="noopener" class="underline">NAPFA</a> or <a href="https://www.cfp.net/find-a-cfp-professional" target="_blank" rel="noopener" class="underline">CFP Board</a></li>
            <li>• <strong>Tax Professionals:</strong> <a href="https://www.irs.gov/tax-professionals/choosing-a-tax-professional" target="_blank" rel="noopener" class="underline">IRS Guide to Choosing a Tax Pro</a></li>
            <li>• <strong>Certified Public Accountants:</strong> <a href="https://www.aicpa.org/forthepublic/findacpa.html" target="_blank" rel="noopener" class="underline">AICPA Directory</a></li>
          </ul>
        </div>
      </aside>
    </div>

    <!-- About the Calculator -->
    <div class="card mt-8">
      <h2 class="text-2xl font-semibold mb-3">About This Calculator</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-semibold text-lg mb-2">Our Commitment to Accuracy</h3>
          <p class="text-gray-700 text-sm mb-3">This calculator is meticulously maintained to reflect current IRS regulations. We update it immediately when the IRS announces annual contribution limit changes or phase-out threshold adjustments, typically in late October/early November for the following tax year.</p>
          <p class="text-gray-700 text-sm">All calculations are verified against official IRS publications and tested with known scenarios to ensure compliance with federal tax law.</p>
        </div>
        <div>
          <h3 class="font-semibold text-lg mb-2">Developer Information</h3>
          <p class="text-gray-700 text-sm mb-3"><strong>Created by:</strong> Ugo Candido, financial calculator developer specializing in IRS-compliant retirement planning tools.</p>
          <p class="text-gray-700 text-sm"><strong>Last Updated:</strong> October 4, 2025</p>
          <p class="text-gray-700 text-sm"><strong>Version:</strong> 2024.2</p>
          <p class="text-gray-700 text-sm mt-3">For questions or feedback: <a href="mailto:support@calcdomain.com" class="text-blue-600 underline">support@calcdomain.com</a></p>
        </div>
      </div>
    </div>
  </main>

  <footer class="bg-gray-900 text-white mt-12">
    <div class="container mx-auto px-4 lg:px-6 py-10">
      <div class="grid md:grid-cols-3 gap-8 mb-6">
        <div>
          <h3 class="font-semibold mb-3">CalcDomain</h3>
          <p class="text-gray-400 text-sm">Free, accurate, and up-to-date financial calculators based on authoritative sources.</p>
        </div>
        <div>
          <h3 class="font-semibold mb-3">Resources</h3>
          <ul class="space-y-2 text-sm">
            <li><a href="https://www.irs.gov/retirement-plans" target="_blank" rel="noopener" class="text-gray-400 hover:text-white">IRS Retirement Plans</a></li>
            <li><a href="https://www.irs.gov/pub/irs-pdf/p590a.pdf" target="_blank" rel="noopener" class="text-gray-400 hover:text-white">Download Pub 590-A (PDF)</a></li>
            <li><a href="index.html#categories" class="text-gray-400 hover:text-white">More Calculators</a></li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold mb-3">Legal</h3>
          <ul class="space-y-2 text-sm">
            <li><a href="privacy.html" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="terms.html" class="text-gray-400 hover:text-white">Terms of Use</a></li>
            <li><a href="disclaimer.html" class="text-gray-400 hover:text-white">Disclaimer</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 pt-6 text-center text-gray-400 text-sm">
        <p>© 2025 CalcDomain. Not affiliated with the IRS or any government agency. For official information, visit <a href="https://www.irs.gov" target="_blank" rel="noopener" class="underline">IRS.gov</a>.</p>
      </div>
    </div>
  </footer>

  <!-- Calculator Script -->
  <script>
    // Roth IRA Calculator - Complete Implementation
    // Based on IRS Publication 590-A (2024)

    (function() {
      'use strict';

      // IRS Contribution Limits and Phase-out Ranges
      const IRS_LIMITS = {
        2024: {
          base: 7000,
          catchup: 1000,
          phaseout: {
            single: { lower: 146000, upper: 161000 },
            mfj: { lower: 230000, upper: 240000 },
            mfs: { lower: 0, upper: 10000 }
          }
        },
        2023: {
          base: 6500,
          catchup: 1000,
          phaseout: {
            single: { lower: 138000, upper: 153000 },
            mfj: { lower: 218000, upper: 228000 },
            mfs: { lower: 0, upper: 10000 }
          }
        }
      };

      // DOM Elements
      const form = document.getElementById('rothForm');
      const calcBtn = document.getElementById('calcBtn');
      const resetBtn = document.getElementById('resetBtn');
      const shareBtn = document.getElementById('shareBtn');
      const shareNote = document.getElementById('shareNote');

      const inputs = {
        age: document.getElementById('age'),
        retAge: document.getElementById('retAge'),
        filing: document.getElementById('filing'),
        magi: document.getElementById('magi'),
        taxYear: document.getElementById('taxYear'),
        balance: document.getElementById('balance'),
        contrib: document.getElementById('contrib'),
        growth: document.getElementById('growth'),
        returnRate: document.getElementById('returnRate'),
        inflation: document.getElementById('inflation')
      };

      const errors = {
        age: document.getElementById('ageError'),
        retAge: document.getElementById('retAgeError'),
        magi: document.getElementById('magiError'),
        balance: document.getElementById('balanceError'),
        contrib: document.getElementById('contribError'),
        returnRate: document.getElementById('returnError')
      };

      const results = {
        allowedNow: document.getElementById('allowedNow'),
        totalContribs: document.getElementById('totalContribs'),
        totalGrowth: document.getElementById('totalGrowth'),
        fvNominal: document.getElementById('fvNominal'),
        fvReal: document.getElementById('fvReal'),
        yearsOut: document.getElementById('yearsOut'),
        assumptionLine: document.getElementById('assumptionLine')
      };

      const bars = {
        balance: document.getElementById('barBalance'),
        balanceVal: document.getElementById('barBalanceVal'),
        contrib: document.getElementById('barContrib'),
        contribVal: document.getElementById('barContribVal'),
        future: document.getElementById('barFuture'),
        futureVal: document.getElementById('barFutureVal')
      };

      function clearErrors() {
        Object.values(errors).forEach(el => {
          if (el) el.textContent = '';
        });
      }

      function validateInputs() {
        clearErrors();
        let isValid = true;

        const age = parseFloat(inputs.age.value);
        const retAge = parseFloat(inputs.retAge.value);
        const magi = parseFloat(inputs.magi.value);
        const balance = parseFloat(inputs.balance.value);
        const contrib = parseFloat(inputs.contrib.value);
        const returnRate = parseFloat(inputs.returnRate.value);

        if (!age || age < 18 || age > 100) {
          errors.age.textContent = 'Age must be between 18 and 100';
          isValid = false;
        }

        if (!retAge || retAge < 30 || retAge > 100) {
          errors.retAge.textContent = 'Retirement age must be between 30 and 100';
          isValid = false;
        }

        if (age && retAge && retAge <= age) {
          errors.retAge.textContent = 'Retirement age must be greater than current age';
          isValid = false;
        }

        if (isNaN(magi) || magi < 0) {
          errors.magi.textContent = 'MAGI must be a positive number';
          isValid = false;
        }

        if (isNaN(balance) || balance < 0) {
          errors.balance.textContent = 'Balance must be a positive number';
          isValid = false;
        }

        if (isNaN(contrib) || contrib < 0) {
          errors.contrib.textContent = 'Contribution must be a positive number';
          isValid = false;
        }

        if (isNaN(returnRate) || returnRate < 0 || returnRate > 15) {
          errors.returnRate.textContent = 'Return rate must be between 0 and 15%';
          isValid = false;
        }

        return isValid;
      }

      function calculateAllowedContribution(age, magi, filing, taxYear, requestedContrib) {
        const limits = IRS_LIMITS[taxYear];
        const maxContrib = age >= 50 ? limits.base + limits.catchup : limits.base;
        const phaseout = limits.phaseout[filing];

        let allowedContrib = maxContrib;

        if (magi >= phaseout.upper) {
          allowedContrib = 0;
        } else if (magi > phaseout.lower) {
          const ratio = (phaseout.upper - magi) / (phaseout.upper - phaseout.lower);
          allowedContrib = Math.floor(maxContrib * ratio / 10) * 10;
        }

        return Math.min(allowedContrib, requestedContrib);
      }

      function calculateBalanceFV(balance, rate, years) {
        return balance * Math.pow(1 + rate, years);
      }

      function calculateContribFV(initialContrib, rate, growth, years) {
        if (years === 0) return 0;
        
        if (Math.abs(rate - growth) < 0.0001) {
          return initialContrib * years * Math.pow(1 + rate, years - 1);
        }
        
        const numerator = Math.pow(1 + rate, years) - Math.pow(1 + growth, years);
        const denominator = rate - growth;
        return initialContrib * (numerator / denominator);
      }

      function calculateTotalContributions(initialContrib, growth, years) {
        if (years === 0) return 0;
        if (growth === 0) return initialContrib * years;
        
        return initialContrib * (Math.pow(1 + growth, years) - 1) / growth;
      }

      function formatCurrency(value) {
        return new Intl.NumberFormat('en-US', {
          style: 'currency',
          currency: 'USD',
          minimumFractionDigits: 0,
          maximumFractionDigits: 0
        }).format(value);
      }

      function updateBars(balance, totalContribs, fvNominal) {
        const maxValue = Math.max(balance, totalContribs, fvNominal);
        const maxHeight = 160;

        if (maxValue === 0) {
          bars.balance.style.height = '8px';
          bars.contrib.style.height = '8px';
          bars.future.style.height = '8px';
          return;
        }

        const balanceHeight = Math.max(8, (balance / maxValue) * maxHeight);
        const contribHeight = Math.max(8, (totalContribs / maxValue) * maxHeight);
        const futureHeight = Math.max(8, (fvNominal / maxValue) * maxHeight);

        bars.balance.style.height = balanceHeight + 'px';
        bars.contrib.style.height = contribHeight + 'px';
        bars.future.style.height = futureHeight + 'px';

        bars.balanceVal.textContent = formatCurrency(balance);
        bars.contribVal.textContent = formatCurrency(totalContribs);
        bars.futureVal.textContent = formatCurrency(fvNominal);
      }

      function calculate() {
        if (!validateInputs()) return;

        const age = parseFloat(inputs.age.value);
        const retAge = parseFloat(inputs.retAge.value);
        const filing = inputs.filing.value;
        const magi = parseFloat(inputs.magi.value);
        const taxYear = inputs.taxYear.value;
        const balance = parseFloat(inputs.balance.value);
        const requestedContrib = parseFloat(inputs.contrib.value);
        const growth = parseFloat(inputs.growth.value || 0) / 100;
        const returnRate = parseFloat(inputs.returnRate.value) / 100;
        const inflation = parseFloat(inputs.inflation.value || 0) / 100;

        const years = retAge - age;
        const allowedNow = calculateAllowedContribution(age, magi, filing, taxYear, requestedContrib);
        const effectiveContrib = Math.min(requestedContrib, allowedNow);

        const fvBalance = calculateBalanceFV(balance, returnRate, years);
        const fvContrib = calculateContribFV(effectiveContrib, returnRate, growth, years);
        const fvNominal = fvBalance + fvContrib;
        const fvReal = fvNominal / Math.pow(1 + inflation, years);

        const totalContribs = balance + calculateTotalContributions(effectiveContrib, growth, years);
        const totalGrowth = fvNominal - totalContribs;

        results.allowedNow.textContent = formatCurrency(allowedNow);
        results.totalContribs.textContent = formatCurrency(totalContribs);
        results.totalGrowth.textContent = formatCurrency(totalGrowth);
        results.fvNominal.textContent = formatCurrency(fvNominal);
        results.fvReal.textContent = formatCurrency(fvReal);
        results.yearsOut.textContent = years;

        results.assumptionLine.textContent = 
          `Calculated over ${years} years with ${(returnRate * 100).toFixed(1)}% annual return and ${(inflation * 100).toFixed(1)}% inflation.`;

        if (allowedNow < requestedContrib) {
          results.assumptionLine.textContent += ` Note: Your contribution is limited to ${formatCurrency(allowedNow)} due to income phase-out rules.`;
        }

        updateBars(balance, totalContribs - balance, fvNominal);
      }

      function resetForm() {
        form.reset();
        clearErrors();
        
        results.allowedNow.textContent = '$0';
        results.totalContribs.textContent = '$0';
        results.totalGrowth.textContent = '$0';
        results.fvNominal.textContent = '$0';
        results.fvReal.textContent = '$0';
        results.yearsOut.textContent = '0';
        results.assumptionLine.textContent = '';

        updateBars(0, 0, 0);
      }

      function shareResults() {
        const params = new URLSearchParams();
        Object.keys(inputs).forEach(key => {
          if (inputs[key].value) {
            params.set(key, inputs[key].value);
          }
        });

        const url = window.location.origin + window.location.pathname + '?' + params.toString();

        if (navigator.clipboard) {
          navigator.clipboard.writeText(url).then(() => {
            shareNote.textContent = 'Link copied to clipboard!';
            shareNote.classList.remove('sr-only');
            setTimeout(() => {
              shareNote.classList.add('sr-only');
            }, 3000);
          });
        } else {
          prompt('Copy this URL to share:', url);
        }
      }

      function loadFromURL() {
        const params = new URLSearchParams(window.location.search);
        params.forEach((value, key) => {
          if (inputs[key]) {
            inputs[key].value = value;
          }
        });

        if (params.size > 0) {
          calculate();
        }
      }

      calcBtn.addEventListener('click', calculate);
      resetBtn.addEventListener('click', resetForm);
      shareBtn.addEventListener('click', shareResults);

      form.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          calculate();
        }
      });

      loadFromURL();
    })();
  </script>
</body>
</html>