<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WPM Calculator - Calculate Words Per Minute Speed</title>
<meta name="description" content="Calculate Words Per Minute (WPM) based on word count and time. A 3-in-1 tool to find your typing/reading speed, the time needed, or the words you can type.">
<link rel="canonical" href="https://calcdomain.com/wpm-calculator.html"/>

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.5rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.5rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
text-align: center; font-size: 1.25rem;
}
/* Stili di accessibilità per il focus */
:focus-visible {
outline: 3px solid #3b82f6 !important;
outline-offset: 2px !important;
border-radius: 4px;
}
/* Stile per i campi con errore */
input[aria-invalid="true"] {
border-color: #dc2626;
}
/* Nascondi programmaticamente ma mantieni per screen reader */
.sr-only {
position: absolute;
width: 1px;
height: 1px;
padding: 0;
margin: -1px;
overflow: hidden;
clip: rect(0, 0, 0, 0);
white-space: nowrap;
border-width: 0;
}
/* Stile per i messaggi di errore */
.error-message {
color: #dc2626;
font-size: 0.875rem;
margin-top: 0.25rem;
}
/* Stili per i risultati */
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.5rem; text-align: center; }
.result-card h4 { font-size: 1rem; color: #6b7280; margin-bottom: 0.25rem; font-weight: 500; }
.result-card p.main-result { font-size: 2.5rem; font-weight: 700; color: #2563eb; line-height: 1.2; }
.result-card p.secondary-result { font-size: 0.9rem; color: #4b5563; margin-top: 0.5rem; }

/* Stampa */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "WPM Calculator - Calculate Words Per Minute Speed",
"description": "Calculate Words Per Minute (WPM) based on word count and time. A 3-in-1 tool to find your typing/reading speed, the time needed, or the words you can type.",
"url": "https://calcdomain.com/wpm-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Lifestyle Everyday", "item": "https://calcdomain.com/lifestyle-everyday.html" },
{ "@type": "ListItem", "position": 3, "name": "Miscellaneous", "item": "https://calcdomain.com/subcategories/miscellaneous.html" },
{ "@type": "ListItem", "position": 4, "name": "WPM Calculator", "item": "https://calcdomain.com/wpm-calculator.html" }
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "Calculator",
"name": "WPM (Words Per Minute) Calculator",
"description": "Calculates typing speed (WPM), time required, or word count from two known variables.",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "https://calcdomain.com/wpm-calculator.html"
}
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Use the WPM Calculator",
"description": "A step-by-step guide to calculating WPM, time, or word count.",
"step": [
{
"@type": "HowToStep",
"name": "Select Calculation Mode",
"text": "Choose what you want to calculate from the dropdown menu: 'Calculate WPM', 'Calculate Time Needed', or 'Calculate Word Count'."
},
{
"@type": "HowToStep",
"name": "Enter Known Values",
"text": "Fill in the two input fields that appear. For example, if calculating WPM, enter the 'Number of Words' and the 'Time Taken'."
},
{
"@type": "HowToStep",
"name": "Review Results",
"text": "The calculator instantly displays the result in the blue box as you type. No 'calculate' button is needed."
}
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "What is a good WPM speed?",
"acceptedAnswer": {
"@type": "Answer",
"text": "A 'good' WPM (Words Per Minute) speed is contextual. For casual typing, 35-45 WPM is average. Professional typists often range from 60-80 WPM. Competitive typists can exceed 120 WPM. For reading, an average adult speed is 200-250 WPM for non-technical material."
}
},
{
"@type": "Question",
"name": "What's the difference between this calculator and a typing test?",
"acceptedAnswer": {
"@type": "Answer",
"text": "This tool is a *calculator*: you provide the known values (like word count and time) to find the unknown (WPM). A *typing test* is a tool that *measures* your performance in real-time by having you type a text, and it then calculates the WPM and accuracy for you."
}
},
{
"@type": "Question",
"name": "How is a 'word' defined in WPM?",
"acceptedAnswer": {
"@type": "Answer",
"text": "For general calculations, like in this tool, a 'word' is the actual count of words separated by spaces. In standardized typing tests, a 'word' is often normalized to 5 keystrokes (including spaces and punctuation) to create a fair comparison regardless of the text's difficulty."
}
},
{
"@type": "Question",
"name": "Does WPM include punctuation and errors?",
"acceptedAnswer": {
"@type": "Answer",
"text": "This calculator computes the 'Gross WPM' based on the total words you provide. Standardized tests often measure 'Net WPM' or 'WCPM' (Words Correct Per Minute), which penalizes you for errors. This tool assumes the word count you provide is the one you want to measure."
}
},
{
"@type": "Question",
"name": "How can I improve my WPM?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The most effective way to improve your typing speed is through consistent practice. Learning touch typing (typing without looking at the keys), maintaining good posture, and using online typing tutors or practice websites are all proven methods to increase your WPM."
}
]
}
</script>

<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="lifestyle-everyday.html" class="hover:text-blue-600">Lifestyle Everyday</a> &raquo;
<a href="subcategories/miscellaneous.html" class="hover:text-blue-600">Miscellaneous</a> &raquo;
<span class="text-gray-900">WPM Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">WPM Calculator</h1>
<p class="text-gray-600 mb-6">A versatile 3-in-1 tool to calculate your Words Per Minute (WPM) speed, the total time required for a task, or the total word count you can achieve in a set time.</p>

<section id="calculator-ui" aria-labelledby="calculator-heading">
<h2 id="calculator-heading" class="sr-only">WPM Calculation Tool</h2>
<div class="space-y-6">
<div>
<label for="calcMode" class="block text-sm font-medium text-gray-700 mb-1">Calculation Mode</label>
<select id="calcMode"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="wpm" selected>Calculate WPM (Speed)</option>
<option value="time">Calculate Time Needed</option>
<option value="words">Calculate Word Count</option>
</select>
</div>

<div id="wpm-group" class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="wpm-words" class="block text-sm font-medium text-gray-700">Number of Words *</label>
<input type="number" id="wpm-words" min="0" step="1" aria-required="true" aria-invalid="false" aria-describedby="wpm-words-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<p id="wpm-words-error" class="error-message hidden" role="alert"></p>
</div>
<div>
<label for="wpm-time" class="block text-sm font-medium text-gray-700">Time Taken *</label>
<div class="flex gap-2">
<input type="number" id="wpm-time" min="0" step="0.1" aria-required="true" aria-invalid="false" aria-describedby="wpm-time-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<select id="wpm-timeUnit" aria-label="Time unit for WPM calculation"
class="mt-1 block w-1/2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="minutes" selected>Minutes</option>
<option value="seconds">Seconds</option>
<option value="hours">Hours</option>
</select>
</div>
<p id="wpm-time-error" class="error-message hidden" role="alert"></p>
</div>
</div>

<div id="time-group" class="grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
<div>
<label for="time-words" class="block text-sm font-medium text-gray-700">Number of Words *</label>
<input type="number" id="time-words" min="0" step="1" aria-required="true" aria-invalid="false" aria-describedby="time-words-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<p id="time-words-error" class="error-message hidden" role="alert"></p>
</div>
<div>
<label for="time-wpm" class="block text-sm font-medium text-gray-700">Your Speed (WPM) *</label>
<input type="number" id="time-wpm" min="0" step="1" aria-required="true" aria-invalid="false" aria-describedby="time-wpm-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<p id="time-wpm-error" class="error-message hidden" role="alert"></p>
</div>
</div>

<div id="words-group" class="grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
<div>
<label for="words-wpm" class="block text-sm font-medium text-gray-700">Your Speed (WPM) *</label>
<input type="number" id="words-wpm" min="0" step="1" aria-required="true" aria-invalid="false" aria-describedby="words-wpm-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<p id="words-wpm-error" class="error-message hidden" role="alert"></p>
</div>
<div>
<label for="words-time" class="block text-sm font-medium text-gray-700">Time Available *</label>
<div class="flex gap-2">
<input type="number" id="words-time" min="0" step="0.1" aria-required="true" aria-invalid="false" aria-describedby="words-time-error"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<select id="words-timeUnit" aria-label="Time unit for word calculation"
class="mt-1 block w-1/2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="minutes" selected>Minutes</option>
<option value="seconds">Seconds</option>
<option value="hours">Hours</option>
</select>
</div>
<p id="words-time-error" class="error-message hidden" role="alert"></p>
</div>
</div>
</div>
</section>

<section id="results" aria-labelledby="results-heading" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 min-h-[160px]">
<h2 id="results-heading" class="sr-only">Calculation Results</h2>
<div class="result-card bg-transparent border-none p-0">
<h4 id="result-label">Your WPM</h4>
<p id="result-value" class="main-result">0</p>
<p id="result-secondary" class="secondary-result">Enter your values above to calculate.</p>
</div>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<section aria-labelledby="methodology-heading">
<h2 id="methodology-heading">Data Source and Methodology</h2>
<p>This calculator uses standard, universally accepted formulas for measuring typing, reading, and speaking speed. The calculations are based on the fundamental mathematical relationship between word count, time, and speed (Words Per Minute).</p>
<p><strong>Authoritative Source:</strong> The concept of "Words Per Minute" (WPM) is a standard measure of processing speed. While definitions of a "word" can vary (e.g., standardized tests often use <strong>5 keystrokes = 1 word</strong>), this calculator operates on the values you provide, treating a "word" as the actual word count.</p>
<p>All calculations are based strictly on the formulas provided below.</p>
</section>

<section aria-labelledby="formula-heading">
<h2 id="formula-heading">The Formulas Explained</h2>
<p>The core relationship between speed (WPM), word count, and time (in minutes) is defined by three simple formulas. This tool rearranges the formula based on what you want to find.</p>

<h3>1. Calculate Words Per Minute (WPM)</h3>
<p>This formula finds your speed when you know the word count and time.</p>
<div class="formula-box" aria-label="WPM Formula">
$$ WPM = \frac{\text{Number of Words}}{\text{Time in Minutes}} $$
</div>

<h3>2. Calculate Time Needed</h3>
<p>This formula finds the time required when you know the word count and your WPM speed.</p>
<div class="formula-box" aria-label="Time Formula">
$$ \text{Time in Minutes} = \frac{\text{Number of Words}}{WPM} $$
</div>

<h3>3. Calculate Word Count</h3>
<p>This formula finds how many words you can process when you know your WPM speed and the time available.</p>
<div class="formula-box" aria-label="Word Count Formula">
$$ \text{Number of Words} = WPM \times \text{Time in Minutes} $$
</div>

<p class="mt-4"><strong>Note on Time Conversion:</strong> The calculator automatically converts seconds and hours into minutes for the calculation:
$ \text{Time in Minutes} = \frac{\text{Time in Seconds}}{60} $ or $ \text{Time in Minutes} = \text{Time in Hours} \times 60 $
</p>
</section>

<section aria-labelledby="glossary-heading">
<h2 id="glossary-heading">Glossary of Variables</h2>
<dl class="space-y-2">
<dt class="font-semibold">Words Per Minute (WPM)</dt>
<dd class="ml-4">A measure of speed, representing how many words are processed (typed, read, or spoken) in a single minute.</dd>

<dt class="font-semibold">Number of Words</dt>
<dd class="ml-4">The total count of words in a text or speech.</dd>

<dt class="font-semibold">Time</dt>
<dd class="ml-4">The duration spent processing the words, which can be measured in seconds, minutes, or hours.</dd>
</dl>
</section>

<section aria-labelledby="example-heading">
<h2 id="example-heading">How It Works: A Step-by-Step Example</h2>
<p>Let's say you want to figure out how long it will take to read a 1,500-word article, and you know your average reading speed is 250 WPM.</p>
<ol>
<li><strong>Select Mode:</strong> You choose "Calculate Time Needed" from the dropdown menu.</li>
<li><strong>Input Values:</strong>
<ul>
<li><strong>Number of Words:</strong> 1500</li>
<li><strong>Your Speed (WPM):</strong> 250</li>
</ul>
</li>
<li><strong>Apply Formula:</strong> The calculator uses the formula: $ \text{Time} = \frac{\text{Words}}{WPM} $</li>
<li><strong>Calculation:</strong> $ \text{Time} = \frac{1500}{250} = 6 $</li>
<li><strong>Result:</strong> The calculator will display <strong>6 minutes</strong> as the time needed to read the article.</li>
</ol>
</section>

<section aria-labelledby="faq-heading">
<h2 id="faq-heading">Frequently Asked Questions</h2>
<details class="border-b border-gray-200 py-2">
<summary>What is a good WPM speed?</summary>
<p class="mt-2 text-gray-700">A "good" WPM (Words Per Minute) speed is contextual. For casual typing, 35-45 WPM is average. Professional typists often range from 60-80 WPM. Competitive typists can exceed 120 WPM. For reading, an average adult speed is 200-250 WPM for non-technical material.</p>
</details>
<details class="border-b border-gray-200 py-2">
<summary>What's the difference between this calculator and a typing test?</summary>
<p class="mt-2 text-gray-700">This tool is a <strong>calculator</strong>: you provide the known values (like word count and time) to find the unknown (WPM). A <strong>typing test</strong> is a tool that <strong>measures</strong> your performance in real-time by having you type a text, and it then calculates the WPM and accuracy for you.</p>
</TEST_CATEGORIZATION>
<details class="border-b border-gray-200 py-2">
<summary>How is a "word" defined in WPM?</summary>
<p class="mt-2 text-gray-700">For general calculations, like in this tool, a "word" is the actual count of words separated by spaces. In standardized typing tests, a "word" is often normalized to 5 keystrokes (including spaces and punctuation) to create a fair comparison regardless of the text's difficulty.</p>
</details>
<details class="border-b border-gray-200 py-2">
<summary>Does WPM include punctuation and errors?</summary>
<p class="mt-2 text-gray-700">This calculator computes the "Gross WPM" based on the total words you provide. Standardized tests often measure "Net WPM" or "WCPM" (Words Correct Per Minute), which penalizes you for errors. This tool assumes the word count you provide is the one you want to measure.</p>
</details>
<details class="border-b border-gray-200 py-2">
<summary>How can I improve my WPM?</summary>
<p class="mt-2 text-gray-700">The most effective way to improve your typing speed is through consistent practice. Learning touch typing (typing without looking at the keys), maintaining good posture, and using online typing tutors or practice websites are all proven methods to increase your WPM.</p>
</details>
<details class="border-b border-gray-200 py-2">
<summary>What is the average reading WPM?</summary>
<p class="mt-2 text-gray-700">The average reading speed for an adult is typically between 200 and 250 WPM for non-technical material. This can increase with practice (speed reading) or decrease for more complex, technical texts.</p>
</details>
</section>

<div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Contents verified by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-26">October 26, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Instantly switch between calculating speed, time, or word count.</li>
<li>Plan your writing projects or speaking engagements accurately.</li>
<li>Benchmark your typing or reading speed to track improvement.</li>
<li>Get quick estimates for academic or professional tasks.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="reading-time-calculator.html" class="text-blue-600 hover:underline">Reading Time Calculator</a></li>
<li><a href="speech-time-calculator.html" class="text-blue-600 hover:underline">Speech Time Calculator</a></li>
<li><a href="words-to-pages-calculator.html" class="text-blue-600 hover:underline">Words to Pages Calculator</a></li>
<li><a href="typing-speed-test.html" class="text-blue-600 hover:underline">Typing Speed Test</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {
// --- 1. Element References ---
const elements = {
calcMode: document.getElementById('calcMode'),
// Groups
wpmGroup: document.getElementById('wpm-group'),
timeGroup: document.getElementById('time-group'),
wordsGroup: document.getElementById('words-group'),
// WPM Inputs
wpmWords: document.getElementById('wpm-words'),
wpmTime: document.getElementById('wpm-time'),
wpmTimeUnit: document.getElementById('wpm-timeUnit'),
// Time Inputs
timeWords: document.getElementById('time-words'),
timeWPM: document.getElementById('time-wpm'),
// Words Inputs
wordsWPM: document.getElementById('words-wpm'),
wordsTime: document.getElementById('words-time'),
wordsTimeUnit: document.getElementById('words-timeUnit'),
// Results
resultLabel: document.getElementById('result-label'),
resultValue: document.getElementById('result-value'),
resultSecondary: document.getElementById('result-secondary'),
// Input list for event binding
allInputs: document.querySelectorAll('#calculator-ui input[type="number"], #calculator-ui select'),
};

// --- 2. Utility Functions ---

/**
* Converte un valore di tempo e la sua unità in minuti.
* @param {number} time - Il valore del tempo.
* @param {string} unit - 'seconds', 'minutes', o 'hours'.
* @returns {number} Il tempo in minuti.
*/
const parseTime = (time, unit) => {
if (isNaN(time) || time <= 0) return 0;
switch (unit) {
case 'seconds': return time / 60;
case 'hours': return time * 60;
default: return time; // È già in minuti
}
};

/**
* Formatta un numero con le virgole.
* @param {number} num - Il numero da formattare.
* @returns {string} Il numero formattato.
*/
const fmtNum = (num) => {
if (isNaN(num)) return '0';
// Usa toLocaleString per una formattazione precisa
return num.toLocaleString(undefined, { maximumFractionDigits: 1 });
};

/**
* Formatta i minuti in un formato leggibile (es. "6 min, 30 sec").
* @param {number} totalMinutes - Il tempo totale in minuti.
* @returns {string} Una stringa di tempo formattata.
*/
const formatTimeResult = (totalMinutes) => {
if (isNaN(totalMinutes) || totalMinutes <= 0) return '0 min, 0 sec';

const totalSeconds = Math.round(totalMinutes * 60);
const hours = Math.floor(totalSeconds / 3600);
const minutes = Math.floor((totalSeconds % 3600) / 60);
const seconds = totalSeconds % 60;

let parts = [];
if (hours > 0) parts.push(`${hours} hr`);
if (minutes > 0) parts.push(`${minutes} min`);
if (seconds > 0 || (hours === 0 && minutes === 0)) {
parts.push(`${seconds} sec`);
}
return parts.join(', ');
};

/**
* Valida un singolo campo di input.
* @param {HTMLInputElement} input - L'elemento input da validare.
* @returns {boolean} True se valido, false altrimenti.
*/
const validateField = (input) => {
const errorEl = document.getElementById(input.getAttribute('aria-describedby'));
let isValid = true;
let message = '';

if (!input.value) {
isValid = false;
message = 'This field is required.';
} else {
const val = parseFloat(input.value);
if (isNaN(val) || val <= 0) {
isValid = false;
message = 'Please enter a positive number.';
}
}

if (!isValid) {
errorEl.textContent = message;
errorEl.classList.remove('hidden');
input.setAttribute('aria-invalid', 'true');
} else {
errorEl.textContent = '';
errorEl.classList.add('hidden');
input.setAttribute('aria-invalid', 'false');
}
return isValid;
};

/**
* Aggiorna l'interfaccia utente dei risultati.
* @param {string} label - Il testo per l'etichetta del risultato.
* @param {string} value - Il valore principale del risultato.
* @param {string} secondary - Il testo secondario di contesto.
*/
const updateResults = (label, value, secondary) => {
elements.resultLabel.textContent = label;
elements.resultValue.textContent = value;
elements.resultSecondary.textContent = secondary;
};

/**
* Pulisce tutti i campi di input e i risultati.
*/
const resetCalculator = () => {
elements.allInputs.forEach(input => {
if (input.type === 'number') input.value = '';
if (input.tagName === 'SELECT' && !input.id.includes('Unit')) {
// Non resettare i selettori di unità
}
const errorEl = document.getElementById(input.getAttribute('aria-describedby'));
if (errorEl) {
errorEl.textContent = '';
errorEl.classList.add('hidden');
}
if(input.setAttribute) input.setAttribute('aria-invalid', 'false');
});
updateResults('Your WPM', '0', 'Enter your values above to calculate.');
};

// --- 3. Logica di Calcolo ---

const calculateWPM = () => {
const isValidWords = validateField(elements.wpmWords);
const isValidTime = validateField(elements.wpmTime);
if (!isValidWords || !isValidTime) {
updateResults('Your WPM', '...', 'Please fill in all fields.');
return;
}

const words = parseFloat(elements.wpmWords.value);
const time = parseFloat(elements.wpmTime.value);
const unit = elements.wpmTimeUnit.value;

const timeInMinutes = parseTime(time, unit);
if (timeInMinutes === 0) {
updateResults('Your WPM', 'N/A', 'Time must be greater than zero.');
return;
}

const wpm = words / timeInMinutes;
updateResults('Your WPM', fmtNum(wpm), `Based on ${fmtNum(words)} words in ${time} ${unit}.`);
};

const calculateTime = () => {
const isValidWords = validateField(elements.timeWords);
const isValidWPM = validateField(elements.timeWPM);
if (!isValidWords || !isValidWPM) {
updateResults('Time Needed', '...', 'Please fill in all fields.');
return;
}

const words = parseFloat(elements.timeWords.value);
const wpm = parseFloat(elements.timeWPM.value);

if (wpm === 0) {
updateResults('Time Needed', 'N/A', 'WPM must be greater than zero.');
return;
}

const timeInMinutes = words / wpm;
updateResults('Time Needed', formatTimeResult(timeInMinutes), `To process ${fmtNum(words)} words at ${fmtNum(wpm)} WPM.`);
};

const calculateWords = () => {
const isValidWPM = validateField(elements.wordsWPM);
const isValidTime = validateField(elements.wordsTime);
if (!isValidWPM || !isValidTime) {
updateResults('Word Count', '...', 'Please fill in all fields.');
return;
}

const wpm = parseFloat(elements.wordsWPM.value);
const time = parseFloat(elements.wordsTime.value);
const unit = elements.wordsTimeUnit.value;

const timeInMinutes = parseTime(time, unit);
if (timeInMinutes === 0) {
updateResults('Word Count', '0', 'Time must be greater than zero.');
return;
}

const words = wpm * timeInMinutes;
updateResults('Word Count', fmtNum(words), `At a speed of ${fmtNum(wpm)} WPM for ${time} ${unit}.`);
};

// --- 4. Gestori di Eventi ---

/**
* Funzione principale di calcolo che indirizza alla funzione corretta.
*/
const handleCalculation = () => {
const mode = elements.calcMode.value;
switch (mode) {
case 'wpm':
calculateWPM();
break;
case 'time':
calculateTime();
break;
case 'words':
calculateWords();
break;
}
};

/**
* Gestisce il cambio di modalità di calcolo, mostrando/nascondendo i campi.
*/
const handleModeChange = () => {
const mode = elements.calcMode.value;
resetCalculator();

// Nascondi tutti i gruppi
elements.wpmGroup.classList.add('hidden');
elements.timeGroup.classList.add('hidden');
elements.wordsGroup.classList.add('hidden');
elements.wpmGroup.setAttribute('aria-hidden', 'true');
elements.timeGroup.setAttribute('aria-hidden', 'true');
elements.wordsGroup.setAttribute('aria-hidden', 'true');

// Mostra il gruppo corretto
switch (mode) {
case 'wpm':
elements.wpmGroup.classList.remove('hidden');
elements.wpmGroup.setAttribute('aria-hidden', 'false');
updateResults('Your WPM', '0', 'Enter your values above to calculate.');
break;
case 'time':
elements.timeGroup.classList.remove('hidden');
elements.timeGroup.setAttribute('aria-hidden', 'false');
updateResults('Time Needed', '0 min, 0 sec', 'Enter your values above to calculate.');
break;
case 'words':
elements.wordsGroup.classList.remove('hidden');
elements.wordsGroup.setAttribute('aria-hidden', 'false');
updateResults('Word Count', '0', 'Enter your values above to calculate.');
break;
}
};

// --- 5. Inizializzazione ---

// Collega gli eventi
elements.calcMode.addEventListener('change', handleModeChange);
elements.allInputs.forEach(input => {
input.addEventListener('input', handleCalculation);
// Validazione on-blur per una migliore UX
if(input.type === 'number') {
input.addEventListener('blur', () => validateField(input));
}
});

// Imposta lo stato iniziale al caricamento della pagina
handleModeChange();

// Gestione menu mobile (dall'esempio)
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
if (menuToggle && mobileMenu) {
menuToggle.addEventListener('click', () => {
mobileMenu.classList.toggle('hidden');
const isExpanded = !mobileMenu.classList.contains('hidden');
menuToggle.setAttribute('aria-expanded', isExpanded.toString());
});
}
});
</script>

</body>
</html>