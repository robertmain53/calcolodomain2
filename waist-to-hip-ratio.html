<!DOCTYPE html>
<html lang="en"><head> 
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg" />
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
<link rel="manifest" href="https://calcdomain.com/site.webmanifest" />
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Waist-to-Hip Ratio Calculator | Health and Fitness Body Metrics</title>
<meta content="Use our waist to hip ratio calculator to assess body fat distribution and cardiometabolic risk using WHO thresholds. Accurate, accessible, and mobile-friendly." name="description">
<meta content="Ugo Candido" name="author">
<link href="https://calcdomain.com/waist-to-hip-ratio.html" rel="canonical">
<meta content="#ffffff" name="theme-color">
<meta content="website" property="og:type">
<meta content="Waist-to-Hip Ratio Calculator" property="og:title">
<meta content="Assess your waist-to-hip ratio (WHR) with WHO-based thresholds. Accessible, mobile-first, and privacy-friendly." property="og:description">
<meta content="https://calcdomain.com/waist-to-hip-ratio.html" property="og:url">
<meta content="https://calcdomain.com/og-image-whr.png.html" property="og:image">
<meta content="summary_large_image" name="twitter:card">
<style>
    :root{
      --primary:#0B5CAD; --primary-600:#094C8F; --primary-700:#073C72;
      --bg:#ffffff; --bg-muted:#F6F7F9; --text:#1F2937; --muted:#6B7280;
      --border:#E5E7EB; --success:#198754; --warn:#B45309; --danger:#B91C1C;
      --surface:#ffffff; --focus:#115EBA;

      --radius:12px; --radius-sm:8px;
      --shadow:0 6px 20px rgba(0,0,0,.06);
      --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;

      --touch:48px;
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    body{margin:0;font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.6;-webkit-font-smoothing:antialiased}
    img{max-width:100%;display:block}
    a{color:var(--primary);text-decoration:none}
    a:hover{color:var(--primary-700);text-decoration:underline}
    .container{max-width:1080px;margin-inline:auto;padding-inline:clamp(1rem,3vw,1.5rem)}
    .skip-link{position:absolute;left:8px;top:-40px;background:var(--primary);color:#fff;padding:.5rem .75rem;border-radius:.25rem;z-index:9999}
    .skip-link:focus{top:8px;outline:3px solid #fff;outline-offset:2px}
    h1{font-size:clamp(1.75rem,4vw,2.25rem);line-height:1.2;margin:.5rem 0 0.5rem;color:var(--primary-700)}
    h2{font-size:clamp(1.35rem,3vw,1.75rem);line-height:1.25;margin:2rem 0 .75rem;color:var(--primary-700)}
    h3{font-size:clamp(1.1rem,2.5vw,1.25rem);margin:1rem 0 .5rem;color:#0f172a}
    p{margin:.75rem 0;max-width:70ch}
    code,.formula{font-family:var(--mono);background:#eef2ff;padding:.2rem .4rem;border-radius:.25rem}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
    .btn{display:inline-flex;align-items:center;justify-content:center;min-height:var(--touch);min-width:var(--touch);padding:.75rem 1rem;border:1px solid transparent;border-radius:10px;background:var(--primary);color:#fff;font-weight:600;cursor:pointer;box-shadow:none;transition:all .2s}
    .btn:hover{background:var(--primary-600);transform:translateY(-1px)}
    .btn:focus{outline:3px solid var(--focus);outline-offset:2px}
    .btn.secondary{background:#fff;color:var(--primary);border-color:var(--primary)}
    .btn.secondary:hover{background:#F0F7FF}
    .badge{display:inline-flex;align-items:center;gap:.5ch;padding:.35rem .6rem;border-radius:999px;font-weight:700;font-size:.9rem;border:1px solid var(--border);background:#fff}
    .badge.success{color:#0f5132;border-color:#badbcc;background:#d1e7dd}
    .badge.warn{color:#664d03;border-color:#ffecb5;background:#fff3cd}
    .badge.danger{color:#842029;border-color:#f5c2c7;background:#f8d7da}

    header.site-header{background:#fff;border-bottom:1px solid var(--border)}
    header .wrap{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem 0}
    .brand{display:inline-flex;align-items:center;gap:.6rem;color:#111827;font-weight:800}
    .brand .logo{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,#0B5CAD,#60A5FA)}
    .brand span{letter-spacing:.2px}
    nav a{padding:.5rem .75rem;border-radius:8px}
    nav a:focus{outline:3px solid var(--focus);outline-offset:2px}

    main{padding:1rem 0 3rem}
    .layout{display:grid;grid-template-columns:1fr;gap:1.5rem}
    @media (min-width: 992px){
      .layout{grid-template-columns:420px 1fr;align-items:start}
    }
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;box-shadow:var(--shadow)}
    .calculator .form-group{margin-bottom:1rem}
    label{display:flex;align-items:center;gap:.5rem;font-weight:700;margin-bottom:.5rem}
    .help-btn{appearance:none;border:1px solid var(--border);background:#fff;border-radius:999px;width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;font-weight:800;cursor:pointer}
    .help-btn:focus{outline:3px solid var(--focus);outline-offset:2px}
    .tooltip{display:none;border-left:3px solid var(--primary);background:#F0F7FF;padding:.75rem;border-radius:6px;color:#0f172a;margin:.5rem 0}
    .tooltip[aria-hidden="false"]{display:block}
    .radio-group{display:flex;gap:.5rem;flex-wrap:wrap}
    .radio-tile{position:relative}
    .radio-tile input{position:absolute;opacity:0;inset:0}
    .radio-tile label{margin:0;border:1px solid var(--border);border-radius:10px;padding:.6rem .9rem;min-height:var(--touch);display:flex;align-items:center;justify-content:center;min-width:120px;background:#fff;color:#111827}
    .radio-tile input:checked+label{background:var(--primary);border-color:var(--primary);color:#fff}
    .radio-tile input:focus+label{outline:3px solid var(--focus);outline-offset:2px}
    .input-group{position:relative}
    .unit{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:#4b5563;pointer-events:none}
    input[type="number"]{width:100%;padding:.8rem 2.75rem .8rem 1rem;border:1px solid var(--border);border-radius:10px;font-size:1rem;min-height:var(--touch);background:#fff}
    input[type="number"]:focus{outline:3px solid var(--focus);outline-offset:2px}
    .error{color:var(--danger);font-size:.95rem;margin-top:.35rem}
    .results{min-height:240px}
    .result-row{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid var(--border)}
    .result-row:last-child{border-bottom:0}
    .result-label{color:#374151}
    .result-value{font-weight:800;font-size:1.25rem}
    .muted{color:var(--muted)}
    .formula-box{background:#F6F7F9;border:1px dashed var(--border);padding:1rem;border-radius:10px}
    .author-box{border-top:1px solid var(--border);margin-top:2rem;padding-top:1rem;color:#4b5563;font-size:.95rem}
    .note{font-size:.95rem;color:#4b5563}
    footer{border-top:1px solid var(--border);background:#fff}
    footer .wrap{padding:1.25rem 0;color:#6b7280;font-size:.95rem;display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;justify-content:space-between}
    .kpi{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:.5rem}
    .kpi .small{font-size:.95rem;color:#374151}
    .pill{display:inline-block;padding:.25rem .5rem;border-radius:999px;background:#eef2ff;color:#1e40af;border:1px solid #c7d2fe;font-weight:700}
    .visually-strong{font-weight:800}
  </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Waist-to-Hip Ratio Calculator",
  "description": "An accessible waist to hip ratio calculator using WHO thresholds to assess body fat distribution and cardiometabolic risk.",
  "url": "https://calcdomain.com/waist-to-hip-ratio.html",
  "inLanguage": "en",
  "isPartOf": {
    "@type": "WebSite",
    "name": "CalcDomain",
    "url": "https://example.com"
  },
  "about": "Waist-to-Hip Ratio Calculator",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Calculate WHR from waist and hip measurements and interpret risk per WHO thresholds.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Choose units",
          "text": "Select Metric (cm) or Imperial (in). The ratio is unitless, so either system works."
        },
        {
          "@type": "HowToStep",
          "name": "Select sex",
          "text": "Pick the sex at birth to apply the correct WHO thresholds."
        },
        {
          "@type": "HowToStep",
          "name": "Measure waist",
          "text": "Measure the natural waist (narrowest point) after a gentle exhale."
        },
        {
          "@type": "HowToStep",
          "name": "Measure hip",
          "text": "Measure the widest part of the buttocks/hips, keeping the tape horizontal."
        },
        {
          "@type": "HowToStep",
          "name": "Compute WHR",
          "text": "WHR = Waist / Hip. For example: 80 รท 100 = 0.80."
        },
        {
          "@type": "HowToStep",
          "name": "Interpret",
          "text": "Use WHO thresholds for the selected sex to classify risk (Low/Moderate/High)."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is a healthy waist-to-hip ratio?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "WHO indicates low risk is โค0.80 for women and โค0.90 for men. Moderate risk is 0.81โ0.84 for women and 0.91โ0.99 for men. High risk is โฅ0.85 for women and โฅ1.00 for men."
          }
        },
        {
          "@type": "Question",
          "name": "Does it matter if I use inches or centimeters?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. WHR is a ratio, so units cancel out as long as both measurements use the same unit."
          }
        },
        {
          "@type": "Question",
          "name": "How tight should I pull the tape?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use a snug but not compressing tension. Keep the tape horizontal and measure after a gentle exhale for the waist."
          }
        },
        {
          "@type": "Question",
          "name": "Is WHR better than BMI?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "They answer different questions. WHR reflects fat distribution (central vs. peripheral), while BMI reflects mass relative to height. Many clinicians use both plus waist circumference."
          }
        },
        {
          "@type": "Question",
          "name": "How often should I measure?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Monthly is sufficient for most people. Measure at the same time of day and conditions for comparability."
          }
        },
        {
          "@type": "Question",
          "name": "Which thresholds should transgender or non-binary people use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Discuss with your clinician which reference set best reflects your body and health context. This tool applies WHO sex-at-birth thresholds by default."
          }
        }
      ]
    }
  ]
}
  </script>
<!-- MathJax for LaTeX rendering (deferred and below-the-fold) -->
<script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
<script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\(','\)'], ['$', '$']],
      displayMath: [['$','$'], ['\[','\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">

</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container" id="main" role="main">
<h1>Waist-to-Hip Ratio Calculator</h1>
<p>
      This waist to hip ratio calculator helps you assess body fat distribution and potential cardiometabolic risk using WHO thresholds. Itโs designed for anyone tracking health metrics, from clinicians and coaches to individuals on a wellness journey.
    </p>
<div class="layout" id="calculator-layout">
<section aria-labelledby="calc-heading" class="card calculator">
<h2 id="calc-heading">Enter your measurements</h2>
<div class="form-group">
<fieldset>
<legend class="sr-only">Choose unit system</legend>
<label>Unit system *</label>
<div aria-label="Unit system" class="radio-group" role="radiogroup">
<div class="radio-tile">
<input checked="" id="unitMetric" name="unit" type="radio" value="metric">
<label for="unitMetric">Metric (cm)</label>
</div>
<div class="radio-tile">
<input id="unitImperial" name="unit" type="radio" value="imperial">
<label for="unitImperial">Imperial (in)</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend class="sr-only">Choose sex for thresholds</legend>
<label>Sex (for WHO thresholds) *</label>
<div aria-label="Sex for thresholds" class="radio-group" role="radiogroup">
<div class="radio-tile">
<input checked="" id="sexFemale" name="sex" type="radio" value="female">
<label for="sexFemale">Female</label>
</div>
<div class="radio-tile">
<input id="sexMale" name="sex" type="radio" value="male">
<label for="sexMale">Male</label>
</div>
</div>
<p class="note" id="sexNote">WHO WHR risk thresholds differ by sex at birth. If unsure which reference to use, ask your clinician.</p>
</fieldset>
</div>
<div class="form-group">
<label for="waistInput">
            Waist circumference *
            <button aria-controls="waistHelp" aria-expanded="false" class="help-btn" id="waistHelpBtn" title="How to measure waist" type="button">?</button>
</label>
<div class="input-group">
<input aria-describedby="waistUnit waistError waistHelp" aria-required="true" id="waistInput" inputmode="decimal" max="200" min="20" placeholder="e.g., 80" step="0.1" type="number">
<span aria-hidden="true" class="unit" id="waistUnit">cm</span>
</div>
<div aria-hidden="true" class="tooltip" id="waistHelp" role="region">
            Measure at the narrowest part of your torso (roughly midway between the lower rib and the iliac crest), after a gentle exhale. Keep the tape horizontal and snug without compressing.
          </div>
<div aria-live="polite" class="error" id="waistError" role="alert"></div>
</div>
<div class="form-group">
<label for="hipInput">
            Hip circumference *
            <button aria-controls="hipHelp" aria-expanded="false" class="help-btn" id="hipHelpBtn" title="How to measure hips" type="button">?</button>
</label>
<div class="input-group">
<input aria-describedby="hipUnit hipError hipHelp" aria-required="true" id="hipInput" inputmode="decimal" max="250" min="30" placeholder="e.g., 100" step="0.1" type="number">
<span aria-hidden="true" class="unit" id="hipUnit">cm</span>
</div>
<div aria-hidden="true" class="tooltip" id="hipHelp" role="region">
            Measure around the widest part of the buttocks/hips, keeping the tape horizontal and snug without compressing soft tissue.
          </div>
<div aria-live="polite" class="error" id="hipError" role="alert"></div>
</div>
<div class="form-group" style="display:flex;gap:.75rem;flex-wrap:wrap">
<button aria-label="Reset all inputs" class="btn" id="resetBtn" type="button">Reset</button>
<button aria-label="Load example values" class="btn secondary" id="exampleBtn" type="button">Load example</button>
</div>
<p aria-live="polite" class="note">Results update automatically once both measurements are provided.</p>
</section>
<section aria-labelledby="results-heading" class="card results">
<h2 id="results-heading">Results</h2>
<div aria-atomic="true" aria-live="polite">
<div class="result-row">
<span class="result-label">Waist-to-Hip Ratio (WHR)</span>
<span class="result-value" id="whrValue">โ</span>
</div>
<div class="result-row">
<span class="result-label">Classification</span>
<span class="badge" id="whrClass">โ</span>
</div>
<div class="result-row">
<span class="result-label">Health Risk (WHO)</span>
<span class="pill" id="whrRisk">โ</span>
</div>
<div class="result-row">
<span class="result-label">Interpretation</span>
<span class="small muted" id="whrTip">Enter waist and hip to see your results.</span>
</div>
</div>
<div aria-label="Quick thresholds summary" class="kpi">
<div class="card" style="padding:1rem">
<div class="small visually-strong">WHO thresholds (Female)</div>
<div class="small">Low: โค 0.80</div>
<div class="small">Moderate: 0.81โ0.84</div>
<div class="small">High: โฅ 0.85</div>
</div>
<div class="card" style="padding:1rem">
<div class="small visually-strong">WHO thresholds (Male)</div>
<div class="small">Low: โค 0.90</div>
<div class="small">Moderate: 0.91โ0.99</div>
<div class="small">High: โฅ 1.00</div>
</div>
</div>
</section>
</div>
<section aria-labelledby="source-methodology" class="card">
<h2 id="source-methodology">Data Source and Methodology</h2>
<p>
        Primary reference: World Health Organization (2011). Waist Circumference and WaistโHip Ratio: Report of a WHO Expert Consultation, Geneva, 8โ11 December 2008. ISBN: 978 92 4 150149 1. Available at:
        <a href="https://apps.who.int/iris/handle/10665/44583" rel="nofollow noopener" target="_blank">https://apps.who.int/iris/handle/10665/44583</a>.
      </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
<ul>
<li>Formula: WHR = Waist circumference รท Hip circumference.</li>
<li>Risk classification: WHO sex-specific thresholds as cited above.</li>
<li>Units: Ratio is dimensionless; centimeters or inches can be used interchangeably if consistent.</li>
</ul>
</section>
<section aria-labelledby="formula-explained" class="card">
<h2 id="formula-explained">The Formula Explained</h2>
<div class="formula-box">
<p>Inline: $\\mathrm{WHR} = \\dfrac{W}{H}$</p>
<p>Where $W$ is waist circumference and $H$ is hip circumference, both in the same unit (cm or in).</p>
</div>
<div class="formula-box">
<p>Classification by WHO:</p>
<p>Female: Low if $\\mathrm{WHR} \\le 0.80$; Moderate if $0.81 \\le \\mathrm{WHR} \\le 0.84$; High if $\\mathrm{WHR} \\ge 0.85$.</p>
<p>Male: Low if $\\mathrm{WHR} \\le 0.90$; Moderate if $0.91 \\le \\mathrm{WHR} \\le 0.99$; High if $\\mathrm{WHR} \\ge 1.00$.</p>
</div>
</section>
<section aria-labelledby="glossary" class="card">
<h2 id="glossary">Glossary of Variables</h2>
<ul>
<li><strong>Unit system</strong>: Choose Metric (centimeters) or Imperial (inches). Both work as WHR is unitless.</li>
<li><strong>Sex (for thresholds)</strong>: Applies WHO risk cutoffs specific to sex at birth.</li>
<li><strong>Waist circumference (W)</strong>: The narrowest part of the torso, measured after a gentle exhale.</li>
<li><strong>Hip circumference (H)</strong>: The widest part of the buttocks/hips.</li>
<li><strong>Waist-to-Hip Ratio (WHR)</strong>: W รท H, displayed to two decimals.</li>
<li><strong>Classification</strong>: Low, Moderate, or High per WHO.</li>
<li><strong>Health Risk</strong>: A qualitative indicator associated with central adiposity and cardiometabolic risk.</li>
</ul>
</section>
<section aria-labelledby="worked-example" class="card">
<h2 id="worked-example">Worked Example</h2>
<h3>How It Works: A Step-by-Step Example</h3>
<ol>
<li>Select Metric (cm) and Female.</li>
<li>Measure waist: W = 80 cm.</li>
<li>Measure hips: H = 100 cm.</li>
<li>Compute: $\\mathrm{WHR} = \\dfrac{80}{100} = 0.80$.</li>
<li>Interpretation: For females, 0.80 is โLowโ.</li>
</ol>
<p class="note">If you switch to inches (e.g., 31.5 in and 39.4 in), the ratio remains the same: 31.5 รท 39.4 โ 0.80.</p>
</section>
<section aria-labelledby="faq" class="card">
<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<div>
<h3>What is a healthy waist-to-hip ratio?</h3>
<p>Per WHO: for women, โค 0.80 is low risk; 0.81โ0.84 moderate; โฅ 0.85 high. For men, โค 0.90 low; 0.91โ0.99 moderate; โฅ 1.00 high.</p>
<h3>Is lower always better?</h3>
<p>A lower WHR generally indicates less central fat accumulation and lower cardiometabolic risk, but health is multifactorial. Discuss your results with a healthcare professional.</p>
<h3>WHR vs. BMI: which should I use?</h3>
<p>They complement each other. BMI estimates body mass relative to height; WHR reflects fat distribution. Many practitioners also consider waist circumference alone.</p>
<h3>How do I measure consistently?</h3>
<p>Measure at the same time of day, after a gentle exhale for the waist, with a non-stretch tape kept horizontal and snug (not compressing).</p>
<h3>Can I use inches instead of centimeters?</h3>
<p>Yes. WHR is unitless. Just keep both measurements in the same unit.</p>
<h3>Which thresholds should transgender or non-binary people use?</h3>
<p>Threshold choice is individualized. Consult your healthcare provider to determine the reference most appropriate for your body and context.</p>
<h3>Is my data stored?</h3>
<p>No. This calculator runs entirely in your browser; values are not sent to a server.</p>
</div>
</section>
<div class="author-box">
<p>
        Tool developed by <strong>Ugo Candido</strong>.<br/>
        Content reviewed by <strong>CalcDomain Health &amp; Fitness Editorial Team</strong>.<br/>
        Last reviewed for accuracy on: <time datetime="2025-09-14">September 14, 2025</time>.
      </p>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      'use strict';

      const unitRadios = Array.from(document.querySelectorAll('input[name="unit"]'));
      const sexRadios  = Array.from(document.querySelectorAll('input[name="sex"]'));
      const waistInput = document.getElementById('waistInput');
      const hipInput   = document.getElementById('hipInput');
      const waistUnit  = document.getElementById('waistUnit');
      const hipUnit    = document.getElementById('hipUnit');

      const waistErr   = document.getElementById('waistError');
      const hipErr     = document.getElementById('hipError');

      const whrValueEl = document.getElementById('whrValue');
      const whrClassEl = document.getElementById('whrClass');
      const whrRiskEl  = document.getElementById('whrRisk');
      const whrTipEl   = document.getElementById('whrTip');

      const resetBtn   = document.getElementById('resetBtn');
      const exampleBtn = document.getElementById('exampleBtn');

      const waistHelpBtn = document.getElementById('waistHelpBtn');
      const hipHelpBtn   = document.getElementById('hipHelpBtn');
      const waistHelp    = document.getElementById('waistHelp');
      const hipHelp      = document.getElementById('hipHelp');

      // Accessibility: toggle tooltips
      function toggleTooltip(btn, panel){
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.setAttribute('aria-hidden', String(expanded));
      }
      waistHelpBtn.addEventListener('click', () => toggleTooltip(waistHelpBtn, waistHelp));
      hipHelpBtn.addEventListener('click', () => toggleTooltip(hipHelpBtn, hipHelp));

      // Units update
      function updateUnits(){
        const unit = getUnit();
        const label = unit === 'metric' ? 'cm' : 'in';
        waistUnit.textContent = label;
        hipUnit.textContent   = label;

        // Update ranges appropriate to units
        if(unit === 'metric'){
          waistInput.min = 20; waistInput.max = 200;
          hipInput.min = 30; hipInput.max = 250;
          if(waistInput.placeholder) waistInput.placeholder = 'e.g., 80';
          if(hipInput.placeholder) hipInput.placeholder = 'e.g., 100';
        } else {
          waistInput.min = 8; waistInput.max = 80;
          hipInput.min = 12; hipInput.max = 100;
          if(waistInput.placeholder) waistInput.placeholder = 'e.g., 31.5';
          if(hipInput.placeholder) hipInput.placeholder = 'e.g., 39.4';
        }
        validateField(waistInput, waistErr);
        validateField(hipInput, hipErr);
        compute();
      }

      unitRadios.forEach(r => r.addEventListener('change', updateUnits));
      sexRadios.forEach(r => r.addEventListener('change', compute));

      function getUnit(){
        const sel = unitRadios.find(r => r.checked);
        return sel ? sel.value : 'metric';
      }
      function getSex(){
        const sel = sexRadios.find(r => r.checked);
        return sel ? sel.value : 'female';
      }

      // Validation
      function validateField(input, errorEl){
        let val = input.value.trim();
        let unit = getUnit();
        const min = Number(input.min);
        const max = Number(input.max);

        if(val === ''){
          input.setAttribute('aria-invalid','true');
          errorEl.textContent = 'This field is required. Please enter a value.';
          return false;
        }
        const num = Number(val);
        if(Number.isNaN(num)){
          input.setAttribute('aria-invalid','true');
          errorEl.textContent = 'Please enter a valid number (decimals allowed).';
          return false;
        }
        if(num <= 0){
          input.setAttribute('aria-invalid','true');
          errorEl.textContent = 'Value must be greater than 0.';
          return false;
        }
        if(num < min || num > max){
          input.setAttribute('aria-invalid','true');
          errorEl.textContent = `Please enter a realistic value between ${min} and ${max} ${unit === 'metric' ? 'cm' : 'in'}.`;
          return false;
        }
        input.removeAttribute('aria-invalid');
        errorEl.textContent = '';
        return true;
      }

      function classifyWHR(whr, sex){
        // WHO thresholds
        let classification = 'โ';
        let risk = 'โ';
        let badgeClass = '';
        if(sex === 'female'){
          if(whr <= 0.80){ classification = 'Low'; risk = 'Lower risk'; badgeClass = 'success'; }
          else if(whr < 0.85){ classification = 'Moderate'; risk = 'Moderate risk'; badgeClass = 'warn'; }
          else { classification = 'High'; risk = 'Higher risk'; badgeClass = 'danger'; }
        } else {
          if(whr <= 0.90){ classification = 'Low'; risk = 'Lower risk'; badgeClass = 'success'; }
          else if(whr < 1.00){ classification = 'Moderate'; risk = 'Moderate risk'; badgeClass = 'warn'; }
          else { classification = 'High'; risk = 'Higher risk'; badgeClass = 'danger'; }
        }
        return { classification, risk, badgeClass };
      }

      function compute(){
        const waistOk = validateField(waistInput, waistErr);
        const hipOk   = validateField(hipInput, hipErr);

        if(!waistOk || !hipOk){
          whrValueEl.textContent = 'โ';
          whrClassEl.textContent = 'โ';
          whrClassEl.className = 'badge';
          whrRiskEl.textContent = 'โ';
          whrRiskEl.className = 'pill';
          whrTipEl.textContent = 'Enter valid waist and hip values to see your results.';
          return;
        }

        const waist = Number(waistInput.value);
        const hip   = Number(hipInput.value);
        if(hip === 0){
          hipInput.setAttribute('aria-invalid','true');
          hipErr.textContent = 'Hip circumference cannot be zero.';
          return;
        }

        const ratio = waist / hip;
        const whr = Math.round(ratio * 100) / 100; // 2 decimals
        whrValueEl.textContent = whr.toFixed(2);

        const sex = getSex();
        const { classification, risk, badgeClass } = classifyWHR(whr, sex);

        whrClassEl.textContent = classification;
        whrClassEl.className = `badge ${badgeClass || ''}`;

        whrRiskEl.textContent = risk;
        whrRiskEl.className = 'pill';

        if(classification === 'Low'){
          whrTipEl.textContent = 'Your WHR falls in the WHO low-risk range for your selected sex.';
        } else if(classification === 'Moderate'){
          whrTipEl.textContent = 'Your WHR is moderate. Consider lifestyle strategies and consult a clinician if needed.';
        } else if(classification === 'High'){
          whrTipEl.textContent = 'Your WHR suggests higher central adiposity. Consider discussing options with a healthcare professional.';
        } else {
          whrTipEl.textContent = 'Provide measurements to receive an interpretation.';
        }
      }

      // Inline validation (on blur) and real-time updates
      waistInput.addEventListener('blur', () => { validateField(waistInput, waistErr); });
      hipInput.addEventListener('blur',   () => { validateField(hipInput, hipErr); });
      waistInput.addEventListener('input', compute);
      hipInput.addEventListener('input',   compute);

      // Buttons
      resetBtn.addEventListener('click', () => {
        waistInput.value = '';
        hipInput.value = '';
        [waistErr, hipErr].forEach(el => el.textContent='');
        waistInput.removeAttribute('aria-invalid');
        hipInput.removeAttribute('aria-invalid');
        whrValueEl.textContent = 'โ';
        whrClassEl.textContent = 'โ';
        whrClassEl.className = 'badge';
        whrRiskEl.textContent = 'โ';
        whrRiskEl.className = 'pill';
        whrTipEl.textContent = 'Enter waist and hip to see your results.';
        // Collapse tooltips
        [waistHelpBtn, hipHelpBtn].forEach(btn => btn.setAttribute('aria-expanded','false'));
        [waistHelp, hipHelp].forEach(panel => panel.setAttribute('aria-hidden','true'));
        waistInput.focus();
      });

      exampleBtn.addEventListener('click', () => {
        // Example: Female, Metric, 80/100 -> 0.80
        document.getElementById('unitMetric').checked = true;
        document.getElementById('sexFemale').checked = true;
        updateUnits();
        waistInput.value = '80';
        hipInput.value = '100';
        compute();
      });

      // Initialize
      updateUnits();
      compute();

      // Keyboard support for showing tooltips on Enter/Space when focused
      function addKeyboardToggle(btn, panel){
        btn.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            toggleTooltip(btn, panel);
          }
        });
      }
      addKeyboardToggle(waistHelpBtn, waistHelp);
      addKeyboardToggle(hipHelpBtn, hipHelp);
    })();
  </script>

</body></html>