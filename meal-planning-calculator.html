<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg" />
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
<link rel="manifest" href="https://calcdomain.com/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meal Planning Calculator - Calculate Calorie & Macro Needs</title>
<meta name="description" content="Calculate your daily calorie and macronutrient needs for meal planning. Get BMR, TDEE, and macro splits for your fitness goals (lose, maintain, or gain weight).">
<link rel="canonical" href="https://calcdomain.com/meal-planning-calculator.html">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol, .prose dl { margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.prose dt { font-weight: 600; }
.prose dd { margin-left: 1.5rem; margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
.result-card p span { font-size: 0.85rem; font-weight: 500; color: #4b5563; }
.result-key { font-size: 2.5rem; font-weight: 800; color: #1e40af; line-height: 1.1; }
.result-key span { font-size: 1rem; font-weight: 500; color: #4b5563; }
.form-label { display: block; text-sm font-medium text-gray-700; }
.form-input {
display: block; width: 100%; mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm
focus:outline-none focus:ring-blue-500 focus:border-blue-500;
min-height: 48px; /* Touch target size */
}
.form-select {
display: block; width: 100%; mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm
focus:outline-none focus:ring-blue-500 focus:border-blue-500;
min-height: 48px; /* Touch target size */
}
.form-radio-label {
display: flex; align-items: center; min-height: 48px; /* Touch target size */
padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; cursor: pointer;
}
.error-message { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }
/* Custom focus state for A11y */
.form-input:focus-visible, .form-select:focus-visible, .form-radio-label:focus-within {
outline: 3px solid #3b82f6;
outline-offset: 1px;
}
.hidden-group { display: none; }
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#macro-chart-container { display: none !important; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@graph": [
{
"@type": "WebPage",
"name": "Meal Planning Calculator",
"description": "Calculate your daily calorie and macronutrient needs for meal planning. Get BMR, TDEE, and macro splits for your fitness goals (lose, maintain, or gain weight).",
"url": "https://calcdomain.com/meal-planning-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
},
{
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Health & Fitness", "item": "https://calcdomain.com/health-fitness.html" },
{ "@type": "ListItem", "position": 3, "name": "Diet & Nutrition", "item": "https://calcdomain.com/subcategories/diet-nutrition.html" },
{ "@type": "ListItem", "position": 4, "name": "Meal Planning Calculator", "item": "https://calcdomain.com/meal-planning-calculator.html" }
]
},
{
"@type": "HowTo",
"name": "How to Calculate Meal Plan Needs",
"description": "A step-by-step guide to calculating your daily calorie and macronutrient needs for meal planning.",
"step": [
{"@type": "HowToStep", "name": "Set Units", "text": "Choose between Metric (kg, cm) and Imperial (lbs, ft, in) units."},
{"@type": "HowToStep", "name": "Enter Personal Data", "text": "Input your age, biological sex, current weight, and height."},
{"@type": "HowToStep", "name": "Define Activity Level", "text": "Select the option that best describes your daily physical activity, from sedentary to very active."},
{"@type": "HowToStep", "name": "Choose Your Goal", "text": "Select whether you want to lose, maintain, or gain weight, and at what rate."},
{"@type": "HowToStep", "name": "Select Macro Preference", "text": "Choose a macronutrient split (e.g., Balanced, Low Carb) to divide your calories."},
{"@type": "HowToStep", "name": "Review Results", "text": "See your target daily calories, maintenance calories, BMR, and a full macronutrient breakdown in grams and as a chart."}
]
},
{
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "What is BMR vs. TDEE?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Your Basal Metabolic Rate (BMR) is the number of calories your body needs to function at rest (e.g., breathing, circulating blood). Your Total Daily Energy Expenditure (TDEE) is your BMR plus the calories you burn from all other activities, including exercise, work, and digestion. TDEE is also known as your 'maintenance calories'."
}
},
{
"@type": "Question",
"name": "How accurate is the Mifflin-St Jeor equation?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The Mifflin-St Jeor equation is considered one of the most accurate BMR formulas for healthy adults, which is why we use it as our standard. However, any formula is an estimate. Individual metabolisms can vary. Use this result as a strong starting point and adjust based on your real-world progress."
}
},
{
"@type": "Question",
"name": "How often should I recalculate my needs?",
"acceptedAnswer": {
"@type": "Answer",
"text": "It's a good practice to recalculate your needs every time you experience a significant change in weight (e.g., 5-10 lbs or 5 kg), or if your daily activity level changes (e.g., you start a new, more active job)."
}
},
{
"@type": "Question",
"name": "I have my numbers. Now what?",
"acceptedAnswer": {
"@type": "Answer",
"text": "These numbers are the quantitative targets for your meal plan. Use them to build daily meals that add up to your target calories and macronutrient goals. You can use a food tracking app or work with a nutritionist to translate these targets into a concrete eating plan."
}
},
{
"@type": "Question",
"name": "Why is protein intake so important for meal planning?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Protein is crucial for repairing and building muscle, especially if you are exercising. It is also the most satiating macronutrient, meaning it helps you feel full and satisfied, which is particularly helpful when in a calorie deficit for weight loss."
}
}
]
}
]
}
</script>
<script src="https://calcdomain.com/search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="https://calcdomain.com/index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="https://calcdomain.com/search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="https://calcdomain.com/index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="https://calcdomain.com/search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="https://calcdomain.com/index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="https://calcdomain.com/index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="https://calcdomain.com/health-fitness.html" class="hover:text-blue-600">Health &amp; Fitness</a> &raquo;
<a href="https://calcdomain.com/subcategories/health-fitness-diet-nutrition.html" class="hover:text-blue-600">Diet &amp; Nutrition</a> &raquo;
<span class="text-gray-900">Meal Planning Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Meal Planning Calculator</h1>
<p class="text-gray-600 mb-6">This tool helps you calculate your foundational daily calorie and macronutrient needs, providing the precise targets required for a successful meal plan. Start by entering your information below.</p>

<form id="calculator-ui" class="space-y-6" novalidate onsubmit="return false;">

<fieldset>
<legend class="block text-sm font-medium text-gray-700 mb-1">Unit System</legend>
<div class="flex gap-4">
<label class="form-radio-label flex-1">
<input type="radio" id="unitMetric" name="unitSystem" value="metric" class="form-radio h-4 w-4 text-blue-600" checked>
<span class="ml-2 text-gray-800">Metric (kg, cm)</span>
</label>
<label class="form-radio-label flex-1">
<input type="radio" id="unitImperial" name="unitSystem" value="imperial" class="form-radio h-4 w-4 text-blue-600">
<span class="ml-2 text-gray-800">Imperial (lbs, ft, in)</span>
</label>
</div>
</fieldset>

<fieldset>
<legend class="text-lg font-semibold text-gray-800 mb-2">1. Personal Information</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="age" class="form-label">Age <span class="text-red-500">*</span></label>
<input type="number" id="age" min="15" max="99" step="1"
class="form-input" aria-required="true" aria-describedby="age-error">
<div id="age-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
<div>
<label for="sex" class="form-label">Biological Sex <span class="text-red-500">*</span></label>
<select id="sex" class="form-select" aria-required="true">
<option value="male">Male</option>
<option value="female">Female</option>
</select>
</div>
</div>
</fieldset>

<fieldset>
<legend class="text-lg font-semibold text-gray-800 mb-2">2. Body Measurements</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div id="metric-group">
<label for="heightCm" class="form-label">Height (cm) <span class="text-red-500">*</span></label>
<input type="number" id="heightCm" min="100" max="250" step="1"
class="form-input" aria-required="true" aria-describedby="heightCm-error">
<div id="heightCm-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
<div id="imperial-height-group" class="hidden-group grid grid-cols-2 gap-2">
<div>
<label for="heightFt" class="form-label">Height (ft) <span class="text-red-500">*</span></label>
<input type="number" id="heightFt" min="3" max="8" step="1"
class="form-input" aria-required="false" aria-describedby="heightFt-error">
<div id="heightFt-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
<div>
<label for="heightIn" class="form-label">(in) <span class="text-red-500">*</span></label>
<input type="number" id="heightIn" min="0" max="11" step="1"
class="form-input" aria-required="false" aria-describedby="heightIn-error">
<div id="heightIn-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
</div>
<div id="metric-weight-group">
<label for="weightKg" class="form-label">Weight (kg) <span class="text-red-500">*</span></label>
<input type="number" id="weightKg" min="30" max="300" step="0.1"
class="form-input" aria-required="true" aria-describedby="weightKg-error">
<div id="weightKg-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
<div id="imperial-weight-group" class="hidden-group">
<label for="weightLbs" class="form-label">Weight (lbs) <span class="text-red-500">*</span></label>
<input type="number" id="weightLbs" min="60" max="600" step="0.1"
class="form-input" aria-required="false" aria-describedby="weightLbs-error">
<div id="weightLbs-error" class="error-message" role="alert" aria-live="assertive"></div>
</div>
</div>
</fieldset>

<fieldset>
<legend class="text-lg font-semibold text-gray-800 mb-2">3. Activity & Goals</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="activityLevel" class="form-label">Activity Level <span class="text-red-500">*</span></label>
<select id="activityLevel" class="form-select" aria-required="true">
<option value="1.2">Sedentary (little or no exercise)</option>
<option value="1.375" selected>Lightly Active (light exercise/sports 1-3 days/week)</option>
<option value="1.55">Moderately Active (moderate exercise/sports 3-5 days/week)</option>
<option value="1.725">Very Active (hard exercise/sports 6-7 days a week)</option>
<option value="1.9">Extra Active (very hard exercise/sports & physical job)</option>
</select>
</div>
<div>
<label for="goal" class="form-label">Primary Goal <span class="text-red-500">*</span></label>
<select id="goal" class="form-select" aria-required="true">
<option value="maintain">Maintain Current Weight</option>
<option value="lose" selected>Lose Weight</option>
<option value="gain">Gain Weight</option>
</select>
</div>
<div id="goal-rate-group" class="md:col-span-1">
<label for="goalRate" class="form-label">Weekly Goal Rate</label>
<select id="goalRate" class="form-select">
<option value="-1100">Extreme Weight Loss (1 kg / 2.2 lbs per week)</option>
<option value="-500" selected>Weight Loss (0.5 kg / 1.1 lbs per week)</option>
<option value="-250">Mild Weight Loss (0.25 kg / 0.5 lbs per week)</option>
<option value="0">Maintain Weight</option>
<option value="250">Mild Weight Gain (0.25 kg / 0.5 lbs per week)</option>
<option value="500">Weight Gain (0.5 kg / 1.1 lbs per week)</option>
</select>
</div>
<div>
<label for="macroPreference" class="form-label">Macronutrient Preference <span class="text-red-500">*</span></label>
<select id="macroPreference" class="form-select" aria-required="true">
<option value="balanced" selected>Balanced (40%C / 30%P / 30%F)</option>
<option value="lowcarb">Low Carb (25%C / 40%P / 35%F)</option>
<option value="highprotein">High Protein (30%C / 40%P / 30%F)</option>
</select>
</div>
</div>
</fieldset>

<div class="flex flex-col md:flex-row gap-4 pt-4">
<button type="submit" id="calculate-btn" class="w-full md:w-auto bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" style="min-height: 48px;">
Calculate Needs
</button>
<button type="reset" id="reset-btn" class="w-full md:w-auto bg-gray-200 text-gray-800 font-medium py-3 px-6 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2" style="min-height: 48px;">
Reset Fields
</button>
</div>
</form>

<section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 hidden" style="min-height: 300px;" aria-live="polite">
<h3 class="text-2xl font-bold text-gray-900 mb-4">Your Meal Plan Targets</h3>

<div class="flex flex-col md:flex-row gap-6">
<div class="w-full md:w-2/3 space-y-4">
<div class="bg-white p-6 rounded-lg shadow-inner border border-blue-200 text-center">
<h4 class="text-sm font-medium text-gray-600 uppercase">Target Daily Calories</h4>
<p id="targetCalories" class="result-key">0 <span>kcal/day</span></p>
<p id="goal-summary" class="text-gray-700 -mt-2">To achieve your goal</p>
</div>

<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
<div class="result-card">
<h4>Maintenance Calories</h4>
<p id="maintenanceCalories">0 <span>kcal/day</span></p>
</div>
<div class="result-card">
<h4>Basal Metabolic Rate (BMR)</h4>
<p id="bmr">0 <span>kcal/day</span></p>
</div>
</div>
</div>
<div class="w-full md:w-1/3">
<div id="macro-chart-container" class="h-56">
<canvas id="macroChart" aria-label="Macronutrient breakdown chart"></canvas>
</div>
</div>
</div>

<details class="mt-6 bg-white rounded-lg" id="macro-details" open>
<summary class="font-semibold text-gray-800">Macronutrient Breakdown (Grams)</summary>
<div class="mt-4 overflow-x-auto border border-gray-200 rounded-lg" id="macro-table-container">
<table class="min-w-full text-sm text-right">
<thead class="bg-gray-100 text-gray-700 uppercase">
<tr>
<th class="px-4 py-2 text-left">Macro</th>
<th class="px-4 py-2">Grams / Day</th>
<th class="px-4 py-2">Calories</th>
<th class="px-4 py-2">% of Total</th>
</tr>
</thead>
<tbody id="macroTableBody">
<tr>
<td class="px-4 py-2 text-left font-medium">Protein</td>
<td class="px-4 py-2" id="protein-g">0 g</td>
<td class="px-4 py-2" id="protein-c">0 kcal</td>
<td class="px-4 py-2" id="protein-p">0%</td>
</tr>
<tr>
<td class="px-4 py-2 text-left font-medium">Carbohydrates</td>
<td class="px-4 py-2" id="carbs-g">0 g</td>
<td class="px-4 py-2" id="carbs-c">0 kcal</td>
<td class="px-4 py-2" id="carbs-p">0%</td>
</tr>
<tr>
<td class="px-4 py-2 text-left font-medium">Fats</td>
<td class="px-4 py-2" id="fats-g">0 g</td>
<td class="px-4 py-2" id="fats-c">0 kcal</td>
<td class="px-4 py-2" id="fats-p">0%</td>
</tr>
</tbody>
</table>
</div>
</details>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose prose-blue">
<h2>Data Source and Methodology</h2>
<p>This calculator provides a precise estimate of your daily caloric and macronutrient needs based on the industry-standard <strong>Mifflin-St Jeor Equation</strong> for calculating Basal Metabolic Rate (BMR).</p>
<ul>
<li><strong>AuthoritativeDataSource:</strong> Mifflin, M. D., St Jeor, S. T., Hill, L. A., Scott, B. J., Daugherty, S. A., & Koh, Y. O. (1990). <a href="https://pubmed.ncbi.nlm.nih.gov/2305711/" target="_blank" rel="noopener">A new predictive equation for resting energy expenditure in healthy individuals</a>. <em>The American journal of clinical nutrition, 51(2)</em>, 241-247.</li>
</ul>
<p>All calculations for BMR and TDEE (Total Daily Energy Expenditure) are based strictly on the formulas and activity multipliers derived from this and related metabolic research. Your calorie target is then adjusted based on your stated goal.</p>

<h2>The Formulas Explained</h2>
<p>Your calculation is a three-step process:
1.  **Calculate Basal Metabolic Rate (BMR):** The calories your body burns at complete rest.
2.  **Calculate TDEE:** Your BMR is multiplied by an activity factor to find your total daily energy expenditure (maintenance calories).
3.  **Apply Goal:** Your TDEE is adjusted (e.g., -500 calories) to create a target for weight loss or gain.</p>

<h3>1. BMR (Mifflin-St Jeor Equation)</h3>
<p>The formula differs slightly for biological males and females.</p>
<div class="formula-box">
<p><strong>For Men:</strong><br>
$BMR = (10 \times \text{weight in kg}) + (6.25 \times \text{height in cm}) - (5 \times \text{age in years}) + 5$</p>
<p><strong>For Women:</strong><br>
$BMR = (10 \times \text{weight in kg}) + (6.25 \times \text{height in cm}) - (5 \times \text{age in years}) - 161$</p>
</div>

<h3>2. TDEE (Total Daily Energy Expenditure)</h3>
<p>This is your BMR multiplied by your chosen activity level.</p>
<div class="formula-box">
$TDEE = BMR \times \text{Activity Multiplier}$
</div>
<ul>
<li><strong>Sedentary:</strong> 1.2</li>
<li><strong>Lightly Active:</strong> 1.375</li>
<li><strong>Moderately Active:</strong> 1.55</li>
<li><strong>Very Active:</strong> 1.725</li>
<li><strong>Extra Active:</strong> 1.9</li>
</ul>

<h3>3. Macronutrient Split</h3>
<p>Your target calories are then divided into protein, carbohydrates, and fats based on your preference.
<ul>
<li>1 gram of Protein = 4 calories</li>
<li>1 gram of Carbohydrate = 4 calories</li>
<li>1 gram of Fat = 9 calories</li>
</ul>
</p>

<h2>Glossary of Variables</h2>
<dl>
<dt>Basal Metabolic Rate (BMR)</dt>
<dd>The minimum number of calories your body needs to perform basic, life-sustaining functions at rest.</dd>
<dt>Total Daily Energy Expenditure (TDEE)</dt>
<dd>Your BMR plus all the calories you burn from physical activity, digestion, and daily tasks. This is also known as your "maintenance calories"—the amount you need to eat to stay the same weight.</dd>
<dt>Target Calories</dt>
<dd>Your TDEE adjusted to meet your goal. To lose 0.5 kg (1.1 lbs) per week, this number is typically your TDEE minus 500 calories per day.</dd>
<dt>Macronutrients (Macros)</dt>
<dd>The three main nutrient categories: Protein, Carbohydrates, and Fats. Your meal plan is built by consuming foods that meet these daily gram targets.</dd>
</dl>

<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's see how the calculator works for a hypothetical person: "Sarah".</p>
<ul>
<li><strong>Inputs:</strong>
<ul>
<li><strong>Age:</strong> 30</li>
<li><strong>Sex:</strong> Female</li>
<li><strong>Weight:</strong> 70 kg (154 lbs)</li>
<li><strong>Height:</strong> 165 cm (5' 5")</li>
<li><strong>Activity:</strong> Lightly Active (exercises 2 days/week)</li>
<li><strong>Goal:</strong> Lose 0.5 kg (1.1 lbs) per week</li>
<li><strong>Preference:</strong> Balanced Macros</li>
</ul>
</li>
</ul>

<p><strong>Step 1: Calculate BMR</strong>
<div class="formula-box">
$BMR = (10 \times 70) + (6.25 \times 165) - (5 \times 30) - 161$
<br>
$BMR = 700 + 1031.25 - 150 - 161 = \textbf{1420 kcal}$
</div>
</p>

<p><strong>Step 2: Calculate TDEE (Maintenance)</strong>
<div class="formula-box">
$TDEE = BMR \times \text{Activity Multiplier}$
<br>
$TDEE = 1420 \times 1.375 \text{ (Lightly Active)} = \textbf{1953 kcal}$
</div>
</p>

<p><strong>Step 3: Calculate Target Calories (Goal)</strong>
<div class="formula-box">
$\text{Goal} = \text{TDEE} + \text{Goal Adjustment}$
<br>
$\text{Target} = 1953 + (-500 \text{ for 0.5kg loss}) = \textbf{1453 kcal}$
</div>
</p>

<p><strong>Step 4: Calculate Macros (Balanced: 30%P, 40%C, 30%F)</strong>
<ul>
<li><strong>Protein:</strong> $(1453 \times 0.30) / 4 = \textbf{109 g}$</li>
<li><strong>Carbs:</strong> $(1453 \times 0.40) / 4 = \textbf{145 g}$</li>
<li><strong>Fats:</strong> $(1453 \times 0.30) / 9 = \textbf{48 g}$</li>
</ul>
The calculator will output these final targets for Sarah to build her meal plan around.</p>

<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What is BMR vs. TDEE?</summary>
<p>Your Basal Metabolic Rate (BMR) is the number of calories your body needs to function at rest (e.g., breathing, circulating blood). Your Total Daily Energy Expenditure (TDEE) is your BMR plus the calories you burn from all other activities, including exercise, work, and digestion. TDEE is also known as your 'maintenance calories'.</p>
</details>
<details>
<summary>How accurate is the Mifflin-St Jeor equation?</summary>
<p>The Mifflin-St Jeor equation is considered one of the most accurate BMR formulas for healthy adults, which is why we use it as our standard. However, any formula is an estimate. Individual metabolisms can vary. Use this result as a strong starting point and adjust based on your real-world progress.</p>
</details>
<details>
<summary>How often should I recalculate my needs?</summary>
<p>It's a good practice to recalculate your needs every time you experience a significant change in weight (e.g., 5-10 lbs or 5 kg), or if your daily activity level changes (e.g., you start a new, more active job).</p>
</details>
<details>
<summary>I have my numbers. Now what?</summary>
<p>These numbers are the quantitative targets for your meal plan. Use them to build daily meals that add up to your target calories and macronutrient goals. You can use a food tracking app or work with a nutritionist to translate these targets into a concrete eating plan.</p>
</details>
<details>
<summary>Why is protein intake so important for meal planning?</summary>
<p>Protein is crucial for repairing and building muscle, especially if you are exercising. It is also the most satiating macronutrient, meaning it helps you feel full and satisfied, which is particularly helpful when in a calorie deficit for weight loss.</p>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Nutrition content verified by Dr. Jane Doe, R.D. (Registered Dietitian).<br>
Last accuracy review: <time datetime="2025-10-29">October 29, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get precise calorie targets based on the Mifflin-St Jeor formula.</li>
<li>Understand your BMR vs. TDEE (maintenance calories).</li>
<li>Receive a full macronutrient (protein, carbs, fat) breakdown.</li>
<li>See how your needs change for weight loss, gain, or maintenance.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Health Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="https://calcdomain.com/bmi-calculator.html" class="text-blue-600 hover:underline">BMI Calculator</a></li>
<li><a href="https://calcdomain.com/body-fat.html" class="text-blue-600 hover:underline">Body Fat Calculator</a></li>
<li><a href="https://calcdomain.com/tdee.html" class="text-blue-600 hover:underline">TDEE Calculator (Advanced)</a></li>
<li><a href="https://calcdomain.com/protein-intake-calculator.html" class="text-blue-600 hover:underline">Daily Protein Intake Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="https://calcdomain.com/about.html" class="hover:text-blue-600">About</a>
<a href="https://calcdomain.com/contact.html" class="hover:text-blue-600">Contact</a>
<a href="https://calcdomain.com/privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="https://calcdomain.com/terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {
// --- DOM Element Selectors ---
const form = document.getElementById('calculator-ui');
const resultsSection = document.getElementById('results');
const unitMetric = document.getElementById('unitMetric');
const unitImperial = document.getElementById('unitImperial');
const age = document.getElementById('age');
const sex = document.getElementById('sex');
const heightCm = document.getElementById('heightCm');
const heightCmGroup = document.getElementById('metric-group');
const heightFt = document.getElementById('heightFt');
const heightIn = document.getElementById('heightIn');
const imperialHeightGroup = document.getElementById('imperial-height-group');
const weightKg = document.getElementById('weightKg');
const metricWeightGroup = document.getElementById('metric-weight-group');
const weightLbs = document.getElementById('weightLbs');
const imperialWeightGroup = document.getElementById('imperial-weight-group');
const activityLevel = document.getElementById('activityLevel');
const goal = document.getElementById('goal');
const goalRate = document.getElementById('goalRate');
const goalRateGroup = document.getElementById('goal-rate-group');
const macroPreference = document.getElementById('macroPreference');

// Output elements
const targetCaloriesEl = document.getElementById('targetCalories');
const goalSummaryEl = document.getElementById('goal-summary');
const maintenanceCaloriesEl = document.getElementById('maintenanceCalories');
const bmrEl = document.getElementById('bmr');
const proteinG = document.getElementById('protein-g');
const proteinC = document.getElementById('protein-c');
const proteinP = document.getElementById('protein-p');
const carbsG = document.getElementById('carbs-g');
const carbsC = document.getElementById('carbs-c');
const carbsP = document.getElementById('carbs-p');
const fatsG = document.getElementById('fats-g');
const fatsC = document.getElementById('fats-c');
const fatsP = document.getElementById('fats-p');
const macroChartEl = document.getElementById('macroChart');

let macroChartInstance = null;
const fmtInt = (val) => Math.round(val || 0).toLocaleString();

// --- Form & Validation Logic ---

// Show/hide fields based on unit selection
function handleUnitChange() {
const isMetric = unitMetric.checked;
metricWeightGroup.style.display = isMetric ? 'block' : 'none';
heightCmGroup.style.display = isMetric ? 'block' : 'none';
imperialWeightGroup.style.display = isMetric ? 'none' : 'block';
imperialHeightGroup.style.display = isMetric ? 'none' : 'grid';

// Update required attributes for A11y and validation
heightCm.setAttribute('aria-required', isMetric);
weightKg.setAttribute('aria-required', isMetric);
heightFt.setAttribute('aria-required', !isMetric);
heightIn.setAttribute('aria-required', !isMetric);
weightLbs.setAttribute('aria-required', !isMetric);

// Clear errors when switching
clearAllErrors();
}

// Show/hide goal rate based on goal
function handleGoalChange() {
const goalValue = goal.value;
if (goalValue === 'maintain') {
goalRateGroup.style.display = 'none';
goalRate.value = '0'; // Set value to maintain
} else {
goalRateGroup.style.display = 'block';
// Set default rate if switching to lose/gain
if (goalRate.value === '0') {
goalRate.value = goalValue === 'lose' ? '-500' : '250';
}
}
}

// Validation helper
function setFieldError(field, message) {
const errorEl = document.getElementById(`${field.id}-error`);
if (errorEl) {
errorEl.textContent = message;
field.setAttribute('aria-invalid', 'true');
field.setAttribute('aria-describedby', `${field.id}-error`);
}
}

function clearFieldError(field) {
const errorEl = document.getElementById(`${field.id}-error`);
if (errorEl) {
errorEl.textContent = '';
field.removeAttribute('aria-invalid');
field.removeAttribute('aria-describedby');
}
}

function clearAllErrors() {
const fields = [age, heightCm, heightFt, heightIn, weightKg, weightLbs];
fields.forEach(clearFieldError);
}

function validateForm() {
let isValid = true;
clearAllErrors();

const isMetric = unitMetric.checked;
const fields = [age];

if (isMetric) {
fields.push(heightCm, weightKg);
} else {
fields.push(heightFt, heightIn, weightLbs);
}

fields.forEach(field => {
if (field.hasAttribute('aria-required') && field.getAttribute('aria-required') === 'true') {
if (!field.value) {
isValid = false;
setFieldError(field, 'This field is required.');
} else {
const min = parseFloat(field.min);
const max = parseFloat(field.max);
const val = parseFloat(field.value);
if (val < min) {
isValid = false;
setFieldError(field, `Value must be at least ${min}.`);
}
if (val > max) {
isValid = false;
setFieldError(field, `Value must be no more than ${max}.`);
}
}
}
});

return isValid;
}

// --- Calculation Logic ---

function calculateNeeds() {
if (!validateForm()) {
resultsSection.classList.add('hidden');
return;
}

// 1. Get and normalize inputs
const isMetric = unitMetric.checked;
const inputAge = parseFloat(age.value);
const inputSex = sex.value;
const inputActivity = parseFloat(activityLevel.value);
const inputGoal = goal.value;
const goalCalorieAdj = parseFloat(goalRate.value);
const inputMacroPref = macroPreference.value;

let weightInKg, heightInCm;

if (isMetric) {
weightInKg = parseFloat(weightKg.value);
heightInCm = parseFloat(heightCm.value);
} else {
const ft = parseFloat(heightFt.value) || 0;
const inches = parseFloat(heightIn.value) || 0;
weightInKg = (parseFloat(weightLbs.value) || 0) * 0.453592;
heightInCm = (ft * 30.48) + (inches * 2.54);
}

// 2. Calculate BMR (Mifflin-St Jeor)
let bmr = (10 * weightInKg) + (6.25 * heightInCm) - (5 * inputAge);
bmr += (inputSex === 'male') ? 5 : -161;
bmr = Math.round(bmr);

// 3. Calculate TDEE (Maintenance)
const tdee = Math.round(bmr * inputActivity);

// 4. Calculate Target Calories
let targetCalories = tdee;
if (inputGoal !== 'maintain') {
targetCalories += goalCalorieAdj;
}

// 5. Calculate Macros
let macroRatios;
switch (inputMacroPref) {
case 'lowcarb':
macroRatios = { p: 0.40, c: 0.25, f: 0.35 };
break;
case 'highprotein':
macroRatios = { p: 0.40, c: 0.30, f: 0.30 };
break;
default: // balanced
macroRatios = { p: 0.30, c: 0.40, f: 0.30 };
}

const proteinCals = targetCalories * macroRatios.p;
const carbCals = targetCalories * macroRatios.c;
const fatCals = targetCalories * macroRatios.f;

const proteinGrams = Math.round(proteinCals / 4);
const carbGrams = Math.round(carbCals / 4);
const fatGrams = Math.round(fatCals / 9);

// 6. Display Results
displayResults({
bmr,
tdee,
targetCalories,
goal: inputGoal,
goalAdj: goalCalorieAdj,
macros: {
proteinGrams, proteinCals, proteinPct: macroRatios.p,
carbGrams, carbCals, carbPct: macroRatios.c,
fatGrams, fatCals, fatPct: macroRatios.f
}
});
}

function displayResults(data) {
// Update text
targetCaloriesEl.innerHTML = `${fmtInt(data.targetCalories)} <span>kcal/day</span>`;
maintenanceCaloriesEl.innerHTML = `${fmtInt(data.tdee)} <span>kcal/day</span>`;
bmrEl.innerHTML = `${fmtInt(data.bmr)} <span>kcal/day</span>`;

let goalText = 'To maintain your current weight';
if (data.goal === 'lose') {
goalText = `To lose ~${Math.abs(data.goalAdj / 500) * 0.5} kg per week`;
} else if (data.goal === 'gain') {
goalText = `To gain ~${Math.abs(data.goalAdj / 500) * 0.5} kg per week`;
}
goalSummaryEl.textContent = goalText;

// Update table
proteinG.textContent = `${fmtInt(data.macros.proteinGrams)} g`;
proteinC.textContent = `${fmtInt(data.macros.proteinCals)} kcal`;
proteinP.textContent = `${fmtInt(data.macros.proteinPct * 100)}%`;

carbsG.textContent = `${fmtInt(data.macros.carbGrams)} g`;
carbsC.textContent = `${fmtInt(data.macros.carbCals)} kcal`;
carbsP.textContent = `${fmtInt(data.macros.carbPct * 100)}%`;

fatsG.textContent = `${fmtInt(data.macros.fatGrams)} g`;
fatsC.textContent = `${fmtInt(data.macros.fatCals)} kcal`;
fatsP.textContent = `${fmtInt(data.macros.fatPct * 100)}%`;

// Render chart
renderMacroChart(data.macros);

// Show and scroll to results
resultsSection.classList.remove('hidden');
resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function renderMacroChart(macros) {
const ctx = macroChartEl;
if (!ctx) return;

const data = {
labels: [
`Protein (${macros.proteinGrams}g)`,
`Carbs (${macros.carbGrams}g)`,
`Fats (${macros.fatGrams}g)`
],
datasets: [{
data: [macros.proteinCals, macros.carbCals, macros.fatCals],
backgroundColor: ['#2563eb', '#16a34a', '#f97316'], // Blue, Green, Orange
hoverBackgroundColor: ['#1d4ed8', '#15803d', '#ea580c']
}]
};

const options = {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
position: 'bottom',
labels: {
padding: 15,
font: { size: 11 }
}
},
tooltip: {
callbacks: {
label: function(context) {
let label = context.label || '';
if (label) {
label += ': ';
}
if (context.parsed) {
label += `${fmtInt(context.parsed)} kcal`;
}
return label;
}
}
}
}
};

if (macroChartInstance) {
macroChartInstance.data = data;
macroChartInstance.options = options;
macroChartInstance.update();
} else {
macroChartInstance = new Chart(ctx, {
type: 'doughnut',
data: data,
options: options
});
}
}

function resetForm() {
form.reset();
clearAllErrors();
resultsSection.classList.add('hidden');
handleUnitChange();
handleGoalChange();
if (macroChartInstance) {
macroChartInstance.destroy();
macroChartInstance = null;
}
}

// --- Event Listeners ---
unitMetric.addEventListener('change', handleUnitChange);
unitImperial.addEventListener('change', handleUnitChange);
goal.addEventListener('change', handleGoalChange);
form.addEventListener('submit', (e) => {
e.preventDefault();
calculateNeeds();
});
form.addEventListener('reset', resetForm);

// Add blur validation
[age, heightCm, heightFt, heightIn, weightKg, weightLbs].forEach(field => {
field.addEventListener('blur', () => {
if (field.getAttribute('aria-required') === 'true') {
validateForm();
}
});
});

// Initial setup
handleUnitChange();
handleGoalChange();
});
</script>
</body>
</html>