<!DOCTYPE html>
<html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/torque.html">




 
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg" />
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
<link rel="manifest" href="https://calcdomain.com/site.webmanifest" />
<meta charset="utf-8">
<title>Torque Calculator | Mechanical Engineering Tool</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Professional torque calculator for engineers and students. Compute torque from force and lever arm (with angle), or from power and rotational speed. Includes unit conversions (N·m ⇄ lbf·ft), formulas, examples, and FAQs." name="description">
<meta content="Ugo Candido" name="author">
<meta content="index,follow,max-image-preview:large" name="robots">

<meta content="Torque Calculator | Mechanical Engineering Tool" property="og:title">
<meta content="Compute torque from force and lever arm or from power and speed. Accurate, accessible, and mobile-first." property="og:description">
<meta content="website" property="og:type">
<meta content="https://calcdomain.com/engineering/mechanical/torque-calculator" property="og:url">
<meta content="#005A9C" name="theme-color">
<link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%23005A9C'/%3E%3Cpath d='M22 32a10 10 0 1020 0 10 10 0 10-20 0zm4 0a6 6 0 1112 0 6 6 0 11-12 0z' fill='%23fff'/%3E%3C/svg%3E" rel="icon">
<link href="https://cdn.jsdelivr.net" rel="dns-prefetch">
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect">
<!-- Non-critical global CSS loaded asynchronously -->
<noscript></noscript>
<style>
    /* Critical CSS (mobile-first, above-the-fold, and component styles) */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#6C757D; --border-color:#DEE2E6;
      --success-color:#198754; --error-color:#DC3545;
      --touch-target-min:48px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:clamp(16px,2.5vw,18px)}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--background-color);color:var(--text-color);line-height:1.6}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .skip-link{position:absolute;top:-40px;left:6px;background:var(--primary-color);color:#fff;padding:8px 16px;border-radius:0 0 4px 4px;font-weight:600;z-index:1000;text-decoration:none}
    .skip-link:focus{top:0}

    a{color:var(--primary-color);text-decoration:none}
    a:hover{text-decoration:underline}
    a:focus{outline:3px solid var(--primary-color);outline-offset:2px;border-radius:2px}
    h1,h2,h3{color:var(--secondary-color);line-height:1.25;margin:.5rem 0}
    h1{font-size:clamp(1.8rem,4vw,2.4rem)}
    h2{font-size:clamp(1.4rem,3.2vw,1.9rem)}
    h3{font-size:clamp(1.2rem,3vw,1.5rem)}
    p{max-width:70ch;margin:.75rem 0}

    .container{max-width:1200px;margin:0 auto;padding:0 clamp(1rem,4vw,2rem)}
    .site-header{background:var(--surface-color);border-bottom:1px solid var(--border-color);box-shadow:0 2px 4px rgba(0,0,0,.05)}
    /* Override to ensure NOT sticky per requirements */
    .site-header{position:static}

    .header-content{display:grid;grid-template-columns:auto 1fr auto;gap:.75rem;align-items:center;padding:.75rem 0}
    .logo{font-weight:700;color:var(--primary-color);font-size:1.25rem}
    .site-search{display:flex;gap:.5rem;align-items:center}
    .site-search input{flex:1 1 auto;min-width:0;padding:.6rem .75rem;border:1px solid var(--border-color);border-radius:8px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.6rem .9rem;border:1px solid var(--primary-color);background:transparent;color:var(--primary-color);border-radius:8px;min-height:var(--touch-target-min);min-width:var(--touch-target-min);font-weight:600;cursor:pointer}
    .btn:hover{background:var(--primary-color);color:#fff}
    .nav-toggle{border:1px solid var(--border-color);background:#fff;border-radius:8px;padding:.5rem .75rem;min-height:var(--touch-target-min);cursor:pointer}
    .main-nav{display:none}
    .breadcrumb{margin:1rem 0;font-size:.9rem;color:var(--muted-text-color)}

    .calculator-layout{display:grid;grid-template-columns:1fr;gap:2rem;margin-top:.5rem}
    @media (min-width: 992px){.calculator-layout{grid-template-columns:450px 1fr}}
    .calculator-container{background:#fff;border:1px solid var(--border-color);border-radius:12px;padding:1.5rem}
    .form-group{margin-bottom:1rem}
    .form-group label{display:block;font-weight:600;margin-bottom:.5rem}
    .input-row{display:grid;grid-template-columns:1fr auto;gap:.5rem;align-items:center}
    .form-control{width:100%;min-height:48px;padding:.75rem 1rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem}
    .form-control:focus-visible{outline:3px solid var(--primary-color);outline-offset:2px;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(0,90,156,.15)}
    select.form-control{padding-right:2rem}
    .radio-group{display:flex;gap:.5rem;border:1px solid var(--border-color);border-radius:8px;padding:.25rem}
    .radio-group input[type="radio"]{position:absolute;opacity:0;width:0;height:0}
    .radio-option{flex:1}
    .radio-option label{display:flex;align-items:center;justify-content:center;min-height:48px;border-radius:6px;padding:.5rem;cursor:pointer}
    .radio-group input[type="radio"]:checked + label{background:var(--primary-color);color:#fff}
    .radio-group input[type="radio"]:focus-visible + label{outline:3px solid var(--primary-color);outline-offset:2px}
    .tooltip-btn{margin-left:.5rem;border:1px solid var(--border-color);background:#fff;color:var(--secondary-color);border-radius:50%;width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;line-height:1;font-weight:700}
    .tooltip-btn:focus-visible{outline:3px solid var(--primary-color);outline-offset:2px}
    .tooltip-content{margin-top:.5rem;background:#e9f3fb;border:1px solid #b6d9f4;border-radius:8px;padding:.75rem;display:none}
    .tooltip-content[aria-hidden="false"]{display:block}

    .error-message{color:var(--error-color);font-size:.9rem;margin-top:.25rem;min-height:1.2em}
    .results-container{margin-top:1rem;padding:1rem;background:#f8fafc;border:1px solid var(--border-color);border-radius:12px;min-height:220px}
    .result-grid{display:grid;grid-template-columns:1fr auto;gap:.5rem .75rem;align-items:center}
    .result-label{color:var(--muted-text-color)}
    .result-value{font-weight:700;font-size:1.25rem;color:var(--success-color);text-align:right}
    .content-container h2{margin-top:1.5rem;border-bottom:1px solid var(--border-color);padding-bottom:.5rem}
    .formula-box{background:#eef2f7;border-radius:8px;padding:1rem;margin:1rem 0;text-align:center;overflow:auto}
    .author-box{font-size:.95rem;color:var(--muted-text-color);margin-top:2rem;border-top:1px solid var(--border-color);padding-top:1rem}

    /* Ensure touch targets are not cramped on mobile */
    .spacer{height:.25rem}
  </style>
<!-- MathJax for LaTeX rendering -->
<script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
<script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Torque Calculator",
  "description": "Professional torque calculator to compute torque from force and distance (with angle) or from power and rotational speed. Includes unit conversion, formulas, and worked examples.",
  "url": "https://calcdomain.com/torque.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Calculate torque given a force applied at the end of a lever arm.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Input force",
          "text": "Enter F = 120 N."
        },
        {
          "@type": "HowToStep",
          "name": "Input lever arm",
          "text": "Enter r = 0.35 m."
        },
        {
          "@type": "HowToStep",
          "name": "Set angle",
          "text": "Set angle θ = 90° (perpendicular force)."
        },
        {
          "@type": "HowToStep",
          "name": "Compute torque",
          "text": "Use τ = r × F × sin(θ) = 0.35 × 120 × sin(90°) = 42 N·m."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do you calculate torque from force and distance?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use τ = r × F × sin(θ), where r is the lever arm length, F is the applied force, and θ is the angle between r and F."
          }
        },
        {
          "@type": "Question",
          "name": "How do you calculate torque from power and RPM?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Convert speed to rad/s (ω = 2πn/60), then use τ = P/ω. For convenience, τ[N·m] ≈ 9550 × P[kW] / n[rpm]."
          }
        },
        {
          "@type": "Question",
          "name": "What are common units for torque?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "SI: newton-metre (N·m). Imperial/US customary: pound-foot (lbf·ft). Other units include N·cm and lbf·in."
          }
        },
        {
          "@type": "Question",
          "name": "Is N·m the same as m·N?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Mathematically they are equivalent products, but the standard notation is N·m to emphasize torque as force times distance."
          }
        },
        {
          "@type": "Question",
          "name": "What angle gives maximum torque?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Maximum torque occurs when θ = 90°, i.e., when the force is perpendicular to the lever arm."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between lbf·ft and ft·lbf?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Both denote pound-foot of torque. Some sources use ft·lbf; this tool uses lbf·ft to mirror the SI pattern (N·m)."
          }
        }
      ]
    }
  ]
}
  </script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\(','\)'], ['$', '$']],
      displayMath: [['$','$'], ['\[','\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">

</head>
<body>
<a class="skip-link" href="#main-content">Skip to main content</a>

<main class="main-content" id="main-content">
<div class="container">
<nav aria-label="Breadcrumb" class="breadcrumb">
Home / <a href="https://calcdomain.com/engineering.html">Engineering</a> / <a href="https://calcdomain.com/subcategories/mechanical-engineering.html">Mechanical</a> / Torque Calculator
      </nav>
<h1>Torque Calculator</h1>
<p>This professional-grade torque calculator helps engineers, technicians, and students compute torque in two ways: from force and lever arm (including angle), or from power and rotational speed. It also includes precise unit conversions between N·m and lbf·ft to support mechanical design, testing, and documentation.</p>
<div class="calculator-layout">
<aside class="calculator-wrapper">
<section aria-labelledby="calculator-heading" class="calculator-container" id="torque-calculator">
<h2 class="sr-only" id="calculator-heading">Interactive Torque Calculator</h2>
<div class="form-group">
<fieldset>
<legend class="sr-only">Choose calculation mode</legend>
<div aria-label="Calculation mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="modeForce" name="calcMode" type="radio" value="force">
<label for="modeForce">Force × Distance</label>
</div>
<div class="radio-option">
<input id="modePower" name="calcMode" type="radio" value="power">
<label for="modePower">Power &amp; RPM</label>
</div>
<div class="radio-option">
<input id="modeConvert" name="calcMode" type="radio" value="convert">
<label for="modeConvert">Convert Units</label>
</div>
</div>
</fieldset>
</div>
<!-- MODE 1: Force × Distance × Angle -->
<div aria-labelledby="modeForce" aria-live="polite" id="panelForce" role="region">
<div class="form-group">
<label for="forceValue">Force *</label>
<div class="input-row">
<input aria-describedby="forceHelp forceError" aria-required="true" class="form-control" id="forceValue" inputmode="decimal" min="0" placeholder="e.g., 120" step="any" type="number">
<select aria-label="Force unit" class="form-control" id="forceUnit">
<option value="N">N (newton)</option>
<option value="lbf">lbf (pound-force)</option>
</select>
</div>
<div aria-hidden="true" class="spacer"></div>
<div class="input-help">
<button aria-controls="forceHelp" aria-expanded="false" aria-label="Toggle force field help" class="tooltip-btn" id="forceTipBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip-content" id="forceHelp" role="note">
                    Enter the magnitude of the applied force. Positive values only.
                  </div>
</div>
<div aria-live="polite" class="error-message" id="forceError" role="alert"></div>
</div>
<div class="form-group">
<label for="lengthValue">Lever arm length *</label>
<div class="input-row">
<input aria-describedby="lengthHelp lengthError" aria-required="true" class="form-control" id="lengthValue" inputmode="decimal" min="0" placeholder="e.g., 0.35" step="any" type="number">
<select aria-label="Length unit" class="form-control" id="lengthUnit">
<option value="m">m (metre)</option>
<option value="ft">ft (foot)</option>
</select>
</div>
<div aria-hidden="true" class="spacer"></div>
<div class="input-help">
<button aria-controls="lengthHelp" aria-expanded="false" aria-label="Toggle lever arm help" class="tooltip-btn" id="lengthTipBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip-content" id="lengthHelp" role="note">
                    Lever arm is the perpendicular distance from the axis of rotation to the line of action of the force.
                  </div>
</div>
<div aria-live="polite" class="error-message" id="lengthError" role="alert"></div>
</div>
<div class="form-group">
<label for="angleValue">Angle between r and F (degrees) *</label>
<div class="input-row">
<input aria-describedby="angleHelp angleError" aria-required="true" class="form-control" id="angleValue" inputmode="decimal" max="180" min="0" placeholder="e.g., 90" step="any" type="number">
<div aria-hidden="true"></div>
</div>
<div aria-hidden="true" class="spacer"></div>
<div class="input-help">
<button aria-controls="angleHelp" aria-expanded="false" aria-label="Toggle angle help" class="tooltip-btn" id="angleTipBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip-content" id="angleHelp" role="note">
                    Maximum torque occurs at 90°. Use the smallest angle between the lever arm vector and the force vector.
                  </div>
</div>
<div aria-live="polite" class="error-message" id="angleError" role="alert"></div>
</div>
</div>
<!-- MODE 2: Power & Speed -->
<div aria-labelledby="modePower" aria-live="polite" hidden="" id="panelPower" role="region">
<div class="form-group">
<label for="powerValue">Power *</label>
<div class="input-row">
<input aria-describedby="powerHelp powerError" aria-required="true" class="form-control" id="powerValue" inputmode="decimal" min="0" placeholder="e.g., 2" step="any" type="number">
<select aria-label="Power unit" class="form-control" id="powerUnit">
<option value="W">W</option>
<option value="kW">kW</option>
<option value="hp">hp (mechanical)</option>
</select>
</div>
<div aria-hidden="true" class="spacer"></div>
<div class="input-help">
<button aria-controls="powerHelp" aria-expanded="false" aria-label="Toggle power help" class="tooltip-btn" id="powerTipBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip-content" id="powerHelp" role="note">
                    Mechanical power delivered at the shaft. 1 hp (mechanical) = 745.699872 W.
                  </div>
</div>
<div aria-live="polite" class="error-message" id="powerError" role="alert"></div>
</div>
<div class="form-group">
<label for="speedValue">Rotational speed *</label>
<div class="input-row">
<input aria-describedby="speedHelp speedError" aria-required="true" class="form-control" id="speedValue" inputmode="decimal" min="0" placeholder="e.g., 1500" step="any" type="number">
<select aria-label="Speed unit" class="form-control" id="speedUnit">
<option value="rpm">rpm</option>
<option value="rad_s">rad/s</option>
</select>
</div>
<div aria-hidden="true" class="spacer"></div>
<div class="input-help">
<button aria-controls="speedHelp" aria-expanded="false" aria-label="Toggle speed help" class="tooltip-btn" id="speedTipBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip-content" id="speedHelp" role="note">
                    The angular speed of the shaft. ω = 2π·rpm/60 when speed is given in rpm.
                  </div>
</div>
<div aria-live="polite" class="error-message" id="speedError" role="alert"></div>
</div>
</div>
<!-- MODE 3: Conversion -->
<div aria-labelledby="modeConvert" aria-live="polite" hidden="" id="panelConvert" role="region">
<div class="form-group">
<label for="convTorqueValue">Torque *</label>
<div class="input-row">
<input aria-describedby="convError" aria-required="true" class="form-control" id="convTorqueValue" inputmode="decimal" min="0" placeholder="e.g., 42" step="any" type="number">
<select aria-label="Torque unit" class="form-control" id="convTorqueUnit">
<option value="N_m">N·m</option>
<option value="lbf_ft">lbf·ft</option>
<option value="N_cm">N·cm</option>
<option value="lbf_in">lbf·in</option>
</select>
</div>
<div aria-live="polite" class="error-message" id="convError" role="alert"></div>
</div>
</div>
<section aria-atomic="true" aria-live="polite" class="results-container">
<h3>Results</h3>
<div class="result-grid" id="resultsGrid">
<div class="result-label">Torque (N·m)</div>
<div class="result-value" id="torqueNm">0.00</div>
<div class="result-label">Torque (lbf·ft)</div>
<div class="result-value" id="torqueLbfft">0.00</div>
<div class="result-label" id="auxLabel">—</div>
<div class="result-value" id="auxValue">—</div>
</div>
</section>
</section>
</aside>
<article class="content-container">
<section>
<h2>Data Source and Methodology</h2>
<p><strong>Primary reference:</strong> OpenStax, University Physics Volume 1, 2016, Chapter 10 (Rotational Motion) — Sections on Torque and Power. <a href="https://openstax.org/details/books/university-physics-volume-1" rel="noopener" target="_blank">https://openstax.org/details/books/university-physics-volume-1</a></p>
<p>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</p>
</section>
<section>
<h2>The Formula Explained</h2>
<div class="formula-box">
<p>Torque from force and lever arm:</p>
<p>$$\\tau = r \\times F \\times \\sin(\\theta)$$</p>
<p>Torque from power and angular speed:</p>
<p>$$\\tau = \\frac{P}{\\omega}, \\quad \\text{with} \\; \\omega = 2\\pi\\,\\frac{n}{60} \\; \\text{(rad/s)}$$</p>
<p>Convenient engineering form (power in kW, speed in rpm):</p>
<p>$$\\tau\\,[\\mathrm{N\\cdot m}] \\approx 9550\\,\\frac{P\\,[\\mathrm{kW}]}{n\\,[\\mathrm{rpm}]}$$</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<ul>
<li>τ (Torque): Rotational equivalent of force, output in N·m and lbf·ft.</li>
<li>F (Force): Applied force magnitude; supported units: N, lbf.</li>
<li>r (Lever arm): Perpendicular distance from axis to line of action; units: m, ft.</li>
<li>θ (Angle): Smallest angle between r and F, in degrees (0–180).</li>
<li>P (Power): Mechanical power at the shaft; units: W, kW, hp.</li>
<li>ω (Angular speed): rad/s; related to rpm by ω = 2π·rpm/60.</li>
<li>rpm (Revolutions per minute): Rotational speed used with motors and drives.</li>
</ul>
</section>
<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p>Suppose a 120 N force is applied at the end of a 0.35 m wrench, perpendicular to the wrench.</p>
<ol>
<li>Inputs: F = 120 N, r = 0.35 m, θ = 90°.</li>
<li>Formula: τ = r × F × sin(θ).</li>
<li>Compute: τ = 0.35 × 120 × sin(90°) = 42 N·m.</li>
<li>Convert to lbf·ft: 42 × 0.737562 = 30.98 lbf·ft (approx).</li>
</ol>
<p>Power-based example: 2 kW at 1500 rpm ⇒ τ ≈ 9550 × 2 / 1500 = 12.73 N·m.</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<h3>What inputs do I need to compute torque from force?</h3>
<p>Provide the force magnitude, lever arm length, and the angle between them. The tool accepts N or lbf for force and m or ft for length.</p>
<h3>When should I use the power and RPM method?</h3>
<p>Use it for rotating machinery when you know shaft power and rotational speed. It is common for motors, pumps, and gearboxes.</p>
<h3>Does direction (clockwise vs counter-clockwise) matter?</h3>
<p>Sign convention matters in analysis, but this calculator returns torque magnitude. The direction depends on your coordinate system.</p>
<h3>Why does the angle reduce torque?</h3>
<p>Only the component of force perpendicular to the lever arm contributes to torque. That component is F·sin(θ).</p>
<h3>Are N·m and J the same unit?</h3>
<p>They are dimensionally equivalent (kg·m²/s²), but they represent different physical quantities. Use N·m for torque, J for energy.</p>
<h3>How accurate are conversions between N·m and lbf·ft?</h3>
<p>The tool uses exact constants: 1 lbf = 4.4482216152605 N and 1 ft = 0.3048 m, ensuring high-precision conversions.</p>
<h3>Can this tool compute power if I have torque and RPM?</h3>
<p>Yes, rearrange P = τ·ω. Currently the interface focuses on torque output, but the formula is provided for completeness.</p>
</section>
<div class="author-box">
<p>
              Tool developed by <strong>Ugo Candido</strong>. Content verified by <strong>CalcDomain Engineering Editorial Team</strong>.<br/>
              Last reviewed for accuracy on: <time datetime="2025-09-14">September 14, 2025</time>.
            </p>
</div>
</article>
</div>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      'use strict';

      // Elements
      const modeRadios = document.querySelectorAll('input[name="calcMode"]');
      const panels = {
        force: document.getElementById('panelForce'),
        power: document.getElementById('panelPower'),
        convert: document.getElementById('panelConvert')
      };

      // Force mode fields
      const forceValue = document.getElementById('forceValue');
      const forceUnit = document.getElementById('forceUnit');
      const lengthValue = document.getElementById('lengthValue');
      const lengthUnit = document.getElementById('lengthUnit');
      const angleValue = document.getElementById('angleValue');

      // Power mode fields
      const powerValue = document.getElementById('powerValue');
      const powerUnit = document.getElementById('powerUnit');
      const speedValue = document.getElementById('speedValue');
      const speedUnit = document.getElementById('speedUnit');

      // Conversion mode fields
      const convTorqueValue = document.getElementById('convTorqueValue');
      const convTorqueUnit = document.getElementById('convTorqueUnit');

      // Tooltips
      bindTooltip('forceTipBtn', 'forceHelp');
      bindTooltip('lengthTipBtn', 'lengthHelp');
      bindTooltip('angleTipBtn', 'angleHelp');
      bindTooltip('powerTipBtn', 'powerHelp');
      bindTooltip('speedTipBtn', 'speedHelp');

      function bindTooltip(btnId, panelId){
        const btn = document.getElementById(btnId);
        const panel = document.getElementById(panelId);
        if(!btn || !panel) return;
        btn.addEventListener('click', () => {
          const open = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!open));
          panel.setAttribute('aria-hidden', String(open));
        });
        // Hide tooltip when focusing elsewhere (basic handling)
        document.addEventListener('click', (e) => {
          if(e.target === btn || panel.contains(e.target)) return;
          btn.setAttribute('aria-expanded', 'false');
          panel.setAttribute('aria-hidden', 'true');
        });
      }

      // Results
      const torqueNmEl = document.getElementById('torqueNm');
      const torqueLbfftEl = document.getElementById('torqueLbfft');
      const auxLabelEl = document.getElementById('auxLabel');
      const auxValueEl = document.getElementById('auxValue');

      // Errors
      const errors = {
        force: document.getElementById('forceError'),
        length: document.getElementById('lengthError'),
        angle: document.getElementById('angleError'),
        power: document.getElementById('powerError'),
        speed: document.getElementById('speedError'),
        conv: document.getElementById('convError')
      };

      // Constants (exact)
      const N_PER_LBF = 4.4482216152605;
      const M_PER_FT = 0.3048;
      const W_PER_HP = 745.699872;
      const NM_PER_LBFFT = 1.3558179483314004; // exact (lbf*ft to N*m)
      const LBFFT_PER_NM = 1 / NM_PER_LBFFT;

      // Mode switching
      modeRadios.forEach(r => {
        r.addEventListener('change', onModeChange);
      });
      function onModeChange(){
        const mode = getMode();
        for(const key in panels){
          const p = panels[key];
          const show = (key === mode);
          p.hidden = !show;
          p.setAttribute('aria-hidden', String(!show));
        }
        clearErrors();
        recalc();
      }
      function getMode(){
        const checked = Array.from(modeRadios).find(r => r.checked);
        return checked ? checked.value : 'force';
      }

      // Validation handlers (on blur)
      attachValidation(forceValue, 'force', v => positiveNumber(v), 'Please enter a positive force value.');
      attachValidation(lengthValue, 'length', v => positiveNumber(v), 'Please enter a positive length value.');
      attachValidation(angleValue, 'angle', v => numberInRange(v, 0, 180), 'Angle must be between 0° and 180°.');
      attachValidation(powerValue, 'power', v => positiveNumber(v), 'Please enter a positive power value.');
      attachValidation(speedValue, 'speed', v => positiveNumber(v), 'Please enter a positive speed value.');
      attachValidation(convTorqueValue, 'conv', v => positiveNumber(v), 'Please enter a positive torque value.');

      function attachValidation(input, key, predicate, message){
        if(!input) return;
        input.addEventListener('blur', () => {
          const value = parseFloat(input.value);
          const ok = predicate(value);
          if(!ok){
            input.setAttribute('aria-invalid', 'true');
            errors[key].textContent = message;
          } else {
            input.removeAttribute('aria-invalid');
            errors[key].textContent = '';
          }
        });
      }
      function positiveNumber(v){ return typeof v === 'number' && !isNaN(v) && v > 0; }
      function numberInRange(v, min, max){ return typeof v === 'number' && !isNaN(v) && v >= min && v <= max; }
      function clearErrors(){ Object.values(errors).forEach(el => el && (el.textContent = '')); }

      // Live recalc on input
      [forceValue, forceUnit, lengthValue, lengthUnit, angleValue,
       powerValue, powerUnit, speedValue, speedUnit,
       convTorqueValue, convTorqueUnit].forEach(el => {
        if (!el) return;
        el.addEventListener('input', recalc);
        if (el.tagName === 'SELECT') el.addEventListener('change', recalc);
      });

      // Default values to show how it works without causing CLS
      forceValue.value = '120';
      lengthValue.value = '0.35';
      angleValue.value = '90';
      powerValue.value = '2';
      speedValue.value = '1500';
      convTorqueValue.value = '42';

      recalc();

      function recalc(){
        const mode = getMode();
        if(mode === 'force'){
          calcFromForce();
        } else if(mode === 'power'){
          calcFromPower();
        } else {
          convertTorque();
        }
      }

      function calcFromForce(){
        const F = toNewton(parseFloat(forceValue.value || '0'), forceUnit.value);
        const r = toMetre(parseFloat(lengthValue.value || '0'), lengthUnit.value);
        const deg = parseFloat(angleValue.value || '0');
        const rad = deg * Math.PI / 180;

        if(!(F > 0) || !(r > 0) || !(deg >= 0 && deg <= 180)){
          displayResults(0, 0, 'Tip', 'Provide valid force, length, and angle.');
          return;
        }

        const tauNm = F * r * Math.sin(rad);
        const tauLbfft = tauNm * LBFFT_PER_NM;
        displayResults(tauNm, tauLbfft, 'Effective component', `${formatNumber(F * Math.sin(rad))} N`);
      }

      function calcFromPower(){
        const P = toWatt(parseFloat(powerValue.value || '0'), powerUnit.value);
        const omega = toRadPerSec(parseFloat(speedValue.value || '0'), speedUnit.value);
        if(!(P > 0) || !(omega > 0)){
          displayResults(0, 0, 'Tip', 'Provide valid power and speed.');
          return;
        }
        const tauNm = P / omega;
        const tauLbfft = tauNm * LBFFT_PER_NM;
        displayResults(tauNm, tauLbfft, 'Angular speed (rad/s)', formatNumber(omega));
      }

      function convertTorque(){
        const val = parseFloat(convTorqueValue.value || '0');
        if(!(val > 0)){
          displayResults(0, 0, 'Tip', 'Enter a positive torque to convert.');
          return;
        }
        const tauNm = fromTorque(val, convTorqueUnit.value, 'N_m');
        const tauLbfft = tauNm * LBFFT_PER_NM;
        // Show two more conversions in aux
        const tauNcm = tauNm * 100;
        const taulbfin = tauNm * LBFFT_PER_NM * 12;
        displayResults(tauNm, tauLbfft, 'Also:', `${formatNumber(tauNcm)} N·cm | ${formatNumber(taulbfin)} lbf·in`);
      }

      // Unit conversions
      function toNewton(value, unit){
        if(!value || isNaN(value)) return 0;
        if(unit === 'N') return value;
        if(unit === 'lbf') return value * N_PER_LBF;
        return value;
      }
      function toMetre(value, unit){
        if(!value || isNaN(value)) return 0;
        if(unit === 'm') return value;
        if(unit === 'ft') return value * M_PER_FT;
        return value;
      }
      function toWatt(value, unit){
        if(!value || isNaN(value)) return 0;
        if(unit === 'W') return value;
        if(unit === 'kW') return value * 1000;
        if(unit === 'hp') return value * W_PER_HP;
        return value;
      }
      function toRadPerSec(value, unit){
        if(!value || isNaN(value)) return 0;
        if(unit === 'rad_s') return value;
        if(unit === 'rpm') return value * 2 * Math.PI / 60;
        return value;
      }
      function fromTorque(value, fromUnit, toUnit){
        // Convert from any to N·m then to desired
        let inNm;
        switch(fromUnit){
          case 'N_m': inNm = value; break;
          case 'lbf_ft': inNm = value * NM_PER_LBFFT; break;
          case 'N_cm': inNm = value / 100; break;
          case 'lbf_in': inNm = value * NM_PER_LBFFT / 12; break;
          default: inNm = value;
        }
        if(toUnit === 'N_m') return inNm;
        if(toUnit === 'lbf_ft') return inNm * LBFFT_PER_NM;
        if(toUnit === 'N_cm') return inNm * 100;
        if(toUnit === 'lbf_in') return inNm * LBFFT_PER_NM * 12;
        return inNm;
      }

      function displayResults(nm, lbfft, auxLabel, auxValue){
        torqueNmEl.textContent = formatNumber(nm) + '';
        torqueLbfftEl.textContent = formatNumber(lbfft) + '';
        auxLabelEl.textContent = auxLabel || '';
        auxValueEl.textContent = auxValue || '';
      }

      function formatNumber(x){
        if(!isFinite(x)) return '—';
        const abs = Math.abs(x);
        if(abs >= 1000 || (abs > 0 && abs < 0.01)){
          return x.toExponential(3).replace('+','');
        }
        return x.toLocaleString(undefined,{maximumFractionDigits:4});
      }
    })();
  </script>

</body></html>
