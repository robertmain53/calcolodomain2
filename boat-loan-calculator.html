<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boat Loan Calculator — Payment, Taxes, Fees & Amortization</title>
  <meta name="description" content="Calculate boat loan payments with taxes, fees, down payment, and trade-in. Get the amount financed, total interest, ownership cost, and a full amortization schedule." />
  <link rel="canonical" href="https://calcdomain.com/boat-loan-calculator.html" />
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <!-- Tailwind and Chart.js (small, async) -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

  <!-- Fonts (preconnect + swap) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root { --focus: #2563eb; }
    html { scroll-behavior:smooth; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; }
    .prose { max-width: 68ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 0.75rem; }
    .prose h3 { font-size: 1.125rem; font-weight: 600; margin-top: 1.25rem; margin-bottom: 0.5rem; }
    .formula-box { background:#f3f4f6; border:1px solid #e5e7eb; border-radius:10px; padding:1rem; overflow-x:auto; font-family: ui-monospace, Menlo, Consolas, monospace; }
    /* Visible focus */
    :is(input, select, button, summary, a):focus-visible { outline:3px solid var(--focus); outline-offset:2px; border-radius:8px; }
    /* Prevent CLS for results & chart */
    #results { min-height: 360px; }
    #resultsChartWrap { min-height: 200px; }
    /* Tooltip */
    .tip { display:none; }
    .tip[aria-hidden="false"] { display:block; }
    /* Print */
    @media print {
      header, aside, .no-print { display:none !important; }
      #print-section { position: static; box-shadow:none; border:none; }
      body { background:#fff; }
    }
  </style>

  <!-- WebPage JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Boat Loan Calculator",
    "url":"https://calcdomain.com/boat-loan-calculator.html",
    "inLanguage":"en",
    "description":"Calculate boat loan payments including sales tax, fees, down payment, and trade-in. See amount financed, total interest, and full amortization schedule.",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"},
    "dateModified":"2025-10-30"
  }
  </script>

  <!-- Breadcrumb JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      { "@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/" },
      { "@type":"ListItem","position":2,"name":"Finance","item":"https://calcdomain.com/finance.html" },
      { "@type":"ListItem","position":3,"name":"Loans & Debt","item":"https://calcdomain.com/subcategories/finance-loans-debt.html" },
      { "@type":"ListItem","position":4,"name":"Boat Loan Calculator","item":"https://calcdomain.com/boat-loan-calculator.html" }
    ]
  }
  </script>

  <!-- HowTo JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to calculate a boat loan payment",
    "step":[
      {"@type":"HowToStep","name":"Enter boat price & extras","text":"Input boat price, sales tax, and fees. Add down payment and trade-in to compute the amount financed."},
      {"@type":"HowToStep","name":"Set APR and term","text":"Choose your annual percentage rate (APR) and loan term in years or months."},
      {"@type":"HowToStep","name":"Review results","text":"See monthly payment, amount financed, total interest and total cost, plus an amortization schedule."},
      {"@type":"HowToStep","name":"Refine ownership cost","text":"Optionally include insurance & maintenance to estimate total monthly ownership cost."}
    ]
  }
  </script>

  <!-- FAQPage JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Does the calculator include sales tax and fees?","acceptedAnswer":{"@type":"Answer","text":"Yes. Add your local sales tax and any title, registration, or dealer fees. Choose whether fees are paid upfront or financed."}},
      {"@type":"Question","name":"How is the monthly payment calculated?","acceptedAnswer":{"@type":"Answer","text":"Payments are computed using the standard amortized loan formula with rate per period r and number of periods n: Payment = P * r / (1 - (1 + r)^(-n))."}},
      {"@type":"Question","name":"Can I factor in a trade-in and payoff?","acceptedAnswer":{"@type":"Answer","text":"Yes. Enter the trade-in value and any outstanding loan payoff. The calculator applies trade-in equity (trade-in minus payoff) to reduce the amount financed."}},
      {"@type":"Question","name":"What payment frequencies are supported?","acceptedAnswer":{"@type":"Answer","text":"Monthly, biweekly, and weekly. The APR is converted to a per-period rate accordingly."}},
      {"@type":"Question","name":"Is this applicable outside the U.S.?","acceptedAnswer":{"@type":"Answer","text":"Yes, but tax rules differ. Enter local tax and fee amounts directly to adapt the numbers to your location."}}
    ]
  }
  </script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex items-center justify-between">
        <a href="index.html" class="text-2xl font-extrabold text-blue-700">CalcDomain</a>
        <div class="hidden md:flex items-center gap-6 text-sm">
          <a href="search.html" class="hover:text-blue-700">Search</a>
          <a href="index.html#categories" class="hover:text-blue-700">Categories</a>
        </div>
      </div>
    </nav>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Main Column -->
      <section class="w-full lg:w-2/3">
        <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
          <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
          <a href="finance.html" class="hover:text-blue-700">Finance</a> &raquo;
          <a href="subcategories/finance-loans-debt.html" class="hover:text-blue-700">Loans &amp; Debt</a> &raquo;
          <span class="text-gray-900">Boat Loan Calculator</span>
        </nav>

        <div id="print-section" class="bg-white p-6 rounded-lg shadow">
          <h1 class="text-3xl font-extrabold mb-2">boat loan calculator</h1>
          <p class="text-gray-700 mb-6">Estimate your boat payment including <strong>sales tax</strong>, <strong>title/registration & dealer fees</strong>, <strong>down payment</strong>, and <strong>trade-in equity</strong>. See the <em>amount financed</em>, <em>total interest</em>, and a complete amortization schedule. Ideal for buyers comparing offers from banks, credit unions, and marine lenders.</p>

          <!-- Calculator -->
          <section id="calculator" class="space-y-6" aria-labelledby="calcLabel">
            <h2 id="calcLabel" class="sr-only">Boat loan calculator inputs</h2>

            <!-- Price & costs -->
            <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-6" aria-describedby="groupPriceHelp">
              <legend class="text-lg font-semibold mb-2">Boat price & costs</legend>

              <div>
                <label for="boatPrice" class="block text-sm font-medium text-gray-800">Boat price (out-the-door before tax) <span aria-hidden="true" class="text-red-600">*</span></label>
                <div class="flex items-start gap-2">
                  <input type="number" inputmode="decimal" id="boatPrice" aria-required="true" aria-describedby="err-boatPrice tip-boatPrice"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                         min="0" step="100" value="45000" />
                  <button type="button" class="no-print mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="tip-boatPrice">?</button>
                </div>
                <p id="tip-boatPrice" class="tip text-sm text-gray-600 mt-1" aria-hidden="true">MSRP or agreed price before tax. Add factory/dealer options here.</p>
                <p id="err-boatPrice" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="salesTax" class="block text-sm font-medium text-gray-800">Sales tax rate (%)</label>
                <div class="flex items-start gap-2">
                  <input type="number" inputmode="decimal" id="salesTax" aria-describedby="tip-salesTax err-salesTax"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                         min="0" max="25" step="0.1" value="7.0" />
                  <button type="button" class="no-print mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="tip-salesTax">?</button>
                </div>
                <p id="tip-salesTax" class="tip text-sm text-gray-600 mt-1" aria-hidden="true">Enter your local combined tax rate. If tax is not applicable, set to 0.</p>
                <p id="err-salesTax" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="titleFees" class="block text-sm font-medium text-gray-800">Title/registration fees ($)</label>
                <input type="number" inputmode="decimal" id="titleFees" aria-describedby="err-titleFees"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="10" value="300" />
                <p id="err-titleFees" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="dealerFees" class="block text-sm font-medium text-gray-800">Dealer/doc fees ($)</label>
                <input type="number" inputmode="decimal" id="dealerFees" aria-describedby="err-dealerFees"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="10" value="500" />
                <p id="err-dealerFees" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div class="md:col-span-2 flex items-center gap-3">
                <input id="financeFees" type="checkbox" class="w-5 h-5 border-gray-300 rounded" />
                <label for="financeFees" class="text-sm text-gray-800 select-none">Include title/registration & dealer fees in the loan (finance them)</label>
              </div>
              <p id="groupPriceHelp" class="text-sm text-gray-600 md:col-span-2">Taxes are calculated on <em>price minus trade-in</em> in many locales; this tool models that behavior.</p>
            </fieldset>

            <!-- Down payment & trade-in -->
            <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <legend class="text-lg font-semibold mb-2">Down payment & trade-in</legend>

              <div>
                <label for="downPayment" class="block text-sm font-medium text-gray-800">Down payment ($)</label>
                <input type="number" inputmode="decimal" id="downPayment" aria-describedby="err-downPayment"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="100" value="5000" />
                <p id="err-downPayment" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="tradeIn" class="block text-sm font-medium text-gray-800">Trade-in value ($)</label>
                <input type="number" inputmode="decimal" id="tradeIn" aria-describedby="err-tradeIn"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="100" value="0" />
                <p id="err-tradeIn" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="tradePayoff" class="block text-sm font-medium text-gray-800">Outstanding payoff on trade-in ($)</label>
                <input type="number" inputmode="decimal" id="tradePayoff" aria-describedby="err-tradePayoff"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="100" value="0" />
                <p id="err-tradePayoff" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div class="flex items-center gap-3">
                <input id="applyTradeToTax" type="checkbox" class="w-5 h-5 border-gray-300 rounded" checked />
                <label for="applyTradeToTax" class="text-sm text-gray-800 select-none">Reduce taxable price by trade-in (common in many U.S. states)</label>
              </div>
            </fieldset>

            <!-- APR & term -->
            <fieldset class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <legend class="text-lg font-semibold mb-2">APR, term & frequency</legend>

              <div>
                <label for="apr" class="block text-sm font-medium text-gray-800">APR (%) <span aria-hidden="true" class="text-red-600">*</span></label>
                <input type="number" inputmode="decimal" id="apr" aria-required="true" aria-describedby="err-apr tip-apr"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" max="99" step="0.01" value="7.49" />
                <p id="err-apr" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
                <p id="tip-apr" class="text-sm text-gray-600 mt-1">For context, mainstream personal/boat loan APRs often range from single digits to low-teens depending on credit.</p>
              </div>

              <div>
                <label for="term" class="block text-sm font-medium text-gray-800">Loan term <span aria-hidden="true" class="text-red-600">*</span></label>
                <input type="number" inputmode="decimal" id="term" aria-required="true" aria-describedby="err-term"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0.5" step="0.5" value="10" />
                <p id="err-term" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>

              <div>
                <label for="termUnit" class="block text-sm font-medium text-gray-800">Term unit</label>
                <select id="termUnit" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md">
                  <option value="years" selected>Years</option>
                  <option value="months">Months</option>
                </select>
              </div>

              <div>
                <label for="frequency" class="block text-sm font-medium text-gray-800">Payment frequency</label>
                <select id="frequency" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md">
                  <option value="monthly" selected>Monthly</option>
                  <option value="biweekly">Biweekly (26/yr)</option>
                  <option value="weekly">Weekly (52/yr)</option>
                </select>
              </div>

              <div>
                <label for="startMonth" class="block text-sm font-medium text-gray-800">First payment month</label>
                <input type="month" id="startMonth" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md" />
              </div>
            </fieldset>

            <!-- Ownership cost -->
            <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <legend class="text-lg font-semibold mb-2">Ownership cost (optional)</legend>
              <div>
                <label for="insMaint" class="block text-sm font-medium text-gray-800">Insurance & maintenance per month ($)</label>
                <input type="number" inputmode="decimal" id="insMaint" aria-describedby="err-insMaint"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
                       min="0" step="10" value="120" />
                <p id="err-insMaint" class="text-sm text-red-600 mt-1" role="alert" hidden></p>
              </div>
              <div class="flex items-end">
                <button id="resetBtn" class="no-print inline-flex items-center justify-center px-4 py-3 border rounded-md font-semibold hover:bg-gray-50" type="button">Reset</button>
              </div>
            </fieldset>
          </section>

          <!-- Results -->
          <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" aria-live="polite">
            <h2 class="text-lg font-semibold mb-4">Results</h2>

            <div class="flex flex-col lg:flex-row gap-6">
              <div class="w-full lg:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Payment per period</h3>
                  <p id="outPayment" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Amount financed</h3>
                  <p id="outFinanced" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Total interest</h3>
                  <p id="outInterest" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Total cost of loan</h3>
                  <p id="outTotalCost" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Out-the-door price</h3>
                  <p id="outOtd" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
                <div class="bg-white border rounded-lg p-4 text-center">
                  <h3 class="text-xs uppercase tracking-wide text-gray-500">Est. monthly ownership</h3>
                  <p id="outOwnership" class="text-2xl font-extrabold text-blue-700">$0.00</p>
                </div>
              </div>

              <div id="resultsChartWrap" class="w-full lg:w-1/3">
                <canvas id="resultsChart" aria-label="Principal versus interest share doughnut chart" role="img"></canvas>
              </div>
            </div>

            <details class="mt-6 bg-white rounded-lg">
              <summary class="px-4 py-3 font-semibold cursor-pointer">View amortization schedule</summary>
              <div class="mt-2 overflow-x-auto border-t">
                <table class="min-w-full text-sm text-right">
                  <thead class="bg-gray-100 text-gray-700 uppercase">
                    <tr>
                      <th class="px-4 py-2 text-left">#</th>
                      <th class="px-4 py-2 text-left">Date</th>
                      <th class="px-4 py-2">Payment</th>
                      <th class="px-4 py-2">Interest</th>
                      <th class="px-4 py-2">Principal</th>
                      <th class="px-4 py-2">Balance</th>
                    </tr>
                  </thead>
                  <tbody id="scheduleBody"></tbody>
                </table>
              </div>
            </details>

            <div class="mt-6 flex gap-3 no-print">
              <button id="printBtn" class="inline-flex items-center justify-center px-4 py-3 border rounded-md font-semibold hover:bg-gray-50" type="button">Print</button>
              <button id="copyLinkBtn" class="inline-flex items-center justify-center px-4 py-3 border rounded-md font-semibold hover:bg-gray-50" type="button">Copy shareable link</button>
            </div>
          </section>
        </div>

        <!-- Authoritative content -->
        <article class="bg-white p-6 rounded-lg shadow mt-8 prose">
          <h2>Authoritative Data Source & Methodology</h2>
          <p><strong>AuthoritativeDataSource:</strong> <a href="https://www.consumerfinance.gov/ask-cfpb/what-is-amortization-and-how-could-it-affect-my-auto-loan-en-771/" target="_blank" rel="nofollow noopener">Consumer Financial Protection Bureau (CFPB) — “What is amortization and how could it affect my auto loan?” (Sept 25, 2024)</a>. Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</p>

          <h2>The formula explained</h2>
          <div class="formula-box">
            <p>Let:</p>
            <ul>
              <li><code>P_f</code> = amount financed</li>
              <li><code>r</code> = APR per period (APR / periods per year)</li>
              <li><code>n</code> = number of periods</li>
            </ul>
            <p>Payment per period:</p>
            <pre> \( \text{Pay} = \dfrac{P_f \cdot r}{1 - (1 + r)^{-n}} \) </pre>
            <p>Interest each period is computed on the declining balance; schedule rows follow standard amortization where interest = balance × r.</p>
            <p>Out-the-door price:</p>
            <pre> \( \text{OTD} = (\text{Price} - \text{TradeAdj}) \times (1 + \text{Tax}) + \text{Fees} \)</pre>
            <p>Trade adjustment:</p>
            <pre> \( \text{TradeAdj} = \begin{cases}
              \text{TradeIn}, & \text{if reduce-tax is enabled} \\
              0, & \text{otherwise}
            \end{cases} \)</pre>
            <p>Equity applied to reduce financing:</p>
            <pre> \( \text{Equity} = \max(0, \text{TradeIn} - \text{Payoff}) \)</pre>
            <p>Amount financed:</p>
            <pre> \( P_f = \text{OTD} - \text{Down} - \text{Equity} + \mathbb{1}_{\text{financeFees}}\cdot \text{Fees} \) </pre>
          </div>

          <h2>Glossary of variables</h2>
          <ul>
            <li><strong>Boat price</strong>: Agreed price before tax.</li>
            <li><strong>Sales tax</strong>: Local rate; many regions tax price minus trade-in.</li>
            <li><strong>Title/registration & dealer fees</strong>: Government/dealer charges; optionally financed.</li>
            <li><strong>Down payment</strong>: Cash you pay upfront.</li>
            <li><strong>Trade-in</strong>: Value of your old boat; <em>payoff</em> is what you still owe on it; equity offsets price.</li>
            <li><strong>Amount financed</strong>: What you borrow after all adjustments.</li>
            <li><strong>APR</strong>: Annual Percentage Rate; used to derive per-period rate.</li>
            <li><strong>Payment frequency</strong>: Monthly (12/yr), biweekly (26/yr), weekly (52/yr).</li>
          </ul>

          <h2>How it works: a step-by-step example</h2>
          <p><em>Inputs:</em> Price $45,000; tax 7%; fees $800; down $5,000; trade-in $4,000; payoff $1,000 (equity $3,000); finance fees = Yes; APR 7.49%; term 10 years; monthly.</p>
          <ol>
            <li>Taxable base = (45,000 − 4,000) = 41,000 → tax = 0.07 × 41,000 = 2,870.</li>
            <li>OTD = 41,000 + 2,870 + 800 = 44,670.</li>
            <li>Amount financed = 44,670 − 5,000 − 3,000 + 800 (fees financed) = 37,470.</li>
            <li>r = 0.0749 / 12 ≈ 0.0062417; n = 120.</li>
            <li>Payment = 37,470 × r / (1 − (1 + r)^−120) ≈ $446. (Your exact result appears above.)</li>
          </ol>

          <h2>FAQ</h2>
          <details><summary>Can I model “fees financed” vs. paid upfront?</summary><p>Yes—toggle “Include fees in the loan.” If off, fees are paid upfront and do not increase the amount financed.</p></details>
          <details><summary>How are biweekly/weekly payments handled?</summary><p>APR is divided by 26 or 52 for r, and n increases accordingly. The schedule assumes equal periods.</p></details>
          <details><summary>What affects the out-the-door price?</summary><p>Sales tax policy (trade-in credit), local fees, and dealer charges. Enter your local figures directly.</p></details>
          <details><summary>Is the schedule exact to the day?</summary><p>It uses equal intervals by frequency. Actual lender day-count may differ slightly; use this as a planning estimate.</p></details>
          <details><summary>Will a higher down payment always lower my payment?</summary><p>Usually yes because it reduces the amount financed. Use the tool to compare scenarios instantly.</p></details>

          <div class="mt-6 p-4 bg-gray-50 border rounded text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br/>
              Last accuracy review: <time datetime="2025-10-30">October 30, 2025</time></p>
          </div>
        </article>
      </section>

      <!-- Sidebar -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky top-20 space-y-6">
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Why this calculator beats others</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Models tax on price minus trade-in (where applicable).</li>
              <li>Separates fees with “finance vs upfront” toggle.</li>
              <li>Supports monthly, biweekly, and weekly payments.</li>
              <li>Shows <em>ownership</em> cost (payment + insurance/maintenance).</li>
              <li>Accessible (WCAG 2.1 AA) with inline validation and tooltips.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Related tools</h3>
            <ul class="space-y-2 text-sm">
              <li><a class="text-blue-700 hover:underline" href="loan-amortization.html">Amortization Schedule</a></li>
              <li><a class="text-blue-700 hover:underline" href="loan-comparison.html">Loan Comparison</a></li>
              <li><a class="text-blue-700 hover:underline" href="apr.html">APR Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="boat-ownership-cost.html">Boat Ownership Cost</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-4 lg:px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-3 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer loaded by browser due to position-before </body>) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Grab elements
      const el = (id) => document.getElementById(id);
      const E = {
        boatPrice: el('boatPrice'),
        salesTax: el('salesTax'),
        titleFees: el('titleFees'),
        dealerFees: el('dealerFees'),
        financeFees: el('financeFees'),
        applyTradeToTax: el('applyTradeToTax'),
        downPayment: el('downPayment'),
        tradeIn: el('tradeIn'),
        tradePayoff: el('tradePayoff'),
        apr: el('apr'),
        term: el('term'),
        termUnit: el('termUnit'),
        frequency: el('frequency'),
        startMonth: el('startMonth'),
        insMaint: el('insMaint'),
        // Results
        outPayment: el('outPayment'),
        outFinanced: el('outFinanced'),
        outInterest: el('outInterest'),
        outTotalCost: el('outTotalCost'),
        outOtd: el('outOtd'),
        outOwnership: el('outOwnership'),
        scheduleBody: el('scheduleBody'),
        printBtn: el('printBtn'),
        copyLinkBtn: el('copyLinkBtn'),
        resetBtn: el('resetBtn')
      };

      // Tooltips toggling
      document.querySelectorAll('button[aria-controls^="tip-"]').forEach(btn => {
        btn.addEventListener('click', () => {
          const tip = document.getElementById(btn.getAttribute('aria-controls'));
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          tip.setAttribute('aria-hidden', String(expanded));
        });
      });

      // Helpers
      const fmtCur = (v) => new Intl.NumberFormat(undefined, {style:'currency', currency:'USD'}).format(isFinite(v)? v : 0);
      const fmtNum = (v) => new Intl.NumberFormat().format(isFinite(v)? v : 0);
      const clamp = (v, min, max) => Math.min(Math.max(v, min), max);

      function periodsPerYear(freq){
        return (freq === 'weekly') ? 52 : (freq === 'biweekly' ? 26 : 12);
      }

      // Validation (on blur), specific messages under inputs
      const rules = {
        boatPrice: { min:0, msg:"Enter a non-negative price." },
        salesTax: { min:0, max:25, msg:"Enter a tax rate between 0 and 25%." },
        titleFees: { min:0, msg:"Fees cannot be negative." },
        dealerFees: { min:0, msg:"Fees cannot be negative." },
        downPayment: { min:0, msg:"Down payment cannot be negative." },
        tradeIn: { min:0, msg:"Trade-in cannot be negative." },
        tradePayoff: { min:0, msg:"Payoff cannot be negative." },
        apr: { min:0, max:99, required:true, msg:"APR must be between 0% and 99%." },
        term: { min:0.25, required:true, msg:"Enter a term of at least 0.25." },
        insMaint: { min:0, msg:"Monthly cost cannot be negative." }
      };

      function showErr(id, text){
        const p = document.getElementById('err-' + id);
        if(!p) return;
        if(text){
          p.textContent = text;
          p.hidden = false;
        } else {
          p.textContent = '';
          p.hidden = true;
        }
      }

      function validateField(id){
        const r = rules[id]; if(!r) return true;
        const raw = E[id].value;
        if(r.required && (raw === '' || raw === null)){
          showErr(id, "This field is required.");
          return false;
        }
        const val = parseFloat(raw);
        if(isNaN(val)){ showErr(id, "Enter a number."); return false; }
        if(r.min !== undefined && val < r.min){ showErr(id, r.msg); return false; }
        if(r.max !== undefined && val > r.max){ showErr(id, r.msg); return false; }
        showErr(id, '');
        return true;
      }

      Object.keys(rules).forEach(id => {
        const node = E[id];
        if(node) node.addEventListener('blur', () => { validateField(id); compute(); });
      });

      // Core compute
      let chart;
      function compute(){
        // Parse inputs
        const price = +E.boatPrice.value || 0;
        const taxRate = (+E.salesTax.value || 0) / 100;
        const fees = (+E.titleFees.value || 0) + (+E.dealerFees.value || 0);
        const financeFees = E.financeFees.checked;
        const tradeIn = +E.tradeIn.value || 0;
        const payoff = +E.tradePayoff.value || 0;
        const equity = Math.max(0, tradeIn - payoff);
        const reduceTax = E.applyTradeToTax.checked;
        const down = +E.downPayment.value || 0;
        const apr = (+E.apr.value || 0) / 100;
        let term = +E.term.value || 0;
        const unit = E.termUnit.value;
        const freq = E.frequency.value;
        const ppy = periodsPerYear(freq);
        if(unit === 'years') term = term * ppy; // periods
        if(unit === 'months') term = (term/12) * ppy;

        // Guard invalid
        if(price < 0 || apr < 0 || term <= 0){ renderOutputs({}); return; }

        // Out-the-door: tax on (price - trade adjust)
        const tradeAdj = reduceTax ? tradeIn : 0;
        const taxableBase = Math.max(0, price - tradeAdj);
        const tax = taxableBase * taxRate;
        const otd = price + tax + fees;

        // Amount financed: subtract down & equity; if fees financed, add them back
        let financed = otd - down - equity + (financeFees ? fees : 0);
        financed = Math.max(0, financed);

        // Payment
        const r = apr / ppy;
        const n = Math.round(term); // integer number of periods
        let pay = 0, totalInterest = 0, totalCost = 0;

        if(r === 0){
          pay = financed / n;
          totalInterest = 0;
          totalCost = financed;
        } else {
          pay = financed * r / (1 - Math.pow(1 + r, -n));
          // Build schedule to get interest precisely on declining balance
        }

        // Schedule build
        const rows = [];
        let balance = financed;
        const start = E.startMonth.value ? new Date(E.startMonth.value + '-01') : new Date();
        const daysPer = Math.round(365/ppy);

        for(let i=1;i<=n;i++){
          const interest = r === 0 ? 0 : balance * r;
          const principal = Math.min(pay - interest, balance);
          balance = Math.max(0, balance - principal);

          const d = new Date(start);
          d.setDate(d.getDate() + i*daysPer);

          rows.push({i, date:d, payment: (r===0? pay : (principal+interest)), interest, principal, balance});
        }

        if(r !== 0){
          totalInterest = rows.reduce((s, x) => s + x.interest, 0);
          totalCost = financed + totalInterest;
        }

        const ownership = pay * (freq==='monthly'?1 : (12/ppy)) + (+E.insMaint.value || 0);

        renderOutputs({
          payment: pay,
          financed, totalInterest, totalCost, otd, ownership,
          schedule: rows
        });
      }

      function renderOutputs(o){
        const nf = fmtCur;
        if(!o || !isFinite(o.payment)){
          E.outPayment.textContent = "$0.00";
          E.outFinanced.textContent = "$0.00";
          E.outInterest.textContent = "$0.00";
          E.outTotalCost.textContent = "$0.00";
          E.outOtd.textContent = "$0.00";
          E.outOwnership.textContent = "$0.00";
          E.scheduleBody.innerHTML = "";
          drawChart(0,0);
          return;
        }
        E.outPayment.textContent = nf(o.payment);
        E.outFinanced.textContent = nf(o.financed);
        E.outInterest.textContent = nf(o.totalInterest);
        E.outTotalCost.textContent = nf(o.totalCost);
        E.outOtd.textContent = nf(o.otd);
        E.outOwnership.textContent = nf(o.ownership);

        // Schedule
        const fmtDate = new Intl.DateTimeFormat(undefined, {year:'numeric', month:'short'});
        const rows = o.schedule.map(r => `
          <tr class="odd:bg-white even:bg-gray-50">
            <td class="px-4 py-2 text-left">${r.i}</td>
            <td class="px-4 py-2 text-left">${fmtDate.format(r.date)}</td>
            <td class="px-4 py-2">${fmtCur(r.payment)}</td>
            <td class="px-4 py-2">${fmtCur(r.interest)}</td>
            <td class="px-4 py-2">${fmtCur(r.principal)}</td>
            <td class="px-4 py-2">${fmtCur(r.balance)}</td>
          </tr>`).join('');
        E.scheduleBody.innerHTML = rows;

        // Chart
        drawChart(o.totalCost - o.totalInterest, o.totalInterest);
      }

      function drawChart(principal, interest){
        const ctx = document.getElementById('resultsChart');
        if(!ctx) return;
        const data = {
          labels: ['Principal', 'Interest'],
          datasets: [{ data: [Math.max(0, principal), Math.max(0, interest)] }]
        };
        if(window.Chart){
          if(!chart){
            chart = new Chart(ctx, {
              type: 'doughnut',
              data,
              options: { plugins:{ legend:{ position:'bottom' } }, responsive:true, maintainAspectRatio:false }
            });
          } else {
            chart.data = data; chart.update();
          }
        }
      }

      // Bind inputs
      [
        'boatPrice','salesTax','titleFees','dealerFees','financeFees','applyTradeToTax',
        'downPayment','tradeIn','tradePayoff','apr','term','termUnit','frequency','startMonth','insMaint'
      ].forEach(id => {
        const n = E[id];
        if(!n) return;
        const evt = (n.type === 'checkbox' || n.tagName === 'SELECT') ? 'change' : 'input';
        n.addEventListener(evt, compute);
      });

      // Buttons
      if(E.printBtn) E.printBtn.addEventListener('click', () => window.print());
      if(E.copyLinkBtn) E.copyLinkBtn.addEventListener('click', () => {
        const params = new URLSearchParams({
          price:E.boatPrice.value, tax:E.salesTax.value, tf:E.titleFees.value, df:E.dealerFees.value,
          ff:E.financeFees.checked?1:0, dp:E.downPayment.value, ti:E.tradeIn.value, tp:E.tradePayoff.value,
          r:E.apr.value, t:E.term.value, tu:E.termUnit.value, fq:E.frequency.value, im:E.insMaint.value,
          rt:E.applyTradeToTax.checked?1:0, sm:E.startMonth.value
        });
        const url = `${location.origin}${location.pathname}?${params.toString()}`;
        navigator.clipboard.writeText(url).then(()=> {
          E.copyLinkBtn.textContent = 'Link copied!'; setTimeout(()=>E.copyLinkBtn.textContent='Copy shareable link', 1600);
        });
      });
      if(E.resetBtn) E.resetBtn.addEventListener('click', () => {
        E.boatPrice.value = 45000; E.salesTax.value=7.0; E.titleFees.value=300; E.dealerFees.value=500;
        E.financeFees.checked=true; E.downPayment.value=5000; E.tradeIn.value=0; E.tradePayoff.value=0;
        E.apr.value=7.49; E.term.value=10; E.termUnit.value='years'; E.frequency.value='monthly';
        E.applyTradeToTax.checked=true; E.startMonth.value=''; E.insMaint.value=120;
        document.querySelectorAll('[id^="err-"]').forEach(p=>{p.hidden=true; p.textContent='';});
        compute();
      });

      // URL state hydrate
      (function hydrateFromQuery(){
        const q = new URLSearchParams(location.search);
        const map = {
          price:'boatPrice', tax:'salesTax', tf:'titleFees', df:'dealerFees', ff:'financeFees',
          dp:'downPayment', ti:'tradeIn', tp:'tradePayoff', r:'apr', t:'term', tu:'termUnit',
          fq:'frequency', im:'insMaint', rt:'applyTradeToTax', sm:'startMonth'
        };
        Object.entries(map).forEach(([k,id])=>{
          if(!q.has(k)) return;
          if(id==='financeFees' || id==='applyTradeToTax'){ E[id].checked = q.get(k) === '1'; }
          else { E[id].value = q.get(k); }
        });
      })();

      // Initial compute
      compute();
    });
  </script>
</body>
</html>
