<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/polygon-calculator.html">




  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>polygon calculator — Area, Perimeter & Angles (Regular & Irregular)</title>
  <meta name="description" content="Professional polygon calculator: compute area, perimeter, apothem/inradius, circumradius, interior/exterior angles for regular polygons; plus coordinate-based area for any irregular polygon (shoelace). Accessible, mobile‑first, and fast." />
  
  <link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg" />
  <link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
  <link rel="manifest" href="https://calcdomain.com/site.webmanifest" />

  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <!-- MathJax for LaTeX rendering -->
  <script defer id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>can
    :root { --focus: #0ea5e9; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji"; }
    /* Visible focus */
    :where(a, button, input, select, textarea, summary, [role="tab"]) :focus,
    :where(a, button, input, select, textarea, summary, [role="tab"]) :focus-visible { outline: none; }
    :where(a, button, input, select, textarea, summary, [role="tab"], .focus-ring):focus-visible { box-shadow: 0 0 0 3px var(--focus); border-radius: .5rem; }
    /* Prevent CLS in results */
    #resultsSection { min-height: 14rem; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    details > summary { cursor: pointer; font-weight: 600; }
    details[open] > summary { margin-bottom: .5rem; }
    /* Touch targets */
    button, .btn, input, select, textarea, summary { min-height: 48px; }
    /* Canvas frame */
    .canvas-frame { background: white; border:1px solid #e5e7eb; border-radius: 10px; }
    @media print { body * { visibility: hidden; } #print-section, #print-section * { visibility: visible; } #print-section { position: absolute; inset: 0; } }
  </style>

  <!-- Structured Data -->
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "@id": "https://calcdomain.com/polygon-calculator.html#webpage",
  "url": "https://calcdomain.com/polygon-calculator.html",
  "name": "polygon calculator \u2014 Area, Perimeter & Angles (Regular & Irregular)",
  "inLanguage": "en",
  "description": "Compute area, perimeter, apothem/inradius, circumradius, and angles for regular polygons; plus coordinate-based area for irregular polygons using the shoelace formula.",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  }
}</script>
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Math & Conversions",
      "item": "https://calcdomain.com/math-conversions.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "polygon calculator",
      "item": "https://calcdomain.com/subcategories/geometry.html"
    }
  ]
}</script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "How to compute regular polygon area and perimeter",
    "description": "Step-by-step example using side length and number of sides.",
    "step": [
      {"@type":"HowToStep","name":"Enter number of sides","text":"Type n ≥ 3, e.g., n = 6."},
      {"@type":"HowToStep","name":"Choose a known measure","text":"Select side length, circumradius, inradius, perimeter, or area."},
      {"@type":"HowToStep","name":"Provide its value","text":"Enter a positive numeric value, e.g., side = 4 cm."},
      {"@type":"HowToStep","name":"Review results","text":"The calculator derives all other properties instantly and draws the polygon."}
    ]
  }
  </script>
  <script type="application/ld+json" id="faq-jsonld"></script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Simple non-sticky header -->
  <header class="bg-white border-b">
    <div class="container mx-auto px-4 lg:px-6 py-4 flex justify-between items-center">
      <a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>
      <nav aria-label="Primary" class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="hover:text-blue-600">Advanced Search</a>
        Categories
      </nav>
      <a href="search.html" class="md:hidden inline-flex items-center px-3 py-2 border rounded-lg hover:bg-gray-50" aria-label="Search calculators">Search</a>
    </div>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div id="print-section" class="max-w-5xl mx-auto">
      <!-- 1) H1 Title -->
      <h1 class="text-3xl font-extrabold mb-2">polygon calculator</h1>
      <!-- 2) Intro -->
      <p class="text-gray-700 mb-6">Compute everything about polygons—regular and irregular. Enter a side, radius, perimeter, or area for a <em>regular</em> polygon and get all properties, or input coordinates for an <em>irregular</em> polygon to get the area (shoelace), perimeter, centroid, and a drawing. Built for engineers, surveyors, architects, teachers, and students.</p>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <section class="lg:col-span-2 bg-white p-6 rounded-lg shadow" aria-labelledby="calc-heading">
          <!-- 3) Calculator UI -->
          <h2 id="calc-heading" class="sr-only">Interactive polygon calculator</h2>

          <!-- Tabs: Regular / Irregular -->
          <div role="tablist" aria-label="Calculator modes" class="flex gap-2 mb-4">
            <button id="tab-regular" role="tab" aria-selected="true" aria-controls="panel-regular" class="focus-ring px-4 py-2 rounded-lg border bg-blue-600 text-white">Regular polygon</button>
            <button id="tab-irregular" role="tab" aria-selected="false" aria-controls="panel-irregular" class="focus-ring px-4 py-2 rounded-lg border bg-white">Irregular polygon</button>
          </div>

          <!-- Regular panel -->
          <div id="panel-regular" role="tabpanel" aria-labelledby="tab-regular">
            <form id="regularForm" novalidate class="space-y-6">
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label for="nSides" class="block text-sm font-medium">Number of sides <span class="text-red-600" aria-hidden="true">*</span></label>
                  <div class="flex items-start gap-2">
                    <input inputmode="numeric" type="number" id="nSides" name="nSides" class="mt-1 w-full px-3 py-2 border rounded-md" min="3" step="1" value="6" aria-required="true" aria-describedby="nSidesTip nSidesErr" />
                    <button type="button" class="px-2 py-2 border rounded" aria-expanded="false" aria-controls="nSidesTip" aria-label="Show tip for number of sides">?</button>
                  </div>
                  <p id="nSidesTip" class="text-sm text-gray-600 hidden">n must be an integer ≥ 3.</p>
                  <p id="nSidesErr" class="text-sm text-red-700 mt-1" role="alert"></p>
                </div>

                <div>
                  <label for="known" class="block text-sm font-medium">Known measure <span class="text-red-600" aria-hidden="true">*</span></label>
                  <select id="known" name="known" class="mt-1 w-full px-3 py-2 border rounded-md" aria-required="true" aria-describedby="knownTip knownErr">
                    <option value="side" selected>Side length (s)</option>
                    <option value="R">Circumradius (R)</option>
                    <option value="r">Inradius / apothem (r)</option>
                    <option value="P">Perimeter (P)</option>
                    <option value="A">Area (A)</option>
                  </select>
                  <p id="knownTip" class="text-sm text-gray-600">Select what you already know.</p>
                  <p id="knownErr" class="text-sm text-red-700 mt-1" role="alert"></p>
                </div>
              </div>

              <div>
                <label for="knownValue" class="block text-sm font-medium">Value <span class="text-red-600" aria-hidden="true">*</span></label>
                <div class="flex items-start gap-2">
                  <input inputmode="decimal" type="number" id="knownValue" name="knownValue" class="mt-1 w-full px-3 py-2 border rounded-md" min="0" step="any" value="4" aria-required="true" aria-describedby="valTip valErr" />
                  <button type="button" class="px-2 py-2 border rounded" aria-expanded="false" aria-controls="valTip" aria-label="Show tip for value">?</button>
                </div>
                <p id="valTip" class="text-sm text-gray-600 hidden">Enter a positive number; units cancel out and are propagated to results.</p>
                <p id="valErr" class="text-sm text-red-700 mt-1" role="alert"></p>
              </div>

              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label for="unitLabel" class="block text-sm font-medium">Unit label (optional)</label>
                  <input type="text" id="unitLabel" name="unitLabel" class="mt-1 w-full px-3 py-2 border rounded-md" maxlength="16" placeholder="e.g., cm" aria-describedby="unitTip" />
                  <p id="unitTip" class="text-sm text-gray-600">Shown next to linear results; areas use squared units.</p>
                </div>
                <div class="flex items-end gap-3">
                  <button id="calcRegular" class="btn px-4 py-2 rounded-lg border bg-blue-600 text-white" type="button">Calculate</button>
                  <button id="resetRegular" class="btn px-4 py-2 rounded-lg border bg-white" type="button">Reset</button>
                </div>
              </div>
            </form>

            <div class="mt-6 grid md:grid-cols-2 gap-6">
              <div class="canvas-frame p-3">
                <canvas id="regularCanvas" class="w-full h-64" aria-label="Regular polygon preview" height="256"></canvas>
              </div>
              <div class="canvas-frame p-4" id="resultsSection">
                <!-- 4) Results container -->
                <h3 class="font-semibold mb-3">Results</h3>
                <dl class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                  <div><dt class="text-gray-600">Side (s)</dt><dd id="res_s" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Perimeter (P)</dt><dd id="res_P" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Area (A)</dt><dd id="res_A" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Inradius / apothem (r)</dt><dd id="res_r" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Circumradius (R)</dt><dd id="res_R" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Interior angle</dt><dd id="res_theta_in" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Exterior angle</dt><dd id="res_theta_ex" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Central angle</dt><dd id="res_theta_c" class="font-semibold">—</dd></div>
                </dl>
              </div>
            </div>
          </div>

          <!-- Irregular panel -->
          <div id="panel-irregular" role="tabpanel" aria-labelledby="tab-irregular" hidden>
            <form id="irrForm" class="space-y-4" novalidate>
              <p class="text-sm text-gray-700">Enter vertices in order (clockwise or counter‑clockwise). You can edit the table, add/remove rows, or paste coordinates.</p>
              <div class="overflow-x-auto border rounded-lg">
                <table class="min-w-full text-sm">
                  <thead class="bg-gray-100">
                    <tr><th class="text-left px-3 py-2">#</th><th class="text-left px-3 py-2">x</th><th class="text-left px-3 py-2">y</th><th class="px-3 py-2">Actions</th></tr>
                  </thead>
                  <tbody id="irrTbody"></tbody>
                </table>
              </div>
              <div class="flex flex-wrap gap-3">
                <button id="addRow" type="button" class="px-4 py-2 rounded-lg border bg-white">Add vertex</button>
                <button id="pasteCoords" type="button" class="px-4 py-2 rounded-lg border bg-white">Paste sample</button>
                <button id="calcIrr" type="button" class="px-4 py-2 rounded-lg border bg-blue-600 text-white">Calculate</button>
                <button id="resetIrr" type="button" class="px-4 py-2 rounded-lg border bg-white">Reset</button>
              </div>
              <p id="irrErr" class="text-sm text-red-700" role="alert"></p>
            </form>

            <div class="mt-6 grid md:grid-cols-2 gap-6">
              <div class="canvas-frame p-3">
                <canvas id="irrCanvas" class="w-full h-64" aria-label="Irregular polygon drawing" height="256"></canvas>
              </div>
              <div class="canvas-frame p-4">
                <h3 class="font-semibold mb-3">Results</h3>
                <dl class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                  <div><dt class="text-gray-600">Perimeter</dt><dd id="irr_perim" class="font-semibold">—</dd></div>
                  <div><dt class="text-gray-600">Area (shoelace)</dt><dd id="irr_area" class="font-semibold">—</dd></div>
                  <div class="sm:col-span-2"><dt class="text-gray-600">Centroid (x̄, ȳ)</dt><dd id="irr_centroid" class="font-semibold">—</dd></div>
                </dl>
              </div>
            </div>
          </div>
        </section>

        <aside class="lg:col-span-1 space-y-6">
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-semibold text-lg mb-3">Why this calculator</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Two modes: exact formulas for regular polygons and coordinate geometry for any shape.</li>
              <li>Accessible inputs with inline validation and screen‑reader tips.</li>
              <li>Live drawings to verify geometry visually.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-semibold text-lg mb-3">Related geometry tools</h3>
            <ul class="space-y-2 text-sm">
              <li><a class="text-blue-600 hover:underline" href="regular-polygon-calculator.html">Regular Polygon Solver</a></li>
              <li><a class="text-blue-600 hover:underline" href="circle-calculator.html">Circle Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="triangle-calculator.html">Triangle Solver</a></li>
            </ul>
          </div>
        </aside>
      </div>

      <!-- 5) Authoritative content ecosystem -->
      <section class="mt-10 bg-white p-6 rounded-lg shadow prose max-w-none">
        <h2>Data source & methodology</h2>
        <p><strong>AuthoritativeDataSource:</strong> <a href="https://mathworld.wolfram.com/Polygon.html" class="text-blue-600">Wolfram MathWorld — Polygon</a> (accessed October 25, 2025). All regular‑polygon relations follow standard Euclidean geometry identities for n‑gons; coordinate‑area uses the Gauss "shoelace" formula.</p>
        <p><em>All computations strictly follow the formulas and data provided by this source.</em></p>

        <h2>The formulas, explained</h2>
        <div class="formula-box">
          <p><strong>Regular n‑gon (n ≥ 3), with side s, inradius r, circumradius R, perimeter P, area A:</strong></p>
          <p>\(\displaystyle P = n\,s\), \(\quad r = \tfrac{s}{2\tan(\pi/n)} = R\cos(\tfrac{\pi}{n})\)</p>
          <p>\(\displaystyle R = \tfrac{s}{2\sin(\pi/n)}\)</p>
          <p>\(\displaystyle A = \tfrac{1}{2} P r = \frac{n s^{2}}{4\tan(\pi/n)} = \tfrac{1}{2} n R^{2}\sin\!\left(\tfrac{2\pi}{n}\right) = n r^{2}\tan\!\left(\tfrac{\pi}{n}\right)\)</p>
          <p>Angles: interior \(\alpha = \tfrac{(n-2)\,180^\circ}{n}\), exterior \(\beta = \tfrac{360^\circ}{n}\), central \(\gamma = \tfrac{360^\circ}{n}\).</p>
          <hr/>
          <p><strong>Irregular polygon area (shoelace) with vertices (x<sub>i</sub>, y<sub>i</sub>):</strong></p>
          <p>\(\displaystyle A = \tfrac{1}{2}\left|\sum_{i=1}^{m} x_i y_{i+1} - y_i x_{i+1}\right|\), with \((x_{m+1},y_{m+1})=(x_1,y_1)\).</p>
          <p>Centroid (for simple polygons): \(\displaystyle x\bar{} = \tfrac{1}{6A}\sum (x_i + x_{i+1})(x_i y_{i+1}-x_{i+1}y_i)\), and similarly for \(\displaystyle y\bar{}\).</p>
        </div>

        <h2>Glossary of variables</h2>
        <ul>
          <li><strong>n</strong>: number of sides (integer ≥ 3).</li>
          <li><strong>s</strong>: side length.</li>
          <li><strong>r</strong>: inradius / apothem (distance from center to a side).</li>
          <li><strong>R</strong>: circumradius (distance from center to a vertex).</li>
          <li><strong>P</strong>: perimeter.</li>
          <li><strong>A</strong>: area.</li>
        </ul>

        <h2>How it works: a step‑by‑step example</h2>
        <p><strong>Example:</strong> n = 6 (regular hexagon) with side s = 4 cm.</p>
        <ol>
          <li>Perimeter: \(P = n s = 6\times 4 = 24\,\text{cm}\).</li>
          <li>Inradius: \(r = \tfrac{s}{2\tan(\pi/6)} = \tfrac{4}{2\tan 30^\circ} \approx 3.464\,\text{cm}\).</li>
          <li>Circumradius: \(R = \tfrac{s}{2\sin(\pi/6)} = \tfrac{4}{2\times 0.5} = 4\,\text{cm}\).</li>
          <li>Area: \(A = \tfrac{1}{2} P r \approx \tfrac{1}{2}\times 24\times 3.464 \approx 41.57\,\text{cm}^2\).</li>
        </ol>

        <h2>Frequently asked questions</h2>
        <details>
          <summary>What is the fastest way to get a regular polygon’s area?</summary>
          <p>Provide any one of s, r, R, P, or A with n. The calculator uses closed‑form identities to derive the rest instantly—no iteration needed.</p>
        </details>
        <details>
          <summary>Does the shoelace formula require convex polygons?</summary>
          <p>No. It works for any simple (non‑self‑intersecting) polygon. If vertices cross (self‑intersect), the computed area is the algebraic area and may not match the intuitive region.</p>
        </details>
        <details>
          <summary>Which angle is shown as “interior angle”?</summary>
          <p>The internal angle at each vertex of a regular polygon: \(\alpha = (n-2)\times 180^\circ/n\).</p>
        </details>
        <details>
          <summary>How do units propagate?</summary>
          <p>If your input is in meters, linear results (s, r, R, P) are in meters and areas in square meters. Enter a custom unit label to annotate outputs.</p>
        </details>
        <details>
          <summary>Can I paste coordinates from CAD or CSV?</summary>
          <p>Yes. Use “Paste sample” to see the expected format, then replace with your points. The table accepts decimals and scientific notation.</p>
        </details>
        <details>
          <summary>Why do I get an error for 2 or fewer points?</summary>
          <p>At least three non‑collinear points are required to form a polygon. The calculator validates this and warns you if the data is insufficient.</p>
        </details>
        <details>
          <summary>Do you round results?</summary>
          <p>Displayed values are rounded for readability, but internal computations use full double precision.</p>
        </details>

        <div class="mt-6 p-4 bg-gray-50 border rounded text-sm text-gray-700">
          <p><strong>Tool developed by Ugo Candido.</strong> Content reviewed by the CalcDomain Editorial Board.<br>
          Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
        </div>
      </section>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-4 lg:px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-3 space-x-4">
        <a href="about.html" class="hover:text-blue-600">About</a>
        <a href="contact.html" class="hover:text-blue-600">Contact</a>
        <a href="privacy.html" class="hover:text-blue-600">Privacy</a>
        <a href="terms.html" class="hover:text-blue-600">Terms</a>
      </div>
    </div>
  </footer>

  <!-- 6) Calculator logic (deferred) -->
  <script defer type="module">
    // Helpers
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmt = (x, unit="") => (Number.isFinite(x) ? (Math.round(x*1e6)/1e6).toString() : "—") + (Number.isFinite(x) && unit? " " + unit : "");
    const deg = (rad) => rad * 180 / Math.PI;

    // Tabs
    const tabRegular = $('#tab-regular');
    const tabIrregular = $('#tab-irregular');
    const panelRegular = $('#panel-regular');
    const panelIrregular = $('#panel-irregular');
    function activateTab(which) {
      const isRegular = which === 'regular';
      tabRegular.setAttribute('aria-selected', String(isRegular));
      tabIrregular.setAttribute('aria-selected', String(!isRegular));
      panelRegular.hidden = !isRegular;
      panelIrregular.hidden = isRegular;
      (isRegular ? tabRegular : tabIrregular).focus();
    }
    tabRegular.addEventListener('click', () => activateTab('regular'));
    tabIrregular.addEventListener('click', () => activateTab('irregular'));

    // Tooltip toggles (accessible via button next to label)
    $$('#panel-regular button[aria-controls], #panel-regular [id$="Tip"]').forEach(el => {
      if (el.tagName === 'BUTTON') {
        el.addEventListener('click', () => {
          const tip = document.getElementById(el.getAttribute('aria-controls'));
          const open = tip.classList.toggle('hidden') ? false : true;
          el.setAttribute('aria-expanded', String(open));
        });
      }
    });

    // Inline validation on blur
    function setError(id, msg) { const el = document.getElementById(id); if (el) el.textContent = msg || ''; }
    function validateRegularInputs() {
      let ok = true;
      const n = parseInt($('#nSides').value, 10);
      if (!Number.isInteger(n) || n < 3) { setError('nSidesErr', 'Please enter an integer ≥ 3.'); ok = false; } else setError('nSidesErr','');
      const v = parseFloat($('#knownValue').value);
      if (!(v > 0)) { setError('valErr','Value must be a positive number.'); ok = false; } else setError('valErr','');
      return ok;
    }
    $('#nSides').addEventListener('blur', validateRegularInputs);
    $('#knownValue').addEventListener('blur', validateRegularInputs);

    // Regular polygon calculations
    function solveRegular(n, known, val){
      const phi = Math.PI / n;
      let s, R, r, P, A;
      if (known==='side'){ s = val; R = s/(2*Math.sin(phi)); r = s/(2*Math.tan(phi)); P = n*s; A = (n*s*s)/(4*Math.tan(phi)); }
      else if (known==='R'){ R = val; s = 2*R*Math.sin(phi); r = R*Math.cos(phi); P = n*s; A = 0.5*n*R*R*Math.sin(2*phi); }
      else if (known==='r'){ r = val; R = r/Math.cos(phi); s = 2*r*Math.tan(phi); P = n*s; A = n*r*r*Math.tan(phi); }
      else if (known==='P'){ P = val; s = P/n; R = s/(2*Math.sin(phi)); r = s/(2*Math.tan(phi)); A = (n*s*s)/(4*Math.tan(phi)); }
      else if (known==='A'){ A = val; s = Math.sqrt((4*A*Math.tan(phi))/n); R = s/(2*Math.sin(phi)); r = s/(2*Math.tan(phi)); P = n*s; }
      const theta_in = (n-2)*180/n; const theta_ex = 360/n; const theta_c = 360/n;
      return { n, s, R, r, P, A, theta_in, theta_ex, theta_c };
    }

    function renderRegularResults(res){
      const u = ($('#unitLabel').value || '').trim();
      const u2 = u ? `${u}²` : '';
      $('#res_s').textContent = fmt(res.s, u);
      $('#res_R').textContent = fmt(res.R, u);
      $('#res_r').textContent = fmt(res.r, u);
      $('#res_P').textContent = fmt(res.P, u);
      $('#res_A').textContent = fmt(res.A, u2);
      $('#res_theta_in').textContent = Number.isFinite(res.theta_in) ? res.theta_in.toFixed(6) + ' °' : '—';
      $('#res_theta_ex').textContent = Number.isFinite(res.theta_ex) ? res.theta_ex.toFixed(6) + ' °' : '—';
      $('#res_theta_c').textContent = Number.isFinite(res.theta_c) ? res.theta_c.toFixed(6) + ' °' : '—';
    }

    // Draw regular polygon
    function drawRegular(res){
      const canvas = $('#regularCanvas');
      const ctx = canvas.getContext('2d');
      const W = canvas.width, H = canvas.height; ctx.clearRect(0,0,W,H);
      if (!Number.isFinite(res.R)) return;
      const Rpx = Math.min(W,H)/2 - 16;
      const cx = W/2, cy = H/2;
      ctx.lineWidth = 2; ctx.strokeStyle = '#1f2937'; ctx.fillStyle = '#bfdbfe';
      ctx.beginPath();
      for (let i=0;i<res.n;i++){
        const ang = -Math.PI/2 + i*2*Math.PI/res.n; // start at top
        const x = cx + Rpx*Math.cos(ang);
        const y = cy + Rpx*Math.sin(ang);
        if (i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.closePath();
      ctx.fill(); ctx.stroke();
    }

    function runRegular(){
      if (!validateRegularInputs()) return;
      const n = parseInt($('#nSides').value,10);
      const known = $('#known').value;
      const val = parseFloat($('#knownValue').value);
      const res = solveRegular(n, known, val);
      renderRegularResults(res);
      drawRegular(res);
    }
    $('#calcRegular').addEventListener('click', runRegular);
    ['input','change'].forEach(ev=> $('#regularForm').addEventListener(ev, (e)=>{
      if (['nSides','known','knownValue','unitLabel'].includes(e.target.id)) runRegular();
    }));
    $('#resetRegular').addEventListener('click', ()=>{ $('#nSides').value=6; $('#known').value='side'; $('#knownValue').value=4; $('#unitLabel').value=''; setError('nSidesErr',''); setError('valErr',''); runRegular(); });
    runRegular();

    // Irregular table helpers
    const irrTbody = $('#irrTbody');
    function addRow(x='', y=''){
      const row = document.createElement('tr');
      row.innerHTML = `
        <td class="px-3 py-2"></td>
        <td class="px-3 py-2"><input type="number" step="any" class="w-32 px-2 py-2 border rounded" value="${x}"></td>
        <td class="px-3 py-2"><input type="number" step="any" class="w-32 px-2 py-2 border rounded" value="${y}"></td>
        <td class="px-3 py-2 text-center"><button type="button" class="px-3 py-1 border rounded remove">Remove</button></td>`;
      irrTbody.appendChild(row); renumber();
    }
    function renumber(){ [...irrTbody.children].forEach((tr,i)=> tr.firstElementChild.textContent = i+1); }
    $('#addRow').addEventListener('click', ()=> addRow());
    irrTbody.addEventListener('click', (e)=>{ if (e.target.classList.contains('remove')) { e.target.closest('tr').remove(); renumber(); } });

    // Sample polygon (simple pentagon)
    const sample = [[0,0],[4,0],[5,2],[2.5,4],[0.5,2]];
    $('#pasteCoords').addEventListener('click', ()=>{ irrTbody.innerHTML=''; sample.forEach(([x,y])=> addRow(x,y)); });

    function getIrrPoints(){
      const pts = [];
      [...irrTbody.children].forEach(tr=>{
        const xs = tr.children[1].querySelector('input').value.trim();
        const ys = tr.children[2].querySelector('input').value.trim();
        const x = parseFloat(xs), y = parseFloat(ys);
        if (Number.isFinite(x) && Number.isFinite(y)) pts.push([x,y]);
      });
      return pts;
    }

    function polygonAreaPerimeterCentroid(pts){
      const m = pts.length; if (m<3) return {area: NaN, perim: NaN, cx: NaN, cy: NaN};
      let area2 = 0, perim = 0, Cx6A = 0, Cy6A = 0;
      for (let i=0;i<m;i++){
        const [x1,y1] = pts[i]; const [x2,y2] = pts[(i+1)%m];
        const cross = x1*y2 - x2*y1;
        area2 += cross;
        Cx6A += (x1 + x2) * cross;
        Cy6A += (y1 + y2) * cross;
        const dx = x2-x1, dy = y2-y1; perim += Math.hypot(dx,dy);
      }
      const A = Math.abs(area2)/2;
      const cx = Cx6A/(3*area2);
      const cy = Cy6A/(3*area2);
      return {area: A, perim, cx, cy};
    }

    function drawIrregular(pts){
      const canvas = $('#irrCanvas'); const ctx = canvas.getContext('2d');
      const W = canvas.width, H = canvas.height; ctx.clearRect(0,0,W,H);
      if (pts.length<2) return;
      // Fit points into canvas with padding
      let minX=Infinity, minY=Infinity, maxX=-Infinity, maxY=-Infinity;
      for (const [x,y] of pts){ if (x<minX) minX=x; if (y<minY) minY=y; if (x>maxX) maxX=x; if (y>maxY) maxY=y; }
      const pad = 16; const w = maxX-minX || 1; const h = maxY-minY || 1;
      const scale = 0.9 * Math.min((W-2*pad)/w, (H-2*pad)/h);
      const toX = x => pad + (x-minX)*scale; const toY = y => H - (pad + (y-minY)*scale);
      ctx.lineWidth = 2; ctx.strokeStyle = '#1f2937'; ctx.fillStyle = '#fde68a';
      ctx.beginPath();
      pts.forEach(([x,y],i)=>{ const X=toX(x), Y=toY(y); if (i===0) ctx.moveTo(X,Y); else ctx.lineTo(X,Y); });
      ctx.closePath(); ctx.fill(); ctx.stroke();
      // draw vertices
      ctx.fillStyle = '#1d4ed8';
      pts.forEach(([x,y])=>{ const X=toX(x), Y=toY(y); ctx.beginPath(); ctx.arc(X,Y,3,0,Math.PI*2); ctx.fill(); });
    }

    function runIrregular(){
      const pts = getIrrPoints();
      const errEl = $('#irrErr');
      if (pts.length < 3){ errEl.textContent = 'Enter at least three (x, y) points.'; $('#irr_perim').textContent='—'; $('#irr_area').textContent='—'; $('#irr_centroid').textContent='—'; drawIrregular(pts); return; } else errEl.textContent='';
      const {area, perim, cx, cy} = polygonAreaPerimeterCentroid(pts);
      $('#irr_perim').textContent = fmt(perim);
      $('#irr_area').textContent = fmt(area);
      $('#irr_centroid').textContent = (Number.isFinite(cx)&&Number.isFinite(cy))? `${fmt(cx)}, ${fmt(cy)}` : '—';
      drawIrregular(pts);
    }

    $('#calcIrr').addEventListener('click', runIrregular);
    $('#resetIrr').addEventListener('click', ()=>{ irrTbody.innerHTML=''; $('#irrErr').textContent=''; $('#irr_perim').textContent='—'; $('#irr_area').textContent='—'; $('#irr_centroid').textContent='—'; drawIrregular([]); });
    irrTbody.addEventListener('input', runIrregular);

    // Initialize defaults
    addRow(); addRow(); addRow(); // 3 empty rows by default
  </script>

  <!-- Build FAQ JSON-LD dynamically to mirror on-page FAQs -->
  <script defer>
    (function(){
      const faqs = [
        {q:'What is the fastest way to get a regular polygon’s area?', a:'Provide any one of s, r, R, P, or A with n. The calculator uses closed‑form identities to derive the rest instantly—no iteration needed.'},
        {q:'Does the shoelace formula require convex polygons?', a:'No. It works for any simple (non‑self‑intersecting) polygon. If vertices cross, the computed area is the algebraic area and may not match the intuitive region.'},
        {q:'Which angle is shown as “interior angle”?', a:'The internal angle at each vertex of a regular polygon: alpha = (n-2)*180°/n.'},
        {q:'How do units propagate?', a:'If your input is in meters, linear results are in meters and areas in m². The optional unit label annotates outputs.'},
        {q:'Can I paste coordinates from CAD or CSV?', a:'Yes. Use “Paste sample” to see format, then replace with your points. The table accepts decimals and scientific notation.'},
        {q:'Why do I get an error for 2 or fewer points?', a:'At least three non‑collinear points are required to form a polygon. The calculator validates this and warns you if insufficient.'},
        {q:'Do you round results?', a:'Values are displayed rounded; internal math uses full double precision.'}
      ];
      const json = {
        "@context":"https://schema.org",
        "@type":"FAQPage",
        "mainEntity": faqs.map(x=>({"@type":"Question","name":x.q,"acceptedAnswer":{"@type":"Answer","text":x.a}}))
      };
      const el = document.getElementById('faq-jsonld');
      if (el) el.textContent = JSON.stringify(json);
    })();
  </script>
</body>
</html>
