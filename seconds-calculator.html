<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Seconds Calculator — Convert Days, Hours, Minutes, Seconds</title>
  <meta name="description" content="Instantly convert between days, hours, minutes, and seconds. Enter any value to get totals, HH:MM:SS, and breakdowns. Fast, accessible, and accurate for everyday and professional use.">
  <link rel="canonical" href="https://calcdomain.com/seconds-calculator.html">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Tailwind (utility styling) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- MathJax for LaTeX rendering (formula section) -->
  <script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
          integrity="sha384-I1r7Y1btC6kxO7uCPfUuIY3h1+3R9bqzQAJBvQHq8m2L0g7E8l1a0QFJq9Qh5e4U" crossorigin="anonymous"></script>

  <style>
    :root { --focus: #1d4ed8; }
    html, body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }
    /* Visible custom focus */
    :where(a, button, input, select, textarea, summary, [tabindex]):focus {
      outline: 3px solid var(--focus);
      outline-offset: 2px;
    }
    /* Prose defaults */
    .prose { max-width: 70ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: .75rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.25rem; margin-bottom: .5rem; }
    .formula-box {
      background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New",monospace;
    }
    /* Prevent CLS: reserve space for results */
    #results { min-height: 18rem; }
    /* Touch target sizing */
    .touch-target { min-height: 48px; min-width: 48px; }
    /* Error text */
    .field-error { color:#b91c1c; } /* meets contrast on white */
  </style>

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Seconds Calculator",
    "url":"https://calcdomain.com/seconds-calculator.html",
    "inLanguage":"en",
    "description":"Convert between days, hours, minutes, and seconds. Enter any value to get totals, HH:MM:SS, and breakdowns.",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"}
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
      {"@type":"ListItem","position":2,"name":"Everyday Life","item":"https://calcdomain.com/lifestyle-everyday.html"},
      {"@type":"ListItem","position":3,"name":"Time and Date","item":"https://calcdomain.com/subcategories/time-date.html"},
      {"@type":"ListItem","position":4,"name":"Seconds Calculator","item":"https://calcdomain.com/seconds-calculator.html"}
    ]
  }
  </script>

  <!-- JSON-LD: HowTo -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to Convert Time to Seconds",
    "description":"Enter days, hours, minutes, and seconds to compute total seconds and HH:MM:SS.",
    "step":[
      {"@type":"HowToStep","name":"Enter known values","text":"Fill any of the fields: days, hours, minutes, seconds or total seconds."},
      {"@type":"HowToStep","name":"Choose direction","text":"Let the calculator auto-detect your last changed field to drive the conversion."},
      {"@type":"HowToStep","name":"Read results","text":"See total seconds, HH:MM:SS, and full breakdown instantly."}
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"How many seconds are in a day?","acceptedAnswer":{"@type":"Answer","text":"There are 86,400 seconds in a day (24 × 60 × 60)."}},
      {"@type":"Question","name":"Does this handle negative values?","acceptedAnswer":{"@type":"Answer","text":"No; for clarity and to avoid ambiguity, negative durations are not supported."}},
      {"@type":"Question","name":"What about leap seconds?","acceptedAnswer":{"@type":"Answer","text":"This tool assumes civil time without leap seconds (86400 s per day). For precision timing work, consult timekeeping standards."}},
      {"@type":"Question","name":"Can I paste 1:02:03?","acceptedAnswer":{"@type":"Answer","text":"Yes. Paste HH:MM:SS into the HH:MM:SS field and it will parse and convert."}},
      {"@type":"Question","name":"Is the second SI-defined?","acceptedAnswer":{"@type":"Answer","text":"Yes. The second is the SI base unit of time as defined by the BIPM SI Brochure."}},
      {"@type":"Question","name":"Will it round results?","acceptedAnswer":{"@type":"Answer","text":"The tool keeps integer seconds. Fractional seconds are allowed in input and shown to 3 decimals in outputs as needed."}},
      {"@type":"Question","name":"Does it work offline?","acceptedAnswer":{"@type":"Answer","text":"Yes, the calculator runs client-side and does not require a network connection once loaded."}}
    ]
  }
  </script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky for mobile viewport economy) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-bold text-blue-700">CalcDomain</a>
      <div class="text-sm hidden md:flex gap-6">
        <a href="search.html" class="hover:text-blue-700">Advanced Search</a>
        <a href="index.html#categories" class="hover:text-blue-700">Categories</a>
      </div>
    </nav>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
      <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
      <a href="lifestyle-everyday.html" class="hover:text-blue-700">Lifestyle &amp; Everyday Life</a> &raquo;
      <a href="subcategories/time-date.html" class="hover:text-blue-700">Time and date</a> &raquo;
      <span class="text-gray-900">Seconds Calculator</span>
    </nav>

    <div class="flex flex-col lg:flex-row gap-8">
      <section class="w-full lg:w-2/3">
        <div id="print-section" class="bg-white p-6 rounded-lg shadow">
          <h1 class="text-3xl font-extrabold mb-2">Seconds Calculator</h1>
          <p class="text-gray-700 mb-6">
            Convert between <strong>days, hours, minutes, and seconds</strong> in a snap. Paste an
            <strong>HH:MM:SS</strong> timecode or type totals—this tool detects your last edit and fills the rest.
            Ideal for schedules, workouts, media timecodes, and quick engineering checks.
          </p>

          <!-- Calculator UI -->
          <section aria-labelledby="calc-heading" class="space-y-6" id="calculator-ui">
            <h2 id="calc-heading" class="sr-only">Calculator inputs</h2>

            <!-- Mode hint -->
            <div class="p-3 bg-blue-50 border border-blue-100 rounded text-sm text-blue-900" role="status" aria-live="polite" id="modeHint">
              Editing <strong>Days/Hours/Minutes/Seconds</strong> drives the conversion. Change <strong>Total Seconds</strong> or <strong>HH:MM:SS</strong> to reverse it.
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <!-- Days -->
              <div>
                <label for="days" class="block text-sm font-medium text-gray-800">Days <span aria-hidden="true" class="text-red-600">*</span></label>
                <div class="flex items-center gap-2">
                  <input type="number" inputmode="decimal" min="0" step="1" id="days" aria-required="true"
                         aria-describedby="daysHelp daysError"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                         placeholder="0">
                  <button type="button" class="touch-target px-3 py-2 border rounded-md" aria-label="Days help"
                          aria-controls="daysHelp" aria-expanded="false" data-tooltip="daysHelp">?</button>
                </div>
                <p id="daysHelp" class="mt-1 text-xs text-gray-600 hidden">
                  Whole days. 1 day = 86,400 seconds.
                </p>
                <p id="daysError" class="mt-1 text-sm field-error"></p>
              </div>

              <!-- Hours -->
              <div>
                <label for="hours" class="block text-sm font-medium text-gray-800">Hours <span aria-hidden="true" class="text-red-600">*</span></label>
                <div class="flex items-center gap-2">
                  <input type="number" inputmode="decimal" min="0" step="1" id="hours" aria-required="true"
                         aria-describedby="hoursHelp hoursError"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                         placeholder="0">
                  <button type="button" class="touch-target px-3 py-2 border rounded-md" aria-label="Hours help"
                          aria-controls="hoursHelp" aria-expanded="false" data-tooltip="hoursHelp">?</button>
                </div>
                <p id="hoursHelp" class="mt-1 text-xs text-gray-600 hidden">
                  0–23 recommended for a clean breakdown. 1 hour = 3,600 seconds.
                </p>
                <p id="hoursError" class="mt-1 text-sm field-error"></p>
              </div>

              <!-- Minutes -->
              <div>
                <label for="minutes" class="block text-sm font-medium text-gray-800">Minutes <span aria-hidden="true" class="text-red-600">*</span></label>
                <div class="flex items-center gap-2">
                  <input type="number" inputmode="decimal" min="0" step="1" id="minutes" aria-required="true"
                         aria-describedby="minutesHelp minutesError"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                         placeholder="0">
                  <button type="button" class="touch-target px-3 py-2 border rounded-md" aria-label="Minutes help"
                          aria-controls="minutesHelp" aria-expanded="false" data-tooltip="minutesHelp">?</button>
                </div>
                <p id="minutesHelp" class="mt-1 text-xs text-gray-600 hidden">
                  0–59 recommended. 1 minute = 60 seconds.
                </p>
                <p id="minutesError" class="mt-1 text-sm field-error"></p>
              </div>

              <!-- Seconds -->
              <div>
                <label for="seconds" class="block text-sm font-medium text-gray-800">Seconds <span aria-hidden="true" class="text-red-600">*</span></label>
                <div class="flex items-center gap-2">
                  <input type="number" inputmode="decimal" min="0" step="0.001" id="seconds" aria-required="true"
                         aria-describedby="secondsHelp secondsError"
                         class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                         placeholder="0">
                  <button type="button" class="touch-target px-3 py-2 border rounded-md" aria-label="Seconds help"
                          aria-controls="secondsHelp" aria-expanded="false" data-tooltip="secondsHelp">?</button>
                </div>
                <p id="secondsHelp" class="mt-1 text-xs text-gray-600 hidden">
                  Fractional seconds allowed (e.g., 0.125). 1 s is the SI base unit of time.
                </p>
                <p id="secondsError" class="mt-1 text-sm field-error"></p>
              </div>

              <!-- Total seconds (reverse drive) -->
              <div class="sm:col-span-2">
                <label for="totalSeconds" class="block text-sm font-medium text-gray-800">Total Seconds</label>
                <input type="number" inputmode="decimal" min="0" step="0.001" id="totalSeconds"
                       aria-describedby="totalSecondsHelp totalSecondsError"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                       placeholder="e.g., 3723">
                <p id="totalSecondsHelp" class="mt-1 text-xs text-gray-600">
                  Change this to back-calculate the D/H/M/S breakdown.
                </p>
                <p id="totalSecondsError" class="mt-1 text-sm field-error"></p>
              </div>

              <!-- HH:MM:SS -->
              <div class="sm:col-span-2">
                <label for="hms" class="block text-sm font-medium text-gray-800">HH:MM:SS</label>
                <input type="text" id="hms" inputmode="text"
                       aria-describedby="hmsHelp hmsError"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:border-blue-600 focus:ring-0"
                       placeholder="e.g., 01:02:03 or 100:00:00">
                <p id="hmsHelp" class="mt-1 text-xs text-gray-600">
                  Paste or type hours:minutes:seconds. Hours may exceed 24.
                </p>
                <p id="hmsError" class="mt-1 text-sm field-error"></p>
              </div>
            </div>

            <div class="flex flex-wrap items-center gap-3 pt-2">
              <button id="btnReset" class="touch-target px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-black">
                Reset
              </button>
              <button id="btnCopySeconds" class="touch-target px-4 py-2 rounded-md border">
                Copy Total Seconds
              </button>
              <button id="btnCopyHMS" class="touch-target px-4 py-2 rounded-md border">
                Copy HH:MM:SS
              </button>
            </div>
          </section>

          <!-- Results -->
          <section aria-labelledby="results-heading" id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6">
            <h2 id="results-heading" class="text-xl font-bold text-blue-900 mb-4">Results</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="bg-white border rounded-lg p-4 text-center">
                <h3 class="text-sm text-gray-600">Total Seconds</h3>
                <p id="outTotalSeconds" class="text-2xl font-extrabold text-blue-700" aria-live="polite">0</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h3 class="text-sm text-gray-600">HH:MM:SS</h3>
                <p id="outHMS" class="text-2xl font-extrabold text-blue-700" aria-live="polite">00:00:00</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h3 class="text-sm text-gray-600">Breakdown</h3>
                <p id="outBreakdown" class="text-lg font-semibold text-gray-900" aria-live="polite">0 d · 0 h · 0 m · 0 s</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h3 class="text-sm text-gray-600">Minutes (total)</h3>
                <p id="outTotalMinutes" class="text-2xl font-extrabold text-blue-700" aria-live="polite">0</p>
              </div>
            </div>
          </section>
        </div>

        <!-- Authoritative content / E-E-A-T -->
        <article class="bg-white p-6 rounded-lg shadow mt-8 prose">
          <h2>Authoritative Data Source &amp; Methodology</h2>
          <p>
            Primary reference: <strong>BIPM — The International System of Units (SI), 9th edition (2019, updates 2022)</strong>.
            See the SI definition of the <em>second</em>. All conversions here use
            1 minute = 60 seconds, 1 hour = 3,600 seconds, 1 day = 86,400 seconds (no leap seconds).
            <a href="https://www.bipm.org/en/publications/si-brochure" rel="nofollow noopener">BIPM SI Brochure</a>.
          </p>
          <p><em>“Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.”</em></p>

          <h2>The Formula Explained</h2>
          <div class="formula-box">
            Given days \(d\), hours \(h\), minutes \(m\), seconds \(s\):<br>
            \[
              S = s + 60\,m + 3600\,h + 86400\,d
            \]
            Conversely, for a total seconds \(S \ge 0\):<br>
            \[
              d = \left\lfloor \frac{S}{86400} \right\rfloor,\quad
              h = \left\lfloor \frac{S \bmod 86400}{3600} \right\rfloor,\quad
              m = \left\lfloor \frac{S \bmod 3600}{60} \right\rfloor,\quad
              s = S \bmod 60
            \]
          </div>

          <h2>Glossary of Variables</h2>
          <ul>
            <li><strong>d</strong> — days (0, 1, 2, ...)</li>
            <li><strong>h</strong> — hours (0–23 recommended; may exceed after back-conversion)</li>
            <li><strong>m</strong> — minutes (0–59 recommended)</li>
            <li><strong>s</strong> — seconds (fractional allowed, e.g., 0.125 s)</li>
            <li><strong>S</strong> — total seconds (fractional allowed)</li>
            <li><strong>HH:MM:SS</strong> — timecode format; hours may exceed 24</li>
          </ul>

          <h2>How It Works: A Step-by-Step Example</h2>
          <p><strong>Scenario:</strong> You have <code>0 d, 1 h, 2 m, 3 s</code>.</p>
          <ol>
            <li>Compute total seconds: \(S = 3 + 60 \cdot 2 + 3600 \cdot 1 + 86400 \cdot 0 = 3723\ \mathrm{s}\).</li>
            <li>HH:MM:SS becomes <code>01:02:03</code>.</li>
            <li>Total minutes = \(3723 / 60 = 62.05\) minutes.</li>
          </ol>

          <h2>Frequently Asked Questions</h2>
          <details>
            <summary>What about leap seconds and civil time?</summary>
            <p>This calculator assumes 86,400 seconds per day. Leap seconds are not considered; for astronomical or UTC-level work, use specialized time libraries.</p>
          </details>
          <details>
            <summary>Can I enter fractional hours or minutes?</summary>
            <p>Yes. Fractional values are supported. They’re internally converted to seconds with up to millisecond precision.</p>
          </details>
          <details>
            <summary>Why does breakdown recommend 0–23 for hours and 0–59 for minutes?</summary>
            <p>It’s easier to read. The tool will still normalize any totals appropriately when reverse-converting.</p>
          </details>
          <details>
            <summary>Does HH:MM:SS allow hours &gt; 24?</summary>
            <p>Yes, especially useful for long media or workloads spanning multiple days.</p>
          </details>
          <details>
            <summary>Are negative durations supported?</summary>
            <p>No, to avoid ambiguity. If you need signed deltas, compute each absolute duration then compare.</p>
          </details>

          <div class="mt-6 p-4 bg-gray-50 border rounded text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br>
              Last accuracy review: <time datetime="2025-10-27">October 27, 2025</time>
            </p>
          </div>
        </article>
      </section>

      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-6">
          <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Why this calculator</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Two-way conversion (breakdown &rarr; total, total &rarr; breakdown).</li>
              <li>Accepts fractional seconds and long HH:MM:SS.</li>
              <li>WCAG 2.1 AA accessible with clear inline validation.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Related everyday tools</h3>
            <ul class="space-y-2 text-sm">
              <li><a class="text-blue-700 hover:underline" href="time-duration-calculator.html">Time Duration Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="countdown-timer.html">Countdown Timer</a></li>
              <li><a class="text-blue-700 hover:underline" href="pace-calculator.html">Pace Calculator</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer) -->
  <script defer>
  (function(){
    const els = {
      days: byId('days'),
      hours: byId('hours'),
      minutes: byId('minutes'),
      seconds: byId('seconds'),
      totalSeconds: byId('totalSeconds'),
      hms: byId('hms'),
      outTotalSeconds: byId('outTotalSeconds'),
      outHMS: byId('outHMS'),
      outBreakdown: byId('outBreakdown'),
      outTotalMinutes: byId('outTotalMinutes'),
      modeHint: byId('modeHint'),
      btnReset: byId('btnReset'),
      btnCopySeconds: byId('btnCopySeconds'),
      btnCopyHMS: byId('btnCopyHMS'),
      errors: {
        days: byId('daysError'),
        hours: byId('hoursError'),
        minutes: byId('minutesError'),
        seconds: byId('secondsError'),
        totalSeconds: byId('totalSecondsError'),
        hms: byId('hmsError'),
      }
    };

    // Tooltip toggles
    document.querySelectorAll('[data-tooltip]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-tooltip');
        const node = byId(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        if (node) node.classList.toggle('hidden', expanded);
      });
    });

    let lastDriver = 'dhms'; // 'dhms' | 'totalseconds' | 'hms'

    // Attach input listeners
    ['days','hours','minutes','seconds'].forEach(k=>{
      els[k].addEventListener('input', ()=>{ lastDriver='dhms'; recalc(); });
      els[k].addEventListener('blur', ()=> validateField(k));
    });
    els.totalSeconds.addEventListener('input', ()=>{ lastDriver='totalseconds'; recalc(); });
    els.totalSeconds.addEventListener('blur', ()=> validateField('totalSeconds'));
    els.hms.addEventListener('input', ()=>{ lastDriver='hms'; recalc(); });
    els.hms.addEventListener('blur', ()=> validateField('hms'));

    els.btnReset.addEventListener('click', ()=>{
      setValues({days:'0',hours:'0',minutes:'0',seconds:'0',totalSeconds:'',hms:''});
      lastDriver='dhms';
      clearErrors();
      recalc();
      els.days.focus();
    });

    els.btnCopySeconds.addEventListener('click', ()=> copyText(els.outTotalSeconds.textContent));
    els.btnCopyHMS.addEventListener('click', ()=> copyText(els.outHMS.textContent));

    function byId(id){ return document.getElementById(id); }
    function setValues(map){ Object.entries(map).forEach(([k,v])=>{ if(els[k]) els[k].value = v; }); }
    function clampNonNeg(n){ return isFinite(n) ? Math.max(0, n) : 0; }
    function toNumber(v){ const n = parseFloat(String(v).trim()); return isNaN(n)?0:n; }
    function showError(key, msg){
      const e = els.errors[key]; if(!e) return;
      e.textContent = msg || '';
      const input = els[key]; if(input){ input.setAttribute('aria-invalid', msg ? 'true' : 'false'); }
    }
    function clearErrors(){ Object.keys(els.errors).forEach(k=> showError(k,'')); }
    function validateField(key){
      const val = (els[key]?.value ?? '').trim();
      if(['days','hours','minutes','seconds','totalSeconds'].includes(key)){
        if(val !== '' && Number(val) < 0){ showError(key,'Enter a value ≥ 0.'); return false; }
      }
      if(key==='hms' && val){
        if(!/^\s*\d+:\d{1,2}:\d{1,2}(\.\d+)?\s*$/.test(val)){
          showError('hms','Use HH:MM:SS (seconds may be fractional).');
          return false;
        }
      }
      showError(key,''); return true;
    }

    function recalc(){
      // status hint
      els.modeHint.innerHTML =
        lastDriver==='dhms'
        ? 'Editing <strong>Days/Hours/Minutes/Seconds</strong> drives the conversion.'
        : lastDriver==='totalseconds'
          ? 'Editing <strong>Total Seconds</strong> drives the conversion.'
          : 'Editing <strong>HH:MM:SS</strong> drives the conversion.';

      let S = 0;

      if(lastDriver==='dhms'){
        const d = clampNonNeg(toNumber(els.days.value));
        const h = clampNonNeg(toNumber(els.hours.value));
        const m = clampNonNeg(toNumber(els.minutes.value));
        const s = clampNonNeg(toNumber(els.seconds.value));
        S = s + 60*m + 3600*h + 86400*d;
        // push to other representations
        els.totalSeconds.value = S ? String(round3(S)) : '';
        els.hms.value = toHMS(S);
      }
      else if(lastDriver==='totalseconds'){
        const ok = validateField('totalSeconds');
        if(!ok) return;
        S = clampNonNeg(toNumber(els.totalSeconds.value));
        // spread to d/h/m/s
        const {d,h,m,s} = fromTotalSeconds(S);
        setValues({days:String(d), hours:String(h), minutes:String(m), seconds:String(round3(s))});
        els.hms.value = toHMS(S);
      }
      else { // hms
        const ok = validateField('hms');
        if(!ok) return;
        S = hmsToSeconds(els.hms.value);
        const {d,h,m,s} = fromTotalSeconds(S);
        setValues({days:String(d), hours:String(h), minutes:String(m), seconds:String(round3(s))});
        els.totalSeconds.value = S ? String(round3(S)) : '';
      }

      // Outputs
      els.outTotalSeconds.textContent = formatNumber(round3(S));
      els.outHMS.textContent = toHMS(S);
      const parts = fromTotalSeconds(S);
      els.outBreakdown.textContent = `${parts.d} d · ${parts.h} h · ${parts.m} m · ${round3(parts.s)} s`;
      els.outTotalMinutes.textContent = formatNumber(round3(S/60));
    }

    function fromTotalSeconds(S){
      const d = Math.floor(S / 86400);
      const remDay = S % 86400;
      const h = Math.floor(remDay / 3600);
      const remHour = remDay % 3600;
      const m = Math.floor(remHour / 60);
      const s = remHour % 60;
      return {d,h,m,s};
    }
    function toHMS(S){
      const h = Math.floor(S / 3600);
      const m = Math.floor((S % 3600) / 60);
      const s = S % 60;
      const ss = (s < 10 ? '0' : '') + (Number.isInteger(s)? s.toString(): s.toFixed(3));
      return `${pad2(h)}:${pad2(m)}:${ss}`;
    }
    function hmsToSeconds(str){
      const m = String(str||'').trim().match(/^(\d+):(\d{1,2}):(\d{1,2}(?:\.\d+)?)$/);
      if(!m) return 0;
      const H = parseInt(m[1],10), M = parseInt(m[2],10), S = parseFloat(m[3]);
      if(M>=60 || S>=60) {
        // Normalize if user typed 00:75:80
        const total = H*3600 + M*60 + S;
        return clampNonNeg(total);
      }
      return clampNonNeg(H*3600 + M*60 + S);
    }
    function pad2(n){ return n<10 ? '0'+n : String(n); }
    function round3(x){ return Math.round((x + Number.EPSILON) * 1000)/1000; }
    function formatNumber(n){ return new Intl.NumberFormat().format(n); }
    function copyText(t){
      if(!t) return;
      navigator.clipboard?.writeText(String(t)).then(()=>{
        toast('Copied to clipboard.');
      }).catch(()=> toast('Copy failed. You can select and copy manually.'));
    }
    function toast(msg){
      const n = document.createElement('div');
      n.className = "fixed bottom-5 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-4 py-2 rounded-md shadow";
      n.textContent = msg; document.body.appendChild(n);
      setTimeout(()=>{ n.remove(); }, 1600);
    }

    // Initialize
    setValues({days:'0',hours:'0',minutes:'0',seconds:'0'});
    recalc();
  })();
  </script>
</body>
</html>
