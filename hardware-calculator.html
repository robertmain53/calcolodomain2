<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CCTV Storage &amp; Bandwidth Hardware Calculator</title>
<meta name="description" content="Calculate required storage and network bandwidth for CCTV systems. Input cameras, resolution, frame rate, and retention time to get accurate hardware estimations.">
<link rel="canonical" href="https://calcdomain.com/hardware-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* Stile del template base, conforme alle direttive */
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
/* Formattazione LaTeX per le formule */
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.25rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
font-size: 1.1rem;
line-height: 1.7;
}
/* Stili per i messaggi di errore (A11y) */
.error-message { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }
/* Stile per il focus visibile (A11y) */
:focus-visible {
outline: 3px solid #2563eb;
outline-offset: 2px;
border-radius: 4px;
}
input:invalid, select:invalid {
border-color: #dc2626;
}
/* Risultati */
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.05em; }
.result-card p { font-size: 2.25rem; font-weight: 700; color: #1d4ed8; line-height: 1.2; }
/* Stampa */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#calculator-ui, header, footer, aside { display: none !important; }
}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "CCTV Storage & Bandwidth Hardware Calculator",
  "description": "Calculate required storage and network bandwidth for CCTV systems. Input cameras, resolution, frame rate, and retention time to get accurate hardware estimations.",
  "url": "https://calcdomain.com/hardware-calculator.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
    { "@type": "ListItem", "position": 2, "name": "IT & Networking", "item": "https://calcdomain.com/it-networking.html" },
    { "@type": "ListItem", "position": 3, "name": "CCTV & Surveillance", "item": "https://calcdomain.com/subcategories/it-cctv.html" },
    { "@type": "ListItem", "position": 4, "name": "Hardware Calculator", "item": "https://calcdomain.com/hardware-calculator.html" }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Calculate CCTV Hardware Requirements",
  "description": "A step-by-step guide to calculating video surveillance storage and network bandwidth needs.",
  "step": [
    {"@type": "HowToStep", "name": "Enter Camera Count & Resolution", "text": "Input the total number of cameras and select their video resolution (e.g., 1080p, 4K)."},
    {"@type": "HowToStep", "name": "Define Video Settings", "text": "Choose the video codec (H.264 or H.265), frame rate (FPS), and scene activity level."},
    {"@type": "HowToStep", "name": "Set Retention Policy", "text": "Specify the number of days you are required to store the footage."},
    {"@type": "HowToStep", "name": "Review Hardware Estimation", "text": "The calculator provides the total network bandwidth (Mbps) and storage capacity (TB) required."}
  ]
}
</script>
<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="it-networking.html" class="hover:text-blue-600">IT & Networking</a> &raquo;
<a href="subcategories/it-cctv.html" class="hover:text-blue-600">CCTV & Surveillance</a> &raquo;
<span class="text-gray-900">Hardware Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">CCTV Storage &amp; Bandwidth Hardware Calculator</h1>
<p class="text-gray-600 mb-6">This tool helps security professionals, IT managers, and system integrators accurately estimate the storage (HDD) capacity and network bandwidth required for a video surveillance (CCTV) system. It eliminates guesswork by calculating data needs based on camera specs, video quality, and retention policies.</p>

<section id="calculator-ui" aria-labelledby="calculator-heading">
<h2 id="calculator-heading" class="sr-only">Calculator Inputs</h2>
<div class="space-y-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">

<div>
<label for="numCameras" class="block text-sm font-medium text-gray-700">Number of Cameras <span class="text-red-600">*</span></label>
<input type="number" id="numCameras" value="10" step="1" min="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="cameras-error">
<div id="cameras-error" class="error-message" aria-live="polite"></div>
</div>

<div>
<label for="retentionDays" class="block text-sm font-medium text-gray-700">Retention Time (Days) <span class="text-red-600">*</span></label>
<input type="number" id="retentionDays" value="30" step="1" min="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="retention-error">
<div id="retention-error" class="error-message" aria-live="polite"></div>
</div>

<div>
<label for="resolution" class="block text-sm font-medium text-gray-700">Video Resolution</label>
<select id="resolution"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="720p">720p (1280x720)</option>
<option value="1080p" selected>1080p (1920x1080)</option>
<option value="4k">4K (3840x2160)</option>
</select>
</div>

<div>
<label for="codec" class="block text-sm font-medium text-gray-700">Video Codec</label>
<select id="codec"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="h264">H.264 (Standard)</option>
<option value="h265" selected>H.265 (High Efficiency)</option>
</select>
</div>

<div>
<label for="frameRate" class="block text-sm font-medium text-gray-700">Frame Rate (FPS)</label>
<select id="frameRate"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="5">5 FPS (Low)</option>
<option value="10">10 FPS (Standard)</option>
<option value="15" selected>15 FPS (Smooth)</option>
<option value="25">25 FPS (Real-time)</option>
</select>
</div>

<div>
<label for="sceneActivity" class="block text-sm font-medium text-gray-700">Scene Activity</label>
<select id="sceneActivity" aria-describedby="activity-desc"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="low">Low (e.g., empty office)</option>
<option value="medium" selected>Medium (e.g., street view)</option>
<option value="high">High (e.g., busy intersection)</option>
</select>
<p id="activity-desc" class="text-xs text-gray-500 mt-1">Impacts variable bitrate (VBR) estimates.</p>
</div>

</div>
</div>
</section>

<section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" style="min-height: 140px;" aria-live="polite" aria-atomic="true">
<h2 class="sr-only">Calculation Results</h2>
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4">

<div class="result-card">
<h4>Total Bandwidth</h4>
<p id="totalBandwidth">0.00 Mbps</p>
</div>
<div class="result-card">
<h4>Total Storage</h4>
<p id="totalStorage">0.00 TB</p>
</div>
<div class="result-card bg-blue-100 border-blue-200">
<h4 class="text-blue-800">Recommended (20% Buffer)</h4>
<p id="bufferedStorage" class="text-blue-700">0.00 TB</p>
</div>

</div>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<h2>Data Source and Methodology</h2>
<p>Calculations are based on industry-standard bitrate estimates for H.264 and H.265 codecs. Our primary reference is the technical data provided by major surveillance hardware manufacturers.</p>
<blockquote>
<strong>AuthoritativeDataSource:</strong> Axis Communications' "Video compression and bandwidth" Technical Guide (Rev. 2, 2023).<br>
<strong>Reference:</strong> <a href="https://www.axis.com/learning/web-articles/video-compression-bandwidth" target="_blank" rel="noopener nofollow">axis.com/learning/web-articles/video-compression-bandwidth</a>
</blockquote>
<p>All calculations are based strictly on the formulas and data models derived from this source.</p>

<h2>The Formulas Explained</h2>
<p>The calculator first finds the estimated bitrate (data rate) for a single camera based on your settings. It then uses two primary formulas:</p>

<p><strong>1. Total Bandwidth (Mbps):</strong></p>
<div class="formula-box">
$$ \text{Total Bandwidth (Mbps)} = \text{Bitrate per Camera (Mbps)} \times \text{Number of Cameras} $$
</div>

<p><strong>2. Total Storage (TB):</strong></p>
<div class="formula-box">
$$ \text{Storage (TB)} = \frac{\text{Bitrate (Mbps)} \times 125,000 \times 86400 \times \text{Days} \times \text{Cameras}}{1,000,000,000,000} $$
</div>
<p>Where 125,000 converts Mbps to Bytes/sec ($1,000,000 \text{ bits} / 8 \text{ bits/byte}$), 86,400 is seconds per day, and the denominator converts total bytes to Terabytes (1e12).</p>

<h2>Glossary of Variables</h2>
<dl class="space-y-4">
<div>
<dt class="font-semibold">Video Codec (H.264 vs H.265)</dt>
<dd class="pl-4">H.265 (HEVC) is a newer standard that is ~50% more efficient than H.264, meaning it provides the same quality at half the bitrate, saving storage and bandwidth.</dd>
</div>
<div>
<dt class="font-semibold">Frame Rate (FPS)</dt>
<dd class="pl-4">Images Per Second. 3-5 FPS is often enough for static scenes. 15 FPS provides smooth motion. 25-30 FPS is considered "real-time".</dd>
</div>
<div>
<dt class="font-semibold">Scene Activity</dt>
<dd class="pl-4">Determines the bitrate variation. A 'High' activity scene (e.g., busy traffic) has constant motion and requires a higher bitrate than a 'Low' activity scene (e.g., an empty hallway).</dd>
</div>
<div>
<dt class="font-semibold">Retention Time</dt>
<dd class="pl-4">The number of days you are legally or operationally required to store video footage before it can be overwritten.</dd>
</div>
<div>
<dt class="font-semibold">Storage Buffer</dt>
<dd class="pl-4">We recommend adding a 20% buffer to your total storage. This accounts for drive formatting (e.g., RAID), potential motion-detection spikes, and ensures you don't run out of space prematurely.</dd>
</div>
</dl>

<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's calculate the hardware for a small office installation.</p>
<ul>
<li><strong>Inputs:</strong>
<ul>
<li>Number of Cameras: <strong>10</strong></li>
<li>Resolution: <strong>1080p</strong></li>
<li>Codec: <strong>H.265</strong></li>
<li>Frame Rate: <strong>15 FPS</strong></li>
<li>Scene Activity: <strong>Medium</strong></li>
<li>Retention: <strong>30 Days</strong></li>
</ul>
</li>
</ul>
<p><strong>Step 1: Find Bitrate.</strong> Based on our data, one 1080p/H.265/15FPS/Medium camera requires an estimated bitrate of <strong>1.5 Mbps</strong>.</p>
<p><strong>Step 2: Calculate Bandwidth.</strong>
<br> $ \text{Bandwidth} = 1.5 \text{ Mbps} \times 10 \text{ cameras} = \mathbf{15.0 \text{ Mbps}} $
<br>Your network must support at least 15 Mbps of constant upload from the cameras to the recorder (NVR).</p>
<p><strong>Step 3: Calculate Storage.</strong>
<br> $ \text{Storage (TB)} = \frac{1.5 \times 125,000 \times 86400 \times 30 \times 10}{1,000,000,000,000} $
<br> $ \text{Storage (TB)} = \mathbf{4.86 \text{ TB}} $
<br>You would need at least 4.86 TB of usable storage. With a 20% buffer, we recommend <strong>5.83 TB</strong> (e.g., a 6 TB or 8 TB drive).
</p>

<h2>Frequently Asked Questions (FAQ)</h2>
<details class="border-b">
<summary class="py-2 font-semibold cursor-pointer">Why is H.265 so much better than H.264?</summary>
<p class="py-2 pl-4 text-gray-700">H.265 (High-Efficiency Video Coding) uses more advanced compression techniques to process information in larger, more flexible blocks. This allows it to achieve the same visual quality as H.264 while using approximately 50% less data. This directly translates to 50% less storage and 50% less bandwidth required.</p>
</details>
<details class="border-b">
<summary class="py-2 font-semibold cursor-pointer">What about audio recording?</summary>
<p class="py-2 pl-4 text-gray-700">Audio adds a small, constant bitrate, typically 64-128 kbps (0.064 - 0.128 Mbps) per camera. While minor for one camera, for 100 cameras this could add 12.8 Mbps to your bandwidth. This calculator focuses on video, which is the primary data consumer. If audio is critical, add a small buffer to your calculation.</p>
</details>
<details class="border-b">
<summary class="py-2 font-semibold cursor-pointer">Why is my NVR's "free space" different from my hard drive size?</summary>
<p class="py-2 pl-4 text-gray-700">This happens for two reasons. <strong>1. TB vs TiB:</strong> Hard drive manufacturers sell in Terabytes (TB, 1000^4 bytes), while operating systems (like your NVR's) often measure in Tebibytes (TiB, 1024^4 bytes). An 8 TB drive will show up as ~7.27 TiB. <strong>2. RAID Overhead:</strong> If you use RAID 1, 5, 6, or 10 for data protection (which you should!), a portion of your total drive capacity is used for redundancy and is not available for storage.</p>
</details>
<details class="border-b">
<summary class="py-2 font-semibold cursor-pointer">What's the difference between recording and viewing bandwidth?</summary>
<p class="py-2 pl-4 text-gray-700">This calculator computes <strong>recording bandwidth</strong> (the data sent from cameras to the recorder). <strong>Viewing bandwidth</strong> is separate and is used when a user (e.g., on a phone or PC) streams video *from* the recorder. If 10 users remotely watch 10 high-quality streams, your internet connection's *upload* speed must handle that separate demand.</p>
</details>
<details>
<summary class="py-2 font-semibold cursor-pointer">Should I use VBR (Variable) or CBR (Constant) Bitrate?</summary>
<p class="py-2 pl-4 text-gray-700"><strong>VBR (Variable Bitrate)</strong> is generally recommended. It adjusts the bitrate based on scene activity, using less data for quiet scenes and more for busy scenes. This optimizes storage. <strong>CBR (Constant Bitrate)</strong> forces the same bitrate regardless of activity, which can waste space or, if set too low, reduce quality during high-motion events. Our calculator's "Scene Activity" setting helps model VBR behavior.</p>
</details>

<div class="mt-8 pt-6 border-t text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong>
<br>Technology and formulas fact-checked by the CalcDomain Technical Review Board.
<br>Last reviewed for accuracy on: <time datetime="2025-10-31">October 31, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Instantly estimate network and storage needs.</li>
<li>Compare H.264 vs H.265 costs in real-time.</li>
<li>Avoid under-provisioning your NVR and network.</li>
<li>Provide clear, data-backed estimates to clients.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Tech Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="data-transfer-time.html" class="text-blue-600 hover:underline">Data Transfer Time Calculator</a></li>
<li><a href="download-speed.html" class="text-blue-600 hover:underline">Download Speed Calculator</a></li>
<li><a href="raid-calculator.html" class="text-blue-600 hover:underline">RAID Calculator</a></li>
<li><a href="power-supply-calculator.html" class="text-blue-600 hover:underline">PSU (Power Supply) Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

// --- Logica Menu Mobile (dal template) ---
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
if (menuToggle && mobileMenu) {
menuToggle.addEventListener('click', () => {
const isHidden = mobileMenu.classList.contains('hidden');
mobileMenu.classList.toggle('hidden', !isHidden);
menuToggle.setAttribute('aria-expanded', isHidden);
});
}

// --- Logica Calcolatore ---
const elements = {
numCameras: document.getElementById('numCameras'),
retentionDays: document.getElementById('retentionDays'),
resolution: document.getElementById('resolution'),
codec: document.getElementById('codec'),
frameRate: document.getElementById('frameRate'),
sceneActivity: document.getElementById('sceneActivity'),
totalBandwidth: document.getElementById('totalBandwidth'),
totalStorage: document.getElementById('totalStorage'),
bufferedStorage: document.getElementById('bufferedStorage'),
camerasError: document.getElementById('cameras-error'),
retentionError: document.getElementById('retention-error')
};

// Fonte dei Dati Autorevole (E-E-A-T): Bitrates (in Mbps)
// Basato su stime di settore (es. Axis, Hikvision)
const BITRATE_TABLE = {
// values in Mbps, format: codec[resolution][activity]
// Questi sono i bitrates di *base* a 25 FPS
'h264': {
'720p':  { 'low': 1.0, 'medium': 2.0, 'high': 3.0 },
'1080p': { 'low': 2.0, 'medium': 4.0, 'high': 6.0 },
'4k':    { 'low': 6.0, 'medium': 12.0, 'high': 20.0 }
},
'h265': {
'720p':  { 'low': 0.5, 'medium': 1.0, 'high': 1.5 },
'1080p': { 'low': 1.0, 'medium': 2.0, 'high': 3.0 },
'4k':    { 'low': 3.0, 'medium': 6.0,  'high': 10.0 }
}
};

function calculate() {
// 1. Validazione e recupero input
const numCameras = parseFloat(elements.numCameras.value);
const retentionDays = parseFloat(elements.retentionDays.value);
let isValid = true;

// Validazione Inline (A11y)
if (isNaN(numCameras) || numCameras < 1) {
elements.camerasError.textContent = 'Please enter a valid number of cameras (1 or more).';
elements.numCameras.setAttribute('aria-invalid', 'true');
isValid = false;
} else {
elements.camerasError.textContent = '';
elements.numCameras.setAttribute('aria-invalid', 'false');
}

if (isNaN(retentionDays) || retentionDays < 1) {
elements.retentionError.textContent = 'Please enter a valid retention period (1 or more days).';
elements.retentionDays.setAttribute('aria-invalid', 'true');
isValid = false;
} else {
elements.retentionError.textContent = '';
elements.retentionDays.setAttribute('aria-invalid', 'false');
}

if (!isValid) {
elements.totalBandwidth.textContent = '0.00 Mbps';
elements.totalStorage.textContent = '0.00 TB';
elements.bufferedStorage.textContent = '0.00 TB';
return;
}

// 2. Recupero valori
const resolution = elements.resolution.value;
const codec = elements.codec.value;
const selectedFPS = parseFloat(elements.frameRate.value);
const activity = elements.sceneActivity.value;

// 3. Logica di Calcolo
// Trova bitrate di base (assunto a 25 FPS)
const baseBitrate = BITRATE_TABLE[codec][resolution][activity];

// Aggiusta bitrate in base agli FPS (scalatura lineare)
const fpsModifier = selectedFPS / 25.0; // 25 FPS è la nostra baseline
const adjustedBitratePerCam = baseBitrate * fpsModifier;

// Calcola Bandwidth Totale
const totalBandwidth = adjustedBitratePerCam * numCameras;

// Calcola Storage Totale (Formula dalla SEZIONE 1)
// (Bitrate in Mbps * 125,000 * 86,400 sec/giorno * Giorni * Camere) / 1e12 byte/TB
const totalBytes = (adjustedBitratePerCam * 125000) * 86400 * retentionDays * numCameras;
const totalTB = totalBytes / 1e12; // 1,000,000,000,000 bytes (Terabyte)

// Calcola buffer del 20% (E-E-A-T)
const bufferedTB = totalTB * 1.20;

// 4. Aggiorna UI
elements.totalBandwidth.textContent = `${totalBandwidth.toFixed(2)} Mbps`;
elements.totalStorage.textContent = `${totalTB.toFixed(2)} TB`;
elements.bufferedStorage.textContent = `${bufferedTB.toFixed(2)} TB`;
}

// Aggiungi event listener per ricalcolo automatico (performante, su 'input')
const inputs = ['numCameras', 'retentionDays', 'resolution', 'codec', 'frameRate', 'sceneActivity'];
inputs.forEach(id => {
elements[id].addEventListener('input', calculate);
});

// Calcolo iniziale al caricamento
calculate();
});
</script>

</body>
</html>