<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/excavation-calculator" />
    <title>Excavation Calculator Guide [Unmissable 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Excavation Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Excavation Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Excavation Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/excavation-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Excavation Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Excavation Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Construction & DIY Calculators", "item": "https://calcdomain.com/categories/construction-diy"}, {"@type": "ListItem", "position": 3, "name": "Materials Estimation Calculators", "item": "https://calcdomain.com/subcategories/construction-diy-materials-estimation"}, {"@type": "ListItem", "position": 4, "name": "Excavation Calculator", "item": "https://calcdomain.com/excavation-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/construction-diy" class="text-blue-600 hover:underline">Construction &amp; DIY Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/construction-diy-materials-estimation" class="text-blue-600 hover:underline">Materials Estimation Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Excavation Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">Excavation Calculator</h1>
              <p class="text-gray-600">
                Estimate excavation volume, soil swell, truck loads, and cost
                for pads, trenches, and custom areas in both metric and imperial
                units.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="excavation-calculator" class="mb-8">
              <div class="grid gap-6 lg:grid-cols-3">
                <!-- Left column: global settings -->
                <div class="lg:col-span-1 space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Units</label
                    >
                    <div class="flex gap-2">
                      <button
                        type="button"
                        data-unit-system="imperial"
                        class="unit-btn flex-1 px-3 py-2 text-sm rounded border border-blue-600 bg-blue-50 text-blue-700 font-medium"
                      >
                        Feet / Yards
                      </button>
                      <button
                        type="button"
                        data-unit-system="metric"
                        class="unit-btn flex-1 px-3 py-2 text-sm rounded border border-gray-300 text-gray-700"
                      >
                        Meters
                      </button>
                    </div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Soil type / swell factor</label
                    >
                    <select
                      id="soil-type"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                    >
                      <option value="1.20">Loose sand (~20% swell)</option>
                      <option value="1.25">Sandy clay (~25% swell)</option>
                      <option value="1.30" selected>Clay (~30% swell)</option>
                      <option value="1.40">Gravel / rock (~40% swell)</option>
                      <option value="custom">Custom swell factor…</option>
                    </select>
                    <div id="custom-swell-wrapper" class="mt-2 hidden">
                      <label
                        for="custom-swell"
                        class="block text-xs text-gray-600 mb-1"
                        >Custom swell factor (loose / in-situ)</label
                      >
                      <input
                        id="custom-swell"
                        type="number"
                        step="0.01"
                        min="1"
                        value="1.30"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                      />
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Swell factor converts in-situ volume to loose volume for
                      haul-off or stockpiles.
                    </p>
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="truck-capacity"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Truck capacity</label
                      >
                      <input
                        id="truck-capacity"
                        type="number"
                        min="0"
                        step="0.1"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 10"
                      />
                      <p
                        class="text-xs text-gray-500 mt-1"
                        id="truck-capacity-hint"
                      >
                        yd³ per load
                      </p>
                    </div>
                    <div>
                      <label
                        for="cost-per-unit"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Cost per unit</label
                      >
                      <div class="flex">
                        <span
                          class="inline-flex items-center px-2 rounded-l border border-r-0 border-gray-300 bg-gray-50 text-sm text-gray-500"
                          >$</span
                        >
                        <input
                          id="cost-per-unit"
                          type="number"
                          min="0"
                          step="0.01"
                          class="w-full border border-gray-300 rounded-r px-2 py-1 text-sm"
                          placeholder="e.g. 25"
                        />
                      </div>
                      <p
                        class="text-xs text-gray-500 mt-1"
                        id="cost-per-unit-hint"
                      >
                        per yd³ of loose material
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Middle column: add areas -->
                <div class="lg:col-span-2 space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Excavation type</label
                    >
                    <div class="flex flex-wrap gap-2">
                      <button
                        type="button"
                        data-area-type="rectangle"
                        class="area-type-btn px-3 py-1.5 text-xs rounded-full border border-blue-600 bg-blue-50 text-blue-700 font-medium"
                      >
                        Rectangle / pad
                      </button>
                      <button
                        type="button"
                        data-area-type="trench"
                        class="area-type-btn px-3 py-1.5 text-xs rounded-full border border-gray-300 text-gray-700"
                      >
                        Trench / footing
                      </button>
                      <button
                        type="button"
                        data-area-type="custom"
                        class="area-type-btn px-3 py-1.5 text-xs rounded-full border border-gray-300 text-gray-700"
                      >
                        Custom area
                      </button>
                    </div>
                  </div>

                  <!-- Rectangle / pad inputs -->
                  <div
                    id="inputs-rectangle"
                    class="grid grid-cols-2 md:grid-cols-4 gap-3"
                  >
                    <div>
                      <label
                        for="rect-length"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Length</label
                      >
                      <input
                        id="rect-length"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 40"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="rect-length-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="rect-width"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Width</label
                      >
                      <input
                        id="rect-width"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 30"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="rect-width-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="rect-depth"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Depth</label
                      >
                      <input
                        id="rect-depth"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 4"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="rect-depth-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="rect-count"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Count</label
                      >
                      <input
                        id="rect-count"
                        type="number"
                        min="1"
                        step="1"
                        value="1"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                      />
                      <p class="text-[11px] text-gray-500 mt-0.5">
                        identical pads
                      </p>
                    </div>
                  </div>

                  <!-- Trench inputs -->
                  <div
                    id="inputs-trench"
                    class="grid grid-cols-2 md:grid-cols-4 gap-3 hidden"
                  >
                    <div>
                      <label
                        for="trench-length"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Length</label
                      >
                      <input
                        id="trench-length"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 120"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="trench-length-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="trench-width"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Width</label
                      >
                      <input
                        id="trench-width"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 2"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="trench-width-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="trench-depth"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Depth</label
                      >
                      <input
                        id="trench-depth"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 3"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="trench-depth-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="trench-count"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Count</label
                      >
                      <input
                        id="trench-count"
                        type="number"
                        min="1"
                        step="1"
                        value="1"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                      />
                      <p class="text-[11px] text-gray-500 mt-0.5">runs</p>
                    </div>
                  </div>

                  <!-- Custom area inputs -->
                  <div
                    id="inputs-custom"
                    class="grid grid-cols-2 md:grid-cols-3 gap-3 hidden"
                  >
                    <div>
                      <label
                        for="custom-area"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Area</label
                      >
                      <input
                        id="custom-area"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 500"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="custom-area-hint"
                      >
                        ft²
                      </p>
                    </div>
                    <div>
                      <label
                        for="custom-depth"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Depth</label
                      >
                      <input
                        id="custom-depth"
                        type="number"
                        min="0"
                        step="0.01"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                        placeholder="e.g. 3.5"
                      />
                      <p
                        class="text-[11px] text-gray-500 mt-0.5"
                        id="custom-depth-hint"
                      >
                        ft
                      </p>
                    </div>
                    <div>
                      <label
                        for="custom-count"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Count</label
                      >
                      <input
                        id="custom-count"
                        type="number"
                        min="1"
                        step="1"
                        value="1"
                        class="w-full border border-gray-300 rounded px-2 py-1 text-sm"
                      />
                      <p class="text-[11px] text-gray-500 mt-0.5">areas</p>
                    </div>
                  </div>

                  <div class="flex flex-wrap gap-3 items-center mt-2">
                    <button
                      id="add-area"
                      type="button"
                      class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded shadow-sm hover:bg-blue-700"
                    >
                      Add to list
                    </button>
                    <button
                      id="clear-areas"
                      type="button"
                      class="text-sm text-gray-600 hover:text-red-600"
                    >
                      Clear all areas
                    </button>
                    <p id="input-error" class="text-xs text-red-600 hidden">
                      Please enter valid positive values for all fields.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <!-- Areas table -->
            <section class="mb-6">
              <h2 class="text-lg font-semibold mb-2">Excavation areas</h2>
              <div class="overflow-x-auto border border-gray-200 rounded">
                <table class="min-w-full text-xs">
                  <thead class="bg-gray-50">
                    <tr>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700"
                      >
                        #
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700"
                      >
                        Type
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700"
                      >
                        Dimensions
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        In-situ volume
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Loose volume
                      </th>
                      <th
                        class="px-3 py-2 text-center font-semibold text-gray-700"
                      >
                        Remove
                      </th>
                    </tr>
                  </thead>
                  <tbody id="areas-tbody">
                    <tr id="no-areas-row">
                      <td
                        colspan="6"
                        class="px-3 py-3 text-center text-gray-500 text-xs"
                      >
                        No areas added yet. Enter dimensions above and click
                        “Add to list”.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <!-- Results -->
            <section class="mb-8">
              <div
                class="flex flex-wrap items-center justify-between gap-3 mb-3"
              >
                <h2 class="text-lg font-semibold">Results</h2>
                <button
                  id="calculate-btn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded shadow-sm hover:bg-emerald-700"
                >
                  Calculate excavation
                </button>
              </div>

              <div id="results-container" class="grid gap-4 md:grid-cols-2">
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold mb-2">Volume summary</h3>
                  <dl class="space-y-1 text-sm">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Total in-situ volume</dt>
                      <dd
                        id="result-in-situ"
                        class="font-semibold text-gray-900"
                      >
                        0.00 yd³
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Total loose volume (after swell)
                      </dt>
                      <dd id="result-loose" class="font-semibold text-gray-900">
                        0.00 yd³
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Equivalent compacted backfill
                      </dt>
                      <dd
                        id="result-compacted"
                        class="font-semibold text-gray-900"
                      >
                        0.00 yd³
                      </dd>
                    </div>
                  </dl>
                  <p class="mt-2 text-xs text-gray-500">
                    Compacted backfill assumes the same swell factor in reverse
                    (loose ÷ swell).
                  </p>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold mb-2">
                    Trucking &amp; cost
                  </h3>
                  <dl class="space-y-1 text-sm">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Estimated truck loads</dt>
                      <dd
                        id="result-trucks"
                        class="font-semibold text-gray-900"
                      >
                        –
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Estimated cost</dt>
                      <dd id="result-cost" class="font-semibold text-gray-900">
                        –
                      </dd>
                    </div>
                  </dl>
                  <p class="mt-2 text-xs text-gray-500">
                    Enter truck capacity and cost per unit above to see trucking
                    and cost estimates.
                  </p>
                </div>
              </div>
            </section>

            <!-- Explanation content -->
            <section class="prose text-sm">
              <h2>How this excavation calculator works</h2>
              <p>
                This excavation calculator is designed for contractors,
                estimators, and DIY builders who need fast, transparent volume
                and cost estimates. It supports multiple excavation types (pads,
                trenches, and custom areas), both imperial and metric units, and
                soil swell factors.
              </p>

              <h3>1. Volume formulas</h3>
              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">Rectangular pad / footing:</p>
                <p>\( V = L \times W \times D \)</p>
                <p class="mt-2 font-semibold mb-1">Trench:</p>
                <p>\( V = L \times W \times D \)</p>
                <p class="mt-2 font-semibold mb-1">Custom area:</p>
                <p>\( V = A \times D \)</p>
                <p class="mt-2 text-xs text-gray-600">
                  where <strong>L</strong> = length, <strong>W</strong> = width,
                  <strong>D</strong> = depth, <strong>A</strong> = plan area.
                </p>
              </div>

              <p>
                All volumes are first calculated in the base unit (ft³ or m³),
                then converted to cubic yards or cubic meters for reporting.
              </p>

              <h3>2. Swell (bulking) factor</h3>
              <p>
                When soil is excavated, it breaks apart and occupies more space.
                This is called <strong>swell</strong> or
                <strong>bulking</strong>. The calculator uses a swell factor to
                convert in-situ volume to loose volume:
              </p>
              <div class="formula-box text-sm">
                <p>
                  \( V_{\text{loose}} = V_{\text{in-situ}} \times \text{swell
                  factor} \)
                </p>
                <p class="mt-2 text-xs text-gray-600">
                  Example: 100 yd³ of in-situ clay with a swell factor of 1.30
                  becomes 130 yd³ of loose material.
                </p>
              </div>

              <h3>3. Truck loads and cost</h3>
              <p>
                Once loose volume is known, truck loads and cost are
                straightforward:
              </p>
              <div class="formula-box text-sm">
                <p class="mb-1">Truck loads:</p>
                <p>
                  \( \text{Loads} = \dfrac{V_{\text{loose}}}{\text{truck
                  capacity}} \)
                </p>
                <p class="mt-2 mb-1">Cost estimate:</p>
                <p>
                  \( \text{Cost} = V_{\text{loose}} \times \text{cost per unit}
                  \)
                </p>
              </div>

              <h3>Typical swell factors by material</h3>
              <div class="overflow-x-auto">
                <table class="min-w-full text-xs border border-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-3 py-2 text-left">Material</th>
                      <th class="px-3 py-2 text-left">Typical swell factor</th>
                      <th class="px-3 py-2 text-left">Approx. swell (%)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-t">
                      <td class="px-3 py-1.5">Loose sand</td>
                      <td class="px-3 py-1.5">1.15 – 1.25</td>
                      <td class="px-3 py-1.5">15 – 25%</td>
                    </tr>
                    <tr class="border-t">
                      <td class="px-3 py-1.5">Sandy clay</td>
                      <td class="px-3 py-1.5">1.20 – 1.30</td>
                      <td class="px-3 py-1.5">20 – 30%</td>
                    </tr>
                    <tr class="border-t">
                      <td class="px-3 py-1.5">Clay</td>
                      <td class="px-3 py-1.5">1.25 – 1.35</td>
                      <td class="px-3 py-1.5">25 – 35%</td>
                    </tr>
                    <tr class="border-t">
                      <td class="px-3 py-1.5">Gravel / broken rock</td>
                      <td class="px-3 py-1.5">1.30 – 1.50</td>
                      <td class="px-3 py-1.5">30 – 50%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                Values are typical ranges. Always confirm with geotechnical data
                or your local experience when bidding projects.
              </p>

              <h3>Limitations and good practice</h3>
              <ul>
                <li>
                  This tool assumes uniform depth and soil conditions within
                  each area.
                </li>
                <li>
                  It does not account for side slopes, over-excavation, or
                  compaction effort.
                </li>
                <li>
                  For critical projects, use this as a preliminary estimate and
                  refine with detailed plans and geotechnical reports.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>How accurate is this excavation calculator?</h3>
              <p>
                For simple pads and trenches with uniform depth, the calculator
                is mathematically exact. Real-world quantities can differ due to
                sloped sides, over-digging, obstructions, and varying soil
                conditions. Many contractors add a contingency (e.g., 5–15%) on
                top of the calculated volume.
              </p>

              <h3>Should I use in-situ or loose volume for pricing?</h3>
              <p>
                It depends on how your subcontractors quote. Excavation
                contractors often price per in-situ cubic yard or cubic meter,
                while trucking and disposal are usually priced per loose volume.
                This tool shows both so you can match your vendors’ units.
              </p>

              <h3>Can I use this for backfill and imported material?</h3>
              <p>
                Yes. Use the compacted backfill volume as a starting point, then
                apply a compaction factor or density for your specific material.
                For example, granular base or structural fill may require more
                loose material to achieve the compacted volume.
              </p>

              <h3>Does this handle multiple excavation phases?</h3>
              <p>
                You can group areas by phase (e.g., “Building A pad”, “Utility
                trenches”, “Retaining wall footings”) and add them separately.
                Export or note the results for each group before clearing the
                list and starting the next phase.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Excavation, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Construction &amp; Excavation Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/concrete-slab"
                  class="text-blue-600 hover:underline"
                  >Concrete Slab Volume</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gravel-calculator"
                  class="text-blue-600 hover:underline"
                  >Gravel Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/topsoil"
                  class="text-blue-600 hover:underline"
                  >Topsoil Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sand"
                  class="text-blue-600 hover:underline"
                  >Sand Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/concrete-footing"
                  class="text-blue-600 hover:underline"
                  >Concrete Footing Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cut-and-fill"
                  class="text-blue-600 hover:underline"
                  >Cut and Fill (Earthwork) Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-cost-estimator"
                  class="text-blue-600 hover:underline"
                  >Construction Cost Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fence-calculator"
                  class="text-blue-600 hover:underline"
                  >Fence Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dewatering-flow-rate"
                  class="text-blue-600 hover:underline"
                  >Construction Dewatering Flow Rate</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Construction &amp; DIY Categories
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/construction-diy-materials-estimation"
                  class="text-blue-600 hover:underline"
                  >Materials Estimation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy-project-layout-design"
                  class="text-blue-600 hover:underline"
                  >Project Layout &amp; Design</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-concrete-quantities-and-masonry"
                  class="text-blue-600 hover:underline"
                  >Concrete &amp; Masonry</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-sitework-aggregates-and-asphalt"
                  class="text-blue-600 hover:underline"
                  >Sitework, Aggregates &amp; Asphalt</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-structural-and-reinforcement"
                  class="text-blue-600 hover:underline"
                  >Structural &amp; Reinforcement</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

    <script>
      (function () {
        const unitButtons = document.querySelectorAll(".unit-btn");
        const areaTypeButtons = document.querySelectorAll(".area-type-btn");
        const soilTypeSelect = document.getElementById("soil-type");
        const customSwellWrapper = document.getElementById(
          "custom-swell-wrapper"
        );
        const customSwellInput = document.getElementById("custom-swell");
        const truckCapacityInput = document.getElementById("truck-capacity");
        const costPerUnitInput = document.getElementById("cost-per-unit");
        const truckCapacityHint = document.getElementById(
          "truck-capacity-hint"
        );
        const costPerUnitHint = document.getElementById("cost-per-unit-hint");

        const rectLengthHint = document.getElementById("rect-length-hint");
        const rectWidthHint = document.getElementById("rect-width-hint");
        const rectDepthHint = document.getElementById("rect-depth-hint");
        const trenchLengthHint = document.getElementById("trench-length-hint");
        const trenchWidthHint = document.getElementById("trench-width-hint");
        const trenchDepthHint = document.getElementById("trench-depth-hint");
        const customAreaHint = document.getElementById("custom-area-hint");
        const customDepthHint = document.getElementById("custom-depth-hint");

        const addAreaBtn = document.getElementById("add-area");
        const clearAreasBtn = document.getElementById("clear-areas");
        const inputError = document.getElementById("input-error");
        const areasTbody = document.getElementById("areas-tbody");
        const noAreasRow = document.getElementById("no-areas-row");
        const calculateBtn = document.getElementById("calculate-btn");

        const resultInSitu = document.getElementById("result-in-situ");
        const resultLoose = document.getElementById("result-loose");
        const resultCompacted = document.getElementById("result-compacted");
        const resultTrucks = document.getElementById("result-trucks");
        const resultCost = document.getElementById("result-cost");

        let unitSystem = "imperial"; // 'imperial' or 'metric'
        let areaType = "rectangle"; // 'rectangle', 'trench', 'custom'
        let areas = [];
        let areaIdCounter = 1;

        function updateUnitLabels() {
          if (unitSystem === "imperial") {
            rectLengthHint.textContent = "ft";
            rectWidthHint.textContent = "ft";
            rectDepthHint.textContent = "ft";
            trenchLengthHint.textContent = "ft";
            trenchWidthHint.textContent = "ft";
            trenchDepthHint.textContent = "ft";
            customAreaHint.textContent = "ft²";
            customDepthHint.textContent = "ft";
            truckCapacityHint.textContent = "yd³ per load";
            costPerUnitHint.textContent = "per yd³ of loose material";
          } else {
            rectLengthHint.textContent = "m";
            rectWidthHint.textContent = "m";
            rectDepthHint.textContent = "m";
            trenchLengthHint.textContent = "m";
            trenchWidthHint.textContent = "m";
            trenchDepthHint.textContent = "m";
            customAreaHint.textContent = "m²";
            customDepthHint.textContent = "m";
            truckCapacityHint.textContent = "m³ per load";
            costPerUnitHint.textContent = "per m³ of loose material";
          }
        }

        unitButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            unitButtons.forEach((b) => {
              b.classList.remove(
                "border-blue-600",
                "bg-blue-50",
                "text-blue-700",
                "font-medium"
              );
              b.classList.add("border-gray-300", "text-gray-700");
            });
            btn.classList.add(
              "border-blue-600",
              "bg-blue-50",
              "text-blue-700",
              "font-medium"
            );
            btn.classList.remove("border-gray-300", "text-gray-700");
            unitSystem = btn.dataset.unitSystem;
            updateUnitLabels();
            recalcTableVolumes();
            calculate();
          });
        });

        areaTypeButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            areaTypeButtons.forEach((b) => {
              b.classList.remove(
                "border-blue-600",
                "bg-blue-50",
                "text-blue-700",
                "font-medium"
              );
              b.classList.add("border-gray-300", "text-gray-700");
            });
            btn.classList.add(
              "border-blue-600",
              "bg-blue-50",
              "text-blue-700",
              "font-medium"
            );
            btn.classList.remove("border-gray-300", "text-gray-700");
            areaType = btn.dataset.areaType;
            document
              .getElementById("inputs-rectangle")
              .classList.toggle("hidden", areaType !== "rectangle");
            document
              .getElementById("inputs-trench")
              .classList.toggle("hidden", areaType !== "trench");
            document
              .getElementById("inputs-custom")
              .classList.toggle("hidden", areaType !== "custom");
            inputError.classList.add("hidden");
          });
        });

        soilTypeSelect.addEventListener("change", () => {
          if (soilTypeSelect.value === "custom") {
            customSwellWrapper.classList.remove("hidden");
          } else {
            customSwellWrapper.classList.add("hidden");
          }
          recalcTableVolumes();
          calculate();
        });

        function getSwellFactor() {
          if (soilTypeSelect.value === "custom") {
            const v = parseFloat(customSwellInput.value);
            return isFinite(v) && v >= 1 ? v : 1;
          }
          const v = parseFloat(soilTypeSelect.value);
          return isFinite(v) && v >= 1 ? v : 1;
        }

        function formatVolume(v) {
          if (!isFinite(v)) return "0.00";
          return v.toFixed(2);
        }

        function getBaseVolumeFromArea(area) {
          // base volume in ft³ or m³ depending on unitSystem
          if (area.type === "rectangle" || area.type === "trench") {
            return area.length * area.width * area.depth * area.count;
          } else if (area.type === "custom") {
            return area.area * area.depth * area.count;
          }
          return 0;
        }

        function recalcTableVolumes() {
          const swell = getSwellFactor();
          areas.forEach((a) => {
            a.baseVolume = getBaseVolumeFromArea(a);
            a.looseVolume = a.baseVolume * swell;
          });
          renderAreasTable();
        }

        function renderAreasTable() {
          areasTbody.innerHTML = "";
          if (areas.length === 0) {
            areasTbody.appendChild(noAreasRow);
            noAreasRow.classList.remove("hidden");
            return;
          }
          noAreasRow.classList.add("hidden");

          areas.forEach((a, index) => {
            const tr = document.createElement("tr");
            tr.className = index % 2 === 0 ? "bg-white" : "bg-gray-50";
            const unitVol = unitSystem === "imperial" ? "yd³" : "m³";
            const factor = unitSystem === "imperial" ? 1 / 27 : 1; // ft³ to yd³; m³ stays m³

            const inSitu = a.baseVolume * factor;
            const loose = a.looseVolume * factor;

            const dimsText = (() => {
              if (a.type === "rectangle") {
                return `${a.length} × ${a.width} × ${a.depth} (${a.count}x)`;
              } else if (a.type === "trench") {
                return `${a.length} × ${a.width} × ${a.depth} (${a.count}x)`;
              } else {
                return `Area ${a.area} × depth ${a.depth} (${a.count}x)`;
              }
            })();

            tr.innerHTML = `
        <td class="px-3 py-2 text-xs text-gray-600">${index + 1}</td>
        <td class="px-3 py-2 text-xs text-gray-700">${a.label}</td>
        <td class="px-3 py-2 text-xs text-gray-600">${dimsText}</td>
        <td class="px-3 py-2 text-xs text-right text-gray-700">${formatVolume(
          inSitu
        )} ${unitVol}</td>
        <td class="px-3 py-2 text-xs text-right text-gray-700">${formatVolume(
          loose
        )} ${unitVol}</td>
        <td class="px-3 py-2 text-center">
          <button type="button" data-id="${
            a.id
          }" class="remove-area text-red-600 hover:underline text-xs">Remove</button>
        </td>
      `;
            areasTbody.appendChild(tr);
          });

          areasTbody.querySelectorAll(".remove-area").forEach((btn) => {
            btn.addEventListener("click", () => {
              const id = parseInt(btn.dataset.id, 10);
              areas = areas.filter((a) => a.id !== id);
              recalcTableVolumes();
              calculate();
            });
          });
        }

        function addArea() {
          inputError.classList.add("hidden");
          let length, width, depth, areaVal, count;

          try {
            if (areaType === "rectangle") {
              length = parseFloat(document.getElementById("rect-length").value);
              width = parseFloat(document.getElementById("rect-width").value);
              depth = parseFloat(document.getElementById("rect-depth").value);
              count = parseInt(document.getElementById("rect-count").value, 10);
              if (
                !isFinite(length) ||
                !isFinite(width) ||
                !isFinite(depth) ||
                !isFinite(count) ||
                length <= 0 ||
                width <= 0 ||
                depth <= 0 ||
                count <= 0
              ) {
                throw new Error("Invalid rectangle inputs");
              }
              areas.push({
                id: areaIdCounter++,
                type: "rectangle",
                label: "Rectangle / pad",
                length,
                width,
                depth,
                count,
                area: null,
                baseVolume: 0,
                looseVolume: 0,
              });
            } else if (areaType === "trench") {
              length = parseFloat(
                document.getElementById("trench-length").value
              );
              width = parseFloat(document.getElementById("trench-width").value);
              depth = parseFloat(document.getElementById("trench-depth").value);
              count = parseInt(
                document.getElementById("trench-count").value,
                10
              );
              if (
                !isFinite(length) ||
                !isFinite(width) ||
                !isFinite(depth) ||
                !isFinite(count) ||
                length <= 0 ||
                width <= 0 ||
                depth <= 0 ||
                count <= 0
              ) {
                throw new Error("Invalid trench inputs");
              }
              areas.push({
                id: areaIdCounter++,
                type: "trench",
                label: "Trench / footing",
                length,
                width,
                depth,
                count,
                area: null,
                baseVolume: 0,
                looseVolume: 0,
              });
            } else if (areaType === "custom") {
              areaVal = parseFloat(
                document.getElementById("custom-area").value
              );
              depth = parseFloat(document.getElementById("custom-depth").value);
              count = parseInt(
                document.getElementById("custom-count").value,
                10
              );
              if (
                !isFinite(areaVal) ||
                !isFinite(depth) ||
                !isFinite(count) ||
                areaVal <= 0 ||
                depth <= 0 ||
                count <= 0
              ) {
                throw new Error("Invalid custom inputs");
              }
              areas.push({
                id: areaIdCounter++,
                type: "custom",
                label: "Custom area",
                length: null,
                width: null,
                depth,
                count,
                area: areaVal,
                baseVolume: 0,
                looseVolume: 0,
              });
            }
          } catch (e) {
            inputError.classList.remove("hidden");
            return;
          }

          recalcTableVolumes();
          calculate();
        }

        function clearAreas() {
          areas = [];
          areaIdCounter = 1;
          renderAreasTable();
          calculate();
        }

        function calculate() {
          const swell = getSwellFactor();
          let totalBase = 0;
          areas.forEach((a) => {
            totalBase += getBaseVolumeFromArea(a);
          });

          const factor = unitSystem === "imperial" ? 1 / 27 : 1; // ft³ to yd³, m³ stays
          const unitVol = unitSystem === "imperial" ? "yd³" : "m³";

          const inSituVol = totalBase * factor;
          const looseVol = inSituVol * swell;
          const compactedVol = looseVol / swell;

          resultInSitu.textContent = `${formatVolume(inSituVol)} ${unitVol}`;
          resultLoose.textContent = `${formatVolume(looseVol)} ${unitVol}`;
          resultCompacted.textContent = `${formatVolume(
            compactedVol
          )} ${unitVol}`;

          const truckCap = parseFloat(truckCapacityInput.value);
          if (isFinite(truckCap) && truckCap > 0 && looseVol > 0) {
            const loads = looseVol / truckCap;
            resultTrucks.textContent = `${loads.toFixed(1)} loads`;
          } else {
            resultTrucks.textContent = "–";
          }

          const costPer = parseFloat(costPerUnitInput.value);
          if (isFinite(costPer) && costPer > 0 && looseVol > 0) {
            const cost = looseVol * costPer;
            resultCost.textContent = `$${cost.toFixed(2)}`;
          } else {
            resultCost.textContent = "–";
          }
        }

        addAreaBtn.addEventListener("click", addArea);
        clearAreasBtn.addEventListener("click", clearAreas);
        calculateBtn.addEventListener("click", calculate);

        // Initialize
        updateUnitLabels();
        renderAreasTable();
        calculate();
      })();
    </script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
