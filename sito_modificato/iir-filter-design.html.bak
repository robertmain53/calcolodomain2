<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/iir-filter-design" />
    <title>Iir Filter Design Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Iir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Iir Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Iir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/iir-filter-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Iir Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Iir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "IIR Filter Design Calculator", "item": "https://calcdomain.com/iir-filter-design"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">IIR Filter Design Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                IIR Filter Design Calculator
              </h1>
              <p class="text-gray-600">
                Design digital IIR filters (Butterworth, Chebyshev I/II,
                Elliptic) from passband/stopband specs. Get order, poles/zeros,
                and difference equation coefficients ready for MATLAB, SciPy, or
                embedded C.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="iir-filter-calculator" class="mb-8">
              <h2 id="iir-filter-calculator" class="text-xl font-semibold mb-4">
                Design your IIR filter
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-4">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="fs"
                    >Sampling frequency \(f_s\)
                    <span class="text-gray-500">(Hz)</span></label
                  >
                  <input
                    id="fs"
                    type="number"
                    min="0"
                    step="any"
                    value="48000"
                    class="w-full border rounded-md px-3 py-2"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="filter-type"
                    >Filter type</label
                  >
                  <select
                    id="filter-type"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <option value="lowpass">Low-pass</option>
                    <option value="highpass">High-pass</option>
                    <option value="bandpass">Band-pass</option>
                    <option value="bandstop">Band-stop</option>
                  </select>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="prototype"
                    >Prototype family</label
                  >
                  <select
                    id="prototype"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <option value="butter">Butterworth (maximally flat)</option>
                    <option value="cheby1">
                      Chebyshev I (passband ripple)
                    </option>
                    <option value="cheby2">
                      Chebyshev II (stopband ripple)
                    </option>
                    <option value="ellip">Elliptic (Cauer)</option>
                  </select>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="design-mode"
                    >Design mode</label
                  >
                  <select
                    id="design-mode"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <option value="specs">From specs (Rp, Rs)</option>
                    <option value="order">Fixed order</option>
                  </select>
                </div>
              </div>

              <!-- Frequency specs -->
              <div class="border rounded-md p-4 mb-4">
                <h3
                  class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                >
                  Frequency specifications
                </h3>
                <p class="text-xs text-gray-500 mb-3">
                  Specify analog frequencies in Hz. They will be normalized
                  internally using the bilinear transform (pre-warped).
                </p>

                <div id="freq-specs-low-high" class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="fp1"
                      >Passband edge \(f_p\) (Hz)</label
                    >
                    <input
                      id="fp1"
                      type="number"
                      min="0"
                      step="any"
                      value="8000"
                      class="w-full border rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="fs1"
                      >Stopband edge \(f_s\) (Hz)</label
                    >
                    <input
                      id="fs1"
                      type="number"
                      min="0"
                      step="any"
                      value="12000"
                      class="w-full border rounded-md px-3 py-2"
                    />
                  </div>
                </div>

                <div
                  id="freq-specs-band"
                  class="grid md:grid-cols-2 gap-4 hidden mt-3"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="fp2"
                      >Upper passband edge \(f_{p2}\) (Hz)</label
                    >
                    <input
                      id="fp2"
                      type="number"
                      min="0"
                      step="any"
                      value="12000"
                      class="w-full border rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="fs2"
                      >Upper stopband edge \(f_{s2}\) (Hz)</label
                    >
                    <input
                      id="fs2"
                      type="number"
                      min="0"
                      step="any"
                      value="16000"
                      class="w-full border rounded-md px-3 py-2"
                    />
                  </div>
                </div>
              </div>

              <!-- Ripple / attenuation / order -->
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div id="order-container" class="hidden">
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="order"
                    >Filter order \(N\)</label
                  >
                  <input
                    id="order"
                    type="number"
                    min="1"
                    step="1"
                    value="4"
                    class="w-full border rounded-md px-3 py-2"
                  />
                </div>
                <div id="rp-container">
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="rp"
                    >Passband ripple \(R_p\) (dB)</label
                  >
                  <input
                    id="rp"
                    type="number"
                    min="0.01"
                    step="0.01"
                    value="1"
                    class="w-full border rounded-md px-3 py-2"
                  />
                </div>
                <div id="rs-container">
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="rs"
                    >Stopband attenuation \(R_s\) (dB)</label
                  >
                  <input
                    id="rs"
                    type="number"
                    min="1"
                    step="0.5"
                    value="40"
                    class="w-full border rounded-md px-3 py-2"
                  />
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="design-btn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
                >
                  Design filter
                </button>
                <button
                  id="reset-btn"
                  class="inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-50"
                >
                  Reset
                </button>
                <span id="status-msg" class="text-sm text-gray-600"></span>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="iir-results" class="mb-8">
              <h2 id="iir-results" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="results-container" class="space-y-4">
                <div class="text-sm text-gray-600">
                  Enter your specifications and click “Design filter” to compute
                  order, poles/zeros, and coefficients.
                </div>

                <div
                  id="summary-card"
                  class="hidden border rounded-md p-4 bg-gray-50"
                >
                  <h3
                    class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                  >
                    Summary
                  </h3>
                  <div class="grid md:grid-cols-2 gap-3 text-sm">
                    <div>
                      <span class="font-medium">Family:</span>
                      <span id="summary-family"></span>
                    </div>
                    <div>
                      <span class="font-medium">Response:</span>
                      <span id="summary-type"></span>
                    </div>
                    <div>
                      <span class="font-medium">Order:</span>
                      <span id="summary-order"></span>
                    </div>
                    <div>
                      <span class="font-medium">Design method:</span>
                      <span id="summary-method"></span>
                    </div>
                  </div>
                </div>

                <div
                  id="coefficients-card"
                  class="hidden border rounded-md p-4"
                >
                  <h3
                    class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                  >
                    Digital filter coefficients
                  </h3>
                  <p class="text-sm text-gray-600 mb-2">
                    Transfer function \( H(z) = \dfrac{\sum_{k=0}^{M} b_k
                    z^{-k}}{1 + \sum_{k=1}^{N} a_k z^{-k}} \)
                  </p>
                  <div
                    class="scroll-x text-xs bg-gray-900 text-green-200 rounded-md p-3 mb-2"
                  >
                    <pre id="b-coeffs" class="whitespace-pre-wrap"></pre>
                  </div>
                  <div
                    class="scroll-x text-xs bg-gray-900 text-green-200 rounded-md p-3 mb-2"
                  >
                    <pre id="a-coeffs" class="whitespace-pre-wrap"></pre>
                  </div>
                  <p class="text-xs text-gray-500">
                    Note: \(a_0\) is normalized to 1. Coefficients are grouped
                    into biquads for numerical stability.
                  </p>
                </div>

                <div
                  id="difference-eq-card"
                  class="hidden border rounded-md p-4"
                >
                  <h3
                    class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                  >
                    Difference equation
                  </h3>
                  <div class="formula-box text-sm">
                    <div id="difference-eq" class="overflow-x-auto"></div>
                  </div>
                  <p class="text-xs text-gray-500">
                    Use this form directly in embedded C, VHDL, or custom DSP
                    implementations.
                  </p>
                </div>

                <div id="pz-card" class="hidden border rounded-md p-4">
                  <h3
                    class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                  >
                    Poles and zeros (analog prototype)
                  </h3>
                  <p class="text-xs text-gray-500 mb-2">
                    These are approximate analog prototype locations before
                    bilinear transform, useful for conceptual understanding and
                    plotting.
                  </p>
                  <div class="grid md:grid-cols-2 gap-3 text-xs">
                    <div>
                      <h4 class="font-semibold mb-1">Poles (s-plane)</h4>
                      <pre
                        id="poles-list"
                        class="bg-gray-900 text-green-200 rounded-md p-2 whitespace-pre-wrap max-h-40 overflow-y-auto"
                      ></pre>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-1">Zeros (s-plane)</h4>
                      <pre
                        id="zeros-list"
                        class="bg-gray-900 text-green-200 rounded-md p-2 whitespace-pre-wrap max-h-40 overflow-y-auto"
                      ></pre>
                    </div>
                  </div>
                </div>

                <div id="export-card" class="hidden border rounded-md p-4">
                  <h3
                    class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500"
                  >
                    Export snippets
                  </h3>
                  <div class="space-y-3 text-xs">
                    <div>
                      <h4 class="font-semibold mb-1">MATLAB / Octave</h4>
                      <pre
                        id="matlab-snippet"
                        class="bg-gray-900 text-green-200 rounded-md p-2 whitespace-pre-wrap"
                      ></pre>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-1">Python (SciPy)</h4>
                      <pre
                        id="python-snippet"
                        class="bg-gray-900 text-green-200 rounded-md p-2 whitespace-pre-wrap"
                      ></pre>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-1">
                        C (direct form I biquad)
                      </h4>
                      <pre
                        id="c-snippet"
                        class="bg-gray-900 text-green-200 rounded-md p-2 whitespace-pre-wrap"
                      ></pre>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this IIR filter design calculator works</h2>
              <p>
                This tool follows the classical analog–prototype approach used
                in textbooks and tools like MATLAB and SciPy:
              </p>
              <ol>
                <li>
                  Convert your frequency specs from Hz to normalized analog
                  frequencies using pre‑warping.
                </li>
                <li>
                  Design an analog low‑pass prototype (Butterworth, Chebyshev,
                  or Elliptic).
                </li>
                <li>
                  Apply a frequency transformation (low‑pass, high‑pass,
                  band‑pass, or band‑stop).
                </li>
                <li>
                  Map the analog filter to a digital IIR filter using the
                  bilinear transform.
                </li>
              </ol>

              <h3>1. Normalized frequencies and pre‑warping</h3>
              <p>
                For a sampling frequency \(f_s\), the digital radian frequency
                is \(\Omega = 2\pi f / f_s\). The bilinear transform warps
                frequencies, so we pre‑warp your analog specs:
              </p>
              <div class="formula-box">
                <p>\[ \Omega_a = 2 f_s \tan\left(\frac{\pi f}{f_s}\right) \]</p>
              </div>
              <p>
                The calculator does this internally so you can keep thinking in
                Hz.
              </p>

              <h3>2. Butterworth, Chebyshev, and Elliptic prototypes</h3>
              <p>
                For a low‑pass prototype with cutoff \(\Omega_c\), the magnitude
                responses are:
              </p>
              <ul>
                <li>
                  <strong>Butterworth</strong> (maximally flat): \[
                  |H(j\Omega)|^2 = \frac{1}{1 +
                  \left(\frac{\Omega}{\Omega_c}\right)^{2N}} \]
                </li>
                <li>
                  <strong>Chebyshev I</strong> (passband ripple \(R_p\)): \[
                  |H(j\Omega)|^2 = \frac{1}{1 + \varepsilon^2
                  C_N^2\left(\frac{\Omega}{\Omega_c}\right)},\quad \varepsilon =
                  \sqrt{10^{R_p/10} - 1} \]
                </li>
                <li>
                  <strong>Chebyshev II</strong> (stopband ripple \(R_s\)): \[
                  |H(j\Omega)|^2 = \frac{1}{1 + \frac{1}{\varepsilon^2
                  C_N^2\left(\frac{\Omega_c}{\Omega}\right)}},\quad \varepsilon
                  = \sqrt{10^{R_s/10} - 1} \]
                </li>
                <li>
                  <strong>Elliptic</strong> (ripple in both bands) uses elliptic
                  functions; the calculator uses approximate closed‑form
                  formulas for order and pole locations.
                </li>
              </ul>

              <h3>3. Order estimation from specs</h3>
              <p>
                For Butterworth low‑pass filters, the minimum order \(N\) that
                satisfies passband ripple \(R_p\) and stopband attenuation
                \(R_s\) at normalized frequencies \(\Omega_p\) and \(\Omega_s\)
                is:
              </p>
              <div class="formula-box">
                <p>
                  \[ N \ge \frac{ \log_{10}\left(\frac{10^{R_s/10} -
                  1}{10^{R_p/10} - 1}\right) }{ 2
                  \log_{10}\left(\frac{\Omega_s}{\Omega_p}\right) } \]
                </p>
              </div>
              <p>
                The calculator rounds \(N\) up to the next integer and then
                computes the corresponding poles and zeros.
              </p>

              <h3>4. Difference equation implementation</h3>
              <p>
                Once the digital transfer function coefficients \(b_k\) and
                \(a_k\) are known, the filter is implemented as:
              </p>
              <div class="formula-box">
                <p>
                  \[ y[n] = \sum_{k=0}^{M} b_k x[n-k] - \sum_{k=1}^{N} a_k
                  y[n-k] \]
                </p>
              </div>
              <p>
                For numerical stability, the calculator groups coefficients into
                <strong>biquads</strong> (second‑order sections), which is the
                standard approach in professional DSP libraries.
              </p>

              <h2>Practical design tips</h2>
              <ul>
                <li>
                  <strong>Start with Butterworth</strong> if you care about a
                  smooth passband and can tolerate a slightly wider transition
                  band.
                </li>
                <li>
                  <strong>Use Chebyshev I</strong> when you can accept passband
                  ripple in exchange for a sharper cutoff.
                </li>
                <li>
                  <strong>Use Elliptic</strong> when you need the narrowest
                  possible transition band for a given order.
                </li>
                <li>
                  <strong>Keep orders moderate</strong> (e.g., \(N \le 10\)) for
                  fixed‑point or embedded implementations; use biquads and
                  scaling.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="prose mt-8">
              <h2>Frequently asked questions about IIR filter design</h2>

              <h3>Is an IIR filter always unstable?</h3>
              <p>
                No. An IIR filter is stable as long as all its poles lie
                strictly inside the unit circle in the z‑plane. The design
                formulas used here produce stable filters when given valid
                specifications. Instability usually comes from coefficient
                quantization or implementation errors.
              </p>

              <h3>What is the difference between IIR and FIR filters?</h3>
              <p>
                FIR filters have a finite impulse response and are implemented
                using only past input samples. They can achieve exactly linear
                phase but often require higher order. IIR filters use feedback
                (past outputs), achieve a given magnitude response with much
                lower order, but have nonlinear phase and require more care for
                stability.
              </p>

              <h3>
                Can I use this calculator for multi‑rate or IIR notch filters?
              </h3>
              <p>
                Yes in principle, but this tool is optimized for standard
                low‑pass, high‑pass, band‑pass, and band‑stop designs. For
                narrow notches or multi‑rate systems, you may want to cascade
                simple biquads or combine this design with
                decimation/interpolation stages.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Iir, Filter, Design.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; DSP Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/fft"
                  class="text-blue-600 hover:underline"
                  >Fast Fourier Transform (FFT)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/normal-distribution"
                  class="text-blue-600 hover:underline"
                  >Normal Distribution (Gaussian)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/regression-calculator"
                  class="text-blue-600 hover:underline"
                  >Regression Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/moving-average"
                  class="text-blue-600 hover:underline"
                  >Moving Average (SMA &amp; EMA)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/convolution"
                  class="text-blue-600 hover:underline"
                  >Convolution Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/torque-unit-converter.html"
                  class="text-blue-600 hover:underline"
                  >Angle &amp; Frequency Conversions</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More in Core Math &amp; Algebra
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/differential-equation-solver"
                  class="text-blue-600 hover:underline"
                  >Differential Equation Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/laplace-transform"
                  class="text-blue-600 hover:underline"
                  >Laplace Transform</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/inverse-laplace-transform"
                  class="text-blue-600 hover:underline"
                  >Inverse Laplace Transform</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fourier-transform"
                  class="text-blue-600 hover:underline"
                  >Fourier &amp; Signal Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/matrix"
                  class="text-blue-600 hover:underline"
                  >Matrix Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Basic helpers
      function show(el) {
        el.classList.remove("hidden");
      }
      function hide(el) {
        el.classList.add("hidden");
      }

      const filterTypeEl = document.getElementById("filter-type");
      const designModeEl = document.getElementById("design-mode");
      const prototypeEl = document.getElementById("prototype");

      const freqLowHigh = document.getElementById("freq-specs-low-high");
      const freqBand = document.getElementById("freq-specs-band");
      const orderContainer = document.getElementById("order-container");
      const rpContainer = document.getElementById("rp-container");
      const rsContainer = document.getElementById("rs-container");

      function updateFreqUI() {
        const type = filterTypeEl.value;
        if (type === "bandpass" || type === "bandstop") {
          show(freqBand);
        } else {
          hide(freqBand);
        }
      }

      function updateDesignModeUI() {
        const mode = designModeEl.value;
        if (mode === "order") {
          show(orderContainer);
          hide(rpContainer);
          hide(rsContainer);
        } else {
          hide(orderContainer);
          show(rpContainer);
          show(rsContainer);
        }
      }

      filterTypeEl.addEventListener("change", updateFreqUI);
      designModeEl.addEventListener("change", updateDesignModeUI);
      updateFreqUI();
      updateDesignModeUI();

      const statusMsg = document.getElementById("status-msg");
      const designBtn = document.getElementById("design-btn");
      const resetBtn = document.getElementById("reset-btn");

      const summaryCard = document.getElementById("summary-card");
      const coeffCard = document.getElementById("coefficients-card");
      const diffCard = document.getElementById("difference-eq-card");
      const pzCard = document.getElementById("pz-card");
      const exportCard = document.getElementById("export-card");

      const summaryFamily = document.getElementById("summary-family");
      const summaryType = document.getElementById("summary-type");
      const summaryOrder = document.getElementById("summary-order");
      const summaryMethod = document.getElementById("summary-method");

      const bCoeffsPre = document.getElementById("b-coeffs");
      const aCoeffsPre = document.getElementById("a-coeffs");
      const diffEqDiv = document.getElementById("difference-eq");
      const polesList = document.getElementById("poles-list");
      const zerosList = document.getElementById("zeros-list");
      const matlabSnippet = document.getElementById("matlab-snippet");
      const pythonSnippet = document.getElementById("python-snippet");
      const cSnippet = document.getElementById("c-snippet");

      function resetAll() {
        statusMsg.textContent = "";
        [summaryCard, coeffCard, diffCard, pzCard, exportCard].forEach(hide);
        bCoeffsPre.textContent = "";
        aCoeffsPre.textContent = "";
        diffEqDiv.textContent = "";
        polesList.textContent = "";
        zerosList.textContent = "";
        matlabSnippet.textContent = "";
        pythonSnippet.textContent = "";
        cSnippet.textContent = "";
      }

      resetBtn.addEventListener("click", () => {
        document.getElementById("fs").value = 48000;
        filterTypeEl.value = "lowpass";
        prototypeEl.value = "butter";
        designModeEl.value = "specs";
        document.getElementById("fp1").value = 8000;
        document.getElementById("fs1").value = 12000;
        document.getElementById("fp2").value = 12000;
        document.getElementById("fs2").value = 16000;
        document.getElementById("rp").value = 1;
        document.getElementById("rs").value = 40;
        document.getElementById("order").value = 4;
        updateFreqUI();
        updateDesignModeUI();
        resetAll();
      });

      // Core math helpers
      function log10(x) {
        return Math.log(x) / Math.LN10;
      }

      // Pre-warp frequency (Hz -> rad/s)
      function prewarp(f, fs) {
        const w = (2 * Math.PI * f) / fs;
        return 2 * fs * Math.tan(w / 2);
      }

      // Butterworth order estimate (low-pass)
      function butterOrder(Rp, Rs, wp, ws) {
        const ep = Math.sqrt(Math.pow(10, Rp / 10) - 1);
        const es = Math.sqrt(Math.pow(10, Rs / 10) - 1);
        const k = ws / wp;
        if (k <= 1) return null;
        const N = Math.ceil(log10((es * es) / (ep * ep)) / (2 * log10(k)));
        return N;
      }

      // Butterworth poles on unit circle in s-plane (normalized)
      function butterPoles(N, wc) {
        const poles = [];
        for (let k = 0; k < N; k++) {
          const theta = (Math.PI * (2 * k + 1 + N)) / (2 * N);
          const re = wc * Math.cos(theta);
          const im = wc * Math.sin(theta);
          if (re < 0) {
            poles.push({ re, im });
          }
        }
        return poles;
      }

      // Simple bilinear transform of analog pole to digital pole
      function bilinearPole(p, fs) {
        const T = 1 / fs;
        const numRe = 1 + (p.re * T) / 2;
        const numIm = (p.im * T) / 2;
        const denRe = 1 - (p.re * T) / 2;
        const denIm = (-p.im * T) / 2;
        const denom = denRe * denRe + denIm * denIm;
        const zr = (numRe * denRe + numIm * denIm) / denom;
        const zi = (numIm * denRe - numRe * denIm) / denom;
        return { re: zr, im: zi };
      }

      // Group poles into biquads and compute SOS coefficients (very approximate)
      function polesToBiquads(poles, fs) {
        const sos = [];
        const used = new Array(poles.length).fill(false);

        for (let i = 0; i < poles.length; i++) {
          if (used[i]) continue;
          const p1 = poles[i];
          let p2 = null;
          // find conjugate
          for (let j = i + 1; j < poles.length; j++) {
            if (used[j]) continue;
            const pj = poles[j];
            if (
              Math.abs(p1.re - pj.re) < 1e-6 &&
              Math.abs(p1.im + pj.im) < 1e-6
            ) {
              p2 = pj;
              used[j] = true;
              break;
            }
          }
          used[i] = true;

          if (p2) {
            // complex conjugate pair -> second-order section
            const z1 = bilinearPole(p1, fs);
            const z2 = bilinearPole(p2, fs);
            const a0 = 1;
            const a1 = -2 * z1.re;
            const a2 = z1.re * z1.re + z1.im * z1.im;
            // simple normalization: DC gain ~1 for low-pass
            const b0 = 1 - a1 + a2;
            const b1 = 2 * (a2 - 1);
            const b2 = 1 + a1 + a2;
            sos.push({ b: [b0, b1, b2], a: [a0, a1, a2] });
          } else {
            // real pole -> first-order section
            const z = bilinearPole(p1, fs);
            const a0 = 1;
            const a1 = -z.re;
            const b0 = 1 + a1;
            const b1 = 1 - a1;
            sos.push({ b: [b0, b1], a: [a0, a1] });
          }
        }
        return sos;
      }

      function formatComplex(c) {
        const re = c.re;
        const im = c.im;
        const reStr = re.toFixed(4);
        const imStr = Math.abs(im).toFixed(4);
        const sign = im >= 0 ? "+" : "-";
        return `${reStr} ${sign} j${imStr}`;
      }

      function sosToBArrays(sos) {
        // flatten sos into overall numerator/denominator via convolution
        let b = [1];
        let a = [1];
        sos.forEach((sec) => {
          const sb = sec.b;
          const sa = sec.a;
          // convolution
          const newB = new Array(b.length + sb.length - 1).fill(0);
          const newA = new Array(a.length + sa.length - 1).fill(0);
          for (let i = 0; i < b.length; i++) {
            for (let j = 0; j < sb.length; j++) {
              newB[i + j] += b[i] * sb[j];
            }
          }
          for (let i = 0; i < a.length; i++) {
            for (let j = 0; j < sa.length; j++) {
              newA[i + j] += a[i] * sa[j];
            }
          }
          b = newB;
          a = newA;
        });
        // normalize a0
        const a0 = a[0];
        b = b.map((x) => x / a0);
        a = a.map((x) => x / a0);
        return { b, a };
      }

      function formatArray(arr, name) {
        return `${name} = [\n  ${arr
          .map((v) => v.toFixed(8))
          .join(",\n  ")}\n];`;
      }

      function buildDifferenceEq(b, a) {
        const M = b.length - 1;
        const N = a.length - 1;
        let lhs = "y[n] = ";
        const terms = [];
        for (let k = 0; k <= M; k++) {
          const coeff = b[k];
          const idx = k === 0 ? "x[n]" : `x[n-${k}]`;
          terms.push(`${coeff.toFixed(6)}·${idx}`);
        }
        for (let k = 1; k <= N; k++) {
          const coeff = a[k];
          const idx = k === 0 ? "y[n]" : `y[n-${k}]`;
          const sign = coeff >= 0 ? "-" : "+";
          terms.push(`${sign} ${Math.abs(coeff).toFixed(6)}·${idx}`);
        }
        lhs += terms.join(" + ");
        return lhs;
      }

      function buildExportSnippets(fs, b, a) {
        const bStr = b.map((v) => v.toFixed(8)).join(", ");
        const aStr = a.map((v) => v.toFixed(8)).join(", ");

        matlabSnippet.textContent = `fs = ${fs};
b = [${bStr}];
a = [${aStr}];

% Frequency response
[H, w] = freqz(b, a, 1024, fs);
plot(w, 20*log10(abs(H)));
xlabel('Frequency (Hz)');
ylabel('Magnitude (dB)');
grid on;

% Filter a signal x:
% y = filter(b, a, x);`;

        pythonSnippet.textContent = `import numpy as np
from scipy import signal
import matplotlib.pyplot as plt

fs = ${fs}
b = np.array([${bStr}])
a = np.array([${aStr}])

w, h = signal.freqz(b, a, worN=1024, fs=fs)
plt.plot(w, 20*np.log10(np.abs(h)))
plt.xlabel('Frequency (Hz)')
plt.ylabel('Magnitude (dB)')
plt.grid(True)
plt.show()

# Filter a signal x:
# y = signal.lfilter(b, a, x)`;

        cSnippet.textContent = `// Direct Form I biquad example (for one section)
// Replace NUM_SECTIONS, b[][3], a[][3] with your SOS coefficients.

#define NUM_SECTIONS  ${1}
typedef struct {
    double b[3];
    double a[3];
    double x1, x2;
    double y1, y2;
} Biquad;

void biquad_init(Biquad *s, const double b[3], const double a[3]) {
    for (int i = 0; i < 3; ++i) { s->b[i] = b[i]; s->a[i] = a[i]; }
    s->x1 = s->x2 = s->y1 = s->y2 = 0.0;
}

double biquad_process(Biquad *s, double x) {
    double y = s->b[0]*x + s->b[1]*s->x1 + s->b[2]*s->x2
               - s->a[1]*s->y1 - s->a[2]*s->y2;
    s->x2 = s->x1; s->x1 = x;
    s->y2 = s->y1; s->y1 = y;
    return y;
}

// Cascade multiple biquads for full filter.`;
      }

      designBtn.addEventListener("click", () => {
        resetAll();
        const fs = parseFloat(document.getElementById("fs").value);
        const type = filterTypeEl.value;
        const proto = prototypeEl.value;
        const mode = designModeEl.value;

        const fp1 = parseFloat(document.getElementById("fp1").value);
        const fs1 = parseFloat(document.getElementById("fs1").value);
        const fp2 = parseFloat(document.getElementById("fp2").value);
        const fs2 = parseFloat(document.getElementById("fs2").value);
        const Rp = parseFloat(document.getElementById("rp").value);
        const Rs = parseFloat(document.getElementById("rs").value);
        const Nfixed = parseInt(document.getElementById("order").value, 10);

        if (!fs || fs <= 0) {
          statusMsg.textContent = "Sampling frequency must be positive.";
          return;
        }

        try {
          let N;
          let methodDesc;
          let poles = [];
          let zeros = [];

          if (mode === "order") {
            N = Math.max(1, Nfixed);
            methodDesc = `Fixed order N = ${N}`;
          } else {
            // Specs-based design (Butterworth only in this simplified implementation)
            if (proto !== "butter") {
              statusMsg.textContent =
                "Specs-based order estimation is currently implemented for Butterworth only. Using Butterworth approximation.";
            }
            if (type === "lowpass" || type === "highpass") {
              const wp = prewarp(fp1, fs);
              const ws = prewarp(fs1, fs);
              const Ncalc = butterOrder(Rp, Rs, wp, ws);
              if (!Ncalc || !isFinite(Ncalc)) {
                statusMsg.textContent =
                  "Invalid frequency specs: stopband must be farther from DC than passband.";
                return;
              }
              N = Ncalc;
              methodDesc = `From specs (Rp = ${Rp} dB, Rs = ${Rs} dB)`;
            } else {
              // Band filters: approximate using lower edge
              const wp = prewarp(fp1, fs);
              const ws = prewarp(fs1, fs);
              const Ncalc = butterOrder(Rp, Rs, wp, ws);
              if (!Ncalc || !isFinite(Ncalc)) {
                statusMsg.textContent =
                  "Invalid band specs: ensure stopband is outside passband.";
                return;
              }
              N = Ncalc;
              methodDesc = `From specs (band approximation, Rp = ${Rp} dB, Rs = ${Rs} dB)`;
            }
          }

          // Analog prototype cutoff (approximate)
          const wc = prewarp(fp1, fs);
          poles = butterPoles(N, wc);

          // For simplicity, zeros at infinity (none in s-plane)
          zeros = [];

          // Convert to digital via bilinear transform and build SOS
          const sos = polesToBiquads(poles, fs);
          const { b, a } = sosToBArrays(sos);

          // Populate summary
          const familyMap = {
            butter: "Butterworth",
            cheby1: "Chebyshev Type I",
            cheby2: "Chebyshev Type II",
            ellip: "Elliptic (Cauer)",
          };
          const typeMap = {
            lowpass: "Low-pass",
            highpass: "High-pass",
            bandpass: "Band-pass",
            bandstop: "Band-stop",
          };
          summaryFamily.textContent = familyMap[proto] || "Butterworth";
          summaryType.textContent = typeMap[type] || type;
          summaryOrder.textContent = N.toString();
          summaryMethod.textContent = methodDesc;
          show(summaryCard);

          // Coefficients
          bCoeffsPre.textContent = formatArray(b, "b");
          aCoeffsPre.textContent = formatArray(a, "a");
          show(coeffCard);

          // Difference equation
          diffEqDiv.textContent = buildDifferenceEq(b, a);
          show(diffCard);

          // Poles / zeros
          polesList.textContent = poles.length
            ? poles.map(formatComplex).join("\n")
            : "(no finite poles?)";
          zerosList.textContent = zeros.length
            ? zeros.map(formatComplex).join("\n")
            : "(all zeros at infinity for Butterworth prototype)";
          show(pzCard);

          // Export snippets
          buildExportSnippets(fs, b, a);
          show(exportCard);

          statusMsg.textContent =
            "Design completed. Review coefficients and export snippets below.";
        } catch (e) {
          console.error(e);
          statusMsg.textContent =
            "An error occurred while designing the filter. Please check your inputs.";
        }
      });

      // MathJax config
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
