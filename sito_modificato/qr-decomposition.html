<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>QR Decomposition Calculator – Orthonormal Q and Upper Triangular R</title>
  <meta name="description" content="Compute the QR decomposition of a real matrix using Gram–Schmidt orthogonalization. Get orthonormal Q, upper triangular R, and diagnostic checks A ≈ QR and QᵀQ ≈ I for linear algebra, least squares and numerical methods.">
  <link rel="canonical" href="https://calcdomain.com/qr-decomposition">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .card-hover {
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow:
        0 10px 15px -3px rgba(0,0,0,0.1),
        0 4px 6px -2px rgba(0,0,0,0.05);
    }
    .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
    .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .prose p { margin-bottom: 1rem; line-height: 1.6; }
    .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
    .prose li { margin-bottom: 0.5rem; }
    .formula-box {
      background: #f3f4f6;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      padding: 1rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .muted-note {
      font-size: 0.75rem;
      color: #6b7280;
    }
    .pill-badge {
      display: inline-flex;
      align-items: center;
      padding: 0.2rem 0.6rem;
      border-radius: 9999px;
      font-size: 0.7rem;
      font-weight: 500;
      background-color: #eff6ff;
      color: #1d4ed8;
    }
    .chip {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      border: 1px solid #e5e7eb;
      padding: 0.15rem 0.6rem;
      font-size: 0.7rem;
      color: #4b5563;
      background-color: #f9fafb;
      margin-right: 0.25rem;
      margin-bottom: 0.25rem;
    }
    .matrix-table th,
    .matrix-table td {
      min-width: 3rem;
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    .matrix-q {
      background-color: #eff6ff;
    }
    .matrix-r {
      background-color: #fefce8;
    }
    .matrix-a {
      background-color: #f9fafb;
    }
    .tag-ok {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      padding: 0.1rem 0.55rem;
      font-size: 0.7rem;
      font-weight: 500;
      background-color: #ecfdf3;
      color: #15803d;
    }
    .tag-warn {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      padding: 0.1rem 0.55rem;
      font-size: 0.7rem;
      font-weight: 500;
      background-color: #fef3c7;
      color: #92400e;
    }
    .tag-bad {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      padding: 0.1rem 0.55rem;
      font-size: 0.7rem;
      font-weight: 500;
      background-color: #fee2e2;
      color: #b91c1c;
    }
  </style>

  <!-- HEAD_SCRIPTS_E_META -->
  <!-- Google tag (gtag.js) -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>

  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

  <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
  <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

  <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
  <script>
    window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
  </script>

  <script type="application/ld+json">
[
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://calcdomain.com"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Math & Conversions",
        "item": "https://calcdomain.com/categories/math-conversions"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Core Math Algebra",
        "item": "https://calcdomain.com/subcategories/core-math-algebra"
      }
    ]
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is QR decomposition?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "QR decomposition (or QR factorisation) writes a real matrix A as A = QR, where Q has orthonormal columns and R is upper triangular. It is a fundamental tool in numerical linear algebra, used in least squares, eigenvalue algorithms and solving linear systems."
        }
      },
      {
        "@type": "Question",
        "name": "What does this QR decomposition calculator do?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "This calculator takes a real m×n matrix, applies a Gram–Schmidt style algorithm, and returns an orthonormal matrix Q and an upper triangular matrix R such that A ≈ QR. It also reports reconstruction and orthogonality errors to help you assess numerical stability."
        }
      },
      {
        "@type": "Question",
        "name": "How should I format the matrix input?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Enter the matrix row by row. Separate entries within each row using spaces, tabs, commas or semicolons, and put each row on a new line. All rows must have the same number of numeric entries."
        }
      },
      {
        "@type": "Question",
        "name": "What is the difference between classical and modified Gram–Schmidt?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Both methods generate an orthonormal basis, but modified Gram–Schmidt updates one vector at a time and is usually more numerically stable in finite precision arithmetic. This calculator follows a modified Gram–Schmidt style implementation suitable for small to medium matrices."
        }
      },
      {
        "@type": "Question",
        "name": "What does it mean if the decomposition is rank-deficient or unstable?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "If some diagonal entries of R are very small compared to the matrix norm, the columns of A are nearly linearly dependent and the problem is ill-conditioned. Least squares and inversion based on such a decomposition can be sensitive to noise and rounding errors."
        }
      },
      {
        "@type": "Question",
        "name": "When should I use QR decomposition instead of Gaussian elimination?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "QR decomposition is particularly well suited for solving overdetermined systems in the least squares sense, and for iterative eigenvalue algorithms such as the QR algorithm. Gaussian elimination is more direct for square, well-conditioned systems but does not expose orthogonal structure."
        }
      }
    ]
  }
]
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>

<body class="bg-gray-50 text-gray-800">
  <!-- BODY_SCRIPTS_INIZIO -->
  <script async="" src="https://pagead2.googlesyndication.com/pagead/js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

  <header class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="hidden md:flex items-center space-x-6">
          <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
          <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <div class="container mx-auto px-4 py-8">
    <!-- Breadcrumb -->
    <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/math-conversions" class="hover:text-blue-600">Math & Conversions</a> &raquo; <a href="https://calcdomain.com/subcategories/core-math-algebra" class="hover:text-blue-600">Core Math Algebra</a></nav>

    <div class="flex flex-col lg:flex-row gap-8">
      <!-- MAIN -->
      <main class="w-full lg:w-2/3">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <div class="flex flex-wrap items-center gap-2 mb-3">
            <h1 class="text-2xl md:text-3xl font-bold">QR Decomposition Calculator</h1>
            <span class="pill-badge">Orthonormal Q &amp; upper triangular R</span>
          </div>
          <p class="text-gray-700 mb-3">
            Enter a real matrix and this tool computes its QR decomposition using a Gram–Schmidt style algorithm.
            You get an orthonormal matrix <strong>Q</strong>, an upper triangular matrix <strong>R</strong>,
            plus diagnostic checks for <span class="font-mono">A ≈ QR</span> and <span class="font-mono">QᵀQ ≈ I</span>
            suitable for teaching, homework and numerical linear algebra workflows.
          </p>
          <div class="mb-4 flex flex-wrap gap-2">
            <span class="chip">Gram–Schmidt orthogonalization</span>
            <span class="chip">least squares ready</span>
            <span class="chip">orthogonality checks</span>
            <span class="chip">matrix reconstruction error</span>
          </div>

          <!-- Calculator -->
          <section aria-labelledby="qr-calculator-heading" class="mt-4 mb-8">
            <h2 id="qr-calculator-heading" class="text-xl font-semibold mb-3">
              Matrix input &amp; decomposition options
            </h2>

            <form id="qr-form" class="space-y-5" novalidate="">
              <div>
                <label for="matrix-input" class="block text-sm font-medium text-gray-700 mb-1">
                  Matrix A (rows separated by new lines)
                </label>
                <textarea id="matrix-input" rows="8" class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm font-mono" placeholder="Example (3×2 matrix):
1  2
3  4
5  6"></textarea>
                <p class="muted-note mt-1">
                  Use spaces, tabs, commas or semicolons between entries. Each line is a row. All rows must have
                  the same number of entries. For QR, it is typical (but not required) to have at least as many rows
                  as columns (m ≥ n).
                </p>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label for="round-digits" class="block text-xs font-medium text-gray-700 mb-1">
                    Decimal places (display)
                  </label>
                  <input type="number" id="round-digits" min="0" max="10" step="1" value="6" class="w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-blue-500 focus:border-blue-500 text-sm">
                  <p class="muted-note mt-1">
                    Only affects how results are displayed, not internal precision.
                  </p>
                </div>

                <div>
                  <fieldset>
                    <legend class="block text-xs font-medium text-gray-700 mb-1">Matrix size limits</legend>
                    <p class="muted-note">
                      Recommended up to about 8×8 for didactic use. For larger matrices, use a dedicated
                      numerical library (e.g. MATLAB, NumPy, LAPACK).
                    </p>
                  </fieldset>
                </div>

                <div>
                  <fieldset>
                    <legend class="block text-xs font-medium text-gray-700 mb-1">Additional diagnostics</legend>
                    <div class="flex items-center gap-2 mb-1">
                      <input id="show-checks" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded" checked="">
                      <label for="show-checks" class="text-xs text-gray-700">Show A − QR &amp; QᵀQ − I errors</label>
                    </div>
                    <div class="flex items-center gap-2">
                      <input id="show-a" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded">
                      <label for="show-a" class="text-xs text-gray-700">Display original matrix A</label>
                    </div>
                  </fieldset>
                </div>
              </div>

              <div class="flex flex-wrap gap-3 pt-2">
                <button type="submit" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                  Compute QR decomposition
                </button>
                <button type="button" id="qr-reset" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">
                  Reset
                </button>
                <button type="button" id="qr-example" class="inline-flex items-center px-4 py-2 bg-white text-blue-700 text-sm font-medium rounded-md border border-blue-200 shadow-sm hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                  Load example matrix
                </button>
              </div>
            </form>

            <div id="qr-error" class="mt-4 text-sm text-red-600 hidden"></div>

            <!-- Results -->
            <div id="qr-results" class="mt-6 hidden">
              <h2 class="text-lg font-semibold mb-3">Results</h2>

              <div id="qr-summary-box" class="border border-gray-200 rounded-lg p-4 mb-4">
                <p id="qr-summary" class="text-sm font-medium text-gray-900 mb-1"></p>
                <p id="qr-summary-detail" class="text-xs text-gray-600"></p>
              </div>

              <!-- Optional A matrix -->
              <div id="qr-a-section" class="mb-6 hidden">
                <h3 class="text-md font-semibold text-gray-900 mb-2">Original matrix A</h3>
                <div class="overflow-x-auto">
                  <table class="min-w-full text-xs border border-gray-200 rounded-md matrix-table">
                    <tbody id="qr-a-body" class="divide-y divide-gray-100"></tbody>
                  </table>
                </div>
              </div>

              <!-- Q matrix -->
              <div id="qr-q-section" class="mb-6">
                <h3 class="text-md font-semibold text-gray-900 mb-2">Orthonormal matrix Q</h3>
                <p class="muted-note mb-2">
                  Columns of Q form an orthonormal basis for the column space of A (for full column-rank A).
                </p>
                <div class="overflow-x-auto">
                  <table class="min-w-full text-xs border border-gray-200 rounded-md matrix-table">
                    <tbody id="qr-q-body" class="divide-y divide-gray-100"></tbody>
                  </table>
                </div>
              </div>

              <!-- R matrix -->
              <div id="qr-r-section" class="mb-6">
                <h3 class="text-md font-semibold text-gray-900 mb-2">Upper triangular matrix R</h3>
                <p class="muted-note mb-2">
                  R is n×n and upper triangular. Diagonal entries indicate column norms during Gram–Schmidt and may
                  reveal rank deficiency when very small.
                </p>
                <div class="overflow-x-auto">
                  <table class="min-w-full text-xs border border-gray-200 rounded-md matrix-table">
                    <tbody id="qr-r-body" class="divide-y divide-gray-100"></tbody>
                  </table>
                </div>
              </div>

              <!-- Checks -->
              <div id="qr-checks-section" class="mb-6 hidden">
                <h3 class="text-md font-semibold text-gray-900 mb-2">Numerical checks</h3>
                <div id="qr-checks" class="space-y-1 text-xs text-gray-800"></div>
              </div>

              <details class="mt-4 text-sm text-gray-800">
                <summary class="cursor-pointer font-semibold text-gray-900">Show calculation steps (Gram–Schmidt)</summary>
                <div id="qr-steps" class="mt-3 space-y-1"></div>
              </details>
            </div>
          </section>

          <!-- Explanatory content -->
          <section class="prose prose-sm md:prose-base mt-10">
            <h2>Definition of QR decomposition</h2>
            <p>
              Let \(A\) be an \(m \times n\) real matrix with \(m \ge n\). A <strong>QR decomposition</strong> of \(A\)
              is a factorisation
              \[
                A = Q R,
              \]
              where:
            </p>
            <ul>
              <li>\(Q\) is an \(m \times n\) matrix whose columns are orthonormal, i.e. \(Q^\top Q = I_n\);</li>
              <li>\(R\) is an \(n \times n\) upper triangular matrix.</li>
            </ul>

            <div class="formula-box text-sm">
              <p class="font-semibold mb-2">Column-space interpretation</p>
              <p>
                If the columns of \(A\) are linearly independent, the columns of \(Q\) form an orthonormal basis for
                the same column space. The matrix \(R\) encodes how each original column of \(A\) is expressed as a
                linear combination of these orthonormal basis vectors.
              </p>
            </div>

            <h2>Gram–Schmidt algorithm for QR</h2>
            <p>
              One conceptual way to obtain a QR decomposition is to apply the <strong>Gram–Schmidt
              orthogonalization</strong> process to the columns of \(A\). Denote the columns of \(A\) by
              \(\{a_1, a_2, \dots, a_n\}\). The goal is to construct an orthonormal set
              \(\{q_1, q_2, \dots, q_n\}\) and coefficients \(r_{ij}\) such that
              \[
                a_j = \sum_{i=1}^j r_{ij} q_i, \quad j = 1,\dots,n.
              \]
            </p>

            <div class="formula-box text-sm">
              <p class="font-semibold mb-2">Classical Gram–Schmidt</p>
              <p>For each column \(a_j\):</p>
              <ol>
                <li>Set \(v_j = a_j\).</li>
                <li>For \(i = 1, \dots, j-1\),
                  \[
                    r_{ij} = q_i^\top a_j,\quad
                    v_j \leftarrow v_j - r_{ij} q_i.
                  \]
                </li>
                <li>Set \(r_{jj} = \lVert v_j \rVert\) and \(q_j = v_j / r_{jj}\).</li>
              </ol>
              <p class="mt-1">
                The matrix \(Q\) has columns \(q_j\) and \(R = [r_{ij}]\) is upper triangular.
              </p>
            </div>

            <p>
              In floating-point arithmetic, <strong>modified Gram–Schmidt</strong> is usually preferred for better
              numerical stability. The implementation in this calculator follows a modified Gram–Schmidt style update
              that is more robust for teaching-size problems.
            </p>

            <h2>Applications of QR decomposition</h2>
            <ul>
              <li>
                <strong>Least squares problems</strong> — to solve an overdetermined system \(A x \approx b\), you can
                use \(A = Q R\) and solve \(R x = Q^\top b\).
              </li>
              <li>
                <strong>Eigenvalue algorithms</strong> — the QR algorithm iteratively applies QR decompositions to
                converge to upper-triangular Schur forms.
              </li>
              <li>
                <strong>Numerical stability</strong> — orthogonal transformations preserve norms, which helps control
                rounding errors in linear algebra computations.
              </li>
              <li>
                <strong>Orthonormal bases</strong> — QR provides orthonormal bases for column spaces, useful in
                high-dimensional geometry and PCA pipelines.
              </li>
            </ul>

            <h2>Interpreting the diagnostic checks</h2>
            <ul>
              <li>
                <strong>Reconstruction error \(\lVert A - Q R \rVert_\infty\)</strong> — the max absolute entry of the
                residual matrix. Values close to machine precision (\(\approx 10^{-12}\) to \(10^{-14}\) in double
                precision) indicate a very accurate factorisation for moderate-sized matrices.
              </li>
              <li>
                <strong>Orthogonality error \(\lVert Q^\top Q - I \rVert_\infty\)</strong> — measures how close the
                columns of \(Q\) are to perfectly orthonormal. Larger deviations suggest numerical issues or rank-deficient columns.
              </li>
              <li>
                <strong>Small diagonal entries in \(R\)</strong> — very small values relative to the norm of \(A\) often
                indicate near linear dependence among columns, which implies an ill-conditioned least squares problem.
              </li>
            </ul>

            <h2>Related linear algebra tools</h2>
            <ul>
              <li><a href="https://calcdomain.com/matrix-inverse">Matrix Inverse Calculator</a></li>
              <li><a href="https://calcdomain.com/matrix-determinant">Matrix Determinant</a></li>
              <li><a href="https://calcdomain.com/eigenvalue-eigenvector">Eigenvalue and Eigenvector</a></li>
              <li><a href="https://calcdomain.com/gram-schmidt">Gram–Schmidt Orthonormalization</a></li>
              <li><a href="https://calcdomain.com/covariance-matrix">Covariance Matrix</a></li>
              <li><a href="https://calcdomain.com/pca">Principal Component Analysis (PCA)</a></li>
              <li><a href="https://calcdomain.com/svd">Singular Value Decomposition (SVD)</a></li>
              <li><a href="https://calcdomain.com/linear-algebra">Linear Algebra Hub</a></li>
              <li><a href="https://calcdomain.com/system-of-equations">System of Equations Solver</a></li>
            </ul>
          </section>
        </div>
      
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A = Q R,\]</div>
  <pre class="auditspine-mono">A = Q R,</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[a_j = \sum_{i=1}^j r_{ij} q_i, \quad j = 1,\dots,n.\]</div>
  <pre class="auditspine-mono">a_j = \sum_{i=1}^j r_{ij} q_i, \quad j = 1,\dots,n.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[r_{ij} = q_i^\top a_j,\quad v_j \leftarrow v_j - r_{ij} q_i.\]</div>
  <pre class="auditspine-mono">r_{ij} = q_i^\top a_j,\quad v_j \leftarrow v_j - r_{ij} q_i.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Classical Gram–Schmidt For each column \(a_j\): Set \(v_j = a_j\). For \(i = 1, \dots, j-1\), \[ r_{ij} = q_i^\top a_j,\quad v_j \leftarrow v_j - r_{ij} q_i. \] Set \(r_{jj} = \lVert v_j \rVert\) and \(q_j = v_j / r_{jj}\). The matrix \(Q\) has columns \(q_j\) and \(R = [r_{ij}]\) is upper triangular.</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Matrix Inverse Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/matrix-inverse" target="_blank" rel="nofollow noopener">https://calcdomain.com/matrix-inverse</a></li>
<li><strong>Matrix Determinant</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/matrix-determinant" target="_blank" rel="nofollow noopener">https://calcdomain.com/matrix-determinant</a></li>
<li><strong>Eigenvalue and Eigenvector</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/eigenvalue-eigenvector" target="_blank" rel="nofollow noopener">https://calcdomain.com/eigenvalue-eigenvector</a></li>
<li><strong>Gram–Schmidt Orthonormalization</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/gram-schmidt" target="_blank" rel="nofollow noopener">https://calcdomain.com/gram-schmidt</a></li>
<li><strong>Covariance Matrix</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/covariance-matrix" target="_blank" rel="nofollow noopener">https://calcdomain.com/covariance-matrix</a></li>
<li><strong>Principal Component Analysis (PCA)</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/pca" target="_blank" rel="nofollow noopener">https://calcdomain.com/pca</a></li>
<li><strong>Singular Value Decomposition (SVD)</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/svd" target="_blank" rel="nofollow noopener">https://calcdomain.com/svd</a></li>
<li><strong>Linear Algebra Hub</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/linear-algebra" target="_blank" rel="nofollow noopener">https://calcdomain.com/linear-algebra</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>

      <!-- SIDEBAR -->
      <aside class="w-full lg:w-1/3">
        <div class="bg-white p-4 rounded-lg shadow-md mb-6">
          <h2 class="text-lg font-semibold mb-3">More in Core Math &amp; Algebra</h2>
          <ul class="space-y-2 text-sm">
            <li><a href="https://calcdomain.com/linear-algebra" class="text-blue-600 hover:underline">Linear Algebra</a></li>
            <li><a href="https://calcdomain.com/matrix" class="text-blue-600 hover:underline">Matrix Calculator</a></li>
            <li><a href="https://calcdomain.com/matrix-inverse" class="text-blue-600 hover:underline">Matrix Inverse</a></li>
            <li><a href="https://calcdomain.com/matrix-determinant" class="text-blue-600 hover:underline">Matrix Determinant</a></li>
            <li><a href="https://calcdomain.com/gram-schmidt" class="text-blue-600 hover:underline">Gram–Schmidt</a></li>
            <li><a href="https://calcdomain.com/eigenvalue-eigenvector" class="text-blue-600 hover:underline">Eigenvalues &amp; Eigenvectors</a></li>
            <li><a href="https://calcdomain.com/svd" class="text-blue-600 hover:underline">Singular Value Decomposition (SVD)</a></li>
            <li><a href="https://calcdomain.com/pca" class="text-blue-600 hover:underline">Principal Component Analysis (PCA)</a></li>
            <li><a href="https://calcdomain.com/covariance-matrix" class="text-blue-600 hover:underline">Covariance Matrix</a></li>
            <li><a href="https://calcdomain.com/system-of-equations" class="text-blue-600 hover:underline">System of Equations</a></li>
          </ul>
        </div>

        <div class="bg-white p-4 rounded-lg shadow-md">
          <h2 class="text-lg font-semibold mb-3">Good practices for QR in practice</h2>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
            <li>Check the shape of A (m×n) and ensure m ≥ n for full column-rank problems.</li>
            <li>Inspect R’s diagonal for near-zero entries that indicate collinearity.</li>
            <li>Use the orthogonality error \(\lVert Q^\top Q - I \rVert\) to gauge numerical quality.</li>
            <li>For large or highly ill-conditioned matrices, consider Householder QR or library implementations (LAPACK, Eigen, etc.).</li>
            <li>Combine QR with PCA, SVD or covariance analysis when exploring high-dimensional data sets.</li>
          </ul>
        </div>
      </aside>
    </div>
  </div>

  <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>















  <script src="/assets/js/script_menu.js" defer=""></script>
  <script src="/assets/js/script_faq.js" defer=""></script>
  <script src="search.js" defer=""></script>

  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <script>
    (function () {
      function $(id) { return document.getElementById(id); }
      function show(el) { el.classList.remove('hidden'); }
      function hide(el) { el.classList.add('hidden'); }

      function loadExample() {
        var ex = [
          '1  2',
          '3  4',
          '5  6'
        ].join('\\n');
        $('matrix-input').value = ex;
      }

      function parseMatrix(text) {
        var lines = text.split(/\\r?\\n/).map(function (l) { return l.trim(); }).filter(function (l) { return l.length > 0; });
        if (lines.length === 0) {
          return { error: 'Please provide at least one non-empty row for matrix A.' };
        }
        var m = 0, n = null;
        var A = [];
        for (var i = 0; i < lines.length; i++) {
          var rowTokens = lines[i]
            .replace(/;/g, ' ')
            .replace(/,/g, ' ')
            .trim()
            .split(/\\s+/)
            .filter(function (s) { return s.length > 0; });
          if (rowTokens.length === 0) continue;
          if (n === null) {
            n = rowTokens.length;
          } else if (rowTokens.length !== n) {
            return { error: 'Row ' + (i + 1) + ' has ' + rowTokens.length + ' entries, but expected ' + n + ' based on previous rows.' };
          }
          var row = [];
          for (var j = 0; j < rowTokens.length; j++) {
            var v = Number(rowTokens[j]);
            if (!Number.isFinite(v)) {
              return { error: 'Non-numeric value "' + rowTokens[j] + '" in row ' + (i + 1) + ', column ' + (j + 1) + '.' };
            }
            row.push(v);
          }
          A.push(row);
          m++;
        }
        if (!n || m === 0) {
          return { error: 'Could not detect a valid numeric matrix. Please check the input.' };
        }
        if (m < n) {
          // Still allowed, but warn in summary instead of erroring.
        }
        return { A: A, m: m, n: n };
      }

      function zeros(rows, cols) {
        var M = new Array(rows);
        for (var i = 0; i < rows; i++) {
          M[i] = new Array(cols);
          for (var j = 0; j < cols; j++) M[i][j] = 0;
        }
        return M;
      }

      function copyMatrix(A) {
        var m = A.length, n = A[0].length;
        var B = zeros(m, n);
        for (var i = 0; i < m; i++) {
          for (var j = 0; j < n; j++) B[i][j] = A[i][j];
        }
        return B;
      }

      function col(A, k) {
        var m = A.length;
        var v = new Array(m);
        for (var i = 0; i < m; i++) v[i] = A[i][k];
        return v;
      }

      function dot(u, v) {
        var s = 0;
        for (var i = 0; i < u.length; i++) s += u[i] * v[i];
        return s;
      }

      function norm2(v) {
        return Math.sqrt(dot(v, v));
      }

      function qrDecomposition(A) {
        var m = A.length;
        var n = A[0].length;
        var Q = zeros(m, n);
        var R = zeros(n, n);

        // Modified Gram–Schmidt
        var V = [];
        for (var j = 0; j < n; j++) {
          V[j] = col(A, j);
        }

        var rankWarning = false;

        for (var j = 0; j < n; j++) {
          var v = V[j].slice();

          // subtract projections onto previous q_i
          for (var i = 0; i < j; i++) {
            var qi = col(Q, i);
            var rij = dot(qi, v);
            R[i][j] = rij;
            for (var k = 0; k < m; k++) {
              v[k] -= rij * qi[k];
            }
          }

          var rjj = norm2(v);
          R[j][j] = rjj;
          if (rjj === 0) {
            rankWarning = true;
            for (var k = 0; k < m; k++) Q[k][j] = 0;
          } else {
            for (var k = 0; k < m; k++) {
              Q[k][j] = v[k] / rjj;
            }
          }
        }

        return { Q: Q, R: R, rankWarning: rankWarning };
      }

      function matMul(A, B) {
        var m = A.length;
        var p = A[0].length;
        var n = B[0].length;
        var C = zeros(m, n);
        for (var i = 0; i < m; i++) {
          for (var j = 0; j < n; j++) {
            var s = 0;
            for (var k = 0; k < p; k++) {
              s += A[i][k] * B[k][j];
            }
            C[i][j] = s;
          }
        }
        return C;
      }

      function matTranspose(A) {
        var m = A.length;
        var n = A[0].length;
        var T = zeros(n, m);
        for (var i = 0; i < m; i++) {
          for (var j = 0; j < n; j++) {
            T[j][i] = A[i][j];
          }
        }
        return T;
      }

      function matDiff(A, B) {
        var m = A.length;
        var n = A[0].length;
        var D = zeros(m, n);
        for (var i = 0; i < m; i++) {
          for (var j = 0; j < n; j++) {
            D[i][j] = A[i][j] - B[i][j];
          }
        }
        return D;
      }

      function maxAbs(A) {
        var m = A.length, n = A[0].length;
        var maxVal = 0;
        for (var i = 0; i < m; i++) {
          for (var j = 0; j < n; j++) {
            var v = Math.abs(A[i][j]);
            if (v > maxVal) maxVal = v;
          }
        }
        return maxVal;
      }

      function fmt(x, digits) {
        if (!Number.isFinite(x)) return '—';
        digits = typeof digits === 'number' ? digits : 6;
        return Number(x.toFixed(digits)).toString();
      }

      function renderMatrixBody(bodyEl, A, cssClass) {
        bodyEl.innerHTML = '';
        var m = A.length, n = A[0].length;
        for (var i = 0; i < m; i++) {
          var tr = document.createElement('tr');
          for (var j = 0; j < n; j++) {
            var td = document.createElement('td');
            td.className = 'px-3 py-1 border-b border-gray-100 text-right text-xs';
            if (cssClass) td.classList.add(cssClass);
            td.textContent = A[i][j];
            tr.appendChild(td);
          }
          bodyEl.appendChild(tr);
        }
      }

      function renderMatrixBodyRounded(bodyEl, A, digits, cssClass) {
        bodyEl.innerHTML = '';
        var m = A.length, n = A[0].length;
        for (var i = 0; i < m; i++) {
          var tr = document.createElement('tr');
          for (var j = 0; j < n; j++) {
            var td = document.createElement('td');
            td.className = 'px-3 py-1 border-b border-gray-100 text-right text-xs';
            if (cssClass) td.classList.add(cssClass);
            td.textContent = fmt(A[i][j], digits);
            tr.appendChild(td);
          }
          bodyEl.appendChild(tr);
        }
      }

      function onSubmit(e) {
        e.preventDefault();
        var err = $('qr-error');
        var res = $('qr-results');
        var checksSection = $('qr-checks-section');
        var aSection = $('qr-a-section');
        var summaryEl = $('qr-summary');
        var summaryDetailEl = $('qr-summary-detail');
        var checksEl = $('qr-checks');
        var stepsEl = $('qr-steps');

        hide(err);
        hide(res);
        hide(checksSection);
        hide(aSection);
        summaryEl.textContent = '';
        summaryDetailEl.textContent = '';
        checksEl.innerHTML = '';
        stepsEl.innerHTML = '';

        var raw = $('matrix-input').value || '';
        var parsed = parseMatrix(raw);
        if (parsed.error) {
          err.textContent = parsed.error;
          show(err);
          return;
        }

        var A = parsed.A;
        var m = parsed.m;
        var n = parsed.n;
        var digits = parseInt($('round-digits').value, 10);
        if (!Number.isFinite(digits) || digits < 0) digits = 6;
        if (digits > 10) digits = 10;

        if (m * n > 144) {
          err.textContent = 'For readability this tool is limited to matrices up to about 12×12. Please input a smaller matrix.';
          show(err);
          return;
        }

        var qr = qrDecomposition(A);
        var Q = qr.Q;
        var R = qr.R;

        summaryEl.textContent = 'Computed QR decomposition of an ' + m + ' × ' + n +
          ' matrix A into Q (' + m + ' × ' + n + ') and R (' + n + ' × ' + n + ').';

        var details = [];
        if (m < n) {
          details.push('Note: m < n. QR is still defined, but A does not have full column rank by dimension.');
        }
        if (qr.rankWarning) {
          details.push('At least one R diagonal entry is zero, indicating rank deficiency or exact collinearity among columns.');
        } else {
          details.push('All R diagonal entries are non-zero, suggesting full column rank (within numerical precision).');
        }
        summaryDetailEl.textContent = details.join(' ');

        var showA = $('show-a').checked;
        if (showA) {
          renderMatrixBodyRounded($('qr-a-body'), A, digits, 'matrix-a');
          show(aSection);
        }

        renderMatrixBodyRounded($('qr-q-body'), Q, digits, 'matrix-q');
        renderMatrixBodyRounded($('qr-r-body'), R, digits, 'matrix-r');

        if ($('show-checks').checked) {
          var QT = matTranspose(Q);
          var QTQ = matMul(QT, Q);
          var I = zeros(n, n);
          for (var i = 0; i < n; i++) I[i][i] = 1;
          var QTQminusI = matDiff(QTQ, I);
          var orthoErr = maxAbs(QTQminusI);

          var QR = matMul(Q, R);
          var AminusQR = matDiff(A, QR);
          var reconErr = maxAbs(AminusQR);

          var normA = maxAbs(A);

          var orthoTag = document.createElement('span');
          var reconTag = document.createElement('span');

          function classify(errVal, scale) {
            scale = scale || 1;
            var rel = scale > 0 ? errVal / scale : errVal;
            if (rel < 1e-10) return 'ok';
            if (rel < 1e-6) return 'warn';
            return 'bad';
          }

          var orthoLevel = classify(orthoErr, 1);
          var reconLevel = classify(reconErr, normA || 1);

          orthoTag.textContent = 'QᵀQ − I: max |·| = ' + fmt(orthoErr, 3);
          reconTag.textContent = 'A − QR: max |·| = ' + fmt(reconErr, 3);

          orthoTag.className = orthoLevel === 'ok' ? 'tag-ok' : (orthoLevel === 'warn' ? 'tag-warn' : 'tag-bad');
          reconTag.className = reconLevel === 'ok' ? 'tag-ok' : (reconLevel === 'warn' ? 'tag-warn' : 'tag-bad');

          var p1 = document.createElement('p');
          p1.className = 'flex items-center gap-2';
          p1.appendChild(orthoTag);

          var p2 = document.createElement('p');
          p2.className = 'flex items-center gap-2';
          p2.appendChild(reconTag);

          var p3 = document.createElement('p');
          p3.className = 'muted-note mt-1';
          p3.textContent = '“OK” tags indicate errors close to machine precision for typical teaching-size matrices; “Warning” or “Bad” suggest ill-conditioning or that a more stable algorithm (e.g. Householder QR) may be preferable.';

          checksEl.appendChild(p1);
          checksEl.appendChild(p2);
          checksEl.appendChild(p3);

          show(checksSection);
        }

        var steps = [];
        steps.push('1. Interpret the input as an m × n matrix A with columns a₁, …, aₙ.');
        steps.push('2. Initialise vⱼ = aⱼ for j = 1,…,n and set R = 0, Q = 0.');
        steps.push('3. For each column j = 1,…,n, subtract projections onto previously computed qᵢ:');
        steps.push('   For i = 1,…,j−1, set rᵢⱼ = qᵢᵀ vⱼ and update vⱼ ← vⱼ − rᵢⱼ qᵢ.');
        steps.push('4. Compute rⱼⱼ = ∥vⱼ∥₂. If rⱼⱼ = 0 the column is linearly dependent; otherwise set qⱼ = vⱼ / rⱼⱼ.');
        steps.push('5. After processing all columns, form Q = [q₁ … qₙ] and the upper triangular R = [rᵢⱼ].');
        steps.push('6. Optionally verify the factorisation by checking the residual matrices QᵀQ − I and A − Q R.');

        steps.forEach(function (line) {
          var pEl = document.createElement('p');
          pEl.textContent = line;
          stepsEl.appendChild(pEl);
        });

        show(res);

        if (window.MathJax && window.MathJax.typesetPromise) {
          window.MathJax.typesetPromise([stepsEl]).catch(function () {});
        }
      }

      function onReset() {
        $('qr-form').reset();
        $('matrix-input').value = '';
        hide($('qr-error'));
        hide($('qr-results'));
      }

      document.addEventListener('DOMContentLoaded', function () {
        $('qr-form').addEventListener('submit', onSubmit);
        $('qr-reset').addEventListener('click', onReset);
        $('qr-example').addEventListener('click', loadExample);
      });
    })();
  </script>


</body></html>