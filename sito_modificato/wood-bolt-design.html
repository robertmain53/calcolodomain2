<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/wood-bolt-design" rel="canonical"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <meta charset="utf-8"/>
  <title>
   AWC NDS Wood Connection Calculator (Bolts)
  </title>
  <meta content="Professional wood bolt design calculator based on AWC NDS: compute adjusted lateral design capacity per bolt for wood-to-steel single-shear connections using the European Yield Model (EYM)." name="description"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="Ugo Candido" name="author"/>
  <meta content="#005A9C" name="theme-color"/>
  <meta content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" name="robots"/>
  <meta content="wood bolt design calculator, AWC NDS bolt calculator, timber connection, dowel-type fastener, European Yield Model, Fe, Fyb, lateral capacity" name="keywords"/>
  <style>
   /* Critical CSS (above-the-fold) - Mobile-first, high-contrast, WCAG-compliant */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#495057; --border-color:#DEE2E6;
      --success-color:#198754; --error-color:#DC3545;
      --touch-target:48px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:16px}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,sans-serif;background:var(--background-color);color:var(--text-color);line-height:1.6}
    a{color:var(--primary-color);text-decoration:none}
    a:hover{text-decoration:underline}
    .skip-link{position:absolute;left:0;top:-40px;background:#000;color:#fff;padding:.5rem .75rem;z-index:1000}
    .skip-link:focus{top:0}
    header{background:var(--surface-color);border-bottom:1px solid var(--border-color)}
    .container{max-width:1200px;margin:0 auto;padding:0 1rem}
    .header-inner{display:flex;gap:1rem;align-items:center;justify-content:space-between;padding:.75rem 0}
    .brand{font-weight:700;color:var(--secondary-color);font-size:1.125rem}
    .main{padding:1.25rem 0}
    h1{font-size:1.75rem;line-height:1.2;color:var(--secondary-color);margin:0 0 .5rem}
    p{margin:.5rem 0 1rem}
    .layout{display:grid;grid-template-columns:1fr;gap:1.25rem}
    @media (min-width: 992px){.layout{grid-template-columns:440px 1fr}}
    .card{background:var(--surface-color);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.04)}
    .calculator{padding:1.25rem}
    .results{padding:1rem;background:#F3F6F9;border-radius:10px;border:1px solid var(--border-color);min-height:220px}
    .form-group{margin-bottom:1rem}
    label{display:block;font-weight:600;margin-bottom:.35rem}
    .help-inline{font-size:.9rem;color:var(--muted-text-color)}
    .row{display:grid;grid-template-columns:1fr;gap:.75rem}
    @media (min-width: 520px){.row-2{grid-template-columns:1fr 1fr}}
    .input-wrap{position:relative}
    input[type="number"],select{width:100%;min-height:var(--touch-target);padding:.65rem .85rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem;background:#fff}
    input[type="number"]:focus,select:focus,button:focus{outline:3px solid var(--primary-color);outline-offset:2px}
    fieldset{border:0;margin:0;padding:0}
    .radio-group{display:flex;gap:.5rem;flex-wrap:wrap}
    .radio-pill{position:relative}
    .radio-pill input{position:absolute;opacity:0;inset:0}
    .radio-pill label{display:inline-flex;align-items:center;justify-content:center;min-height:var(--touch-target);padding:.5rem .75rem;border:1px solid var(--border-color);border-radius:8px;cursor:pointer}
    .radio-pill input:checked+label{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}
    .radio-pill input:focus-visible+label{outline:3px solid var(--primary-color);outline-offset:2px}
    .unit{position:absolute;right:.65rem;top:50%;transform:translateY(-50%);color:#6c757d;pointer-events:none}
    .error{color:var(--error-color);font-size:.875rem;margin-top:.25rem}
    .results h3{margin:.25rem 0 1rem}
    .result-item{display:flex;justify-content:space-between;gap:.5rem;padding:.5rem 0;border-bottom:1px solid var(--border-color)}
    .result-item:last-child{border-bottom:0}
    .result-label{color:#495057}
    .result-value{font-weight:700;color:var(--success-color)}
    .kicker{font-size:.9rem;color:#6c757d}
    .tooltip{display:inline-block;margin-left:.35rem}
    .tooltip button{appearance:none;border:1px solid var(--border-color);background:#fff;border-radius:999px;width:28px;height:28px;line-height:1;font-weight:700;cursor:pointer}
    .tooltip-content{display:none;margin-top:.25rem;font-size:.9rem;color:#343a40}
    .tooltip-content[aria-hidden="false"]{display:block}
    .content{padding:1.25rem}
    .formula{background:#e9ecef;border-radius:10px;padding:1rem;overflow:auto}
    .notice{background:#fff3cd;border:1px solid #ffe69c;color:#664d03;padding:.75rem;border-radius:8px}
    footer{margin-top:2rem;padding:1.25rem 0;background:var(--secondary-color);color:#fff}
    .author-box{font-size:.95rem;color:#e6ecf2;border-top:1px solid rgba(255,255,255,.25);margin-top:1rem;padding-top:1rem}
  </style>
  <style media="print" onload="this.media='all'">
   /* --- Enhanced CalcDomain CSS with Mobile-First Design & Accessibility (non-critical) --- */
:root {
  --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
  --background-color:#F8F9FA; --surface-color:#FFFFFF;
  --text-color:#212529; --muted-text-color:#6C757D; --border-color:#DEE2E6;
  --success-color:#198754; --error-color:#DC3545; --warning-color:#FFC107;
  --font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  --font-monospace:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono","Courier New",monospace;
  --touch-target-min:48px; --container-max-width:1200px;
}
h2{font-size:1.5rem;color:var(--secondary-color);margin:1.5rem 0 .75rem}
h3{font-size:1.25rem;color:var(--secondary-color)}
code,kbd,samp{font-family:var(--font-monospace);background:#f1f3f5;padding:.15em .35em;border-radius:4px}
ul,ol{padding-left:1.25rem}
table{width:100%;border-collapse:collapse;margin:.75rem 0}
th,td{border:1px solid var(--border-color);padding:.5rem;text-align:left}
  </style>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "AWC NDS Wood Connection Calculator (Bolts)",
  "description": "Authoritative wood bolt design calculator based on the AWC NDS European Yield Model (EYM) for dowel-type fasteners. Computes adjusted lateral capacity per bolt for wood-to-steel single-shear connections.",
  "url": "https://calcdomain.com/wood-bolt-design",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How the AWC NDS Bolt Calculator Works — A Step-by-Step Example",
      "description": "Enter wood specific gravity, bolt diameter, thickness, and factors. The tool computes dowel bearing strength and the controlling yield mode per NDS.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Choose connection type",
          "text": "Select Wood-to-Steel (single shear)."
        },
        {
          "@type": "HowToStep",
          "name": "Enter material properties",
          "text": "Set specific gravity G, angle to grain, and fastener bending yield strength Fyb."
        },
        {
          "@type": "HowToStep",
          "name": "Define geometry",
          "text": "Enter bolt diameter d and wood thickness t. Optionally input end/edge distances and spacing for checks."
        },
        {
          "@type": "HowToStep",
          "name": "Set adjustment factors",
          "text": "Choose load duration factor CD and input CM, Ct, and Cg as applicable."
        },
        {
          "@type": "HowToStep",
          "name": "Read capacity",
          "text": "The calculator returns per-bolt adjusted capacity and the total for the bolt group, along with the governing EYM yield mode."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Which design standard does this tool implement?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This calculator implements the AWC National Design Specification (NDS) European Yield Model (EYM) for dowel-type fasteners (bolts), using the 2018/2024 editions for formulas and adjustment factors."
          }
        },
        {
          "@type": "Question",
          "name": "What connection configurations are supported?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The current version supports wood-to-steel single-shear connections where the steel side plate is sufficiently thick. Wood-to-wood single-shear and double-shear configurations are planned."
          }
        },
        {
          "@type": "Question",
          "name": "What are typical values for Fyb?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For ASTM A307 bolts, a common bending yield strength used in NDS design is around 45,000 psi. Always confirm with your bolt specification and the NDS Supplement."
          }
        },
        {
          "@type": "Question",
          "name": "How are angles to grain handled?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Dowel bearing strength is adjusted for the load angle to grain using the Hankinson-type relationship between parallel and perpendicular bearing strengths."
          }
        },
        {
          "@type": "Question",
          "name": "Does the tool check spacing and edge distances?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. It flags warnings if input geometry appears to be below typical NDS minimum prescriptive limits for bolts (e.g., end distance, edge distance, and spacing in line and row). Always verify with the latest NDS tables for your case."
          }
        },
        {
          "@type": "Question",
          "name": "Are the results ASD or LRFD?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Results are presented as adjusted allowable design values (ASD) using the selected adjustment factors. If you design in LRFD, apply the appropriate resistance factors per NDS."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use these results for final engineering?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. This tool is for preliminary design and education. Always have a licensed professional engineer check and approve final designs."
          }
        }
      ]
    }
  ]
}
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <script defer="" src="search.js">
  </script>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Engineering",
      "item": "https://calcdomain.com/engineering"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Structural Engineering",
      "item": "https://calcdomain.com/engineering/structural-engineering"
    }
  ]
}
  </script>
  <!-- Google tag (gtag.js) -->
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7MB5V1LZRN');
    </script>
    <meta content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA" name="google-site-verification"/>
    <script data-cfasync="false" src="https://cmp.gatekeeperconsent.com/min.js">
    </script>
    <script data-cfasync="false" src="https://the.gatekeeperconsent.com/cmp.min.js">
    </script>
    <script async="" src="//www.ezojs.com/ezoic/sa.min.js">
    </script>
    <script>
     window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
   </head>
  </html>
 </head>
 <body>
  <html>
   <head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939">
    </script>
   </head>
  </html>
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com#categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
   <html>
    <body>
     <a class="hover:text-blue-600" href="https://calcdomain.com">
      Home
     </a>
     »
     <a class="hover:text-blue-600" href="https://calcdomain.com/engineering">
      Engineering
     </a>
     »
     <a class="hover:text-blue-600" href="https://calcdomain.com/engineering/structural-engineering">
      Structural Engineering
     </a>
     »
     <span>
      awc nds wood connection calculator (bolts)
     </span>
    </body>
   </html>
  </nav>
  <a class="skip-link" href="#main-content">
   Skip to main content
  </a>
  <main class="main" id="main-content">
   <div class="container">
    <h1>
     AWC NDS Wood Connection Calculator (Bolts)
    </h1>
    <p class="kicker">
     Professional-grade wood bolt design calculator for structural engineers, based on the AWC NDS European Yield Model (EYM). Compute adjusted lateral capacity per bolt and total group capacity with clear, auditable steps.
    </p>
    <div class="layout">
     <article class="card content">
      <h2>
       Data Source and Methodology
      </h2>
      <p>
       <strong>
        Authoritative Source:
       </strong>
       American Wood Council (AWC), National Design Specification (NDS) for Wood Construction, 2018 and 2024 Editions. See:
       <a href="https://awc.org/calculators/connection-calculator/" rel="noopener" target="_blank">
        AWC Connection Calculator
       </a>
       and the NDS Chapter 12 (Dowel-Type Fasteners).
      </p>
      <p>
       All calculations are strictly based on the European Yield Model (EYM) and dowel bearing strength equations prescribed by the AWC NDS. All adjustment factors follow NDS conventions where applicable. All computations performed by this tool are for ASD and are intended for preliminary design and educational use.
      </p>
      <p>
       <strong>
        Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.
       </strong>
      </p>
      <h2>
       The Formula Explained
      </h2>
      <div class="formula">
       <p>
        Dowel bearing strengths for bolts (wood member):
       </p>
       <p>
        Fe parallel to grain: \( F_{e0} = 16600 \, G^{1.84} \) (psi)
       </p>
       <p>
        Fe perpendicular to grain: \( F_{e90} = 6230 \, G^{1.45} \) (psi)
       </p>
       <p>
        Angle to grain adjustment (Hankinson-type):
       </p>
       <p>
        \[
              F_{e\theta} = \frac{F_{e0}\,F_{e90}}{F_{e0}\,\sin^2\theta + F_{e90}\,\cos^2\theta}
            \]
       </p>
       <p>
        Wood-to-steel single-shear yield modes (per-bolt, ASD form):
       </p>
       <p>
        \[
              Z_{Im} = F_{e\theta}\, d\, t
              \qquad
              Z_{II} = 1.15\, d\, t\, \sqrt{F_{yb}\, F_{e\theta}}
              \qquad
              Z_{III} = 2.30\, d\, t\, \sqrt{F_{yb}\, F_{e\theta}}
            \]
       </p>
       <p>
        Controlling per-bolt capacity: \( Z = \min\left(Z_{Im}, Z_{II}, Z_{III}\right) \)
       </p>
       <p>
        Adjusted per-bolt capacity: \( Z' = Z \times C_D \times C_M \times C_t \)
       </p>
       <p>
        Total adjusted capacity for n bolts with group factor \(C_g\): \(
              Z_{\text{total}} = Z' \times n \times C_g
            \)
       </p>
      </div>
      <h2>
       Glossary of Variables
      </h2>
      <ul>
       <li>
        G: Specific gravity of wood species (dimension lumber basis).
       </li>
       <li>
        θ: Angle between load direction and wood grain (degrees).
       </li>
       <li>
        d: Bolt diameter (in).
       </li>
       <li>
        t: Wood member thickness bearing the bolt (in).
       </li>
       <li>
        Fyb: Fastener bending yield strength (psi).
       </li>
       <li>
        Fe0, Fe90, Feθ: Dowel bearing strength parallel, perpendicular, and at angle θ (psi).
       </li>
       <li>
        ZIm, ZII, ZIII: Nominal yield-mode capacities per bolt (lb).
       </li>
       <li>
        Z: Controlling nominal per-bolt capacity (lb).
       </li>
       <li>
        CD, CM, Ct: NDS adjustment factors for load duration, moisture, and temperature (—).
       </li>
       <li>
        Cg: Group action factor for multiple fasteners in a row (—).
       </li>
       <li>
        Z′: Adjusted per-bolt capacity (lb); Ztotal: total adjusted capacity (lb).
       </li>
      </ul>
      <h2>
       How It Works: A Step-by-Step Example
      </h2>
      <div aria-live="polite" class="notice">
       Example: G = 0.50, θ = 0°, d = 0.5 in, t = 1.5 in, Fyb = 45,000 psi, CD = 1.0, CM = 1.0, Ct = 1.0, Cg = 1.0, n = 2.
            1) Fe0 = 16600 × 0.5^1.84 ≈ 5668 psi; Fe90 = 6230 × 0.5^1.45 ≈ 2297 psi.
            At θ = 0°, Feθ ≈ Fe0 ≈ 5668 psi.
            2) ZIm = 5668 × 0.5 × 1.5 ≈ 4251 lb.
            ZII = 1.15 × 0.5 × 1.5 × √(45000 × 5668) ≈ 1.725 × √(255,060,000) ≈ 1.725 × 15,969 ≈ 27,548 lb.
            ZIII = 2.30 × 0.5 × 1.5 × √(45000 × 5668) ≈ 3.45 × 15,969 ≈ 55,096 lb.
            3) Controlling Z = min(4251, 27548, 55096) = 4251 lb (Mode Im).
            4) Adjusted per-bolt Z′ = 4251 × 1.0 × 1.0 × 1.0 = 4251 lb.
            5) Total = 4251 × 2 × 1.0 = 8502 lb.
      </div>
      <h2>
       Frequently Asked Questions (FAQ)
      </h2>
      <div>
       <h3>
        Does this tool cover wood-to-wood connections?
       </h3>
       <p>
        The current release focuses on wood-to-steel single-shear. Wood-to-wood single-shear and double-shear configurations will be added next, following the same NDS framework.
       </p>
       <h3>
        Are spacing and edge distance requirements enforced?
       </h3>
       <p>
        The tool flags potential issues against typical NDS minimums. You must still verify exact geometry requirements (species, orientation, service class) with the current NDS tables.
       </p>
       <h3>
        How do I choose G (specific gravity)?
       </h3>
       <p>
        Use the NDS listed G for your species and product (e.g., Southern Pine, SPF). Do not use oven-dry values unless NDS specifies them.
       </p>
       <h3>
        What if the steel side plate is thin or slotted?
       </h3>
       <p>
        This version assumes a sufficiently thick steel plate. For thin plates, slotted holes, or oversize holes, consult NDS provisions and manufacturer data; capacities will differ.
       </p>
       <h3>
        Can I apply LRFD?
       </h3>
       <p>
        The results are ASD adjusted values. For LRFD, convert per NDS procedures and apply the appropriate resistance factors.
       </p>
       <h3>
        How precise are the angle adjustments?
       </h3>
       <p>
        The tool uses a Hankinson-type formula between parallel and perpendicular dowel bearing strengths, consistent with NDS. For critical designs, consider bounding cases (0° and 90°) as checks.
       </p>
       <h3>
        Is this a replacement for the AWC Connection Calculator?
       </h3>
       <p>
        No. It is a complementary educational tool. Always consult the latest NDS and use vetted software or hand-checks for final design.
       </p>
      </div>
      <div class="author-box">
       Tool developed by Ugo Candido. Content verified by the CalcDomain Engineering Editorial Team. Last reviewed for accuracy on: September 14, 2025.
      </div>
     </article>
    </div>
   </div>
  </main>
  <!-- Standard Footer -->
  <script defer="">
   (function(){
      'use strict';

      const $ = id => document.getElementById(id);
      const toNum = (el, def=0) => {
        const v = typeof el === 'number' ? el : parseFloat(el.value);
        return Number.isFinite(v) ? v : def;
      };
      const clamp = (v,min,max)=>Math.min(Math.max(v,min),max);
      const fmtLbs = n => isFinite(n) ? `${n.toFixed(0)} lb` : '—';
      const fmtPsi = n => isFinite(n) ? `${n.toFixed(0)} psi` : '—';
      const fmtKn = n => isFinite(n) ? `${(n*0.00444822).toFixed(2)} kN` : '—';

      const ids = ["G","theta","d","t","Fyb","n","CD","CM","Ct","Cg","endDist","edgeDist","sAlong","sAcross"];
      const errors = {
        G: {min:0.20,max:0.90,msg:"Enter G between 0.20 and 0.90 (see NDS species tables)."},
        theta: {min:0,max:90,msg:"Angle θ must be between 0° and 90°."},
        d: {min:0.25,max:1.50,msg:"Bolt diameter d must be between 0.25 and 1.50 inches."},
        t: {min:0.75,max:12,msg:"Thickness t must be between 0.75 and 12 inches."},
        Fyb: {min:20000,max:120000,msg:"Fyb should be between 20,000 and 120,000 psi. Check bolt specs."},
        n: {min:1,max:100,msg:"Number of bolts n must be an integer between 1 and 100."},
        CM: {min:0.5,max:1.3,msg:"CM should be between 0.50 and 1.30."},
        Ct: {min:0.7,max:1.3,msg:"Ct should be between 0.70 and 1.30."},
        Cg: {min:0.3,max:1.0,msg:"Cg should be between 0.30 and 1.00 (NDS group action)."}
      };

      const validateField = (id) => {
        const el = $(id);
        const errEl = $(id+"Error");
        if (!el || !errEl) return true;
        const v = toNum(el);
        const rule = errors[id];
        let ok = true, msg = "";
        if (rule){
          if (v < rule.min || v > rule.max || Number.isNaN(v)){
            ok = false; msg = rule.msg;
          }
        } else {
          if (Number.isNaN(v)){ ok = false; msg = "Please enter a valid number."; }
        }
        if (!ok){
          el.setAttribute("aria-invalid","true");
          errEl.textContent = msg;
        } else {
          el.removeAttribute("aria-invalid");
          errEl.textContent = "";
        }
        return ok;
      };

      // Tooltips (accessible toggle)
      document.querySelectorAll(".tip-btn").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const id = btn.getAttribute("aria-controls");
          const panel = document.getElementById(id);
          const expanded = btn.getAttribute("aria-expanded")==="true";
          btn.setAttribute("aria-expanded", String(!expanded));
          panel.setAttribute("aria-hidden", String(expanded));
        });
        btn.addEventListener("keydown", (e)=>{
          if(e.key==="Enter"||e.key===" "){ e.preventDefault(); btn.click(); }
        });
      });

      // Bind validation on blur
      ids.forEach(id=>{
        const el = $(id);
        if (!el) return;
        el.addEventListener("blur", ()=>{ validateField(id); compute(); }, {passive:true});
        el.addEventListener("input", ()=>{ compute(); }, {passive:true});
        el.addEventListener("change", ()=>{ compute(); }, {passive:true});
      });

      function compute(){
        // Validate key inputs softly
        const ok = ["G","theta","d","t","Fyb","n"].map(validateField).every(Boolean);
        const G = clamp(toNum($("G")),0.20,0.90);
        const thetaDeg = clamp(toNum($("theta")),0,90);
        const theta = thetaDeg * Math.PI/180;
        const d = clamp(toNum($("d")),0.25,1.50);
        const t = clamp(toNum($("t")),0.75,12);
        const Fyb = clamp(toNum($("Fyb")),20000,120000);
        const n = clamp(Math.round(toNum($("n"))),1,100);
        const CD = parseFloat($("CD").value);
        const CM = clamp(toNum($("CM")),0.5,1.3);
        const Ct = clamp(toNum($("Ct")),0.7,1.3);
        const Cg = clamp(toNum($("Cg")),0.3,1.0);

        // Dowel bearing strength (bolts) per NDS
        const Fe0 = 16600 * Math.pow(G, 1.84);
        const Fe90 = 6230 * Math.pow(G, 1.45);
        const s = Math.sin(theta), c = Math.cos(theta);
        const FeAng = (Fe0*Fe90) / (Fe0*s*s + Fe90*c*c);

        // Yield modes for wood-to-steel single shear (ASD form)
        // ZIm = Fe * d * t
        // ZII = 1.15 * d * t * sqrt(Fyb * Fe)
        // ZIII = 2.30 * d * t * sqrt(Fyb * Fe)
        const ZIm = FeAng * d * t;
        const root = Math.sqrt(Fyb * FeAng);
        const ZII = 1.15 * d * t * root;
        const ZIII = 2.30 * d * t * root;

        const Znom = Math.min(ZIm, ZII, ZIII);
        const mode =
          (Znom === ZIm) ? "Im (bearing in wood)" :
          (Znom === ZII) ? "II (1 hinge)" :
          "III (2 hinges)";

        const Zadj = Znom * CD * CM * Ct;
        const Total = Zadj * n * Cg;

        // Geometry checks (typical minimums; verify per NDS)
        const endDist = toNum($("endDist"));
        const edgeDist = toNum($("edgeDist"));
        const sAlong = toNum($("sAlong"));
        const sAcross = toNum($("sAcross"));

        let geomMsg = "OK";
        const reqEnd = 7*d, reqEdge = 4*d, reqAlong = 4*d, reqAcross = 4*d;
        const issues = [];
        if (endDist && endDist < reqEnd) issues.push(`end < 7d (${reqEnd.toFixed(2)} in)`);
        if (edgeDist && edgeDist < reqEdge) issues.push(`edge < 4d (${reqEdge.toFixed(2)} in)`);
        if (sAlong && sAlong < reqAlong) issues.push(`spacing∥ < 4d (${reqAlong.toFixed(2)} in)`);
        if (sAcross && sAcross < reqAcross) issues.push(`spacing⊥ < 4d (${reqAcross.toFixed(2)} in)`);
        if (issues.length) geomMsg = "Check: " + issues.join("; ");

        // Write outputs
        $("Fe0Out").textContent = fmtPsi(Fe0);
        $("Fe90Out").textContent = fmtPsi(Fe90);
        $("FeAngOut").textContent = fmtPsi(FeAng);
        $("modesOut").textContent = `Im=${fmtLbs(ZIm)} | II=${fmtLbs(ZII)} | III=${fmtLbs(ZIII)} → Governing: ${mode}`;
        $("ZnomOut").textContent = `${fmtLbs(Znom)} (${fmtKn(Znom)})`;
        $("ZadjOut").textContent = `${fmtLbs(Zadj)} (${fmtKn(Zadj)})`;
        $("TotalOut").textContent = `${fmtLbs(Total)} (${fmtKn(Total)})`;
        $("GeomOut").textContent = geomMsg;

        // Accessibility hints
        if (!ok){
          // focus first invalid only on submit actions; here we just compute silently
        }
      }

      // Initialize
      compute();

      // Prevent Enter from submitting and causing page jump
      $("boltForm").addEventListener("submit",(e)=>e.preventDefault());
    })();
  </script>
  <!-- MathJax for LaTeX rendering (deferred, non-blocking) -->
  <script crossorigin="anonymous" defer="" id="MathJax-script" integrity="sha384-wyyf1l0nJzQq6pPZCkKXWnhuPFA+fK5lBY9GkkKqUjQ/Kp2z6y4t9F7Tz3gHscdV" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <script defer="" src="/assets/js/mobile-menu.js">
  </script>
  <script defer="" src="/assets/js/page-enhancements.js">
  </script>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
