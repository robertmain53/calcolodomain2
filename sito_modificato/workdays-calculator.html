<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/workdays-calculator" rel="canonical"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Workdays Calculator - Calculate Business Days
  </title>
  <meta content="Calculate the number of workdays, weekends, and holidays between two dates. Easily add or subtract business days from a start date." name="description"/>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.prose code {
background-color: #f3f4f6;
padding: 0.15rem 0.4rem;
border-radius: 4px;
font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
font-size: 0.9em;
}
.prose pre {
background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem;
overflow-x: auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Result Card Styles */
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.05em; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
#results-container { min-height: 10rem; } /* Prevents CLS */

/* Form Control Styles */
.form-input, .form-select {
display: block; width: 100%;
margin-top: 0.25rem;
padding: 0.75rem 0.75rem; /* 48px target size with padding */
border: 1px solid #d1d5db;
border-radius: 0.375rem;
box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-input:focus, .form-select:focus {
outline: none;
border-color: #2563eb;
box-shadow: 0 0 0 3px rgb(37 99 235 / 0.25);
}
.form-label { display: block; text-sm font-medium text-gray-700; }
.form-label-required::after { content: '*'; color: #ef4444; margin-left: 0.25rem; }

/* Error Message Styles */
.error-message { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }
.form-input[aria-invalid="true"] { border-color: #dc2626; }

/* Accessible Tooltip Button */
.tooltip-toggle {
display: inline-flex;
align-items: center;
justify-content: center;
width: 1.25rem; height: 1.25rem; /* 20px */
border-radius: 9999px;
border: 1px solid #9ca3af;
background: #f9fafb;
color: #6b7280;
font-weight: 700;
font-size: 0.75rem;
margin-left: 0.25rem;
cursor: pointer;
}
.tooltip-toggle:hover { background: #f3f4f6; }
.tooltip-content {
display: none;
background: #1f2937;
color: #f9fafb;
padding: 0.5rem 0.75rem;
border-radius: 0.375rem;
font-size: 0.875rem;
margin-top: 0.25rem;
position: relative;
}
.tooltip-content[role="tooltip"]::after {
content: "";
position: absolute;
bottom: 100%;
left: 1rem;
border-width: 5px;
border-style: solid;
border-color: transparent transparent #1f2937 transparent;
}

/* Calculator Tab Styles */
[role="tab"] {
padding: 0.75rem 1rem;
font-weight: 500;
color: #6b7280;
border-bottom: 2px solid transparent;
cursor: pointer;
}
[role="tab"][aria-selected="true"] {
color: #2563eb;
border-bottom-color: #2563eb;
}
[role="tabpanel"] {
padding-top: 1.5rem;
border-top: 1px solid #e5e7eb;
}
[role="tabpanel"][hidden] { display: none; }

/* Print Styles */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#calculator-ui, .prose { page-break-before: always; }
}
  </style>
  <script type="application/ld+json">
   {
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Workdays Calculator - Calculate Business Days",
"description": "Calculate the number of workdays, weekends, and holidays between two dates. Easily add or subtract business days from a start date.",
"url": "https://calcdomain.com/workdays-calculator",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
  </script>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Lifestyle & Everyday",
      "item": "https://calcdomain.com/lifestyle-everyday"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Time & Date",
      "item": "https://calcdomain.com/subcategories/time-date"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Workdays Calculator",
      "item": "https://calcdomain.com/workdays-calculator"
    }
  ]
}
  </script>
  <script type="application/ld+json">
   {
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Use the Workdays Calculator",
"description": "A step-by-step guide to calculating workdays, excluding weekends and holidays.",
"step": [
{"@type": "HowToStep", "name": "Select Mode", "text": "Choose 'Count Workdays' to find the duration between two dates, or 'Add/Subtract Days' to find a new date."},
{"@type": "HowToStep", "name": "Enter Dates", "text": "Input your start date and end date, or the number of days to add/subtract."},
{"@type": "HowToStep", "name": "Define Weekend", "text": "Check the boxes for your regular non-working days (e.g., Saturday and Sunday)."},
{"@type": "HowToStep", "name": "Add Holidays (Optional)", "text": "Expand the 'Custom Holidays' section and enter any specific dates to exclude, one per line, in YYYY-MM-DD format."},
{"@type": "HowToStep", "name": "Review Results", "text": "Press 'Calculate' to see the total workdays, weekend days, and holidays, or the final resulting date."}
]
}
  </script>
  <script defer="" src="search.js">
  </script>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-10">
        <div class="flex flex-col lg:flex-row gap-8">
         <section class="w-full lg:w-2/3">
          <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
           <a class="hover:text-blue-600" href="https://calcdomain.com">
            Home
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/lifestyle-everyday">
            Lifestyle &amp; Everyday
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/subcategories/time-date">
            Time &amp; Date
           </a>
           »
           <span class="text-gray-900">
            Workdays Calculator
           </span>
          </nav>
          <div class="bg-white p-6 rounded-lg shadow-md" id="print-section">
           <h1 class="text-3xl font-extrabold text-gray-900 mb-2">
            Workdays Calculator
           </h1>
           <p class="text-gray-600 mb-6">
            Quickly calculate the number of working days between two dates. This tool accounts for weekends and custom holidays, making it perfect for project planning, payroll, and deadline tracking. You can also add or subtract a set number of business days from any date.
           </p>
           <section aria-label="Calculator Interface" id="calculator-ui">
            <form id="workday-form" novalidate="">
             <div aria-label="Calculator Modes" class="flex border-b border-gray-200" role="tablist">
              <button aria-controls="panel-count" aria-selected="true" class="focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded-t-md" id="tab-count" role="tab" type="button">
               Count Workdays
              </button>
              <button aria-controls="panel-add" aria-selected="false" class="focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded-t-md" id="tab-add" role="tab" tabindex="-1" type="button">
               Add/Subtract Days
              </button>
             </div>
             <div aria-labelledby="tab-count" id="panel-count" role="tabpanel">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
               <div>
                <label class="form-label form-label-required" for="startDate">
                 Start Date
                </label>
                <input aria-describedby="startDate-error" aria-required="true" class="form-input" id="startDate" type="date"/>
                <p aria-live="polite" class="error-message" id="startDate-error">
                </p>
               </div>
               <div>
                <label class="form-label form-label-required" for="endDate">
                 End Date
                </label>
                <input aria-describedby="endDate-error" aria-required="true" class="form-input" id="endDate" type="date"/>
                <p aria-live="polite" class="error-message" id="endDate-error">
                </p>
               </div>
               <div class="md:col-span-2">
                <fieldset>
                 <legend class="form-label mb-2">
                  Date Inclusion Options
                 </legend>
                 <div class="flex flex-wrap gap-x-6 gap-y-2">
                  <div class="relative flex items-center">
                   <input class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" id="includeStart" style="min-width: 1.25rem;" type="checkbox"/>
                   <label class="ml-2 text-sm text-gray-700" for="includeStart">
                    Include Start Date
                   </label>
                  </div>
                  <div class="relative flex items-center">
                   <input checked="" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" id="includeEnd" style="min-width: 1.25rem;" type="checkbox"/>
                   <label class="ml-2 text-sm text-gray-700" for="includeEnd">
                    Include End Date
                   </label>
                  </div>
                 </div>
                </fieldset>
               </div>
              </div>
             </div>
             <div aria-labelledby="tab-add" hidden="" id="panel-add" role="tabpanel">
              <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-5">
               <div>
                <label class="form-label form-label-required" for="calcStartDate">
                 Start Date
                </label>
                <input aria-describedby="calcStartDate-error" aria-required="true" class="form-input" id="calcStartDate" type="date"/>
                <p aria-live="polite" class="error-message" id="calcStartDate-error">
                </p>
               </div>
               <div>
                <label class="form-label" for="calcOperation">
                 Operation
                </label>
                <select class="form-select" id="calcOperation">
                 <option selected="" value="add">
                  Add
                 </option>
                 <option value="subtract">
                  Subtract
                 </option>
                </select>
               </div>
               <div>
                <label class="form-label form-label-required" for="calcDays">
                 Workdays
                </label>
                <input aria-describedby="calcDays-error" aria-required="true" class="form-input" id="calcDays" min="0" step="1" type="number" value="10"/>
                <p aria-live="polite" class="error-message" id="calcDays-error">
                </p>
               </div>
              </div>
             </div>
             <div class="space-y-6 mt-6 pt-6 border-t border-gray-200">
              <fieldset>
               <legend class="form-label font-semibold">
                Define Weekend
               </legend>
               <p class="text-sm text-gray-500 mb-3">
                Select the days of the week to be excluded as non-working days.
               </p>
               <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-x-4 gap-y-3">
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="0" id="day-0" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-0">
                  Sunday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="1" id="day-1" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-1">
                  Monday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="2" id="day-2" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-2">
                  Tuesday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="3" id="day-3" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-3">
                  Wednesday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="4" id="day-4" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-4">
                  Thursday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="5" id="day-5" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-5">
                  Friday
                 </label>
                </div>
                <div class="relative flex items-center">
                 <input checked="" class="weekend-day h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" data-day="6" id="day-6" style="min-width: 1.25rem;" type="checkbox"/>
                 <label class="ml-2 text-sm text-gray-700" for="day-6">
                  Saturday
                 </label>
                </div>
                <script>
                 document.addEventListener('DOMContentLoaded', () => {
const sun = document.getElementById('day-0').parentElement;
sun.parentElement.appendChild(sun);
document.getElementById('day-0').checked = true; // Check Sunday by default
});
                </script>
               </div>
              </fieldset>
              <details>
               <summary class="text-sm font-semibold text-gray-800">
                Custom Holidays (Optional)
               </summary>
               <div class="mt-2">
                <div class="flex items-center">
                 <label class="form-label" for="holidays">
                  Enter holidays (one per line)
                 </label>
                 <button aria-controls="holidays-help-content" aria-expanded="false" aria-label="More info on holiday format" class="tooltip-toggle" id="holidays-help-toggle" type="button">
                  ?
                 </button>
                </div>
                <div class="tooltip-content" id="holidays-help-content" role="tooltip">
                 Use the
                 <strong>
                  YYYY-MM-DD
                 </strong>
                 format (e.g., 2025-12-25 for Christmas).
                </div>
                <textarea aria-describedby="holidays-hint holidays-help-content" class="form-input" id="holidays" placeholder="2025-01-01
2025-12-25" rows="5"></textarea>
                <p class="text-xs text-gray-500 mt-1" id="holidays-hint">
                 Dates entered here will be excluded from the workday count.
                </p>
               </div>
              </details>
             </div>
             <div class="mt-8 flex flex-col sm:flex-row gap-4">
              <button class="w-full sm:w-auto px-8 py-3 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" id="calculateBtn" style="min-height: 48px;" type="submit">
               Calculate
              </button>
              <button class="w-full sm:w-auto px-6 py-3 bg-white text-gray-700 font-medium border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" id="resetBtn" style="min-height: 48px;" type="reset">
               Reset
              </button>
             </div>
            </form>
           </section>
           <section aria-live="polite" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" id="results-container">
            <div class="hidden" id="results-count">
             <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="result-card">
               <h4>
                Total Workdays
               </h4>
               <p id="res-workdays">
                0
               </p>
              </div>
              <div class="result-card">
               <h4>
                Weekend Days
               </h4>
               <p id="res-weekends">
                0
               </p>
              </div>
              <div class="result-card">
               <h4>
                Holidays
               </h4>
               <p id="res-holidays">
                0
               </p>
              </div>
              <div class="result-card">
               <h4>
                Total Duration
               </h4>
               <p id="res-duration">
                0 days
               </p>
              </div>
             </div>
            </div>
            <div class="hidden" id="results-add">
             <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="result-card md:col-span-2">
               <h4>
                Resulting Date
               </h4>
               <p id="res-date">
                —
               </p>
              </div>
             </div>
            </div>
            <p class="text-center text-gray-500" id="results-placeholder">
             Enter your data and press "Calculate" to see the results.
            </p>
           </section>
          </div>
          <article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
           <h2>
            Data Source and Methodology
           </h2>
           <p>
            This tool's date calculations are based on the
            <strong>
             Gregorian calendar
            </strong>
            , the international standard for civil use. All date representations and weekday calculations conform to the
            <strong>
             ISO 8601
            </strong>
            standard.
           </p>
           <p>
            All calculations are performed using a precise day-by-day iteration algorithm. The calculator loops through each day in the specified range and checks it against two user-defined sets of rules:
           </p>
           <ol>
            <li>
             <strong>
              Weekend Days:
             </strong>
             A list of days of the week (e.g., Saturday, Sunday) to exclude.
            </li>
            <li>
             <strong>
              Holidays:
             </strong>
             A specific list of calendar dates (e.g., 2025-12-25) to exclude.
            </li>
           </ol>
           A day is counted as a "workday" only if it is
           <strong>
            not
           </strong>
           a weekend day and
           <strong>
            not
           </strong>
           a holiday.
           <h2>
            The Algorithm Explained
           </h2>
           <p>
            A simple mathematical formula is not sufficient for this task due to the variable nature of weekends and holidays. A rough estimation can be made with LaTeX:
$N_{workdays} \approx \lfloor \Delta_{days} \times \frac{5}{7} \rfloor - N_{holidays}$
(Where $\Delta_{days}$ is the total days and $N_{holidays}$ is holidays on weekdays).
           </p>
           <p>
            This calculator
            <strong>
             does not use that estimation
            </strong>
            . It uses a precise iterative algorithm, represented in pseudocode below, to ensure 100% accuracy.
           </p>
           <h3>
            Algorithm for Counting Workdays
           </h3>
           <pre><code>function countWorkdays(startDate, endDate, weekends, holidays):
  workdayCount = 0
  currentDate = startDate

  while currentDate &lt;= endDate:
    dayOfWeek = getDay(currentDate)
    isHoliday = holidays.contains(currentDate)
    isWeekend = weekends.contains(dayOfWeek)

    if NOT isWeekend and NOT isHoliday:
      workdayCount = workdayCount + 1
    
    currentDate = addOneDay(currentDate)
  
  return workdayCount
</code></pre>
           <h3>
            Algorithm for Adding Workdays
           </h3>
           <pre><code>function addWorkdays(startDate, daysToAdd, weekends, holidays):
  workdayCount = 0
  currentDate = startDate

  while workdayCount &lt; daysToAdd:
    currentDate = addOneDay(currentDate)
    dayOfWeek = getDay(currentDate)
    isHoliday = holidays.contains(currentDate)
    isWeekend = weekends.contains(dayOfWeek)

    if NOT isWeekend and NOT isHoliday:
      workdayCount = workdayCount + 1
  
  return currentDate
</code></pre>
           <h2>
            Glossary of Variables
           </h2>
           <ul>
            <li>
             <strong>
              Start Date:
             </strong>
             The first day of the period, or the day from which to add/subtract.
            </li>
            <li>
             <strong>
              End Date:
             </strong>
             The last day of the period.
            </li>
            <li>
             <strong>
              Include Start/End Date:
             </strong>
             Checkboxes to determine if the start and end dates themselves should be part of the calculation. By default, we include the end date but not the start date (common for "time until" calculations).
            </li>
            <li>
             <strong>
              Workdays (to Add/Subtract):
             </strong>
             The number of business days to project forward or backward.
            </li>
            <li>
             <strong>
              Weekend Days:
             </strong>
             Days of the week to exclude from all calculations.
            </li>
            <li>
             <strong>
              Holidays:
             </strong>
             Specific calendar dates to exclude. These are treated as non-working days, even if they fall on a weekday.
            </li>
            <li>
             <strong>
              Total Workdays:
             </strong>
             The final count of days that are neither weekends nor holidays.
            </li>
           </ul>
           <h2>
            How It Works: A Step-by-Step Example
           </h2>
           <p>
            Let's calculate the workdays for a project starting on
            <strong>
             Monday, December 22, 2025
            </strong>
            , and ending on
            <strong>
             Friday, January 2, 2026
            </strong>
            . We want to include both the start and end dates in our count.
           </p>
           <ul>
            <li>
             <strong>
              Start Date:
             </strong>
             2025-12-22
            </li>
            <li>
             <strong>
              End Date:
             </strong>
             2026-01-02
            </li>
            <li>
             <strong>
              Include Start Date:
             </strong>
             Yes
            </li>
            <li>
             <strong>
              Include End Date:
             </strong>
             Yes
            </li>
            <li>
             <strong>
              Weekends:
             </strong>
             Saturday, Sunday
            </li>
            <li>
             <strong>
              Holidays:
             </strong>
             2025-12-25 (Christmas Day), 2026-01-01 (New Year's Day)
            </li>
           </ul>
           <p>
            The algorithm will iterate as follows:
           </p>
           <div class="overflow-x-auto">
            <table class="min-w-full text-sm">
             <thead class="bg-gray-100">
              <tr>
               <th class="px-4 py-2 text-left">
                Date
               </th>
               <th class="px-4 py-2 text-left">
                Day of Week
               </th>
               <th class="px-4 py-2 text-left">
                Type
               </th>
               <th class="px-4 py-2 text-left">
                Is Workday?
               </th>
               <th class="px-4 py-2 text-left">
                Count
               </th>
              </tr>
             </thead>
             <tbody>
              <tr>
               <td class="px-4 py-2">
                Dec 22, 2025
               </td>
               <td class="px-4 py-2">
                Monday
               </td>
               <td class="px-4 py-2">
                Start Date
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                1
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 23, 2025
               </td>
               <td class="px-4 py-2">
                Tuesday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                2
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 24, 2025
               </td>
               <td class="px-4 py-2">
                Wednesday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                3
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2 bg-yellow-50">
                Dec 25, 2025
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                Thursday
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                Holiday
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                No
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                -
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 26, 2025
               </td>
               <td class="px-4 py-2">
                Friday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                4
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2 bg-gray-50">
                Dec 27, 2025
               </td>
               <td class="px-4 py-2 bg-gray-50">
                Saturday
               </td>
               <td class="px-4 py-2 bg-gray-50">
                Weekend
               </td>
               <td class="px-4 py-2 bg-gray-50">
                No
               </td>
               <td class="px-4 py-2 bg-gray-50">
                -
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2 bg-gray-50">
                Dec 28, 2025
               </td>
               <td class="px-4 py-2 bg-gray-50">
                Sunday
               </td>
               <td class="px-4 py-2 bg-gray-50">
                Weekend
               </td>
               <td class="px-4 py-2 bg-gray-50">
                No
               </td>
               <td class="px-4 py-2 bg-gray-50">
                -
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 29, 2025
               </td>
               <td class="px-4 py-2">
                Monday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                5
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 30, 2025
               </td>
               <td class="px-4 py-2">
                Tuesday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                6
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Dec 31, 2025
               </td>
               <td class="px-4 py-2">
                Wednesday
               </td>
               <td class="px-4 py-2">
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                7
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2 bg-yellow-50">
                Jan 1, 2026
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                Thursday
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                Holiday
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                No
               </td>
               <td class="px-4 py-2 bg-yellow-50">
                -
               </td>
              </tr>
              <tr>
               <td class="px-4 py-2">
                Jan 2, 2026
               </td>
               <td class="px-4 py-2">
                Friday
               </td>
               <td class="px-4 py-2">
                End Date
               </td>
               <td class="px-4 py-2">
                Yes
               </td>
               <td class="px-4 py-2">
                8
               </td>
              </tr>
             </tbody>
            </table>
           </div>
           <p class="mt-4">
            <strong>
             Result:
            </strong>
            The total count is
            <strong>
             8 workdays
            </strong>
            .
           </p>
           <h2>
            Frequently Asked Questions (FAQ)
           </h2>
           <details>
            <summary>
             How do I count inclusively of the start and end dates?
            </summary>
            <p>
             In the "Count Workdays" tab, check both the "Include Start Date" and "Include End Date" boxes. This will count both the first and last day if they are workdays.
            </p>
           </details>
           <details>
            <summary>
             What format must I use for holidays?
            </summary>
            <p>
             You must use the ISO 8601 format:
             <strong>
              YYYY-MM-DD
             </strong>
             . For example,
             <code>
              2025-07-04
             </code>
             . Each holiday must be on its own line in the text box.
            </p>
           </details>
           <details>
            <summary>
             Does this calculator handle leap years?
            </summary>
            <p>
             Yes. The calculator uses the standard Gregorian calendar, which correctly accounts for leap years (like February 29th). All date iterations are accurate.
            </p>
           </details>
           <details>
            <summary>
             Can I define a 4-day work week?
            </summary>
            <p>
             Yes. In the "Define Weekend" section, simply check the boxes for the days you do
             <em>
              not
             </em>
             work. For example, to set a Monday-Thursday work week, you would check Friday, Saturday, and Sunday.
            </p>
           </details>
           <details>
            <summary>
             What time zone is used for calculations?
            </summary>
            <p>
             The calculator operates on calendar dates (midnight to midnight) without respect to time zones. When you enter '2025-12-25', it is treated as that full calendar day. This avoids confusion and errors related to local time zones or Daylight Saving Time.
            </p>
           </details>
           <details>
            <summary>
             What happens if a holiday falls on a weekend?
            </summary>
            <p>
             The day will be counted as a single "non-workday." Our algorithm first checks if a day is a weekend, then checks if it's a holiday. In the results, it will be counted as a "Weekend Day" and will not be double-counted as a holiday.
            </p>
           </details>
           <div class="mt-8 pt-6 border-t border-gray-200 text-sm text-gray-600">
            <p>
             <strong>
              Tool developed by Ugo Candido.
             </strong>
             Content verified by the CalcDomain Editorial Board.
             <br/>
             Last accuracy review:
             <time datetime="2025-10-26">
              October 26, 2025
             </time>
            </p>
           </div>
          </article>
         </section>
         <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-6">
           <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
            Ad Placement (300×250 or 300x600)
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-3">
             Why Use This Calculator
            </h3>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
             <li>
              <strong>
               Flexible Weekend:
              </strong>
              Define your work week, whether it's 5 days, 4 days, or irregular.
             </li>
             <li>
              <strong>
               Custom Holidays:
              </strong>
              Add your specific company, statutory, or regional holidays.
             </li>
             <li>
              <strong>
               Two-in-One Tool:
              </strong>
              Count the duration *between* dates or project a future date.
             </li>
             <li>
              <strong>
               100% Accurate:
              </strong>
              Uses a day-by-day iteration algorithm, not an estimation.
             </li>
            </ul>
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-4">
             Related Time &amp; Date Tools
            </h3>
            <ul class="space-y-3 text-sm">
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/date-calculator">
               Date Calculator (Add/Subtract Days)
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/age-calculator">
               Age Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/time-calculator">
               Time Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/project-deadline-calculator">
               Project Deadline Calculator
              </a>
             </li>
            </ul>
           </div>
          </div>
         </aside>
        </div>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
// --- DOM Element References ---
const form = document.getElementById('workday-form');
const tabs = {
count: document.getElementById('tab-count'),
add: document.getElementById('tab-add')
};
const panels = {
count: document.getElementById('panel-count'),
add: document.getElementById('panel-add')
};
const inputs = {
startDate: document.getElementById('startDate'),
endDate: document.getElementById('endDate'),
includeStart: document.getElementById('includeStart'),
includeEnd: document.getElementById('includeEnd'),
calcStartDate: document.getElementById('calcStartDate'),
calcOperation: document.getElementById('calcOperation'),
calcDays: document.getElementById('calcDays'),
holidays: document.getElementById('holidays'),
weekendDays: document.querySelectorAll('.weekend-day')
};
const results = {
container: document.getElementById('results-container'),
count: document.getElementById('results-count'),
add: document.getElementById('results-add'),
placeholder: document.getElementById('results-placeholder'),
workdays: document.getElementById('res-workdays'),
weekends: document.getElementById('res-weekends'),
holidays: document.getElementById('res-holidays'),
duration: document.getElementById('res-duration'),
date: document.getElementById('res-date')
};
const buttons = {
calculate: document.getElementById('calculateBtn'),
reset: document.getElementById('resetBtn'),
holidaysHelp: document.getElementById('holidays-help-toggle')
};
const tooltips = {
holidays: document.getElementById('holidays-help-content')
};

let activeTab = 'count';

// --- Date Utility Functions (UTC) ---
// These functions use UTC to avoid all timezone-related issues.
// A "day" is treated as a calendar date, not a 24-hour period affected by DST or local TZ.

/**
* Parses a "YYYY-MM-DD" string into a UTC Date object.
* @param {string} str - The date string in "YYYY-MM-DD" format.
* @returns {Date} A Date object set to 00:00:00 UTC for that date.
*/
const parseUTCDate = (str) => {
const [y, m, d] = str.split('-').map(Number);
return new Date(Date.UTC(y, m - 1, d));
};

/**
* Formats a Date object back to a "YYYY-MM-DD" string.
* @param {Date} date - The Date object.
* @returns {string} The date string in "YYYY-MM-DD" format.
*/
const toYYYYMMDD = (date) => {
return date.toISOString().split('T')[0];
};

/**
* Adds a number of days to a UTC Date object.
* @param {Date} date - The starting Date object.
*MS {number} days - The number of days to add (can be negative).
* @returns {Date} A new Date object with the days added.
*/
const addUTCDays = (date, days) => {
const newDate = new Date(date.getTime());
newDate.setUTCDate(newDate.getUTCDate() + days);
return newDate;
};

/**
* Gets the UTC day of the week (0 = Sunday, 1 = Monday, ..., 6 = Saturday).
* @param {Date} date - The Date object.
* @returns {number} The day of the week.
*/
const getUTCDay = (date) => {
return date.getUTCDay();
};

/**
* Calculates the difference in days between two UTC dates.
* @param {Date} dateA - The first date.
* @param {Date} dateB - The second date.
* @returns {number} The total number of days.
*/
const diffUTCDays = (dateA, dateB) => {
const MS_PER_DAY = 1000 * 60 * 60 * 24;
return Math.round((dateB - dateA) / MS_PER_DAY);
};

// --- Form & UI Logic ---

/**
* Handles switching between calculator tabs.
* @param {string} newTabName - The name of the tab to switch to ('count' or 'add').
*/
function switchTab(newTabName) {
activeTab = newTabName;

// Update tabs
tabs.count.setAttribute('aria-selected', newTabName === 'count');
tabs.count.setAttribute('tabindex', newTabName === 'count' ? '0' : '-1');
tabs.add.setAttribute('aria-selected', newTabName === 'add');
tabs.add.setAttribute('tabindex', newTabName === 'add' ? '0' : '-1');

// Update panels
panels.count.toggleAttribute('hidden', newTabName !== 'count');
panels.add.toggleAttribute('hidden', newTabName !== 'add');

// Reset results
results.count.classList.add('hidden');
results.add.classList.add('hidden');
results.placeholder.classList.remove('hidden');

clearAllErrors();
}

/**
* Keyboard navigation for tabs.
* @param {KeyboardEvent} e - The keyboard event.
*/
function handleTabKeydown(e) {
switch (e.key) {
case 'ArrowRight':
switchTab('add');
tabs.add.focus();
break;
case 'ArrowLeft':
switchTab('count');
tabs.count.focus();
break;
case 'Home':
e.preventDefault();
switchTab('count');
tabs.count.focus();
break;
case 'End':
e.preventDefault();
switchTab('add');
tabs.add.focus();
break;
}
}

/**
* Toggles the accessible tooltip for the holidays input.
*/
function toggleHelpTooltip() {
const isExpanded = buttons.holidaysHelp.getAttribute('aria-expanded') === 'true';
buttons.holidaysHelp.setAttribute('aria-expanded', !isExpanded);
tooltips.holidays.style.display = isExpanded ? 'none' : 'block';
}

// --- Validation Logic ---

/**
* Displays an error message for a specific input.
* @param {HTMLElement} inputEl - The input element.
* @param {string} message - The error message to display.
*/
function showError(inputEl, message) {
inputEl.setAttribute('aria-invalid', 'true');
const errorEl = document.getElementById(inputEl.getAttribute('aria-describedby'));
if (errorEl) {
errorEl.textContent = message;
}
}

/**
* Clears all validation errors from the form.
*/
function clearAllErrors() {
document.querySelectorAll('[aria-invalid="true"]').forEach(el => {
el.setAttribute('aria-invalid', 'false');
});
document.querySelectorAll('.error-message').forEach(el => {
el.textContent = '';
});
}

/**
* Validates the form inputs based on the active tab.
* @returns {boolean} True if the form is valid, false otherwise.
*/
function validateForm() {
clearAllErrors();
let isValid = true;
const today = toYYYYMMDD(new Date()); // For default values if needed

if (activeTab === 'count') {
if (!inputs.startDate.value) {
showError(inputs.startDate, 'Start Date is required.');
isValid = false;
}
if (!inputs.endDate.value) {
showError(inputs.endDate, 'End Date is required.');
isValid = false;
}
if (isValid && inputs.startDate.value > inputs.endDate.value) {
showError(inputs.endDate, 'End Date must be after Start Date.');
isValid = false;
}
} else { // 'add' tab
if (!inputs.calcStartDate.value) {
showError(inputs.calcStartDate, 'Start Date is required.');
isValid = false;
}
const days = parseInt(inputs.calcDays.value, 10);
if (isNaN(days) || days < 0) {
showError(inputs.calcDays, 'Must be a positive number.');
isValid = false;
}
}
return isValid;
}

// --- Data Parsing ---

/**
* Gets the set of weekend days (0-6).
* @returns {Set<number>} A Set of numbers representing weekend days.
*/
function getWeekends() {
const weekends = new Set();
inputs.weekendDays.forEach(cb => {
if (cb.checked) {
weekends.add(parseInt(cb.dataset.day, 10));
}
});
return weekends;
}

/**
* Gets the set of holiday date strings.
* @returns {Set<string>} A Set of "YYYY-MM-DD" holiday strings.
*/
function getHolidays() {
const holidays = new Set();
inputs.holidays.value
.split('\n')
.map(line => line.trim())
.filter(line => /^\d{4}-\d{2}-\d{2}$/.test(line))
.forEach(dateStr => holidays.add(dateStr));
return holidays;
}

// --- Core Calculation Logic ---

/**
* Checks if a given date is a workday.
* @param {Date} date - The UTC Date object to check.
* @param {Set<number>} weekends - The set of weekend days.
* @param {Set<string>} holidays - The set of holiday strings.
* @returns {Object} An object { isWorkday: boolean, reason: 'weekend' | 'holiday' | null }
*/
function checkDay(date, weekends, holidays) {
const dayOfWeek = getUTCDay(date);
if (weekends.has(dayOfWeek)) {
return { isWorkday: false, reason: 'weekend' };
}
const dateString = toYYYYMMDD(date);
if (holidays.has(dateString)) {
return { isWorkday: false, reason: 'holiday' };
}
return { isWorkday: true, reason: null };
}

/**
* Handles the main form submission.
* @param {Event} e - The submit event.
*/
function handleSubmit(e) {
e.preventDefault();
if (!validateForm()) {
return;
}

const weekends = getWeekends();
const holidays = getHolidays();

if (activeTab === 'count') {
calculateCount(weekends, holidays);
} else {
calculateAddSubtract(weekends, holidays);
}

// Show results
results.placeholder.classList.add('hidden');
results.container.focus(); // Move focus to results
}

/**
* Calculates and displays results for "Count Workdays" mode.
* @param {Set<number>} weekends - The set of weekend days.
* @param {Set<string>} holidays - The set of holiday strings.
*/
function calculateCount(weekends, holidays) {
let startDate = parseUTCDate(inputs.startDate.value);
let endDate = parseUTCDate(inputs.endDate.value);

if (!inputs.includeStart.checked) {
startDate = addUTCDays(startDate, 1);
}
if (!inputs.includeEnd.checked) {
endDate = addUTCDays(endDate, -1);
}

let workdays = 0;
let weekendDays = 0;
let holidayCount = 0;

if (startDate > endDate) {
// Dates are invalid after inclusion logic, show 0 results
results.workdays.textContent = 0;
results.weekends.textContent = 0;
results.holidays.textContent = 0;
results.duration.textContent = '0 days';
} else {
const totalDuration = diffUTCDays(startDate, endDate) + 1;
let currentDate = new Date(startDate.getTime());

for (let i = 0; i < totalDuration; i++) {
const { isWorkday, reason } = checkDay(currentDate, weekends, holidays);
if (isWorkday) {
workdays++;
} else if (reason === 'weekend') {
weekendDays++;
} else if (reason === 'holiday') {
holidayCount++;
}
currentDate = addUTCDays(currentDate, 1);
}

// Display results
results.workdays.textContent = workdays;
results.weekends.textContent = weekendDays;
results.holidays.textContent = holidayCount;
results.duration.textContent = `${totalDuration} ${totalDuration === 1 ? 'day' : 'days'}`;
}

results.count.classList.remove('hidden');
results.add.classList.add('hidden');
}

/**
* Calculates and displays results for "Add/Subtract Days" mode.
* @param {Set<number>} weekends - The set of weekend days.
* @param {Set<string>} holidays - The set of holiday strings.
*/
function calculateAddSubtract(weekends, holidays) {
let currentDate = parseUTCDate(inputs.calcStartDate.value);
const daysToMove = parseInt(inputs.calcDays.value, 10);
const direction = (inputs.calcOperation.value === 'add') ? 1 : -1;

let workdaysMoved = 0;
while (workdaysMoved < daysToMove) {
currentDate = addUTCDays(currentDate, direction);
const { isWorkday } = checkDay(currentDate, weekends, holidays);
if (isWorkday) {
workdaysMoved++;
}
}

// Format the final date for display
const finalDate = toYYYYMMDD(currentDate);
const displayDate = new Date(finalDate + 'T00:00:00'); // Use local time for formatting
const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
results.date.textContent = displayDate.toLocaleDateString(undefined, options);

results.add.classList.remove('hidden');
results.count.classList.add('hidden');
}

/**
* Resets the form and results to their default state.
*/
function handleReset() {
form.reset();
clearAllErrors();

// Manually reset defaults that reset() doesn't handle well
inputs.weekendDays.forEach(cb => {
const day = cb.dataset.day;
cb.checked = (day === '0' || day === '6'); // Default Sun, Sat
});
inputs.includeEnd.checked = true;

switchTab('count');
results.count.classList.add('hidden');
results.add.classList.add('hidden');
results.placeholder.classList.remove('hidden');
}

// --- Event Listeners ---
tabs.count.addEventListener('click', () => switchTab('count'));
tabs.add.addEventListener('click', () => switchTab('add'));
tabs.count.parentElement.addEventListener('keydown', handleTabKeydown);
buttons.holidaysHelp.addEventListener('click', toggleHelpTooltip);
form.addEventListener('submit', handleSubmit);
form.addEventListener('reset', handleReset);
});
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
