<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="canonical" href="https://calcdomain.com/barns-to-square-meters">
  <title>Barns to Square Meters Converter (b → m²) | CalcDomain</title>
  <meta name="description" content="Convert barns to square meters instantly. 1 barn = 1 × 10⁻²⁸ m². Includes millibarns, microbarns, femtobarns and reverse conversion m² to barns, plus nuclear/particle-physics context.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Barns to Square Meters Converter (b → m²) | CalcDomain">
  <meta property="og:description" content="Convert barns to square meters instantly. 1 barn = 1 × 10⁻²⁸ m². Includes millibarns, microbarns, femtobarns and reverse conversion m² to barns, plus nuclear/particle-physics context.">
  <meta property="og:url" content="https://calcdomain.com/barns-to-square-meters">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Barns to Square Meters Converter (b → m²) | CalcDomain">
  <meta name="twitter:description" content="Convert barns to square meters instantly. 1 barn = 1 × 10⁻²⁸ m². Includes millibarns, microbarns, femtobarns and reverse conversion m² to barns, plus nuclear/particle-physics context.">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      margin: 0;
      background: #f8fafc;
      color: #0f172a;
    }
    .container {
      max-width: 1200px;
    }
    .card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.05);
    }
    .calc-hero {
      display: grid;
      gap: 1.5rem;
    }
    @media (min-width: 1024px) {
      .calc-hero {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
    .sticky-box {
      position: sticky;
      top: 1rem;
    }
    .calc-input {
      width: 100%;
      padding: 0.75rem 0.85rem;
      border-radius: 0.65rem;
      border: 1px solid #cbd5f5;
      font-size: 0.95rem;
      background: #fff;
    }
    .calc-input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
    }
    .calc-label {
      display: block;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 0.35rem;
      color: #475569;
    }
    .result-box {
      background: linear-gradient(135deg, #ecfeff 0%, #dbeafe 100%);
      border: 1px solid #bae6fd;
      border-radius: 1rem;
      padding: 1.5rem;
      text-align: center;
    }
    .result-value {
      font-size: 2.25rem;
      font-weight: 800;
      color: #1d4ed8;
    }
    .kpi-row {
      display: flex;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid #e2e8f0;
      font-size: 0.9rem;
    }
    .kpi-row:last-child {
      border-bottom: none;
    }
    .kpi-label {
      color: #475569;
    }
    .kpi-value {
      font-weight: 700;
      color: #0f172a;
    }
    .btn {
      width: 100%;
      border-radius: 0.75rem;
      padding: 0.75rem;
      font-weight: 700;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .btn-primary {
      background: #2563eb;
      border: none;
      color: white;
    }
    .btn-primary:hover {
      background: #1d4ed8;
    }
    .btn-secondary {
      background: white;
      border: 1px solid #cbd5f5;
      color: #0f172a;
    }
    .btn-secondary:hover {
      background: #f1f5f9;
    }
    .alert {
      display: none;
      background: #fef3f2;
      border: 1px solid #fecaca;
      border-radius: 0.65rem;
      padding: 0.75rem 1rem;
      color: #991b1b;
      font-size: 0.9rem;
    }
    .alert-error {
      display: none;
    }
    .field-hint {
      font-size: 0.8rem;
      color: #475569;
    }
    .optional-section {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 0.75rem;
      padding: 1rem;
    }
    .prose h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .prose h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.3rem;
    }
    .prose p {
      margin-bottom: 0.85rem;
      line-height: 1.6;
    }
    .formula-box {
      background: #f1f5f9;
      border-radius: 0.85rem;
      border: 1px solid #cbd5f5;
      padding: 1rem;
      font-family: 'Courier New', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .schedule-table {
      width: 100%;
      border-collapse: collapse;
    }
    .schedule-table th,
    .schedule-table td {
      border: 1px solid #e2e8f0;
      padding: 0.65rem 0.85rem;
      text-align: left;
    }
    .table-body tr:nth-child(even) {
      background: #f8fafc;
    }
  </style>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
  <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="navRight hidden md:flex items-center space-x-6">
          <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
          <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <main id="mainContent" class="container mx-auto px-4 py-8">
    <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs">
      <ol class="flex flex-wrap items-center gap-1">
        <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
        <li class="text-gray-400">/</li>
        <li><a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a></li>
        <li class="text-gray-400">/</li>
        <li><span class="text-gray-800">Barns to Square Meters Converter</span></li>
      </ol>
    </nav>

    <div class="space-y-3">
      <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Barns to Square Meters Converter</h1>
      <p id="pageSub" class="sub text-lg text-gray-600">Convert barns to square meters instantly. 1 barn = 1 × 10⁻²⁸ m². Includes millibarns, microbarns, femtobarns and reverse conversion m² to barns, plus nuclear/particle-physics context.</p>
      <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
    </div>

    <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
      <section class="card" id="inputsCard" aria-label="Calculator inputs">
        <div class="bg-white p-6 rounded-tl-none rounded-tr-none lg:rounded-lg border border-gray-200">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Enter value to convert</h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <label for="barnInput" class="calc-label">Numeric value</label>
              <input id="barnInput" type="number" class="calc-input" step="any" min="0" value="5" inputmode="decimal" placeholder="e.g. 5">
            </div>
            <div>
              <label for="barnUnit" class="calc-label">From unit</label>
              <select id="barnUnit" class="calc-input">
                <option value="b">Barn (b)</option>
                <option value="mb">Millibarn (mb) — 10⁻³ b</option>
                <option value="ub">Microbarn (μb) — 10⁻⁶ b</option>
                <option value="nb">Nanobarn (nb) — 10⁻⁹ b</option>
                <option value="pb">Picobarn (pb) — 10⁻¹² b</option>
                <option value="fb">Femtobarn (fb) — 10⁻¹⁵ b</option>
                <option value="am2">Square meter (m²)</option>
              </select>
            </div>
          </div>
          <p class="field-hint mt-3">1 b = 1 × 10⁻²⁸ m² exactly by definition. The converter works in reverse when you select m².</p>
          <div class="flex gap-3 mt-6">
            <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
            <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
          </div>
        </div>
        <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
      </section>

      <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
        <div class="result-box mb-4">
          <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Square meters (m²)</div>
          <div class="result-value" id="outM2">—</div>
        </div>
        <div class="bg-white border border-gray-200 rounded-lg p-4">
          <div class="kpi-row">
            <span class="kpi-label">Barns (b)</span>
            <span class="kpi-value" id="outBarn">—</span>
          </div>
          <div class="kpi-row">
            <span class="kpi-label">Picobarns (pb)</span>
            <span class="kpi-value" id="outPb">—</span>
          </div>
          <div class="kpi-row">
            <span class="kpi-label">Femtobarns (fb)</span>
            <span class="kpi-value" id="outFb">—</span>
          </div>
        </div>
      </section>
    </div>

    <section class="card content-card space-y-6 mt-10" id="howToUse" aria-label="How to use and methodology">
      <h2 class="text-2xl font-semibold">How to Use</h2>
      <p>Enter the field value, pick the unit you have on hand, then click Calculate. Results show the exact conversion into square meters and the matching barn (and subbarn) equivalents so you can copy any format directly into reports or notes.</p>
      <p>The converter accepts inputs as barns or its submultiples, and the reverse option treats square meters as the starting point.</p>

      <h2 class="text-2xl font-semibold">Methodology</h2>
      <p>The calculation relies on the strict definition: 1 barn = 1 × 10⁻²⁸ m². All other units are fixed powers of ten relative to the barn, which lets us shift decimal places with multiplication/division only.</p>
      <p>Convert the incoming value to barns, then derive square meters, picobarns, and femtobarns from that baseline. The code uses standard IEEE math rounding so every result remains deterministic and consistent across browsers.</p>
      <ul class="list-disc pl-5 space-y-2 text-gray-700">
        <li>Square meter output uses scientific notation with six digits after the decimal (zero renders simply as “0”).</li>
        <li>Barn, picobarn, and femtobarn outputs display in exponential form with six digits of precision.</li>
        <li>Empty or invalid inputs show “—” and prompt a gentle error message.</li>
      </ul>
      <div class="optional-section">
        <p class="text-sm text-gray-600">Values are exact because they come directly from the physical definition of the barn, so there is no rounding error introduced when converting back and forth.</p>
      </div>

      <section class="pt-4">
        <h2 class="text-2xl font-semibold">Full original guide (expanded)</h2>
        <div class="mt-4 space-y-4">
          <div>
            <h3 class="text-xl font-semibold mb-2">Barns → m² reference table</h3>
            <div class="overflow-x-auto">
              <table class="schedule-table w-full" aria-label="barns to square meters reference table">
                <thead>
                  <tr>
                    <th>Barns (b)</th>
                    <th>Square meters (m²)</th>
                    <th>Picobarns (pb)</th>
                  </tr>
                </thead>
                <tbody id="tableBody"></tbody>
              </table>
            </div>
            <p class="field-hint">All values are exact powers of 10; shown in scientific notation where convenient.</p>
          </div>

          <div class="prose">
            <h2>What is a barn?</h2>
            <p>The barn (symbol <strong>b</strong>) is a non-SI unit of area used in <strong>nuclear and particle physics</strong> to express cross-sectional areas of nuclei and particles. It was coined during the Manhattan Project, jokingly referring to a “barn door” — as in “couldn’t hit the broad side of a barn,” even though the unit is extremely small.</p>
            <h3>Why use 10⁻²⁸ m²?</h3>
            <p>Typical nuclear cross sections are around the size of atomic nuclei, which makes square meters very inconvenient. Defining 1 barn = 10⁻²⁸ m² gives a number of order 1 for many interactions.</p>
            <h2>FAQ</h2>
            <h3>1. Do we ever use larger units?</h3>
            <p>Yes, experiments often report in <strong>millibarns (mb)</strong>, <strong>microbarns (μb)</strong>, <strong>nanobarns (nb)</strong>, <strong>picobarns (pb)</strong> or <strong>femtobarns (fb)</strong>, depending on how rare the process is.</p>
            <h3>2. Can I convert square centimeters instead?</h3>
            <p>Convert barns → m² here, then m² → cm² using 1 m² = 10⁴ cm².</p>
            <h3>3. Are barns an SI unit?</h3>
            <p>No, but they are widely accepted in the high-energy physics community and well-documented.</p>
          </div>

          <div class="optional-section">
            <h3 class="text-lg font-semibold">Notes for researchers</h3>
            <ul class="list-disc pl-5 text-gray-700 space-y-1">
              <li>✔ We use the standard definition: 1 b = 10⁻²⁸ m².</li>
              <li>✔ Submultiples use strict powers of 10.</li>
              <li>✔ Displayed in scientific notation for clarity.</li>
            </ul>
          </div>
        </div>
      </section>
    </section>

    <section class="card meta-section space-y-4 mt-10" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
      <details id="formulaDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
          <p><strong>Conversion definitions</strong></p>
          <div class="formula-box">
            <p>1 b = 1 × 10⁻²⁸ m²</p>
            <p>m² = barns × 1 × 10⁻²⁸</p>
            <p>barns = m² ÷ 1 × 10⁻²⁸</p>
            <p>1 pb = 10⁻¹² b, 1 fb = 10⁻¹⁵ b</p>
          </div>
        </div>
      </details>

      <details class="mt-3" id="citationDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
          <p><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.nist.gov/pml/weights-and-measures</a></p>
          <p class="mt-2"><strong>NIST — SI units</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/owm/metric-si/si-units" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.nist.gov/pml/owm/metric-si/si-units</a></p>
        </div>
      </details>

      <details class="mt-3" id="changelogDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
          <ul class="list-disc list-inside">
            <li>0.1.0-draft — 2026-01-19: Initial audit spec draft and collection of formulas/sources.</li>
            <li>0.1.0-draft — 2026-01-19: Verify formulas match engine and document sources.</li>
          </ul>
        </div>
      </details>

      <div class="flex gap-2 mt-4 flex-wrap">
        <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
          <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
        </span>
        <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
        <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
      </div>
    
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
  </main>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
            <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
            <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
            <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
            <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script src="/assets/js/mobile-menu.js"></script>
  <script src="/search.js"></script>

  <script>
    (function() {
      'use strict';

      const BARN_TO_M2 = 1e-28;
      const SAMPLES = [1, 10, 100, 1e3, 1e6];
      const allowedUnits = new Set(['b','mb','ub','nb','pb','fb','am2']);

      const els = {
        barnInput: document.getElementById('barnInput'),
        barnUnit: document.getElementById('barnUnit'),
        outM2: document.getElementById('outM2'),
        outBarn: document.getElementById('outBarn'),
        outPb: document.getElementById('outPb'),
        outFb: document.getElementById('outFb'),
        errorBox: document.getElementById('errorBox'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),
        tableBody: document.getElementById('tableBody')
      };

      const DEFAULTS = {
        value: '5',
        unit: 'b'
      };

      const toBarns = (value, unit) => {
        if (!Number.isFinite(value)) return NaN;
        switch (unit) {
          case 'b': return value;
          case 'mb': return value * 1e-3;
          case 'ub': return value * 1e-6;
          case 'nb': return value * 1e-9;
          case 'pb': return value * 1e-12;
          case 'fb': return value * 1e-15;
          case 'am2': return value / BARN_TO_M2;
          default: return value;
        }
      };

      const formatSci = (num) => {
        if (!Number.isFinite(num)) return '—';
        if (num === 0) return '0';
        return num.toExponential(6);
      };

      function parseInputs() {
        return {
          value: parseFloat(els.barnInput.value),
          unit: els.barnUnit.value
        };
      }

      function validate(inputs) {
        const errors = [];
        if (!Number.isFinite(inputs.value)) {
          errors.push('Enter a numeric value to convert.');
        }
        if (!allowedUnits.has(inputs.unit)) {
          errors.push('Select a valid unit.');
        }
        return { ok: errors.length === 0, errors };
      }

      function compute(inputs) {
        const barns = toBarns(inputs.value, inputs.unit);
        if (!Number.isFinite(barns)) return null;
        const m2 = barns * BARN_TO_M2;
        const pb = barns * 1e12;
        const fb = barns * 1e15;
        if (![barns, m2, pb, fb].every(Number.isFinite)) return null;
        return { barns, m2, pb, fb };
      }

      function format(outputs) {
        if (!outputs) return {
          m2: '—',
          barns: '—',
          pb: '—',
          fb: '—'
        };
        return {
          m2: formatSci(outputs.m2),
          barns: Number.isFinite(outputs.barns) ? outputs.barns.toExponential(6) : '—',
          pb: Number.isFinite(outputs.pb) ? outputs.pb.toExponential(6) : '—',
          fb: Number.isFinite(outputs.fb) ? outputs.fb.toExponential(6) : '—'
        };
      }

      function render(formatted, errors) {
        if (errors && errors.length) {
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
        } else {
          els.errorBox.style.display = 'none';
          els.errorBox.textContent = '';
        }
        els.outM2.textContent = formatted.m2;
        els.outBarn.textContent = formatted.barns;
        els.outPb.textContent = formatted.pb;
        els.outFb.textContent = formatted.fb;
      }

      function update() {
        const inputs = parseInputs();
        const validation = validate(inputs);
        if (!validation.ok) {
          render({ m2: '—', barns: '—', pb: '—', fb: '—' }, validation.errors);
          return;
        }
        const result = compute(inputs);
        if (!result) {
          render({ m2: '—', barns: '—', pb: '—', fb: '—' }, ['Conversion failed. Please check the input.']);
          return;
        }
        const formatted = format(result);
        render(formatted, []);
      }

      function populateTable() {
        if (!els.tableBody) return;
        els.tableBody.innerHTML = '';
        const fragment = document.createDocumentFragment();
        SAMPLES.forEach((barnValue) => {
          const tr = document.createElement('tr');
          const m2 = barnValue * BARN_TO_M2;
          const pb = barnValue * 1e12;
          tr.innerHTML = `
            <td>${barnValue.toExponential(1)}</td>
            <td>${m2.toExponential(6)}</td>
            <td>${pb.toExponential(6)}</td>
          `;
          fragment.appendChild(tr);
        });
        els.tableBody.appendChild(fragment);
      }

      function reset() {
        els.barnInput.value = DEFAULTS.value;
        els.barnUnit.value = DEFAULTS.unit;
        update();
      }

      const debouncedUpdate = debounce(update, 100);
      document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
        .forEach((element) => {
          element.addEventListener('input', debouncedUpdate);
          element.addEventListener('change', debouncedUpdate);
        });

      els.calcBtn.addEventListener('click', update);
      els.resetBtn.addEventListener('click', reset);

      populateTable();
      update();
    })();

    function debounce(fn, delay = 100) {
      let timer;
      return (...args) => {
        clearTimeout(timer);
        timer = setTimeout(() => fn(...args), delay);
      };
    }
  </script>
</body></html>
