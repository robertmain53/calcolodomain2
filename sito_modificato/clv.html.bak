<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/clv" />
    
    
    <title>Clv Calculator Guide Now Guide [Bold 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Clv Calculator Guide Now Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." /> />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Clv Calculator Guide Now Guide [Bold 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Clv Calculator Guide Now Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/clv" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Clv Calculator Guide Now Guide [Bold 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Clv Calculator Guide Now Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Business & Small Biz Calculators", "item": "https://calcdomain.com/subcategories/business-small-biz"}, {"@type": "ListItem", "position": 4, "name": "Customer Lifetime Value (CLV) Calculator", "item": "https://calcdomain.com/clv"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/business-small-biz" class="text-blue-600 hover:underline">Business &amp; Small Biz Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Customer Lifetime Value (CLV) Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Customer Lifetime Value (CLV) Calculator
              </h1>
              <p class="text-gray-600">
                Estimate customer lifetime value with simple, retention-based,
                and discounted cash flow models. See CLV, CLV:CAC ratio, and
                payback period in one place.
              </p>
            </header>

            <!-- Mode Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex space-x-4" aria-label="CLV modes">
                <button
                  id="tab-simple"
                  class="py-2 px-3 text-sm font-medium border-b-2 border-blue-600 text-blue-600 focus:outline-none"
                >
                  Simple CLV
                </button>
                <button
                  id="tab-retention"
                  class="py-2 px-3 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600 focus:outline-none"
                >
                  Retention / Churn
                </button>
                <button
                  id="tab-dcf"
                  class="py-2 px-3 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600 focus:outline-none"
                >
                  Discounted Cash Flow
                </button>
              </nav>
            </div>

            <!-- Calculator Panels -->
            <section id="panel-simple" aria-labelledby="tab-simple">
              <h2 class="text-xl font-semibold mb-3">
                Simple CLV (Average Revenue × Margin × Lifespan)
              </h2>
              <p class="text-sm text-gray-600 mb-4">
                Use this when you know the average revenue per customer, gross
                margin, and how long they typically stay.
              </p>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="simple-arpu"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Average revenue per customer per period</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="simple-arpu"
                      type="number"
                      min="0"
                      step="0.01"
                      value="50"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    E.g., average monthly revenue per customer.
                  </p>
                </div>
                <div>
                  <label
                    for="simple-margin"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Gross margin (%)</label
                  >
                  <input
                    id="simple-margin"
                    type="number"
                    min="0"
                    max="100"
                    step="0.1"
                    value="70"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Revenue minus cost of goods sold, as a percentage.
                  </p>
                </div>
                <div>
                  <label
                    for="simple-lifespan"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Average customer lifespan (periods)</label
                  >
                  <input
                    id="simple-lifespan"
                    type="number"
                    min="0"
                    step="0.1"
                    value="24"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Number of periods (e.g., months or years) you expect the
                    customer to stay.
                  </p>
                </div>
                <div>
                  <label
                    for="simple-cac"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Customer acquisition cost (CAC)</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="simple-cac"
                      type="number"
                      min="0"
                      step="0.01"
                      value="120"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Average marketing + sales cost to acquire one customer.
                  </p>
                </div>
              </div>

              <button
                id="btn-calc-simple"
                class="w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mb-4"
              >
                Calculate Simple CLV
              </button>

              <div id="simple-results" class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-blue-600 font-semibold mb-1"
                  >
                    Gross CLV
                  </p>
                  <p id="simple-gross-clv" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Total lifetime gross profit per customer.
                  </p>
                </div>
                <div class="bg-green-50 border border-green-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-green-600 font-semibold mb-1"
                  >
                    Net CLV (after CAC)
                  </p>
                  <p id="simple-net-clv" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Gross CLV minus acquisition cost.
                  </p>
                </div>
                <div
                  class="bg-purple-50 border border-purple-100 rounded-lg p-3"
                >
                  <p
                    class="text-xs uppercase tracking-wide text-purple-600 font-semibold mb-1"
                  >
                    CLV : CAC
                  </p>
                  <p id="simple-clv-cac" class="text-xl font-bold">–</p>
                  <p class="text-xs text-gray-500 mt-1">
                    How many dollars of value you get per $1 of CAC.
                  </p>
                </div>
              </div>
            </section>

            <section
              id="panel-retention"
              class="hidden"
              aria-labelledby="tab-retention"
            >
              <h2 class="text-xl font-semibold mb-3">
                Retention / Churn CLV (Subscription Model)
              </h2>
              <p class="text-sm text-gray-600 mb-4">
                Use this for subscription or repeat-purchase businesses where
                you track churn or retention per period.
              </p>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="ret-arpu"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Average revenue per customer per period</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="ret-arpu"
                      type="number"
                      min="0"
                      step="0.01"
                      value="50"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>
                <div>
                  <label
                    for="ret-margin"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Gross margin (%)</label
                  >
                  <input
                    id="ret-margin"
                    type="number"
                    min="0"
                    max="100"
                    step="0.1"
                    value="70"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Use churn or retention?</label
                  >
                  <div class="flex items-center space-x-4 mt-1">
                    <label class="inline-flex items-center text-sm">
                      <input
                        type="radio"
                        name="ret-mode"
                        value="churn"
                        class="text-blue-600 border-gray-300"
                        checked
                      />
                      <span class="ml-2">Churn % per period</span>
                    </label>
                    <label class="inline-flex items-center text-sm">
                      <input
                        type="radio"
                        name="ret-mode"
                        value="retention"
                        class="text-blue-600 border-gray-300"
                      />
                      <span class="ml-2">Retention % per period</span>
                    </label>
                  </div>
                </div>
                <div>
                  <label
                    for="ret-churn"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Churn or retention (%) per period</label
                  >
                  <input
                    id="ret-churn"
                    type="number"
                    min="0"
                    max="100"
                    step="0.01"
                    value="5"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    If using churn, enter % of customers lost per period. If
                    retention, enter % who stay.
                  </p>
                </div>
                <div>
                  <label
                    for="ret-cac"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Customer acquisition cost (CAC)</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="ret-cac"
                      type="number"
                      min="0"
                      step="0.01"
                      value="120"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>
              </div>

              <button
                id="btn-calc-ret"
                class="w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mb-4"
              >
                Calculate Retention CLV
              </button>

              <div id="ret-results" class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-blue-600 font-semibold mb-1"
                  >
                    Expected lifetime (periods)
                  </p>
                  <p id="ret-lifetime" class="text-xl font-bold">–</p>
                  <p class="text-xs text-gray-500 mt-1">
                    1 / churn rate (or 1 / (1 − retention)).
                  </p>
                </div>
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-blue-600 font-semibold mb-1"
                  >
                    Gross CLV
                  </p>
                  <p id="ret-gross-clv" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    ARPU × margin × expected lifetime.
                  </p>
                </div>
                <div class="bg-green-50 border border-green-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-green-600 font-semibold mb-1"
                  >
                    Net CLV (after CAC)
                  </p>
                  <p id="ret-net-clv" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Gross CLV minus acquisition cost.
                  </p>
                </div>
              </div>
            </section>

            <section id="panel-dcf" class="hidden" aria-labelledby="tab-dcf">
              <h2 class="text-xl font-semibold mb-3">
                Discounted Cash Flow CLV (Cohort Model)
              </h2>
              <p class="text-sm text-gray-600 mb-4">
                Model CLV over a fixed horizon with retention, discount rate,
                and optional expansion revenue.
              </p>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="dcf-arpu"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Starting revenue per customer per period</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="dcf-arpu"
                      type="number"
                      min="0"
                      step="0.01"
                      value="50"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>
                <div>
                  <label
                    for="dcf-margin"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Gross margin (%)</label
                  >
                  <input
                    id="dcf-margin"
                    type="number"
                    min="0"
                    max="100"
                    step="0.1"
                    value="70"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                </div>
                <div>
                  <label
                    for="dcf-retention"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Retention per period (%)</label
                  >
                  <input
                    id="dcf-retention"
                    type="number"
                    min="0"
                    max="100"
                    step="0.01"
                    value="95"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Probability a customer stays from one period to the next.
                  </p>
                </div>
                <div>
                  <label
                    for="dcf-expansion"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Revenue growth per period (%)</label
                  >
                  <input
                    id="dcf-expansion"
                    type="number"
                    step="0.01"
                    value="0"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Optional expansion/upsell rate per period.
                  </p>
                </div>
                <div>
                  <label
                    for="dcf-periods"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Number of periods (horizon)</label
                  >
                  <input
                    id="dcf-periods"
                    type="number"
                    min="1"
                    step="1"
                    value="36"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    E.g., 36 months or 5 years.
                  </p>
                </div>
                <div>
                  <label
                    for="dcf-discount"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Discount rate per period (%)</label
                  >
                  <input
                    id="dcf-discount"
                    type="number"
                    min="0"
                    step="0.01"
                    value="1"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Reflects your cost of capital and risk.
                  </p>
                </div>
                <div>
                  <label
                    for="dcf-cac"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Customer acquisition cost (CAC)</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="dcf-cac"
                      type="number"
                      min="0"
                      step="0.01"
                      value="120"
                      class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>
                <div class="flex items-center justify-between mt-2">
                  <span class="text-sm font-medium text-gray-700"
                    >Show cash flow table</span
                  >
                  <label
                    class="toggle-pill inline-flex items-center cursor-pointer"
                  >
                    <input id="dcf-show-table" type="checkbox" class="hidden" />
                    <span
                      class="w-10 h-5 flex items-center bg-gray-300 rounded-full p-1 duration-300 ease-in-out"
                    >
                      <span
                        class="bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out"
                      ></span>
                    </span>
                  </label>
                </div>
              </div>

              <button
                id="btn-calc-dcf"
                class="w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mb-4"
              >
                Calculate DCF CLV
              </button>

              <div id="dcf-results" class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-blue-600 font-semibold mb-1"
                  >
                    Undiscounted CLV
                  </p>
                  <p id="dcf-gross" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Sum of expected gross profit over the horizon.
                  </p>
                </div>
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-blue-600 font-semibold mb-1"
                  >
                    Discounted CLV
                  </p>
                  <p id="dcf-discounted" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Present value of expected gross profit.
                  </p>
                </div>
                <div class="bg-green-50 border border-green-100 rounded-lg p-3">
                  <p
                    class="text-xs uppercase tracking-wide text-green-600 font-semibold mb-1"
                  >
                    Net CLV (after CAC)
                  </p>
                  <p id="dcf-net" class="text-xl font-bold">$0.00</p>
                  <p class="text-xs text-gray-500 mt-1">
                    Discounted CLV minus acquisition cost.
                  </p>
                </div>
              </div>

              <div id="dcf-payback" class="mb-4 hidden">
                <div
                  class="bg-yellow-50 border border-yellow-100 rounded-lg p-3"
                >
                  <p
                    class="text-xs uppercase tracking-wide text-yellow-700 font-semibold mb-1"
                  >
                    Estimated payback period
                  </p>
                  <p id="dcf-payback-text" class="text-sm text-gray-800"></p>
                </div>
              </div>

              <div id="dcf-table-container" class="hidden">
                <h3 class="text-lg font-semibold mb-2">Cash Flow by Period</h3>
                <div class="overflow-x-auto border border-gray-200 rounded-lg">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Period
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Active customers
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Revenue
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Gross profit
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Discount factor
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Discounted profit
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="dcf-table-body"
                      class="divide-y divide-gray-100"
                    ></tbody>
                  </table>
                </div>
              </div>
            </section>

            <section class="prose mt-8">
              <h2>How this CLV calculator works</h2>
              <p>
                This tool gives you three complementary ways to estimate
                Customer Lifetime Value (CLV):
              </p>
              <ul>
                <li>
                  <strong>Simple CLV</strong> – quick back-of-the-envelope
                  estimate using average revenue, margin, and lifespan.
                </li>
                <li>
                  <strong>Retention / Churn CLV</strong> – classic subscription
                  formula based on churn or retention per period.
                </li>
                <li>
                  <strong>Discounted Cash Flow (DCF) CLV</strong> –
                  finance-grade model that discounts future cash flows and can
                  include expansion revenue.
                </li>
              </ul>

              <h3>1. Simple CLV formula</h3>
              <div class="formula-box">
                <p><strong>Gross CLV</strong></p>
                <p>
                  \[ \text{CLV}_{gross} = \text{ARPU} \times \text{Gross Margin}
                  \times \text{Customer Lifespan} \]
                </p>
                <p><strong>Net CLV</strong></p>
                <p>\[ \text{CLV}_{net} = \text{CLV}_{gross} - \text{CAC} \]</p>
              </div>
              <p>Where:</p>
              <ul>
                <li>
                  <strong>ARPU</strong> = average revenue per user per period
                  (month, quarter, year).
                </li>
                <li>
                  <strong>Gross margin</strong> = (revenue − cost of goods sold)
                  / revenue.
                </li>
                <li>
                  <strong>Customer lifespan</strong> = average number of periods
                  a customer stays active.
                </li>
                <li><strong>CAC</strong> = customer acquisition cost.</li>
              </ul>

              <h3>2. Retention / churn CLV formula</h3>
              <p>
                If you know churn or retention per period, you can approximate
                expected lifetime as:
              </p>
              <div class="formula-box">
                <p><strong>From churn</strong></p>
                <p>
                  \[ \text{Expected Lifetime} \approx \frac{1}{\text{Churn
                  Rate}} \]
                </p>
                <p><strong>From retention</strong></p>
                <p>
                  \[ \text{Expected Lifetime} \approx \frac{1}{1 -
                  \text{Retention Rate}} \]
                </p>
                <p><strong>Then</strong></p>
                <p>
                  \[ \text{CLV}_{gross} = \text{ARPU} \times \text{Gross Margin}
                  \times \text{Expected Lifetime} \]
                </p>
              </div>

              <h3>3. Discounted cash flow CLV</h3>
              <p>
                The DCF mode models each period separately, with retention,
                revenue growth, and discounting:
              </p>
              <div class="formula-box">
                <p>For period \( t = 1 \dots T \):</p>
                <p>\[ N_t = N_{t-1} \times r \]</p>
                <p>
                  \[ \text{Revenue}_t = \text{ARPU}_0 \times (1 + g)^{t-1}
                  \times N_t \]
                </p>
                <p>
                  \[ \text{GrossProfit}_t = \text{Revenue}_t \times
                  \text{Margin} \]
                </p>
                <p>\[ \text{DiscountFactor}_t = \frac{1}{(1 + d)^t} \]</p>
                <p>
                  \[ \text{DiscountedProfit}_t = \text{GrossProfit}_t \times
                  \text{DiscountFactor}_t \]
                </p>
                <p>
                  \[ \text{CLV}_{discounted} = \sum_{t=1}^{T}
                  \text{DiscountedProfit}_t \]
                </p>
              </div>
              <p>Where:</p>
              <ul>
                <li>\( r \) = retention rate per period.</li>
                <li>
                  \( g \) = revenue growth per period (expansion / upsell).
                </li>
                <li>\( d \) = discount rate per period.</li>
                <li>\( T \) = number of periods in your horizon.</li>
              </ul>

              <h3>Interpreting CLV and CLV:CAC</h3>
              <ul>
                <li>
                  <strong>CLV &gt; CAC</strong> – you are creating value; higher
                  is better.
                </li>
                <li>
                  <strong>CLV:CAC ≈ 3:1</strong> – common benchmark in SaaS and
                  subscription businesses.
                </li>
                <li>
                  <strong>Payback period</strong> – how many periods it takes
                  for cumulative profit to cover CAC.
                </li>
              </ul>

              <h3>Practical tips</h3>
              <ul>
                <li>
                  Use <strong>monthly periods</strong> for fast-moving products;
                  yearly for long-term contracts.
                </li>
                <li>
                  Segment customers (e.g., by channel or cohort) – CLV often
                  varies dramatically.
                </li>
                <li>
                  Revisit your assumptions regularly as pricing, churn, and CAC
                  change.
                </li>
              </ul>
            </section>

            <section id="faq" class="prose mt-8">
              <h2>Customer Lifetime Value (CLV) – FAQ</h2>

              <h3>What is Customer Lifetime Value (CLV)?</h3>
              <p>
                Customer Lifetime Value is the total net profit you expect to
                earn from a customer over the entire relationship. It combines
                revenue, gross margin, retention or churn, and acquisition cost
                into a single metric that tells you how valuable a customer
                really is.
              </p>

              <h3>What is a good CLV to CAC ratio?</h3>
              <p>
                Many subscription and SaaS businesses aim for a CLV:CAC ratio of
                around <strong>3:1</strong>. Ratios below 2:1 can indicate that
                acquisition is too expensive relative to value, while ratios
                above 4:1 may suggest you could profitably invest more in
                growth. Benchmarks vary by industry and risk tolerance.
              </p>

              <h3>Should I use churn or retention in CLV?</h3>
              <p>They are two sides of the same coin:</p>
              <ul>
                <li>
                  <strong>Churn rate</strong> = percentage of customers lost in
                  a period.
                </li>
                <li>
                  <strong>Retention rate</strong> = percentage of customers who
                  stay = 1 − churn.
                </li>
              </ul>
              <p>
                Use whichever is easier for your reporting; the calculator
                converts between them internally.
              </p>

              <h3>Why discount future cash flows for CLV?</h3>
              <p>
                A dollar of profit today is worth more than a dollar in three
                years because of risk and opportunity cost. Discounting future
                cash flows using a discount rate (often related to your cost of
                capital) gives a more realistic, finance-grade CLV that is
                comparable to other investments.
              </p>

              <h3>How accurate is CLV?</h3>
              <p>
                CLV is only as accurate as the assumptions behind it. Small
                changes in churn, margin, or CAC can have large effects. Use CLV
                as a directional tool for decision-making, not as a precise
                prediction. Sensitivity analysis—trying several scenarios—is
                highly recommended.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Average revenue per customer per period $ E.g., average monthly revenue per customer. Gross margin (%) Revenue minus cost of goods sold, as a percentage. Average customer lifespan (periods) Number of periods (e.g., months or years) you expect the customer to stay. Customer acquisition cost (CAC) $ Average marketing + sales cost to acquire one customer. Calculate Simple CLV Gross CLV $0.00 Total lifetime gross profit per customer. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. CLV : CAC – How many dollars of value you get per $1 of CAC. Retention / Churn CLV (Subscription Model) Use this for subscription or repeat-purchase businesses where you track churn or retention per period. Average revenue per customer per period $ Gross margin (%) Use churn or retention? Churn % per period</li><li>Retention % per period</li><li>Churn or retention (%) per period If using churn, enter % of customers lost per period. If retention, enter % who stay. Customer acquisition cost (CAC) $ Calculate Retention CLV Expected lifetime (periods) – 1 / churn rate (or 1 / (1 − retention)). Gross CLV $0.00 ARPU × margin × expected lifetime. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. Discounted Cash Flow CLV (Cohort Model) Model CLV over a fixed horizon with retention, discount rate, and optional expansion revenue. Starting revenue per customer per period $ Gross margin (%) Retention per period (%) Probability a customer stays from one period to the next. Revenue growth per period (%) Optional expansion/upsell rate per period. Number of periods (horizon) E.g., 36 months or 5 years. Discount rate per period (%) Reflects your cost of capital and risk. Customer acquisition cost (CAC) $ Show cash flow table</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Clv, Average revenue per customer per period $ E.g., average monthly revenue per customer. Gross margin (%) Revenue minus cost of goods sold, as a percentage. Average customer lifespan (periods) Number of periods (e.g., months or years) you expect the customer to stay. Customer acquisition cost (CAC) $ Average marketing + sales cost to acquire one customer. Calculate Simple CLV Gross CLV $0.00 Total lifetime gross profit per customer. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. CLV : CAC – How many dollars of value you get per $1 of CAC. Retention / Churn CLV (Subscription Model) Use this for subscription or repeat-purchase businesses where you track churn or retention per period. Average revenue per customer per period $ Gross margin (%) Use churn or retention? Churn % per period, Retention % per period, Churn or retention (%) per period If using churn, enter % of customers lost per period. If retention, enter % who stay. Customer acquisition cost (CAC) $ Calculate Retention CLV Expected lifetime (periods) – 1 / churn rate (or 1 / (1 − retention)). Gross CLV $0.00 ARPU × margin × expected lifetime. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. Discounted Cash Flow CLV (Cohort Model) Model CLV over a fixed horizon with retention, discount rate, and optional expansion revenue. Starting revenue per customer per period $ Gross margin (%) Retention per period (%) Probability a customer stays from one period to the next. Revenue growth per period (%) Optional expansion/upsell rate per period. Number of periods (horizon) E.g., 36 months or 5 years. Discount rate per period (%) Reflects your cost of capital and risk. Customer acquisition cost (CAC) $ Show cash flow table.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Average revenue per customer per period $ E.g., average monthly revenue per customer. Gross margin (%) Revenue minus cost of goods sold, as a percentage. Average customer lifespan (periods) Number of periods (e.g., months or years) you expect the customer to stay. Customer acquisition cost (CAC) $ Average marketing + sales cost to acquire one customer. Calculate Simple CLV Gross CLV $0.00 Total lifetime gross profit per customer. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. CLV : CAC – How many dollars of value you get per $1 of CAC. Retention / Churn CLV (Subscription Model) Use this for subscription or repeat-purchase businesses where you track churn or retention per period. Average revenue per customer per period $ Gross margin (%) Use churn or retention? Churn % per period</li><li>Retention % per period</li><li>Churn or retention (%) per period If using churn, enter % of customers lost per period. If retention, enter % who stay. Customer acquisition cost (CAC) $ Calculate Retention CLV Expected lifetime (periods) – 1 / churn rate (or 1 / (1 − retention)). Gross CLV $0.00 ARPU × margin × expected lifetime. Net CLV (after CAC) $0.00 Gross CLV minus acquisition cost. Discounted Cash Flow CLV (Cohort Model) Model CLV over a fixed horizon with retention, discount rate, and optional expansion revenue. Starting revenue per customer per period $ Gross margin (%) Retention per period (%) Probability a customer stays from one period to the next. Revenue growth per period (%) Optional expansion/upsell rate per period. Number of periods (horizon) E.g., 36 months or 5 years. Discount rate per period (%) Reflects your cost of capital and risk. Customer acquisition cost (CAC) $ Show cash flow table</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Business &amp; Small Biz Tools
            </h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/profit-margin-calculator"
                  class="text-blue-600 hover:underline"
                  >Profit Margin Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/break-even-calculator"
                  class="text-blue-600 hover:underline"
                  >Break Even Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roas"
                  class="text-blue-600 hover:underline"
                  >Return on Ad Spend (ROAS)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cac"
                  class="text-blue-600 hover:underline"
                  >Customer Acquisition Cost (CAC)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/project-roi"
                  class="text-blue-600 hover:underline"
                  >Project ROI</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-valuation-calculator"
                  class="text-blue-600 hover:underline"
                  >Business Valuation Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cpm"
                  class="text-blue-600 hover:underline"
                  >Cost per Mille (CPM)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/seo-roi"
                  class="text-blue-600 hover:underline"
                  >SEO ROI</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Finance Calculators</h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/npv"
                  class="text-blue-600 hover:underline"
                  >Net Present Value (NPV)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/irr"
                  class="text-blue-600 hover:underline"
                  >Internal Rate of Return (IRR)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payback-period"
                  class="text-blue-600 hover:underline"
                  >Payback Period</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Tab switching
      const tabs = {
        simple: {
          tab: document.getElementById("tab-simple"),
          panel: document.getElementById("panel-simple"),
        },
        retention: {
          tab: document.getElementById("tab-retention"),
          panel: document.getElementById("panel-retention"),
        },
        dcf: {
          tab: document.getElementById("tab-dcf"),
          panel: document.getElementById("panel-dcf"),
        },
      };

      function activateTab(key) {
        Object.entries(tabs).forEach(([k, v]) => {
          if (k === key) {
            v.tab.classList.add("border-blue-600", "text-blue-600");
            v.tab.classList.remove("border-transparent", "text-gray-600");
            v.panel.classList.remove("hidden");
          } else {
            v.tab.classList.remove("border-blue-600", "text-blue-600");
            v.tab.classList.add("border-transparent", "text-gray-600");
            v.panel.classList.add("hidden");
          }
        });
      }

      tabs.simple.tab.addEventListener("click", () => activateTab("simple"));
      tabs.retention.tab.addEventListener("click", () =>
        activateTab("retention")
      );
      tabs.dcf.tab.addEventListener("click", () => activateTab("dcf"));

      // Utility: format currency and numbers
      function fmtCurrency(value) {
        if (!isFinite(value)) return "–";
        return "$" + value.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }
      function fmtNumber(value, decimals = 2) {
        if (!isFinite(value)) return "–";
        return value.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      // Simple CLV calculation
      document
        .getElementById("btn-calc-simple")
        .addEventListener("click", () => {
          const arpu =
            parseFloat(document.getElementById("simple-arpu").value) || 0;
          const marginPct =
            parseFloat(document.getElementById("simple-margin").value) || 0;
          const lifespan =
            parseFloat(document.getElementById("simple-lifespan").value) || 0;
          const cac =
            parseFloat(document.getElementById("simple-cac").value) || 0;

          const margin = Math.max(0, marginPct) / 100;
          const grossCLV = arpu * margin * lifespan;
          const netCLV = grossCLV - cac;
          const ratio = cac > 0 ? grossCLV / cac : NaN;

          document.getElementById("simple-gross-clv").textContent =
            fmtCurrency(grossCLV);
          document.getElementById("simple-net-clv").textContent =
            fmtCurrency(netCLV);
          document.getElementById("simple-clv-cac").textContent = isFinite(
            ratio
          )
            ? fmtNumber(ratio, 2) + " : 1"
            : "–";
        });

      // Retention CLV calculation
      document.getElementById("btn-calc-ret").addEventListener("click", () => {
        const arpu = parseFloat(document.getElementById("ret-arpu").value) || 0;
        const marginPct =
          parseFloat(document.getElementById("ret-margin").value) || 0;
        const ratePct =
          parseFloat(document.getElementById("ret-churn").value) || 0;
        const cac = parseFloat(document.getElementById("ret-cac").value) || 0;
        const mode = document.querySelector(
          'input[name="ret-mode"]:checked'
        ).value;

        let churnRate;
        if (mode === "churn") {
          churnRate = ratePct / 100;
        } else {
          const retentionRate = ratePct / 100;
          churnRate = 1 - retentionRate;
        }

        churnRate = Math.max(0.000001, Math.min(churnRate, 0.999999)); // avoid division by zero
        const expectedLifetime = 1 / churnRate;
        const margin = Math.max(0, marginPct) / 100;
        const grossCLV = arpu * margin * expectedLifetime;
        const netCLV = grossCLV - cac;

        document.getElementById("ret-lifetime").textContent = fmtNumber(
          expectedLifetime,
          1
        );
        document.getElementById("ret-gross-clv").textContent =
          fmtCurrency(grossCLV);
        document.getElementById("ret-net-clv").textContent =
          fmtCurrency(netCLV);
      });

      // DCF CLV calculation
      document.getElementById("btn-calc-dcf").addEventListener("click", () => {
        const arpu0 =
          parseFloat(document.getElementById("dcf-arpu").value) || 0;
        const marginPct =
          parseFloat(document.getElementById("dcf-margin").value) || 0;
        const retentionPct =
          parseFloat(document.getElementById("dcf-retention").value) || 0;
        const expansionPct =
          parseFloat(document.getElementById("dcf-expansion").value) || 0;
        const periods = Math.max(
          1,
          parseInt(document.getElementById("dcf-periods").value, 10) || 1
        );
        const discountPct =
          parseFloat(document.getElementById("dcf-discount").value) || 0;
        const cac = parseFloat(document.getElementById("dcf-cac").value) || 0;
        const showTable = document.getElementById("dcf-show-table").checked;

        const margin = Math.max(0, marginPct) / 100;
        const retention = Math.max(0, Math.min(retentionPct, 100)) / 100;
        const g = expansionPct / 100;
        const d = discountPct / 100;

        let customers = 1; // per acquired customer
        let grossSum = 0;
        let discountedSum = 0;
        let cumulativeDiscounted = 0;
        let paybackPeriod = null;

        const tbody = document.getElementById("dcf-table-body");
        tbody.innerHTML = "";

        for (let t = 1; t <= periods; t++) {
          if (t === 1) {
            customers = 1 * retention;
          } else {
            customers = customers * retention;
          }
          const revenuePerCustomer = arpu0 * Math.pow(1 + g, t - 1);
          const revenue = revenuePerCustomer * customers;
          const grossProfit = revenue * margin;
          const discountFactor = 1 / Math.pow(1 + d, t);
          const discountedProfit = grossProfit * discountFactor;

          grossSum += grossProfit;
          discountedSum += discountedProfit;
          cumulativeDiscounted += discountedProfit;

          if (
            paybackPeriod === null &&
            cumulativeDiscounted >= cac &&
            cac > 0
          ) {
            paybackPeriod = t;
          }

          if (showTable) {
            const tr = document.createElement("tr");
            tr.innerHTML = `
          <td class="px-2 py-1 text-left text-gray-700">${t}</td>
          <td class="px-2 py-1 text-right text-gray-700">${fmtNumber(
            customers,
            4
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${fmtCurrency(
            revenue
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${fmtCurrency(
            grossProfit
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${fmtNumber(
            discountFactor,
            4
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${fmtCurrency(
            discountedProfit
          )}</td>
        `;
            tbody.appendChild(tr);
          }
        }

        const netCLV = discountedSum - cac;

        document.getElementById("dcf-gross").textContent =
          fmtCurrency(grossSum);
        document.getElementById("dcf-discounted").textContent =
          fmtCurrency(discountedSum);
        document.getElementById("dcf-net").textContent = fmtCurrency(netCLV);

        const paybackContainer = document.getElementById("dcf-payback");
        const paybackText = document.getElementById("dcf-payback-text");
        if (cac > 0 && discountedSum > 0 && paybackPeriod !== null) {
          paybackContainer.classList.remove("hidden");
          paybackText.textContent = `Cumulative discounted profit is expected to exceed CAC in approximately period ${paybackPeriod}.`;
        } else if (cac > 0 && discountedSum <= cac) {
          paybackContainer.classList.remove("hidden");
          paybackText.textContent =
            "Cumulative discounted profit does not fully recover CAC within the selected horizon.";
        } else {
          paybackContainer.classList.add("hidden");
          paybackText.textContent = "";
        }

        const tableContainer = document.getElementById("dcf-table-container");
        if (showTable) {
          tableContainer.classList.remove("hidden");
        } else {
          tableContainer.classList.add("hidden");
        }
      });

      // Recalculate DCF when toggling table visibility (for convenience)
      document
        .getElementById("dcf-show-table")
        .addEventListener("change", () => {
          document.getElementById("btn-calc-dcf").click();
        });

      // Initial auto-calculation for better UX
      window.addEventListener("DOMContentLoaded", () => {
        document.getElementById("btn-calc-simple").click();
        document.getElementById("btn-calc-ret").click();
        document.getElementById("btn-calc-dcf").click();
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
