<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Bayesian Inference Calculator (Binomial) – Beta Posterior &amp; Credible Interval</title>
    <meta name="description" content="Bayesian inference calculator for binomial data. Combine a Beta prior with observed successes and trials to compute the posterior Beta distribution, posterior mean, and an approximate credible interval.">
    <link rel="canonical" href="https://calcdomain.com/bayesian-inference">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        code { background: #f3f4f6; padding: 0.15rem 0.35rem; border-radius: 0.25rem; font-size: 0.85em; }
        .input-sm { font-size: 0.875rem; }
        .pill { border-radius: 9999px; }
    </style>
    
    <!-- HEAD SCRIPTS & META (substitution of %%HEAD_SCRIPTS_E_META%%) -->
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-7MB5V1LZRN');
    </script>
    
    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">
    
    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>
    
    <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://calcdomain.com/bayesian-inference",
      "url": "https://calcdomain.com/bayesian-inference",
      "name": "Bayesian Inference Calculator (Binomial) – Beta Posterior & Credible Interval",
      "description": "Bayesian inference calculator for binomial data. Combine a Beta prior with observed successes and trials to compute the posterior Beta distribution, posterior mean, and an approximate credible interval.",
      "inLanguage": "en"
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/categories/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Core Math Algebra",
          "item": "https://calcdomain.com/subcategories/core-math-algebra"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What does this Bayesian inference calculator do?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This Bayesian inference calculator combines a Beta prior with binomial data (successes and trials) to produce a Beta posterior distribution for the underlying probability parameter. It reports the posterior alpha and beta, posterior mean, posterior mode when defined, and an approximate central credible interval based on the normal approximation to the Beta distribution."
          }
        },
        {
          "@type": "Question",
          "name": "Which assumptions does the binomial Beta model make?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The binomial Beta model assumes independent and identically distributed Bernoulli trials, a fixed but unknown probability of success, and a conjugate Beta prior. Under these assumptions the posterior distribution for the success probability remains in the Beta family, which allows for closed-form updates and transparent interpretation in terms of \"prior\" and \"pseudo counts\"."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between prior, likelihood, and posterior in this tool?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The prior is your initial belief about the success probability before seeing the data, represented as a Beta(alpha, beta) distribution. The likelihood is the binomial model that connects the probability parameter to the observed number of successes in a given number of trials. The posterior is the updated Beta distribution that combines prior and data and is proportional to prior times likelihood."
          }
        },
        {
          "@type": "Question",
          "name": "How is the credible interval computed and how should I interpret it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator reports an approximate central credible interval by using the normal approximation to the Beta posterior, with bounds equal to the posterior mean plus or minus a z-multiplier times the posterior standard deviation. A 95 percent credible interval means that, under the chosen model and prior, there is 95 percent posterior probability that the true success probability lies within that interval."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to use the Bayesian Inference (Binomial) Calculator",
      "description": "Step-by-step instructions for combining a Beta prior with binomial data to obtain a posterior distribution and credible interval.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Choose a prior",
          "text": "Select a prior type for the success probability: a uniform prior Beta(1,1), Jeffreys prior Beta(0.5,0.5), or specify a custom Beta(alpha, beta) prior if you have prior information."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Enter binomial data",
          "text": "Enter the total number of independent trials and the observed number of successes. Make sure the number of successes does not exceed the number of trials."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Set credible level (optional)",
          "text": "Optionally, specify the desired credible level, such as 90, 95 or 99, for the approximate posterior credible interval."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Calculate and interpret results",
          "text": "Click the Calculate button to obtain the posterior Beta parameters, posterior mean, approximate credible interval, and the posterior predictive probability of success in the next trial. Check that the model assumptions match your practical context before relying on the numbers."
        }
      ],
      "inLanguage": "en"
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- BODY SCRIPTS (substitution of %%BODY_SCRIPTS_INIZIO%%) -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/math-conversions" class="hover:text-blue-600">Math & Conversions</a> &raquo; <a href="https://calcdomain.com/subcategories/core-math-algebra" class="hover:text-blue-600">Core Math Algebra</a></nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">

            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">Bayesian Inference Calculator (Binomial)</h1>
              <p class="text-gray-700 mb-2">
                Combine a Beta prior with binomial data (successes and trials) to obtain the posterior Beta distribution,
                posterior mean, and an approximate credible interval for an unknown probability.
              </p>
              <p class="text-xs text-gray-500">
                Educational and exploratory use only. For regulatory, clinical, or safety-critical work, always verify
                calculations with a statistical package and follow your organisation’s validation procedures.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-label="Bayesian inference calculator" class="mb-6 space-y-4">

              <!-- Prior selection -->
              <div class="border border-gray-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold mb-3">1. Choose a prior (Beta distribution)</h2>
                <p class="text-sm text-gray-700 mb-3">
                  The prior describes your beliefs about the success probability \( \theta \) before seeing the data,
                  using a Beta distribution \( \mathrm{Beta}(\alpha,\beta) \).
                </p>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label for="prior-type" class="block text-sm font-medium text-gray-700 mb-1">
                      Prior type
                    </label>
                    <select id="prior-type" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option value="uniform">Uniform prior Beta(1, 1)</option>
                      <option value="jeffreys">Jeffreys prior Beta(0.5, 0.5)</option>
                      <option value="custom">Custom Beta(\u03b1, \u03b2)</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">
                      Uniform is non-informative on \( \theta \); Jeffreys is invariant and often used for binomial data.
                    </p>
                  </div>

                  <div id="custom-prior-fields" class="grid grid-cols-2 gap-3 mt-2 md:mt-0 hidden">
                    <div>
                      <label for="alpha-prior" class="block text-sm font-medium text-gray-700 mb-1">
                        \( \alpha_{\text{prior}} \) &gt; 0
                      </label>
                      <input id="alpha-prior" type="number" step="any" min="0.000001" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 2">
                    </div>
                    <div>
                      <label for="beta-prior" class="block text-sm font-medium text-gray-700 mb-1">
                        \( \beta_{\text{prior}} \) &gt; 0
                      </label>
                      <input id="beta-prior" type="number" step="any" min="0.000001" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 2">
                    </div>
                    <p class="text-xs text-gray-500 col-span-2">
                      You can interpret \( \alpha_{\text{prior}} - 1 \) as prior successes and
                      \( \beta_{\text{prior}} - 1 \) as prior failures.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Data section -->
              <div class="border border-gray-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold mb-3">2. Enter binomial data</h2>
                <p class="text-sm text-gray-700 mb-3">
                  Model: \( X \mid \theta \sim \mathrm{Binomial}(n,\theta) \) where \( n \) is the number of trials
                  and \( X \) the number of observed successes.
                </p>

                <div class="grid md:grid-cols-3 gap-4">
                  <div>
                    <label for="n-trials" class="block text-sm font-medium text-gray-700 mb-1">
                      Number of trials \( n \)
                    </label>
                    <input id="n-trials" type="number" min="1" step="1" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 50">
                  </div>
                  <div>
                    <label for="x-successes" class="block text-sm font-medium text-gray-700 mb-1">
                      Successes \( x \)
                    </label>
                    <input id="x-successes" type="number" min="0" step="1" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 18">
                    <p class="text-xs text-gray-500 mt-1">
                      Must satisfy \( 0 \le x \le n \).
                    </p>
                  </div>
                  <div>
                    <label for="credible-level" class="block text-sm font-medium text-gray-700 mb-1">
                      Credible level (%) 
                    </label>
                    <input id="credible-level" type="number" min="50" max="99.9" step="0.1" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="95">
                    <p class="text-xs text-gray-500 mt-1">
                      Used for an approximate central credible interval.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Buttons & error -->
              <div class="flex items-center gap-3">
                <button id="bayes-calc-btn" type="button" class="inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Calculate posterior
                </button>
                <button id="bayes-clear-btn" type="button" class="inline-flex items-center justify-center rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Clear
                </button>
                <span class="text-xs text-gray-500">
                  Outputs are rounded for display; internal calculations use full precision.
                </span>
              </div>

              <div id="bayes-error-box" class="hidden rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700 mt-3" role="alert"></div>

              <!-- Results -->
              <div id="bayes-results" class="hidden mt-4 space-y-4">
                <div class="rounded-md border border-green-100 bg-green-50 px-3 py-3 text-sm text-green-900">
                  <p class="font-semibold mb-2">Prior and posterior summary</p>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <h3 class="text-sm font-semibold mb-1">Prior \( \mathrm{Beta}(\alpha_{\text{prior}}, \beta_{\text{prior}}) \)</h3>
                      <ul class="list-disc ml-5 space-y-1 text-gray-900 text-sm">
                        <li><span class="font-medium">\( \alpha_{\text{prior}} \):</span> <span id="out-alpha-prior"></span></li>
                        <li><span class="font-medium">\( \beta_{\text{prior}} \):</span> <span id="out-beta-prior"></span></li>
                        <li><span class="font-medium">Prior mean:</span> <span id="out-prior-mean"></span></li>
                        <li><span class="font-medium">Prior SD:</span> <span id="out-prior-sd"></span></li>
                      </ul>
                    </div>
                    <div>
                      <h3 class="text-sm font-semibold mb-1">Posterior \( \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}) \)</h3>
                      <ul class="list-disc ml-5 space-y-1 text-gray-900 text-sm">
                        <li><span class="font-medium">\( \alpha_{\text{post}} \):</span> <span id="out-alpha-post"></span></li>
                        <li><span class="font-medium">\( \beta_{\text{post}} \):</span> <span id="out-beta-post"></span></li>
                        <li><span class="font-medium">Posterior mean:</span> <span id="out-post-mean"></span></li>
                        <li><span class="font-medium">Posterior mode:</span> <span id="out-post-mode"></span></li>
                        <li><span class="font-medium">Posterior SD:</span> <span id="out-post-sd"></span></li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="rounded-md border border-blue-100 bg-blue-50 px-3 py-3 text-sm text-blue-900">
                  <p class="font-semibold mb-2">Credible interval and prediction</p>
                  <p class="mb-1">
                    <span class="pill inline-flex items-center bg-white border border-blue-200 px-2 py-0.5 text-xs font-medium text-blue-700 mr-2">
                      Credible interval
                    </span>
                    <span id="out-cred-level"></span>% central credible interval (normal approximation):
                    <span class="font-medium" id="out-cred-interval"></span>
                  </p>
                  <p class="mb-1">
                    <span class="pill inline-flex items-center bg-white border border-blue-200 px-2 py-0.5 text-xs font-medium text-blue-700 mr-2">
                      Posterior predictive
                    </span>
                    Probability that the next trial is a success:
                    <span class="font-medium" id="out-predictive"></span>
                  </p>
                  <p class="text-xs text-blue-900 mt-1">
                    The credible interval is based on the normal approximation to the Beta posterior. For small sample
                    sizes or highly skewed posteriors, specialised software that computes exact Beta quantiles is advised.
                  </p>
                </div>
              </div>
            </section>

            <!-- Theory & Explanation -->
            <section class="prose text-sm md:text-base">
              <h2>Bayesian inference for a binomial proportion</h2>
              <p>
                In this calculator we model a sequence of independent Bernoulli trials with unknown success probability
                \( \theta \). If we observe \( x \) successes out of \( n \) trials, the likelihood under a binomial
                model is
              </p>
              <div class="formula-box">
                \[
                  p(x \mid \theta, n) = \binom{n}{x} \theta^x (1 - \theta)^{n-x}, \quad x = 0, 1, \dots, n.
                \]
              </div>
              <p>
                We place a Beta prior \( \theta \sim \mathrm{Beta}(\alpha_{\text{prior}}, \beta_{\text{prior}}) \).
                The Beta distribution is conjugate to the binomial, which means the posterior is also Beta:
              </p>
              <div class="formula-box">
                \[
                  \theta \mid x, n \sim \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}),
                \]
                \[
                  \alpha_{\text{post}} = \alpha_{\text{prior}} + x,\qquad
                  \beta_{\text{post}} = \beta_{\text{prior}} + n - x.
                \]
              </div>
              <p>
                The parameters \( \alpha_{\text{prior}} - 1 \) and \( \beta_{\text{prior}} - 1 \) can be interpreted as
                pseudo counts of prior successes and failures. After observing the data, the posterior simply adds the
                new successes and failures to these prior pseudo counts.
              </p>

              <h2>Posterior mean, variance, and predictive probability</h2>
              <p>
                For a Beta\( (\alpha, \beta) \) distribution, the mean, variance and mode (when defined) are:
              </p>
              <div class="formula-box">
                \[
                  \mathbb{E}[\theta] = \frac{\alpha}{\alpha + \beta}, \quad
                  \mathrm{Var}(\theta) = \frac{\alpha \beta}{(\alpha + \beta)^2(\alpha + \beta + 1)},
                \]
                \[
                  \mathrm{mode}(\theta) =
                  \begin{cases}
                    \dfrac{\alpha - 1}{\alpha + \beta - 2}, &amp; \alpha &gt; 1, \beta &gt; 1, \\
                    \text{boundary (0 or 1)}, &amp; \text{otherwise.}
                  \end{cases}
                \]
              </div>
              <p>
                The posterior predictive probability that the next trial is a success is equal to the posterior mean:
              </p>
              <div class="formula-box">
                \[
                  \Pr(\text{next success} \mid x, n) = \mathbb{E}[\theta \mid x, n]
                  = \frac{\alpha_{\text{post}}}{\alpha_{\text{post}} + \beta_{\text{post}}}.
                \]
              </div>

              <h2>Approximate credible interval (normal approximation)</h2>
              <p>
                Exact credible intervals for a Beta posterior use Beta quantiles, which require evaluation of the
                incomplete Beta function. For a quick and transparent calculation in pure JavaScript, this tool uses
                the normal approximation:
              </p>
              <div class="formula-box">
                <p>
                  Let \( m = \mathbb{E}[\theta] \) and \( s^2 = \mathrm{Var}(\theta) \) for the posterior
                  \( \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}) \).
                </p>
                <p>
                  For a central credible level \( 100(1 - \gamma)\% \) with corresponding standard normal quantile
                  \( z_{1 - \gamma/2} \),
                </p>
                \[
                  \text{CI}_{1-\gamma} \approx
                  \Big[\, m - z_{1-\gamma/2} s,\; m + z_{1-\gamma/2} s \,\Big].
                \]
              </div>
              <p>
                This approximation is usually reasonable when the posterior is not extremely skewed, for example when both
                \( \alpha_{\text{post}} \) and \( \beta_{\text{post}} \) are greater than about 3–5. For very small
                sample sizes or strongly asymmetric posteriors, a full Bayesian analysis with exact Beta quantiles is
                recommended.
              </p>

              <h2>Worked example</h2>
              <p>
                Suppose you run \( n = 50 \) trials and observe \( x = 18 \) successes. You start with a uniform prior
                \( \mathrm{Beta}(1, 1) \), which corresponds to no prior preference for any particular value of
                \( \theta \) in \( [0, 1] \).
              </p>
              <ul>
                <li>Posterior parameters: \( \alpha_{\text{post}} = 1 + 18 = 19 \), \( \beta_{\text{post}} = 1 + 50 - 18 = 33 \).</li>
                <li>Posterior mean: \( 19 / (19 + 33) \approx 0.365 \).</li>
                <li>Posterior variance: \( \dfrac{19 \cdot 33}{(52)^2 \cdot 53} \), giving a standard deviation of about 0.065.</li>
                <li>Approximate 95% credible interval: mean ± 1.96 × SD ≈ [0.24, 0.49].</li>
                <li>Posterior predictive \( \Pr(\text{next success}) \) is also ≈ 0.365.</li>
              </ul>
              <p>
                Enter these values into the calculator to verify the posterior and explore how different priors change
                the conclusions.
              </p>

              <h2>Modeling choices and cautions</h2>
              <ul>
                <li>
                  <strong>Independence and stationarity:</strong> The binomial-Beta model assumes that each trial has
                  the same success probability and is independent of previous trials. Time trends or dependence
                  may require more advanced models.
                </li>
                <li>
                  <strong>Prior sensitivity:</strong> With limited data, different reasonable priors can lead to
                  noticeably different posteriors. Always document how you chose the prior and, where possible, perform
                  sensitivity analysis.
                </li>
                <li>
                  <strong>Interpretation:</strong> A Bayesian credible interval answers “given the model and prior,
                  what range of parameter values has high posterior probability?”, which is conceptually different from
                  a frequentist confidence interval.
                </li>
                <li>
                  <strong>High-stakes applications:</strong> For clinical trials, industrial quality control, or
                  regulatory reporting, use vetted statistical libraries or software (for example R, Python, or
                  specialised Bayesian packages) and follow good practice guidelines.
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>How should I choose between uniform, Jeffreys, and a custom prior?</h3>
              <p>
                A uniform prior Beta(1,1) is often used when you want a simple starting point and have little prior
                information. Jeffreys prior Beta(0.5,0.5) is invariant under reparameterisation and is commonly used in
                objective Bayesian analyses. A custom Beta prior is appropriate when you can justify prior information
                based on previous experiments, expert knowledge, or domain constraints.
              </p>

              <h3>Can I interpret Beta parameters as pseudo counts?</h3>
              <p>
                Yes. For a Beta\( (\alpha, \beta) \) prior you can think of \( \alpha - 1 \) as prior successes and
                \( \beta - 1 \) as prior failures. After observing \( x \) successes in \( n \) trials, the posterior
                pseudo counts are \( \alpha - 1 + x \) and \( \beta - 1 + n - x \). This makes it easy to explain the
                prior and posterior in operational terms.
              </p>

              <h3>Why do my Bayesian results differ from a frequentist confidence interval?</h3>
              <p>
                Confidence intervals control the long-run frequency of coverage across hypothetical repeated samples,
                while credible intervals directly quantify posterior uncertainty about the parameter given the observed
                data and the prior. For moderate to large samples with weak priors the two can be very similar, but in
                general they answer different questions and need not match.
              </p>

              <h3>Is this calculator enough for publication-grade analysis?</h3>
              <p>
                It is designed as a teaching and decision-support tool rather than a full statistical environment. It is
                well suited for quick checks, intuition building, and classroom examples. For complex designs, multiple
                parameters, or publication-grade work you should rely on specialised Bayesian software, reproducible
                code, and peer review.
              </p>
            </section>

          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[p(x \mid \theta, n) = \binom{n}{x} \theta^x (1 - \theta)^{n-x}, \quad x = 0, 1, \dots, n.\]</div>
  <pre class="auditspine-mono">p(x \mid \theta, n) = \binom{n}{x} \theta^x (1 - \theta)^{n-x}, \quad x = 0, 1, \dots, n.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\theta \mid x, n \sim \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}),\]</div>
  <pre class="auditspine-mono">\theta \mid x, n \sim \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}),</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\alpha_{\text{post}} = \alpha_{\text{prior}} + x,\qquad \beta_{\text{post}} = \beta_{\text{prior}} + n - x.\]</div>
  <pre class="auditspine-mono">\alpha_{\text{post}} = \alpha_{\text{prior}} + x,\qquad \beta_{\text{post}} = \beta_{\text{prior}} + n - x.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\mathbb{E}[\theta] = \frac{\alpha}{\alpha + \beta}, \quad \mathrm{Var}(\theta) = \frac{\alpha \beta}{(\alpha + \beta)^2(\alpha + \beta + 1)},\]</div>
  <pre class="auditspine-mono">\mathbb{E}[\theta] = \frac{\alpha}{\alpha + \beta}, \quad \mathrm{Var}(\theta) = \frac{\alpha \beta}{(\alpha + \beta)^2(\alpha + \beta + 1)},</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\mathrm{mode}(\theta) = \begin{cases} \dfrac{\alpha - 1}{\alpha + \beta - 2}, &amp; \alpha &amp;gt; 1, \beta &amp;gt; 1, \\ \text{boundary (0 or 1)}, &amp; \text{otherwise.} \end{cases}\]</div>
  <pre class="auditspine-mono">\mathrm{mode}(\theta) = \begin{cases} \dfrac{\alpha - 1}{\alpha + \beta - 2}, &amp; \alpha &amp;gt; 1, \beta &amp;gt; 1, \\ \text{boundary (0 or 1)}, &amp; \text{otherwise.} \end{cases}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\Pr(\text{next success} \mid x, n) = \mathbb{E}[\theta \mid x, n] = \frac{\alpha_{\text{post}}}{\alpha_{\text{post}} + \beta_{\text{post}}}.\]</div>
  <pre class="auditspine-mono">\Pr(\text{next success} \mid x, n) = \mathbb{E}[\theta \mid x, n] = \frac{\alpha_{\text{post}}}{\alpha_{\text{post}} + \beta_{\text{post}}}.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ p(x \mid \theta, n) = \binom{n}{x} \theta^x (1 - \theta)^{n-x}, \quad x = 0, 1, \dots, n. \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ \theta \mid x, n \sim \mathrm{Beta}(\alpha_{\text{post}}, \beta_{\text{post}}), \] \[ \alpha_{\text{post}} = \alpha_{\text{prior}} + x,\qquad \beta_{\text{post}} = \beta_{\text{prior}} + n - x. \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ \mathbb{E}[\theta] = \frac{\alpha}{\alpha + \beta}, \quad \mathrm{Var}(\theta) = \frac{\alpha \beta}{(\alpha + \beta)^2(\alpha + \beta + 1)}, \] \[ \mathrm{mode}(\theta) = \begin{cases} \dfrac{\alpha - 1}{\alpha + \beta - 2}, &amp; \alpha &gt; 1, \beta &gt; 1, \\ \text{boundary (0 or 1)}, &amp; \text{otherwise.} \end{cases} \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ \Pr(\text{next success} \mid x, n) = \mathbb{E}[\theta \mid x, n] = \frac{\alpha_{\text{post}}}{\alpha_{\text{post}} + \beta_{\text{post}}}. \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More probability &amp; Bayesian tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a href="https://calcdomain.com/bayes-theorem" class="text-blue-600 hover:underline">
                  Bayes' Theorem Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/binomial-distribution" class="text-blue-600 hover:underline">
                  Binomial Distribution
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/naive-bayes" class="text-blue-600 hover:underline">
                  Naive Bayes Classifier
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/central-limit-theorem" class="text-blue-600 hover:underline">
                  Central Limit Theorem Explorer
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/normal-distribution" class="text-blue-600 hover:underline">
                  Normal Distribution (Gaussian)
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/a-b-test-significance" class="text-blue-600 hover:underline">
                  A/B Test Statistical Significance
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/z-score" class="text-blue-600 hover:underline">
                  Z-Score Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/p-value" class="text-blue-600 hover:underline">
                  P-value Calculator
                </a>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-2">About this Bayesian inference tool</h2>
            <p class="text-sm text-gray-700 mb-2">
              This calculator implements the standard conjugate Beta–binomial model taught in undergraduate and
              graduate courses in Bayesian statistics. It is designed to make prior-to-posterior updating transparent,
              with quantities that can be checked against textbooks or statistical software.
            </p>
            <p class="text-xs text-gray-500">
              Always document your chosen prior, model assumptions, and data-cleaning steps. For sensitive decisions,
              validate results with an independent implementation and a qualified statistician.
            </p>
          </div>
        </aside>
        
      </div>
    </div>
    
    <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>















    
    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>
    
    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- Bayesian inference calculator logic -->
    <script>
      (function() {
        const priorType = document.getElementById('prior-type');
        const customPriorFields = document.getElementById('custom-prior-fields');
        const alphaPriorInput = document.getElementById('alpha-prior');
        const betaPriorInput = document.getElementById('beta-prior');
        const nInput = document.getElementById('n-trials');
        const xInput = document.getElementById('x-successes');
        const credInput = document.getElementById('credible-level');
        const calcBtn = document.getElementById('bayes-calc-btn');
        const clearBtn = document.getElementById('bayes-clear-btn');
        const errBox = document.getElementById('bayes-error-box');
        const resultsBox = document.getElementById('bayes-results');

        const outAlphaPrior = document.getElementById('out-alpha-prior');
        const outBetaPrior = document.getElementById('out-beta-prior');
        const outPriorMean = document.getElementById('out-prior-mean');
        const outPriorSd = document.getElementById('out-prior-sd');

        const outAlphaPost = document.getElementById('out-alpha-post');
        const outBetaPost = document.getElementById('out-beta-post');
        const outPostMean = document.getElementById('out-post-mean');
        const outPostMode = document.getElementById('out-post-mode');
        const outPostSd = document.getElementById('out-post-sd');

        const outCredLevel = document.getElementById('out-cred-level');
        const outCredInterval = document.getElementById('out-cred-interval');
        const outPredictive = document.getElementById('out-predictive');

        function fmt(val, decimals) {
          if (!isFinite(val)) return String(val);
          const d = typeof decimals === 'number' ? decimals : 6;
          const abs = Math.abs(val);
          if (abs !== 0 && (abs < 1e-4 || abs >= 1e6)) {
            return val.toExponential(6);
          }
          return val.toFixed(d).replace(/0+$/,'').replace(/\.$/,'');
        }

        function showError(msg) {
          errBox.textContent = msg;
          errBox.classList.remove('hidden');
          resultsBox.classList.add('hidden');
        }

        function clearError() {
          errBox.textContent = '';
          errBox.classList.add('hidden');
        }

        priorType.addEventListener('change', function() {
          if (priorType.value === 'custom') {
            customPriorFields.classList.remove('hidden');
          } else {
            customPriorFields.classList.add('hidden');
          }
        });

        function zFromLevel(level) {
          // approximate z for central level (e.g. 95 -> 1.96, 90 -> 1.645)
          const pUpper = 0.5 + (level / 100) / 2; // e.g. 0.975 for 95%
          // Inverse error function approximation to get z
          // Abramowitz & Stegun 7.1.26 approximation
          const a1 = -39.6968302866538;
          const a2 = 220.946098424521;
          const a3 = -275.928510446969;
          const a4 = 138.357751867269;
          const a5 = -30.6647980661472;
          const a6 = 2.50662827745924;

          const b1 = -54.4760987982241;
          const b2 = 161.585836858041;
          const b3 = -155.698979859887;
          const b4 = 66.8013118877197;
          const b5 = -13.2806815528857;

          const c1 = -0.00778489400243029;
          const c2 = -0.322396458041136;
          const c3 = -2.40075827716184;
          const c4 = -2.54973253934373;
          const c5 = 4.37466414146497;
          const c6 = 2.93816398269878;

          const d1 = 0.00778469570904146;
          const d2 = 0.32246712907004;
          const d3 = 2.44513413714299;
          const d4 = 3.75440866190742;

          const p = pUpper;
          if (p <= 0 || p >= 1) return NaN;

          let q, r, z;
          if (p < 0.02425) {
            // lower region
            q = Math.sqrt(-2 * Math.log(p));
            z = (((((c1 * q + c2) * q + c3) * q + c4) * q + c5) * q + c6) /
                ((((d1 * q + d2) * q + d3) * q + d4) * q + 1);
          } else if (p > 1 - 0.02425) {
            // upper region
            q = Math.sqrt(-2 * Math.log(1 - p));
            z = -(((((c1 * q + c2) * q + c3) * q + c4) * q + c5) * q + c6) /
                 ((((d1 * q + d2) * q + d3) * q + d4) * q + 1);
          } else {
            // central region
            q = p - 0.5;
            r = q * q;
            z = (((((a1 * r + a2) * r + a3) * r + a4) * r + a5) * r + a6) * q /
                (((((b1 * r + b2) * r + b3) * r + b4) * r + b5) * r + 1);
          }
          return z;
        }

        function calc() {
          clearError();
          resultsBox.classList.add('hidden');

          // Prior
          let alphaPrior, betaPrior;
          const pType = priorType.value;
          if (pType === 'uniform') {
            alphaPrior = 1;
            betaPrior = 1;
          } else if (pType === 'jeffreys') {
            alphaPrior = 0.5;
            betaPrior = 0.5;
          } else {
            alphaPrior = parseFloat(alphaPriorInput.value);
            betaPrior = parseFloat(betaPriorInput.value);
            if (!isFinite(alphaPrior) || !isFinite(betaPrior) || alphaPrior <= 0 || betaPrior <= 0) {
              showError('For a custom prior, please enter positive values for \u03b1 and \u03b2.');
              return;
            }
          }

          // Data
          const n = parseInt(nInput.value, 10);
          const x = parseInt(xInput.value, 10);
          if (!isFinite(n) || n <= 0) {
            showError('Please enter a valid number of trials n \u2265 1.');
            return;
          }
          if (!isFinite(x) || x < 0 || x > n) {
            showError('Please enter a valid number of successes with 0 \u2264 x \u2264 n.');
            return;
          }

          let credLevel = parseFloat(credInput.value);
          if (!isFinite(credLevel) || credLevel <= 0 || credLevel >= 100) {
            credLevel = 95;
          }

          // Posterior
          const alphaPost = alphaPrior + x;
          const betaPost = betaPrior + (n - x);

          // Prior stats
          const priorMean = alphaPrior / (alphaPrior + betaPrior);
          const priorVar =
            (alphaPrior * betaPrior) /
            (Math.pow(alphaPrior + betaPrior, 2) * (alphaPrior + betaPrior + 1));
          const priorSd = Math.sqrt(priorVar);

          // Posterior stats
          const postMean = alphaPost / (alphaPost + betaPost);
          const postVar =
            (alphaPost * betaPost) /
            (Math.pow(alphaPost + betaPost, 2) * (alphaPost + betaPost + 1));
          const postSd = Math.sqrt(postVar);

          let postMode;
          if (alphaPost > 1 && betaPost > 1) {
            postMode = (alphaPost - 1) / (alphaPost + betaPost - 2);
          } else {
            postMode = NaN;
          }

          // Approximate credible interval using normal approximation
          const z = zFromLevel(credLevel);
          const lower = postMean - z * postSd;
          const upper = postMean + z * postSd;

          // Posterior predictive
          const predictive = postMean; // equal to mean for Beta-Binomial

          // Populate outputs
          outAlphaPrior.textContent = fmt(alphaPrior, 6);
          outBetaPrior.textContent = fmt(betaPrior, 6);
          outPriorMean.textContent = fmt(priorMean, 6);
          outPriorSd.textContent = fmt(priorSd, 6);

          outAlphaPost.textContent = fmt(alphaPost, 6);
          outBetaPost.textContent = fmt(betaPost, 6);
          outPostMean.textContent = fmt(postMean, 6);
          outPostSd.textContent = fmt(postSd, 6);
          outPostMode.textContent = isNaN(postMode)
            ? 'Undefined (mode on boundary)'
            : fmt(postMode, 6);

          outCredLevel.textContent = fmt(credLevel, 2);
          let lowerClamped = Math.max(0, Math.min(1, lower));
          let upperClamped = Math.max(0, Math.min(1, upper));
          outCredInterval.textContent =
            '[' + fmt(lowerClamped, 6) + ', ' + fmt(upperClamped, 6) + ']';
          outPredictive.textContent = fmt(predictive, 6);

          resultsBox.classList.remove('hidden');
        }

        function clearAll() {
          priorType.value = 'uniform';
          customPriorFields.classList.add('hidden');
          alphaPriorInput.value = '';
          betaPriorInput.value = '';
          nInput.value = '';
          xInput.value = '';
          credInput.value = '95';
          clearError();
          resultsBox.classList.add('hidden');
        }

        calcBtn.addEventListener('click', calc);
        clearBtn.addEventListener('click', clearAll);
      })();
    </script>




</body></html>