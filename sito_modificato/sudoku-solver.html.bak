<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/sudoku-solver" />
    
    <title>Sudoku Solver Calculator: Proven [Proven 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Sudoku Solver Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Sudoku Solver Calculator: Proven [Proven 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Sudoku Solver Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/sudoku-solver" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Sudoku Solver Calculator: Proven [Proven 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Sudoku Solver Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    

    
<script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Sudoku Solver", "item": "https://calcdomain.com/sudoku-solver"}]}</script>
</head>
<header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Sudoku Solver</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">Sudoku Solver</h1>
              <p class="text-gray-600 mb-3">
                Paste or type any 9x9 Sudoku and get an instant solution,
                step-by-step explanation, pencil marks, and difficulty estimate.
              </p>
              <div
                class="flex flex-wrap items-center gap-2 text-xs text-gray-500"
              >
                <span class="badge bg-blue-100 text-blue-700">9x9 grid</span>
                <span class="badge bg-green-100 text-green-700"
                  >Step-by-step logic</span
                >
                <span class="badge bg-purple-100 text-purple-700"
                  >Pencil marks</span
                >
                <span class="badge bg-amber-100 text-amber-700"
                  >Difficulty rating</span
                >
              </div>
            </header>

            <!-- Sudoku Solver UI -->
            <section aria-label="Sudoku solver" class="mb-6">
              <div class="flex flex-col md:flex-row md:items-start gap-6">
                <div class="flex-1">
                  <div class="overflow-x-auto scrollbar-thin mb-3">
                    <table class="sudoku-grid" aria-label="Sudoku grid">
                      <tbody id="sudoku-grid-body">
                        <!-- JS will populate cells -->
                      </tbody>
                    </table>
                  </div>

                  <div class="flex flex-wrap gap-2 mb-3">
                    <button
                      id="btn-solve-instant"
                      class="px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700"
                    >
                      Solve (Instant)
                    </button>
                    <button
                      id="btn-solve-step"
                      class="px-3 py-2 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700"
                    >
                      Solve Step-by-Step
                    </button>
                    <button
                      id="btn-next-step"
                      class="px-3 py-2 bg-indigo-100 text-indigo-700 text-sm rounded-md hover:bg-indigo-200 disabled:opacity-40"
                      disabled
                    >
                      Next Step
                    </button>
                    <button
                      id="btn-prev-step"
                      class="px-3 py-2 bg-indigo-50 text-indigo-700 text-sm rounded-md hover:bg-indigo-100 disabled:opacity-40"
                      disabled
                    >
                      Previous Step
                    </button>
                  </div>

                  <div class="flex flex-wrap gap-2 mb-3">
                    <button
                      id="btn-check-errors"
                      class="px-3 py-1.5 bg-rose-50 text-rose-700 text-xs rounded-md hover:bg-rose-100"
                    >
                      Check Errors
                    </button>
                    <button
                      id="btn-clear-errors"
                      class="px-3 py-1.5 bg-gray-50 text-gray-700 text-xs rounded-md hover:bg-gray-100"
                    >
                      Clear Errors
                    </button>
                    <button
                      id="btn-toggle-notes"
                      class="px-3 py-1.5 bg-emerald-50 text-emerald-700 text-xs rounded-md hover:bg-emerald-100"
                    >
                      Toggle Pencil Marks
                    </button>
                  </div>

                  <div class="flex flex-wrap gap-2 mb-4">
                    <button
                      id="btn-clear"
                      class="px-3 py-1.5 bg-gray-100 text-gray-700 text-xs rounded-md hover:bg-gray-200"
                    >
                      Clear Grid
                    </button>
                    <button
                      id="btn-load-example-easy"
                      class="px-3 py-1.5 bg-sky-50 text-sky-700 text-xs rounded-md hover:bg-sky-100"
                    >
                      Load Easy
                    </button>
                    <button
                      id="btn-load-example-hard"
                      class="px-3 py-1.5 bg-sky-50 text-sky-700 text-xs rounded-md hover:bg-sky-100"
                    >
                      Load Hard
                    </button>
                    <button
                      id="btn-import"
                      class="px-3 py-1.5 bg-white border border-gray-300 text-xs rounded-md hover:bg-gray-50"
                    >
                      Import 81 digits
                    </button>
                    <button
                      id="btn-export"
                      class="px-3 py-1.5 bg-white border border-gray-300 text-xs rounded-md hover:bg-gray-50"
                    >
                      Export
                    </button>
                  </div>
                </div>

                <div class="w-full md:w-56 space-y-3">
                  <div class="border border-gray-200 rounded-md p-3 text-sm">
                    <h2 class="font-semibold text-gray-800 mb-1 text-sm">
                      Puzzle status
                    </h2>
                    <p id="status-text" class="text-gray-700 mb-1">
                      Enter your puzzle and choose a solving mode.
                    </p>
                    <p class="text-xs text-gray-500 mb-1">
                      Difficulty estimate:
                      <span id="difficulty-label" class="font-medium">–</span>
                    </p>
                    <p class="text-xs text-gray-500">
                      Solutions found:
                      <span id="solutions-count" class="font-medium">–</span>
                    </p>
                  </div>

                  <div
                    class="border border-gray-200 rounded-md p-3 text-xs max-h-48 overflow-y-auto"
                    aria-label="Solving steps log"
                  >
                    <h2 class="font-semibold text-gray-800 mb-1 text-sm">
                      Step-by-step log
                    </h2>
                    <ol
                      id="steps-log"
                      class="list-decimal ml-4 space-y-1 text-gray-700"
                    >
                      <li class="text-gray-400">
                        No steps yet. Run step-by-step solve.
                      </li>
                    </ol>
                  </div>
                </div>
              </div>
            </section>

            <!-- Import / Export Modal (simple prompt-based) -->
            <section class="hidden">
              <!-- Placeholder for potential future modal implementation -->
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How to use the Sudoku solver</h2>
              <ol>
                <li>
                  <strong>Enter your puzzle</strong>:
                  <ul>
                    <li>
                      Click a cell and type a digit 1–9 for given numbers.
                    </li>
                    <li>
                      Leave empty cells blank or press 0 / Backspace to clear.
                    </li>
                    <li>
                      Or click <strong>Import 81 digits</strong> and paste a
                      line of 81 characters (0, ., or - for blanks).
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Choose a solving mode</strong>:
                  <ul>
                    <li>
                      <strong>Solve (Instant)</strong> – fills the entire grid
                      immediately.
                    </li>
                    <li>
                      <strong>Solve Step-by-Step</strong> – generates a sequence
                      of logical moves you can navigate with
                      <strong>Next Step</strong> and
                      <strong>Previous Step</strong>.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Check your work</strong>:
                  <ul>
                    <li>
                      Use <strong>Check Errors</strong> to highlight any row,
                      column, or 3×3 box that violates Sudoku rules.
                    </li>
                    <li>
                      Click <strong>Clear Errors</strong> to remove the red
                      highlights.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Use pencil marks</strong>:
                  <ul>
                    <li>
                      Click <strong>Toggle Pencil Marks</strong> to show
                      candidate digits for each empty cell based on current
                      givens.
                    </li>
                    <li>
                      Pencil marks update automatically when you change the
                      grid.
                    </li>
                  </ul>
                </li>
              </ol>

              <h2>What makes this Sudoku solver different?</h2>
              <p>
                This solver is designed to be both <strong>powerful</strong> and
                <strong>educational</strong>:
              </p>
              <ul>
                <li>
                  <strong>Human-style logic first</strong> – it tries singles
                  and basic candidate elimination before using search.
                </li>
                <li>
                  <strong>Step-by-step explanation</strong> – each move shows
                  which cell was solved and why.
                </li>
                <li>
                  <strong>Error checking</strong> – quickly see if your manual
                  entries break Sudoku rules.
                </li>
                <li>
                  <strong>Difficulty estimate</strong> – based on how many
                  logical vs. search steps were needed.
                </li>
              </ul>

              <h2>Sudoku rules recap</h2>
              <p>
                A standard 9×9 Sudoku grid consists of 9 rows, 9 columns, and
                nine 3×3 sub-grids (also called boxes or blocks). A valid
                solution must satisfy all of the following:
              </p>
              <ul>
                <li>
                  Each <strong>row</strong> contains the digits 1–9 exactly
                  once.
                </li>
                <li>
                  Each <strong>column</strong> contains the digits 1–9 exactly
                  once.
                </li>
                <li>
                  Each <strong>3×3 box</strong> contains the digits 1–9 exactly
                  once.
                </li>
              </ul>
              <p>
                Given numbers (the clues) are fixed and cannot be changed in a
                valid solution.
              </p>

              <h2>Solving techniques used by this tool</h2>
              <p>
                The internal solver uses a mix of logical strategies and a
                guaranteed-complete search algorithm:
              </p>
              <h3>1. Candidate generation</h3>
              <p>
                For each empty cell, the solver computes the set of possible
                digits that do not already appear in the same row, column, or
                box. These are the <strong>candidates</strong> shown as pencil
                marks.
              </p>

              <h3>2. Singles</h3>
              <ul>
                <li>
                  <strong>Naked single</strong>: a cell has only one candidate;
                  that digit must go there.
                </li>
                <li>
                  <strong>Hidden single</strong>: in a row, column, or box, a
                  digit appears as a candidate in only one cell; that cell must
                  contain that digit.
                </li>
              </ul>

              <h3>3. Basic backtracking search</h3>
              <p>
                If no more singles are available, the solver uses a depth-first
                search (backtracking) that:
              </p>
              <ul>
                <li>
                  Selects the cell with the
                  <strong>fewest candidates</strong> (to reduce branching).
                </li>
                <li>Tries each candidate in turn, propagating constraints.</li>
                <li>
                  Backtracks when a contradiction is found (a row/column/box has
                  no valid digit for some cell).
                </li>
              </ul>
              <p>
                This guarantees that if a solution exists, it will be found. The
                solver also tracks how many guesses were required to estimate
                difficulty.
              </p>

              <h2>Difficulty estimation</h2>
              <p>
                The difficulty label is a heuristic based on the number and type
                of steps:
              </p>
              <ul>
                <li>
                  <strong>Easy</strong> – solved mostly with singles and very
                  few or no guesses.
                </li>
                <li>
                  <strong>Medium</strong> – requires some branching but still
                  relatively small search.
                </li>
                <li>
                  <strong>Hard</strong> – many branching steps or deep
                  backtracking required.
                </li>
                <li>
                  <strong>Unsolvable / Multiple solutions</strong> – the solver
                  detects contradictions or more than one valid completion.
                </li>
              </ul>

              <h2>Common questions</h2>
              <h3>Can a Sudoku have more than one solution?</h3>
              <p>
                Yes. A well-designed Sudoku usually has a
                <strong>unique</strong> solution, but some grids (especially
                those created by hand or from photos) may admit multiple valid
                completions. This solver can detect when more than one solution
                exists and will tell you.
              </p>

              <h3>Why does my puzzle show as unsolvable?</h3>
              <p>
                If the solver reports that the puzzle is unsolvable, it means
                your givens already violate Sudoku rules or lead to a
                contradiction. Typical causes:
              </p>
              <ul>
                <li>Two identical digits in the same row, column, or box.</li>
                <li>
                  A digit that forces some other cell to have no valid
                  candidates.
                </li>
                <li>
                  Mis-typed numbers when copying from a newspaper or screenshot.
                </li>
              </ul>
              <p>
                Use <strong>Check Errors</strong> to highlight obvious
                conflicts, then correct the entries and try again.
              </p>

              <h2>Tips for learning Sudoku with this solver</h2>
              <ul>
                <li>
                  Start with an <strong>easy</strong> puzzle and try to solve as
                  much as you can manually.
                </li>
                <li>
                  When stuck, run <strong>Solve Step-by-Step</strong> and
                  inspect the next move instead of jumping to the full solution.
                </li>
                <li>
                  Pay attention to how singles and candidate elimination work;
                  these are the foundation of more advanced techniques.
                </li>
                <li>
                  Use <strong>Export</strong> to save interesting puzzles and
                  revisit them later.
                </li>
              </ul>
            </section>

            <section class="mt-8" id="faq">
              <h2 class="text-xl font-semibold mb-4">Sudoku Solver FAQ</h2>
              <div class="space-y-3">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How do I use this Sudoku solver?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Fill in the givens in the 9×9 grid or import 81 digits, then
                    click Solve (Instant) for a full solution or Solve
                    Step-by-Step to see each move. Use Check Errors to validate
                    your entries without revealing the answer.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Does the solver always find a solution?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    If the puzzle is valid and solvable, yes. The combination of
                    logical techniques and backtracking search guarantees that
                    any standard 9×9 Sudoku with at least one solution will be
                    solved.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can I use this solver on mobile?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. The grid and controls are optimized for both desktop
                    and mobile browsers. You can tap cells and use your
                    on-screen keyboard to enter digits.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What input formats are supported for import?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Paste 81 characters using digits 1–9 for givens and 0, dot
                    (.), or dash (-) for empty cells. Line breaks and spaces are
                    ignored, so you can paste multi-line text from many other
                    Sudoku sites or apps.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        



<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Coverage and scope</h2><p class="text-sm text-gray-700">This collection covers: Sudoku, Solver. Below you will find tools available on this page.</p><ul class="text-sm text-gray-700 list-disc pl-5 mt-2"><li>CalcDomain Advanced Search Categories Advanced Search Categories Home / Lifestyle &amp; Everyday / General Utility / Sudoku Solver Sudoku Solver Paste or type any 9x9 Sudoku and get an instant solution, step-by-step explanation, pencil marks, and difficulty estimate. 9x9 grid Step-by-step logic Pencil marks Difficulty rating Solve (Instant) Solve Step-by-Step Next Step Previous Step Check Errors Clear Errors Toggle Pencil Marks Clear Grid Load Easy Load Hard Import 81 digits Export Puzzle status Enter your puzzle and choose a solving mode. Difficulty estimate: – Solutions found: – Step-by-step log No steps yet. Run step-by-step solve. How to use the Sudoku solver Enter your puzzle : Click a cell and type a digit 1–9 for given numbers. Leave empty cells blank or press 0 / Backspace to clear. Or click Import 81 digits and paste a line of 81 characters (0, ., or - for blanks). Choose a solving mode : Solve (Instant) – fills the entire grid immediately. Solve Step-by-Step – generates a sequence of logical moves you can navigate with Next Step and Previous Step . Check your work : Use Check Errors to highlight any row, column, or 3×3 box that violates Sudoku rules. Click Clear Errors to remove the red highlights. Use pencil marks : Click Toggle Pencil Marks to show candidate digits for each empty cell based on current givens. Pencil marks update automatically when you change the grid. What makes this Sudoku solver different? This solver is designed to be both powerful and educational : Human-style logic first – it tries singles and basic candidate elimination before using search. Step-by-step explanation – each move shows which cell was solved and why. Error checking – quickly see if your manual entries break Sudoku rules. Difficulty estimate – based on how many logical vs. search steps were needed. Sudoku rules recap A standard 9×9 Sudoku grid consists of 9 rows, 9 columns, and nine 3×3 sub-grids (also called boxes or blocks). A valid solution must satisfy all of the following: Each row contains the digits 1–9 exactly once. Each column contains the digits 1–9 exactly once. Each 3×3 box contains the digits 1–9 exactly once. Given numbers (the clues) are fixed and cannot be changed in a valid solution. Solving techniques used by this tool The internal solver uses a mix of logical strategies and a guaranteed-complete search algorithm: 1. Candidate generation For each empty cell, the solver computes the set of possible digits that do not already appear in the same row, column, or box. These are the candidates shown as pencil marks. 2. Singles Naked single : a cell has only one candidate; that digit must go there. Hidden single : in a row, column, or box, a digit appears as a candidate in only one cell; that cell must contain that digit. 3. Basic backtracking search If no more singles are available, the solver uses a depth-first search (backtracking) that: Selects the cell with the fewest candidates (to reduce branching). Tries each candidate in turn, propagating constraints. Backtracks when a contradiction is found (a row/column/box has no valid digit for some cell). This guarantees that if a solution exists, it will be found. The solver also tracks how many guesses were required to estimate difficulty. Difficulty estimation The difficulty label is a heuristic based on the number and type of steps: Easy – solved mostly with singles and very few or no guesses. Medium – requires some branching but still relatively small search. Hard – many branching steps or deep backtracking required. Unsolvable / Multiple solutions – the solver detects contradictions or more than one valid completion. Common questions Can a Sudoku have more than one solution? Yes. A well-designed Sudoku usually has a unique solution, but some grids (especially those created by hand or from photos) may admit multiple valid completions. This solver can detect when more than one solution exists and will tell you. Why does my puzzle show as unsolvable? If the solver reports that the puzzle is unsolvable, it means your givens already violate Sudoku rules or lead to a contradiction. Typical causes: Two identical digits in the same row, column, or box. A digit that forces some other cell to have no valid candidates. Mis-typed numbers when copying from a newspaper or screenshot. Use Check Errors to highlight obvious conflicts, then correct the entries and try again. Tips for learning Sudoku with this solver Start with an easy puzzle and try to solve as much as you can manually. When stuck, run Solve Step-by-Step and inspect the next move instead of jumping to the full solution. Pay attention to how singles and candidate elimination work; these are the foundation of more advanced techniques. Use Export to save interesting puzzles and revisit them later. Sudoku Solver FAQ How do I use this Sudoku solver? Fill in the givens in the 9×9 grid or import 81 digits, then click Solve (Instant) for a full solution or Solve Step-by-Step to see each move. Use Check Errors to validate your entries without revealing the answer. Does the solver always find a solution? If the puzzle is valid and solvable, yes. The combination of logical techniques and backtracking search guarantees that any standard 9×9 Sudoku with at least one solution will be solved. Can I use this solver on mobile? Yes. The grid and controls are optimized for both desktop and mobile browsers. You can tap cells and use your on-screen keyboard to enter digits. What input formats are supported for import? Paste 81 characters using digits 1–9 for givens and 0, dot (.), or dash (-) for empty cells. Line breaks and spaces are ignored, so you can paste multi-line text from many other Sudoku sites or apps. About the author Ugo Candido</li><li>info@calcdomain.com</li><li>NIST: The International System of Units (SI)</li><li>OpenStax: College Algebra</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Coverage and scope</h2><p class="text-sm text-gray-700">This collection covers: Sudoku, Solver. Below you will find tools available on this page.</p><ul class="text-sm text-gray-700 list-disc pl-5 mt-2"><li>CalcDomain Advanced Search Categories Advanced Search Categories Home / Lifestyle &amp; Everyday / General Utility / Sudoku Solver Sudoku Solver Paste or type any 9x9 Sudoku and get an instant solution, step-by-step explanation, pencil marks, and difficulty estimate. 9x9 grid Step-by-step logic Pencil marks Difficulty rating Solve (Instant) Solve Step-by-Step Next Step Previous Step Check Errors Clear Errors Toggle Pencil Marks Clear Grid Load Easy Load Hard Import 81 digits Export Puzzle status Enter your puzzle and choose a solving mode. Difficulty estimate: – Solutions found: – Step-by-step log No steps yet. Run step-by-step solve. How to use the Sudoku solver Enter your puzzle : Click a cell and type a digit 1–9 for given numbers. Leave empty cells blank or press 0 / Backspace to clear. Or click Import 81 digits and paste a line of 81 characters (0, ., or - for blanks). Choose a solving mode : Solve (Instant) – fills the entire grid immediately. Solve Step-by-Step – generates a sequence of logical moves you can navigate with Next Step and Previous Step . Check your work : Use Check Errors to highlight any row, column, or 3×3 box that violates Sudoku rules. Click Clear Errors to remove the red highlights. Use pencil marks : Click Toggle Pencil Marks to show candidate digits for each empty cell based on current givens. Pencil marks update automatically when you change the grid. What makes this Sudoku solver different? This solver is designed to be both powerful and educational : Human-style logic first – it tries singles and basic candidate elimination before using search. Step-by-step explanation – each move shows which cell was solved and why. Error checking – quickly see if your manual entries break Sudoku rules. Difficulty estimate – based on how many logical vs. search steps were needed. Sudoku rules recap A standard 9×9 Sudoku grid consists of 9 rows, 9 columns, and nine 3×3 sub-grids (also called boxes or blocks). A valid solution must satisfy all of the following: Each row contains the digits 1–9 exactly once. Each column contains the digits 1–9 exactly once. Each 3×3 box contains the digits 1–9 exactly once. Given numbers (the clues) are fixed and cannot be changed in a valid solution. Solving techniques used by this tool The internal solver uses a mix of logical strategies and a guaranteed-complete search algorithm: 1. Candidate generation For each empty cell, the solver computes the set of possible digits that do not already appear in the same row, column, or box. These are the candidates shown as pencil marks. 2. Singles Naked single : a cell has only one candidate; that digit must go there. Hidden single : in a row, column, or box, a digit appears as a candidate in only one cell; that cell must contain that digit. 3. Basic backtracking search If no more singles are available, the solver uses a depth-first search (backtracking) that: Selects the cell with the fewest candidates (to reduce branching). Tries each candidate in turn, propagating constraints. Backtracks when a contradiction is found (a row/column/box has no valid digit for some cell). This guarantees that if a solution exists, it will be found. The solver also tracks how many guesses were required to estimate difficulty. Difficulty estimation The difficulty label is a heuristic based on the number and type of steps: Easy – solved mostly with singles and very few or no guesses. Medium – requires some branching but still relatively small search. Hard – many branching steps or deep backtracking required. Unsolvable / Multiple solutions – the solver detects contradictions or more than one valid completion. Common questions Can a Sudoku have more than one solution? Yes. A well-designed Sudoku usually has a unique solution, but some grids (especially those created by hand or from photos) may admit multiple valid completions. This solver can detect when more than one solution exists and will tell you. Why does my puzzle show as unsolvable? If the solver reports that the puzzle is unsolvable, it means your givens already violate Sudoku rules or lead to a contradiction. Typical causes: Two identical digits in the same row, column, or box. A digit that forces some other cell to have no valid candidates. Mis-typed numbers when copying from a newspaper or screenshot. Use Check Errors to highlight obvious conflicts, then correct the entries and try again. Tips for learning Sudoku with this solver Start with an easy puzzle and try to solve as much as you can manually. When stuck, run Solve Step-by-Step and inspect the next move instead of jumping to the full solution. Pay attention to how singles and candidate elimination work; these are the foundation of more advanced techniques. Use Export to save interesting puzzles and revisit them later. Sudoku Solver FAQ How do I use this Sudoku solver? Fill in the givens in the 9×9 grid or import 81 digits, then click Solve (Instant) for a full solution or Solve Step-by-Step to see each move. Use Check Errors to validate your entries without revealing the answer. Does the solver always find a solution? If the puzzle is valid and solvable, yes. The combination of logical techniques and backtracking search guarantees that any standard 9×9 Sudoku with at least one solution will be solved. Can I use this solver on mobile? Yes. The grid and controls are optimized for both desktop and mobile browsers. You can tap cells and use your on-screen keyboard to enter digits. What input formats are supported for import? Paste 81 characters using digits 1–9 for givens and 0, dot (.), or dash (-) for empty cells. Line breaks and spaces are ignored, so you can paste multi-line text from many other Sudoku sites or apps. About the author Ugo Candido</li><li>info@calcdomain.com</li><li>NIST: The International System of Units (SI)</li><li>OpenStax: College Algebra</li></ul></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Everyday Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/random-number-generator"
                  class="text-blue-600 hover:underline"
                  >Random Number Generator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/wordle-solver"
                  class="text-blue-600 hover:underline"
                  >Wordle Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/crossword-solver"
                  class="text-blue-600 hover:underline"
                  >Crossword Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/anagram-solver"
                  class="text-blue-600 hover:underline"
                  >Anagram Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rock-paper-scissors-simulator"
                  class="text-blue-600 hover:underline"
                  >Rock Paper Scissors Simulator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mastermind-solver"
                  class="text-blue-600 hover:underline"
                  >Mastermind Code Breaker</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/word-counter"
                  class="text-blue-600 hover:underline"
                  >Word Counter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/typing-speed-calculator"
                  class="text-blue-600 hover:underline"
                  >Typing Speed Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Time &amp; Brain Teasers
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/elapsed-time-calculator"
                  class="text-blue-600 hover:underline"
                  >Elapsed Time Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/timer-calculator"
                  class="text-blue-600 hover:underline"
                  >Timer</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/countdown-calculator"
                  class="text-blue-600 hover:underline"
                  >Countdown Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/random-fact-generator"
                  class="text-blue-600 hover:underline"
                  >Random Fact Generator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/apm-test"
                  class="text-blue-600 hover:underline"
                  >APM (Actions Per Minute) Test</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Sudoku Solver Logic
      (function () {
        const SIZE = 9;
        const gridBody = document.getElementById("sudoku-grid-body");
        const statusText = document.getElementById("status-text");
        const difficultyLabel = document.getElementById("difficulty-label");
        const solutionsCountEl = document.getElementById("solutions-count");
        const stepsLog = document.getElementById("steps-log");

        const btnSolveInstant = document.getElementById("btn-solve-instant");
        const btnSolveStep = document.getElementById("btn-solve-step");
        const btnNextStep = document.getElementById("btn-next-step");
        const btnPrevStep = document.getElementById("btn-prev-step");
        const btnCheckErrors = document.getElementById("btn-check-errors");
        const btnClearErrors = document.getElementById("btn-clear-errors");
        const btnToggleNotes = document.getElementById("btn-toggle-notes");
        const btnClear = document.getElementById("btn-clear");
        const btnLoadEasy = document.getElementById("btn-load-example-easy");
        const btnLoadHard = document.getElementById("btn-load-example-hard");
        const btnImport = document.getElementById("btn-import");
        const btnExport = document.getElementById("btn-export");

        let cells = [];
        let notesMode = false;
        let givenMask = Array(SIZE)
          .fill(0)
          .map(() => Array(SIZE).fill(false));
        let errorMask = Array(SIZE)
          .fill(0)
          .map(() => Array(SIZE).fill(false));

        let stepSolution = null;
        let stepStates = [];
        let currentStepIndex = -1;

        function createGrid() {
          for (let r = 0; r < SIZE; r++) {
            const tr = document.createElement("tr");
            cells[r] = [];
            for (let c = 0; c < SIZE; c++) {
              const td = document.createElement("td");
              td.className = "sudoku-cell";
              if (r % 3 === 0) td.classList.add("sudoku-block-border-top");
              if (c % 3 === 0) td.classList.add("sudoku-block-border-left");
              if (c === SIZE - 1) td.classList.add("sudoku-block-border-right");
              if (r === SIZE - 1)
                td.classList.add("sudoku-block-border-bottom");

              const input = document.createElement("input");
              input.type = "text";
              input.inputMode = "numeric";
              input.maxLength = 1;
              input.dataset.row = r;
              input.dataset.col = c;

              input.addEventListener("input", onCellInput);
              input.addEventListener("focus", () => input.select());

              td.appendChild(input);
              tr.appendChild(td);
              cells[r][c] = input;
            }
            gridBody.appendChild(tr);
          }
        }

        function onCellInput(e) {
          const input = e.target;
          const val = input.value.replace(/[^1-9]/g, "");
          input.value = val;
          const r = parseInt(input.dataset.row, 10);
          const c = parseInt(input.dataset.col, 10);
          givenMask[r][c] = !!val;
          clearErrors();
          resetStepMode();
          updateStatus("Grid updated. You can now solve or check errors.");
          difficultyLabel.textContent = "–";
          solutionsCountEl.textContent = "–";
          if (notesMode) {
            updateAllNotes();
          }
        }

        function readGrid() {
          const grid = Array(SIZE)
            .fill(0)
            .map(() => Array(SIZE).fill(0));
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              const v = cells[r][c].value.trim();
              grid[r][c] = v ? parseInt(v, 10) : 0;
            }
          }
          return grid;
        }

        function writeGrid(grid, markSolved = false) {
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              const cell = cells[r][c];
              const v = grid[r][c];
              cell.value = v ? v : "";
              cell.parentElement.classList.remove("error-cell");
              cell.parentElement.classList.toggle(
                "given-cell",
                givenMask[r][c] && v
              );
              if (markSolved) {
                cell.parentElement.classList.toggle(
                  "solved-cell",
                  !givenMask[r][c] && v
                );
              } else {
                cell.parentElement.classList.remove("solved-cell");
              }
            }
          }
        }

        function isValid(grid, row, col, num) {
          for (let i = 0; i < SIZE; i++) {
            if (grid[row][i] === num && i !== col) return false;
            if (grid[i][col] === num && i !== row) return false;
          }
          const br = Math.floor(row / 3) * 3;
          const bc = Math.floor(col / 3) * 3;
          for (let r = br; r < br + 3; r++) {
            for (let c = bc; c < bc + 3; c++) {
              if (grid[r][c] === num && (r !== row || c !== col)) return false;
            }
          }
          return true;
        }

        function computeCandidates(grid) {
          const cand = Array(SIZE)
            .fill(0)
            .map(() => Array(SIZE).fill(null));
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              if (grid[r][c] !== 0) continue;
              const set = [];
              for (let n = 1; n <= 9; n++) {
                if (isValid(grid, r, c, n)) set.push(n);
              }
              cand[r][c] = set;
            }
          }
          return cand;
        }

        function findSingle(grid, candidates) {
          // Naked singles
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              if (
                grid[r][c] === 0 &&
                candidates[r][c] &&
                candidates[r][c].length === 1
              ) {
                const val = candidates[r][c][0];
                return {
                  type: "naked-single",
                  row: r,
                  col: c,
                  value: val,
                  description: `Naked single: cell R${r + 1}C${
                    c + 1
                  } can only be ${val}.`,
                };
              }
            }
          }
          // Hidden singles in rows
          for (let r = 0; r < SIZE; r++) {
            const count = Array(10).fill(0);
            for (let c = 0; c < SIZE; c++) {
              if (grid[r][c] === 0 && candidates[r][c]) {
                candidates[r][c].forEach((v) => count[v]++);
              }
            }
            for (let v = 1; v <= 9; v++) {
              if (count[v] === 1) {
                for (let c = 0; c < SIZE; c++) {
                  if (
                    grid[r][c] === 0 &&
                    candidates[r][c] &&
                    candidates[r][c].includes(v)
                  ) {
                    return {
                      type: "hidden-single-row",
                      row: r,
                      col: c,
                      value: v,
                      description: `Hidden single in row ${r + 1}: only cell R${
                        r + 1
                      }C${c + 1} can be ${v}.`,
                    };
                  }
                }
              }
            }
          }
          // Hidden singles in columns
          for (let c = 0; c < SIZE; c++) {
            const count = Array(10).fill(0);
            for (let r = 0; r < SIZE; r++) {
              if (grid[r][c] === 0 && candidates[r][c]) {
                candidates[r][c].forEach((v) => count[v]++);
              }
            }
            for (let v = 1; v <= 9; v++) {
              if (count[v] === 1) {
                for (let r = 0; r < SIZE; r++) {
                  if (
                    grid[r][c] === 0 &&
                    candidates[r][c] &&
                    candidates[r][c].includes(v)
                  ) {
                    return {
                      type: "hidden-single-col",
                      row: r,
                      col: c,
                      value: v,
                      description: `Hidden single in column ${
                        c + 1
                      }: only cell R${r + 1}C${c + 1} can be ${v}.`,
                    };
                  }
                }
              }
            }
          }
          // Hidden singles in boxes
          for (let br = 0; br < 3; br++) {
            for (let bc = 0; bc < 3; bc++) {
              const count = Array(10).fill(0);
              for (let r = br * 3; r < br * 3 + 3; r++) {
                for (let c = bc * 3; c < bc * 3 + 3; c++) {
                  if (grid[r][c] === 0 && candidates[r][c]) {
                    candidates[r][c].forEach((v) => count[v]++);
                  }
                }
              }
              for (let v = 1; v <= 9; v++) {
                if (count[v] === 1) {
                  for (let r = br * 3; r < br * 3 + 3; r++) {
                    for (let c = bc * 3; c < bc * 3 + 3; c++) {
                      if (
                        grid[r][c] === 0 &&
                        candidates[r][c] &&
                        candidates[r][c].includes(v)
                      ) {
                        return {
                          type: "hidden-single-box",
                          row: r,
                          col: c,
                          value: v,
                          description: `Hidden single in box (${br + 1},${
                            bc + 1
                          }): only cell R${r + 1}C${c + 1} can be ${v}.`,
                        };
                      }
                    }
                  }
                }
              }
            }
          }
          return null;
        }

        function isComplete(grid) {
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              if (grid[r][c] === 0) return false;
            }
          }
          return true;
        }

        function cloneGrid(grid) {
          return grid.map((row) => row.slice());
        }

        function solveWithSteps(initialGrid, maxSolutions = 2) {
          const grid = cloneGrid(initialGrid);
          const steps = [];
          let guesses = 0;
          let solutions = [];
          let aborted = false;

          function logicalFill() {
            while (true) {
              const candidates = computeCandidates(grid);
              const single = findSingle(grid, candidates);
              if (!single) break;
              grid[single.row][single.col] = single.value;
              steps.push({
                kind: "logic",
                row: single.row,
                col: single.col,
                value: single.value,
                description: single.description,
                grid: cloneGrid(grid),
              });
            }
          }

          function backtrack() {
            if (aborted) return;
            logicalFill();
            if (isComplete(grid)) {
              solutions.push(cloneGrid(grid));
              if (solutions.length >= maxSolutions) {
                aborted = true;
              }
              return;
            }
            // find cell with fewest candidates
            const candidates = computeCandidates(grid);
            let bestR = -1,
              bestC = -1,
              bestLen = 10,
              bestCand = null;
            for (let r = 0; r < SIZE; r++) {
              for (let c = 0; c < SIZE; c++) {
                if (grid[r][c] === 0) {
                  const cand = candidates[r][c] || [];
                  if (cand.length === 0) return; // dead end
                  if (cand.length < bestLen) {
                    bestLen = cand.length;
                    bestR = r;
                    bestC = c;
                    bestCand = cand;
                  }
                }
              }
            }
            if (!bestCand) return;
            const saved = cloneGrid(grid);
            for (const v of bestCand) {
              if (aborted) break;
              grid[bestR][bestC] = v;
              guesses++;
              steps.push({
                kind: "guess",
                row: bestR,
                col: bestC,
                value: v,
                description: `Guess: try ${v} in cell R${bestR + 1}C${
                  bestC + 1
                }.`,
                grid: cloneGrid(grid),
              });
              backtrack();
              if (aborted) break;
              // revert and try next
              for (let r = 0; r < SIZE; r++) grid[r] = saved[r].slice();
            }
          }

          backtrack();
          return { steps, solutions, guesses };
        }

        function updateStatus(text) {
          statusText.textContent = text;
        }

        function clearErrors() {
          errorMask = Array(SIZE)
            .fill(0)
            .map(() => Array(SIZE).fill(false));
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              cells[r][c].parentElement.classList.remove("error-cell");
            }
          }
        }

        function checkErrors() {
          clearErrors();
          const grid = readGrid();
          let hasError = false;
          // rows and columns
          for (let i = 0; i < SIZE; i++) {
            const rowSeen = {};
            const colSeen = {};
            for (let j = 0; j < SIZE; j++) {
              const rv = grid[i][j];
              const cv = grid[j][i];
              if (rv) {
                if (rowSeen[rv]) {
                  hasError = true;
                  errorMask[i][j] = true;
                  errorMask[i][rowSeen[rv] - 1] = true;
                } else {
                  rowSeen[rv] = j + 1;
                }
              }
              if (cv) {
                if (colSeen[cv]) {
                  hasError = true;
                  errorMask[j][i] = true;
                  errorMask[colSeen[cv] - 1][i] = true;
                } else {
                  colSeen[cv] = j + 1;
                }
              }
            }
          }
          // boxes
          for (let br = 0; br < 3; br++) {
            for (let bc = 0; bc < 3; bc++) {
              const seen = {};
              for (let r = br * 3; r < br * 3 + 3; r++) {
                for (let c = bc * 3; c < bc * 3 + 3; c++) {
                  const v = grid[r][c];
                  if (!v) continue;
                  const key = v;
                  if (seen[key]) {
                    hasError = true;
                    errorMask[r][c] = true;
                    const [pr, pc] = seen[key];
                    errorMask[pr][pc] = true;
                  } else {
                    seen[key] = [r, c];
                  }
                }
              }
            }
          }
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              if (errorMask[r][c]) {
                cells[r][c].parentElement.classList.add("error-cell");
              }
            }
          }
          if (hasError) {
            updateStatus("Conflicts found. Red cells break Sudoku rules.");
          } else {
            updateStatus("No rule violations detected in current entries.");
          }
        }

        function resetStepMode() {
          stepSolution = null;
          stepStates = [];
          currentStepIndex = -1;
          btnNextStep.disabled = true;
          btnPrevStep.disabled = true;
          stepsLog.innerHTML =
            '<li class="text-gray-400">No steps yet. Run step-by-step solve.</li>';
        }

        function renderStepsLog(steps) {
          stepsLog.innerHTML = "";
          steps.forEach((s, idx) => {
            const li = document.createElement("li");
            li.textContent = s.description;
            li.dataset.index = idx;
            li.className = "cursor-pointer";
            li.addEventListener("click", () => {
              applyStepIndex(idx);
            });
            stepsLog.appendChild(li);
          });
        }

        function highlightCurrentStep() {
          Array.from(stepsLog.children).forEach((li, idx) => {
            li.classList.toggle("text-blue-700", idx === currentStepIndex);
            li.classList.toggle("font-semibold", idx === currentStepIndex);
          });
        }

        function applyStepIndex(idx) {
          if (!stepStates.length) return;
          currentStepIndex = Math.max(0, Math.min(idx, stepStates.length - 1));
          writeGrid(stepStates[currentStepIndex].grid, true);
          highlightCurrentStep();
          btnPrevStep.disabled = currentStepIndex <= 0;
          btnNextStep.disabled = currentStepIndex >= stepStates.length - 1;
        }

        function estimateDifficulty(guesses) {
          if (guesses === 0) return "Easy";
          if (guesses <= 5) return "Medium";
          return "Hard";
        }

        // Pencil marks
        function updateAllNotes() {
          const grid = readGrid();
          const cand = computeCandidates(grid);
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              const cell = cells[r][c];
              const td = cell.parentElement;
              if (grid[r][c] === 0 && notesMode) {
                const list = cand[r][c] || [];
                cell.classList.add("note-cell");
                cell.value = list.join("");
              } else {
                cell.classList.remove("note-cell");
                if (grid[r][c] === 0) cell.value = "";
              }
            }
          }
        }

        function toggleNotes() {
          notesMode = !notesMode;
          if (notesMode) {
            updateAllNotes();
            updateStatus(
              "Pencil marks enabled. Empty cells show candidate digits."
            );
          } else {
            // restore to plain view
            const grid = readGrid();
            for (let r = 0; r < SIZE; r++) {
              for (let c = 0; c < SIZE; c++) {
                const cell = cells[r][c];
                cell.classList.remove("note-cell");
                cell.value = grid[r][c] || "";
              }
            }
            updateStatus("Pencil marks hidden.");
          }
        }

        // Button handlers
        btnSolveInstant.addEventListener("click", () => {
          clearErrors();
          resetStepMode();
          const grid = readGrid();
          const { steps, solutions, guesses } = solveWithSteps(grid, 2);
          if (solutions.length === 0) {
            updateStatus(
              "This puzzle is unsolvable. Please check your givens."
            );
            difficultyLabel.textContent = "Unsolvable";
            solutionsCountEl.textContent = "0";
            return;
          }
          if (solutions.length > 1) {
            updateStatus(
              "Puzzle has multiple solutions. Showing one possible solution."
            );
            difficultyLabel.textContent = "Multiple solutions";
          } else {
            updateStatus(
              "Solved instantly. You can review the logic using step-by-step mode."
            );
            difficultyLabel.textContent = estimateDifficulty(guesses);
          }
          solutionsCountEl.textContent = String(solutions.length);
          writeGrid(solutions[0], true);
        });

        btnSolveStep.addEventListener("click", () => {
          clearErrors();
          resetStepMode();
          const grid = readGrid();
          const { steps, solutions, guesses } = solveWithSteps(grid, 2);
          if (solutions.length === 0) {
            updateStatus(
              "This puzzle is unsolvable. Please check your givens."
            );
            difficultyLabel.textContent = "Unsolvable";
            solutionsCountEl.textContent = "0";
            return;
          }
          stepSolution = solutions[0];
          stepStates = steps;
          solutionsCountEl.textContent = String(solutions.length);
          difficultyLabel.textContent =
            solutions.length > 1
              ? "Multiple solutions"
              : estimateDifficulty(guesses);
          if (!steps.length) {
            updateStatus(
              "Puzzle was already complete or required only trivial steps."
            );
            return;
          }
          renderStepsLog(steps);
          updateStatus(
            "Step-by-step mode ready. Use Next Step / Previous Step or click a step in the log."
          );
          btnNextStep.disabled = false;
          btnPrevStep.disabled = true;
          applyStepIndex(0);
        });

        btnNextStep.addEventListener("click", () => {
          if (!stepStates.length) return;
          if (currentStepIndex < stepStates.length - 1) {
            applyStepIndex(currentStepIndex + 1);
          }
        });

        btnPrevStep.addEventListener("click", () => {
          if (!stepStates.length) return;
          if (currentStepIndex > 0) {
            applyStepIndex(currentStepIndex - 1);
          }
        });

        btnCheckErrors.addEventListener("click", checkErrors);
        btnClearErrors.addEventListener("click", clearErrors);
        btnToggleNotes.addEventListener("click", toggleNotes);

        btnClear.addEventListener("click", () => {
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              cells[r][c].value = "";
              givenMask[r][c] = false;
            }
          }
          clearErrors();
          resetStepMode();
          notesMode = false;
          updateStatus("Grid cleared. Enter a new puzzle.");
          difficultyLabel.textContent = "–";
          solutionsCountEl.textContent = "–";
        });

        function loadPattern(pattern) {
          if (!pattern || pattern.length !== 81) return;
          for (let i = 0; i < 81; i++) {
            const r = Math.floor(i / 9);
            const c = i % 9;
            const ch = pattern[i];
            const v = ch === "." || ch === "0" || ch === "-" ? "" : ch;
            cells[r][c].value = v;
            givenMask[r][c] = !!v;
          }
          clearErrors();
          resetStepMode();
          notesMode = false;
          updateStatus(
            "Example puzzle loaded. You can now solve or explore it."
          );
          difficultyLabel.textContent = "–";
          solutionsCountEl.textContent = "–";
        }

        btnLoadEasy.addEventListener("click", () => {
          // Known easy puzzle
          const easy =
            "530070000" +
            "600195000" +
            "098000060" +
            "800060003" +
            "400803001" +
            "700020006" +
            "060000280" +
            "000419005" +
            "000080079";
          loadPattern(easy);
        });

        btnLoadHard.addEventListener("click", () => {
          // Harder puzzle
          const hard =
            "000000907" +
            "000420180" +
            "000705026" +
            "100904000" +
            "050000040" +
            "000507009" +
            "920108000" +
            "034059000" +
            "507000000";
          loadPattern(hard);
        });

        btnImport.addEventListener("click", () => {
          const text = window.prompt(
            "Paste 81 characters (1-9 for givens, 0/./- for blanks):",
            ""
          );
          if (!text) return;
          const cleaned = (text.match(/[0-9\.\-]/g) || []).join("");
          if (cleaned.length < 81) {
            alert("Not enough characters. Need at least 81 digits/0/./-.");
            return;
          }
          const pattern = cleaned.slice(0, 81);
          loadPattern(pattern);
        });

        btnExport.addEventListener("click", () => {
          const grid = readGrid();
          let s = "";
          for (let r = 0; r < SIZE; r++) {
            for (let c = 0; c < SIZE; c++) {
              s += grid[r][c] ? grid[r][c] : ".";
            }
          }
          window.prompt(
            "Copy this 81-character representation of the current grid:",
            s
          );
        });

        createGrid();
        updateStatus("Enter your Sudoku or load an example to get started.");
      })();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
