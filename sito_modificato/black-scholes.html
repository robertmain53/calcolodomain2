<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/black-scholes">
    <title>Black-Scholes Option Pricing Calculator | CalcDomain</title>
    <meta name="description" content="Calculate European call and put option prices with the Black-Scholes model. Ideal for finance professionals and students.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Black-Scholes Option Pricing Calculator | CalcDomain">
    <meta property="og:description" content="Calculate European call and put option prices with the Black-Scholes model. Ideal for finance professionals and students.">
    <meta property="og:url" content="https://calcdomain.com/black-scholes">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Black-Scholes Option Pricing Calculator | CalcDomain">
    <meta name="twitter:description" content="Calculate European call and put option prices with the Black-Scholes model. Ideal for finance professionals and students.">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script type="application/ld+json">{ "@context": "https://schema.org", "@type": "WebPage", "name": "Black-Scholes Option Pricing Calculator", "description": "Calculate European call and put option prices with the Black-Scholes model.", "url": "https://calcdomain.com/black-scholes", "reviewedBy": { "@type": "Person", "name": "Ugo Candido" }, "dateModified": "2026-01-19" }</script>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
            background: #f8fafc;
            color: #111827;
            margin: 0;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 1.25rem;
        }
        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .brand {
            font-weight: 700;
            font-size: 1.25rem;
            color: #1d4ed8;
            text-decoration: none;
        }
        .navRight {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .pill {
            font-size: 0.9rem;
            padding: 0.2rem 0.75rem;
            border-radius: 999px;
            border: 1px solid transparent;
            color: #475569;
            text-decoration: none;
        }
        .pill:hover {
            color: #1d4ed8;
        }
        .calc-hero {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
        @media (min-width: 1024px) {
            .calc-hero {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
        .card {
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
            padding: 1.5rem;
            box-shadow: 0 10px 25px -15px rgba(15, 23, 42, 0.2);
        }
        .card h3,
        .card h2,
        .card h4 {
            margin-top: 0;
        }
        .calc-input {
            width: 100%;
            padding: 0.7rem 0.8rem;
            border-radius: 0.65rem;
            border: 1px solid #d1d5db;
            font-size: 0.95rem;
        }
        .calc-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
        }
        .calc-label {
            display: block;
            font-size: 0.8rem;
            font-weight: 600;
            color: #475569;
            margin-bottom: 0.35rem;
        }
        .btn {
            border: none;
            border-radius: 0.65rem;
            padding: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .btn-primary {
            background: #2563eb;
            color: white;
        }
        .btn-primary:hover {
            background: #1d4ed8;
        }
        .btn-secondary {
            background: white;
            color: #1f2937;
            border: 1px solid #d1d5db;
        }
        .btn-secondary:hover {
            background: #f3f4f6;
        }
        .btnSecondary {
            /* canonical helper */
        }
        .result-box {
            background: linear-gradient(135deg, #eef2ff 0%, #c7d2fe 100%);
            border-radius: 0.75rem;
            padding: 1.4rem;
            text-align: center;
        }
        .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1d4ed8;
        }
        .kpi-row {
            display: flex;
            justify-content: space-between;
            padding: 0.65rem 0;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.9rem;
        }
        .kpi-row:last-child {
            border-bottom: none;
        }
        .kpi-label {
            color: #4b5563;
        }
        .kpi-value {
            font-weight: 600;
            color: #111827;
        }
        .alert-error {
            display: none;
            padding: 0.7rem 1rem;
            background: #fee2e2;
            border-left: 4px solid #dc2626;
            color: #991b1b;
            border-radius: 0.5rem;
            font-size: 0.9rem;
        }
        .sticky-box {
            position: sticky;
            top: 1.5rem;
        }
        .content-card {
            padding: 2rem;
        }
        .meta-section {
            padding: 1.5rem;
        }
        .sub {
            font-size: 1rem;
            color: #4b5563;
        }
        .section-divider {
            border-top: 1px solid #e5e7eb;
            margin-top: 1rem;
            padding-top: 1rem;
        }
    </style>
</head><body class="bg-gray-50 text-gray-800">
    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">Black-Scholes Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Black-Scholes Option Pricing Calculator</h1>
        <p id="pageSub" class="sub text-lg">
          Calculate European call and put option prices with the Black-Scholes model. Ideal for finance professionals and students.
        </p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
            <h3 class="text-lg font-bold text-gray-700 mb-4 mt-0">Model Inputs</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="calc-label" for="stockPrice">Stock Price</label>
                <input id="stockPrice" type="number" class="calc-input" value="100" step="0.01" min="0" inputmode="decimal">
              </div>
              <div>
                <label class="calc-label" for="strikePrice">Strike Price</label>
                <input id="strikePrice" type="number" class="calc-input" value="100" step="0.01" min="0" inputmode="decimal">
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
              <div>
                <label class="calc-label" for="timeToMaturity">Time to Maturity (years)</label>
                <input id="timeToMaturity" type="number" class="calc-input" value="1" step="0.01" min="0" inputmode="decimal">
              </div>
              <div>
                <label class="calc-label" for="riskFreeRate">Risk-Free Rate (%)</label>
                <input id="riskFreeRate" type="number" class="calc-input" value="5" step="0.01" inputmode="decimal">
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
              <div>
                <label class="calc-label" for="volatility">Volatility (%)</label>
                <input id="volatility" type="number" class="calc-input" value="20" step="0.01" min="0" inputmode="decimal">
              </div>
            </div>
            <div class="flex gap-3 mt-6">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Call Option</div>
            <div class="result-value" id="callPrice">$0.00</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <div class="kpi-row">
              <span class="kpi-label">Put Option</span>
              <span class="kpi-value" id="putPrice">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Model</span>
              <span class="kpi-value">Black-Scholes</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Status</span>
              <span class="kpi-value" id="validationStatus">Awaiting input</span>
            </div>
          </div>
        </section>
      </div>

      <section class="card content-card space-y-6 mt-10" id="howToUse" aria-label="How to use and methodology">
        <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
        <p>Enter the current stock price, strike price, time to maturity in years, the prevailing risk-free rate, and expected volatility. Click Calculate and the call and put prices will populate instantly. Reset restores the default scenario.</p>
        <h2 class="text-2xl font-semibold">Methodology</h2>
        <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
          <p>The calculator implements the Black-Scholes closed-form solution for European options. It derives the normal distribution of log-returns, discounts the strike using the risk-free rate, and returns the theoretical call and put premiums assuming continuous trading and no dividends.</p>
        </div>
        <h3 class="text-xl font-semibold">Glossary of Terms</h3>
        <ul class="list-disc pl-5 space-y-2 text-gray-700">
          <li><strong>Stock Price (S<sub>0</sub>):</strong> The current price of the underlying stock.</li>
          <li><strong>Strike Price (X):</strong> The price at which the option may be exercised.</li>
          <li><strong>Time to Maturity (T):</strong> Years until expiration.</li>
          <li><strong>Risk-Free Rate (r):</strong> The continuously compounded rate assumed for discounting.</li>
          <li><strong>Volatility (σ):</strong> The annualized standard deviation of stock returns.</li>
        </ul>
        <section class="space-y-3">
          <h3 class="text-xl font-semibold">Frequently Asked Questions</h3>
          <div>
            <p class="font-semibold">What is the Black-Scholes model?</p>
            <p>The Black-Scholes model is a mathematical framework for pricing European options by assuming log-normally distributed returns.</p>
          </div>
          <div>
            <p class="font-semibold">How do I interpret the results?</p>
            <p>The call and put prices represent the fair theoretical premiums for each option at expiration.</p>
          </div>
          <div>
            <p class="font-semibold">Why is volatility important?</p>
            <p>Higher volatility increases the value of both calls and puts, reflecting greater uncertainty in future prices.</p>
          </div>
          <div>
            <p class="font-semibold">Can I use this for American options?</p>
            <p>No. The Black-Scholes model assumes European-style exercise only.</p>
          </div>
          <div>
            <p class="font-semibold">What are the limitations?</p>
            <p>The model assumes constant volatility and interest rates, which may not hold in real markets.</p>
          </div>
        </section>
        <section class="bg-gray-50 border border-gray-200 rounded-lg p-4">
          <h3 class="text-xl font-semibold">Full original guide (expanded)</h3>
          <p>The earlier version of this page included the complete audit spine, formulas extracted in LaTeX, and verification notes. Those details remain preserved here through the formulas, citations, and changelog below along with this note for reference.</p>
        </section>
      </section>

      <section class="card meta-section space-y-4 mt-10" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
        <details id="formulaDetails">
          <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
            <p><strong>Black-Scholes call and put</strong></p>
            <p class="mt-2">Call: <span class="font-mono">C = S<sub>0</sub>N(d<sub>1</sub>) - X e<sup>-rT</sup>N(d<sub>2</sub>)</span></p>
            <p class="mt-2">Put: <span class="font-mono">P = X e<sup>-rT</sup>N(-d<sub>2</sub>) - S<sub>0</sub>N(-d<sub>1</sub>)</span></p>
            <p class="mt-2">where d<sub>1</sub> = (ln(S<sub>0</sub>/X) + (r + σ²/2)T) / (σ√T) and d<sub>2</sub> = d<sub>1</sub> - σ√T</p>
            <p class="mt-2 text-gray-600">All variables are defined in the glossary above.</p>
          </div>
        </details>

        <details class="mt-3" id="citationDetails">
          <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
            <p>MyStockOptions explainer: <a href="https://www.mystockoptions.com/black-scholes.cfm" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.mystockoptions.com/black-scholes.cfm</a></p>
          </div>
        </details>

        <details class="mt-3" id="changelogDetails">
          <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
            <ul class="list-disc list-inside space-y-1">
              <li>v0.1.0-draft — Initial audit draft captured on 2026-01-19.</li>
              <li>Documented formula derivation, glossary, and FAQ for the Black-Scholes model.</li>
            </ul>
          </div>
        </details>

        <div class="flex gap-2 mt-4 flex-wrap">
          <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
            <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
          </span>
          <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
          <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
        </div>
      
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$', '$'], ['\\[', '\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

<script>
(function() {
  'use strict';

  const debounce = (fn, delay = 100) => {
    let timer;
    return (...args) => {
      clearTimeout(timer);
      timer = setTimeout(() => fn(...args), delay);
    };
  };

  const round2 = (value) => Math.round((value + Number.EPSILON) * 100) / 100;

  const fmtCurrency = (val, currency = 'USD') => {
    const safeVal = Number.isFinite(val) ? val : 0;
    try {
      return new Intl.NumberFormat('en-US', { style: 'currency', currency }).format(safeVal);
    } catch {
      return '</script> + round2(safeVal).toFixed(2);
    }
  };

  const erf = (x) => {
    const sign = x >= 0 ? 1 : -1;
    x = Math.abs(x);
    const a1 = 0.254829592;
    const a2 = -0.284496736;
    const a3 = 1.421413741;
    const a4 = -1.453152027;
    const a5 = 1.061405429;
    const p = 0.3275911;
    const t = 1 / (1 + p * x);
    const y = 1 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
    return sign * y;
  };

  const normCdf = (x) => (1 + erf(x / Math.sqrt(2))) / 2;

  const els = {
    stockPrice: document.getElementById('stockPrice'),
    strikePrice: document.getElementById('strikePrice'),
    timeToMaturity: document.getElementById('timeToMaturity'),
    riskFreeRate: document.getElementById('riskFreeRate'),
    volatility: document.getElementById('volatility'),
    callPrice: document.getElementById('callPrice'),
    putPrice: document.getElementById('putPrice'),
    validationStatus: document.getElementById('validationStatus'),
    errorBox: document.getElementById('errorBox'),
    calcBtn: document.getElementById('calcBtn'),
    resetBtn: document.getElementById('resetBtn')
  };

  const defaults = {
    stockPrice: 100,
    strikePrice: 100,
    timeToMaturity: 1,
    riskFreeRate: 5,
    volatility: 20
  };

  function parseInputs() {
    return {
      stockPrice: parseFloat(els.stockPrice.value),
      strikePrice: parseFloat(els.strikePrice.value),
      timeToMaturity: parseFloat(els.timeToMaturity.value),
      riskFreeRatePct: parseFloat(els.riskFreeRate.value),
      volatilityPct: parseFloat(els.volatility.value)
    };
  }

  function validate(inputs) {
    const errors = [];
    if (!Number.isFinite(inputs.stockPrice) || inputs.stockPrice <= 0) {
      errors.push('Stock price must be greater than 0.');
    }
    if (!Number.isFinite(inputs.strikePrice) || inputs.strikePrice <= 0) {
      errors.push('Strike price must be greater than 0.');
    }
    if (!Number.isFinite(inputs.timeToMaturity) || inputs.timeToMaturity <= 0) {
      errors.push('Time to maturity must be greater than 0.');
    }
    if (!Number.isFinite(inputs.riskFreeRatePct)) {
      errors.push('Risk-free rate must be a valid number.');
    }
    if (!Number.isFinite(inputs.volatilityPct) || inputs.volatilityPct <= 0) {
      errors.push('Volatility must be greater than 0.');
    }
    return { ok: errors.length === 0, errors };
  }

  function compute(inputs) {
    const S = inputs.stockPrice;
    const X = inputs.strikePrice;
    const T = inputs.timeToMaturity;
    const r = inputs.riskFreeRatePct / 100;
    const sigma = inputs.volatilityPct / 100;
    if (!Number.isFinite(S) || !Number.isFinite(X) || !Number.isFinite(T) || !Number.isFinite(r) || !Number.isFinite(sigma)) {
      return null;
    }
    if (sigma <= 0 || T <= 0) {
      return null;
    }
    const sqrtT = Math.sqrt(T);
    const d1 = (Math.log(S / X) + (r + 0.5 * sigma * sigma) * T) / (sigma * sqrtT);
    const d2 = d1 - sigma * sqrtT;
    const call = S * normCdf(d1) - X * Math.exp(-r * T) * normCdf(d2);
    const put = X * Math.exp(-r * T) * normCdf(-d2) - S * normCdf(-d1);
    if (!Number.isFinite(call) || !Number.isFinite(put)) {
      return null;
    }
    return {
      callPrice: round2(call),
      putPrice: round2(put),
      term: T
    };
  }

  function format(outputs) {
    if (!outputs) return null;
    return {
      callPrice: fmtCurrency(outputs.callPrice),
      putPrice: fmtCurrency(outputs.putPrice),
      status: `Calculated for ${outputs.term.toFixed(2)} yr term`
    };
  }

  function renderError(errors) {
    if (!errors || errors.length === 0) {
      els.errorBox.style.display = 'none';
      els.errorBox.textContent = '';
      return;
    }
    els.errorBox.style.display = 'block';
    els.errorBox.textContent = errors.join(' ');
  }

  function render(formatted, errors) {
    renderError(errors);
    if (!formatted) {
      els.callPrice.textContent = '$0.00';
      els.putPrice.textContent = '$0.00';
      els.validationStatus.textContent = 'Fix inputs';
      return;
    }
    els.callPrice.textContent = formatted.callPrice;
    els.putPrice.textContent = formatted.putPrice;
    els.validationStatus.textContent = formatted.status;
  }

  function update() {
    const inputs = parseInputs();
    const validation = validate(inputs);
    if (!validation.ok) {
      render(null, validation.errors);
      return;
    }
    const result = compute(inputs);
    if (!result) {
      render(null, ['Calculation failed for the current inputs.']);
      return;
    }
    const formatted = format(result);
    render(formatted, []);
  }

  function reset() {
    els.stockPrice.value = defaults.stockPrice;
    els.strikePrice.value = defaults.strikePrice;
    els.timeToMaturity.value = defaults.timeToMaturity;
    els.riskFreeRate.value = defaults.riskFreeRate;
    els.volatility.value = defaults.volatility;
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

    update();
  }

  element.addEventListener('change', debouncedUpdate);
    });

  els.calcBtn.addEventListener('click', update);
  els.resetBtn.addEventListener('click', (event) => {
    event.preventDefault();
    reset();
  });

  reset();
})();
</script>
</body></html>
