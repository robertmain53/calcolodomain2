<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bond-ladder" />
    <title>Bond Ladder Calculator Guide [Insider 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Bond Ladder Calculator Guide fast with our insider tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bond Ladder Calculator Guide [Insider 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Bond Ladder Calculator Guide fast with our insider tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/bond-ladder" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bond Ladder Calculator Guide [Insider 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bond Ladder Calculator Guide fast with our insider tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "FinancialProduct",
        "name": "Bond Ladder Calculator",
        "description": "Interactive bond ladder calculator to design custom ladders, visualize cash flows and reinvestment, and estimate average yield and duration.",
        "url": "https://calcdomain.com/bond-ladder",
        "applicationCategory": "FinanceApplication",
        "provider": {
          "@type": "Organization",
          "name": "CalcDomain",
          "url": "https://calcdomain.com"
        }
      }</script>
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "International Personal Finance", "item": "https://calcdomain.com/subcategories/finance-international-personal"}, {"@type": "ListItem", "position": 4, "name": "Bond Ladder Calculator", "item": "https://calcdomain.com/bond-ladder"}]}</script>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is a bond ladder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "A bond ladder is a portfolio of bonds with staggered maturities (for example, 1, 2, 3, 4, and 5 years). As each bond matures, the principal can be used for spending or reinvested at the long end of the ladder. This creates a stream of predictable cash flows and reduces interest-rate and reinvestment risk compared with holding a single bond or a single maturity date."
            }
          },
          {
            "@type": "Question",
            "name": "How do I use the bond ladder calculator?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Enter the total amount you want to invest, the number of rungs (maturities), and the minimum and maximum maturity in years. The calculator will auto-generate equal rungs between those dates. You can then edit each rung's coupon, yield to maturity, and price. The tool computes the cost, annual coupon income, cash flows at maturity, and the ladder's weighted average yield and duration."
            }
          },
          {
            "@type": "Question",
            "name": "How many bonds should I include in a bond ladder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "There is no single right number. Many investors start with 3–10 rungs, depere rungs mean smoother cash flows and better diversification across the yield curve, but also more complexity and transaction costs."
            }
          },
          {
            "@type": "Question",
            "name": "Should I reinvest maturing bonds in a ladder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If your goal is long-term income, a common approach is to reinvest each maturing rung into a new long-term bond at the far end of the ladder. This keeps the ladder length constant and lets you gradually reset yields as interest rates change. If you are approaching a spending goal, you may instead choose to spend the principal as each rung matures."
            }
          },
          {
            "@type": "Question",
            "name": "What are the risks of a bond ladder?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Bond ladders reduce some risks but do not eliminate them. Key risks include credit risk (issuer default), call risk (bonds redeemed early), inflation risk (real value of payments eroded), and liquidity risk (difficulty selling before maturity). The calculator assumes you receive all coupons and principal as scheduled and does not model default or call events."
            }
          }
        ]
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-international-personal" class="text-blue-600 hover:underline">International Personal Finance</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Bond Ladder Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl md:text-3xl font-bold mb-2">
              Bond Ladder Calculator
            </h1>
            <p class="text-gray-600 mb-4">
              Design a custom bond ladder, visualize cash flows over time, and
              estimate your ladder’s average yield and duration.
            </p>

            <section aria-labelledby="ladder-inputs" class="mb-6">
              <h2 id="ladder-inputs" class="text-xl font-semibold mb-3">
                1. Ladder setup
              </h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="totalInvestment"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Total investment amount</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      id="totalInvestment"
                      type="number"
                      min="0"
                      step="1000"
                      value="50000"
                      class="table-input flex-1 block w-full rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Total amount you plan to allocate across all rungs.
                  </p>
                </div>

                <div>
                  <label
                    for="numRungs"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Number of rungs (maturities)</label
                  >
                  <input
                    id="numRungs"
                    type="number"
                    min="1"
                    max="20"
                    value="5"
                    class="table-input block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    More rungs = smoother cash flows, but more positions to
                    manage.
                  </p>
                </div>

                <div>
                  <label
                    for="minMaturity"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Shortest maturity (years)</label
                  >
                  <input
                    id="minMaturity"
                    type="number"
                    min="0.25"
                    step="0.25"
                    value="1"
                    class="table-input block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                  />
                </div>

                <div>
                  <label
                    for="maxMaturity"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Longest maturity (years)</label
                  >
                  <input
                    id="maxMaturity"
                    type="number"
                    min="0.5"
                    step="0.5"
                    value="5"
                    class="table-input block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                  />
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3 items-center">
                <button
                  id="generateRungsBtn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                >
                  Generate equal rungs
                </button>
                <button
                  id="addRungBtn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 bg-white text-blue-600 border border-blue-200 text-sm font-medium rounded-md hover:bg-blue-50"
                >
                  + Add rung
                </button>
                <p class="text-xs text-gray-500">
                  You can edit any rung manually after generation.
                </p>
              </div>
            </section>

            <section aria-labelledby="ladder-table" class="mb-6">
              <h2 id="ladder-table" class="text-xl font-semibold mb-3">
                2. Bond ladder details
              </h2>
              <div
                class="border border-gray-200 rounded-lg overflow-hidden bg-gray-50"
              >
                <div class="scroll-shadow overflow-x-auto">
                  <table class="min-w-full text-xs md:text-sm">
                    <thead class="bg-gray-100">
                      <tr>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Rung
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Maturity (years)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Allocation ($)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Coupon rate (%)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Yield to maturity (%)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Price (% of par)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Est. annual coupon ($)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Cash at maturity ($)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Remove
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="ladderBody"
                      class="bg-white divide-y divide-gray-100"
                    >
                      <!-- Rows injected by JS -->
                    </tbody>
                  </table>
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                Assumes annual coupon payments and holding each bond to
                maturity.
              </p>
            </section>

            <section aria-labelledby="ladder-summary" class="mb-6">
              <h2 id="ladder-summary" class="text-xl font-semibold mb-3">
                3. Ladder summary
              </h2>
              <div class="grid md:grid-cols-3 gap-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <p class="text-xs text-gray-500">Total cost</p>
                  <p
                    id="summaryTotalCost"
                    class="text-lg font-semibold text-blue-700"
                  >
                    $0
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    Sum of market value across all rungs.
                  </p>
                </div>
                <div class="bg-green-50 border border-green-100 rounded-lg p-3">
                  <p class="text-xs text-gray-500">
                    Avg. yield to maturity (YTM)
                  </p>
                  <p
                    id="summaryAvgYTM"
                    class="text-lg font-semibold text-green-700"
                  >
                    0.00%
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    Weighted by cost of each rung.
                  </p>
                </div>
                <div
                  class="bg-purple-50 border border-purple-100 rounded-lg p-3"
                >
                  <p class="text-xs text-gray-500">Approx. Macaulay duration</p>
                  <p
                    id="summaryDuration"
                    class="text-lg font-semibold text-purple-700"
                  >
                    0.0 yrs
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    Weighted by present value of each rung.
                  </p>
                </div>
              </div>

              <div class="mt-4">
                <h3 class="text-sm font-semibold mb-2">
                  Annual cash flow by year
                </h3>
                <div class="overflow-x-auto">
                  <table
                    class="min-w-full text-xs md:text-sm border border-gray-200 rounded-lg overflow-hidden"
                  >
                    <thead class="bg-gray-100">
                      <tr id="cashFlowHeaderRow">
                        <!-- Filled by JS -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        id="cashFlowCouponsRow"
                        class="bg-white border-t border-gray-100"
                      ></tr>
                      <tr
                        id="cashFlowMaturitiesRow"
                        class="bg-gray-50 border-t border-gray-100"
                      ></tr>
                      <tr
                        id="cashFlowTotalRow"
                        class="bg-blue-50 border-t border-gray-100 font-semibold"
                      ></tr>
                    </tbody>
                  </table>
                </div>
                <p class="text-xs text-gray-500 mt-2">
                  Coupons are assumed to be paid annually. Maturity cash flows
                  include principal repayment at the end of each rung’s term.
                </p>
              </div>
            </section>

            <section aria-labelledby="export-tools" class="mb-8">
              <h2 id="export-tools" class="text-xl font-semibold mb-3">
                4. Export & scenario tools
              </h2>
              <div class="flex flex-wrap gap-3 items-center">
                <button
                  id="copyCsvBtn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 bg-white text-gray-700 border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-50"
                >
                  Copy ladder as CSV
                </button>
                <button
                  id="resetLadderBtn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 bg-white text-red-600 border border-red-200 text-sm font-medium rounded-md hover:bg-red-50"
                >
                  Reset ladder
                </button>
                <div class="flex items-center gap-2 text-xs text-gray-500">
                  <span>Scenario helper:</span>
                  <button
                    id="shiftYieldsUpBtn"
                    type="button"
                    class="px-2 py-1 border border-gray-200 rounded bg-gray-50 hover:bg-gray-100"
                  >
                    +1% yields
                  </button>
                  <button
                    id="shiftYieldsDownBtn"
                    type="button"
                    class="px-2 py-1 border border-gray-200 rounded bg-gray-50 hover:bg-gray-100"
                  >
                    −1% yields
                  </button>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>How the bond ladder calculator works</h2>
              <p>
                This bond ladder calculator lets you design a ladder of
                individual bonds (or bond-like instruments such as CDs or
                government securities) with different maturities. You can
                quickly see:
              </p>
              <ul>
                <li>How much you invest in each rung</li>
                <li>Expected annual coupon income</li>
                <li>Principal repayments at maturity</li>
                <li>
                  The ladder’s average yield to maturity and approximate
                  duration
                </li>
              </ul>

              <h3>Key inputs</h3>
              <ul>
                <li>
                  <strong>Total investment amount</strong> – how much capital
                  you want to allocate to the ladder.
                </li>
                <li>
                  <strong>Number of rungs</strong> – how many distinct
                  maturities you want (e.g., 5 rungs for a 1–5 year ladder).
                </li>
                <li>
                  <strong>Shortest and longest maturity</strong> – the time
                  horizon you want to cover.
                </li>
                <li>
                  <strong>Coupon rate</strong> – annual coupon rate of each
                  bond, as a percentage of par.
                </li>
                <li>
                  <strong>Yield to maturity (YTM)</strong> – market yield for
                  each rung, used to approximate duration.
                </li>
                <li>
                  <strong>Price (% of par)</strong> – bond price as a percentage
                  of par (100 = par, 95 = discount, 105 = premium).
                </li>
              </ul>

              <h3>Formulas used</h3>
              <div class="formula-box">
                <p class="font-semibold mb-1">1. Allocation per rung</p>
                <p>
                  If you click “Generate equal rungs”, the calculator starts
                  with:
                </p>
                <p>
                  \[ \text{Allocation}_i = \frac{\text{Total
                  Investment}}{\text{Number of Rungs}} \]
                </p>

                <p class="font-semibold mt-4 mb-1">
                  2. Market value and number of bonds
                </p>
                <p>Assuming par value of \$100:</p>
                <p>
                  \[ \text{Bonds}_i \approx
                  \frac{\text{Allocation}_i}{\text{Price}_i / 100 \times 100} \]
                </p>
                <p>
                  \[ \text{Cost}_i = \text{Bonds}_i \times \text{Price}_i \]
                </p>

                <p class="font-semibold mt-4 mb-1">3. Annual coupon income</p>
                <p>
                  \[ \text{Coupon}_i = \text{Bonds}_i \times 100 \times
                  \frac{\text{Coupon Rate}_i}{100} \]
                </p>

                <p class="font-semibold mt-4 mb-1">4. Cash at maturity</p>
                <p>\[ \text{Maturity Cash}_i = \text{Bonds}_i \times 100 \]</p>

                <p class="font-semibold mt-4 mb-1">
                  5. Weighted average yield to maturity
                </p>
                <p>
                  \[ \text{Avg YTM} = \frac{\sum_i \text{Cost}_i \times
                  \text{YTM}_i}{\sum_i \text{Cost}_i} \]
                </p>

                <p class="font-semibold mt-4 mb-1">
                  6. Approximate Macaulay duration
                </p>
                <p>
                  For simplicity, we approximate duration using maturity and
                  yield:
                </p>
                <p>
                  \[ D_i \approx \frac{\text{Maturity}_i}{1 + \text{YTM}_i} \]
                </p>
                <p>
                  \[ D_{\text{ladder}} = \frac{\sum_i \text{Cost}_i \times
                  D_i}{\sum_i \text{Cost}_i} \]
                </p>
              </div>

              <h2>What is a bond ladder?</h2>
              <p>
                A <strong>bond ladder</strong> is a portfolio of bonds with
                staggered maturities. For example, you might buy bonds maturing
                in 1, 2, 3, 4, and 5 years. As each bond matures, you can
                either:
              </p>
              <ul>
                <li>
                  Use the principal for spending (e.g., living expenses,
                  tuition), or
                </li>
                <li>
                  Reinvest it into a new long-term bond at the far end of the
                  ladder.
                </li>
              </ul>
              <p>
                This structure gives you a predictable schedule of cash flows
                and reduces the risk of locking all your money into a single
                interest-rate environment.
              </p>

              <h3>Why investors use bond ladders</h3>
              <ul>
                <li>
                  <strong>Predictable cash flows</strong> – known maturity dates
                  and coupon payments.
                </li>
                <li>
                  <strong>Interest-rate diversification</strong> – different
                  rungs are exposed to different parts of the yield curve.
                </li>
                <li>
                  <strong>Reinvestment flexibility</strong> – as bonds mature,
                  you can reinvest at current rates or spend the cash.
                </li>
                <li>
                  <strong>Lower volatility than long-only bonds</strong> –
                  shorter rungs reduce sensitivity to rate spikes.
                </li>
              </ul>

              <h3>Example: 5-year bond ladder</h3>
              <p>
                Suppose you invest \$50,000 and build a 5-rung ladder from 1 to
                5 years:
              </p>
              <ul>
                <li>Rung 1 – 1-year bond, \$10,000</li>
                <li>Rung 2 – 2-year bond, \$10,000</li>
                <li>Rung 3 – 3-year bond, \$10,000</li>
                <li>Rung 4 – 4-year bond, \$10,000</li>
                <li>Rung 5 – 5-year bond, \$10,000</li>
              </ul>
              <p>
                Each year, one rung matures and returns \$10,000 of principal.
                You can reinvest that into a new 5-year bond, keeping the ladder
                length constant, or use the cash for planned expenses.
              </p>

              <h2>Best practices for building a bond ladder</h2>
              <h3>1. Choose the right time horizon</h3>
              <p>
                Start from your goals: are you funding living expenses for the
                next 5 years, or preserving capital for 15+ years? Your
                <strong>longest maturity</strong> should roughly match the
                latest date you need predictable cash.
              </p>

              <h3>2. Decide on rung spacing</h3>
              <ul>
                <li>
                  <strong>Annual rungs</strong> (1, 2, 3, 4, 5 years) – simple
                  and common for retirees.
                </li>
                <li>
                  <strong>Semi-annual or quarterly rungs</strong> – smoother
                  cash flows, more complexity.
                </li>
                <li>
                  <strong>Custom rungs</strong> – align maturities with known
                  expenses (tuition, balloon payments, etc.).
                </li>
              </ul>

              <h3>3. Diversify issuers and credit risk</h3>
              <p>
                Avoid concentrating your ladder in a single issuer or sector.
                Many investors prefer:
              </p>
              <ul>
                <li>Government or investment-grade bonds for core rungs</li>
                <li>Limited exposure to lower-rated bonds, if any</li>
                <li>Awareness of call features and sinking funds</li>
              </ul>

              <h3>4. Understand call and reinvestment risk</h3>
              <p>
                Callable bonds can be redeemed early if interest rates fall,
                forcing you to reinvest at lower yields. The calculator assumes
                bonds are held to stated maturity and does not model early
                calls, so treat callable bonds with extra caution.
              </p>

              <h3>5. Reinvesting vs. spending</h3>
              <p>A ladder can be:</p>
              <ul>
                <li>
                  <strong>Self-liquidating</strong> – you spend principal as
                  rungs mature, gradually shrinking the ladder.
                </li>
                <li>
                  <strong>Perpetual</strong> – you reinvest each maturing rung
                  at the long end, keeping the ladder length constant.
                </li>
              </ul>
              <p>
                Use the cash-flow table in this calculator to check whether your
                ladder generates enough income and principal at the times you
                need it.
              </p>

              <h2>Limitations and assumptions</h2>
              <ul>
                <li>
                  Coupons are assumed to be paid annually and reinvested at the
                  same yield (for duration approximation).
                </li>
                <li>No defaults, downgrades, or early calls are modeled.</li>
                <li>
                  Taxes, transaction costs, and bid–ask spreads are ignored.
                </li>
                <li>
                  Duration is approximated using maturity and yield; for precise
                  risk management, use full bond pricing models.
                </li>
              </ul>

              <p class="text-xs text-gray-500">
                This tool is for educational and planning purposes only and is
                not investment advice. Always check actual bond terms, tax
                implications, and your personal situation with a qualified
                professional before investing.
              </p>

              <h2>FAQ</h2>

              <h3>Is a bond ladder better than a bond fund?</h3>
              <p>
                A bond ladder gives you control over specific bonds and maturity
                dates, which can be helpful if you need cash on known dates.
                Bond funds offer diversification and convenience but do not have
                a fixed maturity date and can be more volatile when rates move.
                Many investors use both, depending on their goals.
              </p>

              <h3>Can I build a bond ladder with ETFs?</h3>
              <p>
                Yes, some investors approximate a ladder using
                <strong>target-maturity bond ETFs</strong> (also called
                defined-maturity ETFs). Each ETF holds many bonds that all
                mature in the same year, and the ETF itself terminates around
                that date. You can treat each ETF as a “rung” in your ladder,
                using this calculator to plan allocations and cash flows.
              </p>

              <h3>How often should I review my bond ladder?</h3>
              <p>At minimum, review your ladder when:</p>
              <ul>
                <li>A rung is about to mature</li>
                <li>Interest rates move significantly</li>
                <li>Your spending needs or risk tolerance change</li>
              </ul>
              <p>
                Use the scenario buttons (+1% / −1% yields) to see how changes
                in yields might affect your ladder’s average yield and duration.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bond, Ladder.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bond, Ladder.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Finance Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/portfolio-standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation of a Portfolio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/npv"
                  class="text-blue-600 hover:underline"
                  >NPV (Net Present Value)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/irr"
                  class="text-blue-600 hover:underline"
                  >IRR (Internal Rate of Return)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dividend-yield"
                  class="text-blue-600 hover:underline"
                  >Dividend Yield</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/future-value-of-annuity"
                  class="text-blue-600 hover:underline"
                  >Future Value of an Annuity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/asset-allocation"
                  class="text-blue-600 hover:underline"
                  >Asset Allocation</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Finance Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/retirement"
                  class="text-blue-600 hover:underline"
                  >Retirement Planner</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/paycheck"
                  class="text-blue-600 hover:underline"
                  >Paycheck Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Estimator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Core ladder state
      let ladder = [];
      const PAR_VALUE = 100;

      const totalInvestmentEl = document.getElementById("totalInvestment");
      const numRungsEl = document.getElementById("numRungs");
      const minMaturityEl = document.getElementById("minMaturity");
      const maxMaturityEl = document.getElementById("maxMaturity");
      const ladderBodyEl = document.getElementById("ladderBody");

      const summaryTotalCostEl = document.getElementById("summaryTotalCost");
      const summaryAvgYTMEl = document.getElementById("summaryAvgYTM");
      const summaryDurationEl = document.getElementById("summaryDuration");

      const cashFlowHeaderRow = document.getElementById("cashFlowHeaderRow");
      const cashFlowCouponsRow = document.getElementById("cashFlowCouponsRow");
      const cashFlowMaturitiesRow = document.getElementById(
        "cashFlowMaturitiesRow"
      );
      const cashFlowTotalRow = document.getElementById("cashFlowTotalRow");

      function formatCurrency(value) {
        if (!isFinite(value)) return "$0";
        return (
          "$" + value.toLocaleString(undefined, { maximumFractionDigits: 0 })
        );
      }

      function formatPercent(value, digits = 2) {
        if (!isFinite(value)) return "0.00%";
        return value.toFixed(digits) + "%";
      }

      function renderLadderTable() {
        ladderBodyEl.innerHTML = "";
        ladder.forEach((rung, index) => {
          const tr = document.createElement("tr");

          const estAnnualCoupon =
            rung.bonds * PAR_VALUE * (rung.couponRate / 100);
          const maturityCash = rung.bonds * PAR_VALUE;

          tr.innerHTML = `
        <td class="px-2 py-2 text-gray-700">${index + 1}</td>
        <td class="px-2 py-1">
          <input type="number" min="0.1" step="0.1" value="${
            rung.maturity
          }" data-index="${index}" data-field="maturity"
            class="table-input w-20 border-gray-300 rounded px-2 py-1 text-xs" />
        </td>
        <td class="px-2 py-1">
          <input type="number" min="0" step="100" value="${
            rung.allocation
          }" data-index="${index}" data-field="allocation"
            class="table-input w-24 border-gray-300 rounded px-2 py-1 text-xs" />
        </td>
        <td class="px-2 py-1">
          <input type="number" min="0" step="0.1" value="${
            rung.couponRate
          }" data-index="${index}" data-field="couponRate"
            class="table-input w-20 border-gray-300 rounded px-2 py-1 text-xs" />
        </td>
        <td class="px-2 py-1">
          <input type="number" min="0" step="0.1" value="${
            rung.ytm
          }" data-index="${index}" data-field="ytm"
            class="table-input w-20 border-gray-300 rounded px-2 py-1 text-xs" />
        </td>
        <td class="px-2 py-1">
          <input type="number" min="1" step="0.1" value="${
            rung.price
          }" data-index="${index}" data-field="price"
            class="table-input w-20 border-gray-300 rounded px-2 py-1 text-xs" />
        </td>
        <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
          estAnnualCoupon
        )}</td>
        <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
          maturityCash
        )}</td>
        <td class="px-2 py-1 text-center">
          <button type="button" data-index="${index}" class="remove-rung text-red-500 hover:text-red-700 text-xs">✕</button>
        </td>
      `;
          ladderBodyEl.appendChild(tr);
        });
        attachTableListeners();
        updateSummary();
      }

      function attachTableListeners() {
        ladderBodyEl.querySelectorAll("input").forEach((input) => {
          input.addEventListener("input", onTableInputChange);
        });
        ladderBodyEl.querySelectorAll(".remove-rung").forEach((btn) => {
          btn.addEventListener("click", onRemoveRung);
        });
      }

      function onTableInputChange(e) {
        const index = parseInt(e.target.getAttribute("data-index"), 10);
        const field = e.target.getAttribute("data-field");
        let value = parseFloat(e.target.value);
        if (!isFinite(value)) value = 0;

        ladder[index][field] = value;

        // Recompute bonds from allocation and price
        const alloc = ladder[index].allocation;
        const price = ladder[index].price;
        const bondCost = (price / 100) * PAR_VALUE;
        ladder[index].bonds = bondCost > 0 ? alloc / bondCost : 0;

        renderLadderTable();
      }

      function onRemoveRung(e) {
        const index = parseInt(e.target.getAttribute("data-index"), 10);
        ladder.splice(index, 1);
        renderLadderTable();
      }

      function generateEqualRungs() {
        const totalInvestment = parseFloat(totalInvestmentEl.value) || 0;
        const numRungs = Math.max(
          1,
          Math.min(20, parseInt(numRungsEl.value, 10) || 1)
        );
        const minMat = parseFloat(minMaturityEl.value) || 1;
        const maxMat = parseFloat(maxMaturityEl.value) || minMat;

        const step = numRungs === 1 ? 0 : (maxMat - minMat) / (numRungs - 1);
        const allocPerRung = totalInvestment / numRungs;

        ladder = [];
        for (let i = 0; i < numRungs; i++) {
          const maturity = +(minMat + step * i).toFixed(2);
          const couponRate = 4 + i * 0.25; // simple upward curve default
          const ytm = couponRate;
          const price = 100;
          const bondCost = (price / 100) * PAR_VALUE;
          const bonds = bondCost > 0 ? allocPerRung / bondCost : 0;

          ladder.push({
            maturity,
            allocation: Math.round(allocPerRung),
            couponRate: +couponRate.toFixed(2),
            ytm: +ytm.toFixed(2),
            price,
            bonds,
          });
        }
        renderLadderTable();
      }

      function addRung() {
        const last = ladder[ladder.length - 1];
        const maturity = last ? +(last.maturity + 1).toFixed(2) : 1;
        const allocation = last
          ? last.allocation
          : parseFloat(totalInvestmentEl.value) || 10000;
        const couponRate = last ? last.couponRate : 4;
        const ytm = last ? last.ytm : 4;
        const price = last ? last.price : 100;
        const bondCost = (price / 100) * PAR_VALUE;
        const bonds = bondCost > 0 ? allocation / bondCost : 0;

        ladder.push({
          maturity,
          allocation,
          couponRate,
          ytm,
          price,
          bonds,
        });
        renderLadderTable();
      }

      function updateSummary() {
        if (!ladder.length) {
          summaryTotalCostEl.textContent = "$0";
          summaryAvgYTMEl.textContent = "0.00%";
          summaryDurationEl.textContent = "0.0 yrs";
          renderCashFlows([]);
          return;
        }

        let totalCost = 0;
        let weightedYtmSum = 0;
        let durationWeightedSum = 0;

        ladder.forEach((rung) => {
          const bondCost = (rung.price / 100) * PAR_VALUE;
          const cost = rung.bonds * bondCost;
          totalCost += cost;
          weightedYtmSum += cost * (rung.ytm / 100);

          const approxDuration =
            rung.ytm > 0 ? rung.maturity / (1 + rung.ytm / 100) : rung.maturity;
          durationWeightedSum += cost * approxDuration;
        });

        const avgYtm = totalCost > 0 ? (weightedYtmSum / totalCost) * 100 : 0;
        const duration = totalCost > 0 ? durationWeightedSum / totalCost : 0;

        summaryTotalCostEl.textContent = formatCurrency(totalCost);
        summaryAvgYTMEl.textContent = formatPercent(avgYtm);
        summaryDurationEl.textContent = duration.toFixed(1) + " yrs";

        renderCashFlows(ladder);
      }

      function renderCashFlows(ladderData) {
        cashFlowHeaderRow.innerHTML = "";
        cashFlowCouponsRow.innerHTML = "";
        cashFlowMaturitiesRow.innerHTML = "";
        cashFlowTotalRow.innerHTML = "";

        if (!ladderData.length) return;

        const maxYear = Math.ceil(
          Math.max(...ladderData.map((r) => r.maturity))
        );
        const years = [];
        for (let y = 1; y <= maxYear; y++) years.push(y);

        cashFlowHeaderRow.innerHTML =
          '<th class="px-2 py-2 text-left font-semibold text-gray-700">Year</th>' +
          years
            .map(
              (y) =>
                `<th class="px-2 py-2 text-right font-semibold text-gray-700">${y}</th>`
            )
            .join("");

        cashFlowCouponsRow.innerHTML =
          '<td class="px-2 py-1 text-left text-gray-700">Coupons</td>';
        cashFlowMaturitiesRow.innerHTML =
          '<td class="px-2 py-1 text-left text-gray-700">Maturities</td>';
        cashFlowTotalRow.innerHTML =
          '<td class="px-2 py-1 text-left text-gray-800">Total cash</td>';

        years.forEach((year) => {
          let coupons = 0;
          let maturities = 0;

          ladderData.forEach((rung) => {
            const annualCoupon =
              rung.bonds * PAR_VALUE * (rung.couponRate / 100);
            if (year <= Math.floor(rung.maturity + 1e-6)) {
              coupons += annualCoupon;
            }
            if (Math.abs(year - rung.maturity) < 0.5) {
              maturities += rung.bonds * PAR_VALUE;
            }
          });

          const total = coupons + maturities;

          cashFlowCouponsRow.innerHTML += `<td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            coupons
          )}</td>`;
          cashFlowMaturitiesRow.innerHTML += `<td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            maturities
          )}</td>`;
          cashFlowTotalRow.innerHTML += `<td class="px-2 py-1 text-right text-gray-800">${formatCurrency(
            total
          )}</td>`;
        });
      }

      function copyLadderAsCsv() {
        if (!ladder.length) return;
        const header = [
          "Rung",
          "Maturity (years)",
          "Allocation ($)",
          "Coupon rate (%)",
          "Yield to maturity (%)",
          "Price (% of par)",
          "Estimated annual coupon ($)",
          "Cash at maturity ($)",
        ];
        const rows = [header];

        ladder.forEach((rung, i) => {
          const estAnnualCoupon =
            rung.bonds * PAR_VALUE * (rung.couponRate / 100);
          const maturityCash = rung.bonds * PAR_VALUE;
          rows.push([
            i + 1,
            rung.maturity,
            rung.allocation,
            rung.couponRate,
            rung.ytm,
            rung.price,
            estAnnualCoupon.toFixed(2),
            maturityCash.toFixed(2),
          ]);
        });

        const csv = rows.map((r) => r.join(",")).join("\n");
        navigator.clipboard
          .writeText(csv)
          .then(() => {
            alert("Bond ladder copied to clipboard as CSV.");
          })
          .catch(() => {
            alert(
              "Unable to copy to clipboard. Please check your browser permissions."
            );
          });
      }

      function resetLadder() {
        if (!confirm("Reset the ladder to default settings?")) return;
        generateEqualRungs();
      }

      function shiftYields(delta) {
        ladder = ladder.map((rung) => ({
          ...rung,
          ytm: +(rung.ytm + delta).toFixed(2),
        }));
        renderLadderTable();
      }

      document
        .getElementById("generateRungsBtn")
        .addEventListener("click", generateEqualRungs);
      document.getElementById("addRungBtn").addEventListener("click", addRung);
      document
        .getElementById("copyCsvBtn")
        .addEventListener("click", copyLadderAsCsv);
      document
        .getElementById("resetLadderBtn")
        .addEventListener("click", resetLadder);
      document
        .getElementById("shiftYieldsUpBtn")
        .addEventListener("click", () => shiftYields(1));
      document
        .getElementById("shiftYieldsDownBtn")
        .addEventListener("click", () => shiftYields(-1));

      // Initialize default ladder on load
      generateEqualRungs();

      // Mobile menu script (from template)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          const expanded = this.getAttribute("aria-expanded") === "true";
          this.setAttribute("aria-expanded", String(!expanded));
          menu.classList.toggle("hidden");
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
