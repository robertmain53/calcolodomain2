<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/pump-sizing" />
    <title>Pump Sizing Calculator Guide [Elite 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Pump Sizing Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Pump Sizing Calculator Guide [Elite 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Pump Sizing Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/pump-sizing" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Pump Sizing Calculator Guide [Elite 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Pump Sizing Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Pump Sizing Calculator – Flow, TDH, NPSH & Power",
        "url": "https://calcdomain.com/pump-sizing",
        "description": "Free pump sizing calculator for engineers. Estimate required pump head (TDH), NPSH available, pump power, and motor size from flow, pipe data, elevations, and fittings.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Engineering",
              "item": "https://calcdomain.com/categories/engineering"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Mechanical Engineering",
              "item": "https://calcdomain.com/mechanical-engineering"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Pump Sizing Calculator"
            }
          ]
        },
        "mainEntity": {
          "@type": "FAQPage",
          "name": "Pump Sizing Calculator FAQ",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What inputs do I need for pump sizing?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For basic pump sizing you need the required flow rate, suction and discharge elevations, suction and discharge pipe lengths and diameters, number of fittings, fluid temperature and specific gravity, and an estimate of pump efficiency. From these the calculator estimates total dynamic head (TDH), NPSH available, and pump power."
              }
            },
            {
              "@type": "Question",
              "name": "What is Total Dynamic Head (TDH)?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Total Dynamic Head is the total head the pump must overcome. It is the sum of static head (elevation difference), friction losses in suction and discharge piping, and any additional pressure head at the discharge. TDH is used together with flow rate to select a pump from manufacturer curves."
              }
            },
            {
              "@type": "Question",
              "name": "How accurate is this pump sizing calculator?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The calculator uses standard engineering correlationpreliminary sizing and educational use. Final pump selection should always be checked against manufacturer performance curves and project-specific design standards."
              }
            },
            {
              "@type": "Question",
              "name": "Can this calculator check NPSH?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. The tool estimates Net Positive Suction Head Available (NPSHa) from fluid temperature, suction elevation, and suction line losses. You should compare NPSHa to the pump's NPSH Required (NPSHr) from the datasheet and maintain a safety margin, typically NPSHa ≥ 1.3–1.5 × NPSHr."
              }
            }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Mechanical Engineering Calculators", "item": "https://calcdomain.com/subcategories/mechanical-engineering"}, {"@type": "ListItem", "position": 4, "name": "Pump Sizing Calculator", "item": "https://calcdomain.com/pump-sizing"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/mechanical-engineering" class="text-blue-600 hover:underline">Mechanical Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Pump Sizing Calculator</span></li>
  </ol>
</nav>

      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Pump Sizing Calculator
              </h1>
              <p class="text-gray-600">
                Estimate required pump head (TDH), NPSH available, pump power,
                and motor size from flow, pipe, and elevation data. Ideal for
                preliminary water and process pump selection.
              </p>
            </header>

            <!-- Calculator Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex flex-wrap gap-2" aria-label="Pump sizing modes">
                <button
                  type="button"
                  data-mode="simple"
                  class="mode-tab px-3 py-2 text-sm font-medium border-b-2 border-blue-600 text-blue-600"
                >
                  Simple sizing
                </button>
                <button
                  type="button"
                  data-mode="detailed"
                  class="mode-tab px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Detailed (TDH & NPSH)
                </button>
              </nav>
            </div>

            <!-- SIMPLE MODE -->
            <section id="mode-simple" class="space-y-4">
              <div
                class="bg-blue-50 border border-blue-100 rounded-md p-3 text-sm text-blue-900"
              >
                Quick estimate of pump head and power for clean water with
                typical piping losses. For engineering work, use the Detailed
                tab.
              </div>

              <div class="input-grid">
                <div>
                  <label
                    for="simple-flow"
                    class="block text-sm font-medium text-gray-700"
                    >Flow rate</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="simple-flow"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="20"
                    />
                    <select
                      id="simple-flow-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m3h">m³/h</option>
                      <option value="lps">L/s</option>
                      <option value="gpm">US gpm</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="simple-static-head"
                    class="block text-sm font-medium text-gray-700"
                    >Static head (elevation difference)</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="simple-static-head"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="15"
                    />
                    <select
                      id="simple-static-head-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m">m</option>
                      <option value="ft">ft</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Difference between liquid level at suction and discharge.
                  </p>
                </div>

                <div>
                  <label
                    for="simple-friction-factor"
                    class="block text-sm font-medium text-gray-700"
                    >Friction allowance</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="simple-friction-factor"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="0.3"
                    />
                    <span
                      class="inline-flex items-center border border-l-0 rounded-r-md px-3 bg-gray-50 text-sm text-gray-600"
                      >fraction of static head</span
                    >
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    0.2–0.5 is typical for short to moderate piping.
                  </p>
                </div>

                <div>
                  <label
                    for="simple-efficiency"
                    class="block text-sm font-medium text-gray-700"
                    >Pump efficiency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="simple-efficiency"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="70"
                    />
                    <span
                      class="inline-flex items-center border border-l-0 rounded-r-md px-3 bg-gray-50 text-sm text-gray-600"
                      >%</span
                    >
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Overall pump + motor efficiency at duty point.
                  </p>
                </div>
              </div>

              <div class="mt-2 flex flex-wrap gap-3 items-center">
                <button
                  id="simple-calc-btn"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate
                </button>
                <button
                  id="simple-reset-btn"
                  type="button"
                  class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm"
                >
                  Reset
                </button>
              </div>

              <div id="simple-results" class="mt-4 hidden">
                <h2 class="text-lg font-semibold mb-2">
                  Results – Simple Sizing
                </h2>
                <div class="grid md:grid-cols-2 gap-3">
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Estimated Total Dynamic Head
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="simple-tdh-display">–</span> m
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="simple-tdh-display-ft">–</span> ft
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Hydraulic Power
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="simple-power-hydraulic">–</span> kW
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="simple-power-hydraulic-hp">–</span> hp
                      (hydraulic)
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Estimated Motor Power
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="simple-power-motor">–</span> kW
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="simple-power-motor-hp">–</span> hp (select next
                      standard size)
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- DETAILED MODE -->
            <section id="mode-detailed" class="space-y-4 hidden">
              <div
                class="bg-amber-50 border border-amber-100 rounded-md p-3 text-sm text-amber-900"
              >
                Detailed TDH and NPSH calculation using Darcy–Weisbach and
                typical K-values for fittings. For clean liquids only; verify
                final selection with manufacturer curves and standards.
              </div>

              <!-- Fluid & operating conditions -->
              <h2 class="text-lg font-semibold mt-2">
                1. Fluid & Operating Conditions
              </h2>
              <div class="input-grid">
                <div>
                  <label
                    for="det-flow"
                    class="block text-sm font-medium text-gray-700"
                    >Flow rate</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-flow"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="20"
                    />
                    <select
                      id="det-flow-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m3h">m³/h</option>
                      <option value="lps">L/s</option>
                      <option value="gpm">US gpm</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="det-fluid-sg"
                    class="block text-sm font-medium text-gray-700"
                    >Specific gravity (SG)</label
                  >
                  <input
                    id="det-fluid-sg"
                    type="number"
                    step="any"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                    value="1.0"
                  />
                  <p class="mt-1 text-xs text-gray-500">
                    Water ≈ 1.0 at ambient. Multiply water head by SG for
                    heavier liquids.
                  </p>
                </div>

                <div>
                  <label
                    for="det-temp"
                    class="block text-sm font-medium text-gray-700"
                    >Fluid temperature</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-temp"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="20"
                    />
                    <select
                      id="det-temp-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="C">°C</option>
                      <option value="F">°F</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Used to estimate vapor pressure for NPSH.
                  </p>
                </div>

                <div>
                  <label
                    for="det-efficiency"
                    class="block text-sm font-medium text-gray-700"
                    >Pump efficiency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-efficiency"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="70"
                    />
                    <span
                      class="inline-flex items-center border border-l-0 rounded-r-md px-3 bg-gray-50 text-sm text-gray-600"
                      >%</span
                    >
                  </div>
                </div>
              </div>

              <!-- Geometry -->
              <h2 class="text-lg font-semibold mt-4">
                2. Geometry & Elevations
              </h2>
              <div class="input-grid">
                <div>
                  <label
                    for="det-suction-static"
                    class="block text-sm font-medium text-gray-700"
                    >Suction static head</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-suction-static"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="2"
                    />
                    <select
                      id="det-suction-static-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m">m (positive = flooded)</option>
                      <option value="ft">ft</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Liquid level above (+) or below (–) pump centerline.
                  </p>
                </div>

                <div>
                  <label
                    for="det-discharge-static"
                    class="block text-sm font-medium text-gray-700"
                    >Discharge static head</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-discharge-static"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="15"
                    />
                    <select
                      id="det-discharge-static-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m">m above pump</option>
                      <option value="ft">ft</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Elevation difference from pump centerline to discharge free
                    surface.
                  </p>
                </div>

                <div>
                  <label
                    for="det-suction-length"
                    class="block text-sm font-medium text-gray-700"
                    >Suction pipe length</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-suction-length"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="5"
                    />
                    <select
                      id="det-suction-length-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m">m</option>
                      <option value="ft">ft</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="det-discharge-length"
                    class="block text-sm font-medium text-gray-700"
                    >Discharge pipe length</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-discharge-length"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="40"
                    />
                    <select
                      id="det-discharge-length-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="m">m</option>
                      <option value="ft">ft</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="det-suction-diameter"
                    class="block text-sm font-medium text-gray-700"
                    >Suction pipe diameter</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-suction-diameter"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="80"
                    />
                    <select
                      id="det-suction-diameter-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="mm">mm</option>
                      <option value="in">inch</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="det-discharge-diameter"
                    class="block text-sm font-medium text-gray-700"
                    >Discharge pipe diameter</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-discharge-diameter"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="65"
                    />
                    <select
                      id="det-discharge-diameter-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="mm">mm</option>
                      <option value="in">inch</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Fittings -->
              <h2 class="text-lg font-semibold mt-4">
                3. Fittings & Valves (Equivalent K-values)
              </h2>
              <div class="grid md:grid-cols-3 gap-3">
                <div>
                  <label
                    for="det-elbows"
                    class="block text-sm font-medium text-gray-700"
                    >Standard 90° elbows</label
                  >
                  <input
                    id="det-elbows"
                    type="number"
                    step="1"
                    min="0"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                    value="4"
                  />
                  <p class="mt-1 text-xs text-gray-500">
                    K ≈ 0.9 each (turbulent).
                  </p>
                </div>
                <div>
                  <label
                    for="det-gate-valves"
                    class="block text-sm font-medium text-gray-700"
                    >Gate valves (open)</label
                  >
                  <input
                    id="det-gate-valves"
                    type="number"
                    step="1"
                    min="0"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                    value="2"
                  />
                  <p class="mt-1 text-xs text-gray-500">K ≈ 0.2 each.</p>
                </div>
                <div>
                  <label
                    for="det-check-valves"
                    class="block text-sm font-medium text-gray-700"
                    >Check valves</label
                  >
                  <input
                    id="det-check-valves"
                    type="number"
                    step="1"
                    min="0"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                    value="1"
                  />
                  <p class="mt-1 text-xs text-gray-500">K ≈ 2.0 each.</p>
                </div>
              </div>

              <!-- Suction conditions for NPSH -->
              <h2 class="text-lg font-semibold mt-4">
                4. Suction Conditions (for NPSH)
              </h2>
              <div class="input-grid">
                <div>
                  <label
                    for="det-atm-pressure"
                    class="block text-sm font-medium text-gray-700"
                    >Atmospheric pressure</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-atm-pressure"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="101.3"
                    />
                    <select
                      id="det-atm-pressure-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="kpa">kPa</option>
                      <option value="bar">bar</option>
                      <option value="psi">psi</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Sea level ≈ 101.3 kPa.
                  </p>
                </div>

                <div>
                  <label
                    for="det-suction-pressure"
                    class="block text-sm font-medium text-gray-700"
                    >Surface pressure on suction tank</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="det-suction-pressure"
                      type="number"
                      step="any"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="0"
                    />
                    <select
                      id="det-suction-pressure-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="kpa">kPa (gauge)</option>
                      <option value="bar">bar (gauge)</option>
                      <option value="psi">psi (gauge)</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    0 = vented to atmosphere.
                  </p>
                </div>
              </div>

              <div class="mt-3 flex flex-wrap gap-3 items-center">
                <button
                  id="det-calc-btn"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate TDH & NPSH
                </button>
                <button
                  id="det-reset-btn"
                  type="button"
                  class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm"
                >
                  Reset
                </button>
              </div>

              <div id="det-results" class="mt-5 hidden">
                <h2 class="text-lg font-semibold mb-2">
                  Results – Detailed Sizing
                </h2>
                <div class="grid md:grid-cols-2 gap-3">
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Static Head
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="det-static-head">–</span> m
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="det-static-head-ft">–</span> ft
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Friction Loss (Total)
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="det-friction-head">–</span> m
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="det-friction-head-ft">–</span> ft
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Total Dynamic Head (TDH)
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="det-tdh">–</span> m
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="det-tdh-ft">–</span> ft
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Hydraulic Power
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="det-power-hydraulic">–</span> kW
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="det-power-hydraulic-hp">–</span> hp
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="text-xs uppercase tracking-wide text-gray-500">
                      Estimated Motor Power
                    </div>
                    <div class="text-xl font-semibold">
                      <span id="det-power-motor">–</span> kW
                    </div>
                    <div class="text-xs text-gray-500">
                      <span id="det-power-motor-hp">–</span> hp (select next
                      standard size)
                    </div>
                  </div>
                  <div class="p-3 rounded-md bg-gray-50 border">
                    <div class="flex items-center justify-between">
                      <div>
                        <div
                          class="text-xs uppercase tracking-wide text-gray-500"
                        >
                          NPSH Available (NPSHa)
                        </div>
                        <div class="text-xl font-semibold">
                          <span id="det-npsha">–</span> m
                        </div>
                        <div class="text-xs text-gray-500">
                          <span id="det-npsha-ft">–</span> ft
                        </div>
                      </div>
                      <span
                        id="det-npsh-status"
                        class="badge bg-gray-100 text-gray-700"
                        >N/A</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Compare with pump NPSHr from datasheet. Aim for NPSHa ≥
                      1.3–1.5 × NPSHr.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <!-- Explanation -->
            <section class="prose mt-8">
              <h2>How this pump sizing calculator works</h2>
              <p>
                This tool is designed for preliminary sizing of centrifugal
                pumps handling clean liquids (water-like viscosity). It
                estimates:
              </p>
              <ul>
                <li>Total Dynamic Head (TDH)</li>
                <li>Static head and friction losses</li>
                <li>Hydraulic power and required motor power</li>
                <li>Net Positive Suction Head Available (NPSHa)</li>
              </ul>

              <h3>1. Total Dynamic Head (TDH)</h3>
              <p>
                The pump must overcome the elevation difference plus all
                friction losses in suction and discharge piping:
              </p>
              <div class="formula-box">
                <p>
                  <strong>TDH</strong> = H<sub>static</sub> + H<sub
                    >friction,suction</sub
                  >
                  + H<sub>friction,discharge</sub> + H<sub>pressure</sub>
                </p>
                <p>
                  In this calculator we assume discharge to atmosphere, so H<sub
                    >pressure</sub
                  >
                  ≈ 0.
                </p>
              </div>
              <p>
                Static head is the difference between liquid levels at discharge
                and suction. Friction losses are computed with the
                Darcy–Weisbach equation.
              </p>

              <h3>2. Darcy–Weisbach friction losses</h3>
              <div class="formula-box">
                <p>H<sub>f</sub> = f · (L / D) · (v² / 2g)</p>
                <ul>
                  <li>H<sub>f</sub> = head loss (m)</li>
                  <li>
                    f = friction factor (dimensionless, Swamee–Jain correlation)
                  </li>
                  <li>L = pipe length (m)</li>
                  <li>D = internal diameter (m)</li>
                  <li>v = fluid velocity (m/s)</li>
                  <li>g = 9.81 m/s²</li>
                </ul>
              </div>
              <p>Fitting and valve losses are modeled with K-values:</p>
              <div class="formula-box">
                <p>H<sub>f, fittings</sub> = ΣK · (v² / 2g)</p>
              </div>
              <p>Typical K-values used here:</p>
              <ul>
                <li>Standard 90° elbow: K ≈ 0.9</li>
                <li>Gate valve (fully open): K ≈ 0.2</li>
                <li>Check valve: K ≈ 2.0</li>
              </ul>

              <h3>3. Pump hydraulic power and motor power</h3>
              <p>Hydraulic power is the power imparted to the fluid:</p>
              <div class="formula-box">
                <p>P<sub>hydraulic</sub> = ρ · g · Q · H / 1000</p>
                <ul>
                  <li>P<sub>hydraulic</sub> in kW</li>
                  <li>ρ = fluid density (kg/m³)</li>
                  <li>Q = flow rate (m³/s)</li>
                  <li>H = TDH (m)</li>
                </ul>
              </div>
              <p>Motor power is higher due to pump and motor inefficiencies:</p>
              <div class="formula-box">
                <p>P<sub>motor</sub> = P<sub>hydraulic</sub> / η</p>
                <p>η = overall efficiency (pump × motor), entered as %.</p>
              </div>

              <h3>4. NPSH Available (NPSHa)</h3>
              <p>
                Cavitation is avoided when the Net Positive Suction Head
                Available (NPSHa) exceeds the pump's NPSH Required (NPSHr). The
                calculator estimates:
              </p>
              <div class="formula-box">
                <p>
                  NPSHa = (P<sub>atm</sub> + P<sub>surface</sub>) / (ρg) + H<sub
                    >static,suction</sub
                  >
                  − H<sub>f,suction</sub> − H<sub>vapor</sub>
                </p>
                <ul>
                  <li>P<sub>atm</sub> = atmospheric pressure</li>
                  <li>P<sub>surface</sub> = gauge pressure on suction tank</li>
                  <li>
                    H<sub>static,suction</sub> = liquid level above (+) or below
                    (–) pump centerline
                  </li>
                  <li>H<sub>f,suction</sub> = suction line friction loss</li>
                  <li>
                    H<sub>vapor</sub> = vapor pressure head at fluid temperature
                  </li>
                </ul>
              </div>
              <p>
                As a rule of thumb, aim for NPSHa at least 1.3–1.5 times the
                pump's NPSHr from the manufacturer curve.
              </p>

              <h3>5. Limitations and good practice</h3>
              <ul>
                <li>
                  Assumes clean, Newtonian liquids with water-like viscosity.
                </li>
                <li>
                  Pipe roughness is approximated for commercial steel; plastic
                  pipes will have slightly lower losses.
                </li>
                <li>
                  Results are for preliminary sizing; always confirm with
                  detailed hydraulic calculations and pump vendor curves.
                </li>
                <li>
                  For viscous fluids, slurries, or complex systems (branches,
                  control valves, variable speed), use dedicated hydraulic
                  simulation software.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8" id="faq">
              <h2 class="text-xl font-semibold mb-3">Pump sizing FAQ</h2>
              <div class="space-y-3">
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What inputs do I need for pump sizing?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    For a basic estimate you need: required flow rate, suction
                    and discharge elevations, suction and discharge pipe lengths
                    and diameters, number of fittings and valves, fluid
                    temperature and specific gravity, and an estimate of pump
                    efficiency. With these, the calculator can estimate TDH,
                    NPSHa, and power.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How do I use the results to select a pump?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Use the calculated duty point (flow vs. TDH) and required
                    power to open manufacturer pump curves. Choose a pump whose
                    curve passes near the duty point, with efficiency as high as
                    practical and NPSHr comfortably below the NPSHa from this
                    calculator. Then select the next standard motor size above
                    the required motor power.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What safety factors should I apply?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Common practice is to add 5–15% margin on TDH for
                    uncertainties and fouling, and to choose a motor with at
                    least 10–20% power margin above the calculated requirement.
                    For NPSH, aim for NPSHa ≥ 1.3–1.5 × NPSHr. Always follow
                    your company or project standards.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can I use this for viscous or slurry fluids?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    No. This calculator assumes water-like viscosity and clean
                    flow. For viscous liquids, slurries, or multiphase flow,
                    friction factors and pump performance change significantly.
                    Use manufacturer correction charts or specialized hydraulic
                    software for those cases.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Pump, Sizing.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>

        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Mechanical Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/pipe-sizing"
                  class="text-blue-600 hover:underline"
                  >Pipe Sizing Calculator (for water)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hazen-williams"
                  class="text-blue-600 hover:underline"
                  >Pipe Flow Calculator (Hazen-Williams)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/darcy-weisbach"
                  class="text-blue-600 hover:underline"
                  >Pipe Flow Calculator (Darcy–Weisbach)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heat-transfer"
                  class="text-blue-600 hover:underline"
                  >Heat Transfer Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hvac-tonnage"
                  class="text-blue-600 hover:underline"
                  >HVAC Tonnage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gear-ratio"
                  class="text-blue-600 hover:underline"
                  >Gear Ratio Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/torque"
                  class="text-blue-600 hover:underline"
                  >Torque Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/speeds-and-feeds"
                  class="text-blue-600 hover:underline"
                  >Machining Speed and Feed</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/reynolds-number"
                  class="text-blue-600 hover:underline"
                  >Reynolds Number</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bernoulli-equation"
                  class="text-blue-600 hover:underline"
                  >Bernoulli's Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/moment-of-inertia"
                  class="text-blue-600 hover:underline"
                  >Moment of Inertia</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stress-and-strain"
                  class="text-blue-600 hover:underline"
                  >Stress and Strain</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heat-loss"
                  class="text-blue-600 hover:underline"
                  >Heat Loss Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Tab switching
      document.querySelectorAll(".mode-tab").forEach((btn) => {
        btn.addEventListener("click", () => {
          const mode = btn.dataset.mode;
          document.querySelectorAll(".mode-tab").forEach((b) => {
            b.classList.remove("border-blue-600", "text-blue-600");
            b.classList.add("border-transparent", "text-gray-600");
          });
          btn.classList.add("border-blue-600", "text-blue-600");
          btn.classList.remove("border-transparent", "text-gray-600");

          document
            .getElementById("mode-simple")
            .classList.toggle("hidden", mode !== "simple");
          document
            .getElementById("mode-detailed")
            .classList.toggle("hidden", mode !== "detailed");
        });
      });

      function toMeters(value, unit) {
        if (isNaN(value)) return 0;
        if (unit === "m") return value;
        if (unit === "ft") return value * 0.3048;
        return value;
      }

      function toMetersFromMmIn(value, unit) {
        if (isNaN(value)) return 0;
        if (unit === "mm") return value / 1000;
        if (unit === "in") return value * 0.0254;
        return value;
      }

      function flowToM3s(value, unit) {
        if (isNaN(value)) return 0;
        if (unit === "m3h") return value / 3600;
        if (unit === "lps") return value / 1000;
        if (unit === "gpm") return (value * 0.003785411784) / 60;
        return value;
      }

      function tempToC(value, unit) {
        if (isNaN(value)) return 0;
        if (unit === "C") return value;
        if (unit === "F") return ((value - 32) * 5) / 9;
        return value;
      }

      function pressureToPa(value, unit) {
        if (isNaN(value)) return 0;
        if (unit === "kpa") return value * 1000;
        if (unit === "bar") return value * 100000;
        if (unit === "psi") return value * 6894.75729;
        return value;
      }

      function round(val, digits) {
        if (!isFinite(val)) return "–";
        const factor = Math.pow(10, digits);
        return (Math.round(val * factor) / factor).toFixed(digits);
      }

      // Approximate water vapor pressure (Pa) from temperature in °C (Antoine-like simple fit)
      function waterVaporPressurePa(tempC) {
        // valid approx 0–100°C
        const T = tempC + 273.15;
        // Using simplified Antoine coefficients for water
        const A = 8.07131,
          B = 1730.63,
          C = 233.426;
        const mmHg = Math.pow(10, A - B / (tempC + C));
        const Pa = mmHg * 133.322;
        return Pa;
      }

      // SIMPLE MODE CALC
      document
        .getElementById("simple-calc-btn")
        .addEventListener("click", () => {
          const Q = flowToM3s(
            parseFloat(document.getElementById("simple-flow").value),
            document.getElementById("simple-flow-unit").value
          );
          const Hs = toMeters(
            parseFloat(document.getElementById("simple-static-head").value),
            document.getElementById("simple-static-head-unit").value
          );
          const frictionFactor = parseFloat(
            document.getElementById("simple-friction-factor").value
          );
          const eff =
            parseFloat(document.getElementById("simple-efficiency").value) /
            100;

          if (
            Q <= 0 ||
            Hs <= 0 ||
            !isFinite(frictionFactor) ||
            frictionFactor < 0 ||
            eff <= 0
          ) {
            alert(
              "Please enter valid positive values for flow, static head, friction allowance, and efficiency."
            );
            return;
          }

          const g = 9.81;
          const rho = 1000; // water
          const Hf = frictionFactor * Hs;
          const Htotal = Hs + Hf;

          const Ph = (rho * g * Q * Htotal) / 1000; // kW
          const Pm = Ph / eff;

          document.getElementById("simple-tdh-display").textContent = round(
            Htotal,
            2
          );
          document.getElementById("simple-tdh-display-ft").textContent = round(
            Htotal / 0.3048,
            2
          );
          document.getElementById("simple-power-hydraulic").textContent = round(
            Ph,
            2
          );
          document.getElementById("simple-power-hydraulic-hp").textContent =
            round(Ph * 1.34102209, 2);
          document.getElementById("simple-power-motor").textContent = round(
            Pm,
            2
          );
          document.getElementById("simple-power-motor-hp").textContent = round(
            Pm * 1.34102209,
            2
          );

          document.getElementById("simple-results").classList.remove("hidden");
        });

      document
        .getElementById("simple-reset-btn")
        .addEventListener("click", () => {
          document.getElementById("simple-flow").value = 20;
          document.getElementById("simple-flow-unit").value = "m3h";
          document.getElementById("simple-static-head").value = 15;
          document.getElementById("simple-static-head-unit").value = "m";
          document.getElementById("simple-friction-factor").value = 0.3;
          document.getElementById("simple-efficiency").value = 70;
          document.getElementById("simple-results").classList.add("hidden");
        });

      // DETAILED MODE CALC
      document.getElementById("det-calc-btn").addEventListener("click", () => {
        const g = 9.81;
        const rho =
          1000 *
          (parseFloat(document.getElementById("det-fluid-sg").value) || 1);
        const Q = flowToM3s(
          parseFloat(document.getElementById("det-flow").value),
          document.getElementById("det-flow-unit").value
        );
        const eff =
          (parseFloat(document.getElementById("det-efficiency").value) || 0) /
          100;

        if (Q <= 0 || eff <= 0 || rho <= 0) {
          alert(
            "Please enter valid positive values for flow, specific gravity, and efficiency."
          );
          return;
        }

        // Geometry
        const HsuctionStatic = toMeters(
          parseFloat(document.getElementById("det-suction-static").value),
          document.getElementById("det-suction-static-unit").value
        );
        const HdischargeStatic = toMeters(
          parseFloat(document.getElementById("det-discharge-static").value),
          document.getElementById("det-discharge-static-unit").value
        );
        const Ls = toMeters(
          parseFloat(document.getElementById("det-suction-length").value),
          document.getElementById("det-suction-length-unit").value
        );
        const Ld = toMeters(
          parseFloat(document.getElementById("det-discharge-length").value),
          document.getElementById("det-discharge-length-unit").value
        );
        const Ds = toMetersFromMmIn(
          parseFloat(document.getElementById("det-suction-diameter").value),
          document.getElementById("det-suction-diameter-unit").value
        );
        const Dd = toMetersFromMmIn(
          parseFloat(document.getElementById("det-discharge-diameter").value),
          document.getElementById("det-discharge-diameter-unit").value
        );

        if (Ds <= 0 || Dd <= 0 || Ls < 0 || Ld < 0) {
          alert(
            "Please enter valid positive diameters and non-negative lengths."
          );
          return;
        }

        // Velocities
        const As = Math.PI * Math.pow(Ds / 2, 2);
        const Ad = Math.PI * Math.pow(Dd / 2, 2);
        const vs = Q / As;
        const vd = Q / Ad;

        // Reynolds numbers (approx, water-like viscosity)
        const mu = 0.001; // Pa·s
        const Res = (rho * vs * Ds) / mu;
        const Red = (rho * vd * Dd) / mu;

        // Swamee–Jain friction factor, assume commercial steel roughness e = 0.000045 m
        const e = 0.000045;
        function frictionFactor(Re, D) {
          if (Re < 2000) {
            return 64 / Math.max(Re, 1); // laminar
          }
          const term = e / (3.7 * D) + 5.74 / Math.pow(Re, 0.9);
          return 0.25 / Math.pow(Math.log10(term), 2);
        }

        const fs = frictionFactor(Res, Ds);
        const fd = frictionFactor(Red, Dd);

        // Fittings K
        const elbows =
          parseFloat(document.getElementById("det-elbows").value) || 0;
        const gates =
          parseFloat(document.getElementById("det-gate-valves").value) || 0;
        const checks =
          parseFloat(document.getElementById("det-check-valves").value) || 0;
        const K_elbow = 0.9;
        const K_gate = 0.2;
        const K_check = 2.0;
        const K_total = elbows * K_elbow + gates * K_gate + checks * K_check;

        // Assume fittings distributed proportionally; here we simply add to discharge side for simplicity
        const Hf_suction = fs * (Ls / Ds) * ((vs * vs) / (2 * g));
        const Hf_discharge =
          fd * (Ld / Dd) * ((vd * vd) / (2 * g)) +
          K_total * ((vd * vd) / (2 * g));
        const Hf_total = Hf_suction + Hf_discharge;

        const H_static = HdischargeStatic - HsuctionStatic; // discharge level minus suction level

        const H_total = H_static + Hf_total;

        // Power
        const Ph = (rho * g * Q * H_total) / 1000; // kW
        const Pm = Ph / eff;

        // NPSH Available
        const tempC = tempToC(
          parseFloat(document.getElementById("det-temp").value),
          document.getElementById("det-temp-unit").value
        );
        const Pv = waterVaporPressurePa(tempC); // Pa
        const Patm = pressureToPa(
          parseFloat(document.getElementById("det-atm-pressure").value),
          document.getElementById("det-atm-pressure-unit").value
        );
        const Ps_g = pressureToPa(
          parseFloat(document.getElementById("det-suction-pressure").value),
          document.getElementById("det-suction-pressure-unit").value
        );

        const H_atm = Patm / (rho * g);
        const H_surface = Ps_g / (rho * g);
        const H_vapor = Pv / (rho * g);

        const NPSHa = H_atm + H_surface + HsuctionStatic - Hf_suction - H_vapor;

        // Update UI
        document.getElementById("det-static-head").textContent = round(
          H_static,
          2
        );
        document.getElementById("det-static-head-ft").textContent = round(
          H_static / 0.3048,
          2
        );
        document.getElementById("det-friction-head").textContent = round(
          Hf_total,
          2
        );
        document.getElementById("det-friction-head-ft").textContent = round(
          Hf_total / 0.3048,
          2
        );
        document.getElementById("det-tdh").textContent = round(H_total, 2);
        document.getElementById("det-tdh-ft").textContent = round(
          H_total / 0.3048,
          2
        );
        document.getElementById("det-power-hydraulic").textContent = round(
          Ph,
          2
        );
        document.getElementById("det-power-hydraulic-hp").textContent = round(
          Ph * 1.34102209,
          2
        );
        document.getElementById("det-power-motor").textContent = round(Pm, 2);
        document.getElementById("det-power-motor-hp").textContent = round(
          Pm * 1.34102209,
          2
        );
        document.getElementById("det-npsha").textContent = round(NPSHa, 2);
        document.getElementById("det-npsha-ft").textContent = round(
          NPSHa / 0.3048,
          2
        );

        const statusEl = document.getElementById("det-npsh-status");
        statusEl.classList.remove(
          "bg-gray-100",
          "text-gray-700",
          "bg-red-100",
          "text-red-700",
          "bg-green-100",
          "text-green-700"
        );
        if (NPSHa <= 0) {
          statusEl.textContent = "Very low";
          statusEl.classList.add("bg-red-100", "text-red-700");
        } else if (NPSHa < 2) {
          statusEl.textContent = "Check carefully";
          statusEl.classList.add("bg-amber-100", "text-amber-700");
        } else {
          statusEl.textContent = "Likely adequate*";
          statusEl.classList.add("bg-green-100", "text-green-700");
        }

        document.getElementById("det-results").classList.remove("hidden");
      });

      document.getElementById("det-reset-btn").addEventListener("click", () => {
        document.getElementById("det-flow").value = 20;
        document.getElementById("det-flow-unit").value = "m3h";
        document.getElementById("det-fluid-sg").value = 1.0;
        document.getElementById("det-temp").value = 20;
        document.getElementById("det-temp-unit").value = "C";
        document.getElementById("det-efficiency").value = 70;

        document.getElementById("det-suction-static").value = 2;
        document.getElementById("det-suction-static-unit").value = "m";
        document.getElementById("det-discharge-static").value = 15;
        document.getElementById("det-discharge-static-unit").value = "m";
        document.getElementById("det-suction-length").value = 5;
        document.getElementById("det-suction-length-unit").value = "m";
        document.getElementById("det-discharge-length").value = 40;
        document.getElementById("det-discharge-length-unit").value = "m";
        document.getElementById("det-suction-diameter").value = 80;
        document.getElementById("det-suction-diameter-unit").value = "mm";
        document.getElementById("det-discharge-diameter").value = 65;
        document.getElementById("det-discharge-diameter-unit").value = "mm";

        document.getElementById("det-elbows").value = 4;
        document.getElementById("det-gate-valves").value = 2;
        document.getElementById("det-check-valves").value = 1;

        document.getElementById("det-atm-pressure").value = 101.3;
        document.getElementById("det-atm-pressure-unit").value = "kpa";
        document.getElementById("det-suction-pressure").value = 0;
        document.getElementById("det-suction-pressure-unit").value = "kpa";

        document.getElementById("det-results").classList.add("hidden");
      });

      // Mobile menu
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const expanded = menu.classList.toggle("hidden");
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", !expanded);
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
