<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/potassium-calculator" />
    <title>Potassium Calculator Guide [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Potassium Calculator Guide fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Potassium Calculator Guide [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Potassium Calculator Guide fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/potassium-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Potassium Calculator Guide [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Potassium Calculator Guide fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Health & Fitness Calculators", "item": "https://calcdomain.com/categories/health-fitness"}, {"@type": "ListItem", "position": 3, "name": "Diet & Nutrition Calculators", "item": "https://calcdomain.com/subcategories/diet-nutrition"}, {"@type": "ListItem", "position": 4, "name": "Potassium Calculator", "item": "https://calcdomain.com/potassium-calculator"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Potassium Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">Potassium Calculator</h1>
              <p class="text-gray-700">
                Estimate daily potassium intake needs, serum potassium deficit,
                and suggested IV/oral replacement ranges. Designed for
                clinicians and students as an educational aid.
              </p>
              <p
                class="mt-2 text-xs text-red-600 font-semibold uppercase tracking-wide"
              >
                Medical disclaimer: For education only. Not for diagnosis or
                treatment. Always follow local protocols and a licensed
                clinician’s judgment.
              </p>
            </header>

            <!-- MODE TABS -->
            <div class="mb-6">
              <div
                class="inline-flex rounded-md shadow-sm border border-gray-200 overflow-hidden"
                role="tablist"
              >
                <button
                  id="tab-intake"
                  type="button"
                  class="px-4 py-2 text-sm font-medium bg-blue-600 text-white border-r border-gray-200 focus:outline-none"
                  data-mode="intake"
                >
                  Daily Intake
                </button>
                <button
                  id="tab-deficit"
                  type="button"
                  class="px-4 py-2 text-sm font-medium bg-white text-gray-700 hover:bg-gray-50 border-r border-gray-200 focus:outline-none"
                  data-mode="deficit"
                >
                  Serum Deficit
                </button>
                <button
                  id="tab-iv"
                  type="button"
                  class="px-4 py-2 text-sm font-medium bg-white text-gray-700 hover:bg-gray-50 focus:outline-none"
                  data-mode="iv"
                >
                  IV / Oral Replacement
                </button>
              </div>
            </div>

            <!-- CALCULATOR FORM -->
            <form id="potassium-form" class="space-y-6">
              <!-- COMMON: AGE, SEX, WEIGHT -->
              <section aria-labelledby="section-common">
                <h2 id="section-common" class="text-lg font-semibold mb-2">
                  Patient basics
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="age"
                      class="block text-sm font-medium text-gray-700"
                      >Age</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="age"
                        min="0"
                        max="120"
                        step="1"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                        value="40"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >years</span
                      >
                    </div>
                  </div>
                  <div>
                    <label
                      for="sex"
                      class="block text-sm font-medium text-gray-700"
                      >Sex at birth</label
                    >
                    <select
                      id="sex"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="female">Female</option>
                      <option value="male" selected>Male</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="weight"
                      class="block text-sm font-medium text-gray-700"
                      >Weight</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="weight"
                        min="1"
                        max="300"
                        step="0.1"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                        value="70"
                      />
                      <select
                        id="weight-unit"
                        class="border-gray-300 rounded-r-md bg-gray-50 text-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="kg" selected>kg</option>
                        <option value="lb">lb</option>
                      </select>
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Use actual body weight unless your protocol specifies
                      otherwise.
                    </p>
                  </div>
                </div>
              </section>

              <!-- MODE: DAILY INTAKE -->
              <section
                id="panel-intake"
                class="space-y-4"
                data-mode-panel="intake"
              >
                <h2 class="text-lg font-semibold">Daily potassium intake</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="activity-level"
                      class="block text-sm font-medium text-gray-700"
                      >Activity level</label
                    >
                    <select
                      id="activity-level"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="sedentary">Sedentary / low</option>
                      <option value="moderate" selected>Moderate</option>
                      <option value="high">High (heavy sweating)</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="renal-status"
                      class="block text-sm font-medium text-gray-700"
                      >Kidney function</label
                    >
                    <select
                      id="renal-status"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="normal" selected>
                        Normal / no known CKD
                      </option>
                      <option value="ckd">CKD / reduced GFR</option>
                      <option value="dialysis">On dialysis</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      High potassium intake may be unsafe in CKD or dialysis.
                      Follow nephrology guidance.
                    </p>
                  </div>
                </div>
              </section>

              <!-- MODE: SERUM DEFICIT -->
              <section
                id="panel-deficit"
                class="space-y-4 hidden"
                data-mode-panel="deficit"
              >
                <h2 class="text-lg font-semibold">Serum potassium deficit</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="serum-k"
                      class="block text-sm font-medium text-gray-700"
                      >Current serum K</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="serum-k"
                        min="1.0"
                        max="7.0"
                        step="0.1"
                        value="3.0"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >mEq/L</span
                      >
                    </div>
                  </div>
                  <div>
                    <label
                      for="target-k"
                      class="block text-sm font-medium text-gray-700"
                      >Target serum K</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="target-k"
                        min="3.0"
                        max="5.5"
                        step="0.1"
                        value="4.0"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >mEq/L</span
                      >
                    </div>
                  </div>
                  <div>
                    <label
                      for="deficit-factor"
                      class="block text-sm font-medium text-gray-700"
                      >Deficit factor</label
                    >
                    <select
                      id="deficit-factor"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="200">200 mEq per 1.0 mEq/L drop</option>
                      <option value="150" selected>
                        150 mEq per 1.0 mEq/L drop
                      </option>
                      <option value="100">100 mEq per 1.0 mEq/L drop</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      Rule-of-thumb for a 70 kg adult. Calculator scales this by
                      weight.
                    </p>
                  </div>
                </div>
              </section>

              <!-- MODE: IV / ORAL REPLACEMENT -->
              <section
                id="panel-iv"
                class="space-y-4 hidden"
                data-mode-panel="iv"
              >
                <h2 class="text-lg font-semibold">
                  IV / oral potassium replacement
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="route"
                      class="block text-sm font-medium text-gray-700"
                      >Route</label
                    >
                    <select
                      id="route"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="oral" selected>Oral (PO)</option>
                      <option value="iv-peripheral">
                        IV – peripheral line
                      </option>
                      <option value="iv-central">IV – central line</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="severity"
                      class="block text-sm font-medium text-gray-700"
                      >Severity of hypokalemia</label
                    >
                    <select
                      id="severity"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="mild" selected>
                        Mild (3.0–3.4 mEq/L)
                      </option>
                      <option value="moderate">Moderate (2.5–2.9 mEq/L)</option>
                      <option value="severe">Severe (&lt; 2.5 mEq/L)</option>
                    </select>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="iv-concentration"
                      class="block text-sm font-medium text-gray-700"
                      >Solution strength</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="iv-concentration"
                        min="1"
                        max="40"
                        step="1"
                        value="10"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                        >mEq / 100 mL</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Typical: 10 mEq/100 mL peripheral, 20–40 mEq/100 mL
                      central.
                    </p>
                  </div>
                  <div>
                    <label
                      for="max-rate"
                      class="block text-sm font-medium text-gray-700"
                      >Max infusion rate</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="max-rate"
                        min="5"
                        max="40"
                        step="1"
                        value="10"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                        >mEq / hour</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Common: ≤10 mEq/h peripheral, ≤20 mEq/h central with
                      monitoring.
                    </p>
                  </div>
                  <div>
                    <label
                      for="sessions"
                      class="block text-sm font-medium text-gray-700"
                      >Number of doses</label
                    >
                    <input
                      type="number"
                      id="sessions"
                      min="1"
                      max="12"
                      step="1"
                      value="2"
                      class="mt-1 w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                    />
                    <p class="mt-1 text-xs text-gray-500">
                      Split replacement into multiple monitored doses.
                    </p>
                  </div>
                </div>
              </section>

              <!-- ACTIONS -->
              <div
                class="flex flex-wrap items-center gap-3 pt-2 border-t border-gray-100"
              >
                <button
                  type="button"
                  id="calculate-btn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  Calculate
                </button>
                <button
                  type="button"
                  id="reset-btn"
                  class="inline-flex items-center px-3 py-2 bg-white text-gray-700 text-sm font-medium rounded-md border border-gray-300 hover:bg-gray-50"
                >
                  Reset
                </button>
                <p
                  id="warning-text"
                  class="text-xs text-red-600 font-medium ml-auto hidden"
                ></p>
              </div>
            </form>

            <!-- RESULTS -->
            <section
              id="results-section"
              class="mt-6 hidden"
              aria-live="polite"
            >
              <h2 class="text-lg font-semibold mb-3">Results</h2>
              <div id="results-intake" class="space-y-2 hidden">
                <div class="p-4 rounded-md bg-blue-50 border border-blue-100">
                  <p class="text-sm text-gray-800">
                    <span class="font-semibold"
                      >Suggested daily potassium intake:</span
                    >
                    <span
                      id="intake-mg"
                      class="font-semibold text-blue-700"
                    ></span>
                    mg/day
                  </p>
                  <p class="text-xs text-gray-600 mt-1" id="intake-note"></p>
                </div>
              </div>

              <div id="results-deficit" class="space-y-2 hidden">
                <div
                  class="p-4 rounded-md bg-yellow-50 border border-yellow-100"
                >
                  <p class="text-sm text-gray-800">
                    <span class="font-semibold"
                      >Estimated total body potassium deficit:</span
                    >
                    <span
                      id="deficit-meq"
                      class="font-semibold text-yellow-800"
                    ></span>
                    mEq
                  </p>
                  <p class="text-xs text-gray-700 mt-1" id="deficit-note"></p>
                </div>
              </div>

              <div id="results-iv" class="space-y-3 hidden">
                <div class="p-4 rounded-md bg-green-50 border border-green-100">
                  <p class="text-sm text-gray-800">
                    <span class="font-semibold"
                      >Suggested per-dose potassium amount:</span
                    >
                    <span
                      id="dose-meq"
                      class="font-semibold text-green-800"
                    ></span>
                    mEq
                  </p>
                  <p class="text-sm text-gray-800">
                    <span class="font-semibold">Volume per dose:</span>
                    <span
                      id="dose-volume"
                      class="font-semibold text-green-800"
                    ></span>
                  </p>
                  <p class="text-sm text-gray-800">
                    <span class="font-semibold"
                      >Infusion time per dose (at max rate):</span
                    >
                    <span
                      id="dose-time"
                      class="font-semibold text-green-800"
                    ></span>
                  </p>
                  <p class="text-xs text-gray-700 mt-1" id="iv-note"></p>
                </div>
              </div>

              <p class="mt-3 text-xs text-gray-500">
                These are approximate calculations based on published
                rules-of-thumb. Always individualize therapy and monitor ECG,
                serum potassium, and renal function.
              </p>
            </section>

            <!-- EXPLANATION CONTENT -->
            <section class="prose mt-10">
              <h2>How this potassium calculator works</h2>
              <p>
                This tool combines three commonly needed potassium-related
                calculations into one interface:
              </p>
              <ul>
                <li>
                  <strong>Daily intake</strong> – estimates a reasonable dietary
                  potassium target based on age, sex, and activity.
                </li>
                <li>
                  <strong>Serum deficit</strong> – estimates total body
                  potassium deficit from serum potassium and body weight.
                </li>
                <li>
                  <strong>IV / oral replacement</strong> – suggests per-dose
                  amounts and infusion parameters within typical safety limits.
                </li>
              </ul>

              <h3>1. Daily potassium intake estimation</h3>
              <p>Most guidelines recommend approximately:</p>
              <ul>
                <li>Adult women: <strong>2,600–2,800 mg/day</strong></li>
                <li>Adult men: <strong>3,000–3,400 mg/day</strong></li>
              </ul>
              <p>
                The calculator starts from a sex-based baseline and adjusts
                modestly for activity and body size.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Baseline by sex</p>
                <p>For adults (18–70 years):</p>
                <ul>
                  <li>Female: \( K_{base} \approx 2700 \,\text{mg/day} \)</li>
                  <li>Male: \( K_{base} \approx 3200 \,\text{mg/day} \)</li>
                </ul>
                <p class="font-semibold mt-2 mb-1">Activity adjustment</p>
                <ul>
                  <li>Sedentary: \( K = 0.95 \times K_{base} \)</li>
                  <li>Moderate: \( K = 1.00 \times K_{base} \)</li>
                  <li>High: \( K = 1.10 \times K_{base} \)</li>
                </ul>
                <p class="font-semibold mt-2 mb-1">
                  Weight scaling (optional, mild)
                </p>
                <p>
                  \( K_{final} = K \times \left(0.8 + 0.2 \times
                  \dfrac{\text{weight (kg)}}{70}\right) \)
                </p>
              </div>

              <p>
                <strong>Important:</strong> People with chronic kidney disease
                (CKD), on ACE inhibitors, ARBs, potassium-sparing diuretics, or
                with other conditions may require <em>lower</em> potassium
                intake. In such cases, follow nephrology or local guideline
                targets instead of generic values.
              </p>

              <h3>2. Estimating potassium deficit from serum potassium</h3>
              <p>
                Clinicians often use a rule-of-thumb to estimate total body
                potassium deficit in hypokalemia. For a 70 kg adult:
              </p>
              <ul>
                <li>
                  A drop of <strong>1.0 mEq/L</strong> in serum potassium below
                  4.0 mEq/L corresponds to roughly
                  <strong>100–400 mEq</strong> of total body potassium loss,
                  depending on the source.
                </li>
              </ul>
              <p>
                This calculator lets you choose a deficit factor (100, 150, or
                200 mEq per 1.0 mEq/L drop) and scales it by body weight.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Deficit formula</p>
                <p>Let:</p>
                <ul>
                  <li>\( K_{serum} \) = current serum K (mEq/L)</li>
                  <li>\( K_{target} \) = desired serum K (mEq/L)</li>
                  <li>
                    \( F \) = deficit factor (mEq per 1.0 mEq/L drop for a 70 kg
                    adult)
                  </li>
                  <li>\( W \) = body weight (kg)</li>
                </ul>
                <p>Then:</p>
                <p>\[ \Delta K = \max(0, K_{target} - K_{serum}) \]</p>
                <p>\[ \text{Deficit}_{70kg} = F \times \Delta K \]</p>
                <p>
                  \[ \text{Deficit}_{patient} = \text{Deficit}_{70kg} \times
                  \dfrac{W}{70} \]
                </p>
              </div>

              <p>
                This is a rough estimate. The true deficit depends on
                intracellular vs extracellular distribution, acid–base balance,
                insulin levels, magnesium status, and ongoing losses (GI, renal,
                sweat).
              </p>

              <h3>3. IV / oral potassium replacement suggestions</h3>
              <p>
                The replacement module uses the estimated deficit and severity
                category to suggest per-dose amounts and infusion parameters
                that stay within typical safety limits. It does
                <em>not</em> replace institutional protocols.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">
                  Typical per-dose ranges (adults)
                </p>
                <ul>
                  <li>
                    Mild (3.0–3.4 mEq/L): 20–40 mEq total, often PO or slow IV.
                  </li>
                  <li>
                    Moderate (2.5–2.9 mEq/L): 40–80 mEq total, divided doses.
                  </li>
                  <li>
                    Severe (&lt; 2.5 mEq/L): &gt;80 mEq total, ICU-level
                    monitoring.
                  </li>
                </ul>
                <p class="font-semibold mt-2 mb-1">Infusion constraints</p>
                <ul>
                  <li>Peripheral IV: ≤10 mEq/h, ≤10 mEq/100 mL.</li>
                  <li>
                    Central IV: ≤20 mEq/h (sometimes up to 40 mEq/h in ICU with
                    continuous ECG), ≤20–40 mEq/100 mL.
                  </li>
                </ul>
              </div>

              <p>The calculator:</p>
              <ol>
                <li>
                  Starts from the estimated deficit (if available) or a
                  severity-based default.
                </li>
                <li>Divides the total into the chosen number of doses.</li>
                <li>
                  Computes the volume per dose from the selected solution
                  strength (mEq/100 mL).
                </li>
                <li>
                  Computes the minimum infusion time per dose at the specified
                  maximum mEq/hour.
                </li>
              </ol>

              <h2>Clinical interpretation and safety</h2>
              <p>
                <strong>Hypokalemia</strong> can cause muscle weakness, ileus,
                and dangerous arrhythmias, especially in patients on digoxin or
                with heart disease. <strong>Hyperkalemia</strong> can rapidly
                lead to life-threatening arrhythmias and cardiac arrest.
              </p>
              <ul>
                <li>
                  Always confirm abnormal lab values and check for hemolysis or
                  lab error.
                </li>
                <li>
                  Correct <strong>magnesium</strong> deficiency, which often
                  coexists and impairs potassium repletion.
                </li>
                <li>
                  Review medications (diuretics, ACEi/ARB, NSAIDs,
                  beta-agonists, insulin, etc.).
                </li>
                <li>
                  In severe cases or ECG changes, follow emergency
                  hyper/hypokalemia protocols.
                </li>
              </ul>

              <h3>When to avoid high potassium intake</h3>
              <p>
                High potassium intake or aggressive replacement may be unsafe
                in:
              </p>
              <ul>
                <li>Moderate to severe CKD or ESRD.</li>
                <li>Oliguria or anuria.</li>
                <li>
                  Patients on potassium-sparing diuretics, ACE inhibitors, ARBs,
                  or certain other drugs.
                </li>
                <li>Uncontrolled diabetes with hyperkalemia.</li>
              </ul>
              <p>
                In these situations, follow specialist guidance and
                institutional protocols.
              </p>

              <h2>Limitations</h2>
              <ul>
                <li>
                  Formulas are based on adult data; do not use for pediatrics or
                  neonates.
                </li>
                <li>
                  Does not account for acid–base status, insulin,
                  catecholamines, or acute shifts.
                </li>
                <li>
                  Does not replace transtubular potassium gradient (TTKG) or
                  other diagnostic tools.
                </li>
                <li>
                  Not a substitute for ECG monitoring or serial lab
                  measurements.
                </li>
              </ul>

              <p class="text-sm text-gray-600">
                Always use clinical judgment and local guidelines when
                interpreting these results.
              </p>
            </section>

            <!-- FAQ -->
            <section class="mt-10" id="faq">
              <h2 class="text-xl font-semibold mb-4">
                Potassium Calculator – FAQ
              </h2>
              <div class="space-y-3">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Is this potassium calculator suitable for pediatric
                    patients?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    No. This tool is designed for adults. Pediatric and neonatal
                    potassium dosing uses different weight-based formulas and
                    much stricter limits. Use a dedicated pediatric calculator
                    and follow pediatric-specific protocols.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can I enter weight in pounds?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. Choose “lb” in the weight unit selector. The calculator
                    converts pounds to kilograms internally (1 kg = 2.20462 lb)
                    before applying the formulas.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What if the estimated deficit seems very large?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Large deficits can occur in severe or chronic hypokalemia,
                    but the bedside formulas are only approximations. Always
                    cross-check with the clinical picture, repeat labs, and
                    correct contributing factors (e.g., diarrhea, vomiting,
                    diuretics, magnesium deficiency). Replacement should be
                    gradual with close monitoring, not a single massive dose.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Does this calculator compute TTKG (transtubular potassium
                    gradient)?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    No. TTKG requires urine and plasma osmolality and potassium
                    values. This tool focuses on intake, deficit, and
                    replacement. For TTKG, use a dedicated calculator and
                    interpret results carefully, as the clinical utility of TTKG
                    is debated.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Potassium, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Diet &amp; Nutrition Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/carb-calculator"
                  class="text-blue-600 hover:underline"
                  >Carb Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sodium-calculator"
                  class="text-blue-600 hover:underline"
                  >Sodium Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/water-intake-calculator"
                  class="text-blue-600 hover:underline"
                  >Water Intake Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fiber-calculator"
                  class="text-blue-600 hover:underline"
                  >Fiber Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calorie-deficit-calculator"
                  class="text-blue-600 hover:underline"
                  >Calorie Deficit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/recipe-nutrition-calculator"
                  class="text-blue-600 hover:underline"
                  >Recipe Nutrition Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/macro"
                  class="text-blue-600 hover:underline"
                  >Macro Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Popular Health Metrics</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-blue-600 hover:underline"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmr"
                  class="text-blue-600 hover:underline"
                  >BMR (Basal Metabolic Rate)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/body-fat"
                  class="text-blue-600 hover:underline"
                  >Body Fat Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heart-rate-calculator"
                  class="text-blue-600 hover:underline"
                  >Heart Rate Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calories-burned"
                  class="text-blue-600 hover:underline"
                  >Calories Burned</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Tab switching
      const tabs = document.querySelectorAll("[data-mode]");
      const panels = document.querySelectorAll("[data-mode-panel]");
      const form = document.getElementById("potassium-form");
      const calculateBtn = document.getElementById("calculate-btn");
      const resetBtn = document.getElementById("reset-btn");
      const warningText = document.getElementById("warning-text");

      let currentMode = "intake";

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          currentMode = tab.dataset.mode;
          tabs.forEach((t) => {
            if (t === tab) {
              t.classList.add("bg-blue-600", "text-white");
              t.classList.remove("bg-white", "text-gray-700");
            } else {
              t.classList.remove("bg-blue-600", "text-white");
              t.classList.add("bg-white", "text-gray-700");
            }
          });
          panels.forEach((panel) => {
            panel.classList.toggle(
              "hidden",
              panel.dataset.modePanel !== currentMode
            );
          });
          document.getElementById("results-section").classList.add("hidden");
          warningText.classList.add("hidden");
        });
      });

      function toKg(weight, unit) {
        return unit === "lb" ? weight / 2.20462 : weight;
      }

      function round(value, decimals) {
        const factor = Math.pow(10, decimals);
        return Math.round(value * factor) / factor;
      }

      function calcIntake() {
        const age = parseFloat(document.getElementById("age").value) || 0;
        const sex = document.getElementById("sex").value;
        const weight = parseFloat(document.getElementById("weight").value) || 0;
        const unit = document.getElementById("weight-unit").value;
        const activity = document.getElementById("activity-level").value;
        const renal = document.getElementById("renal-status").value;

        let base;
        if (age < 18) {
          // Very rough pediatric fallback – strongly recommend pediatric-specific tools
          base = sex === "female" ? 2300 : 2500;
        } else {
          base = sex === "female" ? 2700 : 3200;
        }

        let activityFactor = 1.0;
        if (activity === "sedentary") activityFactor = 0.95;
        if (activity === "high") activityFactor = 1.1;

        const kg = toKg(weight, unit) || 70;
        const weightFactor = 0.8 + 0.2 * (kg / 70);
        let intake = base * activityFactor * weightFactor;

        // Renal adjustment: suggest lower range
        let note =
          "Approximate target for healthy adults based on sex, activity, and body size.";
        if (renal === "ckd") {
          intake *= 0.7;
          note =
            "Adjusted downward for chronic kidney disease. Follow nephrology-specific potassium targets.";
        } else if (renal === "dialysis") {
          intake *= 0.5;
          note =
            "Substantially reduced for dialysis. Use dialysis unit dietary prescriptions as primary guide.";
        }

        document.getElementById("intake-mg").textContent = `${round(
          intake,
          0
        ).toLocaleString()} mg`;
        document.getElementById("intake-note").textContent = note;
        document.getElementById("results-intake").classList.remove("hidden");
      }

      function calcDeficit() {
        const serumK = parseFloat(document.getElementById("serum-k").value);
        const targetK = parseFloat(document.getElementById("target-k").value);
        const factor = parseFloat(
          document.getElementById("deficit-factor").value
        );
        const weight =
          parseFloat(document.getElementById("weight").value) || 70;
        const unit = document.getElementById("weight-unit").value;

        if (isNaN(serumK) || isNaN(targetK)) return;

        const delta = Math.max(0, targetK - serumK);
        const kg = toKg(weight, unit) || 70;

        const deficit70 = factor * delta;
        const deficit = deficit70 * (kg / 70);

        document.getElementById("deficit-meq").textContent = `${round(
          deficit,
          0
        )} mEq`;
        let note = `Based on a deficit factor of ${factor} mEq per 1.0 mEq/L drop for a 70 kg adult, scaled to ${round(
          kg,
          1
        )} kg.`;
        if (delta === 0) {
          note =
            "Current serum potassium is at or above the target; estimated deficit is 0 mEq.";
        }
        document.getElementById("deficit-note").textContent = note;
        document.getElementById("results-deficit").classList.remove("hidden");

        return deficit;
      }

      function calcIV() {
        const route = document.getElementById("route").value;
        const severity = document.getElementById("severity").value;
        const conc = parseFloat(
          document.getElementById("iv-concentration").value
        ); // mEq per 100 mL
        const maxRate = parseFloat(document.getElementById("max-rate").value); // mEq/h
        const sessions =
          parseInt(document.getElementById("sessions").value, 10) || 1;

        let totalMeq;
        // Try to use deficit estimate if available
        const deficitSpan = document.getElementById("deficit-meq");
        const deficitText =
          deficitSpan && deficitSpan.textContent
            ? parseFloat(deficitSpan.textContent)
            : NaN;

        if (!isNaN(deficitText) && deficitText > 0) {
          totalMeq = deficitText;
        } else {
          // Fallback severity-based totals
          if (severity === "mild") totalMeq = 40;
          else if (severity === "moderate") totalMeq = 80;
          else totalMeq = 120;
        }

        // Cap total for safety in this suggestion layer
        totalMeq = Math.min(totalMeq, 200);

        let perDose = totalMeq / sessions;

        // Route-based typical per-dose caps
        let perDoseCap;
        if (route === "oral") perDoseCap = 40;
        else if (route === "iv-peripheral") perDoseCap = 20;
        else perDoseCap = 40; // central

        if (perDose > perDoseCap) {
          perDose = perDoseCap;
        }

        // Volume from concentration (mEq per 100 mL)
        const volumeMl = conc > 0 ? (perDose / conc) * 100 : 0;

        // Time from max rate
        const hours = maxRate > 0 ? perDose / maxRate : 0;
        const minutes = Math.round(hours * 60);

        document.getElementById("dose-meq").textContent = `${round(
          perDose,
          0
        )} mEq per dose`;
        document.getElementById("dose-volume").textContent = `${round(
          volumeMl,
          0
        )} mL (${conc} mEq/100 mL)`;
        document.getElementById(
          "dose-time"
        ).textContent = `${minutes} minutes (at ${maxRate} mEq/h)`;

        let note = `This is a conservative per-dose suggestion for ${route.replace(
          "-",
          " "
        )} replacement, assuming ${sessions} planned dose(s). Always adjust based on ECG, labs, and local protocols.`;
        if (route === "iv-peripheral") {
          note +=
            " Peripheral IV potassium is typically limited to ≤10 mEq/h and ≤10 mEq/100 mL to reduce vein irritation.";
        } else if (route === "iv-central") {
          note +=
            " Central line infusions may allow higher concentrations and rates but require continuous ECG monitoring.";
        } else {
          note +=
            " Oral potassium is generally safer than IV but can cause GI irritation; divide doses and give with food.";
        }
        document.getElementById("iv-note").textContent = note;
        document.getElementById("results-iv").classList.remove("hidden");
      }

      calculateBtn.addEventListener("click", () => {
        warningText.classList.add("hidden");
        document.getElementById("results-section").classList.remove("hidden");
        document.getElementById("results-intake").classList.add("hidden");
        document.getElementById("results-deficit").classList.add("hidden");
        document.getElementById("results-iv").classList.add("hidden");

        if (currentMode === "intake") {
          calcIntake();
        } else if (currentMode === "deficit") {
          const serumK = parseFloat(document.getElementById("serum-k").value);
          if (!isNaN(serumK) && serumK < 2.5) {
            warningText.textContent =
              "Severe hypokalemia (<2.5 mEq/L) – treat as an emergency and follow institutional protocols.";
            warningText.classList.remove("hidden");
          }
          calcDeficit();
        } else if (currentMode === "iv") {
          calcIV();
          warningText.textContent =
            "IV potassium replacement can be dangerous. Use this only as a rough guide and always follow institutional protocols.";
          warningText.classList.remove("hidden");
        }
      });

      resetBtn.addEventListener("click", () => {
        form.reset();
        document.getElementById("age").value = 40;
        document.getElementById("sex").value = "male";
        document.getElementById("weight").value = 70;
        document.getElementById("weight-unit").value = "kg";
        document.getElementById("activity-level").value = "moderate";
        document.getElementById("renal-status").value = "normal";
        document.getElementById("serum-k").value = 3.0;
        document.getElementById("target-k").value = 4.0;
        document.getElementById("deficit-factor").value = 150;
        document.getElementById("route").value = "oral";
        document.getElementById("severity").value = "mild";
        document.getElementById("iv-concentration").value = 10;
        document.getElementById("max-rate").value = 10;
        document.getElementById("sessions").value = 2;

        document.getElementById("results-section").classList.add("hidden");
        warningText.classList.add("hidden");
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
