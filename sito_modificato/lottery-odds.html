<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Lottery Odds Calculator – Exact Probabilities &amp; “1 in X” Chances</title>
    <meta name="description" content="Lottery odds calculator for single-drum and bonus-ball lotteries. Enter game parameters and get exact odds for matching 0 to all numbers, jackpot probability, and “1 in X” chances.">
    <link rel="canonical" href="https://calcdomain.com/lottery-odds">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .code-like { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        table.lotto-table th, table.lotto-table td { font-size: 0.75rem; padding: 0.25rem 0.45rem; border-bottom: 1px solid #e5e7eb; white-space: nowrap; }
        table.lotto-table th { background: #f9fafb; font-weight: 600; text-align: right; }
        table.lotto-table th:first-child, table.lotto-table td:first-child { text-align: center; }
        .badge { display: inline-flex; align-items: center; border-radius: 9999px; padding: 0.1rem 0.65rem; font-size: 0.7rem; font-weight: 500; }
        .highlight-cell { background-color: #eef2ff; font-weight: 600; }
    </style>
    
    <!-- HEAD_SCRIPTS_E_META -->
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/categories/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Core Math Algebra",
          "item": "https://calcdomain.com/subcategories/core-math-algebra"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How are lottery odds calculated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "In a simple lottery where you choose T numbers from a pool of N and the draw selects K winning numbers, the odds are based on combinations. The number of possible combinations for the draw is C(N, K). The probability of matching exactly r numbers is C(T, r) × C(N − T, K − r) divided by C(N, K). This calculator uses these hypergeometric formulas to compute exact odds."
          }
        },
        {
          "@type": "Question",
          "name": "What does \"1 in X\" mean for lottery odds?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "If the probability of an event is p, then the corresponding \"1 in X\" odds are given by X = 1/p. For example, if p = 0.0000000715, then X ≈ 13,983,816 and we say the odds are about 1 in 13,983,816. The calculator converts probabilities into this familiar lottery format."
          }
        },
        {
          "@type": "Question",
          "name": "Can this calculator handle bonus-ball lotteries like Powerball-style games?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. The two-drum option lets you specify a main number pool and a separate bonus or Powerball pool, each with its own pool size, numbers chosen, and numbers drawn. The overall odds are computed as the product of the independent odds in each drum."
          }
        },
        {
          "@type": "Question",
          "name": "Does buying more tickets improve my odds of winning the lottery?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Buying more tickets increases your chances in proportion to the number of tickets, but the absolute odds often remain extremely low. For example, if the odds for one ticket are 1 in 100 million, buying 10 tickets changes your probability from 0.000001% to about 0.00001%. This calculator focuses on single-ticket odds so you can understand the baseline probability."
          }
        },
        {
          "@type": "Question",
          "name": "Are lottery odds the same for every draw?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "In standard number-drawing lotteries, yes. As long as the rules do not change and each draw is random with replacement of the number pool, the mathematical odds for a given ticket are the same for each draw. Changing the game (for example, increasing the pool size) changes the odds, and this calculator lets you recompute them instantly."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to use the lottery odds calculator",
      "description": "Step-by-step instructions to configure your lottery game and interpret exact odds and \"1 in X\" chances.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Select the lottery type",
          "text": "Choose between a single-drum lottery (all numbers drawn from one pool) or a two-drum lottery that includes a separate bonus ball or Powerball-style pool."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Enter game parameters",
          "text": "Specify the pool size, how many numbers you pick on your ticket, and how many numbers are drawn for the winning combination. For two-drum lotteries, repeat this for both the main and bonus ball pools."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Set the minimum matches for a win",
          "text": "Optionally define the minimum number of matches that count as a win. The calculator will report the probability and \"1 in X\" odds of meeting or exceeding that threshold."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Run the calculation",
          "text": "Click \"Calculate odds\". The calculator produces an exact probability table for matching 0 up to all possible numbers, plus a summary card with jackpot odds and at-least-X-match odds."
        },
        {
          "@type": "HowToStep",
          "position": 5,
          "name": "Interpret the results",
          "text": "Use the probability percentages and \"1 in X\" values to understand how unlikely each outcome is. This is useful for teaching probability, evaluating game designs, or communicating risk."
        }
      ]
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- BODY_SCRIPTS_INIZIO -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/math-conversions" class="hover:text-blue-600">Math & Conversions</a> &raquo; <a href="https://calcdomain.com/subcategories/core-math-algebra" class="hover:text-blue-600">Core Math Algebra</a></nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">

            <h1 class="text-2xl md:text-3xl font-bold mb-3">Lottery Odds Calculator</h1>
            <p class="text-gray-700 mb-2">
              Compute exact <strong>lottery odds</strong> for standard number-drawing games. Define the game rules and this
              calculator will return the probability of matching 0, 1, 2, … up to all numbers, plus the
              familiar <strong>“1 in X” jackpot odds</strong>.
            </p>
            <p class="text-gray-700 mb-4">
              The engine uses <strong>hypergeometric probability</strong> behind the scenes and can handle both
              single-drum lotteries (classic 6-from-49 style) and <strong>two-drum lotteries with bonus balls</strong>
              (Powerball-style games).
            </p>

            <!-- LOTTERY TYPE -->
            <section class="mb-5">
              <h2 class="text-lg font-semibold mb-2">1. Choose lottery type</h2>

              <div class="mb-3">
                <label for="lot-type" class="block text-sm font-medium text-gray-700 mb-1">
                  Lottery structure
                </label>
                <select id="lot-type" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="single">Single-drum (one number pool)</option>
                  <option value="double">Two-drum (main pool + bonus ball)</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">
                  <strong>Single-drum:</strong> all numbers are drawn from the same pool. 
                  <strong>Two-drum:</strong> main numbers + separate bonus/Powerball pool.
                </p>
              </div>
            </section>

            <!-- SINGLE-DRUM PARAMETERS -->
            <section class="mb-5 lot-single-block">
              <h2 class="text-lg font-semibold mb-2">2A. Single-drum lottery parameters</h2>
              <p class="text-xs text-gray-600 mb-3">
                Example: “Choose 6 numbers out of 49; draw 6 winning numbers out of the same 49”.
              </p>

              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div>
                  <label for="lot-single-N" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers in pool (N)
                  </label>
                  <input id="lot-single-N" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="49">
                  <p class="text-xs text-gray-500 mt-1">
                    Total distinct numbers in the game (e.g. 49).
                  </p>
                </div>
                <div>
                  <label for="lot-single-T" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers on your ticket (T)
                  </label>
                  <input id="lot-single-T" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="6">
                  <p class="text-xs text-gray-500 mt-1">
                    How many distinct numbers you choose.
                  </p>
                </div>
                <div>
                  <label for="lot-single-K" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers drawn (K)
                  </label>
                  <input id="lot-single-K" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="6">
                  <p class="text-xs text-gray-500 mt-1">
                    How many numbers the lottery draws.
                  </p>
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div>
                  <label for="lot-single-win-r" class="block text-sm font-medium text-gray-700 mb-1">
                    Min. matches for a win (r<sub>min</sub>)
                  </label>
                  <input id="lot-single-win-r" type="number" min="0" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="6">
                  <p class="text-xs text-gray-500 mt-1">
                    Used for “P(matches ≥ r<sub>min</sub>)” in the summary.
                  </p>
                </div>
                <div>
                  <label for="lot-single-decimals" class="block text-sm font-medium text-gray-700 mb-1">
                    Decimals in output
                  </label>
                  <input id="lot-single-decimals" type="number" min="0" max="10" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="6">
                </div>
              </div>
            </section>

            <!-- DOUBLE-DRUM PARAMETERS -->
            <section class="mb-5 lot-double-block hidden">
              <h2 class="text-lg font-semibold mb-2">2B. Two-drum lottery parameters</h2>
              <p class="text-xs text-gray-600 mb-3">
                Example: “Pick 5 main numbers from 1–69 and 1 bonus ball from 1–26; draw 5 main + 1 bonus”.
              </p>

              <h3 class="text-sm font-semibold mb-2">Main number pool</h3>
              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div>
                  <label for="lot-main-N" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers in main pool (N₁)
                  </label>
                  <input id="lot-main-N" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="69">
                </div>
                <div>
                  <label for="lot-main-T" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers on ticket (T₁)
                  </label>
                  <input id="lot-main-T" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="5">
                </div>
                <div>
                  <label for="lot-main-K" class="block text-sm font-medium text-gray-700 mb-1">
                    Main numbers drawn (K₁)
                  </label>
                  <input id="lot-main-K" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="5">
                </div>
              </div>

              <h3 class="text-sm font-semibold mb-2 mt-4">Bonus / Powerball pool</h3>
              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div>
                  <label for="lot-bonus-N" class="block text-sm font-medium text-gray-700 mb-1">
                    Numbers in bonus pool (N₂)
                  </label>
                  <input id="lot-bonus-N" type="number" min="1" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="26">
                </div>
                <div>
                  <label for="lot-bonus-T" class="block text-sm font-medium text-gray-700 mb-1">
                    Bonus numbers on ticket (T₂)
                  </label>
                  <input id="lot-bonus-T" type="number" min="1" max="10" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="1">
                </div>
                <div>
                  <label for="lot-bonus-K" class="block text-sm font-medium text-gray-700 mb-1">
                    Bonus numbers drawn (K₂)
                  </label>
                  <input id="lot-bonus-K" type="number" min="1" max="10" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="1">
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div>
                  <label for="lot-double-decimals" class="block text-sm font-medium text-gray-700 mb-1">
                    Decimals in output
                  </label>
                  <input id="lot-double-decimals" type="number" min="0" max="10" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="6">
                </div>
              </div>
            </section>

            <!-- ACTIONS -->
            <section class="mb-4">
              <div class="flex flex-wrap items-center gap-3 mb-1">
                <button id="lot-run-btn" type="button" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Calculate odds
                </button>
                <button id="lot-clear-btn" type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Clear results
                </button>
                <span class="badge bg-gray-50 text-gray-700 border border-gray-300">
                  Exact combinatorial odds – no approximations
                </span>
              </div>
              <p id="lot-error" class="text-sm text-red-600 mt-1 hidden"></p>
            </section>

            <!-- RESULTS: SINGLE-DRUM -->
            <section id="lot-single-results" class="mb-5 hidden">
              <h2 class="text-lg font-semibold mb-2">Single-drum lottery odds</h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="border border-gray-200 rounded-lg p-3 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Summary</h3>
                  <dl class="grid grid-cols-2 gap-x-3 gap-y-1 text-xs text-gray-800">
                    <div>
                      <dt class="font-medium">Pool size (N)</dt>
                      <dd id="lot-single-out-N"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Ticket numbers (T)</dt>
                      <dd id="lot-single-out-T"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Numbers drawn (K)</dt>
                      <dd id="lot-single-out-K"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Total combinations C(N, K)</dt>
                      <dd id="lot-single-out-total"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Jackpot matches</dt>
                      <dd id="lot-single-out-jackpot-m"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Jackpot probability</dt>
                      <dd id="lot-single-out-jackpot-p"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Jackpot odds (“1 in X”)</dt>
                      <dd id="lot-single-out-jackpot-odds"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">P(matches ≥ r<sub>min</sub>)</dt>
                      <dd id="lot-single-out-atleast"></dd>
                    </div>
                  </dl>
                </div>

                <div class="border border-gray-200 rounded-lg p-3 bg-white">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Interpretation</h3>
                  <p id="lot-single-out-note" class="text-xs text-gray-800 mb-1"></p>
                  <p class="text-xs text-gray-500">
                    All calculations assume a perfectly random draw without replacement. 
                    Odds refer to <strong>one ticket</strong> in a single drawing.
                  </p>
                </div>
              </div>

              <div class="border border-gray-200 rounded-lg p-3 bg-white mb-3 overflow-x-auto">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-semibold text-gray-800">Probability of exactly r matches</h3>
                  <button id="lot-single-copy-btn" type="button" class="inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500">
                    Copy table as CSV
                  </button>
                </div>
                <table class="lotto-table w-full text-sm">
                  <thead>
                    <tr>
                      <th>Matches r</th>
                      <th>P(exactly r)</th>
                      <th>“1 in X” odds</th>
                    </tr>
                  </thead>
                  <tbody id="lot-single-table-body">
                    <!-- Filled by JS -->
                  </tbody>
                </table>
              </div>

              <p class="text-xs text-gray-500">
                For a given r, the probability is 
                \( \mathbb{P}(R = r) = \dfrac{\binom{T}{r}\,\binom{N - T}{K - r}}{\binom{N}{K}} \),
                where R is the number of matches between your ticket and the drawn K numbers.
              </p>
            </section>

            <!-- RESULTS: DOUBLE-DRUM -->
            <section id="lot-double-results" class="mb-5 hidden">
              <h2 class="text-lg font-semibold mb-2">Two-drum lottery odds</h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="border border-gray-200 rounded-lg p-3 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Summary</h3>
                  <dl class="grid grid-cols-2 gap-x-3 gap-y-1 text-xs text-gray-800">
                    <div>
                      <dt class="font-medium">Main pool (N₁)</dt>
                      <dd id="lot-double-out-N1"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Main ticket (T₁)</dt>
                      <dd id="lot-double-out-T1"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Main drawn (K₁)</dt>
                      <dd id="lot-double-out-K1"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Bonus pool (N₂)</dt>
                      <dd id="lot-double-out-N2"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Bonus ticket (T₂)</dt>
                      <dd id="lot-double-out-T2"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Bonus drawn (K₂)</dt>
                      <dd id="lot-double-out-K2"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Jackpot probability</dt>
                      <dd id="lot-double-out-jackpot-p"></dd>
                    </div>
                    <div>
                      <dt class="font-medium">Jackpot odds (“1 in X”)</dt>
                      <dd id="lot-double-out-jackpot-odds"></dd>
                    </div>
                  </dl>
                </div>

                <div class="border border-gray-200 rounded-lg p-3 bg-white">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Interpretation</h3>
                  <p id="lot-double-out-note" class="text-xs text-gray-800 mb-1"></p>
                  <p class="text-xs text-gray-500">
                    The calculator assumes that the main and bonus pools are drawn independently.
                    Overall odds are the product of the odds in each drum.
                  </p>
                </div>
              </div>

              <div class="border border-gray-200 rounded-lg p-3 bg-white mb-3 overflow-x-auto">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-semibold text-gray-800">
                    Joint probability table – main matches vs bonus matches
                  </h3>
                  <button id="lot-double-copy-btn" type="button" class="inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500">
                    Copy table as CSV
                  </button>
                </div>
                <table class="lotto-table w-full text-sm">
                  <thead id="lot-double-head">
                    <!-- Filled by JS -->
                  </thead>
                  <tbody id="lot-double-body">
                    <!-- Filled by JS -->
                  </tbody>
                </table>
              </div>

              <p class="text-xs text-gray-500">
                Each cell corresponds to 
                \( \mathbb{P}(R_1 = r_1, R_2 = r_2) = \mathbb{P}(R_1 = r_1)\,\mathbb{P}(R_2 = r_2) \),
                where \( R_1 \) and \( R_2 \) are the numbers of matches in the main and bonus pools respectively.
                The jackpot is the cell with all main and all bonus numbers matched.
              </p>
            </section>

            <!-- THEORY SECTION -->
            <section class="prose mt-6">
              <h2>Lottery odds and hypergeometric probability</h2>
              <p>
                Most number-drawing lotteries can be modelled using the
                <strong>hypergeometric distribution</strong>. Consider a single-drum game:
                there are N possible numbers, you choose T of them on your ticket, and K numbers are drawn
                for the winning combination. The number of matches between your ticket and the draw, R, follows
                a hypergeometric law.
              </p>

              <div class="formula-box text-sm">
                <p class="mb-2">
                  The probability of matching exactly r numbers is:
                </p>
                \[
                  \mathbb{P}(R = r) =
                  \frac{\binom{T}{r}\,\binom{N - T}{K - r}}{\binom{N}{K}},
                \]
                <p class="mt-2 mb-0">
                  where \( \binom{n}{k} \) is the binomial coefficient “n choose k”.
                  The denominator \( \binom{N}{K} \) counts all possible K-number draws from N,
                  while the numerator counts favourable draws with exactly r matches.
                </p>
              </div>

              <h2>Jackpot odds as “1 in X”</h2>
              <p>
                For the jackpot, r is typically equal to all numbers on your ticket (e.g. r = 6 in a 6-from-49
                game). Once the jackpot probability \( p_{\text{jackpot}} \) is known, the usual way to present odds is
              </p>
              <div class="formula-box text-sm">
                \[
                  \text{Odds} = \frac{1}{p_{\text{jackpot}}}.
                \]
              </div>
              <p>
                If \( p_{\text{jackpot}} \approx 7.15 \times 10^{-8} \), the odds are approximately
                \( 1 / (7.15 \times 10^{-8}) \approx 13{,}983{,}816 \), so we say the jackpot odds are about
                “1 in 13,983,816”.
              </p>

              <h2>Two-drum lotteries with bonus balls</h2>
              <p>
                In a two-drum game, the main numbers and the bonus balls are drawn from separate pools.
                If \( R_1 \) is the number of matches in the main pool and \( R_2 \) in the bonus pool, then:
              </p>
              <div class="formula-box text-sm">
                \[
                  \mathbb{P}(R_1 = r_1, R_2 = r_2)
                  = \mathbb{P}(R_1 = r_1)\,\mathbb{P}(R_2 = r_2),
                \]
              </div>
              <p>
                because the two drums are independent. The jackpot corresponds to
                matching all main numbers and all bonus numbers at the same time.
              </p>

              <h2>Practical notes and limitations</h2>
              <ul>
                <li>
                  The calculator works with <strong>exact integer combinatorics</strong> implemented in floating-point
                  arithmetic. For typical lottery sizes (N up to ~80) this is numerically stable.
                </li>
                <li>
                  Real lotteries often define multiple prize tiers (e.g. “3+1”, “4+0”, “5+1”). You can derive
                  the odds for each tier from the joint probability table of matches.
                </li>
                <li>
                  Buying more tickets scales your probability linearly but does not change how small the
                  base probability is – a key point in responsible gambling education.
                </li>
              </ul>

              <h2>Lottery odds – FAQ</h2>

              <div class="mt-4 space-y-3">
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Why are lottery jackpots so hard to win?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Lotteries are designed so that the number of possible winning combinations is enormous.
                      For example, in a 6-from-49 game there are C(49, 6) = 13,983,816 possible draws.
                      Your ticket corresponds to exactly one of these combinations, so the jackpot odds for
                      a single ticket are 1 in 13,983,816.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Do quick-pick numbers have different odds?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      In a properly designed lottery, quick-pick and self-chosen numbers have the
                      <strong>same mathematical odds</strong> of winning. Quick picks can reduce patterns and
                      shared numbers across many players, but they do not change your single-ticket chance
                      of hitting the winning combination.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Is a lottery ticket ever a good investment?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      For standard lotteries, the expected monetary value of a ticket is usually far below
                      its price once you factor in all prize tiers and the fact that the organizer takes
                      a significant share. Lottery tickets are best seen as entertainment, not as an
                      investment strategy.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Can this calculator be used for educational purposes?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Yes. The tool is ideal for teaching combinations, hypergeometric probability,
                      and risk literacy. Students can adjust N, T and K to model different games and
                      immediately see how small changes in the rules drastically affect jackpot odds.
                    </p>
                  </div>
                </div>
              </div>
            </section>

          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\mathbb{P}(R = r) = \frac{\binom{T}{r}\,\binom{N - T}{K - r}}{\binom{N}{K}},\]</div>
  <pre class="auditspine-mono">\mathbb{P}(R = r) = \frac{\binom{T}{r}\,\binom{N - T}{K - r}}{\binom{N}{K}},</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Odds} = \frac{1}{p_{\text{jackpot}}}.\]</div>
  <pre class="auditspine-mono">\text{Odds} = \frac{1}{p_{\text{jackpot}}}.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\mathbb{P}(R_1 = r_1, R_2 = r_2) = \mathbb{P}(R_1 = r_1)\,\mathbb{P}(R_2 = r_2),\]</div>
  <pre class="auditspine-mono">\mathbb{P}(R_1 = r_1, R_2 = r_2) = \mathbb{P}(R_1 = r_1)\,\mathbb{P}(R_2 = r_2),</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">The probability of matching exactly r numbers is: \[ \mathbb{P}(R = r) = \frac{\binom{T}{r}\,\binom{N - T}{K - r}}{\binom{N}{K}}, \] where \( \binom{n}{k} \) is the binomial coefficient “n choose k”. The denominator \( \binom{N}{K} \) counts all possible K-number draws from N, while the numerator counts favourable draws with exactly r matches.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ \text{Odds} = \frac{1}{p_{\text{jackpot}}}. \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ \mathbb{P}(R_1 = r_1, R_2 = r_2) = \mathbb{P}(R_1 = r_1)\,\mathbb{P}(R_2 = r_2), \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Core Math &amp; Algebra tools</h2>
            <ul class="space-y-2 text-sm">
              <li><a href="https://calcdomain.com/g-test" class="text-blue-600 hover:underline">G-test (likelihood-ratio test)</a></li>
              <li><a href="https://calcdomain.com/foil" class="text-blue-600 hover:underline">FOIL Method Calculator</a></li>
              <li><a href="https://calcdomain.com/adjacency-matrix" class="text-blue-600 hover:underline">Graph Adjacency Matrix</a></li>
              <li><a href="https://calcdomain.com/speed-distance-time" class="text-blue-600 hover:underline">Speed, Distance, Time</a></li>
              <li><a href="https://calcdomain.com/friedman-test" class="text-blue-600 hover:underline">Friedman Test</a></li>
              <li><a href="https://calcdomain.com/traveling-salesman-problem" class="text-blue-600 hover:underline">Traveling Salesman Problem (TSP)</a></li>
              <li><a href="https://calcdomain.com/stem-and-leaf-plot" class="text-blue-600 hover:underline">Stem and Leaf Plot Generator</a></li>
              <li><a href="https://calcdomain.com/bisection-method" class="text-blue-600 hover:underline">Bisection Method</a></li>
              <li><a href="https://calcdomain.com/monte-carlo-simulation" class="text-blue-600 hover:underline">Monte Carlo Simulation</a></li>
              <li><span class="text-gray-500">Lottery Odds – you are here</span></li>
              <li><a href="https://calcdomain.com/dot-product" class="text-blue-600 hover:underline">Dot Product</a></li>
              <li><a href="https://calcdomain.com/matrix-determinant" class="text-blue-600 hover:underline">Matrix Determinant</a></li>
              <li><a href="https://calcdomain.com/partial-fraction-decomposition" class="text-blue-600 hover:underline">Partial Fraction Decomposition</a></li>
              <li><a href="https://calcdomain.com/trapezoid-area" class="text-blue-600 hover:underline">Trapezoid Area</a></li>
              <li><a href="https://calcdomain.com/combination-and-permutation" class="text-blue-600 hover:underline">Combination and Permutation</a></li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More statistics &amp; risk tools</h2>
            <ul class="space-y-2 text-sm">
              <li><a href="https://calcdomain.com/percent-error-calculator" class="text-blue-600 hover:underline">Percent Error Calculator</a></li>
              <li><a href="https://calcdomain.com/cohen-s-d-calculator" class="text-blue-600 hover:underline">Effect Size (Cohen’s d)</a></li>
              <li><a href="https://calcdomain.com/kruskal-wallis-test" class="text-blue-600 hover:underline">Kruskal–Wallis Test</a></li>
              <li><a href="https://calcdomain.com/spearmans-rank-correlation" class="text-blue-600 hover:underline">Spearman’s Rank Correlation</a></li>
            </ul>
          </div>
        </aside>
        
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>






























    
    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>
    
    <script>
      // ---------- Utility: parse integer with checks ----------
      function lotParseInt(value, name) {
        const cleaned = String(value ?? '').trim();
        if (cleaned === '') throw new Error('Missing value for ' + name + '.');
        const num = Number(cleaned);
        if (!Number.isFinite(num) || !Number.isInteger(num)) {
          throw new Error('"' + value + '" is not a valid integer for ' + name + '.');
        }
        return num;
      }

      // ---------- Utility: log-combination using stable multiplicative formula ----------
      function logCombination(n, k) {
        if (k < 0 || k > n) return -Infinity;
        k = Math.min(k, n - k);
        let logRes = 0;
        for (let i = 1; i <= k; i++) {
          logRes += Math.log(n - k + i) - Math.log(i);
        }
        return logRes;
      }

      // ---------- Utility: format probability as percentage ----------
      function formatProbability(p, decimals) {
        if (!(p > 0)) return '0%';
        const pct = p * 100;
        if (pct < Math.pow(10, -decimals)) {
          return '< ' + (Math.pow(10, -decimals) * 100).toExponential(1) + '%';
        }
        return pct.toFixed(decimals) + ' %';
      }

      // ---------- Utility: format odds "1 in X" ----------
      function formatOdds(p) {
        if (!(p > 0)) return '—';
        const inv = 1 / p;
        if (!Number.isFinite(inv)) return '—';
        if (inv >= 1e12) {
          return '≈ 1 in ' + inv.toExponential(2);
        }
        return '1 in ' + Math.round(inv).toLocaleString('en-US');
      }

      // ---------- Show/hide parameter blocks ----------
      (function () {
        const typeSelect = document.getElementById('lot-type');
        const singleBlock = document.querySelector('.lot-single-block');
        const doubleBlock = document.querySelector('.lot-double-block');

        function updateBlocks() {
          const mode = typeSelect.value;
          if (mode === 'single') {
            singleBlock.classList.remove('hidden');
            doubleBlock.classList.add('hidden');
          } else {
            singleBlock.classList.add('hidden');
            doubleBlock.classList.remove('hidden');
          }
        }

        typeSelect.addEventListener('change', updateBlocks);
        updateBlocks();
      })();

      (function () {
        const typeSelect = document.getElementById('lot-type');
        const errorEl = document.getElementById('lot-error');

        const singleResults = document.getElementById('lot-single-results');
        const doubleResults = document.getElementById('lot-double-results');
        const singleTableBody = document.getElementById('lot-single-table-body');
        const doubleHead = document.getElementById('lot-double-head');
        const doubleBody = document.getElementById('lot-double-body');

        function clearOutputs() {
          errorEl.classList.add('hidden');
          errorEl.textContent = '';
          singleResults.classList.add('hidden');
          doubleResults.classList.add('hidden');
          singleTableBody.innerHTML = '';
          doubleHead.innerHTML = '';
          doubleBody.innerHTML = '';
        }

        document.getElementById('lot-clear-btn').addEventListener('click', clearOutputs);

        document.getElementById('lot-run-btn').addEventListener('click', function () {
          clearOutputs();
          try {
            const mode = typeSelect.value;
            if (mode === 'single') {
              runSingle();
            } else {
              runDouble();
            }
          } catch (err) {
            errorEl.textContent = err.message || 'Unable to compute lottery odds. Please check your inputs.';
            errorEl.classList.remove('hidden');
          }
        });

        // ---------- Single-drum implementation ----------
        function runSingle() {
          const N = lotParseInt(document.getElementById('lot-single-N').value, 'pool size N');
          const T = lotParseInt(document.getElementById('lot-single-T').value, 'ticket numbers T');
          const K = lotParseInt(document.getElementById('lot-single-K').value, 'numbers drawn K');
          let rMin = lotParseInt(document.getElementById('lot-single-win-r').value, 'minimum win matches');
          let decimals = lotParseInt(document.getElementById('lot-single-decimals').value, 'decimals');
          decimals = Math.max(0, Math.min(10, decimals));
          document.getElementById('lot-single-decimals').value = decimals;

          if (N <= 0) throw new Error('Pool size N must be positive.');
          if (T <= 0 || T > N) throw new Error('Ticket numbers T must be between 1 and N.');
          if (K <= 0 || K > N) throw new Error('Numbers drawn K must be between 1 and N.');
          const maxMatches = Math.min(T, K);
          if (rMin < 0) rMin = 0;
          if (rMin > maxMatches) rMin = maxMatches;
          document.getElementById('lot-single-win-r').value = rMin;

          const logTotal = logCombination(N, K);
          if (!Number.isFinite(logTotal)) {
            throw new Error('Total combinations C(N, K) are too large or invalid to represent.');
          }

          const totalComb = Math.exp(logTotal);
          const jackpotMatches = maxMatches;
          const logFavJackpot = logCombination(T, jackpotMatches) + logCombination(N - T, K - jackpotMatches);
          const pJackpot = Math.exp(logFavJackpot - logTotal);

          let sumAtLeast = 0;
          const rows = [];

          for (let r = 0; r <= maxMatches; r++) {
            const logFav = logCombination(T, r) + logCombination(N - T, K - r);
            let p = 0;
            if (Number.isFinite(logFav)) {
              p = Math.exp(logFav - logTotal);
            }
            if (r >= rMin) sumAtLeast += p;
            rows.push({ r, p });
          }

          // Fill summary section
          document.getElementById('lot-single-out-N').textContent = N;
          document.getElementById('lot-single-out-T').textContent = T;
          document.getElementById('lot-single-out-K').textContent = K;
          document.getElementById('lot-single-out-total').textContent =
            Number.isFinite(totalComb) ? totalComb.toLocaleString('en-US', { maximumFractionDigits: 0 }) : '—';
          document.getElementById('lot-single-out-jackpot-m').textContent = jackpotMatches;
          document.getElementById('lot-single-out-jackpot-p').textContent =
            formatProbability(pJackpot, decimals);
          document.getElementById('lot-single-out-jackpot-odds').textContent =
            formatOdds(pJackpot);
          document.getElementById('lot-single-out-atleast').textContent =
            formatProbability(sumAtLeast, decimals);

          document.getElementById('lot-single-out-note').innerHTML =
            'For this configuration, there are <strong>' +
            (Number.isFinite(totalComb)
              ? totalComb.toLocaleString('en-US', { maximumFractionDigits: 0 })
              : '&gt; 10<sup>12</sup>') +
            '</strong> possible winning combinations. ' +
            'A single ticket has a jackpot probability of ' +
            formatProbability(pJackpot, Math.min(decimals, 10)) +
            ' (that is, ' + formatOdds(pJackpot) + ').';

          // Fill table
          singleTableBody.innerHTML = '';
          rows.forEach(row => {
            const tr = document.createElement('tr');
            if (row.r === jackpotMatches) {
              tr.classList.add('highlight-cell');
            }
            const tdR = document.createElement('td');
            tdR.textContent = row.r;
            const tdP = document.createElement('td');
            tdP.textContent = formatProbability(row.p, decimals);
            tdP.style.textAlign = 'right';
            const tdOdds = document.createElement('td');
            tdOdds.textContent = formatOdds(row.p);
            tdOdds.style.textAlign = 'right';

            tr.appendChild(tdR);
            tr.appendChild(tdP);
            tr.appendChild(tdOdds);
            singleTableBody.appendChild(tr);
          });

          singleResults.classList.remove('hidden');
        }

        // Copy CSV for single-drum table
        document.getElementById('lot-single-copy-btn').addEventListener('click', function () {
          if (!singleTableBody.children.length) return;
          let csv = 'matches_r,probability,odds_1_in_X\n';
          for (const tr of singleTableBody.children) {
            const tds = tr.querySelectorAll('td');
            const r = tds[0].textContent.trim();
            const p = tds[1].textContent.trim();
            const odds = tds[2].textContent.trim();
            csv += r + ',' + p + ',' + odds + '\n';
          }
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(csv).catch(function () {});
          }
        });

        // ---------- Two-drum implementation ----------
        function runDouble() {
          const N1 = lotParseInt(document.getElementById('lot-main-N').value, 'main pool N₁');
          const T1 = lotParseInt(document.getElementById('lot-main-T').value, 'main ticket numbers T₁');
          const K1 = lotParseInt(document.getElementById('lot-main-K').value, 'main numbers drawn K₁');
          const N2 = lotParseInt(document.getElementById('lot-bonus-N').value, 'bonus pool N₂');
          const T2 = lotParseInt(document.getElementById('lot-bonus-T').value, 'bonus ticket numbers T₂');
          const K2 = lotParseInt(document.getElementById('lot-bonus-K').value, 'bonus numbers drawn K₂');
          let decimals = lotParseInt(document.getElementById('lot-double-decimals').value, 'decimals');
          decimals = Math.max(0, Math.min(10, decimals));
          document.getElementById('lot-double-decimals').value = decimals;

          if (N1 <= 0 || N2 <= 0) throw new Error('Pool sizes N₁ and N₂ must be positive.');
          if (T1 <= 0 || T1 > N1) throw new Error('Main ticket T₁ must be between 1 and N₁.');
          if (K1 <= 0 || K1 > N1) throw new Error('Main drawn K₁ must be between 1 and N₁.');
          if (T2 <= 0 || T2 > N2) throw new Error('Bonus ticket T₂ must be between 1 and N₂.');
          if (K2 <= 0 || K2 > N2) throw new Error('Bonus drawn K₂ must be between 1 and N₂.');

          const maxMatchMain = Math.min(T1, K1);
          const maxMatchBonus = Math.min(T2, K2);

          const logTotalMain = logCombination(N1, K1);
          const logTotalBonus = logCombination(N2, K2);
          if (!Number.isFinite(logTotalMain) || !Number.isFinite(logTotalBonus)) {
            throw new Error('Total combinations in one of the pools are too large or invalid to represent.');
          }

          const logFavMainJack = logCombination(T1, maxMatchMain) + logCombination(N1 - T1, K1 - maxMatchMain);
          const logFavBonusJack = logCombination(T2, maxMatchBonus) + logCombination(N2 - T2, K2 - maxMatchBonus);
          const pJackMain = Math.exp(logFavMainJack - logTotalMain);
          const pJackBonus = Math.exp(logFavBonusJack - logTotalBonus);
          const pJackpot = pJackMain * pJackBonus;

          // Fill summary
          document.getElementById('lot-double-out-N1').textContent = N1;
          document.getElementById('lot-double-out-T1').textContent = T1;
          document.getElementById('lot-double-out-K1').textContent = K1;
          document.getElementById('lot-double-out-N2').textContent = N2;
          document.getElementById('lot-double-out-T2').textContent = T2;
          document.getElementById('lot-double-out-K2').textContent = K2;
          document.getElementById('lot-double-out-jackpot-p').textContent = formatProbability(pJackpot, decimals);
          document.getElementById('lot-double-out-jackpot-odds').textContent = formatOdds(pJackpot);

          document.getElementById('lot-double-out-note').innerHTML =
            'The jackpot requires matching <strong>all ' + maxMatchMain +
            ' main numbers</strong> and <strong>all ' + maxMatchBonus +
            ' bonus numbers</strong> on a single ticket. The overall jackpot odds are ' +
            formatOdds(pJackpot) + '.';

          // Build joint probability table
          doubleHead.innerHTML = '';
          doubleBody.innerHTML = '';

          const headRow1 = document.createElement('tr');
          const corner = document.createElement('th');
          corner.textContent = 'Main matches ↓ / Bonus matches →';
          headRow1.appendChild(corner);
          for (let rb = 0; rb <= maxMatchBonus; rb++) {
            const th = document.createElement('th');
            th.textContent = rb;
            headRow1.appendChild(th);
          }
          doubleHead.appendChild(headRow1);

          for (let r1 = 0; r1 <= maxMatchMain; r1++) {
            const tr = document.createElement('tr');
            const tdRowLabel = document.createElement('td');
            tdRowLabel.textContent = r1;
            tdRowLabel.style.textAlign = 'center';
            tr.appendChild(tdRowLabel);

            const logFavMain_r1 = logCombination(T1, r1) + logCombination(N1 - T1, K1 - r1);

            for (let r2 = 0; r2 <= maxMatchBonus; r2++) {
              const logFavBonus_r2 = logCombination(T2, r2) + logCombination(N2 - T2, K2 - r2);
              let p = 0;
              if (Number.isFinite(logFavMain_r1) && Number.isFinite(logFavBonus_r2)) {
                const logFavTotal = logFavMain_r1 + logFavBonus_r2;
                p = Math.exp(logFavTotal - logTotalMain - logTotalBonus);
              }
              const td = document.createElement('td');
              td.style.textAlign = 'right';
              td.textContent = formatProbability(p, Math.min(decimals, 6)) +
                ' | ' + formatOdds(p);
              if (r1 === maxMatchMain && r2 === maxMatchBonus) {
                td.classList.add('highlight-cell');
              }
              tr.appendChild(td);
            }

            doubleBody.appendChild(tr);
          }

          doubleResults.classList.remove('hidden');
        }

        // Copy CSV for double-drum table
        document.getElementById('lot-double-copy-btn').addEventListener('click', function () {
          if (!doubleBody.children.length) return;
          let csv = 'main_matches,bonus_matches,probability,odds_1_in_X\n';
          for (const tr of doubleBody.children) {
            const tds = tr.querySelectorAll('td');
            const r1 = tds[0].textContent.trim();
            for (let j = 1; j < tds.length; j++) {
              const cellText = tds[j].textContent.trim();
              const parts = cellText.split('|');
              const p = (parts[0] || '').trim();
              const odds = (parts[1] || '').trim();
              csv += r1 + ',' + (j - 1) + ',' + p + ',' + odds + '\n';
            }
          }
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(csv).catch(function () {});
          }
        });
      })();
    </script>

    <script>
      window.MathJax = { tex: { inlineMath: [['\\(','\\)'], [',
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>, ',
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>]], displayMath: [['\\[','\\]']] }, svg: { fontCache: 'global' } };,
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>