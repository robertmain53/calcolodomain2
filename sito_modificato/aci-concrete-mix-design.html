<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACI Concrete Mix Design Calculator (Absolute Volume Method) | CalcDomain</title>
  <meta name="description" content="Professional ACI concrete mix design calculator using the Absolute Volume Method. Compute cement, water, fine and coarse aggregate quantities per m³ or per yd³ with moisture corrections and WCAG 2.1 AA accessibility.">
  <meta name="author" content="Ugo Candido">
  <link rel="canonical" href="https://calcdomain.com/aci-concrete-mix-design">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <script>
    (function() {

      'use strict';

    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  

    })();</script>
  <script async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e5e7eb;
      --primary:#2563eb;
      --primary2:#1d4ed8;
      --shadow:0 10px 25px rgba(2,6,23,.08);
      --radius:14px;
      --sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"Apple Color Emoji","Segoe UI Emoji";

      --surface-subtle:#f8fafc;
      --danger:#b91c1c;
      --dangerBg:#fef2f2;
      --ok:#15803d;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:var(--bg);
      line-height:1.5;
    }
    a{ color:var(--primary); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .container{ max-width:1120px; margin:0 auto; padding:18px; }

    header{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.92);
      backdrop-filter:blur(8px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      padding:12px 18px;
    }
    .brand{ font-weight:800; letter-spacing:.2px; font-size:20px; color:var(--text); }
    .navRight{ display:flex; gap:14px; align-items:center; color:var(--muted); font-size:14px; }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line); background:#fff;
      padding:8px 10px; border-radius:999px; font-size:13px;
    }

    .calc-hero{
      display:grid;
      grid-template-columns:1.2fr 1fr;
      gap:24px;
      margin-top:24px;
      align-items:start;
    }
    @media (max-width:800px){ .calc-hero{ grid-template-columns:1fr; } }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
    }

    h1{ margin:0 0 8px; font-size:28px; line-height:1.2; }
    .sub{ margin:0 0 20px; color:var(--muted); font-size:15px; }

    .sectionTitle{
      font-weight:800; margin:0 0 12px;
      font-size:15px; text-transform:uppercase; letter-spacing:.5px; color:var(--muted);
    }

    .grid2{ display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px; }
    @media (max-width:500px){ .grid2{ grid-template-columns:1fr; } }

    label{ display:block; font-size:13px; font-weight:600; color:var(--muted); margin:0 0 6px; }
    input, select{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:10px;
      background:#fff;
      font-size:15px;
      outline:none;
      transition:border-color .2s;
    }
    input:focus, select:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 3px rgba(37,99,235,0.15);
    }

    .optional-box{
      background:var(--surface-subtle);
      border:1px solid var(--line);
      border-radius:10px;
      padding:16px;
      margin-bottom:16px;
    }

    .sticky-box{ position:sticky; top:90px; }

    .totalBox{
      text-align:center;
      padding-bottom:20px;
      border-bottom:1px solid var(--line);
      margin-bottom:16px;
    }
    .totalBox .t{ color:var(--muted); font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:.5px; }
    .totalBox .v{ font-size:42px; font-weight:900; margin-top:4px; color:var(--text); }

    .kpi{ display:flex; justify-content:space-between; margin-bottom:10px; font-size:14px; }
    .kpi span:first-child{ color:var(--muted); }
    .kpi span:last-child{ font-weight:700; color:var(--text); }

    .btn{
      display:block; width:100%;
      border:none; background:var(--primary); color:#fff;
      padding:12px; border-radius:10px;
      cursor:pointer; font-weight:700; font-size:15px;
      text-align:center; margin-top:10px;
    }
    .btn:hover{ background:var(--primary2); text-decoration:none; }
    .btnSecondary{ background:#fff; border:1px solid var(--line); color:var(--text); }
    .btnSecondary:hover{ background:#f8fafc; }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    .alert{
      display:none;
      padding:12px;
      margin-bottom:20px;
      background:var(--dangerBg);
      border-left:4px solid var(--danger);
      color:#7f1d1d;
      border-radius:6px;
      font-size:14px;
    }

    .content-card{ margin-top:24px; }
    .content-card h2{ margin:0 0 10px; font-size:18px; }
    .content-card h3{ margin:16px 0 6px; font-size:15px; }
    .content-card p{ margin:0 0 10px; color:var(--text); }
    .content-card ul, .content-card ol{ margin:8px 0 0; padding-left:18px; }

    .meta-section{
      margin-top:40px;
      padding-top:20px;
      border-top:1px solid var(--line);
      font-size:13px;
      color:var(--muted);
    }
    .badge-row{ display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    .badge{
      display:inline-flex; align-items:center; gap:6px;
      border:1px solid var(--line); padding:4px 10px;
      border-radius:20px; background:#fff;
    }

    .bg-gray-900{ background:#0f172a; }
    .text-white{ color:#ffffff; }
    .text-gray-400{ color:#94a3b8; }
    .hover\:text-white:hover{ color:#ffffff; }
    .py-12{ padding-top:3rem; padding-bottom:3rem; }
    .px-4{ padding-left:1rem; padding-right:1rem; }
    .grid{ display:grid; }
    .gap-8{ gap:2rem; }
    .mb-4{ margin-bottom:1rem; }
    .mt-8{ margin-top:2rem; }
    .pt-8{ padding-top:2rem; }
    .border-t{ border-top-width:1px; }
    .border-gray-800{ border-color:#1e293b; }
    .text-center{ text-align:center; }
    .font-bold{ font-weight:700; }
    .font-semibold{ font-weight:600; }
    .text-2xl{ font-size:1.5rem; }
    .text-lg{ font-size:1.125rem; }
    .space-y-2 > * + *{ margin-top:.5rem; }
    .mx-auto{ margin-left:auto; margin-right:auto; }

    @media (min-width:768px){
      .md\:grid-cols-4{ grid-template-columns:repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>
<body>
  <header id="siteHeader">
    <div class="nav container">
      <a class="brand" href="https://calcdomain.com">CalcDomain</a>
      <div class="navRight">
        <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
        <span class="pill">Categories</span>
      </div>
    </div>
  </header>

  <div class="container">
    <main style="margin:24px 0 40px;" id="mainContent">
      <h1 id="pageTitle">ACI Concrete Mix Design Calculator (Absolute Volume Method)</h1>
      <p class="sub" id="pageSub">Compute cement, water, fine and coarse aggregate quantities per unit volume with moisture corrections.</p>

      <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>

      <div class="calc-hero" id="calcHero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="sectionTitle">Design inputs</div>
          <div class="grid2">
            <div>
              <label for="unitSystem">Unit system</label>
              <select id="unitSystem">
                <option value="SI" selected="">SI (kg/m³)</option>
                <option value="US">US (lb/yd³)</option>
              </select>
            </div>
            <div>
              <label for="batchVolume">Batch size</label>
              <input id="batchVolume" type="number" inputmode="decimal" min="0.1" step="0.1" value="1">
            </div>
          </div>

          <div class="grid2">
            <div>
              <label for="waterContent">Mixing water per unit</label>
              <input id="waterContent" type="number" inputmode="decimal" min="50" step="1" value="180">
            </div>
            <div>
              <label for="wcRatio">Water–cement ratio (w/c)</label>
              <input id="wcRatio" type="number" inputmode="decimal" min="0.25" max="0.75" step="0.01" value="0.50">
            </div>
          </div>

          <div class="grid2">
            <div>
              <label for="airContent">Target air content (%)</label>
              <input id="airContent" type="number" inputmode="decimal" min="0" max="9" step="0.1" value="2.0">
            </div>
            <div>
              <label for="caBulkFrac">Coarse aggregate volume fraction (φ)</label>
              <input id="caBulkFrac" type="number" inputmode="decimal" min="0.5" max="0.8" step="0.01" value="0.67">
            </div>
          </div>

          <div class="grid2">
            <div>
              <label for="druw">CA dry-rodded unit weight</label>
              <input id="druw" type="number" inputmode="decimal" min="1200" step="1" value="1600">
            </div>
            <div>
              <label for="mna">MNSA (mm)</label>
              <select id="mna">
                <option value="9.5">9.5 mm (3/8 in)</option>
                <option value="12.5">12.5 mm (1/2 in)</option>
                <option value="19" selected="">19 mm (3/4 in)</option>
                <option value="25">25 mm (1 in)</option>
                <option value="37.5">37.5 mm (1.5 in)</option>
                <option value="50">50 mm (2 in)</option>
              </select>
            </div>
          </div>

          <div class="grid2">
            <div>
              <label for="sgCement">Specific gravity (SSD) — cement</label>
              <input id="sgCement" type="number" inputmode="decimal" min="2.8" max="3.2" step="0.01" value="3.15">
            </div>
            <div>
              <label for="sgFA">Specific gravity (SSD) — fine aggregate</label>
              <input id="sgFA" type="number" inputmode="decimal" min="2.2" max="2.9" step="0.01" value="2.65">
            </div>
          </div>

          <div class="grid2">
            <div>
              <label for="sgCA">Specific gravity (SSD) — coarse aggregate</label>
              <input id="sgCA" type="number" inputmode="decimal" min="2.2" max="2.9" step="0.01" value="2.65">
            </div>
          </div>

          <div class="optional-box">
            <div class="sectionTitle" style="margin-top:0;">Moisture corrections (optional)</div>
            <div class="grid2">
              <div>
                <label for="faAbs">FA absorption (%)</label>
                <input id="faAbs" type="number" inputmode="decimal" min="0" max="5" step="0.1" value="1.5">
              </div>
              <div>
                <label for="faMC">FA moisture (%)</label>
                <input id="faMC" type="number" inputmode="decimal" min="0" max="8" step="0.1" value="3.0">
              </div>
            </div>
            <div class="grid2">
              <div>
                <label for="caAbs">CA absorption (%)</label>
                <input id="caAbs" type="number" inputmode="decimal" min="0" max="5" step="0.1" value="0.8">
              </div>
              <div>
                <label for="caMC">CA moisture (%)</label>
                <input id="caMC" type="number" inputmode="decimal" min="0" max="5" step="0.1" value="1.0">
              </div>
            </div>
          </div>

          <button class="btn" id="calcBtn" type="button">Calculate</button>
          <button class="btn btnSecondary" id="resetBtn" type="button">Reset</button>
        
<div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
</section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="totalBox">
            <div class="t">Cement (per unit)</div>
            <div class="v" id="cementPerUnit">—</div>
          </div>

          <div class="kpi"><span>Cement (batch)</span><span id="cementBatch">—</span></div>
          <div class="kpi"><span>Water (per unit)</span><span id="waterPerUnit">—</span></div>
          <div class="kpi"><span>Batch water to add</span><span id="batchWater">—</span></div>
          <div class="kpi"><span>CA OD (per unit)</span><span id="caODPerUnit">—</span></div>
          <div class="kpi"><span>CA batched</span><span id="caBatch">—</span></div>
          <div class="kpi"><span>FA SSD (per unit)</span><span id="faSSDPerUnit">—</span></div>
          <div class="kpi"><span>FA batched</span><span id="faBatch">—</span></div>
        </section>
      </div>

      <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
        <h2>How to use</h2>
        <p>Enter your unit system, batch size, water content, and w/c ratio. Provide the coarse aggregate fraction and dry-rodded unit weight, then fill specific gravities. Optionally add moisture corrections to estimate batch water.</p>
        <h2>Methodology</h2>
        <p>The calculator applies the ACI 211.1 Absolute Volume Method: the sum of absolute volumes of water, cement, air, and aggregates equals one unit volume. Fine aggregate volume is computed by remainder.</p>
        <h2>Full original guide (expanded)</h2>
        <p>This tool operationalizes the Absolute Volume Method, using typical ACI water and aggregate guidance. Always verify with project specifications and trial mixes.</p>
        <h3>Glossary highlights</h3>
        <ul>
          <li>W: Mixing water content per unit concrete.</li>
          <li>r (w/c): Water–cement ratio by mass.</li>
          <li>φ: Coarse aggregate bulk volume fraction.</li>
          <li>G: Specific gravity (SSD) of cement or aggregate.</li>
        </ul>
      </section>

      <section class="meta-section" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
        <details id="formulaDetails">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Formulas</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            \[ C = \frac{W}{r} \]
            \[ V_w = \frac{W}{\rho_w},\; V_c = \frac{C}{G_c\rho_w},\; V_a = \frac{a}{100} \]
            \[ M_{ca}^{OD} = \phi \cdot \gamma_{DRUW} \cdot \{1 \text{ (SI)}; 27 \text{ (US)}\} \]
            \[ V_{ca} = \frac{M_{ca}^{OD}}{G_{ca}\rho_w} \]
            \[ V_{fa} = 1 - (V_w + V_c + V_a + V_{ca}) \]
            \[ M_{fa}^{SSD} = V_{fa} \cdot G_{fa} \cdot \rho_w \]
            \[ W_{batch} = W - \Delta W \]
          </div>
        </details>

        <details id="citationDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Citations</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <p style="margin:0;">Construction — calcdomain.com: https://calcdomain.com/construction-diy</p>
            <p style="margin:0;">Concrete Mix Design — calcdomain.com: https://calcdomain.com/concrete-mix</p>
            <p style="margin:0;">ACI — concrete.org: https://www.concrete.org/</p>
            <p style="margin:0;">ACI Committee 211 — ACI 211.1 Standard Practice for Selecting Proportions for Normal, Heavyweight, and Mass Concrete.</p>
          </div>
        </details>

        <details id="changelogDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Changelog</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <ul style="padding-left:18px; margin:0;">
              <li>0.1.0-draft — 2026-01-19: Initial audit spec draft generated from HTML extraction (review required). Verify formulas match the calculator engine and convert any text-only formulas to LaTeX. Confirm sources are authoritative and relevant to the calculator methodology.</li>
            </ul>
          </div>
        </details>

        <div class="badge-row" id="badgeRow">
          <div class="badge" id="verifiedBadge">
            <span style="color:var(--ok); font-weight:800;">✓</span> Verified by Ugo Candido
          </div>
          <div class="badge" id="lastUpdatedBadge">Last Updated: 2026-01-19</div>
          <div class="badge" id="versionBadge">Version 0.1.0-draft</div>
        </div>
      </section>
    </main>
  </div>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">
            Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
          </p>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
            <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
            <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
            <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
            <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
            <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
            <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
            <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
            <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script>
    (function() {

      'use strict';

    const debounce = (fn, delay = 100) => {
      let t;
      return (...args) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...args), delay);
      };
    };

    function parseInputs(){
      return {
        unitSystem: document.getElementById('unitSystem').value,
        batchVolume: Number(document.getElementById('batchVolume').value),
        waterContent: Number(document.getElementById('waterContent').value),
        wcRatio: Number(document.getElementById('wcRatio').value),
        airContent: Number(document.getElementById('airContent').value),
        caBulkFrac: Number(document.getElementById('caBulkFrac').value),
        druw: Number(document.getElementById('druw').value),
        sgCement: Number(document.getElementById('sgCement').value),
        sgFA: Number(document.getElementById('sgFA').value),
        sgCA: Number(document.getElementById('sgCA').value),
        faAbs: Number(document.getElementById('faAbs').value),
        faMC: Number(document.getElementById('faMC').value),
        caAbs: Number(document.getElementById('caAbs').value),
        caMC: Number(document.getElementById('caMC').value)
      };
    }

    function validate(inputs){
      const errors = [];
      const required = ['batchVolume','waterContent','wcRatio','caBulkFrac','druw','sgCement','sgFA','sgCA'];
      required.forEach(key => {
        if (!Number.isFinite(inputs[key]) || inputs[key] <= 0){
          errors.push(`Invalid ${key}.`);
        }
      });
      if (inputs.wcRatio <= 0) errors.push('Water–cement ratio must be positive.');
      return { ok: errors.length === 0, errors };
    }

    function compute(inputs){
      const rho_w = inputs.unitSystem === 'SI' ? 1000 : 1684.8;
      const unitFactor = inputs.unitSystem === 'SI' ? 1 : 27; // lb/ft^3 to lb/yd^3

      const C = inputs.waterContent / inputs.wcRatio;
      const Vw = inputs.waterContent / rho_w;
      const Vc = C / (inputs.sgCement * rho_w);
      const Va = inputs.airContent / 100;

      const McaOD = inputs.caBulkFrac * inputs.druw * unitFactor;
      const Vca = McaOD / (inputs.sgCA * rho_w);

      const Vfa = 1 - (Vw + Vc + Va + Vca);
      const MfaSSD = Vfa * inputs.sgFA * rho_w;

      const McaBatched = McaOD * (1 + (inputs.caMC / 100));
      const MfaOD = MfaSSD / (1 + (inputs.faAbs / 100));
      const MfaBatched = MfaOD * (1 + (inputs.faMC / 100));

      const deltaW = MfaOD * ((inputs.faMC - inputs.faAbs) / 100) + McaOD * ((inputs.caMC - inputs.caAbs) / 100);
      const Wbatch = inputs.waterContent - deltaW;

      const volume = inputs.batchVolume;
      return {
        C,
        Cbatch: C * volume,
        W: inputs.waterContent,
        Wbatch: Wbatch * volume,
        McaOD,
        McaBatch: McaBatched * volume,
        MfaSSD,
        MfaBatch: MfaBatched * volume
      };
    }

    function format(outputs, inputs){
      const massUnit = inputs.unitSystem === 'SI' ? 'kg' : 'lb';
      const unitVol = inputs.unitSystem === 'SI' ? 'm³' : 'yd³';
      const fixed = (val, digits, unit) => Number.isFinite(val) ? `${val.toFixed(digits)} ${unit}` : '—';
      return {
        cementPerUnit: fixed(outputs.C, 1, `${massUnit}/${unitVol}`),
        cementBatch: fixed(outputs.Cbatch, 1, massUnit),
        waterPerUnit: fixed(outputs.W, 1, `${massUnit}/${unitVol}`),
        batchWater: fixed(outputs.Wbatch, 1, massUnit),
        caODPerUnit: fixed(outputs.McaOD, 1, `${massUnit}/${unitVol}`),
        caBatch: fixed(outputs.McaBatch, 1, massUnit),
        faSSDPerUnit: fixed(outputs.MfaSSD, 1, `${massUnit}/${unitVol}`),
        faBatch: fixed(outputs.MfaBatch, 1, massUnit)
      };
    }

    function render(formatted, errors){
      const err = document.getElementById('errorBox');
      if (errors.length){
        err.style.display = 'block';
        err.textContent = errors.join(' ');
      } else {
        err.style.display = 'none';
        err.textContent = '';
      }

      document.getElementById('cementPerUnit').textContent = formatted?.cementPerUnit || '—';
      document.getElementById('cementBatch').textContent = formatted?.cementBatch || '—';
      document.getElementById('waterPerUnit').textContent = formatted?.waterPerUnit || '—';
      document.getElementById('batchWater').textContent = formatted?.batchWater || '—';
      document.getElementById('caODPerUnit').textContent = formatted?.caODPerUnit || '—';
      document.getElementById('caBatch').textContent = formatted?.caBatch || '—';
      document.getElementById('faSSDPerUnit').textContent = formatted?.faSSDPerUnit || '—';
      document.getElementById('faBatch').textContent = formatted?.faBatch || '—';
    }

    function update(){
      const inputs = parseInputs();
      const check = validate(inputs);
      if (!check.ok){
        const formatted = format({
          C: NaN,
          Cbatch: NaN,
          W: NaN,
          Wbatch: NaN,
          McaOD: NaN,
          McaBatch: NaN,
          MfaSSD: NaN,
          MfaBatch: NaN
        }, inputs);
        render(formatted, check.errors);
        return;
      }
      const outputs = compute(inputs);
      const formatted = format(outputs, inputs);
      render(formatted, []);
    }

document.getElementById('calcBtn').addEventListener('click', update);
    document.getElementById('resetBtn').addEventListener('click', () => {
el.addEventListener('change', debouncedUpdate);
      });

    

const debouncedUpdate = debounce(update, 100);

document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
  .forEach((el) => {
    el.addEventListener('input', debouncedUpdate);
    el.addEventListener('change', debouncedUpdate);
  });

update();
  

    })();</script>


</body></html>