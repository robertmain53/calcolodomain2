<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/nec-conduit-fill" />
    <title>Nec Conduit Fill Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Nec Conduit Fill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Nec Conduit Fill Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Nec Conduit Fill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/nec-conduit-fill" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Nec Conduit Fill Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Nec Conduit Fill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "NEC Conduit Fill Calculator (Up to 40% Fill) – THHN/THWN, XHHW, More",
        "description": "Free NEC conduit fill calculator. Instantly compute conduit size, fill percentage, and max number of conductors for EMT, PVC, RMC, IMC, and FMC using NEC Chapter 9, Table 1 & Annex C.",
        "url": "https://calcdomain.com/nec-conduit-fill",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Engineering",
              "item": "https://calcdomain.com/categories/engineering"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Electrical Calculators",
              "item": "https://calcdomain.com/electrical"
            },
            { "@type": "ListItem", "position": 3, "name": "NEC Conduit Fill" }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical Calculators", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "NEC Conduit Fill Calculator", "item": "https://calcdomain.com/nec-conduit-fill"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">NEC Conduit Fill Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl md:text-3xl font-bold mb-2">
              NEC Conduit Fill Calculator
            </h1>
            <p class="text-gray-600 mb-4">
              Quickly determine conduit size, fill percentage, and maximum
              number of conductors using NEC Chapter 9, Table 1 and typical
              Annex C values.
            </p>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-6">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-3">
                Conduit Fill Calculator
              </h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="conduitType"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Conduit type</label
                  >
                  <select
                    id="conduitType"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <option value="EMT">
                      EMT (Electrical Metallic Tubing)
                    </option>
                    <option value="PVC40">PVC Schedule 40</option>
                    <option value="PVC80">PVC Schedule 80</option>
                    <option value="RMC">RMC (Rigid Metal Conduit)</option>
                    <option value="IMC">
                      IMC (Intermediate Metal Conduit)
                    </option>
                    <option value="FMC">FMC (Flexible Metal Conduit)</option>
                  </select>
                </div>

                <div>
                  <label
                    for="fillScenario"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Fill scenario</label
                  >
                  <select
                    id="fillScenario"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <option value="percent">
                      Check fill % for a known conduit size
                    </option>
                    <option value="size">
                      Find minimum conduit size for given conductors
                    </option>
                  </select>
                </div>
              </div>

              <!-- Conduit size selection (for percent scenario) -->
              <div id="conduitSizeRow" class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="conduitSize"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Conduit trade size</label
                  >
                  <select
                    id="conduitSize"
                    class="w-full border rounded-md px-3 py-2"
                  >
                    <!-- options populated by JS -->
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Trade size in inches (e.g., 1", 1¼", 2").
                  </p>
                </div>
              </div>

              <hr class="my-4" />

              <h3 class="text-lg font-semibold mb-2">Conductors</h3>
              <p class="text-sm text-gray-600 mb-2">
                Add each conductor type and quantity. The tool uses typical NEC
                Chapter 9, Table 5/8 areas for THHN/THWN and XHHW copper.
              </p>

              <div class="space-y-3 mb-4">
                <div class="grid md:grid-cols-4 gap-3 items-end">
                  <div>
                    <label
                      for="awgSize"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >AWG / kcmil</label
                    >
                    <select
                      id="awgSize"
                      class="w-full border rounded-md px-3 py-2"
                    >
                      <option value="14">14 AWG</option>
                      <option value="12">12 AWG</option>
                      <option value="10">10 AWG</option>
                      <option value="8">8 AWG</option>
                      <option value="6">6 AWG</option>
                      <option value="4">4 AWG</option>
                      <option value="3">3 AWG</option>
                      <option value="2">2 AWG</option>
                      <option value="1">1 AWG</option>
                      <option value="1/0">1/0 AWG</option>
                      <option value="2/0">2/0 AWG</option>
                      <option value="3/0">3/0 AWG</option>
                      <option value="4/0">4/0 AWG</option>
                      <option value="250">250 kcmil</option>
                      <option value="300">300 kcmil</option>
                      <option value="350">350 kcmil</option>
                      <option value="400">400 kcmil</option>
                      <option value="500">500 kcmil</option>
                      <option value="600">600 kcmil</option>
                      <option value="750">750 kcmil</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="insulationType"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Insulation</label
                    >
                    <select
                      id="insulationType"
                      class="w-full border rounded-md px-3 py-2"
                    >
                      <option value="THHN">THHN / THWN-2 (Cu)</option>
                      <option value="XHHW">XHHW (Cu)</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="conductorQty"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Quantity</label
                    >
                    <input
                      id="conductorQty"
                      type="number"
                      min="1"
                      step="1"
                      value="3"
                      class="w-full border rounded-md px-3 py-2"
                    />
                  </div>

                  <div class="flex gap-2">
                    <button
                      id="addConductorBtn"
                      type="button"
                      class="flex-1 inline-flex justify-center items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
                    >
                      Add conductors
                    </button>
                    <button
                      id="clearConductorsBtn"
                      type="button"
                      class="px-3 py-2 border text-sm rounded-md text-gray-700 hover:bg-gray-100"
                    >
                      Clear
                    </button>
                  </div>
                </div>
              </div>

              <div id="conductorListWrapper" class="mb-4 hidden">
                <h4 class="text-sm font-semibold mb-2">
                  Current conductor set
                </h4>
                <div class="scroll-table border rounded-md">
                  <table class="min-w-full text-sm">
                    <thead class="bg-gray-100">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-medium text-gray-700"
                        >
                          AWG/kcmil
                        </th>
                        <th
                          class="px-3 py-2 text-left font-medium text-gray-700"
                        >
                          Insulation
                        </th>
                        <th
                          class="px-3 py-2 text-right font-medium text-gray-700"
                        >
                          Qty
                        </th>
                        <th
                          class="px-3 py-2 text-right font-medium text-gray-700"
                        >
                          Area ea. (in²)
                        </th>
                        <th
                          class="px-3 py-2 text-right font-medium text-gray-700"
                        >
                          Total area (in²)
                        </th>
                        <th class="px-3 py-2"></th>
                      </tr>
                    </thead>
                    <tbody id="conductorTableBody"></tbody>
                  </table>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calculateBtn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded-md hover:bg-green-700"
                >
                  Calculate conduit fill
                </button>
                <p class="text-xs text-gray-500">
                  Assumes more than 2 conductors → 40% maximum fill per NEC
                  Chapter 9, Table 1.
                </p>
              </div>

              <!-- Results -->
              <div
                id="resultsCard"
                class="hidden border rounded-lg p-4 bg-gray-50"
              >
                <h3 class="text-lg font-semibold mb-2">Results</h3>
                <div id="resultsContent" class="space-y-2 text-sm"></div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-8">
              <h2>How this NEC conduit fill calculator works</h2>
              <p>
                This tool helps you size raceways and check fill percentage
                based on the
                <strong>National Electrical Code (NEC)</strong>:
              </p>
              <ul>
                <li>
                  <strong>NEC Chapter 9, Table 1</strong> – maximum conduit fill
                  percentages.
                </li>
                <li>
                  <strong>NEC Chapter 9, Tables 4 &amp; 5</strong> – typical
                  internal areas and conductor areas (approximated here).
                </li>
                <li>
                  <strong>NEC Annex C</strong> – maximum number of conductors
                  per raceway (effectively reproduced by the calculator).
                </li>
              </ul>

              <p>
                The calculator supports common raceway types (EMT, PVC, RMC,
                IMC, FMC) and copper THHN/THWN and XHHW conductors from
                14&nbsp;AWG to 750&nbsp;kcmil.
              </p>

              <h3>NEC conduit fill limits (Chapter 9, Table 1)</h3>
              <p>
                Maximum allowable fill depends on how many conductors are in the
                raceway:
              </p>
              <div class="formula-box">
                <ul>
                  <li>
                    <strong>1 conductor:</strong> up to <strong>53%</strong> of
                    the internal cross-sectional area.
                  </li>
                  <li>
                    <strong>2 conductors:</strong> up to <strong>31%</strong> of
                    the internal area.
                  </li>
                  <li>
                    <strong>3 or more conductors:</strong> up to
                    <strong>40%</strong> of the internal area.
                  </li>
                </ul>
              </div>
              <p>
                This calculator assumes the typical case of
                <strong>more than 2 conductors</strong> and uses the
                <strong>40% fill limit</strong>. If you are running only one or
                two conductors, you should check the 53% or 31% limits manually
                in the NEC tables.
              </p>

              <h3>Step‑by‑step: how to use the calculator</h3>
              <ol>
                <li>
                  <strong>Select the conduit type</strong> (EMT, PVC, RMC, IMC,
                  or FMC). The internal area for each trade size is based on
                  typical NEC Chapter 9, Table 4 values.
                </li>
                <li>
                  <strong>Choose the scenario</strong>:
                  <ul>
                    <li>
                      <em>Check fill % for a known conduit size</em> – pick the
                      trade size and see the resulting fill.
                    </li>
                    <li>
                      <em>Find minimum conduit size</em> – the tool will search
                      up through trade sizes until it finds one that meets the
                      40% limit.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Add conductors</strong>:
                  <ul>
                    <li>Choose the <strong>AWG/kcmil size</strong>.</li>
                    <li>
                      Select the <strong>insulation type</strong> (THHN/THWN or
                      XHHW copper).
                    </li>
                    <li>
                      Enter the <strong>quantity</strong> and click
                      <strong>“Add conductors”</strong>.
                    </li>
                    <li>
                      Repeat for each different conductor size or insulation
                      type in the raceway.
                    </li>
                  </ul>
                </li>
                <li>
                  Click <strong>“Calculate conduit fill”</strong> to see:
                  <ul>
                    <li>Total conductor area.</li>
                    <li>Conduit internal area and 40% allowable area.</li>
                    <li>
                      Fill percentage and pass/fail against the 40% limit.
                    </li>
                    <li>
                      If using the “find minimum size” mode, the smallest trade
                      size that passes.
                    </li>
                  </ul>
                </li>
              </ol>

              <h3>Formulas used</h3>
              <p>The basic conduit fill calculation is:</p>
              <div class="formula-box">
                <p><strong>Total conductor area</strong>:</p>
                <p>
                  \[ A_\text{cond,total} = \sum_{i=1}^{n} \left( N_i \times
                  A_{\text{cond},i} \right) \]
                </p>
                <p><strong>Allowable fill area (for 3+ conductors)</strong>:</p>
                <p>\[ A_\text{allow} = 0.40 \times A_\text{conduit} \]</p>
                <p><strong>Fill percentage</strong>:</p>
                <p>
                  \[ \text{Fill \%} =
                  \frac{A_\text{cond,total}}{A_\text{conduit}} \times 100 \]
                </p>
              </div>

              <p>
                If <code>Fill % ≤ 40%</code>, the conduit complies with the NEC
                40% rule for three or more conductors. If it exceeds 40%, you
                must choose a larger raceway or reduce the number/size of
                conductors.
              </p>

              <h3>Typical conductor areas (THHN/THWN copper)</h3>
              <p>
                The calculator uses approximate
                <strong>cross‑sectional areas in square inches</strong> based on
                NEC Chapter 9, Table 5 for THHN/THWN copper. A few common
                values:
              </p>
              <div class="scroll-table">
                <table class="table-auto text-sm border border-gray-200">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="px-3 py-1 border">AWG/kcmil</th>
                      <th class="px-3 py-1 border">THHN area (in²)</th>
                      <th class="px-3 py-1 border">XHHW area (in²)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="px-3 py-1 border">14</td>
                      <td class="px-3 py-1 border">0.0133</td>
                      <td class="px-3 py-1 border">0.0166</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">12</td>
                      <td class="px-3 py-1 border">0.0166</td>
                      <td class="px-3 py-1 border">0.0206</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">10</td>
                      <td class="px-3 py-1 border">0.0211</td>
                      <td class="px-3 py-1 border">0.0269</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">8</td>
                      <td class="px-3 py-1 border">0.0366</td>
                      <td class="px-3 py-1 border">0.0507</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">6</td>
                      <td class="px-3 py-1 border">0.0507</td>
                      <td class="px-3 py-1 border">0.0674</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">4</td>
                      <td class="px-3 py-1 border">0.0824</td>
                      <td class="px-3 py-1 border">0.1010</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">3</td>
                      <td class="px-3 py-1 border">0.0973</td>
                      <td class="px-3 py-1 border">0.1220</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">2</td>
                      <td class="px-3 py-1 border">0.1158</td>
                      <td class="px-3 py-1 border">0.1430</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">1</td>
                      <td class="px-3 py-1 border">0.1541</td>
                      <td class="px-3 py-1 border">0.1810</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">1/0</td>
                      <td class="px-3 py-1 border">0.1845</td>
                      <td class="px-3 py-1 border">0.2170</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">2/0</td>
                      <td class="px-3 py-1 border">0.2210</td>
                      <td class="px-3 py-1 border">0.2590</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">3/0</td>
                      <td class="px-3 py-1 border">0.2637</td>
                      <td class="px-3 py-1 border">0.3110</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">4/0</td>
                      <td class="px-3 py-1 border">0.3119</td>
                      <td class="px-3 py-1 border">0.3670</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">250</td>
                      <td class="px-3 py-1 border">0.3970</td>
                      <td class="px-3 py-1 border">0.4600</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">300</td>
                      <td class="px-3 py-1 border">0.4580</td>
                      <td class="px-3 py-1 border">0.5300</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">350</td>
                      <td class="px-3 py-1 border">0.5200</td>
                      <td class="px-3 py-1 border">0.6000</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">400</td>
                      <td class="px-3 py-1 border">0.5810</td>
                      <td class="px-3 py-1 border">0.6700</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">500</td>
                      <td class="px-3 py-1 border">0.7070</td>
                      <td class="px-3 py-1 border">0.8100</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">600</td>
                      <td class="px-3 py-1 border">0.8290</td>
                      <td class="px-3 py-1 border">0.9500</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">750</td>
                      <td class="px-3 py-1 border">1.0320</td>
                      <td class="px-3 py-1 border">1.1700</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500">
                Values above are rounded and provided for convenience only.
                Always verify against the latest NEC edition and manufacturer
                data.
              </p>

              <h3>Typical conduit internal areas</h3>
              <p>
                Internal cross‑sectional areas for common EMT trade sizes
                (approximate, in²):
              </p>
              <div class="scroll-table">
                <table class="table-auto text-sm border border-gray-200">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="px-3 py-1 border">Trade size</th>
                      <th class="px-3 py-1 border">EMT area (in²)</th>
                      <th class="px-3 py-1 border">40% usable area (in²)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="px-3 py-1 border">½"</td>
                      <td class="px-3 py-1 border">0.304</td>
                      <td class="px-3 py-1 border">0.122</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">¾"</td>
                      <td class="px-3 py-1 border">0.533</td>
                      <td class="px-3 py-1 border">0.213</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">1"</td>
                      <td class="px-3 py-1 border">0.864</td>
                      <td class="px-3 py-1 border">0.346</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">1¼"</td>
                      <td class="px-3 py-1 border">1.496</td>
                      <td class="px-3 py-1 border">0.598</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">1½"</td>
                      <td class="px-3 py-1 border">2.036</td>
                      <td class="px-3 py-1 border">0.814</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">2"</td>
                      <td class="px-3 py-1 border">3.356</td>
                      <td class="px-3 py-1 border">1.342</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">2½"</td>
                      <td class="px-3 py-1 border">4.713</td>
                      <td class="px-3 py-1 border">1.885</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">3"</td>
                      <td class="px-3 py-1 border">6.531</td>
                      <td class="px-3 py-1 border">2.612</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">3½"</td>
                      <td class="px-3 py-1 border">8.909</td>
                      <td class="px-3 py-1 border">3.564</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-1 border">4"</td>
                      <td class="px-3 py-1 border">11.384</td>
                      <td class="px-3 py-1 border">4.554</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <h2>Worked example</h2>
              <p>
                <strong>Problem:</strong> You need to run
                <strong>(3) 3/0&nbsp;AWG THHN</strong> and
                <strong>(1) 1/0&nbsp;AWG THHN</strong> in EMT. What is the
                minimum conduit size for 40% fill?
              </p>
              <ol>
                <li>
                  Conductor areas (THHN, approximate):
                  <ul>
                    <li>3/0&nbsp;AWG: 0.2637&nbsp;in²</li>
                    <li>1/0&nbsp;AWG: 0.1845&nbsp;in²</li>
                  </ul>
                </li>
                <li>
                  Total conductor area:
                  <div class="formula-box">
                    \[ A_\text{total} = 3 \times 0.2637 + 1 \times 0.1845 =
                    0.7911 + 0.1845 = 0.9756\ \text{in}^2 \]
                  </div>
                </li>
                <li>
                  Try 1¼" EMT: internal area ≈ 1.496&nbsp;in² → 40% usable ≈
                  0.598&nbsp;in². 0.9756&nbsp;in² &gt; 0.598&nbsp;in² →
                  <strong>overfilled</strong>.
                </li>
                <li>
                  Try 1½" EMT: internal area ≈ 2.036&nbsp;in² → 40% usable ≈
                  0.814&nbsp;in². 0.9756&nbsp;in² &gt; 0.814&nbsp;in² → still
                  <strong>overfilled</strong>.
                </li>
                <li>
                  Try 2" EMT: internal area ≈ 3.356&nbsp;in² → 40% usable ≈
                  1.342&nbsp;in². 0.9756&nbsp;in² ≤ 1.342&nbsp;in² →
                  <strong>acceptable</strong>.
                </li>
              </ol>
              <p>
                The minimum EMT size that meets the 40% rule is therefore
                <strong>2" EMT</strong>. The calculator performs this search
                automatically.
              </p>

              <h2>Limitations and disclaimer</h2>
              <ul>
                <li>
                  This tool is intended as a
                  <strong>convenience aid</strong> for preliminary design and
                  field checks.
                </li>
                <li>
                  Values are based on typical NEC tables and rounded;
                  manufacturer dimensions may vary.
                </li>
                <li>
                  Always consult the latest <strong>NEC</strong>, local
                  amendments, and product data sheets before final design or
                  installation.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-3">NEC conduit fill – FAQ</h2>
              <div class="space-y-3" id="faq-container">
                <div class="border rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >What is conduit fill according to the NEC?</span
                    >
                    <span class="text-gray-500">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Conduit fill is the percentage of a raceway’s internal
                    cross‑sectional area that is occupied by conductors and
                    cables. NEC Chapter 9, Table 1 limits this percentage to 53%
                    for one conductor, 31% for two conductors, and 40% for three
                    or more conductors (not counting equipment grounding
                    conductors for ampacity purposes, but they still occupy
                    space for fill).
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Does this calculator replace NEC Annex C tables?</span
                    >
                    <span class="text-gray-500">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    No. The calculator effectively reproduces the logic of Annex
                    C by using conductor areas and conduit internal areas to
                    compute fill and maximum quantities. However, Annex C in the
                    NEC is the official reference, and you should always verify
                    critical designs against the current code edition and local
                    requirements.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Are equipment grounding conductors included in conduit
                      fill?</span
                    >
                    <span class="text-gray-500">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Yes. All conductors that physically occupy space in the
                    raceway, including equipment grounding conductors, must be
                    included in the conduit fill calculation. The fact that EGCs
                    are sometimes excluded from ampacity adjustment rules does
                    not exempt them from fill requirements.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Why does the calculator assume 40% fill?</span
                    >
                    <span class="text-gray-500">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Most real‑world raceways contain three or more
                    current‑carrying conductors, so the 40% limit from NEC
                    Chapter 9, Table 1 is the most common case. If you are
                    installing only one or two conductors, you can still use
                    this tool, but you should manually compare the result to the
                    53% or 31% limits from the code.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Can I use this for aluminum conductors or other
                      insulation types?</span
                    >
                    <span class="text-gray-500">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    This version focuses on copper THHN/THWN and XHHW. Aluminum
                    and other insulation types have different diameters and
                    areas. For those, you should look up the exact area in NEC
                    Chapter 9, Table 5/8 or manufacturer data and compare it to
                    the conduit area manually, or adjust the assumptions
                    accordingly.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Nec, Conduit, Fill.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Electrical Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/nec-ampacity"
                  class="text-blue-600 hover:underline"
                  >NEC Ampacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-cable-sizing"
                  class="text-blue-600 hover:underline"
                  >BS 7671 Cable Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >NEC Voltage Drop</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-dwelling-load-calculation"
                  class="text-blue-600 hover:underline"
                  >NEC Dwelling Load Calculation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-commercial-load-calculation"
                  class="text-blue-600 hover:underline"
                  >NEC Commercial Load Calculation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/egc-sizing"
                  class="text-blue-600 hover:underline"
                  >NEC EGC Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gec-sizing"
                  class="text-blue-600 hover:underline"
                  >NEC GEC Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-box-fill"
                  class="text-blue-600 hover:underline"
                  >NEC Box Fill</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/transformer-ocpd.html"
                  class="text-blue-600 hover:underline"
                  >NEC Transformer OCPD</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Engineering Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/moment-of-inertia"
                  class="text-blue-600 hover:underline"
                  >Moment of Inertia</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reynolds-number"
                  class="text-blue-600 hover:underline"
                  >Reynolds Number</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heat-transfer"
                  class="text-blue-600 hover:underline"
                  >Heat Transfer</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Basic data tables (approximate NEC-based values)

      const conduitAreas = {
        EMT: {
          0.5: 0.304,
          0.75: 0.533,
          1: 0.864,
          1.25: 1.496,
          1.5: 2.036,
          2: 3.356,
          2.5: 4.713,
          3: 6.531,
          3.5: 8.909,
          4: 11.384,
        },
        PVC40: {
          0.5: 0.302,
          0.75: 0.533,
          1: 0.864,
          1.25: 1.496,
          1.5: 2.036,
          2: 3.356,
          2.5: 5.858,
          3: 8.288,
          3.5: 10.858,
          4: 13.4,
        },
        PVC80: {
          0.5: 0.218,
          0.75: 0.401,
          1: 0.624,
          1.25: 1.087,
          1.5: 1.553,
          2: 2.624,
          2.5: 4.017,
          3: 5.901,
          3.5: 7.814,
          4: 9.868,
        },
        RMC: {
          0.5: 0.183,
          0.75: 0.314,
          1: 0.533,
          1.25: 0.864,
          1.5: 1.209,
          2: 2.036,
          2.5: 3.356,
          3: 5.858,
          3.5: 8.288,
          4: 10.858,
        },
        IMC: {
          0.5: 0.233,
          0.75: 0.409,
          1: 0.668,
          1.25: 1.099,
          1.5: 1.526,
          2: 2.501,
          2.5: 4.049,
          3: 6.531,
          3.5: 8.909,
          4: 11.384,
        },
        FMC: {
          0.5: 0.304,
          0.75: 0.533,
          1: 0.864,
          1.25: 1.496,
          1.5: 2.036,
          2: 3.356,
        },
      };

      const conductorAreas = {
        THHN: {
          14: 0.0133,
          12: 0.0166,
          10: 0.0211,
          8: 0.0366,
          6: 0.0507,
          4: 0.0824,
          3: 0.0973,
          2: 0.1158,
          1: 0.1541,
          "1/0": 0.1845,
          "2/0": 0.221,
          "3/0": 0.2637,
          "4/0": 0.3119,
          250: 0.397,
          300: 0.458,
          350: 0.52,
          400: 0.581,
          500: 0.707,
          600: 0.829,
          750: 1.032,
        },
        XHHW: {
          14: 0.0166,
          12: 0.0206,
          10: 0.0269,
          8: 0.0507,
          6: 0.0674,
          4: 0.101,
          3: 0.122,
          2: 0.143,
          1: 0.181,
          "1/0": 0.217,
          "2/0": 0.259,
          "3/0": 0.311,
          "4/0": 0.367,
          250: 0.46,
          300: 0.53,
          350: 0.6,
          400: 0.67,
          500: 0.81,
          600: 0.95,
          750: 1.17,
        },
      };

      const conductorSet = [];

      function populateConduitSizes() {
        const conduitType = document.getElementById("conduitType").value;
        const sizeSelect = document.getElementById("conduitSize");
        const sizes = conduitAreas[conduitType];
        sizeSelect.innerHTML = "";
        Object.keys(sizes)
          .sort((a, b) => parseFloat(a) - parseFloat(b))
          .forEach((size) => {
            const opt = document.createElement("option");
            opt.value = size;
            let label = size;
            if (size === "0.5") label = '1/2"';
            else if (size === "0.75") label = '3/4"';
            else label = size + '"';
            opt.textContent = label;
            sizeSelect.appendChild(opt);
          });
      }

      function renderConductorTable() {
        const tbody = document.getElementById("conductorTableBody");
        const wrapper = document.getElementById("conductorListWrapper");
        tbody.innerHTML = "";
        if (conductorSet.length === 0) {
          wrapper.classList.add("hidden");
          return;
        }
        wrapper.classList.remove("hidden");
        conductorSet.forEach((item, index) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-3 py-1 border">${item.awg}</td>
        <td class="px-3 py-1 border">${item.insulation}</td>
        <td class="px-3 py-1 border text-right">${item.qty}</td>
        <td class="px-3 py-1 border text-right">${item.areaEach.toFixed(4)}</td>
        <td class="px-3 py-1 border text-right">${item.totalArea.toFixed(
          4
        )}</td>
        <td class="px-3 py-1 border text-right">
          <button type="button" data-index="${index}" class="text-red-600 text-xs hover:underline remove-conductor-btn">Remove</button>
        </td>
      `;
          tbody.appendChild(tr);
        });
      }

      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("remove-conductor-btn")) {
          const idx = parseInt(e.target.getAttribute("data-index"), 10);
          if (!isNaN(idx)) {
            conductorSet.splice(idx, 1);
            renderConductorTable();
          }
        }
      });

      document
        .getElementById("conduitType")
        .addEventListener("change", populateConduitSizes);

      document
        .getElementById("fillScenario")
        .addEventListener("change", function () {
          const scenario = this.value;
          const row = document.getElementById("conduitSizeRow");
          if (scenario === "percent") {
            row.classList.remove("hidden");
          } else {
            row.classList.add("hidden");
          }
        });

      document
        .getElementById("addConductorBtn")
        .addEventListener("click", function () {
          const awg = document.getElementById("awgSize").value;
          const insulation = document.getElementById("insulationType").value;
          const qty = parseInt(
            document.getElementById("conductorQty").value,
            10
          );
          if (!qty || qty <= 0) {
            alert("Please enter a valid quantity.");
            return;
          }
          const areaTable = conductorAreas[insulation];
          const areaEach = areaTable[awg];
          if (!areaEach) {
            alert(
              "Area not found for selected conductor size/insulation-calculator.html."
            );
            return;
          }
          const totalArea = areaEach * qty;
          conductorSet.push({ awg, insulation, qty, areaEach, totalArea });
          renderConductorTable();
        });

      document
        .getElementById("clearConductorsBtn")
        .addEventListener("click", function () {
          conductorSet.length = 0;
          renderConductorTable();
        });

      document
        .getElementById("calculateBtn")
        .addEventListener("click", function () {
          const resultsCard = document.getElementById("resultsCard");
          const resultsContent = document.getElementById("resultsContent");
          resultsContent.innerHTML = "";
          if (conductorSet.length === 0) {
            alert("Add at least one conductor to calculate conduit fill.");
            return;
          }
          const scenario = document.getElementById("fillScenario").value;
          const conduitType = document.getElementById("conduitType").value;
          const areas = conduitAreas[conduitType];
          if (!areas) {
            alert("Conduit type not supported.");
            return;
          }

          const totalCondArea = conductorSet.reduce(
            (sum, c) => sum + c.totalArea,
            0
          );
          const numConductors = conductorSet.reduce((sum, c) => sum + c.qty, 0);

          const maxFillPercent =
            numConductors === 1 ? 53 : numConductors === 2 ? 31 : 40;

          if (scenario === "percent") {
            const size = document.getElementById("conduitSize").value;
            const conduitArea = areas[size];
            if (!conduitArea) {
              alert("Conduit size not supported for this type.");
              return;
            }
            const fillPercent = (totalCondArea / conduitArea) * 100;
            const allowableArea = conduitArea * (maxFillPercent / 100);

            resultsContent.innerHTML = `
        <p><strong>Scenario:</strong> Check fill for known conduit size.</p>
        <p><strong>Conduit:</strong> ${conduitType} ${
              size === "0.5" ? '1/2"' : size === "0.75" ? '3/4"' : size + '"'
            }</p>
        <p><strong>Total conductors:</strong> ${numConductors}</p>
        <p><strong>Total conductor area:</strong> ${totalCondArea.toFixed(
          4
        )} in²</p>
        <p><strong>Conduit internal area:</strong> ${conduitArea.toFixed(
          4
        )} in²</p>
        <p><strong>Maximum allowable area (${maxFillPercent}%):</strong> ${allowableArea.toFixed(
              4
            )} in²</p>
        <p><strong>Fill percentage:</strong> ${fillPercent.toFixed(1)}%</p>
        <p class="${
          fillPercent <= maxFillPercent ? "text-green-700" : "text-red-700"
        } font-semibold">
          ${
            fillPercent <= maxFillPercent
              ? "PASS – within NEC fill limits."
              : "FAIL – exceeds NEC fill limit, choose a larger conduit."
          }
        </p>
        <p class="text-xs text-gray-500">Note: Fill limit based on ${
          numConductors === 1
            ? "single conductor (53%)"
            : numConductors === 2
            ? "two conductors (31%)"
            : "three or more conductors (40%)"
        } per NEC Chapter 9, Table 1.</p>
      `;
          } else {
            // find minimum conduit size that meets fill limit
            let selectedSize = null;
            let selectedArea = null;
            const sortedSizes = Object.keys(areas).sort(
              (a, b) => parseFloat(a) - parseFloat(b)
            );
            for (const size of sortedSizes) {
              const area = areas[size];
              const fillPercent = (totalCondArea / area) * 100;
              if (fillPercent <= maxFillPercent) {
                selectedSize = size;
                selectedArea = area;
                break;
              }
            }
            if (!selectedSize) {
              resultsContent.innerHTML = `
          <p><strong>Scenario:</strong> Find minimum conduit size.</p>
          <p><strong>Total conductors:</strong> ${numConductors}</p>
          <p><strong>Total conductor area:</strong> ${totalCondArea.toFixed(
            4
          )} in²</p>
          <p class="text-red-700 font-semibold">No standard trade size in the selected conduit type meets the ${maxFillPercent}% fill limit for this conductor set.</p>
          <p class="text-xs text-gray-500">Try changing conduit type or splitting the conductors into multiple raceways.</p>
        `;
            } else {
              const fillPercent = (totalCondArea / selectedArea) * 100;
              const allowableArea = selectedArea * (maxFillPercent / 100);
              resultsContent.innerHTML = `
          <p><strong>Scenario:</strong> Find minimum conduit size for given conductors.</p>
          <p><strong>Recommended minimum conduit:</strong> ${conduitType} ${
                selectedSize === "0.5"
                  ? '1/2"'
                  : selectedSize === "0.75"
                  ? '3/4"'
                  : selectedSize + '"'
              }</p>
          <p><strong>Total conductors:</strong> ${numConductors}</p>
          <p><strong>Total conductor area:</strong> ${totalCondArea.toFixed(
            4
          )} in²</p>
          <p><strong>Conduit internal area:</strong> ${selectedArea.toFixed(
            4
          )} in²</p>
          <p><strong>Maximum allowable area (${maxFillPercent}%):</strong> ${allowableArea.toFixed(
                4
              )} in²</p>
          <p><strong>Resulting fill percentage:</strong> ${fillPercent.toFixed(
            1
          )}%</p>
          <p class="text-green-700 font-semibold">PASS – this is the smallest trade size that meets the NEC fill limit for the selected conduit type.</p>
          <p class="text-xs text-gray-500">Always verify against the latest NEC tables and local code requirements.</p>
        `;
            }
          }

          resultsCard.classList.remove("hidden");
        });

      // FAQ toggle (simple, in addition to global script_faq if any)
      document
        .querySelectorAll("#faq-container .faq-question")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const answer = btn.parentElement.querySelector(".faq-answer");
            const symbol = btn.querySelector("span:last-child");
            const isHidden = answer.classList.contains("hidden");
            document
              .querySelectorAll("#faq-container .faq-answer")
              .forEach((a) => a.classList.add("hidden"));
            document
              .querySelectorAll("#faq-container .faq-question span:last-child")
              .forEach((s) => (s.textContent = "+"));
            if (isHidden) {
              answer.classList.remove("hidden");
              symbol.textContent = "−";
            }
          });
        });

      // Initialize
      populateConduitSizes();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
