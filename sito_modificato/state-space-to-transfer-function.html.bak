<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/state-space-to-transfer-function" />
    <title>State Space to Transfer Function: [Urgent 2024] | CalcDomain</title>
    <meta name="description" content="Calculate State Space to Transfer Function in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="State Space to Transfer Function: [Urgent 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate State Space to Transfer Function in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/state-space-to-transfer-function" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="State Space to Transfer Function: [Urgent 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate State Space to Transfer Function in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "State-Space to Transfer Function Calculator", "item": "https://calcdomain.com/state-space-to-transfer-function"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">State-Space to Transfer Function Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                State-Space to Transfer Function Calculator
              </h1>
              <p class="text-gray-600">
                Convert a continuous-time state-space model \( (A,B,C,D) \) into
                its transfer function representation \(G(s)\). Supports SISO and
                MIMO systems.
              </p>
              <div class="mt-3 flex flex-wrap gap-2 text-xs">
                <span class="badge bg-blue-100 text-blue-700"
                  >Control systems</span
                >
                <span class="badge bg-green-100 text-green-700"
                  >State-space</span
                >
                <span class="badge bg-purple-100 text-purple-700"
                  >Transfer function</span
                >
              </div>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-3">
                Enter State-Space Matrices
              </h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="matrixA"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >A matrix (n × n)</label
                  >
                  <textarea
                    id="matrixA"
                    rows="4"
                    class="matrix-input w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    placeholder="Example:&#10;0 1;&#10;-2 -3"
                  ></textarea>
                </div>
                <div>
                  <label
                    for="matrixB"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >B matrix (n × m)</label
                  >
                  <textarea
                    id="matrixB"
                    rows="4"
                    class="matrix-input w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    placeholder="Example (2 states, 1 input):&#10;0;&#10;1"
                  ></textarea>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="matrixC"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >C matrix (p × n)</label
                  >
                  <textarea
                    id="matrixC"
                    rows="3"
                    class="matrix-input w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    placeholder="Example (1 output, 2 states):&#10;1 0"
                  ></textarea>
                </div>
                <div>
                  <label
                    for="matrixD"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >D matrix (p × m)</label
                  >
                  <textarea
                    id="matrixD"
                    rows="3"
                    class="matrix-input w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    placeholder="Example (1 output, 1 input):&#10;0"
                  ></textarea>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="btnExample"
                  type="button"
                  class="inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-gray-50 hover:bg-gray-100"
                >
                  Load example
                </button>
                <button
                  id="btnClear"
                  type="button"
                  class="inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50"
                >
                  Clear
                </button>
                <span class="text-xs text-gray-500"
                  >Format: rows separated by <code>;</code>, entries by space or
                  comma.</span
                >
              </div>

              <div class="flex flex-wrap gap-3 mb-4">
                <button
                  id="btnCompute"
                  type="button"
                  class="inline-flex items-center px-4 py-2 rounded-md bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700"
                >
                  Compute transfer function
                </button>
                <span id="statusMessage" class="text-sm text-gray-600"></span>
              </div>

              <div
                id="errorBox"
                class="hidden mb-4 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700"
              ></div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-3">
                Results
              </h2>

              <div id="resultsContainer" class="space-y-4 hidden">
                <div class="grid md:grid-cols-3 gap-4 text-sm">
                  <div class="bg-gray-50 border rounded-md p-3">
                    <div class="text-gray-500">States (n)</div>
                    <div id="resStates" class="text-lg font-semibold">–</div>
                  </div>
                  <div class="bg-gray-50 border rounded-md p-3">
                    <div class="text-gray-500">Inputs (m)</div>
                    <div id="resInputs" class="text-lg font-semibold">–</div>
                  </div>
                  <div class="bg-gray-50 border rounded-md p-3">
                    <div class="text-gray-500">Outputs (p)</div>
                    <div id="resOutputs" class="text-lg font-semibold">–</div>
                  </div>
                </div>

                <div id="tfSummary" class="text-sm text-gray-700"></div>

                <div id="tfList" class="space-y-3 text-sm"></div>

                <div id="polesZeros" class="grid md:grid-cols-2 gap-4 text-sm">
                  <div class="bg-gray-50 border rounded-md p-3">
                    <h3 class="font-semibold mb-1">Poles (eigenvalues of A)</h3>
                    <pre
                      id="resPoles"
                      class="whitespace-pre-wrap text-xs"
                    ></pre>
                  </div>
                  <div class="bg-gray-50 border rounded-md p-3">
                    <h3 class="font-semibold mb-1">Zeros (per I/O channel)</h3>
                    <pre
                      id="resZeros"
                      class="whitespace-pre-wrap text-xs"
                    ></pre>
                  </div>
                </div>
              </div>

              <p id="noResultsHint" class="text-sm text-gray-500">
                Enter valid matrices and click “Compute transfer function” to
                see results.
              </p>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this state-space to transfer function converter works</h2>
              <p>
                A continuous-time linear time-invariant (LTI) system in
                state-space form is described by
              </p>
              <div class="formula-box">
                \[ \dot{x}(t) = A x(t) + B u(t), \quad y(t) = C x(t) + D u(t) \]
              </div>
              <p>
                The corresponding transfer function matrix \(G(s)\) between
                input \(u(s)\) and output \(y(s)\) is
              </p>
              <div class="formula-box">\[ G(s) = C (sI - A)^{-1} B + D \]</div>
              <p>
                For a single-input single-output (SISO) system, \(G(s)\) reduces
                to a scalar rational function
              </p>
              <div class="formula-box">
                \[ G(s) = \frac{b_0 s^{n-1} + b_1 s^{n-2} + \dots + b_{n-1}}
                {s^n + a_1 s^{n-1} + \dots + a_n} \]
              </div>
              <p>
                This calculator numerically evaluates \(G(s)\) and extracts the
                numerator and denominator polynomials for each input–output
                pair.
              </p>

              <h3>Input format and dimension checks</h3>
              <ul>
                <li>
                  Use <strong>semicolon</strong> (<code>;</code>) to separate
                  rows.
                </li>
                <li>Use spaces or commas between entries in a row.</li>
                <li>
                  The tool parses A, B, C, D and verifies that:
                  <ul>
                    <li>A is square \(n \times n\)</li>
                    <li>B is \(n \times m\)</li>
                    <li>C is \(p \times n\)</li>
                    <li>D is \(p \times m\)</li>
                  </ul>
                </li>
              </ul>

              <h3>Poles, zeros, and system order</h3>
              <p>
                The <strong>poles</strong> of the system are the eigenvalues of
                \(A\), i.e. the roots of \(\det(sI - A) = 0\). They determine
                stability and natural modes.
              </p>
              <p>
                The <strong>zeros</strong> of each transfer function are the
                roots of its numerator polynomial. They influence transient
                response and frequency characteristics.
              </p>
              <p>
                The <strong>system order</strong> is the dimension \(n\) of the
                state vector \(x\), which is also the degree of the common
                denominator polynomial for a minimal realization.
              </p>

              <h3>Typical workflow</h3>
              <ol>
                <li>Write your state-space model in matrix form.</li>
                <li>
                  Paste A, B, C, D into the calculator using the specified
                  format.
                </li>
                <li>Click <strong>Compute transfer function</strong>.</li>
                <li>
                  Read off the transfer function(s) \(G_{ij}(s)\) for the
                  desired input–output channel.
                </li>
                <li>
                  Optionally copy the coefficients into MATLAB, Octave, or
                  Python (NumPy/SciPy) for further analysis.
                </li>
              </ol>

              <h2>FAQ</h2>

              <h3>Can I use this for discrete-time systems?</h3>
              <p>
                This version is intended for continuous-time models with the
                Laplace variable \(s\). For discrete-time systems with the
                \(z\)-transform, the same structure applies with \(zI - A\)
                instead of \(sI - A\), but numerical details differ. You can
                still use the tool as an approximation if you interpret \(s\) as
                \(z\), but be cautious.
              </p>

              <h3>What happens if A is not invertible?</h3>
              <p>
                The expression \((sI - A)^{-1}\) is well-defined for almost all
                complex values of \(s\); singularities occur at the eigenvalues
                of \(A\), which are exactly the poles of the system. The
                calculator works with a polynomial representation and does not
                require inverting \(A\) directly at a specific \(s\), so
                non-invertible \(A\) at \(s = 0\) is not a problem.
              </p>

              <h3>Why do I see very large or strange coefficients?</h3>
              <p>
                High-order or poorly conditioned systems can lead to numerical
                round‑off errors when computing polynomial coefficients. If you
                see extremely large or nearly cancelling coefficients, consider:
              </p>
              <ul>
                <li>Scaling your states and inputs</li>
                <li>Reducing the model order (e.g., via model reduction)</li>
                <li>
                  Using symbolic tools (MATLAB, Python sympy) for exact algebra
                </li>
              </ul>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Engineering notes</h2><p class="text-sm text-gray-700">Use SI units and keep dimensional consistency. Verify boundary conditions, safety factors, and design limits.</p><p class="text-sm text-gray-700 mt-2">Key entities: State, Space, To, Transfer, Function.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: consistent units, allowed ranges, technical rounding.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Engineering notes</h2><p class="text-sm text-gray-700">Use SI units and keep dimensional consistency. Verify boundary conditions, safety factors, and design limits.</p><p class="text-sm text-gray-700 mt-2">Key entities: State, Space, To, Transfer, Function.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: consistent units, allowed ranges, technical rounding.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; Algebra Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/linear-algebra"
                  class="text-blue-600 hover:underline"
                  >Linear Algebra Toolkit</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/matrix"
                  class="text-blue-600 hover:underline"
                  >Matrix Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/eigenvalue-eigenvector"
                  class="text-blue-600 hover:underline"
                  >Eigenvalue &amp; Eigenvector Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/system-of-equations"
                  class="text-blue-600 hover:underline"
                  >System of Equations Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-regression"
                  class="text-blue-600 hover:underline"
                  >Linear Regression Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gradient-divergence-curl"
                  class="text-blue-600 hover:underline"
                  >Gradient, Divergence &amp; Curl</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fft"
                  class="text-blue-600 hover:underline"
                  >Fast Fourier Transform (FFT)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/convolution"
                  class="text-blue-600 hover:underline"
                  >Convolution Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Control &amp; Signal Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/transfer-function"
                  class="text-blue-600 hover:underline"
                  >Transfer Function Tools (coming soon)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sohcahtoa"
                  class="text-blue-600 hover:underline"
                  >Trig &amp; Frequency Helpers</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/polynomial"
                  class="text-blue-600 hover:underline"
                  >Polynomial Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/complex-number"
                  class="text-blue-600 hover:underline"
                  >Complex Number Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Basic matrix parser: "a b; c d" -> [[a,b],[c,d]]
      function parseMatrix(text) {
        if (!text.trim()) return null;
        const rows = text
          .trim()
          .split(/[\n;]+/)
          .map((r) => r.trim())
          .filter((r) => r.length > 0);
        const matrix = rows.map((row) => {
          const entries = row.split(/[\s,]+/).map(Number);
          if (entries.some((e) => Number.isNaN(e))) {
            throw new Error("Matrix entries must be numeric.");
          }
          return entries;
        });
        const cols = matrix[0].length;
        if (!matrix.every((r) => r.length === cols)) {
          throw new Error(
            "Each row in a matrix must have the same number of columns."
          );
        }
        return matrix;
      }

      function matShape(M) {
        return [M.length, M[0].length];
      }

      function identity(n) {
        const I = [];
        for (let i = 0; i < n; i++) {
          const row = new Array(n).fill(0);
          row[i] = 1;
          I.push(row);
        }
        return I;
      }

      function cloneMatrix(M) {
        return M.map((r) => r.slice());
      }

      // Polynomial utilities: represented as array [a0, a1, ..., an] for a0 + a1*s + ...
      function polyAdd(p, q) {
        const n = Math.max(p.length, q.length);
        const r = new Array(n).fill(0);
        for (let i = 0; i < n; i++) {
          const a = i < p.length ? p[i] : 0;
          const b = i < q.length ? q[i] : 0;
          r[i] = a + b;
        }
        return trimPoly(r);
      }

      function polySub(p, q) {
        const n = Math.max(p.length, q.length);
        const r = new Array(n).fill(0);
        for (let i = 0; i < n; i++) {
          const a = i < p.length ? p[i] : 0;
          const b = i < q.length ? q[i] : 0;
          r[i] = a - b;
        }
        return trimPoly(r);
      }

      function polyMul(p, q) {
        const r = new Array(p.length + q.length - 1).fill(0);
        for (let i = 0; i < p.length; i++) {
          for (let j = 0; j < q.length; j++) {
            r[i + j] += p[i] * q[j];
          }
        }
        return trimPoly(r);
      }

      function polyScale(p, c) {
        return trimPoly(p.map((x) => x * c));
      }

      function trimPoly(p) {
        let i = p.length - 1;
        while (i > 0 && Math.abs(p[i]) < 1e-12) i--;
        return p.slice(0, i + 1);
      }

      // Characteristic polynomial via Faddeev–LeVerrier
      function charPoly(A) {
        const n = A.length;
        let B = identity(n);
        const coeffs = new Array(n + 1).fill(0);
        coeffs[n] = 1; // s^n
        for (let k = 1; k <= n; k++) {
          // B = A*B
          B = matMul(A, B);
          const traceB = trace(B);
          const ck = -traceB / k;
          coeffs[n - k] = ck;
          // B = B + ck*I
          for (let i = 0; i < n; i++) {
            B[i][i] += ck;
          }
        }
        // coeffs correspond to s^n + a1 s^{n-1} + ... + an
        // We want polynomial in ascending powers: [an, ..., a1, 1]
        const asc = [];
        for (let i = n; i >= 0; i--) asc.push(coeffs[i]);
        return trimPoly(asc);
      }

      function trace(A) {
        let t = 0;
        for (let i = 0; i < A.length; i++) t += A[i][i];
        return t;
      }

      function matMul(A, B) {
        const n = A.length,
          m = B[0].length,
          k = B.length;
        const C = Array.from({ length: n }, () => new Array(m).fill(0));
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < m; j++) {
            let s = 0;
            for (let t = 0; t < k; t++) s += A[i][t] * B[t][j];
            C[i][j] = s;
          }
        }
        return C;
      }

      // Compute adjugate(sI - A) as matrix of polynomials using Laplace expansion (suitable for small n)
      function adjugatePoly(A) {
        const n = A.length;
        const adj = Array.from({ length: n }, () =>
          Array.from({ length: n }, () => [0])
        );
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < n; j++) {
            const minor = minorMatrix(A, j, i); // note transpose
            const detPoly = detPolySIminusA(minor);
            const sign = (i + j) % 2 === 0 ? 1 : -1;
            adj[i][j] = polyScale(detPoly, sign);
          }
        }
        return adj;
      }

      function minorMatrix(A, row, col) {
        const n = A.length;
        const M = [];
        for (let i = 0; i < n; i++) {
          if (i === row) continue;
          const r = [];
          for (let j = 0; j < n; j++) {
            if (j === col) continue;
            r.push(A[i][j]);
          }
          M.push(r);
        }
        return M;
      }

      // determinant of (sI - A_sub) as polynomial
      function detPolySIminusA(A) {
        const n = A.length;
        if (n === 0) return [1];
        if (n === 1) {
          // det(s - a11) = s - a11 => [-a11, 1]
          return trimPoly([-A[0][0], 1]);
        }
        let det = [0];
        for (let j = 0; j < n; j++) {
          const a = A[0][j];
          const sign = j % 2 === 0 ? 1 : -1;
          const minor = minorMatrix(A, 0, j);
          const subDet = detPolySIminusA(minor);
          // element in (sI - A) at (0,j): if j==0, it's s - a00; else -a0j
          let elemPoly;
          if (j === 0) {
            // s - a00
            elemPoly = polyAdd([-A[0][0]], [0, 1]);
          } else {
            elemPoly = [-A[0][j]];
          }
          const term = polyMul(elemPoly, subDet);
          det = polyAdd(det, polyScale(term, sign));
        }
        return trimPoly(det);
      }

      // Compute transfer function polynomials using adj(sI-A) and char poly
      function computeTFPolynomials(A, B, C, D) {
        const n = A.length;
        const [nB, m] = matShape(B);
        const [p, nC] = matShape(C);
        const [pD, mD] = matShape(D);
        if (nB !== n || nC !== n || pD !== p || mD !== m) {
          throw new Error("Matrix dimensions are inconsistent.");
        }

        // Denominator is characteristic polynomial of A: det(sI - A)
        const den = charPoly(A); // ascending powers

        // adj(sI - A)
        if (n > 5) {
          throw new Error(
            "System order too high for this browser-based symbolic method (n > 5)."
          );
        }
        const adj = adjugatePoly(A); // n x n of polynomials

        // For each input j and output i, compute numerator:
        // G_ij(s) = C_i * adj(sI - A) * B_j / den + D_ij
        const numerators = [];
        for (let i = 0; i < p; i++) {
          numerators[i] = [];
          for (let j = 0; j < m; j++) {
            // v = adj * b_j (polynomial vector)
            const v = Array.from({ length: n }, () => [0]);
            for (let r = 0; r < n; r++) {
              let poly = [0];
              for (let k = 0; k < n; k++) {
                const coeff = B[k][j];
                if (Math.abs(coeff) > 0) {
                  poly = polyAdd(poly, polyScale(adj[r][k], coeff));
                }
              }
              v[r] = poly;
            }
            // num_ij(s) = sum_l C_i,l * v_l(s) + D_ij * den(s)
            let num = [0];
            for (let l = 0; l < n; l++) {
              const c = C[i][l];
              if (Math.abs(c) > 0) {
                num = polyAdd(num, polyScale(v[l], c));
              }
            }
            if (Math.abs(D[i][j]) > 0) {
              num = polyAdd(num, polyScale(den, D[i][j]));
            }
            numerators[i][j] = trimPoly(num);
          }
        }
        return { den, numerators };
      }

      function formatPoly(p, variable) {
        // p: ascending powers
        const terms = [];
        for (let i = p.length - 1; i >= 0; i--) {
          const coeff = p[i];
          if (Math.abs(coeff) < 1e-12) continue;
          const sign = coeff >= 0 ? "+" : "-";
          const absCoeff = Math.abs(coeff);
          let term = "";
          if (terms.length === 0) {
            term += coeff < 0 ? "-" : "";
          } else {
            term += " " + sign + " ";
          }
          if (!(Math.abs(absCoeff - 1) < 1e-12 && i > 0)) {
            term += absCoeff.toFixed(6).replace(/\.?0+$/, "");
          }
          if (i > 0) {
            if (!(Math.abs(absCoeff - 1) < 1e-12)) term += "*";
            term += variable;
            if (i > 1) term += "^" + i;
          }
          terms.push(term);
        }
        if (terms.length === 0) return "0";
        return terms.join("");
      }

      function polyRoots(p) {
        // For small degree (<=4) we could implement closed forms; here we just
        // approximate roots via companion matrix + eigenvalues (power iteration not trivial).
        // To keep it simple and robust, we skip explicit zeros if degree > 4.
        if (p.length - 1 > 4) return ["(degree > 4, zeros not computed)"];
        // Build companion matrix and use basic QR iterations (small sizes only).
        const n = p.length - 1;
        const a = p.map((x) => x); // ascending
        if (Math.abs(a[n]) < 1e-12)
          return ["(leading coefficient ~ 0, cannot compute)"];
        // Normalize to monic
        for (let i = 0; i <= n; i++) a[i] / a[n];
        // Companion matrix for monic polynomial a0 + a1 s + ... + s^n
        const C = Array.from({ length: n }, () => new Array(n).fill(0));
        for (let i = 0; i < n - 1; i++) C[i + 1][i] = 1;
        for (let j = 0; j < n; j++) C[0][j] = -a[j];
        // Simple QR iterations
        let M = C;
        const maxIter = 80;
        for (let it = 0; it < maxIter; it++) {
          const { Q, R } = qrDecompose(M);
          M = matMul(R, Q);
        }
        const roots = [];
        for (let i = 0; i < n; i++) roots.push(M[i][i]);
        return roots.map((r) => r.toFixed(6).replace(/\.?0+$/, ""));
      }

      function qrDecompose(A) {
        const m = A.length,
          n = A[0].length;
        const Q = Array.from({ length: m }, () => new Array(n).fill(0));
        const R = Array.from({ length: n }, () => new Array(n).fill(0));
        const v = Array.from({ length: m }, () => new Array(n).fill(0));
        for (let j = 0; j < n; j++) {
          for (let i = 0; i < m; i++) v[i][j] = A[i][j];
          for (let k = 0; k < j; k++) {
            let r = 0;
            for (let i = 0; i < m; i++) r += Q[i][k] * A[i][j];
            R[k][j] = r;
            for (let i = 0; i < m; i++) v[i][j] -= r * Q[i][k];
          }
          let norm = 0;
          for (let i = 0; i < m; i++) norm += v[i][j] * v[i][j];
          norm = Math.sqrt(norm);
          if (norm < 1e-12) continue;
          R[j][j] = norm;
          for (let i = 0; i < m; i++) Q[i][j] = v[i][j] / norm;
        }
        return { Q, R };
      }

      function eigenvalues(A) {
        const n = A.length;
        let M = cloneMatrix(A);
        const maxIter = 80;
        for (let it = 0; it < maxIter; it++) {
          const { Q, R } = qrDecompose(M);
          M = matMul(R, Q);
        }
        const vals = [];
        for (let i = 0; i < n; i++) vals.push(M[i][i]);
        return vals;
      }

      function showError(msg) {
        const box = document.getElementById("errorBox");
        box.textContent = msg;
        box.classList.remove("hidden");
      }

      function clearError() {
        const box = document.getElementById("errorBox");
        box.textContent = "";
        box.classList.add("hidden");
      }

      function onCompute() {
        clearError();
        document.getElementById("statusMessage").textContent = "Computing...";
        try {
          const A = parseMatrix(document.getElementById("matrixA").value);
          const B = parseMatrix(document.getElementById("matrixB").value);
          const C = parseMatrix(document.getElementById("matrixC").value);
          const D = parseMatrix(document.getElementById("matrixD").value);
          if (!A || !B || !C || !D) {
            throw new Error("Please enter all four matrices A, B, C, and D.");
          }
          const [nA, mA] = matShape(A);
          if (nA !== mA) throw new Error("A must be a square matrix (n × n).");

          const [nB, m] = matShape(B);
          const [p, nC] = matShape(C);
          const [pD, mD] = matShape(D);
          if (nB !== nA || nC !== nA || pD !== p || mD !== m) {
            throw new Error(
              "Matrix dimensions must satisfy: A(n×n), B(n×m), C(p×n), D(p×m)."
            );
          }

          const { den, numerators } = computeTFPolynomials(A, B, C, D);
          const n = nA;

          // Update summary
          document.getElementById("resStates").textContent = n;
          document.getElementById("resInputs").textContent = m;
          document.getElementById("resOutputs").textContent = p;

          const tfSummary = document.getElementById("tfSummary");
          tfSummary.innerHTML =
            "Common denominator polynomial (ascending powers of s):<br>" +
            "<code>" +
            formatPoly(den, "s") +
            "</code>";

          const tfList = document.getElementById("tfList");
          tfList.innerHTML = "";
          for (let i = 0; i < p; i++) {
            for (let j = 0; j < m; j++) {
              const num = numerators[i][j];
              const numStr = formatPoly(num, "s");
              const denStr = formatPoly(den, "s");
              const div = document.createElement("div");
              div.className = "border rounded-md p-3 bg-gray-50";
              div.innerHTML =
                '<div class="font-semibold mb-1">G<sub>' +
                (i + 1) +
                (m > 1 || p > 1 ? "," + (j + 1) : "") +
                "</sub>(s) = Y<sub>" +
                (i + 1) +
                "</sub>(s) / U<sub>" +
                (j + 1) +
                "</sub>(s)</div>" +
                '<div class="text-xs text-gray-600 mb-1">Numerator:</div>' +
                '<code class="block text-xs mb-1">' +
                numStr +
                "</code>" +
                '<div class="text-xs text-gray-600 mb-1">Denominator:</div>' +
                '<code class="block text-xs">' +
                denStr +
                "</code>";
              tfList.appendChild(div);
            }
          }

          // Poles from eigenvalues of A
          const poles = eigenvalues(A).map((v) =>
            v.toFixed(6).replace(/\.?0+$/, "")
          );
          document.getElementById("resPoles").textContent = poles.length
            ? poles.join("\n")
            : "No poles found.";

          // Zeros per channel (only if degree small)
          const zerosLines = [];
          for (let i = 0; i < p; i++) {
            for (let j = 0; j < m; j++) {
              const num = numerators[i][j];
              if (num.length <= 1) {
                zerosLines.push(
                  "G_" +
                    (i + 1) +
                    "," +
                    (j + 1) +
                    ": none (pure gain or zero numerator)"
                );
              } else {
                const roots = polyRoots(num);
                zerosLines.push(
                  "G_" + (i + 1) + "," + (j + 1) + ": " + roots.join(", ")
                );
              }
            }
          }
          document.getElementById("resZeros").textContent =
            zerosLines.join("\n");

          document
            .getElementById("resultsContainer")
            .classList.remove("hidden");
          document.getElementById("noResultsHint").classList.add("hidden");
          document.getElementById("statusMessage").textContent = "Done.";
        } catch (err) {
          showError(err.message || String(err));
          document.getElementById("statusMessage").textContent = "";
          document.getElementById("resultsContainer").classList.add("hidden");
          document.getElementById("noResultsHint").classList.remove("hidden");
        }
      }

      document
        .getElementById("btnCompute")
        .addEventListener("click", onCompute);

      document.getElementById("btnExample").addEventListener("click", () => {
        // Example: second-order mass-spring-damper: x' = [0 1; -2 -3] x + [0;1] u, y = [1 0] x
        document.getElementById("matrixA").value = "0 1; -2 -3";
        document.getElementById("matrixB").value = "0; 1";
        document.getElementById("matrixC").value = "1 0";
        document.getElementById("matrixD").value = "0";
        clearError();
        document.getElementById("statusMessage").textContent =
          "Example loaded. Click “Compute transfer function”.";
      });

      document.getElementById("btnClear").addEventListener("click", () => {
        ["matrixA", "matrixB", "matrixC", "matrixD"].forEach((id) => {
          document.getElementById(id).value = "";
        });
        clearError();
        document.getElementById("statusMessage").textContent = "";
        document.getElementById("resultsContainer").classList.add("hidden");
        document.getElementById("noResultsHint").classList.remove("hidden");
      });

      // Mobile menu script (simple)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const expanded = menu.classList.contains("hidden") ? "true" : "false";
          menu.classList.toggle("hidden");
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", expanded);
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
