<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/bandwidth-calculator">





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bandwidth Calculator — Estimate Internet Speed Needs &amp; File Transfer Time</title>
<meta name="description" content="Professional bandwidth calculator: estimate household or office internet speed needs by activities and users, plus compute file transfer time with protocol overhead and efficiency. Includes formulas, glossary, and FAQs.">


<!-- Icons / PWA (safe fallbacks if not present) -->
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com" defer=""></script>

<!-- MathJax for LaTeX (lightweight config) -->
<script defer="">
  window.MathJax = {
    tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
    svg: { fontCache: 'global' }
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" defer=""></script>

<style>
  /* Base typography and prose width */
  body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji"; }
  .prose { max-width: 70ch; }
  .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; }
  /* Visible focus ring */
  :where(a, button, input, select, textarea, summary):focus-visible { outline: 3px solid #2563eb; outline-offset: 2px; }
  /* Touch targets */
  button, .btn { min-height: 48px; min-width: 48px; }
  /* Results min-height to avoid CLS */
  #results, #ftt-results { min-height: 220px; }
  /* Error text */
  .error-text { color:#b91c1c; font-size:0.875rem; margin-top:0.375rem; }
  /* Tooltip popover */
  .tip { display:none; }
  .tip[aria-hidden="false"] { display:block; }
  @media print {
    body * { visibility: hidden; }
    #print-section, #print-section * { visibility: visible; }
    #print-section { position: absolute; left: 0; top: 0; width: 100%; }
  }
</style>

<!-- JSON-LD: WebPage -->
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Engineering",
      "item": "https://calcdomain.com/categories/engineering"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Electrical",
      "item": "https://calcdomain.com/subcategories/electrical"
    }
  ]
}</script>

<!-- JSON-LD: HowTo -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to estimate bandwidth for your home or office",
  "description": "Steps to calculate required internet bandwidth from users and activities, plus how to estimate file transfer time.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Choose mode",
      "text": "Pick 'Activity-based' to size your internet plan or 'File transfer time' to estimate a download/upload time."
    },
    {
      "@type": "HowToStep",
      "name": "Enter inputs",
      "text": "For Activity-based: add activities and concurrent users, set concurrency and safety margin. For File transfer: enter file size, link speed, and efficiency."
    },
    {
      "@type": "HowToStep",
      "name": "Review results",
      "text": "See required download/upload bandwidth, recommended plan speed, and estimated times."
    },
    {
      "@type": "HowToStep",
      "name": "Refine",
      "text": "Adjust assumptions (efficiency, overhead, concurrency) to stress-test your scenario."
    }
  ]
}
</script>

<!-- JSON-LD: FAQPage -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What’s the difference between Mbps and MB/s?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Mbps is megabits per second; MB/s is megabytes per second. 1 byte = 8 bits. Network speeds are usually advertised in Mbps."
      }
    },
    {
      "@type": "Question",
      "name": "What concurrency should I use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Concurrency is the share of users active at once. Homes often see 30–50%; busy offices peak higher. Use a conservative value to avoid congestion."
      }
    },
    {
      "@type": "Question",
      "name": "What is protocol efficiency?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "It’s the fraction of link capacity available to payload after overhead (TCP/IP headers, Wi-Fi/ethernet framing). Typical 70–95%, depending on medium and conditions."
      }
    },
    {
      "@type": "Question",
      "name": "Why add a safety margin?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Bandwidth demand is spiky. A margin helps absorb peaks, background updates, and QoS variability so apps stay smooth."
      }
    },
    {
      "@type": "Question",
      "name": "Does upload speed matter for video calls?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Video conferencing needs both downlink and uplink. Ensure the upload requirement meets or exceeds your codec’s bitrate."
      }
    },
    {
      "@type": "Question",
      "name": "Will Wi-Fi reduce my real throughput?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Often yes. Shared medium, signal quality, and interference lower efficiency versus wired links. Prefer ethernet for critical tasks."
      }
    },
    {
      "@type": "Question",
      "name": "How accurate is file transfer time?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "It’s an estimate. Real times vary with server limits, congestion, disk speed, and protocol behavior (e.g., TCP slow start)."
      }
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky, compact for mobile space) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-700">CalcDomain</a>
      
      </section>
    </div>
  
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[B_{\text{req}} = \frac{\alpha}{\eta}\; \Big( c \cdot \sum_{i=1}^{N} n_i \, r_i \Big)\]</div>
  <pre class="auditspine-mono">B_{\text{req}} = \frac{\alpha}{\eta}\; \Big( c \cdot \sum_{i=1}^{N} n_i \, r_i \Big)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[t = \frac{S_{\text{bits}}}{R_{\text{link}} \cdot \eta} \quad,\quad S_{\text{bits}} = S \times \kappa\]</div>
  <pre class="auditspine-mono">t = \frac{S_{\text{bits}}}{R_{\text{link}} \cdot \eta} \quad,\quad S_{\text{bits}} = S \times \kappa</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[= (sel) =&gt; Array.from(document.querySelectorAll(sel)); /* ------- Tabs ------- */ const tabActivity = $('#tab-activity'); const tabFtt = $('#tab-ftt'); const panelActivity = $('#panel-activity'); const panelFtt = $('#panel-ftt'); function switchTab(to) { const isActivity = to === 'activity'; tabActivity.setAttribute('aria-selected', String(isActivity)); tabFtt.setAttribute('aria-selected', String(!isActivity)); panelActivity.hidden = !isActivity; panelFtt.hidden = isActivity; (isActivity ? tabActivity : tabFtt).focus(); } tabActivity.addEventListener('click', () =&gt; switchTab('activity')); tabFtt.addEventListener('click', () =&gt; switchTab('ftt')); /* ------- Accessible tooltips ------- */\]</div>
  <pre class="auditspine-mono">= (sel) =&gt; Array.from(document.querySelectorAll(sel)); /* ------- Tabs ------- */ const tabActivity = $('#tab-activity'); const tabFtt = $('#tab-ftt'); const panelActivity = $('#panel-activity'); const panelFtt = $('#panel-ftt'); function switchTab(to) { const isActivity = to === 'activity'; tabActivity.setAttribute('aria-selected', String(isActivity)); tabFtt.setAttribute('aria-selected', String(!isActivity)); panelActivity.hidden = !isActivity; panelFtt.hidden = isActivity; (isActivity ? tabActivity : tabFtt).focus(); } tabActivity.addEventListener('click', () =&gt; switchTab('activity')); tabFtt.addEventListener('click', () =&gt; switchTab('ftt')); /* ------- Accessible tooltips ------- */</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Activity-based bandwidth (download or upload): \[ B_{\text{req}} = \frac{\alpha}{\eta}\; \Big( c \cdot \sum_{i=1}^{N} n_i \, r_i \Big) \] where \(n_i\) is users on activity \(i\), \(r_i\) its bitrate (Mbps), \(c\) the concurrency (0–1), \(\eta\) protocol efficiency (0–1), and \(\alpha\) the safety margin (1+margin). File transfer time: \[ t = \frac{S_{\text{bits}}}{R_{\text{link}} \cdot \eta} \quad,\quad S_{\text{bits}} = S \times \kappa \] with \(S\) the file size, \(\kappa\) the unit factor (e.g., \(1\text{ GB}=10^9\) bytes), \(R_{\text{link}}\) in bits/s, and \(\eta\) efficiency.</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>IEC</strong> — iec.ch · Accessed 2026-01-19<br><a href="https://www.iec.ch/" target="_blank" rel="nofollow noopener">https://www.iec.ch/</a></li>
<li><strong>RFC-editor</strong> — rfc-editor.org · Accessed 2026-01-19<br><a href="https://www.rfc-editor.org/rfc/rfc6349" target="_blank" rel="nofollow noopener">https://www.rfc-editor.org/rfc/rfc6349</a></li>
<li><strong>ITU</strong> — itu.int · Accessed 2026-01-19<br><a href="https://www.itu.int/" target="_blank" rel="nofollow noopener">https://www.itu.int/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>

  <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>



















  <!-- Calculator logic (defer by placement) -->
  <script>
  (function(){
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));

    /* ------- Tabs ------- */
    const tabActivity = $('#tab-activity');
    const tabFtt = $('#tab-ftt');
    const panelActivity = $('#panel-activity');
    const panelFtt = $('#panel-ftt');

    function switchTab(to) {
      const isActivity = to === 'activity';
      tabActivity.setAttribute('aria-selected', String(isActivity));
      tabFtt.setAttribute('aria-selected', String(!isActivity));
      panelActivity.hidden = !isActivity;
      panelFtt.hidden = isActivity;

      (isActivity ? tabActivity : tabFtt).focus();
    }
    tabActivity.addEventListener('click', () => switchTab('activity'));
    tabFtt.addEventListener('click', () => switchTab('ftt'));

    /* ------- Accessible tooltips ------- */
    $$('#panel-activity [data-tip-for]').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-tip-for');
        const tip = document.getElementById(id);
        const visible = tip.getAttribute('aria-hidden') === 'false';
        tip.setAttribute('aria-hidden', visible ? 'true' : 'false');
        btn.setAttribute('aria-expanded', String(!visible));
      });
      btn.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          const id = btn.getAttribute('data-tip-for');
          const tip = document.getElementById(id);
          tip.setAttribute('aria-hidden','true');
          btn.setAttribute('aria-expanded','false');
        }
      });
    });

    /* ------- Activity Rows ------- */
    const tbody = $('#activity-rows');
    const defaults = [
      { name:'4K streaming', dl:25, ul:5, users:1 },
      { name:'HD video call', dl:2.5, ul:2.5, users:2 },
      { name:'Gaming', dl:3, ul:1, users:1 },
      { name:'Web browsing', dl:1, ul:0.2, users:2 }
    ];

    function rowTemplate({name='', dl=5, ul=1, users=1}) {
      const id = 'r' + Math.random().toString(36).slice(2,8);
      return `
        <tr>
          <td class="px-3 py-2">
            <input type="text" value="${name}" aria-label="Activity name"
              class="w-full px-2 py-2 border border-gray-300 rounded-md">
          </td>
          <td class="px-3 py-2 text-right">
            <input type="number" inputmode="decimal" min="0" step="0.1" value="${dl}"
              aria-label="Download Mbps"
              class="w-full text-right px-2 py-2 border border-gray-300 rounded-md">
          </td>
          <td class="px-3 py-2 text-right">
            <input type="number" inputmode="decimal" min="0" step="0.1" value="${ul}"
              aria-label="Upload Mbps"
              class="w-full text-right px-2 py-2 border border-gray-300 rounded-md">
          </td>
          <td class="px-3 py-2 text-right">
            <input type="number" inputmode="numeric" min="0" step="1" value="${users}"
              aria-label="Number of users on this activity"
              class="w-full text-right px-2 py-2 border border-gray-300 rounded-md">
          </td>
          <td class="px-3 py-2 text-center">
            <button class="remove-row px-3 py-2 border rounded-md" aria-label="Remove activity">✕</button>
          </td>
        </tr>
      `;
    }

    function renderDefaults() {
      tbody.innerHTML = defaults.map(rowTemplate).join('');
      recalcActivity();
    }
    renderDefaults();

    $('#add-row').addEventListener('click', () => {
      tbody.insertAdjacentHTML('beforeend', rowTemplate({}));
      recalcActivity();
    });
    $('#reset-defaults').addEventListener('click', renderDefaults);
    tbody.addEventListener('click', (e) => {
      if (e.target.closest('.remove-row')) {
        e.target.closest('tr').remove();
        recalcActivity();
      }
    });
    tbody.addEventListener('input', recalcActivity);

    /* ------- Inline validation on blur ------- */
    function setErr(id, msg) { const el = document.getElementById(id); if (el) el.textContent = msg || ''; }
    function valPercent(id, min, max) {
      const el = document.getElementById(id);
      const v = parseFloat(el.value);
      if (isNaN(v) || v < min || v > max) {
        setErr(id + '-err', `Enter a value between ${min} and ${max}.`);
        return null;
      }
      setErr(id + '-err','');
      return v;
    }
    ['concurrency','margin','efficiency','file-size','link-speed','ftt-eff'].forEach(id => {
      const el = document.getElementById(id);
      el.addEventListener('blur', () => {
        if (id === 'file-size') { valPercent(id, 0.000001, 1e9); recalcFTT(); return; }
        if (id === 'link-speed') { valPercent(id, 0.01, 10_000); recalcFTT(); return; }
        if (id === 'ftt-eff') { valPercent(id, 1, 100); recalcFTT(); return; }
        if (id === 'concurrency') { valPercent(id, 1, 100); recalcActivity(); return; }
        if (id === 'margin') { valPercent(id, 0, 200); recalcActivity(); return; }
        if (id === 'efficiency') { valPercent(id, 1, 100); recalcActivity(); return; }
      });
    });

    /* ------- Activity calculation ------- */
    function sumDemand() {
      let dl = 0, ul = 0;
      tbody.querySelectorAll('tr').forEach(tr => {
        const [nameEl, dlEl, ulEl, usersEl] = tr.querySelectorAll('input');
        const d = Math.max(0, parseFloat(dlEl.value) || 0);
        const u = Math.max(0, parseFloat(ulEl.value) || 0);
        const n = Math.max(0, parseInt(usersEl.value,10) || 0);
        dl += d * n;
        ul += u * n;
      });
      return { dl, ul };
    }

    function tierSuggestion(d, u) {
      // Round up to common advertised plan tiers (down/up)
      const tiers = [10, 20, 30, 50, 75, 100, 200, 300, 500, 600, 800, 1000, 2000];
      const upTiers = [1, 2, 5, 10, 20, 30, 50, 100, 200, 500, 1000];

      const dTier = tiers.find(t => t >= d) ?? Math.ceil(d);
      const uTier = upTiers.find(t => t >= u) ?? Math.ceil(u);
      return `${dTier} Mbps down / ${uTier} Mbps up`;
    }

    function recalcActivity() {
      const conc = valPercent('concurrency', 1, 100) ?? 40;
      const margin = valPercent('margin', 0, 200) ?? 25;
      const eff = valPercent('efficiency', 1, 100) ?? 85;

      const { dl, ul } = sumDemand(); // Mbps
      const c = conc / 100;
      const alpha = 1 + (margin/100);
      const eta = eff / 100;

      const dlReq = (alpha / eta) * (c * dl);
      const ulReq = (alpha / eta) * (c * ul);

      $('#dl-required').textContent = dlReq > 0 ? dlReq.toFixed(1) + ' Mbps' : '—';
      $('#ul-required').textContent = ulReq > 0 ? ulReq.toFixed(1) + ' Mbps' : '—';
      $('#plan-suggestion').textContent = (dlReq>0 || ulReq>0) ? tierSuggestion(Math.ceil(dlReq), Math.ceil(ulReq)) : '—';

      // Assumptions
      const items = [
        `Concurrency: ${conc}%`,
        `Safety margin: ${margin}%`,
        `Protocol efficiency: ${eff}%`,
        `Raw summed demand (before concurrency): ${dl.toFixed(1)} Mbps down, ${ul.toFixed(1)} Mbps up`
      ];
      const ulEl = $('#assumptions-list');
      ulEl.innerHTML = items.map(x=>`<li>${x}</li>`).join('');
    }

    /* ------- Print ------- */
    $('#print-btn').addEventListener('click', () => window.print());

    /* ------- File Transfer Time ------- */
    const unitFactors = {
      'MB': 1e6, 'GB': 1e9, 'TB': 1e12,
      'MiB': Math.pow(2,20), 'GiB': Math.pow(2,30)
    };

    function fmtTime(seconds) {
      seconds = Math.max(0, Math.round(seconds));
      const h = Math.floor(seconds/3600);
      const m = Math.floor((seconds%3600)/60);
      const s = seconds%60;
      return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }

    function recalcFTT() {
      const size = valPercent('file-size', 0.000001, 1e12) ?? 5;
      const unit = $('#file-unit').value;
      const link = valPercent('link-speed', 0.01, 10000) ?? 100;
      const eff = valPercent('ftt-eff', 1, 100) ?? 85;

      const bytes = size * (unitFactors[unit] || 1e9);
      const bits = bytes * 8;
      const linkbps = link * 1e6; // Mbps -> bps
      const eta = eff / 100;

      const effRate = linkbps * eta;
      const seconds = bits / effRate;

      $('#ftt-time').textContent = fmtTime(seconds);
      const mbpsEff = effRate / 1e6;
      $('#ftt-throughput').textContent = mbpsEff.toFixed(1) + ' Mbps';
      $('#ftt-steps').textContent =
`Size = ${size} ${unit}
Bytes = ${bytes.toLocaleString()} B
Bits = ${bits.toLocaleString()} b
Link = ${link} Mbps, Efficiency = ${eff}%
Effective rate = ${(mbpsEff).toFixed(1)} Mbps
Time = ${fmtTime(seconds)} (hh:mm:ss)`;
    }

    $('#file-unit').addEventListener('change', recalcFTT);
    ['file-size','link-speed','ftt-eff'].forEach(id => {
      document.getElementById(id).addEventListener('input', recalcFTT);
    });

    /* ------- Initialize ------- */
    recalcActivity();
    recalcFTT();
  })();
  </script>


</body></html>