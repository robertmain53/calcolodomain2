<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/mortgage-affordability-methodology-guide" />
    <title>Mortgage Affordability Methodology (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Mortgage Affordability Methodology Guide in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Mortgage Affordability Methodology (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Mortgage Affordability Methodology Guide in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup." />
    <meta property="og:url" content="https://calcdomain.com/mortgage-affordability-methodology-guide" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Mortgage Affordability Methodology (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Mortgage Affordability Methodology Guide in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Mortgages & Home Financing Calculators", "item": "https://calcdomain.com/subcategories/finance-mortgages-and-home"}, {"@type": "ListItem", "position": 4, "name": "Mortgage Affordability Methodology Guide", "item": "https://calcdomain.com/mortgage-affordability-methodology-guide"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-mortgages-and-home" class="text-blue-600 hover:underline">Mortgages &amp; Home Financing Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Mortgage Affordability Methodology Guide</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Mortgage Affordability Methodology Guide
              </h1>
              <p class="text-gray-600 mb-3">
                This page explains in plain English how our
                <a
                  href="https://calcdomain.com/mortgage-affordability-calculator"
                  class="text-blue-600 underline"
                  >mortgage affordability calculator</a
                >
                works: the formulas, assumptions, and safeguards we use to
                estimate a realistic “how much house can I afford?” range.
              </p>
              <div class="flex flex-wrap gap-2 text-xs text-gray-600">
                <span class="badge bg-blue-100 text-blue-700"
                  >Front-end &amp; back-end DTI</span
                >
                <span class="badge bg-green-100 text-green-700"
                  >Payment-to-income rules</span
                >
                <span class="badge bg-purple-100 text-purple-700"
                  >Stress tests &amp; buffers</span
                >
              </div>
            </header>

            <!-- Mini interactive explorer (not a full calculator, but shows formulas live) -->
            <section aria-labelledby="quick-check-heading" class="mb-8">
              <h2 id="quick-check-heading" class="text-xl font-semibold mb-2">
                Quick affordability check (methodology in action)
              </h2>
              <p class="text-gray-700 mb-3">
                Use this mini tool to see how the methodology behaves with your
                numbers. It is a simplified view of the full affordability
                calculator.
              </p>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="space-y-3">
                  <div>
                    <label
                      for="qa-income"
                      class="block text-sm font-medium text-gray-700"
                      >Gross monthly income</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="qa-income"
                        type="number"
                        min="0"
                        step="100"
                        value="8000"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      for="qa-debts"
                      class="block text-sm font-medium text-gray-700"
                      >Other monthly debt payments</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="qa-debts"
                        type="number"
                        min="0"
                        step="50"
                        value="600"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Include car loans, student loans, minimum credit card
                      payments, personal loans, etc.
                    </p>
                  </div>
                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="qa-front"
                        class="block text-xs font-medium text-gray-700"
                        >Front-end DTI limit</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <input
                          id="qa-front"
                          type="number"
                          min="10"
                          max="40"
                          step="1"
                          value="28"
                          class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                        />
                        <span
                          class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                          >%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        for="qa-back"
                        class="block text-xs font-medium text-gray-700"
                        >Back-end DTI limit</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <input
                          id="qa-back"
                          type="number"
                          min="25"
                          max="50"
                          step="1"
                          value="36"
                          class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                        />
                        <span
                          class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                          >%</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="qa-rate"
                        class="block text-xs font-medium text-gray-700"
                        >Interest rate (APR)</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <input
                          id="qa-rate"
                          type="number"
                          min="1"
                          max="15"
                          step="0.1"
                          value="6.5"
                          class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                        />
                        <span
                          class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                          >%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        for="qa-term"
                        class="block text-xs font-medium text-gray-700"
                        >Term (years)</label
                      >
                      <input
                        id="qa-term"
                        type="number"
                        min="10"
                        max="40"
                        step="5"
                        value="30"
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      for="qa-taxes-ins"
                      class="block text-xs font-medium text-gray-700"
                      >Taxes + insurance + HOA (monthly)</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="qa-taxes-ins"
                        type="number"
                        min="0"
                        step="25"
                        value="600"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                  <button
                    id="qa-run"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500"
                  >
                    Apply methodology
                  </button>
                </div>
                <div
                  class="bg-gray-50 border border-gray-200 rounded-md p-4 text-sm space-y-2"
                >
                  <h3 class="font-semibold mb-1">Result snapshot</h3>
                  <p class="text-gray-700">
                    Based on your inputs and the selected DTI limits, here is
                    the maximum monthly housing cost and the implied loan
                    amount.
                  </p>
                  <dl class="space-y-1">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Max housing by front-end DTI
                      </dt>
                      <dd id="qa-front-max" class="font-semibold text-gray-900">
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Max housing by back-end DTI</dt>
                      <dd id="qa-back-max" class="font-semibold text-gray-900">
                        $0
                      </dd>
                    </div>
                    <div
                      class="flex justify-between border-t border-gray-200 pt-1 mt-1"
                    >
                      <dt class="text-gray-700">
                        Methodology cap (lower of the two)
                      </dt>
                      <dd
                        id="qa-housing-cap"
                        class="font-semibold text-blue-700"
                      >
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Max principal &amp; interest (P&amp;I)
                      </dt>
                      <dd id="qa-pi-max" class="font-semibold text-gray-900">
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Approx. max loan amount</dt>
                      <dd id="qa-loan-max" class="font-semibold text-green-700">
                        $0
                      </dd>
                    </div>
                  </dl>
                  <p class="text-xs text-gray-500 mt-2">
                    This is an educational illustration. Actual lender approvals
                    depend on credit, documentation, loan program, and local
                    regulations.
                  </p>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>1. Overview: what we mean by “mortgage affordability”</h2>
              <p>
                When we say “how much house can I afford?”, we are really
                asking:
              </p>
              <ul>
                <li>
                  How large a <strong>monthly housing payment</strong> fits
                  safely in my budget?
                </li>
                <li>
                  What <strong>loan amount</strong> does that payment support at
                  a given rate and term?
                </li>
              </ul>
              <p>
                Our methodology follows common lender and regulator practice
                (e.g., CFPB, FHFA, Fannie Mae, NAR) but adds
                <strong>conservative defaults</strong> and
                <strong>stress tests</strong> so you see a realistic range, not
                just the maximum a lender might approve.
              </p>

              <h3>Key building blocks</h3>
              <ul>
                <li><strong>Gross monthly income</strong> (before tax)</li>
                <li>
                  <strong>Existing monthly debts</strong> (car, cards, student
                  loans, etc.)
                </li>
                <li>
                  <strong>Front-end DTI</strong>: housing payment ÷ gross income
                </li>
                <li>
                  <strong>Back-end DTI</strong>: housing + all debts ÷ gross
                  income
                </li>
                <li>
                  <strong>Mortgage payment formula</strong> to convert a payment
                  into a loan amount
                </li>
              </ul>

              <div class="formula-box">
                <p class="font-semibold mb-1">Core idea</p>
                <p class="mb-1">
                  1. Use income and DTI limits to find a
                  <strong>maximum safe housing payment</strong>.<br />
                  2. Subtract taxes, insurance, and fees to get the
                  <strong>maximum principal &amp; interest (P&amp;I)</strong
                  >.<br />
                  3. Use the mortgage formula to convert P&amp;I into a
                  <strong>maximum loan amount</strong>.
                </p>
              </div>

              <h2>2. Inputs we use in the affordability calculator</h2>
              <p>
                Our full calculator asks for the following inputs (some are
                optional but strongly recommended):
              </p>

              <h3>Income and debts</h3>
              <ul>
                <li>
                  <strong>Gross monthly income</strong>: salary, bonuses,
                  reliable side income, rental income (net of
                  vacancies/expenses), etc.
                </li>
                <li>
                  <strong>Monthly debt payments</strong>: minimum required
                  payments on:
                  <ul>
                    <li>Credit cards</li>
                    <li>Auto loans or leases</li>
                    <li>Student loans</li>
                    <li>Personal loans / lines of credit</li>
                    <li>Alimony or child support (if court-ordered)</li>
                  </ul>
                </li>
              </ul>

              <h3>Property and loan assumptions</h3>
              <ul>
                <li><strong>Down payment</strong> (amount or percentage)</li>
                <li><strong>Interest rate (APR)</strong> for the mortgage</li>
                <li><strong>Loan term</strong> in years (e.g., 15, 20, 30)</li>
                <li>
                  <strong>Estimated annual property tax</strong> (or tax rate %
                  of home price)
                </li>
                <li><strong>Estimated annual homeowners insurance</strong></li>
                <li><strong>HOA dues</strong> (monthly, if applicable)</li>
                <li>
                  <strong>Mortgage insurance (PMI)</strong> if down payment &lt;
                  20% (we estimate a rate, but you can override)
                </li>
              </ul>

              <h3>Policy / safety parameters</h3>
              <ul>
                <li><strong>Front-end DTI limit</strong> (default: 28%)</li>
                <li><strong>Back-end DTI limit</strong> (default: 36%)</li>
                <li>
                  <strong>Stress-test rate increase</strong> (default: +2
                  percentage points)
                </li>
                <li>
                  <strong>Emergency savings buffer</strong> (optional: months of
                  expenses you want to preserve)
                </li>
              </ul>

              <h2>3. Debt-to-income ratios: front-end vs back-end</h2>
              <p>We calculate two standard DTI ratios for every scenario.</p>

              <h3>3.1 Front-end DTI (housing-only)</h3>
              <p>
                Front-end DTI compares your
                <strong>total monthly housing cost</strong> to your gross
                monthly income.
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Front-end DTI formula</p>
                <p>Let:</p>
                <ul>
                  <li>
                    \( H \) = total monthly housing cost (P&amp;I + taxes +
                    insurance + PMI + HOA)
                  </li>
                  <li>\( I_g \) = gross monthly income</li>
                </ul>
                <p>\[ \text{Front-end DTI} = \frac{H}{I_g} \]</p>
              </div>
              <p>
                Our default <strong>front-end DTI limit</strong> is
                <strong>28%</strong>, consistent with many traditional
                underwriting guidelines.
              </p>

              <h3>3.2 Back-end DTI (housing + all debts)</h3>
              <p>
                Back-end DTI compares
                <strong>all monthly debt obligations</strong> to your gross
                income.
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Back-end DTI formula</p>
                <p>Let:</p>
                <ul>
                  <li>
                    \( D_o \) = sum of all non-housing monthly debt payments
                  </li>
                </ul>
                <p>\[ \text{Back-end DTI} = \frac{H + D_o}{I_g} \]</p>
              </div>
              <p>
                Our default <strong>back-end DTI limit</strong> is
                <strong>36%</strong>, which is on the conservative side of
                common lender caps (often 36–43%).
              </p>

              <h3>3.3 How we use DTI limits to cap your housing payment</h3>
              <p>
                Given your income and debts, we compute the
                <strong>maximum housing payment</strong> allowed by each DTI
                limit:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">
                  Maximum housing payment by front-end DTI
                </p>
                <p>
                  If \( L_f \) is the front-end DTI limit (e.g., 0.28), then:
                </p>
                <p>\[ H_{\text{max,front}} = L_f \times I_g \]</p>
                <hr class="my-2" />
                <p class="font-semibold mb-1">
                  Maximum housing payment by back-end DTI
                </p>
                <p>
                  If \( L_b \) is the back-end DTI limit (e.g., 0.36), then:
                </p>
                <p>\[ H_{\text{max,back}} = L_b \times I_g - D_o \]</p>
              </div>
              <p>
                We then take the <strong>lower</strong> of these two values:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Methodology housing cap</p>
                <p>
                  \[ H_{\text{cap}} = \min\left(H_{\text{max,front}},\;
                  H_{\text{max,back}}\right) \]
                </p>
              </div>
              <p>
                This ensures that your housing payment is affordable both on a
                housing-only basis and when combined with your other debts.
              </p>

              <h2>4. From housing payment to loan amount</h2>
              <p>
                Your total monthly housing cost \( H \) includes more than just
                principal and interest. We break it down as:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Housing cost components</p>
                <p>\[ H = P\&I + T + S + M + A \]</p>
                <ul>
                  <li>\( P\&I \) = principal and interest payment</li>
                  <li>\( T \) = monthly property tax</li>
                  <li>\( S \) = monthly homeowners insurance</li>
                  <li>
                    \( M \) = monthly mortgage insurance (PMI), if applicable
                  </li>
                  <li>\( A \) = monthly HOA dues, if applicable</li>
                </ul>
              </div>

              <h3>4.1 Estimating non-P&amp;I costs</h3>
              <ul>
                <li>
                  <strong>Property tax</strong>: you can enter a dollar amount
                  or a % of home price (we convert to monthly).
                </li>
                <li>
                  <strong>Homeowners insurance</strong>: you can enter an annual
                  estimate; we divide by 12.
                </li>
                <li>
                  <strong>PMI</strong>: if down payment &lt; 20%, we estimate
                  PMI as a % of loan amount per year (e.g., 0.5–1.0%) and
                  convert to monthly. You can override this.
                </li>
                <li>
                  <strong>HOA dues</strong>: entered directly as a monthly
                  amount.
                </li>
              </ul>

              <h3>4.2 Maximum principal &amp; interest payment</h3>
              <p>
                Once we know your housing cap \( H_{\text{cap}} \) and your
                estimated non-P&amp;I costs, we compute:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Maximum P&amp;I payment</p>
                <p>
                  \[ P\&I_{\text{max}} = H_{\text{cap}} - (T + S + M + A) \]
                </p>
              </div>
              <p>
                If this value is negative, it means your non-mortgage housing
                costs alone exceed what is affordable under the chosen DTI
                limits.
              </p>

              <h3>4.3 Mortgage payment formula</h3>
              <p>
                For a fixed-rate mortgage, the monthly principal and interest
                payment for a loan amount \( L \) is:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Mortgage payment formula</p>
                <p>Let:</p>
                <ul>
                  <li>\( r \) = monthly interest rate = annual rate ÷ 12</li>
                  <li>\( n \) = total number of payments = years × 12</li>
                </ul>
                <p>\[ P\&I = L \times \frac{r(1+r)^n}{(1+r)^n - 1} \]</p>
              </div>

              <h3>4.4 Solving for the maximum loan amount</h3>
              <p>
                We invert the formula to solve for \( L \) given \(
                P\&I_{\text{max}} \), \( r \), and \( n \):
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Loan amount from P&amp;I</p>
                <p>
                  \[ L_{\text{max}} = P\&I_{\text{max}} \times \frac{(1+r)^n -
                  1}{r(1+r)^n} \]
                </p>
              </div>
              <p>
                Finally, we add your <strong>down payment</strong> to estimate
                the <strong>maximum home price</strong>:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Home price estimate</p>
                <p>
                  \[ \text{Home price}_{\text{max}} = L_{\text{max}} +
                  \text{Down payment} \]
                </p>
              </div>

              <h2>5. Stress tests and safety buffers</h2>
              <p>
                Many online tools stop at the basic DTI and payment formulas. We
                go further by applying <strong>stress tests</strong> and
                <strong>budget checks</strong>.
              </p>

              <h3>5.1 Interest rate shock test</h3>
              <p>
                To avoid over-optimism when rates are low or volatile, we re-run
                the calculation with a higher “stress-test” rate:
              </p>
              <ul>
                <li>
                  Default stress-test:
                  <strong>current rate + 2 percentage points</strong>
                </li>
                <li>
                  We compute the payment at this higher rate and show how your
                  DTI and budget would change.
                </li>
              </ul>
              <p>
                If your DTI becomes uncomfortably high under the stress rate, we
                flag the scenario as <strong>aggressive</strong>.
              </p>

              <h3>5.2 Net income and living expenses</h3>
              <p>
                Although lenders use gross income, your real-life budget runs on
                <strong>take-home pay</strong>. We therefore:
              </p>
              <ul>
                <li>
                  Estimate <strong>net income</strong> from your gross income
                  using typical tax and payroll assumptions (you can override).
                </li>
                <li>
                  Subtract:
                  <ul>
                    <li>Housing payment</li>
                    <li>Other debt payments</li>
                    <li>
                      Estimated living expenses (you can enter a monthly budget)
                    </li>
                  </ul>
                </li>
              </ul>
              <p>
                If the remaining amount is small or negative, we highlight that
                the scenario may be mathematically “affordable” by DTI but
                <strong>risky for your lifestyle</strong>.
              </p>

              <h3>5.3 Emergency savings buffer</h3>
              <p>
                You can specify a target emergency fund (e.g., 3–6 months of
                expenses). We then:
              </p>
              <ul>
                <li>
                  Estimate your monthly expenses (housing + debts + living
                  costs).
                </li>
                <li>Compare your current savings to the target.</li>
                <li>
                  Show how much of your savings would remain after the down
                  payment and closing costs.
                </li>
              </ul>
              <p>
                If your buffer falls below your target, we mark the scenario as
                <strong>thin safety margin</strong>.
              </p>

              <h2>6. Worked example</h2>
              <p>
                Here is a simplified example using the same logic as our
                calculator.
              </p>

              <h3>Inputs</h3>
              <ul>
                <li>Gross monthly income: <strong>$8,000</strong></li>
                <li>Other monthly debts: <strong>$600</strong></li>
                <li>Front-end DTI limit: <strong>28%</strong></li>
                <li>Back-end DTI limit: <strong>36%</strong></li>
                <li>Interest rate: <strong>6.5% APR</strong></li>
                <li>Term: <strong>30 years</strong></li>
                <li>
                  Property tax + insurance + HOA: <strong>$600/month</strong>
                </li>
              </ul>

              <h3>Step 1 – Max housing by DTI</h3>
              <ul>
                <li>
                  Front-end: \( H_{\text{max,front}} = 0.28 \times 8{,}000 =
                  \$2{,}240 \)
                </li>
                <li>
                  Back-end: \( H_{\text{max,back}} = 0.36 \times 8{,}000 - 600 =
                  2{,}880 - 600 = \$2{,}280 \)
                </li>
              </ul>
              <p>So the methodology housing cap is the lower of the two:</p>
              <p>\( H_{\text{cap}} = \min(2{,}240,\; 2{,}280) = \$2{,}240 \)</p>

              <h3>Step 2 – Max principal &amp; interest</h3>
              <p>Non-P&amp;I housing costs are $600/month, so:</p>
              <p>\( P\&I_{\text{max}} = 2{,}240 - 600 = \$1{,}640 \)</p>

              <h3>Step 3 – Loan amount from P&amp;I</h3>
              <p>
                Interest rate 6.5% APR ⇒ monthly \( r = 0.065 / 12 \approx
                0.0054167 \).<br />
                Term 30 years ⇒ \( n = 30 \times 12 = 360 \) payments.
              </p>
              <p>Using the loan formula:</p>
              <p>
                \[ L_{\text{max}} \approx 1{,}640 \times
                \frac{(1+0.0054167)^{360} - 1}{0.0054167(1+0.0054167)^{360}} \]
              </p>
              <p>
                This yields a loan amount of roughly
                <strong>$260,000–$270,000</strong> (exact value depends on
                rounding).
              </p>
              <p>
                If you have a $70,000 down payment, your estimated maximum home
                price would be around <strong>$330,000–$340,000</strong>.
              </p>

              <h2>7. How our methodology compares to common rules of thumb</h2>
              <ul>
                <li>
                  <strong>“3× income” rule</strong>: Some guides say you can
                  afford a home price around 3× your gross annual income. Our
                  method can be more or less conservative depending on your
                  debts, rates, and taxes.
                </li>
                <li>
                  <strong>“28/36” rule</strong>: We implement this explicitly as
                  default DTI limits, but allow you to adjust them.
                </li>
                <li>
                  <strong>Agency affordability indexes</strong> (e.g., NAR,
                  FHFA): These often assume standardized incomes, rates, and
                  taxes at a regional or national level. Our tool personalizes
                  the same concepts to your specific situation.
                </li>
              </ul>

              <h2>8. Limitations and disclaimers</h2>
              <ul>
                <li>
                  This methodology is for
                  <strong>education and planning</strong>, not a credit
                  decision.
                </li>
                <li>
                  Actual lender approvals depend on:
                  <ul>
                    <li>Credit score and credit history</li>
                    <li>Employment and income stability</li>
                    <li>Loan type (conventional, FHA, VA, etc.)</li>
                    <li>Local regulations and lender overlays</li>
                  </ul>
                </li>
                <li>
                  Taxes, insurance, and HOA fees can vary widely by location and
                  property type.
                </li>
                <li>
                  We do not provide legal, tax, or financial advice. Consider
                  speaking with a qualified professional before making major
                  financial decisions.
                </li>
              </ul>

              <h2>9. Next steps</h2>
              <ul>
                <li>
                  Use the full
                  <a
                    href="https://calcdomain.com/mortgage-affordability-calculator"
                    class="text-blue-600 underline"
                    >Mortgage Affordability Calculator</a
                  >
                  with your real numbers.
                </li>
                <li>
                  Experiment with different DTI limits, rates, and down payments
                  to see how your safe range changes.
                </li>
                <li>
                  Compare results with your own budget and long-term financial
                  goals, not just what a lender might approve.
                </li>
              </ul>
            </section>

            <section class="mt-10" id="faq">
              <h2 class="text-xl font-semibold mb-3">
                Mortgage affordability methodology FAQ
              </h2>
              <div class="space-y-3">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What is a safe mortgage affordability rule of thumb?
                  </summary>
                  <p class="mt-2 text-gray-700">
                    Many experts suggest keeping your total housing costs around
                    <strong>28% of gross income</strong> and your total debt
                    payments below <strong>36–43% of gross income</strong>. Our
                    default settings use 28% front-end and 36% back-end DTI,
                    which is on the conservative side. You can loosen or tighten
                    these limits depending on your risk tolerance and job
                    stability.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What is the difference between front-end and back-end DTI?
                  </summary>
                  <p class="mt-2 text-gray-700">
                    Front-end DTI looks only at your
                    <strong>housing costs</strong> (mortgage payment, property
                    tax, insurance, HOA, PMI) relative to your gross income.
                    Back-end DTI looks at
                    <strong>housing plus all other debts</strong> (car, cards,
                    student loans, etc.). Lenders typically require that you
                    pass both tests.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Does this guarantee I will be approved for that mortgage
                    amount?
                  </summary>
                  <p class="mt-2 text-gray-700">
                    No. Our methodology mirrors common guidelines, but each
                    lender has its own underwriting rules. Your credit score,
                    employment history, loan type, property type, and
                    documentation can all change the amount you are actually
                    approved for. Treat our results as a planning range, not a
                    promise.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Why do you use gross income instead of take-home pay?
                  </summary>
                  <p class="mt-2 text-gray-700">
                    Because that is how lenders and regulators define DTI
                    ratios. Gross income is easier to verify and compare across
                    borrowers. However, we also estimate your
                    <strong>net income</strong> and show how much room is left
                    after housing, debts, and living expenses so you can judge
                    comfort, not just eligibility.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How do you account for property taxes, insurance, and HOA
                    fees?
                  </summary>
                  <p class="mt-2 text-gray-700">
                    We treat them as part of your total housing cost. You can
                    enter them as annual amounts (for taxes and insurance) or
                    monthly amounts (for HOA and PMI). We convert everything to
                    monthly and include it in both the front-end and back-end
                    DTI calculations. This is important because in many areas,
                    taxes and HOA dues can be as large as the mortgage payment
                    itself.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Mortgage, Affordability, Methodology, Guide.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Mortgage, Affordability, Methodology, Guide.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related mortgage &amp; home tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-affordability-calculator"
                  class="text-blue-600 hover:underline"
                >
                  Mortgage Affordability Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                >
                  Mortgage Payment Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-blue-600 hover:underline"
                >
                  House Affordability Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rent-vs-buy"
                  class="text-blue-600 hover:underline"
                >
                  Rent vs. Buy Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-refinance"
                  class="text-blue-600 hover:underline"
                >
                  Mortgage Refinance Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/closing-costs"
                  class="text-blue-600 hover:underline"
                >
                  Closing Costs Estimator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/70-rule"
                  class="text-blue-600 hover:underline"
                >
                  70% Rule (House Flipping)
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgages"
                  class="text-blue-600 hover:underline"
                >
                  Mortgage Calculators &amp; Guides
                </a>
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Explore more Finance tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/50-30-20-budget"
                  class="text-blue-600 hover:underline"
                  >50/30/20 Budget Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income (DTI) Ratio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/net-worth"
                  class="text-blue-600 hover:underline"
                  >Net Worth Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retirement"
                  class="text-blue-600 hover:underline"
                  >Retirement Planner</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Mini methodology explorer logic
      function formatCurrency(num) {
        if (!isFinite(num)) return "$0";
        return (
          "$" + num.toLocaleString(undefined, { maximumFractionDigits: 0 })
        );
      }

      function computeLoanAmount(pi, annualRate, years) {
        const r = annualRate / 100 / 12;
        const n = years * 12;
        if (r <= 0 || n <= 0) return 0;
        const factor = Math.pow(1 + r, n);
        return (pi * (factor - 1)) / (r * factor);
      }

      function runQuickAffordability() {
        const income =
          parseFloat(document.getElementById("qa-income").value) || 0;
        const debts =
          parseFloat(document.getElementById("qa-debts").value) || 0;
        const frontLimit =
          (parseFloat(document.getElementById("qa-front").value) || 0) / 100;
        const backLimit =
          (parseFloat(document.getElementById("qa-back").value) || 0) / 100;
        const rate = parseFloat(document.getElementById("qa-rate").value) || 0;
        const term = parseFloat(document.getElementById("qa-term").value) || 0;
        const taxesIns =
          parseFloat(document.getElementById("qa-taxes-ins").value) || 0;

        const hFront = frontLimit * income;
        const hBack = backLimit * income - debts;
        const hCap = Math.min(hFront, hBack);

        const piMax = hCap - taxesIns;
        const loanMax = computeLoanAmount(Math.max(piMax, 0), rate, term);

        document.getElementById("qa-front-max").textContent = formatCurrency(
          Math.max(hFront, 0)
        );
        document.getElementById("qa-back-max").textContent = formatCurrency(
          Math.max(hBack, 0)
        );
        document.getElementById("qa-housing-cap").textContent = formatCurrency(
          Math.max(hCap, 0)
        );
        document.getElementById("qa-pi-max").textContent = formatCurrency(
          Math.max(piMax, 0)
        );
        document.getElementById("qa-loan-max").textContent = formatCurrency(
          Math.max(loanMax, 0)
        );
      }

      document.addEventListener("DOMContentLoaded", function () {
        const btn = document.getElementById("qa-run");
        if (btn) {
          btn.addEventListener("click", runQuickAffordability);
          // Run once on load with defaults
          runQuickAffordability();
        }
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
