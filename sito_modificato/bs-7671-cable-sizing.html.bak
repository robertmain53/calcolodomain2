<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bs-7671-cable-sizing" />
    <title>Bs 7671 Cable Sizing Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Bs 7671 Cable Sizing Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bs 7671 Cable Sizing Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Bs 7671 Cable Sizing Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/bs-7671-cable-sizing" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bs 7671 Cable Sizing Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bs 7671 Cable Sizing Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical Calculators", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "BS 7671 Cable Sizing Calculator", "item": "https://calcdomain.com/bs-7671-cable-sizing"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">BS 7671 Cable Sizing Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                BS 7671 Cable Sizing Calculator
              </h1>
              <p class="text-gray-600 mb-3">
                Estimate LV cable sizes to BS 7671 using design current,
                installation method, correction factors, volt drop and earth
                fault loop impedance (Zs).
              </p>
              <div class="flex flex-wrap gap-2 text-xs text-gray-600">
                <span class="badge bg-blue-100 text-blue-700"
                  >BS 7671 (approximate)</span
                >
                <span class="badge bg-gray-100 text-gray-700"
                  >230/400 V AC</span
                >
                <span class="badge bg-gray-100 text-gray-700"
                  >Single & three phase</span
                >
              </div>
              <p
                class="mt-3 text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-3 py-2"
              >
                This tool uses simplified tables and factors inspired by BS 7671
                for educational and preliminary design only. Always verify final
                cable sizes against the latest BS 7671, On-Site Guide and
                manufacturer data.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Cable sizing inputs
              </h2>
              <form id="bs7671-form" class="space-y-6">
                <!-- Basic circuit data -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="supply-system"
                      >Supply system</label
                    >
                    <select
                      id="supply-system"
                      class="w-full border rounded px-3 py-2"
                    >
                      <option value="1p">Single phase 230 V</option>
                      <option value="3p">Three phase 400 V</option>
                    </select>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="design-current"
                      >Design current Ib (A)</label
                    >
                    <input
                      id="design-current"
                      type="number"
                      min="0"
                      step="0.1"
                      value="40"
                      class="w-full border rounded px-3 py-2"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="circuit-length"
                      >Circuit length one-way (m)</label
                    >
                    <input
                      id="circuit-length"
                      type="number"
                      min="0"
                      step="1"
                      value="30"
                      class="w-full border rounded px-3 py-2"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="protective-device"
                      >Protective device type</label
                    >
                    <select
                      id="protective-device"
                      class="w-full border rounded px-3 py-2"
                    >
                      <option value="b">MCB type B</option>
                      <option value="c">MCB type C</option>
                      <option value="d">MCB type D</option>
                      <option value="fuse">BS 88 / BS 1361 fuse</option>
                      <option value="none">Other / check Zs manually</option>
                    </select>
                  </div>
                </div>

                <!-- Cable & installation -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold mb-3 text-gray-800">
                    Cable type & installation method
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="cable-type"
                        >Cable type</label
                      >
                      <select
                        id="cable-type"
                        class="w-full border rounded px-3 py-2"
                      >
                        <option value="twin_earth_pvc">
                          Twin &amp; earth 70°C PVC (Cu)
                        </option>
                        <option value="xlpe_swa_pvc">
                          XLPE/SWA/PVC 90°C (Cu)
                        </option>
                        <option value="xlpe_single_conduit">
                          XLPE single core in conduit (Cu)
                        </option>
                      </select>
                      <p class="mt-1 text-xs text-gray-500">
                        Common LV cable types only. Values are approximate.
                      </p>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="install-method"
                        >Installation method (simplified)</label
                      >
                      <select
                        id="install-method"
                        class="w-full border rounded px-3 py-2"
                      >
                        <option value="clipped">
                          Clipped direct / on tray (air)
                        </option>
                        <option value="in_conduit_wall">
                          In conduit/trunking on wall
                        </option>
                        <option value="buried">
                          Buried direct / duct in ground
                        </option>
                        <option value="in_insulation">
                          Surrounded by thermal insulation
                        </option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Correction factors -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold mb-3 text-gray-800">
                    Correction factors (approximate)
                  </h3>
                  <div class="grid md:grid-cols-3 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="ambient-temp"
                        >Ambient temperature (°C)</label
                      >
                      <input
                        id="ambient-temp"
                        type="number"
                        step="1"
                        value="30"
                        class="w-full border rounded px-3 py-2"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Used to estimate Ca.
                      </p>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="grouping"
                        >Number of circuits in group</label
                      >
                      <input
                        id="grouping"
                        type="number"
                        min="1"
                        step="1"
                        value="1"
                        class="w-full border rounded px-3 py-2"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Used to estimate Cg.
                      </p>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="insulation"
                        >Thermal insulation</label
                      >
                      <select
                        id="insulation"
                        class="w-full border rounded px-3 py-2"
                      >
                        <option value="none">None / negligible</option>
                        <option value="partial">Partially surrounded</option>
                        <option value="fully">
                          Fully surrounded &gt;100 mm
                        </option>
                      </select>
                      <p class="mt-1 text-xs text-gray-500">
                        Used to estimate Ci.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Design limits -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold mb-3 text-gray-800">
                    Design limits
                  </h3>
                  <div class="grid md:grid-cols-3 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="max-volt-drop"
                        >Max volt drop (%)</label
                      >
                      <input
                        id="max-volt-drop"
                        type="number"
                        min="1"
                        max="10"
                        step="0.1"
                        value="3"
                        class="w-full border rounded px-3 py-2"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Typical: 3% lighting, 5% other.
                      </p>
                    </div>
                    <div>
                      <label class="block text-sm font-medium mb-1" for="max-zs"
                        >Max Zs (Ω)</label
                      >
                      <input
                        id="max-zs"
                        type="number"
                        min="0"
                        step="0.01"
                        value="1.37"
                        class="w-full border rounded px-3 py-2"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Enter from BS 7671 tables for device.
                      </p>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="source-ze"
                        >Source Ze (Ω)</label
                      >
                      <input
                        id="source-ze"
                        type="number"
                        min="0"
                        step="0.01"
                        value="0.35"
                        class="w-full border rounded px-3 py-2"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Typical TN-C-S: 0.35 Ω.
                      </p>
                    </div>
                  </div>
                </div>

                <div class="flex flex-wrap items-center gap-3 pt-2">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded shadow-sm"
                  >
                    Calculate cable size
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="text-sm text-gray-600 hover:text-gray-800 underline"
                  >
                    Reset
                  </button>
                  <span id="calc-error" class="text-sm text-red-600"></span>
                </div>
              </form>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="results-container" class="space-y-4">
                <div
                  id="summary-card"
                  class="hidden border rounded-lg p-4 bg-slate-50"
                >
                  <div
                    class="flex flex-wrap justify-between items-center gap-2 mb-2"
                  >
                    <h3 class="font-semibold text-gray-800">
                      Recommended cable size
                    </h3>
                    <span id="summary-status" class="badge"></span>
                  </div>
                  <p id="summary-text" class="text-sm text-gray-700"></p>
                </div>

                <div id="detailed-results" class="hidden">
                  <div class="grid md:grid-cols-2 gap-4">
                    <div class="border rounded-lg p-4">
                      <h3 class="font-semibold text-sm mb-2 text-gray-800">
                        Design checks
                      </h3>
                      <ul
                        class="text-sm text-gray-700 space-y-1"
                        id="design-checks-list"
                      ></ul>
                    </div>
                    <div class="border rounded-lg p-4">
                      <h3 class="font-semibold text-sm mb-2 text-gray-800">
                        Correction factors
                      </h3>
                      <ul
                        class="text-sm text-gray-700 space-y-1"
                        id="factors-list"
                      ></ul>
                    </div>
                  </div>

                  <div class="mt-4 table-scroll">
                    <table class="min-w-full text-xs border border-gray-200">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="px-2 py-1 border">Size (mm²)</th>
                          <th class="px-2 py-1 border">Iz tab (A)</th>
                          <th class="px-2 py-1 border">Iz adj (A)</th>
                          <th class="px-2 py-1 border">Volt drop (V)</th>
                          <th class="px-2 py-1 border">Volt drop (%)</th>
                          <th class="px-2 py-1 border">R1+R2 (Ω)</th>
                          <th class="px-2 py-1 border">Zs total (Ω)</th>
                          <th class="px-2 py-1 border">Pass?</th>
                        </tr>
                      </thead>
                      <tbody id="sizes-table-body"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </section>

            <!-- Explanation content -->
            <section class="prose">
              <h2>How this BS 7671 cable sizing calculator works</h2>
              <p>
                The goal of this tool is to give a quick, transparent indication
                of a suitable LV cable size to BS 7671 for typical
                230/400&nbsp;V installations. It follows the usual design
                sequence:
              </p>
              <ol>
                <li>Start from the design current \( I_b \).</li>
                <li>
                  Apply correction factors to find the required tabulated
                  current-carrying capacity \( I_t \).
                </li>
                <li>Select a cable size with \( I_z \ge I_t \).</li>
                <li>Check volt drop against the chosen limit.</li>
                <li>
                  Check earth fault loop impedance \( Z_s \) against the maximum
                  allowed for the protective device.
                </li>
              </ol>

              <h3>1. Current-carrying capacity and correction factors</h3>
              <p>
                BS 7671 requires that the cable's current-carrying capacity \(
                I_z \) is not less than the design current corrected for
                installation conditions. A common design approach is:
              </p>
              <div class="formula-box">
                <p class="mb-1 font-mono text-sm">
                  \( I_t = \dfrac{I_b}{C_a \times C_g \times C_i} \)
                </p>
                <ul class="text-sm">
                  <li>\( I_b \) – design current of the circuit (A)</li>
                  <li>\( C_a \) – ambient temperature correction factor</li>
                  <li>\( C_g \) – grouping correction factor</li>
                  <li>\( C_i \) – thermal insulation correction factor</li>
                  <li>
                    \( I_t \) – required tabulated current-carrying capacity (A)
                  </li>
                </ul>
              </div>
              <p>
                The calculator estimates \( C_a \), \( C_g \) and \( C_i \) from
                your inputs using simplified curves inspired by BS 7671 tables.
                It then searches through a list of standard conductor sizes and
                their approximate tabulated capacities \( I_z \) for the
                selected cable type and installation method.
              </p>

              <h3>2. Volt drop check</h3>
              <p>
                For each candidate cable size, the tool calculates the volt drop
                using the standard formula:
              </p>
              <div class="formula-box">
                <p class="font-mono text-sm">
                  \( \Delta V = \dfrac{mV}{A \cdot m} \times I_b \times L / 1000
                  \)
                </p>
                <ul class="text-sm">
                  <li>\( \Delta V \) – volt drop (V)</li>
                  <li>
                    \( mV/(A \cdot m) \) – volt drop value for the cable (from
                    tables, approximate)
                  </li>
                  <li>\( I_b \) – design current (A)</li>
                  <li>\( L \) – one-way circuit length (m)</li>
                </ul>
              </div>
              <p>The percentage volt drop is then:</p>
              <div class="formula-box">
                <p class="font-mono text-sm">
                  \( \% \Delta V = \dfrac{\Delta V}{U_n} \times 100 \)
                </p>
                <p class="text-sm">
                  where \( U_n \) is the nominal supply voltage (230&nbsp;V
                  single phase or 400&nbsp;V three phase).
                </p>
              </div>

              <h3>3. Earth fault loop impedance (Zs) check</h3>
              <p>
                To give a quick indication of disconnection times, the
                calculator estimates the circuit earth fault loop impedance as:
              </p>
              <div class="formula-box">
                <p class="font-mono text-sm">\( Z_s = Z_e + (R_1 + R_2) \)</p>
                <ul class="text-sm">
                  <li>
                    \( Z_e \) – external earth fault loop impedance at the
                    origin (Ω)
                  </li>
                  <li>
                    \( R_1 + R_2 \) – line plus cpc resistance of the circuit
                    (Ω)
                  </li>
                </ul>
              </div>
              <p>
                The value of \( R_1 + R_2 \) is estimated from typical
                resistance-per-metre values for copper conductors at operating
                temperature. The resulting \( Z_s \) is compared with the
                maximum you enter from the appropriate BS 7671 table for your
                protective device and disconnection time.
              </p>

              <h3>4. Limitations and good practice</h3>
              <ul>
                <li>
                  The internal tables are simplified and do not reproduce BS
                  7671 tables verbatim.
                </li>
                <li>
                  Only a small subset of cable types and installation methods is
                  included.
                </li>
                <li>
                  Thermal effects, harmonics, voltage unbalance and special
                  locations are not fully modelled.
                </li>
                <li>
                  Final designs must always be checked by a competent person
                  against the full standard and manufacturer data.
                </li>
              </ul>

              <h2>Worked example</h2>
              <p>Suppose you have:</p>
              <ul>
                <li>Single-phase 230&nbsp;V ring final circuit</li>
                <li>Design current \( I_b = 32 \,\text{A} \)</li>
                <li>Twin &amp; earth 70&nbsp;°C PVC cable, clipped direct</li>
                <li>
                  Ambient temperature 30&nbsp;°C, no grouping, no insulation
                </li>
                <li>Circuit length 25&nbsp;m (one-way)</li>
                <li>Max volt drop 3&nbsp;%</li>
                <li>
                  Max \( Z_s = 1.37 \,\Omega \) (e.g. 32&nbsp;A type B MCB, TN
                  system)
                </li>
              </ul>
              <p>The calculator will:</p>
              <ol>
                <li>
                  Estimate \( C_a \approx 1.00 \), \( C_g = 1.00 \), \( C_i =
                  1.00 \).
                </li>
                <li>
                  Compute \( I_t = 32 / (1.0 \times 1.0 \times 1.0) = 32
                  \,\text{A} \).
                </li>
                <li>
                  Check standard sizes (e.g. 2.5, 4, 6&nbsp;mm²) until it finds
                  one with \( I_z \ge 32 \,\text{A} \).
                </li>
                <li>
                  Calculate volt drop and \( Z_s \) for each size and select the
                  smallest that passes all limits.
                </li>
              </ol>
              <p>
                This gives you a quick, transparent starting point before you
                refine the design using full BS 7671 tables and manufacturer
                data.
              </p>

              <h2 id="faq">
                BS 7671 cable sizing – frequently asked questions
              </h2>
              <h3>Can I change the maximum Zs values?</h3>
              <p>
                Yes. The calculator does not hard-code Zs limits from BS 7671.
                Instead, you enter the maximum Zs taken from the appropriate
                table for your protective device, system type and disconnection
                time. This keeps the tool flexible and avoids reproducing
                copyrighted tables.
              </p>

              <h3>Why do my results differ from other BS 7671 calculators?</h3>
              <p>
                Different tools may use different assumptions for operating
                temperature, conductor resistivity, grouping factors, or may
                interpolate directly from manufacturer data. This calculator
                uses simplified, rounded values for clarity. Small differences
                are normal; if you see large discrepancies, re-check all inputs
                and verify with the standard.
              </p>

              <h3>Can I use this for three-phase motors and long feeders?</h3>
              <p>
                Yes, the calculator supports three-phase 400&nbsp;V circuits and
                long lengths, but you must pay particular attention to volt drop
                and starting currents for motors. For critical circuits, always
                cross-check with detailed manufacturer data and, where
                necessary, perform more detailed thermal and voltage stability
                studies.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bs, 7671, Cable, Sizing.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related electrical calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-ampacity"
                  class="text-blue-600 hover:underline"
                  >NEC Ampacity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >BS 7671 Voltage Drop (if available)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-maximum-demand"
                  class="text-blue-600 hover:underline"
                  >BS 7671 Maximum Demand (if available)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-cable-sizing"
                  class="text-blue-600 hover:underline font-semibold"
                  >BS 7671 Cable Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >NEC Voltage Drop Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-maximum-demand"
                  class="text-blue-600 hover:underline hidden"
                  >Placeholder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/volts-to-watts"
                  class="text-blue-600 hover:underline"
                  >Volts to Watts Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-hp"
                  class="text-blue-600 hover:underline"
                  >Watts to Horsepower Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-btu"
                  class="text-blue-600 hover:underline"
                  >Watts to BTU/hr Converter</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Engineering tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/three-phase-power"
                  class="text-blue-600 hover:underline"
                  >Three-Phase Power Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >NEC Voltage Drop</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/short-circuit-current"
                  class="text-blue-600 hover:underline"
                  >Short Circuit Current</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-conduit-fill"
                  class="text-blue-600 hover:underline"
                  >NEC Conduit Fill</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pcb-trace-width"
                  class="text-blue-600 hover:underline"
                  >PCB Trace Width</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Simplified internal data (approximate, educational only) ---

      const cableData = {
        twin_earth_pvc: {
          name: "Twin & earth 70°C PVC (Cu)",
          sizes: [
            {
              size: 1.5,
              Iz_clipped: 20,
              Iz_conduit: 16,
              Iz_buried: 19,
              Iz_insulation: 13,
              mvam_single: 29,
              mvam_three: 25,
              r1r2_per_m: 0.025,
            },
            {
              size: 2.5,
              Iz_clipped: 27,
              Iz_conduit: 21,
              Iz_buried: 25,
              Iz_insulation: 17,
              mvam_single: 18,
              mvam_three: 15,
              r1r2_per_m: 0.015,
            },
            {
              size: 4,
              Iz_clipped: 36,
              Iz_conduit: 28,
              Iz_buried: 32,
              Iz_insulation: 23,
              mvam_single: 11,
              mvam_three: 9.5,
              r1r2_per_m: 0.009,
            },
            {
              size: 6,
              Iz_clipped: 46,
              Iz_conduit: 36,
              Iz_buried: 41,
              Iz_insulation: 30,
              mvam_single: 7.3,
              mvam_three: 6.4,
              r1r2_per_m: 0.006,
            },
            {
              size: 10,
              Iz_clipped: 63,
              Iz_conduit: 50,
              Iz_buried: 57,
              Iz_insulation: 41,
              mvam_single: 4.4,
              mvam_three: 3.8,
              r1r2_per_m: 0.0036,
            },
            {
              size: 16,
              Iz_clipped: 85,
              Iz_conduit: 66,
              Iz_buried: 76,
              Iz_insulation: 55,
              mvam_single: 2.8,
              mvam_three: 2.4,
              r1r2_per_m: 0.0023,
            },
            {
              size: 25,
              Iz_clipped: 113,
              Iz_conduit: 87,
              Iz_buried: 100,
              Iz_insulation: 73,
              mvam_single: 1.75,
              mvam_three: 1.5,
              r1r2_per_m: 0.0015,
            },
            {
              size: 35,
              Iz_clipped: 141,
              Iz_conduit: 108,
              Iz_buried: 125,
              Iz_insulation: 91,
              mvam_single: 1.25,
              mvam_three: 1.1,
              r1r2_per_m: 0.0011,
            },
          ],
        },
        xlpe_swa_pvc: {
          name: "XLPE/SWA/PVC 90°C (Cu)",
          sizes: [
            {
              size: 4,
              Iz_clipped: 47,
              Iz_conduit: 38,
              Iz_buried: 45,
              Iz_insulation: 32,
              mvam_single: 9,
              mvam_three: 7.8,
              r1r2_per_m: 0.009,
            },
            {
              size: 6,
              Iz_clipped: 61,
              Iz_conduit: 49,
              Iz_buried: 58,
              Iz_insulation: 41,
              mvam_single: 6.1,
              mvam_three: 5.3,
              r1r2_per_m: 0.006,
            },
            {
              size: 10,
              Iz_clipped: 83,
              Iz_conduit: 67,
              Iz_buried: 79,
              Iz_insulation: 56,
              mvam_single: 3.7,
              mvam_three: 3.2,
              r1r2_per_m: 0.0036,
            },
            {
              size: 16,
              Iz_clipped: 110,
              Iz_conduit: 89,
              Iz_buried: 104,
              Iz_insulation: 74,
              mvam_single: 2.3,
              mvam_three: 2.0,
              r1r2_per_m: 0.0023,
            },
            {
              size: 25,
              Iz_clipped: 146,
              Iz_conduit: 118,
              Iz_buried: 138,
              Iz_insulation: 98,
              mvam_single: 1.45,
              mvam_three: 1.25,
              r1r2_per_m: 0.0015,
            },
            {
              size: 35,
              Iz_clipped: 180,
              Iz_conduit: 145,
              Iz_buried: 170,
              Iz_insulation: 121,
              mvam_single: 1.05,
              mvam_three: 0.9,
              r1r2_per_m: 0.0011,
            },
            {
              size: 50,
              Iz_clipped: 216,
              Iz_conduit: 174,
              Iz_buried: 204,
              Iz_insulation: 145,
              mvam_single: 0.78,
              mvam_three: 0.67,
              r1r2_per_m: 0.0008,
            },
            {
              size: 70,
              Iz_clipped: 273,
              Iz_conduit: 220,
              Iz_buried: 258,
              Iz_insulation: 184,
              mvam_single: 0.54,
              mvam_three: 0.47,
              r1r2_per_m: 0.00056,
            },
          ],
        },
        xlpe_single_conduit: {
          name: "XLPE single core in conduit (Cu)",
          sizes: [
            {
              size: 1.5,
              Iz_clipped: 23,
              Iz_conduit: 19,
              Iz_buried: 0,
              Iz_insulation: 14,
              mvam_single: 29,
              mvam_three: 25,
              r1r2_per_m: 0.025,
            },
            {
              size: 2.5,
              Iz_clipped: 30,
              Iz_conduit: 24,
              Iz_buried: 0,
              Iz_insulation: 18,
              mvam_single: 18,
              mvam_three: 15,
              r1r2_per_m: 0.015,
            },
            {
              size: 4,
              Iz_clipped: 41,
              Iz_conduit: 32,
              Iz_buried: 0,
              Iz_insulation: 24,
              mvam_single: 11,
              mvam_three: 9.5,
              r1r2_per_m: 0.009,
            },
            {
              size: 6,
              Iz_clipped: 53,
              Iz_conduit: 41,
              Iz_buried: 0,
              Iz_insulation: 31,
              mvam_single: 7.3,
              mvam_three: 6.4,
              r1r2_per_m: 0.006,
            },
            {
              size: 10,
              Iz_clipped: 73,
              Iz_conduit: 57,
              Iz_buried: 0,
              Iz_insulation: 43,
              mvam_single: 4.4,
              mvam_three: 3.8,
              r1r2_per_m: 0.0036,
            },
            {
              size: 16,
              Iz_clipped: 98,
              Iz_conduit: 76,
              Iz_buried: 0,
              Iz_insulation: 58,
              mvam_single: 2.8,
              mvam_three: 2.4,
              r1r2_per_m: 0.0023,
            },
            {
              size: 25,
              Iz_clipped: 129,
              Iz_conduit: 100,
              Iz_buried: 0,
              Iz_insulation: 76,
              mvam_single: 1.75,
              mvam_three: 1.5,
              r1r2_per_m: 0.0015,
            },
          ],
        },
      };

      function estimateCa(ambient) {
        // Rough approximation for 70–90°C cables around 30°C reference
        if (ambient <= 25) return 1.03;
        if (ambient <= 30) return 1.0;
        if (ambient <= 35) return 0.94;
        if (ambient <= 40) return 0.87;
        if (ambient <= 45) return 0.79;
        if (ambient <= 50) return 0.71;
        return 0.65;
      }

      function estimateCg(group) {
        if (group <= 1) return 1.0;
        if (group === 2) return 0.8;
        if (group === 3) return 0.7;
        if (group === 4) return 0.65;
        if (group <= 6) return 0.6;
        return 0.5;
      }

      function estimateCi(insulation) {
        if (insulation === "none") return 1.0;
        if (insulation === "partial") return 0.85;
        return 0.7; // fully surrounded
      }

      function getIzForMethod(cableType, sizeObj, method) {
        switch (method) {
          case "clipped":
            return sizeObj.Iz_clipped;
          case "in_conduit_wall":
            return sizeObj.Iz_conduit;
          case "buried":
            return sizeObj.Iz_buried || sizeObj.Iz_conduit;
          case "in_insulation":
            return sizeObj.Iz_insulation;
          default:
            return sizeObj.Iz_clipped;
        }
      }

      function getMvAm(cableType, sizeObj, system) {
        return system === "3p" ? sizeObj.mvam_three : sizeObj.mvam_single;
      }

      function formatNumber(val, decimals = 2) {
        return Number.isFinite(val) ? val.toFixed(decimals) : "–";
      }

      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("bs7671-form").reset();
        document.getElementById("design-current").value = 40;
        document.getElementById("circuit-length").value = 30;
        document.getElementById("ambient-temp").value = 30;
        document.getElementById("grouping").value = 1;
        document.getElementById("max-volt-drop").value = 3;
        document.getElementById("max-zs").value = 1.37;
        document.getElementById("source-ze").value = 0.35;
        document
          .getElementById("results-container")
          .querySelectorAll(".hidden")
          .forEach((el) => el.classList.add("hidden"));
        document.getElementById("calc-error").textContent = "";
        document.getElementById("sizes-table-body").innerHTML = "";
      });

      document.getElementById("calculate-btn").addEventListener("click", () => {
        const Ib = parseFloat(document.getElementById("design-current").value);
        const L = parseFloat(document.getElementById("circuit-length").value);
        const system = document.getElementById("supply-system").value;
        const cableTypeKey = document.getElementById("cable-type").value;
        const method = document.getElementById("install-method").value;
        const ambient = parseFloat(
          document.getElementById("ambient-temp").value
        );
        const grouping = parseInt(
          document.getElementById("grouping").value,
          10
        );
        const insulation = document.getElementById("insulation").value;
        const maxVoltDropPct = parseFloat(
          document.getElementById("max-volt-drop").value
        );
        const maxZs = parseFloat(document.getElementById("max-zs").value);
        const Ze = parseFloat(document.getElementById("source-ze").value);

        const errorEl = document.getElementById("calc-error");
        errorEl.textContent = "";

        if (
          !Ib ||
          Ib <= 0 ||
          !L ||
          L <= 0 ||
          !Number.isFinite(maxVoltDropPct) ||
          maxVoltDropPct <= 0
        ) {
          errorEl.textContent =
            "Please enter valid design current, length and design limits.";
          return;
        }

        const cableType = cableData[cableTypeKey];
        if (!cableType) {
          errorEl.textContent = "Unsupported cable type selection.";
          return;
        }

        const Ca = estimateCa(ambient);
        const Cg = estimateCg(grouping || 1);
        const Ci = estimateCi(insulation);
        const Cf = Ca * Cg * Ci;

        const It = Ib / Cf;
        const Un = system === "3p" ? 400 : 230;

        const sizesTableBody = document.getElementById("sizes-table-body");
        sizesTableBody.innerHTML = "";

        let recommended = null;

        cableType.sizes.forEach((sizeObj) => {
          const Iz_tab = getIzForMethod(cableTypeKey, sizeObj, method);
          if (!Iz_tab) return;

          const Iz_adj = Iz_tab * Cf;
          const mvam = getMvAm(cableTypeKey, sizeObj, system);
          const dV = (mvam * Ib * L) / 1000;
          const dVpct = (dV / Un) * 100;

          const R1R2 = sizeObj.r1r2_per_m * (2 * L); // loop length
          const Zs = Ze + R1R2;

          const passIz = Iz_adj >= Ib;
          const passVd = dVpct <= maxVoltDropPct;
          const passZs = !isNaN(maxZs) && maxZs > 0 ? Zs <= maxZs : true;
          const passAll = passIz && passVd && passZs;

          if (!recommended && passAll) {
            recommended = {
              size: sizeObj.size,
              Iz_tab,
              Iz_adj,
              dV,
              dVpct,
              Zs,
            };
          }

          const row = document.createElement("tr");
          row.className = passAll ? "bg-green-50" : "";
          row.innerHTML = `
        <td class="px-2 py-1 border text-center">${sizeObj.size}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(Iz_tab, 0)}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(Iz_adj, 1)}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(dV, 2)}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(dVpct, 2)}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(R1R2, 3)}</td>
        <td class="px-2 py-1 border text-center">${formatNumber(Zs, 3)}</td>
        <td class="px-2 py-1 border text-center">
          ${
            passAll
              ? '<span class="text-green-700 font-semibold">Yes</span>'
              : '<span class="text-red-600">No</span>'
          }
        </td>
      `;
          sizesTableBody.appendChild(row);
        });

        const summaryCard = document.getElementById("summary-card");
        const summaryStatus = document.getElementById("summary-status");
        const summaryText = document.getElementById("summary-text");
        const detailedResults = document.getElementById("detailed-results");

        if (!recommended) {
          summaryCard.classList.remove("hidden");
          detailedResults.classList.remove("hidden");
          summaryStatus.className = "badge bg-red-100 text-red-700";
          summaryStatus.textContent = "No size passes all checks";
          summaryText.textContent =
            "No cable size in the internal table satisfies current-carrying capacity, volt drop and Zs limits with the given inputs. Try reducing circuit length, relaxing design limits, or selecting a different cable type/installation method, then verify with BS 7671 tables and manufacturer data.";
        } else {
          summaryCard.classList.remove("hidden");
          detailedResults.classList.remove("hidden");
          summaryStatus.className = "badge bg-green-100 text-green-700";
          summaryStatus.textContent = "Preliminary selection";
          summaryText.textContent =
            `Smallest cable meeting all checks: ${recommended.size} mm² ${cableType.name}. ` +
            `Adjusted capacity Iz ≈ ${recommended.Iz_adj.toFixed(
              1
            )} A, volt drop ≈ ${recommended.dV.toFixed(2)} V ` +
            `(${recommended.dVpct.toFixed(
              2
            )} %), estimated Zs ≈ ${recommended.Zs.toFixed(3)} Ω. ` +
            `Verify this selection against the latest BS 7671 and manufacturer data before use.`;
        }

        const designChecksList = document.getElementById("design-checks-list");
        designChecksList.innerHTML = `
      <li><strong>Design current Ib:</strong> ${formatNumber(Ib, 1)} A</li>
      <li><strong>Required tabulated capacity It:</strong> ${formatNumber(
        It,
        1
      )} A</li>
      <li><strong>Nominal voltage Un:</strong> ${Un} V (${
          system === "3p" ? "three phase" : "single phase"
        })</li>
      <li><strong>Max volt drop:</strong> ${formatNumber(
        maxVoltDropPct,
        1
      )} %</li>
      <li><strong>Max Zs:</strong> ${
        Number.isFinite(maxZs) ? formatNumber(maxZs, 2) + " Ω" : "not specified"
      }</li>
    `;

        const factorsList = document.getElementById("factors-list");
        factorsList.innerHTML = `
      <li><strong>Ambient temperature:</strong> ${formatNumber(
        ambient,
        0
      )} °C → Ca ≈ ${formatNumber(Ca, 2)}</li>
      <li><strong>Grouping (circuits):</strong> ${
        grouping || 1
      } → Cg ≈ ${formatNumber(Cg, 2)}</li>
      <li><strong>Thermal insulation:</strong> ${insulation} → Ci ≈ ${formatNumber(
          Ci,
          2
        )}</li>
      <li><strong>Total correction factor:</strong> Ca × Cg × Ci ≈ ${formatNumber(
        Cf,
        3
      )}</li>
      <li><strong>External earth loop Ze:</strong> ${formatNumber(Ze, 2)} Ω</li>
    `;
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
