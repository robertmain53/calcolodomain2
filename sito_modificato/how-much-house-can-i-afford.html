<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/how-much-house-can-i-afford">





 
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg">
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png">
<link rel="manifest" href="https://calcdomain.com/site.webmanifest">
<meta charset="utf-8">
<title>House Affordability Calculator | How much house can I afford?</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Use our professional House Affordability Calculator to find how much house you can afford based on income, debts, DTI limits, interest rate, taxes, insurance, HOA, and PMI. Fast, accessible, and accurate." name="description">
<meta content="Ugo Candido" name="author">

<meta content="#ffffff" name="theme-color">
<meta content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" name="robots">
<meta content="how much house can i afford, house affordability calculator, mortgage affordability, DTI calculator, front-end ratio, back-end ratio" name="keywords">
<style>
    /* Design tokens */
    :root{
      --primary:#005A9C; --primary-600:#003F6E; --text:#212529; --muted:#6C757D;
      --bg:#F8F9FA; --surface:#FFFFFF; --border:#DEE2E6; --success:#198754; --danger:#DC3545;
      --radius:12px; --btn-radius:8px; --min-touch:48px;
    }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{animation:none!important;transition:none!important;scroll-behavior:auto!important;}
    }

    /* Base */
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:clamp(16px,2.5vw,18px)}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
    a{color:var(--primary);text-decoration:none}
    a:hover{text-decoration:underline}
    h1,h2,h3{color:var(--primary-600);line-height:1.2;margin:.5rem 0 1rem}
    h1{font-size:clamp(1.8rem,4vw,2.4rem)}
    h2{font-size:clamp(1.4rem,3.2vw,1.8rem)}
    h3{font-size:clamp(1.2rem,2.8vw,1.4rem)}
    p{max-width:75ch;margin:0 0 1rem}
    .container{max-width:1100px;margin:0 auto;padding:1rem clamp(1rem,4vw,2rem)}
    .skip-link{
      position:absolute;left:8px;top:-40px;background:var(--primary);color:#fff;padding:.5rem .75rem;
      border-radius:0 0 6px 6px;z-index:1000
    }
    .skip-link:focus{top:0}

    /* Layout */
    .grid{
      display:grid;gap:1.5rem
    }
    .calculator-layout{
      display:grid;grid-template-columns:1fr;gap:2rem;margin-top:1rem
    }
    @media(min-width: 992px){
      .calculator-layout{grid-template-columns:420px 1fr}
    }

    /* Cards / surfaces */
    .card{
      background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);
      padding:clamp(1rem,2.5vw,1.5rem);box-shadow:0 2px 6px rgba(0,0,0,.05)
    }

    /* Form */
    .form-group{margin-bottom:1rem}
    .form-group label{display:block;font-weight:600;margin-bottom:.35rem}
    .form-note{font-size:.9rem;color:var(--muted)}
    .input-group{position:relative}
    .unit{
      position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:var(--muted);pointer-events:none
    }
    .control{
      width:100%;min-height:var(--min-touch);
      padding:.75rem 2.25rem .75rem .85rem;border:1px solid var(--border);border-radius:8px;font-size:1rem;background:#fff
    }
    .control:focus-visible{outline:3px solid var(--primary);outline-offset:2px}
    .control[aria-invalid="true"]{border-color:var(--danger)}
    .error{color:var(--danger);font-size:.9rem;margin-top:.25rem;min-height:1.25rem}
    fieldset{border:0;padding:0;margin:0}
    legend{font-weight:700;margin-bottom:.25rem}
    .radio-group{
      display:flex;gap:.5rem;border:1px solid var(--border);border-radius:8px;padding:.25rem
    }
    .radio-option{position:relative;flex:1}
    .radio-option input{position:absolute;opacity:0;inset:0}
    .radio-option label{
      display:flex;align-items:center;justify-content:center;min-height:var(--min-touch);
      border-radius:6px;cursor:pointer;font-weight:600
    }
    .radio-option input:checked + label{background:var(--primary);color:#fff}
    .radio-option input:focus-visible + label{outline:3px solid var(--primary);outline-offset:2px}

    /* Tooltip */
    .help-wrap{display:inline-flex;align-items:center;gap:.5rem}
    .help-btn{
      appearance:none;border:1px solid var(--border);background:#fff;color:var(--primary-600);
      border-radius:50%;width:var(--min-touch);height:var(--min-touch);min-width:var(--min-touch);
      display:inline-flex;align-items:center;justify-content:center;font-weight:900;cursor:pointer
    }
    .help-btn:focus-visible{outline:3px solid var(--primary);outline-offset:2px}
    .tooltip{margin:.5rem 0 0;background:#f1f5f9;border:1px solid #d8e0e8;border-radius:8px;padding:.75rem;font-size:.95rem}

    /* Results */
    .results{background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;min-height:260px}
    .kpis{display:grid;grid-template-columns:1fr;gap:.75rem}
    @media(min-width:768px){
      .kpis{grid-template-columns:repeat(2,1fr)}
    }
    .kpi{
      background:#fff;border:1px solid var(--border);border-radius:10px;padding:.85rem 1rem
    }
    .kpi .label{font-size:.9rem;color:var(--muted)}
    .kpi .value{font-weight:800;font-size:1.25rem;color:var(--success)}
    .breakdown{margin-top:1rem;border-top:1px dashed var(--border);padding-top:1rem}
    .row{display:flex;justify-content:space-between;gap:1rem;padding:.4rem 0;border-bottom:1px solid #eef1f4}
    .row:last-child{border-bottom:0}
    .total{font-weight:800}

    /* Formula box */
    .formula{background:#eef2f6;border:1px solid #d9e2ec;border-radius:10px;padding:1rem;overflow:auto}

    /* Buttons */
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
      min-height:var(--min-touch);min-width:var(--min-touch);
      padding:.75rem 1rem;border-radius:var(--btn-radius);border:1px solid var(--primary);background:var(--primary);color:#fff;font-weight:700;cursor:pointer
    }
    .btn.secondary{background:#fff;color:var(--primary);border-color:var(--primary)}
    .btn:focus-visible{outline:3px solid var(--primary);outline-offset:2px}

    /* Footer author box */
    .author{margin-top:2rem;padding-top:1rem;border-top:1px solid var(--border);color:var(--muted);font-size:.95rem}

    /* Utility */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
<!-- MathJax for LaTeX rendering (non-blocking) -->
<script crossorigin="anonymous" defer="" integrity="sha384-ADN2c5u8o5uS+V9M6+8jL7j9Kfr8mRQcVb2CzHENaTMy3c0qGv4b3QXc3b1h/1Jd" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "House Affordability Calculator",
      "description": "Find out how much house you can afford with our precise, WCAG-compliant calculator. Incorporates front-end/back-end DTI, taxes, insurance, HOA and PMI for an accurate, mobile-first experience.",
      "url": "https://calcdomain.com/how-much-house-can-i-afford",
      "inLanguage": "en",
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "publisher": {
        "@type": "Organization",
        "name": "CalcDomain"
      },
      "dateModified": "2025-09-13"
    },
    {
      "@type": "HowTo",
      "name": "Worked Example: How to calculate how much house you can afford",
      "description": "Step-by-step example using DTI constraints and the standard amortization formula.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter your income and debts",
          "text": "Annual gross income $120,000; other monthly debts $500."
        },
        {
          "@type": "HowToStep",
          "name": "Set assumptions",
          "text": "30-year fixed at 6.5%, 20% down, 1.2% property tax, $1,200 annual insurance, no HOA, 0.5% PMI, DTI limits 28/36."
        },
        {
          "@type": "HowToStep",
          "name": "Compute allowed housing spend",
          "text": "Front-end = 28% of monthly income. Back-end = 36% of monthly income minus other debts. Use the lower of the two."
        },
        {
          "@type": "HowToStep",
          "name": "Solve for price",
          "text": "Using amortization and recurring housing costs, solve for the highest purchase price whose monthly housing cost remains under the allowed budget."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What percentage of my income should my mortgage be?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A common guideline is 28% of gross monthly income for total housing costs (front-end DTI), and 36% for all debts including housing (back-end DTI). You can adjust these limits in the calculator."
          }
        },
        {
          "@type": "Question",
          "name": "Does this calculator include taxes, insurance, HOA, and PMI?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. It estimates property taxes as a percentage of price, includes annual homeowners insurance, HOA dues, and PMI when the down payment is below 20%."
          }
        },
        {
          "@type": "Question",
          "name": "How accurate are the results?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Results are estimates based on your inputs and standard mortgage formulas. Real underwriting may vary due to credit, loan type, reserves, and local taxes and insurance."
          }
        },
        {
          "@type": "Question",
          "name": "When does PMI drop off?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Conventional loans typically remove PMI when loan-to-value reaches 80%. This tool includes PMI at purchase if the down payment is under 20%."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use a 15-year term or ARM?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Change the loan term and interest rate assumptions to reflect your product. Shorter terms increase the monthly payment, reducing the affordable price."
          }
        },
        {
          "@type": "Question",
          "name": "Which DTI limits should I use for FHA, VA, or USDA?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Guidelines vary. FHA commonly uses 31/43, but approvals can vary. VA and USDA use different frameworks. Confirm with your lender; you can set custom limits in this tool."
          }
        },
        {
          "@type": "Question",
          "name": "Will my credit score affect affordability?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Indirectly. Your credit influences the interest rate, which changes your monthly payment and alters the affordable price."
          }
        }
      ]
    }
  ]
}
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer=""></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = { tex: { inlineMath: [['\\(','\\)'], [',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>
<main class="container" id="main" role="main">
<h1>House Affordability Calculator</h1>
<p>
      Quickly estimate how much house you can afford using a rigorous, lender-style approach. This tool is designed for first‑time and seasoned homebuyers who want a realistic price target that accounts for DTI limits, interest rate, property taxes, insurance, HOA dues, and PMI.
    </p>
<section aria-labelledby="calc-heading" class="calculator-layout">
<div class="card" id="calculator">
<h2 id="calc-heading">Your Inputs</h2>
<div class="form-group">
<label for="income">Annual gross income *</label>
<div class="input-group">
<input aria-describedby="income-err" aria-required="true" autocomplete="off" class="control" id="income" inputmode="decimal" min="0" placeholder="e.g., 120000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="income-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>Down payment mode</legend>
<div aria-label="Down payment mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="dp-percent-mode" name="dp-mode" type="radio" value="percent">
<label for="dp-percent-mode">Percent</label>
</div>
<div class="radio-option">
<input id="dp-amount-mode" name="dp-mode" type="radio" value="amount">
<label for="dp-amount-mode">Amount</label>
</div>
</div>
</fieldset>
<div class="form-group" id="dp-percent-wrap">
<div class="help-wrap">
<label for="downPercent">Down payment (%) *</label>
<button aria-controls="dp-tip" aria-expanded="false" aria-label="Show help on down payment" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-percent-err dp-tip" aria-required="true" autocomplete="off" class="control" id="downPercent" inputmode="decimal" max="100" min="0" placeholder="e.g., 20" step="0.1" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="dp-percent-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-tip">
            Enter the percentage of the home price you plan to put down. A down payment below 20% typically requires PMI.
          </div>
</div>
<div class="form-group" hidden="" id="dp-amount-wrap">
<div class="help-wrap">
<label for="downAmount">Down payment amount *</label>
<button aria-controls="dp-amt-tip" aria-expanded="false" aria-label="Show help on down payment amount" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-amount-err dp-amt-tip" aria-required="false" autocomplete="off" class="control" disabled="" id="downAmount" inputmode="decimal" min="0" placeholder="e.g., 60000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="dp-amount-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-amt-tip">
            Enter a fixed dollar down payment. The tool caps it at the purchase price when needed.
          </div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="rate">Interest rate (APR) *</label>
<button aria-controls="rate-tip" aria-expanded="false" aria-label="Show help on interest rate" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="rate-err rate-tip" aria-required="true" autocomplete="off" class="control" id="rate" inputmode="decimal" max="30" min="0" placeholder="e.g., 6.5" step="0.01" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="rate-err" role="alert"></div>
<div class="tooltip" hidden="" id="rate-tip">
            Annual Percentage Rate for the mortgage. Higher rates increase the payment and reduce the affordable price.
          </div>
</div>
<div class="form-group">
<label for="term">Loan term (years) *</label>
<div class="input-group">
<input aria-describedby="term-err" aria-required="true" autocomplete="off" class="control" id="term" inputmode="numeric" max="40" min="5" placeholder="e.g., 30" step="1" type="number">
<span aria-hidden="true" class="unit">yrs</span>
</div>
<div aria-live="polite" class="error" id="term-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="taxRate">Property tax rate (annual, % of price) *</label>
<button aria-controls="tax-tip" aria-expanded="false" aria-label="Show help on property tax" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="taxRate-err tax-tip" aria-required="true" autocomplete="off" class="control" id="taxRate" inputmode="decimal" max="10" min="0" placeholder="e.g., 1.2" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="taxRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="tax-tip">
            Annual property taxes as a percent of the home price. This varies widely by location. Check your local tax assessor.
          </div>
</div>
<div class="form-group">
<label for="insAnnual">Homeowners insurance (annual) *</label>
<div class="input-group">
<input aria-describedby="insAnnual-err" aria-required="true" autocomplete="off" class="control" id="insAnnual" inputmode="decimal" min="0" placeholder="e.g., 1200" step="50" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="insAnnual-err" role="alert"></div>
<p class="form-note">If you only know monthly, multiply by 12 and enter the yearly amount.</p>
</div>
<div class="form-group">
<label for="hoa">HOA dues (monthly)</label>
<div class="input-group">
<input aria-describedby="hoa-err" autocomplete="off" class="control" id="hoa" inputmode="decimal" min="0" placeholder="e.g., 0" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="hoa-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="pmiRate">PMI rate (annual, % of loan)</label>
<button aria-controls="pmi-tip" aria-expanded="false" aria-label="Show help on PMI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="pmiRate-err pmi-tip" autocomplete="off" class="control" id="pmiRate" inputmode="decimal" max="3" min="0" placeholder="e.g., 0.5" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="pmiRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="pmi-tip">
            Private Mortgage Insurance applies to many conventional loans with less than 20% down. This tool includes PMI at purchase when down payment &lt; 20%.
          </div>
</div>
<div class="form-group">
<label for="otherDebts">Other monthly debts (car, student loan, cards) *</label>
<div class="input-group">
<input aria-describedby="otherDebts-err" aria-required="true" autocomplete="off" class="control" id="otherDebts" inputmode="decimal" min="0" placeholder="e.g., 500" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="otherDebts-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>DTI limits (adjustable)</legend>
<div class="grid" style="grid-template-columns:1fr 1fr;">
<div>
<div class="help-wrap">
<label for="frontDTI">Front-end DTI (%) *</label>
<button aria-controls="frontdti-tip" aria-expanded="false" aria-label="Show help on front-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="frontDTI-err frontdti-tip" aria-required="true" autocomplete="off" class="control" id="frontDTI" inputmode="decimal" max="50" min="10" placeholder="e.g., 28" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="frontDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="frontdti-tip">
                Housing costs ÷ gross income. Common guideline is 28% for conventional loans.
              </div>
</div>
<div>
<div class="help-wrap">
<label for="backDTI">Back-end DTI (%) *</label>
<button aria-controls="backdti-tip" aria-expanded="false" aria-label="Show help on back-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="backDTI-err backdti-tip" aria-required="true" autocomplete="off" class="control" id="backDTI" inputmode="decimal" max="55" min="20" placeholder="e.g., 36" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="backDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="backdti-tip">
                (Housing + other debts) ÷ gross income. A common cap is 36% for conventional; FHA/VA/USDA may differ.
              </div>
</div>
</div>
</fieldset>
<div class="grid" style="grid-template-columns:1fr 1fr;gap:.75rem;margin-top:1rem">
<button aria-label="Reset inputs" class="btn secondary" id="resetBtn" type="button">Reset</button>
<button aria-label="Calculate affordability" class="btn" id="calcBtn" type="button">Calculate</button>
</div>
</div>
<section aria-labelledby="results-heading" aria-live="polite" class="results" id="results" role="region">
<h2 id="results-heading">Results</h2>
<div aria-describedby="result-summary" class="kpis">
<div class="kpi">
<div class="label">Maximum home price</div>
<div class="value" id="maxPrice">$0</div>
</div>
<div class="kpi">
<div class="label">Estimated loan amount</div>
<div class="value" id="loanAmount">$0</div>
</div>
<div class="kpi">
<div class="label">Minimum down payment used</div>
<div class="value" id="downUsed">$0</div>
</div>
<div class="kpi">
<div class="label">Monthly mortgage (P&amp;I)</div>
<div class="value" id="piMonthly">$0</div>
</div>
</div>
<div class="breakdown" id="result-summary">
<h3>Monthly Cost Breakdown</h3>
<div class="row"><span>P&amp;I (principal + interest)</span><strong id="pi">$0</strong></div>
<div class="row"><span>Property taxes</span><strong id="taxes">$0</strong></div>
<div class="row"><span>Homeowners insurance</span><strong id="ins">$0</strong></div>
<div class="row"><span>HOA dues</span><strong id="hoaOut">$0</strong></div>
<div class="row"><span>PMI (if applicable)</span><strong id="pmiOut">$0</strong></div>
<div class="row total"><span>Total housing payment</span><strong id="housingTotal">$0</strong></div>
<div class="row"><span>Front-end DTI at this level</span><strong id="frontDTIout">0%</strong></div>
<div class="row"><span>Back-end DTI at this level</span><strong id="backDTIout">0%</strong></div>
</div>
</section>
</section>
<section aria-labelledby="methodology" class="card">
<h2 id="methodology">Data Source and Methodology</h2>
<p>
        Authoritative Data Source: Fannie Mae — Single-Family Selling Guide, Section B3-6 (Liability Assessment), specifically B3-6-05: Monthly Debt Obligations. Latest updates are published on Fannie Mae’s official site.
        <br>
        Reference: https://selling-guide.fanniemae.com/Selling-Guide/Origination-thru-Closing/Subpart-B3-Underwriting-Borrowers/Chapter-B3-6-Liability-Assessment/Section-B3-6-05-Monthly-Debt-Obligations/
        <br>
        Date accessed: 2025-09-13.
      </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
<p class="form-note">
        The calculator implements the standard amortization formula and applies adjustable front-end/back-end DTI guidelines commonly used for conventional underwriting. Actual approvals vary by lender, credit profile, loan program, and compensating factors.
      </p>
<h2>The Formula Explained</h2>
<div class="formula">
<p>
          Mortgage payment (principal and interest), with monthly rate r and n payments:
        </p>
<p class="math">
          $$ M = \begin{cases}
          \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\
          \dfrac{L}{n}, &amp; r = 0
          \end{cases} $$
        </p>
<p>Total monthly housing cost:</p>
<p class="math">
          $$ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $$
        </p>
<p>DTI constraints:</p>
<p class="math">
          $$ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $$
        </p>
<p>
          where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), I<sub>annual</sub> is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit.
          The calculator numerically solves for the highest P that satisfies the constraint.
        </p>
</div>
<h2>Glossary of Variables</h2>
<ul>
<li>Y — Annual gross income (USD).</li>
<li>D — Other monthly debts (USD).</li>
<li>α — Front-end DTI limit (e.g., 0.28).</li>
<li>β — Back-end DTI limit (e.g., 0.36).</li>
<li>P — Home purchase price (USD).</li>
<li>L — Loan amount = P − Down Payment (USD).</li>
<li>r — Monthly interest rate = APR / 12 (decimal).</li>
<li>n — Total number of payments = years × 12.</li>
<li>M — Monthly principal and interest payment (USD).</li>
<li>τ — Annual property tax rate (decimal of price).</li>
<li>I<sub>annual</sub> — Annual homeowners insurance (USD).</li>
<li>HOA — Monthly homeowners association dues (USD).</li>
<li>PMI — Monthly private mortgage insurance (USD) for down payments below 20% (approx. PMI<sub>rate</sub> × L / 12).</li>
<li>H — Total monthly housing cost = M + taxes + insurance + HOA + PMI (USD).</li>
</ul>
<h2>Come Funziona: Un Esempio Passo-Passo</h2>
<p>
        Inputs: Y = $120,000; D = $500; APR = 6.5%; term = 30y; down = 20%; τ = 1.2%; I<sub>annual</sub> = $1,200; HOA = $0; PMI rate = 0.5%; α = 28%; β = 36%.
      </p>
<ol>
<li>Monthly income = $120,000 / 12 = $10,000.</li>
<li>Front-end cap = 0.28 × $10,000 = $2,800.</li>
<li>Back-end cap = 0.36 × $10,000 − $500 = $3,100.</li>
<li>Allowed housing spend = min($2,800, $3,100) = $2,800.</li>
<li>Given r = 0.065 / 12 and n = 360, we solve for P so that H ≤ $2,800, where H = M + τP/12 + $1,200/12 + 0 + PMI.</li>
<li>With 20% down, PMI ≈ $0. Using numerical search, the maximum P that keeps H ≤ $2,800 is returned by the calculator in the Results above.</li>
</ol>
<p class="form-note">
        Note: Local taxes and insurance can change the result materially. Always validate with a lender for a pre-approval.
      </p>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What percentage of my income should housing cost?</summary>
<p>Many lenders use 28% (front-end DTI) for total housing costs and 36% (back-end DTI) for all debts. You can customize these limits in the calculator.</p>
</details>
<details>
<summary>Does this include taxes, insurance, HOA, and PMI?</summary>
<p>Yes. Property taxes are modeled as a percent of price; insurance is annual; HOA is monthly; PMI appears when down payment &lt; 20%.</p>
</details>
<details>
<summary>How does the interest rate affect affordability?</summary>
<p>Higher rates increase the monthly principal and interest payment M, reducing the maximum affordable price P for the same DTI limits.</p>
</details>
<details>
<summary>Can I change the loan term?</summary>
<p>Yes. Shorter terms (e.g., 15 years) increase M and typically reduce the affordable price compared to a 30-year term.</p>
</details>
<details>
<summary>When will PMI be removed?</summary>
<p>Conventional loans generally remove PMI when loan-to-value reaches 80% via scheduled amortization or a new appraisal. This tool includes PMI only if down payment is under 20% at purchase.</p>
</details>
<details>
<summary>Is this a pre-approval?</summary>
<p>No. This is an educational estimate. For binding terms, you need a lender’s pre-approval that considers credit, assets, reserves, and specific program rules.</p>
</details>
<details>
<summary>What if I have irregular income?</summary>
<p>Lenders typically average qualifying income over a period (e.g., 24 months for self-employed). Enter a conservative annual figure or consult your loan officer.</p>
</details>
<div class="author">
        Strumento sviluppato da <strong>Ugo Candido</strong>,. Contenuti verificati da,.
        <br>
        Ultima revisione per l'accuratezza in data: <time datetime="2025-09-13">September 13, 2025</time>.
      </div>
</section>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}\]</div>
  <pre class="auditspine-mono">M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI\]</div>
  <pre class="auditspine-mono">H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)\]</div>
  <pre class="auditspine-mono">H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Mortgage payment (principal and interest), with monthly rate r and n payments: $ M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\ \dfrac{L}{n}, &amp; r = 0 \end{cases} $ Total monthly housing cost: $ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $ DTI constraints: $ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $ where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), Iannual is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit. The calculator numerically solves for the highest P that satisfies the constraint.</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><span class="auditspine-mono">P</span> = principal (loan amount) <em>(currency)</em></li>
<li><span class="auditspine-mono">r</span> = periodic interest rate (annual rate ÷ payments per year) <em>(1)</em></li>
<li><span class="auditspine-mono">n</span> = total number of payments (years × payments per year) <em>(count)</em></li>
<li><span class="auditspine-mono">M</span> = periodic payment for principal + interest <em>(currency)</em></li>
<li><span class="auditspine-mono">T</span> = property tax (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">I</span> = homeowners insurance (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">PMI</span> = private mortgage insurance (monthly) <em>(currency)</em></li>
<li><span class="auditspine-mono">HOA</span> = homeowners association dues (monthly) <em>(currency)</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
<script defer="">
    (function(){
      'use strict';

      const $ = (sel) => document.querySelector(sel);
      const fmtUSD = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0});
      const fmtUSD2 = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:2});
      const fmtPct1 = new Intl.NumberFormat('en-US',{style:'percent',maximumFractionDigits:1});
      const clamp = (val,min,max)=>Math.min(Math.max(val,min),max);

      // Inputs
      const income = $('#income');
      const dpPercentMode = $('#dp-percent-mode');
      const dpAmountMode = $('#dp-amount-mode');
      const downPercent = $('#downPercent');
      const downAmount = $('#downAmount');
      const rate = $('#rate');
      const term = $('#term');
      const taxRate = $('#taxRate');
      const insAnnual = $('#insAnnual');
      const hoa = $('#hoa');
      const pmiRate = $('#pmiRate');
      const otherDebts = $('#otherDebts');
      const frontDTI = $('#frontDTI');
      const backDTI = $('#backDTI');

      // Sections that toggle
      const dpPercentWrap = $('#dp-percent-wrap');
      const dpAmountWrap = $('#dp-amount-wrap');

      // Results
      const maxPrice = $('#maxPrice');
      const loanAmount = $('#loanAmount');
      const downUsed = $('#downUsed');
      const piMonthly = $('#piMonthly');

      const piOut = $('#pi');
      const taxesOut = $('#taxes');
      const insOut = $('#ins');
      const hoaOut = $('#hoaOut');
      const pmiOut = $('#pmiOut');
      const housingTotal = $('#housingTotal');
      const frontDTIout = $('#frontDTIout');
      const backDTIout = $('#backDTIout');

      // Errors
      const errs = {
        income: $('#income-err'),
        downPercent: $('#dp-percent-err'),
        downAmount: $('#dp-amount-err'),
        rate: $('#rate-err'),
        term: $('#term-err'),
        taxRate: $('#taxRate-err'),
        insAnnual: $('#insAnnual-err'),
        hoa: $('#hoa-err'),
        pmiRate: $('#pmiRate-err'),
        otherDebts: $('#otherDebts-err'),
        frontDTI: $('#frontDTI-err'),
        backDTI: $('#backDTI-err')
      };

      // Accessible tooltips
      function toggleTip(btn){
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.hidden = expanded;
      }
      document.querySelectorAll('.help-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>toggleTip(btn));
        btn.addEventListener('keydown', (e)=>{
          if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggleTip(btn); }
        });
      });

      // Mode switching
      function syncDpMode(){
        const isPercent = dpPercentMode.checked;
        dpPercentWrap.hidden = !isPercent;
        dpAmountWrap.hidden = isPercent;
        downPercent.toggleAttribute('disabled', !isPercent);
        downAmount.toggleAttribute('disabled', isPercent);
        downPercent.setAttribute('aria-required', String(isPercent));
        downAmount.setAttribute('aria-required', String(!isPercent));
      }
      dpPercentMode.addEventListener('change', syncDpMode);
      dpAmountMode.addEventListener('change', syncDpMode);

      // Validation
      function setError(input, msg){
        const id = input.id;
        if(errs[id]) errs[id].textContent = msg || '';
        input.setAttribute('aria-invalid', msg ? 'true' : 'false');
      }

      function requirePositive(input, min=0, msg='Please enter a valid value'){
        const v = Number(input.value);
        if(isNaN(v) || v < min){ setError(input, msg); return false; }
        setError(input, '');
        return true;
      }

      function validate(){
        let ok = true;
        ok &= requirePositive(income, 1, 'Enter your annual gross income (greater than 0)');
        if(dpPercentMode.checked){
          ok &= requirePositive(downPercent, 0, 'Enter a percentage between 0 and 100');
          if(!isNaN(Number(downPercent.value)) && (Number(downPercent.value) < 0 || Number(downPercent.value) > 100)){
            setError(downPercent, 'Down payment percent must be between 0% and 100%'); ok = false;
          }
        } else {
          ok &= requirePositive(downAmount, 0, 'Enter a non-negative dollar amount for your down payment');
        }
        ok &= requirePositive(rate, 0, 'Enter an APR of 0% to 30%');
        if(!isNaN(Number(rate.value)) && Number(rate.value) > 30){ setError(rate,'APR seems too high'); ok=false; }
        ok &= requirePositive(term, 5, 'Enter a loan term between 5 and 40 years');
        if(!isNaN(Number(term.value)) && Number(term.value) > 40){ setError(term,'Max allowed in this tool is 40 years'); ok=false; }
        ok &= requirePositive(taxRate, 0, 'Enter a tax rate between 0% and 10%');
        if(!isNaN(Number(taxRate.value)) && Number(taxRate.value) > 10){ setError(taxRate,'Tax rate over 10% is unlikely; please verify'); ok=false; }
        ok &= requirePositive(insAnnual, 0, 'Enter your estimated annual premium (can be $0)');
        ok &= requirePositive(hoa, 0, 'HOA dues can be $0 or higher');
        ok &= requirePositive(pmiRate, 0, 'Enter PMI rate 0%–3% (only used if down < 20%)');
        if(!isNaN(Number(pmiRate.value)) && Number(pmiRate.value) > 3){ setError(pmiRate,'PMI over 3% is unlikely'); ok=false; }
        ok &= requirePositive(otherDebts, 0, 'Enter $0 if you have no other monthly debts');
        ok &= requirePositive(frontDTI, 10, 'Front-end DTI should be between 10% and 50%');
        if(!isNaN(Number(frontDTI.value)) && Number(frontDTI.value) > 50){ setError(frontDTI,'Front-end DTI should be ≤ 50%'); ok=false; }
        ok &= requirePositive(backDTI, 20, 'Back-end DTI should be between 20% and 55%');
        if(!isNaN(Number(backDTI.value)) && Number(backDTI.value) > 55){ setError(backDTI,'Back-end DTI should be ≤ 55%'); ok=false; }
        return !!ok;
      }

      // On-blur validation
      [income, downPercent, downAmount, rate, term, taxRate, insAnnual, hoa, pmiRate, otherDebts, frontDTI, backDTI].forEach(inp=>{
        inp.addEventListener('blur', validate);
      });

      // Core calculation
      function monthlyPI(loan, apr, years){
        if(loan <= 0) return 0;
        const n = Math.round(years * 12);
        const r = (apr/100) / 12;
        if(r === 0) return loan / n;
        return (r * loan) / (1 - Math.pow(1+r, -n));
      }

      function monthlyBreakdownAtPrice(P){
        const isPercent = dpPercentMode.checked;
        const dp = isPercent ? (clamp(Number(downPercent.value||0),0,100)/100)*P : Math.min(Number(downAmount.value||0), P);
        const L = Math.max(0, P - dp);
        const M = monthlyPI(L, Number(rate.value||0), Number(term.value||0));
        const taxes = (clamp(Number(taxRate.value||0),0,100)/100) * P / 12;
        const ins = Number(insAnnual.value||0) / 12;
        const hoaM = Number(hoa.value||0);
        const pmi = (dp / P) < 0.20 ? (clamp(Number(pmiRate.value||0),0,100)/100) * L / 12 : 0;
        const H = M + taxes + ins + hoaM + pmi;
        return {dp, L, M, taxes, ins, hoaM, pmi, H};
      }

      function solveMaxPrice(){
        if(!validate()) return null;

        const Y = Number(income.value||0);
        const D = Number(otherDebts.value||0);
        const alpha = clamp(Number(frontDTI.value||0), 0, 100) / 100;
        const beta = clamp(Number(backDTI.value||0), 0, 100) / 100;

        const monthlyInc = Y / 12;
        const frontCap = alpha * monthlyInc;
        const backCap = beta * monthlyInc - D;
        const allowed = Math.max(0, Math.min(frontCap, backCap)); // housing budget

        if(allowed <= 0){
          return {
            P: 0,
            ...monthlyBreakdownAtPrice(0),
            frontCap, backCap, allowed
          };
        }

        // Binary search for P in [0, 3.5M]
        let lo = 0, hi = 3500000, best = 0, bestBD = monthlyBreakdownAtPrice(0);
        for(let i=0;i<60;i++){
          const mid = (lo + hi) / 2;
          const bd = monthlyBreakdownAtPrice(mid);
          if(bd.H <= allowed){
            best = mid; bestBD = bd; lo = mid;
          } else {
            hi = mid;
          }
        }
        return {
          P: best,
          ...bestBD,
          frontCap, backCap, allowed
        };
      }

      function render(){
        const res = solveMaxPrice();
        if(!res){ return; }

        const {P, L, dp, M, taxes, ins, hoaM, pmi, H, frontCap, backCap} = res;

        maxPrice.textContent = fmtUSD.format(P);
        loanAmount.textContent = fmtUSD.format(L);
        downUsed.textContent = fmtUSD.format(dp);
        piMonthly.textContent = fmtUSD.format(M);

        piOut.textContent = fmtUSD2.format(M);
        taxesOut.textContent = fmtUSD2.format(taxes);
        insOut.textContent = fmtUSD2.format(ins);
        hoaOut.textContent = fmtUSD2.format(hoaM);
        pmiOut.textContent = fmtUSD2.format(pmi);
        housingTotal.textContent = fmtUSD2.format(H);

        // Realized DTIs at solution
        const monthlyInc = Number(income.value||0)/12;
        const frontActual = monthlyInc > 0 ? H / monthlyInc : 0;
        const backActual = monthlyInc > 0 ? (H + Number(otherDebts.value||0)) / monthlyInc : 0;
        frontDTIout.textContent = fmtPct1.format(frontActual);
        backDTIout.textContent = fmtPct1.format(backActual);
      }

      // Defaults
      function setDefaults(){
        income.value = 120000;
        downPercent.value = 20;
        downAmount.value = 60000;
        rate.value = 6.5;
        term.value = 30;
        taxRate.value = 1.2;
        insAnnual.value = 1200;
        hoa.value = 0;
        pmiRate.value = 0.5;
        otherDebts.value = 500;
        frontDTI.value = 28;
        backDTI.value = 36;
        syncDpMode();
      }

      // Debounced recompute
      let t;
      function schedule(){
        clearTimeout(t);
        t = setTimeout(render, 80);
      }
      document.querySelectorAll('#calculator input').forEach(inp=>{
        inp.addEventListener('input', schedule);
      });

      // Buttons
      $('#calcBtn').addEventListener('click', ()=>{ if(validate()) render(); });
      $('#resetBtn').addEventListener('click', ()=>{
        Object.values(errs).forEach(e=>e.textContent='');
        document.querySelectorAll('#calculator input').forEach(i=>i.setAttribute('aria-invalid','false'));
        dpPercentMode.checked = true;
        setDefaults();
        render();
      });

      // Initialize
      setDefaults();
      render();
    })();
  </script>


</body></html>, ',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>
<main class="container" id="main" role="main">
<h1>House Affordability Calculator</h1>
<p>
      Quickly estimate how much house you can afford using a rigorous, lender-style approach. This tool is designed for first‑time and seasoned homebuyers who want a realistic price target that accounts for DTI limits, interest rate, property taxes, insurance, HOA dues, and PMI.
    </p>
<section aria-labelledby="calc-heading" class="calculator-layout">
<div class="card" id="calculator">
<h2 id="calc-heading">Your Inputs</h2>
<div class="form-group">
<label for="income">Annual gross income *</label>
<div class="input-group">
<input aria-describedby="income-err" aria-required="true" autocomplete="off" class="control" id="income" inputmode="decimal" min="0" placeholder="e.g., 120000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="income-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>Down payment mode</legend>
<div aria-label="Down payment mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="dp-percent-mode" name="dp-mode" type="radio" value="percent">
<label for="dp-percent-mode">Percent</label>
</div>
<div class="radio-option">
<input id="dp-amount-mode" name="dp-mode" type="radio" value="amount">
<label for="dp-amount-mode">Amount</label>
</div>
</div>
</fieldset>
<div class="form-group" id="dp-percent-wrap">
<div class="help-wrap">
<label for="downPercent">Down payment (%) *</label>
<button aria-controls="dp-tip" aria-expanded="false" aria-label="Show help on down payment" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-percent-err dp-tip" aria-required="true" autocomplete="off" class="control" id="downPercent" inputmode="decimal" max="100" min="0" placeholder="e.g., 20" step="0.1" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="dp-percent-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-tip">
            Enter the percentage of the home price you plan to put down. A down payment below 20% typically requires PMI.
          </div>
</div>
<div class="form-group" hidden="" id="dp-amount-wrap">
<div class="help-wrap">
<label for="downAmount">Down payment amount *</label>
<button aria-controls="dp-amt-tip" aria-expanded="false" aria-label="Show help on down payment amount" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-amount-err dp-amt-tip" aria-required="false" autocomplete="off" class="control" disabled="" id="downAmount" inputmode="decimal" min="0" placeholder="e.g., 60000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="dp-amount-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-amt-tip">
            Enter a fixed dollar down payment. The tool caps it at the purchase price when needed.
          </div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="rate">Interest rate (APR) *</label>
<button aria-controls="rate-tip" aria-expanded="false" aria-label="Show help on interest rate" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="rate-err rate-tip" aria-required="true" autocomplete="off" class="control" id="rate" inputmode="decimal" max="30" min="0" placeholder="e.g., 6.5" step="0.01" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="rate-err" role="alert"></div>
<div class="tooltip" hidden="" id="rate-tip">
            Annual Percentage Rate for the mortgage. Higher rates increase the payment and reduce the affordable price.
          </div>
</div>
<div class="form-group">
<label for="term">Loan term (years) *</label>
<div class="input-group">
<input aria-describedby="term-err" aria-required="true" autocomplete="off" class="control" id="term" inputmode="numeric" max="40" min="5" placeholder="e.g., 30" step="1" type="number">
<span aria-hidden="true" class="unit">yrs</span>
</div>
<div aria-live="polite" class="error" id="term-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="taxRate">Property tax rate (annual, % of price) *</label>
<button aria-controls="tax-tip" aria-expanded="false" aria-label="Show help on property tax" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="taxRate-err tax-tip" aria-required="true" autocomplete="off" class="control" id="taxRate" inputmode="decimal" max="10" min="0" placeholder="e.g., 1.2" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="taxRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="tax-tip">
            Annual property taxes as a percent of the home price. This varies widely by location. Check your local tax assessor.
          </div>
</div>
<div class="form-group">
<label for="insAnnual">Homeowners insurance (annual) *</label>
<div class="input-group">
<input aria-describedby="insAnnual-err" aria-required="true" autocomplete="off" class="control" id="insAnnual" inputmode="decimal" min="0" placeholder="e.g., 1200" step="50" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="insAnnual-err" role="alert"></div>
<p class="form-note">If you only know monthly, multiply by 12 and enter the yearly amount.</p>
</div>
<div class="form-group">
<label for="hoa">HOA dues (monthly)</label>
<div class="input-group">
<input aria-describedby="hoa-err" autocomplete="off" class="control" id="hoa" inputmode="decimal" min="0" placeholder="e.g., 0" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="hoa-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="pmiRate">PMI rate (annual, % of loan)</label>
<button aria-controls="pmi-tip" aria-expanded="false" aria-label="Show help on PMI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="pmiRate-err pmi-tip" autocomplete="off" class="control" id="pmiRate" inputmode="decimal" max="3" min="0" placeholder="e.g., 0.5" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="pmiRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="pmi-tip">
            Private Mortgage Insurance applies to many conventional loans with less than 20% down. This tool includes PMI at purchase when down payment &lt; 20%.
          </div>
</div>
<div class="form-group">
<label for="otherDebts">Other monthly debts (car, student loan, cards) *</label>
<div class="input-group">
<input aria-describedby="otherDebts-err" aria-required="true" autocomplete="off" class="control" id="otherDebts" inputmode="decimal" min="0" placeholder="e.g., 500" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="otherDebts-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>DTI limits (adjustable)</legend>
<div class="grid" style="grid-template-columns:1fr 1fr;">
<div>
<div class="help-wrap">
<label for="frontDTI">Front-end DTI (%) *</label>
<button aria-controls="frontdti-tip" aria-expanded="false" aria-label="Show help on front-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="frontDTI-err frontdti-tip" aria-required="true" autocomplete="off" class="control" id="frontDTI" inputmode="decimal" max="50" min="10" placeholder="e.g., 28" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="frontDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="frontdti-tip">
                Housing costs ÷ gross income. Common guideline is 28% for conventional loans.
              </div>
</div>
<div>
<div class="help-wrap">
<label for="backDTI">Back-end DTI (%) *</label>
<button aria-controls="backdti-tip" aria-expanded="false" aria-label="Show help on back-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="backDTI-err backdti-tip" aria-required="true" autocomplete="off" class="control" id="backDTI" inputmode="decimal" max="55" min="20" placeholder="e.g., 36" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="backDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="backdti-tip">
                (Housing + other debts) ÷ gross income. A common cap is 36% for conventional; FHA/VA/USDA may differ.
              </div>
</div>
</div>
</fieldset>
<div class="grid" style="grid-template-columns:1fr 1fr;gap:.75rem;margin-top:1rem">
<button aria-label="Reset inputs" class="btn secondary" id="resetBtn" type="button">Reset</button>
<button aria-label="Calculate affordability" class="btn" id="calcBtn" type="button">Calculate</button>
</div>
</div>
<section aria-labelledby="results-heading" aria-live="polite" class="results" id="results" role="region">
<h2 id="results-heading">Results</h2>
<div aria-describedby="result-summary" class="kpis">
<div class="kpi">
<div class="label">Maximum home price</div>
<div class="value" id="maxPrice">$0</div>
</div>
<div class="kpi">
<div class="label">Estimated loan amount</div>
<div class="value" id="loanAmount">$0</div>
</div>
<div class="kpi">
<div class="label">Minimum down payment used</div>
<div class="value" id="downUsed">$0</div>
</div>
<div class="kpi">
<div class="label">Monthly mortgage (P&amp;I)</div>
<div class="value" id="piMonthly">$0</div>
</div>
</div>
<div class="breakdown" id="result-summary">
<h3>Monthly Cost Breakdown</h3>
<div class="row"><span>P&amp;I (principal + interest)</span><strong id="pi">$0</strong></div>
<div class="row"><span>Property taxes</span><strong id="taxes">$0</strong></div>
<div class="row"><span>Homeowners insurance</span><strong id="ins">$0</strong></div>
<div class="row"><span>HOA dues</span><strong id="hoaOut">$0</strong></div>
<div class="row"><span>PMI (if applicable)</span><strong id="pmiOut">$0</strong></div>
<div class="row total"><span>Total housing payment</span><strong id="housingTotal">$0</strong></div>
<div class="row"><span>Front-end DTI at this level</span><strong id="frontDTIout">0%</strong></div>
<div class="row"><span>Back-end DTI at this level</span><strong id="backDTIout">0%</strong></div>
</div>
</section>
</section>
<section aria-labelledby="methodology" class="card">
<h2 id="methodology">Data Source and Methodology</h2>
<p>
        Authoritative Data Source: Fannie Mae — Single-Family Selling Guide, Section B3-6 (Liability Assessment), specifically B3-6-05: Monthly Debt Obligations. Latest updates are published on Fannie Mae’s official site.
        <br>
        Reference: https://selling-guide.fanniemae.com/Selling-Guide/Origination-thru-Closing/Subpart-B3-Underwriting-Borrowers/Chapter-B3-6-Liability-Assessment/Section-B3-6-05-Monthly-Debt-Obligations/
        <br>
        Date accessed: 2025-09-13.
      </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
<p class="form-note">
        The calculator implements the standard amortization formula and applies adjustable front-end/back-end DTI guidelines commonly used for conventional underwriting. Actual approvals vary by lender, credit profile, loan program, and compensating factors.
      </p>
<h2>The Formula Explained</h2>
<div class="formula">
<p>
          Mortgage payment (principal and interest), with monthly rate r and n payments:
        </p>
<p class="math">
          $$ M = \begin{cases}
          \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\
          \dfrac{L}{n}, &amp; r = 0
          \end{cases} $$
        </p>
<p>Total monthly housing cost:</p>
<p class="math">
          $$ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $$
        </p>
<p>DTI constraints:</p>
<p class="math">
          $$ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $$
        </p>
<p>
          where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), I<sub>annual</sub> is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit.
          The calculator numerically solves for the highest P that satisfies the constraint.
        </p>
</div>
<h2>Glossary of Variables</h2>
<ul>
<li>Y — Annual gross income (USD).</li>
<li>D — Other monthly debts (USD).</li>
<li>α — Front-end DTI limit (e.g., 0.28).</li>
<li>β — Back-end DTI limit (e.g., 0.36).</li>
<li>P — Home purchase price (USD).</li>
<li>L — Loan amount = P − Down Payment (USD).</li>
<li>r — Monthly interest rate = APR / 12 (decimal).</li>
<li>n — Total number of payments = years × 12.</li>
<li>M — Monthly principal and interest payment (USD).</li>
<li>τ — Annual property tax rate (decimal of price).</li>
<li>I<sub>annual</sub> — Annual homeowners insurance (USD).</li>
<li>HOA — Monthly homeowners association dues (USD).</li>
<li>PMI — Monthly private mortgage insurance (USD) for down payments below 20% (approx. PMI<sub>rate</sub> × L / 12).</li>
<li>H — Total monthly housing cost = M + taxes + insurance + HOA + PMI (USD).</li>
</ul>
<h2>Come Funziona: Un Esempio Passo-Passo</h2>
<p>
        Inputs: Y = $120,000; D = $500; APR = 6.5%; term = 30y; down = 20%; τ = 1.2%; I<sub>annual</sub> = $1,200; HOA = $0; PMI rate = 0.5%; α = 28%; β = 36%.
      </p>
<ol>
<li>Monthly income = $120,000 / 12 = $10,000.</li>
<li>Front-end cap = 0.28 × $10,000 = $2,800.</li>
<li>Back-end cap = 0.36 × $10,000 − $500 = $3,100.</li>
<li>Allowed housing spend = min($2,800, $3,100) = $2,800.</li>
<li>Given r = 0.065 / 12 and n = 360, we solve for P so that H ≤ $2,800, where H = M + τP/12 + $1,200/12 + 0 + PMI.</li>
<li>With 20% down, PMI ≈ $0. Using numerical search, the maximum P that keeps H ≤ $2,800 is returned by the calculator in the Results above.</li>
</ol>
<p class="form-note">
        Note: Local taxes and insurance can change the result materially. Always validate with a lender for a pre-approval.
      </p>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What percentage of my income should housing cost?</summary>
<p>Many lenders use 28% (front-end DTI) for total housing costs and 36% (back-end DTI) for all debts. You can customize these limits in the calculator.</p>
</details>
<details>
<summary>Does this include taxes, insurance, HOA, and PMI?</summary>
<p>Yes. Property taxes are modeled as a percent of price; insurance is annual; HOA is monthly; PMI appears when down payment &lt; 20%.</p>
</details>
<details>
<summary>How does the interest rate affect affordability?</summary>
<p>Higher rates increase the monthly principal and interest payment M, reducing the maximum affordable price P for the same DTI limits.</p>
</details>
<details>
<summary>Can I change the loan term?</summary>
<p>Yes. Shorter terms (e.g., 15 years) increase M and typically reduce the affordable price compared to a 30-year term.</p>
</details>
<details>
<summary>When will PMI be removed?</summary>
<p>Conventional loans generally remove PMI when loan-to-value reaches 80% via scheduled amortization or a new appraisal. This tool includes PMI only if down payment is under 20% at purchase.</p>
</details>
<details>
<summary>Is this a pre-approval?</summary>
<p>No. This is an educational estimate. For binding terms, you need a lender’s pre-approval that considers credit, assets, reserves, and specific program rules.</p>
</details>
<details>
<summary>What if I have irregular income?</summary>
<p>Lenders typically average qualifying income over a period (e.g., 24 months for self-employed). Enter a conservative annual figure or consult your loan officer.</p>
</details>
<div class="author">
        Strumento sviluppato da <strong>Ugo Candido</strong>,. Contenuti verificati da,.
        <br>
        Ultima revisione per l'accuratezza in data: <time datetime="2025-09-13">September 13, 2025</time>.
      </div>
</section>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}\]</div>
  <pre class="auditspine-mono">M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI\]</div>
  <pre class="auditspine-mono">H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)\]</div>
  <pre class="auditspine-mono">H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Mortgage payment (principal and interest), with monthly rate r and n payments: $ M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\ \dfrac{L}{n}, &amp; r = 0 \end{cases} $ Total monthly housing cost: $ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $ DTI constraints: $ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $ where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), Iannual is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit. The calculator numerically solves for the highest P that satisfies the constraint.</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><span class="auditspine-mono">P</span> = principal (loan amount) <em>(currency)</em></li>
<li><span class="auditspine-mono">r</span> = periodic interest rate (annual rate ÷ payments per year) <em>(1)</em></li>
<li><span class="auditspine-mono">n</span> = total number of payments (years × payments per year) <em>(count)</em></li>
<li><span class="auditspine-mono">M</span> = periodic payment for principal + interest <em>(currency)</em></li>
<li><span class="auditspine-mono">T</span> = property tax (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">I</span> = homeowners insurance (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">PMI</span> = private mortgage insurance (monthly) <em>(currency)</em></li>
<li><span class="auditspine-mono">HOA</span> = homeowners association dues (monthly) <em>(currency)</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
<script defer="">
    (function(){
      'use strict';

      const $ = (sel) => document.querySelector(sel);
      const fmtUSD = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0});
      const fmtUSD2 = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:2});
      const fmtPct1 = new Intl.NumberFormat('en-US',{style:'percent',maximumFractionDigits:1});
      const clamp = (val,min,max)=>Math.min(Math.max(val,min),max);

      // Inputs
      const income = $('#income');
      const dpPercentMode = $('#dp-percent-mode');
      const dpAmountMode = $('#dp-amount-mode');
      const downPercent = $('#downPercent');
      const downAmount = $('#downAmount');
      const rate = $('#rate');
      const term = $('#term');
      const taxRate = $('#taxRate');
      const insAnnual = $('#insAnnual');
      const hoa = $('#hoa');
      const pmiRate = $('#pmiRate');
      const otherDebts = $('#otherDebts');
      const frontDTI = $('#frontDTI');
      const backDTI = $('#backDTI');

      // Sections that toggle
      const dpPercentWrap = $('#dp-percent-wrap');
      const dpAmountWrap = $('#dp-amount-wrap');

      // Results
      const maxPrice = $('#maxPrice');
      const loanAmount = $('#loanAmount');
      const downUsed = $('#downUsed');
      const piMonthly = $('#piMonthly');

      const piOut = $('#pi');
      const taxesOut = $('#taxes');
      const insOut = $('#ins');
      const hoaOut = $('#hoaOut');
      const pmiOut = $('#pmiOut');
      const housingTotal = $('#housingTotal');
      const frontDTIout = $('#frontDTIout');
      const backDTIout = $('#backDTIout');

      // Errors
      const errs = {
        income: $('#income-err'),
        downPercent: $('#dp-percent-err'),
        downAmount: $('#dp-amount-err'),
        rate: $('#rate-err'),
        term: $('#term-err'),
        taxRate: $('#taxRate-err'),
        insAnnual: $('#insAnnual-err'),
        hoa: $('#hoa-err'),
        pmiRate: $('#pmiRate-err'),
        otherDebts: $('#otherDebts-err'),
        frontDTI: $('#frontDTI-err'),
        backDTI: $('#backDTI-err')
      };

      // Accessible tooltips
      function toggleTip(btn){
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.hidden = expanded;
      }
      document.querySelectorAll('.help-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>toggleTip(btn));
        btn.addEventListener('keydown', (e)=>{
          if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggleTip(btn); }
        });
      });

      // Mode switching
      function syncDpMode(){
        const isPercent = dpPercentMode.checked;
        dpPercentWrap.hidden = !isPercent;
        dpAmountWrap.hidden = isPercent;
        downPercent.toggleAttribute('disabled', !isPercent);
        downAmount.toggleAttribute('disabled', isPercent);
        downPercent.setAttribute('aria-required', String(isPercent));
        downAmount.setAttribute('aria-required', String(!isPercent));
      }
      dpPercentMode.addEventListener('change', syncDpMode);
      dpAmountMode.addEventListener('change', syncDpMode);

      // Validation
      function setError(input, msg){
        const id = input.id;
        if(errs[id]) errs[id].textContent = msg || '';
        input.setAttribute('aria-invalid', msg ? 'true' : 'false');
      }

      function requirePositive(input, min=0, msg='Please enter a valid value'){
        const v = Number(input.value);
        if(isNaN(v) || v < min){ setError(input, msg); return false; }
        setError(input, '');
        return true;
      }

      function validate(){
        let ok = true;
        ok &= requirePositive(income, 1, 'Enter your annual gross income (greater than 0)');
        if(dpPercentMode.checked){
          ok &= requirePositive(downPercent, 0, 'Enter a percentage between 0 and 100');
          if(!isNaN(Number(downPercent.value)) && (Number(downPercent.value) < 0 || Number(downPercent.value) > 100)){
            setError(downPercent, 'Down payment percent must be between 0% and 100%'); ok = false;
          }
        } else {
          ok &= requirePositive(downAmount, 0, 'Enter a non-negative dollar amount for your down payment');
        }
        ok &= requirePositive(rate, 0, 'Enter an APR of 0% to 30%');
        if(!isNaN(Number(rate.value)) && Number(rate.value) > 30){ setError(rate,'APR seems too high'); ok=false; }
        ok &= requirePositive(term, 5, 'Enter a loan term between 5 and 40 years');
        if(!isNaN(Number(term.value)) && Number(term.value) > 40){ setError(term,'Max allowed in this tool is 40 years'); ok=false; }
        ok &= requirePositive(taxRate, 0, 'Enter a tax rate between 0% and 10%');
        if(!isNaN(Number(taxRate.value)) && Number(taxRate.value) > 10){ setError(taxRate,'Tax rate over 10% is unlikely; please verify'); ok=false; }
        ok &= requirePositive(insAnnual, 0, 'Enter your estimated annual premium (can be $0)');
        ok &= requirePositive(hoa, 0, 'HOA dues can be $0 or higher');
        ok &= requirePositive(pmiRate, 0, 'Enter PMI rate 0%–3% (only used if down < 20%)');
        if(!isNaN(Number(pmiRate.value)) && Number(pmiRate.value) > 3){ setError(pmiRate,'PMI over 3% is unlikely'); ok=false; }
        ok &= requirePositive(otherDebts, 0, 'Enter $0 if you have no other monthly debts');
        ok &= requirePositive(frontDTI, 10, 'Front-end DTI should be between 10% and 50%');
        if(!isNaN(Number(frontDTI.value)) && Number(frontDTI.value) > 50){ setError(frontDTI,'Front-end DTI should be ≤ 50%'); ok=false; }
        ok &= requirePositive(backDTI, 20, 'Back-end DTI should be between 20% and 55%');
        if(!isNaN(Number(backDTI.value)) && Number(backDTI.value) > 55){ setError(backDTI,'Back-end DTI should be ≤ 55%'); ok=false; }
        return !!ok;
      }

      // On-blur validation
      [income, downPercent, downAmount, rate, term, taxRate, insAnnual, hoa, pmiRate, otherDebts, frontDTI, backDTI].forEach(inp=>{
        inp.addEventListener('blur', validate);
      });

      // Core calculation
      function monthlyPI(loan, apr, years){
        if(loan <= 0) return 0;
        const n = Math.round(years * 12);
        const r = (apr/100) / 12;
        if(r === 0) return loan / n;
        return (r * loan) / (1 - Math.pow(1+r, -n));
      }

      function monthlyBreakdownAtPrice(P){
        const isPercent = dpPercentMode.checked;
        const dp = isPercent ? (clamp(Number(downPercent.value||0),0,100)/100)*P : Math.min(Number(downAmount.value||0), P);
        const L = Math.max(0, P - dp);
        const M = monthlyPI(L, Number(rate.value||0), Number(term.value||0));
        const taxes = (clamp(Number(taxRate.value||0),0,100)/100) * P / 12;
        const ins = Number(insAnnual.value||0) / 12;
        const hoaM = Number(hoa.value||0);
        const pmi = (dp / P) < 0.20 ? (clamp(Number(pmiRate.value||0),0,100)/100) * L / 12 : 0;
        const H = M + taxes + ins + hoaM + pmi;
        return {dp, L, M, taxes, ins, hoaM, pmi, H};
      }

      function solveMaxPrice(){
        if(!validate()) return null;

        const Y = Number(income.value||0);
        const D = Number(otherDebts.value||0);
        const alpha = clamp(Number(frontDTI.value||0), 0, 100) / 100;
        const beta = clamp(Number(backDTI.value||0), 0, 100) / 100;

        const monthlyInc = Y / 12;
        const frontCap = alpha * monthlyInc;
        const backCap = beta * monthlyInc - D;
        const allowed = Math.max(0, Math.min(frontCap, backCap)); // housing budget

        if(allowed <= 0){
          return {
            P: 0,
            ...monthlyBreakdownAtPrice(0),
            frontCap, backCap, allowed
          };
        }

        // Binary search for P in [0, 3.5M]
        let lo = 0, hi = 3500000, best = 0, bestBD = monthlyBreakdownAtPrice(0);
        for(let i=0;i<60;i++){
          const mid = (lo + hi) / 2;
          const bd = monthlyBreakdownAtPrice(mid);
          if(bd.H <= allowed){
            best = mid; bestBD = bd; lo = mid;
          } else {
            hi = mid;
          }
        }
        return {
          P: best,
          ...bestBD,
          frontCap, backCap, allowed
        };
      }

      function render(){
        const res = solveMaxPrice();
        if(!res){ return; }

        const {P, L, dp, M, taxes, ins, hoaM, pmi, H, frontCap, backCap} = res;

        maxPrice.textContent = fmtUSD.format(P);
        loanAmount.textContent = fmtUSD.format(L);
        downUsed.textContent = fmtUSD.format(dp);
        piMonthly.textContent = fmtUSD.format(M);

        piOut.textContent = fmtUSD2.format(M);
        taxesOut.textContent = fmtUSD2.format(taxes);
        insOut.textContent = fmtUSD2.format(ins);
        hoaOut.textContent = fmtUSD2.format(hoaM);
        pmiOut.textContent = fmtUSD2.format(pmi);
        housingTotal.textContent = fmtUSD2.format(H);

        // Realized DTIs at solution
        const monthlyInc = Number(income.value||0)/12;
        const frontActual = monthlyInc > 0 ? H / monthlyInc : 0;
        const backActual = monthlyInc > 0 ? (H + Number(otherDebts.value||0)) / monthlyInc : 0;
        frontDTIout.textContent = fmtPct1.format(frontActual);
        backDTIout.textContent = fmtPct1.format(backActual);
      }

      // Defaults
      function setDefaults(){
        income.value = 120000;
        downPercent.value = 20;
        downAmount.value = 60000;
        rate.value = 6.5;
        term.value = 30;
        taxRate.value = 1.2;
        insAnnual.value = 1200;
        hoa.value = 0;
        pmiRate.value = 0.5;
        otherDebts.value = 500;
        frontDTI.value = 28;
        backDTI.value = 36;
        syncDpMode();
      }

      // Debounced recompute
      let t;
      function schedule(){
        clearTimeout(t);
        t = setTimeout(render, 80);
      }
      document.querySelectorAll('#calculator input').forEach(inp=>{
        inp.addEventListener('input', schedule);
      });

      // Buttons
      $('#calcBtn').addEventListener('click', ()=>{ if(validate()) render(); });
      $('#resetBtn').addEventListener('click', ()=>{
        Object.values(errs).forEach(e=>e.textContent='');
        document.querySelectorAll('#calculator input').forEach(i=>i.setAttribute('aria-invalid','false'));
        dpPercentMode.checked = true;
        setDefaults();
        render();
      });

      // Initialize
      setDefaults();
      render();
    })();
  </script>


</body></html>]], displayMath: [['\\[','\\]']] }, svg: { fontCache: 'global' } };,
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>
<main class="container" id="main" role="main">
<h1>House Affordability Calculator</h1>
<p>
      Quickly estimate how much house you can afford using a rigorous, lender-style approach. This tool is designed for first‑time and seasoned homebuyers who want a realistic price target that accounts for DTI limits, interest rate, property taxes, insurance, HOA dues, and PMI.
    </p>
<section aria-labelledby="calc-heading" class="calculator-layout">
<div class="card" id="calculator">
<h2 id="calc-heading">Your Inputs</h2>
<div class="form-group">
<label for="income">Annual gross income *</label>
<div class="input-group">
<input aria-describedby="income-err" aria-required="true" autocomplete="off" class="control" id="income" inputmode="decimal" min="0" placeholder="e.g., 120000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="income-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>Down payment mode</legend>
<div aria-label="Down payment mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="dp-percent-mode" name="dp-mode" type="radio" value="percent">
<label for="dp-percent-mode">Percent</label>
</div>
<div class="radio-option">
<input id="dp-amount-mode" name="dp-mode" type="radio" value="amount">
<label for="dp-amount-mode">Amount</label>
</div>
</div>
</fieldset>
<div class="form-group" id="dp-percent-wrap">
<div class="help-wrap">
<label for="downPercent">Down payment (%) *</label>
<button aria-controls="dp-tip" aria-expanded="false" aria-label="Show help on down payment" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-percent-err dp-tip" aria-required="true" autocomplete="off" class="control" id="downPercent" inputmode="decimal" max="100" min="0" placeholder="e.g., 20" step="0.1" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="dp-percent-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-tip">
            Enter the percentage of the home price you plan to put down. A down payment below 20% typically requires PMI.
          </div>
</div>
<div class="form-group" hidden="" id="dp-amount-wrap">
<div class="help-wrap">
<label for="downAmount">Down payment amount *</label>
<button aria-controls="dp-amt-tip" aria-expanded="false" aria-label="Show help on down payment amount" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="dp-amount-err dp-amt-tip" aria-required="false" autocomplete="off" class="control" disabled="" id="downAmount" inputmode="decimal" min="0" placeholder="e.g., 60000" step="1000" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="dp-amount-err" role="alert"></div>
<div class="tooltip" hidden="" id="dp-amt-tip">
            Enter a fixed dollar down payment. The tool caps it at the purchase price when needed.
          </div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="rate">Interest rate (APR) *</label>
<button aria-controls="rate-tip" aria-expanded="false" aria-label="Show help on interest rate" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="rate-err rate-tip" aria-required="true" autocomplete="off" class="control" id="rate" inputmode="decimal" max="30" min="0" placeholder="e.g., 6.5" step="0.01" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="rate-err" role="alert"></div>
<div class="tooltip" hidden="" id="rate-tip">
            Annual Percentage Rate for the mortgage. Higher rates increase the payment and reduce the affordable price.
          </div>
</div>
<div class="form-group">
<label for="term">Loan term (years) *</label>
<div class="input-group">
<input aria-describedby="term-err" aria-required="true" autocomplete="off" class="control" id="term" inputmode="numeric" max="40" min="5" placeholder="e.g., 30" step="1" type="number">
<span aria-hidden="true" class="unit">yrs</span>
</div>
<div aria-live="polite" class="error" id="term-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="taxRate">Property tax rate (annual, % of price) *</label>
<button aria-controls="tax-tip" aria-expanded="false" aria-label="Show help on property tax" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="taxRate-err tax-tip" aria-required="true" autocomplete="off" class="control" id="taxRate" inputmode="decimal" max="10" min="0" placeholder="e.g., 1.2" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="taxRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="tax-tip">
            Annual property taxes as a percent of the home price. This varies widely by location. Check your local tax assessor.
          </div>
</div>
<div class="form-group">
<label for="insAnnual">Homeowners insurance (annual) *</label>
<div class="input-group">
<input aria-describedby="insAnnual-err" aria-required="true" autocomplete="off" class="control" id="insAnnual" inputmode="decimal" min="0" placeholder="e.g., 1200" step="50" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="insAnnual-err" role="alert"></div>
<p class="form-note">If you only know monthly, multiply by 12 and enter the yearly amount.</p>
</div>
<div class="form-group">
<label for="hoa">HOA dues (monthly)</label>
<div class="input-group">
<input aria-describedby="hoa-err" autocomplete="off" class="control" id="hoa" inputmode="decimal" min="0" placeholder="e.g., 0" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="hoa-err" role="alert"></div>
</div>
<div class="form-group">
<div class="help-wrap">
<label for="pmiRate">PMI rate (annual, % of loan)</label>
<button aria-controls="pmi-tip" aria-expanded="false" aria-label="Show help on PMI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="pmiRate-err pmi-tip" autocomplete="off" class="control" id="pmiRate" inputmode="decimal" max="3" min="0" placeholder="e.g., 0.5" step="0.05" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="pmiRate-err" role="alert"></div>
<div class="tooltip" hidden="" id="pmi-tip">
            Private Mortgage Insurance applies to many conventional loans with less than 20% down. This tool includes PMI at purchase when down payment &lt; 20%.
          </div>
</div>
<div class="form-group">
<label for="otherDebts">Other monthly debts (car, student loan, cards) *</label>
<div class="input-group">
<input aria-describedby="otherDebts-err" aria-required="true" autocomplete="off" class="control" id="otherDebts" inputmode="decimal" min="0" placeholder="e.g., 500" step="10" type="number">
<span aria-hidden="true" class="unit">$</span>
</div>
<div aria-live="polite" class="error" id="otherDebts-err" role="alert"></div>
</div>
<fieldset class="form-group">
<legend>DTI limits (adjustable)</legend>
<div class="grid" style="grid-template-columns:1fr 1fr;">
<div>
<div class="help-wrap">
<label for="frontDTI">Front-end DTI (%) *</label>
<button aria-controls="frontdti-tip" aria-expanded="false" aria-label="Show help on front-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="frontDTI-err frontdti-tip" aria-required="true" autocomplete="off" class="control" id="frontDTI" inputmode="decimal" max="50" min="10" placeholder="e.g., 28" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="frontDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="frontdti-tip">
                Housing costs ÷ gross income. Common guideline is 28% for conventional loans.
              </div>
</div>
<div>
<div class="help-wrap">
<label for="backDTI">Back-end DTI (%) *</label>
<button aria-controls="backdti-tip" aria-expanded="false" aria-label="Show help on back-end DTI" class="help-btn" type="button">?</button>
</div>
<div class="input-group">
<input aria-describedby="backDTI-err backdti-tip" aria-required="true" autocomplete="off" class="control" id="backDTI" inputmode="decimal" max="55" min="20" placeholder="e.g., 36" step="0.5" type="number">
<span aria-hidden="true" class="unit">%</span>
</div>
<div aria-live="polite" class="error" id="backDTI-err" role="alert"></div>
<div class="tooltip" hidden="" id="backdti-tip">
                (Housing + other debts) ÷ gross income. A common cap is 36% for conventional; FHA/VA/USDA may differ.
              </div>
</div>
</div>
</fieldset>
<div class="grid" style="grid-template-columns:1fr 1fr;gap:.75rem;margin-top:1rem">
<button aria-label="Reset inputs" class="btn secondary" id="resetBtn" type="button">Reset</button>
<button aria-label="Calculate affordability" class="btn" id="calcBtn" type="button">Calculate</button>
</div>
</div>
<section aria-labelledby="results-heading" aria-live="polite" class="results" id="results" role="region">
<h2 id="results-heading">Results</h2>
<div aria-describedby="result-summary" class="kpis">
<div class="kpi">
<div class="label">Maximum home price</div>
<div class="value" id="maxPrice">$0</div>
</div>
<div class="kpi">
<div class="label">Estimated loan amount</div>
<div class="value" id="loanAmount">$0</div>
</div>
<div class="kpi">
<div class="label">Minimum down payment used</div>
<div class="value" id="downUsed">$0</div>
</div>
<div class="kpi">
<div class="label">Monthly mortgage (P&amp;I)</div>
<div class="value" id="piMonthly">$0</div>
</div>
</div>
<div class="breakdown" id="result-summary">
<h3>Monthly Cost Breakdown</h3>
<div class="row"><span>P&amp;I (principal + interest)</span><strong id="pi">$0</strong></div>
<div class="row"><span>Property taxes</span><strong id="taxes">$0</strong></div>
<div class="row"><span>Homeowners insurance</span><strong id="ins">$0</strong></div>
<div class="row"><span>HOA dues</span><strong id="hoaOut">$0</strong></div>
<div class="row"><span>PMI (if applicable)</span><strong id="pmiOut">$0</strong></div>
<div class="row total"><span>Total housing payment</span><strong id="housingTotal">$0</strong></div>
<div class="row"><span>Front-end DTI at this level</span><strong id="frontDTIout">0%</strong></div>
<div class="row"><span>Back-end DTI at this level</span><strong id="backDTIout">0%</strong></div>
</div>
</section>
</section>
<section aria-labelledby="methodology" class="card">
<h2 id="methodology">Data Source and Methodology</h2>
<p>
        Authoritative Data Source: Fannie Mae — Single-Family Selling Guide, Section B3-6 (Liability Assessment), specifically B3-6-05: Monthly Debt Obligations. Latest updates are published on Fannie Mae’s official site.
        <br>
        Reference: https://selling-guide.fanniemae.com/Selling-Guide/Origination-thru-Closing/Subpart-B3-Underwriting-Borrowers/Chapter-B3-6-Liability-Assessment/Section-B3-6-05-Monthly-Debt-Obligations/
        <br>
        Date accessed: 2025-09-13.
      </p>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
<p class="form-note">
        The calculator implements the standard amortization formula and applies adjustable front-end/back-end DTI guidelines commonly used for conventional underwriting. Actual approvals vary by lender, credit profile, loan program, and compensating factors.
      </p>
<h2>The Formula Explained</h2>
<div class="formula">
<p>
          Mortgage payment (principal and interest), with monthly rate r and n payments:
        </p>
<p class="math">
          $$ M = \begin{cases}
          \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\
          \dfrac{L}{n}, &amp; r = 0
          \end{cases} $$
        </p>
<p>Total monthly housing cost:</p>
<p class="math">
          $$ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $$
        </p>
<p>DTI constraints:</p>
<p class="math">
          $$ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $$
        </p>
<p>
          where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), I<sub>annual</sub> is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit.
          The calculator numerically solves for the highest P that satisfies the constraint.
        </p>
</div>
<h2>Glossary of Variables</h2>
<ul>
<li>Y — Annual gross income (USD).</li>
<li>D — Other monthly debts (USD).</li>
<li>α — Front-end DTI limit (e.g., 0.28).</li>
<li>β — Back-end DTI limit (e.g., 0.36).</li>
<li>P — Home purchase price (USD).</li>
<li>L — Loan amount = P − Down Payment (USD).</li>
<li>r — Monthly interest rate = APR / 12 (decimal).</li>
<li>n — Total number of payments = years × 12.</li>
<li>M — Monthly principal and interest payment (USD).</li>
<li>τ — Annual property tax rate (decimal of price).</li>
<li>I<sub>annual</sub> — Annual homeowners insurance (USD).</li>
<li>HOA — Monthly homeowners association dues (USD).</li>
<li>PMI — Monthly private mortgage insurance (USD) for down payments below 20% (approx. PMI<sub>rate</sub> × L / 12).</li>
<li>H — Total monthly housing cost = M + taxes + insurance + HOA + PMI (USD).</li>
</ul>
<h2>Come Funziona: Un Esempio Passo-Passo</h2>
<p>
        Inputs: Y = $120,000; D = $500; APR = 6.5%; term = 30y; down = 20%; τ = 1.2%; I<sub>annual</sub> = $1,200; HOA = $0; PMI rate = 0.5%; α = 28%; β = 36%.
      </p>
<ol>
<li>Monthly income = $120,000 / 12 = $10,000.</li>
<li>Front-end cap = 0.28 × $10,000 = $2,800.</li>
<li>Back-end cap = 0.36 × $10,000 − $500 = $3,100.</li>
<li>Allowed housing spend = min($2,800, $3,100) = $2,800.</li>
<li>Given r = 0.065 / 12 and n = 360, we solve for P so that H ≤ $2,800, where H = M + τP/12 + $1,200/12 + 0 + PMI.</li>
<li>With 20% down, PMI ≈ $0. Using numerical search, the maximum P that keeps H ≤ $2,800 is returned by the calculator in the Results above.</li>
</ol>
<p class="form-note">
        Note: Local taxes and insurance can change the result materially. Always validate with a lender for a pre-approval.
      </p>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What percentage of my income should housing cost?</summary>
<p>Many lenders use 28% (front-end DTI) for total housing costs and 36% (back-end DTI) for all debts. You can customize these limits in the calculator.</p>
</details>
<details>
<summary>Does this include taxes, insurance, HOA, and PMI?</summary>
<p>Yes. Property taxes are modeled as a percent of price; insurance is annual; HOA is monthly; PMI appears when down payment &lt; 20%.</p>
</details>
<details>
<summary>How does the interest rate affect affordability?</summary>
<p>Higher rates increase the monthly principal and interest payment M, reducing the maximum affordable price P for the same DTI limits.</p>
</details>
<details>
<summary>Can I change the loan term?</summary>
<p>Yes. Shorter terms (e.g., 15 years) increase M and typically reduce the affordable price compared to a 30-year term.</p>
</details>
<details>
<summary>When will PMI be removed?</summary>
<p>Conventional loans generally remove PMI when loan-to-value reaches 80% via scheduled amortization or a new appraisal. This tool includes PMI only if down payment is under 20% at purchase.</p>
</details>
<details>
<summary>Is this a pre-approval?</summary>
<p>No. This is an educational estimate. For binding terms, you need a lender’s pre-approval that considers credit, assets, reserves, and specific program rules.</p>
</details>
<details>
<summary>What if I have irregular income?</summary>
<p>Lenders typically average qualifying income over a period (e.g., 24 months for self-employed). Enter a conservative annual figure or consult your loan officer.</p>
</details>
<div class="author">
        Strumento sviluppato da <strong>Ugo Candido</strong>,. Contenuti verificati da,.
        <br>
        Ultima revisione per l'accuratezza in data: <time datetime="2025-09-13">September 13, 2025</time>.
      </div>
</section>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}\]</div>
  <pre class="auditspine-mono">M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp;amp; r &amp;gt; 0 \\ \dfrac{L}{n}, &amp;amp; r = 0 \end{cases}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI\]</div>
  <pre class="auditspine-mono">H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)\]</div>
  <pre class="auditspine-mono">H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Mortgage payment (principal and interest), with monthly rate r and n payments: $ M = \begin{cases} \dfrac{r \cdot L}{1 - (1 + r)^{-n}}, &amp; r &gt; 0 \\ \dfrac{L}{n}, &amp; r = 0 \end{cases} $ Total monthly housing cost: $ H = M + \frac{\tau \cdot P}{12} + \frac{I_{annual}}{12} + HOA + PMI $ DTI constraints: $ H \le \min\!\left( \alpha \cdot \frac{Y}{12},\ \beta \cdot \frac{Y}{12} - D \right) $ where L is loan amount, P is purchase price, Y is annual gross income, D is other monthly debt, τ is property tax rate (annual, as a decimal), Iannual is annual insurance, α is the front-end DTI limit, and β is the back-end DTI limit. The calculator numerically solves for the highest P that satisfies the constraint.</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><span class="auditspine-mono">P</span> = principal (loan amount) <em>(currency)</em></li>
<li><span class="auditspine-mono">r</span> = periodic interest rate (annual rate ÷ payments per year) <em>(1)</em></li>
<li><span class="auditspine-mono">n</span> = total number of payments (years × payments per year) <em>(count)</em></li>
<li><span class="auditspine-mono">M</span> = periodic payment for principal + interest <em>(currency)</em></li>
<li><span class="auditspine-mono">T</span> = property tax (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">I</span> = homeowners insurance (annual or monthly depending on input) <em>(currency)</em></li>
<li><span class="auditspine-mono">PMI</span> = private mortgage insurance (monthly) <em>(currency)</em></li>
<li><span class="auditspine-mono">HOA</span> = homeowners association dues (monthly) <em>(currency)</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
<script defer="">
    (function(){
      'use strict';

      const $ = (sel) => document.querySelector(sel);
      const fmtUSD = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0});
      const fmtUSD2 = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:2});
      const fmtPct1 = new Intl.NumberFormat('en-US',{style:'percent',maximumFractionDigits:1});
      const clamp = (val,min,max)=>Math.min(Math.max(val,min),max);

      // Inputs
      const income = $('#income');
      const dpPercentMode = $('#dp-percent-mode');
      const dpAmountMode = $('#dp-amount-mode');
      const downPercent = $('#downPercent');
      const downAmount = $('#downAmount');
      const rate = $('#rate');
      const term = $('#term');
      const taxRate = $('#taxRate');
      const insAnnual = $('#insAnnual');
      const hoa = $('#hoa');
      const pmiRate = $('#pmiRate');
      const otherDebts = $('#otherDebts');
      const frontDTI = $('#frontDTI');
      const backDTI = $('#backDTI');

      // Sections that toggle
      const dpPercentWrap = $('#dp-percent-wrap');
      const dpAmountWrap = $('#dp-amount-wrap');

      // Results
      const maxPrice = $('#maxPrice');
      const loanAmount = $('#loanAmount');
      const downUsed = $('#downUsed');
      const piMonthly = $('#piMonthly');

      const piOut = $('#pi');
      const taxesOut = $('#taxes');
      const insOut = $('#ins');
      const hoaOut = $('#hoaOut');
      const pmiOut = $('#pmiOut');
      const housingTotal = $('#housingTotal');
      const frontDTIout = $('#frontDTIout');
      const backDTIout = $('#backDTIout');

      // Errors
      const errs = {
        income: $('#income-err'),
        downPercent: $('#dp-percent-err'),
        downAmount: $('#dp-amount-err'),
        rate: $('#rate-err'),
        term: $('#term-err'),
        taxRate: $('#taxRate-err'),
        insAnnual: $('#insAnnual-err'),
        hoa: $('#hoa-err'),
        pmiRate: $('#pmiRate-err'),
        otherDebts: $('#otherDebts-err'),
        frontDTI: $('#frontDTI-err'),
        backDTI: $('#backDTI-err')
      };

      // Accessible tooltips
      function toggleTip(btn){
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.hidden = expanded;
      }
      document.querySelectorAll('.help-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>toggleTip(btn));
        btn.addEventListener('keydown', (e)=>{
          if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggleTip(btn); }
        });
      });

      // Mode switching
      function syncDpMode(){
        const isPercent = dpPercentMode.checked;
        dpPercentWrap.hidden = !isPercent;
        dpAmountWrap.hidden = isPercent;
        downPercent.toggleAttribute('disabled', !isPercent);
        downAmount.toggleAttribute('disabled', isPercent);
        downPercent.setAttribute('aria-required', String(isPercent));
        downAmount.setAttribute('aria-required', String(!isPercent));
      }
      dpPercentMode.addEventListener('change', syncDpMode);
      dpAmountMode.addEventListener('change', syncDpMode);

      // Validation
      function setError(input, msg){
        const id = input.id;
        if(errs[id]) errs[id].textContent = msg || '';
        input.setAttribute('aria-invalid', msg ? 'true' : 'false');
      }

      function requirePositive(input, min=0, msg='Please enter a valid value'){
        const v = Number(input.value);
        if(isNaN(v) || v < min){ setError(input, msg); return false; }
        setError(input, '');
        return true;
      }

      function validate(){
        let ok = true;
        ok &= requirePositive(income, 1, 'Enter your annual gross income (greater than 0)');
        if(dpPercentMode.checked){
          ok &= requirePositive(downPercent, 0, 'Enter a percentage between 0 and 100');
          if(!isNaN(Number(downPercent.value)) && (Number(downPercent.value) < 0 || Number(downPercent.value) > 100)){
            setError(downPercent, 'Down payment percent must be between 0% and 100%'); ok = false;
          }
        } else {
          ok &= requirePositive(downAmount, 0, 'Enter a non-negative dollar amount for your down payment');
        }
        ok &= requirePositive(rate, 0, 'Enter an APR of 0% to 30%');
        if(!isNaN(Number(rate.value)) && Number(rate.value) > 30){ setError(rate,'APR seems too high'); ok=false; }
        ok &= requirePositive(term, 5, 'Enter a loan term between 5 and 40 years');
        if(!isNaN(Number(term.value)) && Number(term.value) > 40){ setError(term,'Max allowed in this tool is 40 years'); ok=false; }
        ok &= requirePositive(taxRate, 0, 'Enter a tax rate between 0% and 10%');
        if(!isNaN(Number(taxRate.value)) && Number(taxRate.value) > 10){ setError(taxRate,'Tax rate over 10% is unlikely; please verify'); ok=false; }
        ok &= requirePositive(insAnnual, 0, 'Enter your estimated annual premium (can be $0)');
        ok &= requirePositive(hoa, 0, 'HOA dues can be $0 or higher');
        ok &= requirePositive(pmiRate, 0, 'Enter PMI rate 0%–3% (only used if down < 20%)');
        if(!isNaN(Number(pmiRate.value)) && Number(pmiRate.value) > 3){ setError(pmiRate,'PMI over 3% is unlikely'); ok=false; }
        ok &= requirePositive(otherDebts, 0, 'Enter $0 if you have no other monthly debts');
        ok &= requirePositive(frontDTI, 10, 'Front-end DTI should be between 10% and 50%');
        if(!isNaN(Number(frontDTI.value)) && Number(frontDTI.value) > 50){ setError(frontDTI,'Front-end DTI should be ≤ 50%'); ok=false; }
        ok &= requirePositive(backDTI, 20, 'Back-end DTI should be between 20% and 55%');
        if(!isNaN(Number(backDTI.value)) && Number(backDTI.value) > 55){ setError(backDTI,'Back-end DTI should be ≤ 55%'); ok=false; }
        return !!ok;
      }

      // On-blur validation
      [income, downPercent, downAmount, rate, term, taxRate, insAnnual, hoa, pmiRate, otherDebts, frontDTI, backDTI].forEach(inp=>{
        inp.addEventListener('blur', validate);
      });

      // Core calculation
      function monthlyPI(loan, apr, years){
        if(loan <= 0) return 0;
        const n = Math.round(years * 12);
        const r = (apr/100) / 12;
        if(r === 0) return loan / n;
        return (r * loan) / (1 - Math.pow(1+r, -n));
      }

      function monthlyBreakdownAtPrice(P){
        const isPercent = dpPercentMode.checked;
        const dp = isPercent ? (clamp(Number(downPercent.value||0),0,100)/100)*P : Math.min(Number(downAmount.value||0), P);
        const L = Math.max(0, P - dp);
        const M = monthlyPI(L, Number(rate.value||0), Number(term.value||0));
        const taxes = (clamp(Number(taxRate.value||0),0,100)/100) * P / 12;
        const ins = Number(insAnnual.value||0) / 12;
        const hoaM = Number(hoa.value||0);
        const pmi = (dp / P) < 0.20 ? (clamp(Number(pmiRate.value||0),0,100)/100) * L / 12 : 0;
        const H = M + taxes + ins + hoaM + pmi;
        return {dp, L, M, taxes, ins, hoaM, pmi, H};
      }

      function solveMaxPrice(){
        if(!validate()) return null;

        const Y = Number(income.value||0);
        const D = Number(otherDebts.value||0);
        const alpha = clamp(Number(frontDTI.value||0), 0, 100) / 100;
        const beta = clamp(Number(backDTI.value||0), 0, 100) / 100;

        const monthlyInc = Y / 12;
        const frontCap = alpha * monthlyInc;
        const backCap = beta * monthlyInc - D;
        const allowed = Math.max(0, Math.min(frontCap, backCap)); // housing budget

        if(allowed <= 0){
          return {
            P: 0,
            ...monthlyBreakdownAtPrice(0),
            frontCap, backCap, allowed
          };
        }

        // Binary search for P in [0, 3.5M]
        let lo = 0, hi = 3500000, best = 0, bestBD = monthlyBreakdownAtPrice(0);
        for(let i=0;i<60;i++){
          const mid = (lo + hi) / 2;
          const bd = monthlyBreakdownAtPrice(mid);
          if(bd.H <= allowed){
            best = mid; bestBD = bd; lo = mid;
          } else {
            hi = mid;
          }
        }
        return {
          P: best,
          ...bestBD,
          frontCap, backCap, allowed
        };
      }

      function render(){
        const res = solveMaxPrice();
        if(!res){ return; }

        const {P, L, dp, M, taxes, ins, hoaM, pmi, H, frontCap, backCap} = res;

        maxPrice.textContent = fmtUSD.format(P);
        loanAmount.textContent = fmtUSD.format(L);
        downUsed.textContent = fmtUSD.format(dp);
        piMonthly.textContent = fmtUSD.format(M);

        piOut.textContent = fmtUSD2.format(M);
        taxesOut.textContent = fmtUSD2.format(taxes);
        insOut.textContent = fmtUSD2.format(ins);
        hoaOut.textContent = fmtUSD2.format(hoaM);
        pmiOut.textContent = fmtUSD2.format(pmi);
        housingTotal.textContent = fmtUSD2.format(H);

        // Realized DTIs at solution
        const monthlyInc = Number(income.value||0)/12;
        const frontActual = monthlyInc > 0 ? H / monthlyInc : 0;
        const backActual = monthlyInc > 0 ? (H + Number(otherDebts.value||0)) / monthlyInc : 0;
        frontDTIout.textContent = fmtPct1.format(frontActual);
        backDTIout.textContent = fmtPct1.format(backActual);
      }

      // Defaults
      function setDefaults(){
        income.value = 120000;
        downPercent.value = 20;
        downAmount.value = 60000;
        rate.value = 6.5;
        term.value = 30;
        taxRate.value = 1.2;
        insAnnual.value = 1200;
        hoa.value = 0;
        pmiRate.value = 0.5;
        otherDebts.value = 500;
        frontDTI.value = 28;
        backDTI.value = 36;
        syncDpMode();
      }

      // Debounced recompute
      let t;
      function schedule(){
        clearTimeout(t);
        t = setTimeout(render, 80);
      }
      document.querySelectorAll('#calculator input').forEach(inp=>{
        inp.addEventListener('input', schedule);
      });

      // Buttons
      $('#calcBtn').addEventListener('click', ()=>{ if(validate()) render(); });
      $('#resetBtn').addEventListener('click', ()=>{
        Object.values(errs).forEach(e=>e.textContent='');
        document.querySelectorAll('#calculator input').forEach(i=>i.setAttribute('aria-invalid','false'));
        dpPercentMode.checked = true;
        setDefaults();
        render();
      });

      // Initialize
      setDefaults();
      render();
    })();
  </script>


</body></html>