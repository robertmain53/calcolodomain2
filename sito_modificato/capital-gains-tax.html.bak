<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/capital-gains-tax" />
    <title>Capital Gains Tax Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Capital Gains Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Capital Gains Tax Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Capital Gains Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/capital-gains-tax" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Capital Gains Tax Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Capital Gains Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "Capital Gains Tax Calculator", "item": "https://calcdomain.com/capital-gains-tax"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Capital Gains Tax Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Capital Gains Tax Calculator
              </h1>
              <p class="text-gray-600">
                Estimate short-term and long-term capital gains tax on your
                investments with a flexible, multi-asset calculator.
              </p>
            </header>

            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Capital Gains Tax Calculator
              </h2>

              <div class="mb-4 grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label
                    for="tax-year"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Tax year</label
                  >
                  <select
                    id="tax-year"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="2024" selected>
                      2024 (example U.S. brackets)
                    </option>
                    <option value="2023">2023 (example U.S. brackets)</option>
                  </select>
                </div>
                <div>
                  <label
                    for="country"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Country / regime</label
                  >
                  <select
                    id="country"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="us" selected>
                      Generic U.S.-style system
                    </option>
                    <option value="flat">Generic flat-rate system</option>
                  </select>
                </div>
                <div>
                  <label
                    for="filing-status"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Filing status</label
                  >
                  <select
                    id="filing-status"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="single" selected>Single</option>
                    <option value="married">Married filing jointly</option>
                    <option value="hoh">Head of household</option>
                  </select>
                </div>
              </div>

              <div class="mb-4 input-grid">
                <div>
                  <label
                    for="ordinary-income"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Ordinary taxable income (before capital gains)
                  </label>
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      type="number"
                      id="ordinary-income"
                      class="flex-1 min-w-0 block w-full border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      placeholder="e.g. 60000"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Used to determine which tax brackets your gains fall into.
                  </p>
                </div>
                <div>
                  <label
                    for="flat-rate"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Flat capital gains rate (if applicable)
                  </label>
                  <div class="flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="flat-rate"
                      class="flex-1 min-w-0 block w-full border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                      placeholder="e.g. 26"
                      value="26"
                    />
                    <span
                      class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >%</span
                    >
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Used only for the generic flat-rate regime.
                  </p>
                </div>
              </div>

              <div class="border border-gray-200 rounded-lg p-4 mb-4">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="font-semibold">Assets sold</h3>
                  <button
                    id="add-asset-btn"
                    type="button"
                    class="inline-flex items-center px-3 py-1.5 border border-blue-600 text-blue-600 text-sm font-medium rounded-md hover:bg-blue-50"
                  >
                    + Add asset
                  </button>
                </div>
                <div id="assets-container" class="space-y-4"></div>
                <p class="text-xs text-gray-500 mt-2">
                  Add each sale separately. The calculator will classify gains
                  as short-term or long-term based on holding period.
                </p>
              </div>

              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calculate-btn"
                  type="button"
                  class="inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700"
                >
                  Calculate capital gains tax
                </button>
                <button
                  id="reset-btn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-50"
                >
                  Reset
                </button>
                <span id="calc-error" class="text-sm text-red-600"></span>
              </div>

              <div
                id="results-section"
                class="hidden mt-4 border-t border-gray-200 pt-4"
              >
                <h3 class="font-semibold mb-3">Results summary</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                    <p
                      class="text-xs uppercase tracking-wide text-blue-700 font-semibold mb-1"
                    >
                      Short-term
                    </p>
                    <p class="text-sm text-gray-700">
                      Taxed at ordinary income rates.
                    </p>
                    <dl class="mt-2 text-sm">
                      <div class="flex justify-between">
                        <dt>Short-term gains</dt>
                        <dd id="st-gain" class="font-medium">$0</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Tax on short-term gains</dt>
                        <dd id="st-tax" class="font-semibold text-blue-700">
                          $0
                        </dd>
                      </div>
                    </dl>
                  </div>
                  <div
                    class="bg-green-50 border border-green-100 rounded-lg p-3"
                  >
                    <p
                      class="text-xs uppercase tracking-wide text-green-700 font-semibold mb-1"
                    >
                      Long-term
                    </p>
                    <p class="text-sm text-gray-700">
                      Preferential long-term capital gains rates.
                    </p>
                    <dl class="mt-2 text-sm">
                      <div class="flex justify-between">
                        <dt>Long-term gains</dt>
                        <dd id="lt-gain" class="font-medium">$0</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Tax on long-term gains</dt>
                        <dd id="lt-tax" class="font-semibold text-green-700">
                          $0
                        </dd>
                      </div>
                    </dl>
                  </div>
                </div>

                <div
                  class="bg-gray-50 border border-gray-200 rounded-lg p-3 mb-3"
                >
                  <dl class="text-sm space-y-1">
                    <div class="flex justify-between">
                      <dt class="font-medium">Net capital gain (all assets)</dt>
                      <dd id="net-gain" class="font-semibold">$0</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Estimated total capital gains tax</dt>
                      <dd id="total-tax" class="font-bold text-gray-900">$0</dd>
                    </div>
                    <div
                      class="flex justify-between text-xs text-gray-600 mt-1"
                    >
                      <dt>Effective tax rate on gains</dt>
                      <dd id="effective-rate">0%</dd>
                    </div>
                  </dl>
                </div>

                <details class="mt-2">
                  <summary class="text-sm text-blue-700 cursor-pointer">
                    Show detailed tax breakdown
                  </summary>
                  <div class="mt-3 overflow-x-auto">
                    <table
                      class="min-w-full text-sm border border-gray-200 rounded-lg results-table"
                    >
                      <thead class="bg-gray-100">
                        <tr>
                          <th
                            class="text-left font-semibold border-b border-gray-200"
                          >
                            Type
                          </th>
                          <th
                            class="text-right font-semibold border-b border-gray-200"
                          >
                            Taxable amount
                          </th>
                          <th
                            class="text-right font-semibold border-b border-gray-200"
                          >
                            Tax
                          </th>
                          <th
                            class="text-right font-semibold border-b border-gray-200"
                          >
                            Effective rate
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>Short-term gains</td>
                          <td id="tbl-st-gain" class="text-right">$0</td>
                          <td id="tbl-st-tax" class="text-right">$0</td>
                          <td id="tbl-st-rate" class="text-right">0%</td>
                        </tr>
                        <tr class="bg-gray-50">
                          <td>Long-term gains</td>
                          <td id="tbl-lt-gain" class="text-right">$0</td>
                          <td id="tbl-lt-tax" class="text-right">$0</td>
                          <td id="tbl-lt-rate" class="text-right">0%</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </details>

                <p class="mt-3 text-xs text-gray-500">
                  This tool uses simplified, generic tax brackets inspired by
                  U.S. rules and a configurable flat-rate regime for
                  illustration. It does not reflect every country\u2019s law or
                  special reliefs.
                </p>
              </div>
            </section>

            <section class="prose">
              <h2>How this capital gains tax calculator works</h2>
              <p>
                This calculator is designed to be more flexible than typical
                single-asset tools. You can:
              </p>
              <ul>
                <li>
                  Add multiple assets (stocks, ETFs, crypto, real estate, etc.).
                </li>
                <li>
                  Automatically classify each gain as short-term or long-term
                  based on holding period.
                </li>
                <li>
                  Model a progressive system (U.S.-style) or a simple flat-rate
                  regime.
                </li>
                <li>
                  See a clear breakdown of tax on short-term vs long-term gains.
                </li>
              </ul>

              <h3>1. Calculating the gain for each asset</h3>
              <p>For each sale, the calculator computes your gain or loss:</p>
              <div class="formula-box">
                <p>
                  <strong
                    >Gain (or loss) = Net sale proceeds − Cost basis</strong
                  >
                </p>
                <ul>
                  <li>
                    <strong>Net sale proceeds</strong> = Sale price − Selling
                    costs (commissions, fees).
                  </li>
                  <li>
                    <strong>Cost basis</strong> = Purchase price + Purchase
                    costs (commissions, fees).
                  </li>
                </ul>
              </div>
              <p>
                If the result is negative, you have a capital loss. Losses are
                netted against gains of the same type (short-term or long-term)
                in this simplified model.
              </p>

              <h3>2. Short-term vs long-term classification</h3>
              <p>The calculator compares the purchase date and sale date:</p>
              <ul>
                <li>
                  If the holding period is <strong>1 year or less</strong> →
                  treated as <strong>short-term</strong>.
                </li>
                <li>
                  If the holding period is <strong>more than 1 year</strong> →
                  treated as <strong>long-term</strong>.
                </li>
              </ul>
              <p>
                Many tax systems (e.g., U.S., U.K., Ireland) tax short-term
                gains at ordinary income rates and long-term gains at
                preferential rates or flat rates. Always check the exact holding
                period rules for your jurisdiction.
              </p>

              <h3>
                3. Tax calculation under a progressive (U.S.-style) system
              </h3>
              <p>
                When you select the generic U.S.-style system, the calculator
                uses example brackets for:
              </p>
              <ul>
                <li>
                  <strong>Ordinary income tax</strong> (for short-term gains).
                </li>
                <li>
                  <strong>Long-term capital gains tax</strong> (for long-term
                  gains).
                </li>
              </ul>
              <p>The steps are:</p>
              <ol>
                <li>
                  Start with your
                  <strong>ordinary taxable income</strong> (before capital
                  gains).
                </li>
                <li>
                  Add <strong>short-term gains</strong> and tax them using the
                  ordinary income brackets.
                </li>
                <li>
                  Add <strong>long-term gains</strong> on top and tax them using
                  the long-term capital gains brackets.
                </li>
              </ol>
              <p>The calculator then reports:</p>
              <ul>
                <li>Total short-term gains and tax.</li>
                <li>Total long-term gains and tax.</li>
                <li>
                  Combined capital gains tax and effective rate on your gains.
                </li>
              </ul>

              <h3>4. Tax calculation under a flat-rate regime</h3>
              <p>
                Many countries (for example, Italy\u2019s standard 26% rate on
                most financial gains, or some Nordic systems) apply a
                <strong>flat rate</strong> to capital gains.
              </p>
              <p>
                When you select the <strong>flat-rate regime</strong>, the
                calculator:
              </p>
              <ul>
                <li>
                  Ignores the distinction between short-term and long-term for
                  tax purposes.
                </li>
                <li>
                  Applies the <strong>flat rate you enter</strong> to your net
                  total gain.
                </li>
              </ul>
              <p>
                This is useful for approximating systems where capital income is
                separated from ordinary income and taxed at a fixed percentage.
              </p>

              <h2>
                Example: Estimating capital gains tax on a stock and a crypto
                sale
              </h2>
              <p>Suppose you have the following:</p>
              <ul>
                <li>
                  Ordinary taxable income (salary, etc.):
                  <strong>$60,000</strong>.
                </li>
                <li>
                  Stock A: bought for $10,000 in January 2022, sold for $18,000
                  in March 2024 (held &gt; 1 year).
                </li>
                <li>
                  Crypto B: bought for $5,000 in July 2024, sold for $7,000 in
                  November 2024 (held &lt;= 1 year).
                </li>
              </ul>
              <p>The calculator will:</p>
              <ol>
                <li>
                  Compute gains:
                  <ul>
                    <li>
                      Stock A gain = $18,000 − $10,000 =
                      <strong>$8,000</strong> (long-term).
                    </li>
                    <li>
                      Crypto B gain = $7,000 − $5,000 =
                      <strong>$2,000</strong> (short-term).
                    </li>
                  </ul>
                </li>
                <li>
                  Classify:
                  <ul>
                    <li>Stock A → long-term gain $8,000.</li>
                    <li>Crypto B → short-term gain $2,000.</li>
                  </ul>
                </li>
                <li>
                  Estimate tax using the chosen brackets and filing status.
                </li>
              </ol>

              <h2>Limitations and important notes</h2>
              <ul>
                <li>
                  This tool uses <strong>generic example brackets</strong> and
                  does not reflect every country\u2019s law.
                </li>
                <li>
                  It does not handle:
                  <ul>
                    <li>Wash sale rules.</li>
                    <li>Specific identification vs FIFO/LIFO lot selection.</li>
                    <li>
                      Special real estate exemptions (e.g., main home relief).
                    </li>
                    <li>
                      Tax-advantaged accounts (IRAs, ISAs, pension wrappers,
                      etc.).
                    </li>
                  </ul>
                </li>
                <li>
                  It assumes all amounts are in the same currency and ignores
                  foreign exchange effects.
                </li>
                <li>
                  Results are for <strong>education and planning only</strong>,
                  not official tax filings.
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>Is capital gains tax different from income tax?</h3>
              <p>
                In many systems, yes. Ordinary income (salary, interest,
                business income) is taxed using one set of rules, while capital
                gains may have separate rates, exemptions, or holding period
                requirements. Some countries, however, integrate capital gains
                into the general income tax base.
              </p>

              <h3>
                Do I pay capital gains tax every time I rebalance my portfolio?
              </h3>
              <p>
                You generally realize a capital gain or loss only when you
                <strong>sell</strong> an asset or otherwise dispose of it (e.g.,
                certain exchanges or redemptions). Rebalancing inside a
                tax-advantaged account may not trigger tax, but rebalancing in a
                taxable brokerage account usually does. Always check the rules
                for your account type and jurisdiction.
              </p>

              <h3>How can I reduce my capital gains tax?</h3>
              <p>Common strategies include:</p>
              <ul>
                <li>
                  Holding investments long enough to qualify for long-term
                  rates.
                </li>
                <li>
                  Harvesting losses to offset gains (subject to local rules).
                </li>
                <li>Using tax-advantaged accounts where available.</li>
                <li>
                  Spreading disposals across tax years to stay in lower
                  brackets.
                </li>
              </ul>
              <p>
                These strategies can be complex and may have side effects, so
                professional advice is recommended for large transactions.
              </p>

              <h3>Why does this calculator ask for my ordinary income?</h3>
              <p>
                In progressive systems, the tax rate applied to your capital
                gains depends on your <strong>overall income level</strong>.
                Your ordinary income fills the lower brackets first; your gains
                are then layered on top. Without your ordinary income, the
                calculator cannot place your gains into the correct brackets.
              </p>

              <p class="text-xs text-gray-500">
                Disclaimer: This calculator is for informational purposes only
                and does not constitute tax, legal, or investment advice. Tax
                laws change frequently and vary by jurisdiction. Always confirm
                your situation with official guidance or a qualified tax
                professional.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Capital, Gains, Tax, Tax year 2024 (example U.S. brackets) 2023 (example U.S. brackets) Country / regime Generic U.S.-style system Generic flat-rate system Filing status Single Married filing jointly Head of household Ordinary taxable income (before capital gains), Flat capital gains rate (if applicable), Asset name, Purchase date, Sale date.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2024 (example U.S. brackets) 2023 (example U.S. brackets) Country / regime Generic U.S.-style system Generic flat-rate system Filing status Single Married filing jointly Head of household Ordinary taxable income (before capital gains)</li><li>Flat capital gains rate (if applicable)</li><li>Asset name</li><li>Purchase date</li><li>Sale date</li><li>Purchase price</li><li>Sale price</li><li>Purchase costs</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Capital, Gains, Tax, Tax year 2024 (example U.S. brackets) 2023 (example U.S. brackets) Country / regime Generic U.S.-style system Generic flat-rate system Filing status Single Married filing jointly Head of household Ordinary taxable income (before capital gains), Flat capital gains rate (if applicable), Asset name, Purchase date, Sale date.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2024 (example U.S. brackets) 2023 (example U.S. brackets) Country / regime Generic U.S.-style system Generic flat-rate system Filing status Single Married filing jointly Head of household Ordinary taxable income (before capital gains)</li><li>Flat capital gains rate (if applicable)</li><li>Asset name</li><li>Purchase date</li><li>Sale date</li><li>Purchase price</li><li>Sale price</li><li>Purchase costs</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Finance & Tax Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/long-term-capital-gains-tax"
                  class="text-blue-600 hover:underline"
                  >Capital Gains Tax Calculator (Long-Term)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/short-term-capital-gains-tax"
                  class="text-blue-600 hover:underline"
                  >Capital Gains Tax Calculator (Short-Term)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Income Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                  >Take-Home Pay Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/net-worth"
                  class="text-blue-600 hover:underline"
                  >Net Worth Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/529-plan"
                  class="text-blue-600 hover:underline"
                  >College Savings (529 Plan)</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Tax Calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/tax-bracket-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Bracket Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reverse-sales-tax"
                  class="text-blue-600 hover:underline"
                  >Reverse Sales Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lottery-tax"
                  class="text-blue-600 hover:underline"
                  >Lottery Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/estate-tax"
                  class="text-blue-600 hover:underline"
                  >Estate Tax Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Tax data (simplified, illustrative only) ---
      const TAX_DATA = {
        us: {
          ordinary: {
            2024: {
              single: [
                { upTo: 11600, rate: 0.1 },
                { upTo: 47150, rate: 0.12 },
                { upTo: 100525, rate: 0.22 },
                { upTo: 191950, rate: 0.24 },
                { upTo: 243725, rate: 0.32 },
                { upTo: 609350, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
              married: [
                { upTo: 23200, rate: 0.1 },
                { upTo: 94300, rate: 0.12 },
                { upTo: 201050, rate: 0.22 },
                { upTo: 383900, rate: 0.24 },
                { upTo: 487450, rate: 0.32 },
                { upTo: 731200, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
              hoh: [
                { upTo: 16550, rate: 0.1 },
                { upTo: 63100, rate: 0.12 },
                { upTo: 100500, rate: 0.22 },
                { upTo: 191950, rate: 0.24 },
                { upTo: 243700, rate: 0.32 },
                { upTo: 609350, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
            },
            2023: {
              single: [
                { upTo: 11000, rate: 0.1 },
                { upTo: 44725, rate: 0.12 },
                { upTo: 95375, rate: 0.22 },
                { upTo: 182100, rate: 0.24 },
                { upTo: 231250, rate: 0.32 },
                { upTo: 578125, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
              married: [
                { upTo: 22000, rate: 0.1 },
                { upTo: 89450, rate: 0.12 },
                { upTo: 190750, rate: 0.22 },
                { upTo: 364200, rate: 0.24 },
                { upTo: 462500, rate: 0.32 },
                { upTo: 693750, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
              hoh: [
                { upTo: 15700, rate: 0.1 },
                { upTo: 59850, rate: 0.12 },
                { upTo: 95350, rate: 0.22 },
                { upTo: 182100, rate: 0.24 },
                { upTo: 231250, rate: 0.32 },
                { upTo: 578100, rate: 0.35 },
                { upTo: Infinity, rate: 0.37 },
              ],
            },
          },
          longTerm: {
            2024: {
              single: [
                { upTo: 47025, rate: 0.0 },
                { upTo: 518900, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
              married: [
                { upTo: 94050, rate: 0.0 },
                { upTo: 583750, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
              hoh: [
                { upTo: 63000, rate: 0.0 },
                { upTo: 551350, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
            },
            2023: {
              single: [
                { upTo: 44625, rate: 0.0 },
                { upTo: 492300, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
              married: [
                { upTo: 89250, rate: 0.0 },
                { upTo: 553850, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
              hoh: [
                { upTo: 59750, rate: 0.0 },
                { upTo: 523050, rate: 0.15 },
                { upTo: Infinity, rate: 0.2 },
              ],
            },
          },
        },
      };

      function parseDate(value) {
        const d = new Date(value);
        return isNaN(d.getTime()) ? null : d;
      }

      function yearDiff(start, end) {
        const msPerYear = 365.25 * 24 * 60 * 60 * 1000;
        return (end - start) / msPerYear;
      }

      function formatCurrency(num) {
        if (!isFinite(num)) return "$0";
        const sign = num < 0 ? "-" : "";
        const abs = Math.abs(num);
        return (
          sign +
          "$" +
          abs.toLocaleString(undefined, {
            maximumFractionDigits: 2,
            minimumFractionDigits: 2,
          })
        );
      }

      function formatPercent(num) {
        if (!isFinite(num)) return "0%";
        return (num * 100).toFixed(1).replace(/\.0$/, "") + "%";
      }

      function taxOnAdditionalIncome(brackets, baseIncome, additional) {
        if (additional <= 0) return 0;
        let tax = 0;
        let remaining = additional;
        let incomeSoFar = baseIncome;

        for (const bracket of brackets) {
          if (remaining <= 0) break;
          const bracketTop = bracket.upTo;
          if (incomeSoFar >= bracketTop) continue;
          const available = bracketTop - incomeSoFar;
          const taxableHere = Math.min(available, remaining);
          tax += taxableHere * bracket.rate;
          remaining -= taxableHere;
          incomeSoFar += taxableHere;
        }
        return tax;
      }

      function addAssetRow() {
        const container = document.getElementById("assets-container");
        const idx = container.children.length + 1;
        const row = document.createElement("div");
        row.className = "border border-gray-200 rounded-md p-3 relative";
        row.innerHTML = `
      <button type="button" class="absolute top-2 right-2 text-xs text-red-600 hover:underline remove-asset-btn">Remove</button>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-2">
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Asset name</label>
          <input type="text" class="asset-name w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. Stock A">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Purchase date</label>
          <input type="date" class="asset-buy-date w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Sale date</label>
          <input type="date" class="asset-sell-date w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
        </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Purchase price</label>
          <input type="number" class="asset-buy-price w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="10000">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Sale price</label>
          <input type="number" class="asset-sell-price w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="15000">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Purchase costs</label>
          <input type="number" class="asset-buy-costs w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="0">
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Selling costs</label>
          <input type="number" class="asset-sell-costs w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="0">
        </div>
      </div>
      <p class="mt-2 text-xs text-gray-500">
        Gain = (Sale price − Selling costs) − (Purchase price + Purchase costs). Holding period determines short-term vs long-term.
      </p>
    `;
        container.appendChild(row);
      }

      function resetCalculator() {
        document.getElementById("ordinary-income").value = "";
        document.getElementById("flat-rate").value = 26;
        document.getElementById("calc-error").textContent = "";
        document.getElementById("assets-container").innerHTML = "";
        addAssetRow();
        document.getElementById("results-section").classList.add("hidden");
      }

      function calculate() {
        const errorEl = document.getElementById("calc-error");
        errorEl.textContent = "";

        const taxYear = document.getElementById("tax-year").value;
        const country = document.getElementById("country").value;
        const filingStatus = document.getElementById("filing-status").value;
        const ordinaryIncome =
          parseFloat(document.getElementById("ordinary-income").value) || 0;
        const flatRate =
          parseFloat(document.getElementById("flat-rate").value) / 100 || 0;

        const assetRows = Array.from(
          document.querySelectorAll("#assets-container > div")
        );
        if (assetRows.length === 0) {
          errorEl.textContent = "Add at least one asset.";
          return;
        }

        let stGain = 0;
        let ltGain = 0;

        for (const row of assetRows) {
          const buyDate = parseDate(row.querySelector(".asset-buy-date").value);
          const sellDate = parseDate(
            row.querySelector(".asset-sell-date").value
          );
          const buyPrice =
            parseFloat(row.querySelector(".asset-buy-price").value) || 0;
          const sellPrice =
            parseFloat(row.querySelector(".asset-sell-price").value) || 0;
          const buyCosts =
            parseFloat(row.querySelector(".asset-buy-costs").value) || 0;
          const sellCosts =
            parseFloat(row.querySelector(".asset-sell-costs").value) || 0;

          if (!buyDate || !sellDate || isNaN(buyPrice) || isNaN(sellPrice)) {
            errorEl.textContent =
              "Please complete dates and prices for all assets.";
            return;
          }
          if (sellDate < buyDate) {
            errorEl.textContent = "Sale date cannot be before purchase date.";
            return;
          }

          const gain = sellPrice - sellCosts - (buyPrice + buyCosts);
          const years = yearDiff(buyDate, sellDate);
          const isLongTerm = years > 1.0;

          if (isLongTerm) {
            ltGain += gain;
          } else {
            stGain += gain;
          }
        }

        // Net gains (losses offset gains within each bucket)
        // For simplicity we don't cross-net ST vs LT.
        const netStGain = stGain;
        const netLtGain = ltGain;
        const netGain = netStGain + netLtGain;

        let stTax = 0;
        let ltTax = 0;

        if (country === "us") {
          const ordinaryBrackets =
            TAX_DATA.us.ordinary[taxYear]?.[filingStatus];
          const ltBrackets = TAX_DATA.us.longTerm[taxYear]?.[filingStatus];

          if (!ordinaryBrackets || !ltBrackets) {
            errorEl.textContent =
              "Tax data not available for the selected year/status.";
            return;
          }

          // Short-term gains taxed as ordinary income
          if (netStGain > 0) {
            stTax = taxOnAdditionalIncome(
              ordinaryBrackets,
              ordinaryIncome,
              netStGain
            );
          } else {
            stTax = 0; // ignoring loss carry rules
          }

          // Long-term gains taxed using LTCG brackets, with ordinary+ST income filling lower bands
          if (netLtGain > 0) {
            const baseForLT = ordinaryIncome + Math.max(netStGain, 0);
            ltTax = taxOnAdditionalIncome(ltBrackets, baseForLT, netLtGain);
          } else {
            ltTax = 0;
          }
        } else if (country === "flat") {
          const taxable = Math.max(netGain, 0);
          stTax = 0;
          ltTax = taxable * flatRate;
        }

        const totalTax = stTax + ltTax;
        const effectiveRate = netGain > 0 ? totalTax / netGain : 0;

        // Update UI
        document.getElementById("st-gain").textContent =
          formatCurrency(netStGain);
        document.getElementById("lt-gain").textContent =
          formatCurrency(netLtGain);
        document.getElementById("st-tax").textContent = formatCurrency(stTax);
        document.getElementById("lt-tax").textContent = formatCurrency(ltTax);
        document.getElementById("net-gain").textContent =
          formatCurrency(netGain);
        document.getElementById("total-tax").textContent =
          formatCurrency(totalTax);
        document.getElementById("effective-rate").textContent =
          formatPercent(effectiveRate);

        document.getElementById("tbl-st-gain").textContent =
          formatCurrency(netStGain);
        document.getElementById("tbl-lt-gain").textContent =
          formatCurrency(netLtGain);
        document.getElementById("tbl-st-tax").textContent =
          formatCurrency(stTax);
        document.getElementById("tbl-lt-tax").textContent =
          formatCurrency(ltTax);
        document.getElementById("tbl-st-rate").textContent =
          netStGain > 0 ? formatPercent(stTax / netStGain) : "0%";
        document.getElementById("tbl-lt-rate").textContent =
          netLtGain > 0 ? formatPercent(ltTax / netLtGain) : "0%";

        document.getElementById("results-section").classList.remove("hidden");
      }

      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("add-asset-btn")
          .addEventListener("click", addAssetRow);
        document
          .getElementById("calculate-btn")
          .addEventListener("click", calculate);
        document
          .getElementById("reset-btn")
          .addEventListener("click", resetCalculator);
        document
          .getElementById("assets-container")
          .addEventListener("click", (e) => {
            if (e.target.classList.contains("remove-asset-btn")) {
              const row = e.target.closest("div.border");
              if (
                row &&
                document.getElementById("assets-container").children.length > 1
              ) {
                row.remove();
              }
            }
          });
        resetCalculator();
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
