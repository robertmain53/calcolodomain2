<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/heart-rate-calculator" rel="canonical"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Heart Rate Calculator – Target Zones, HRmax &amp; Karvonen (HRR)
  </title>
  <meta content="Calculate your target heart rate zones using multiple HRmax formulas (Fox, Tanaka, HUNT, Gulati for women) and the Karvonen method (HRR). Includes step-by-step example, formulas in LaTeX, accessible UI, and expert guidance." name="description"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <!-- Tailwind (CDN) -->
  <script defer="" src="https://cdn.tailwindcss.com">
  </script>
  <!-- Chart.js (for optional zone visualization) -->
  <script defer="" src="https://cdn.jsdelivr.net/npm/chart.js">
  </script>
  <!-- MathJax for LaTeX formulas -->
  <script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <style>
   :root { --focus: #2563eb; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
    /* readable prose sizing */
    .prose { max-width: 68ch; }
    .prose h2 { font-size: 1.375rem; font-weight: 700; margin-top: 2rem; margin-bottom: 0.75rem; }
    .prose h3 { font-size: 1.125rem; font-weight: 700; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .prose p  { line-height: 1.65; margin-bottom: 0.9rem; }
    .prose ul, .prose ol { margin-left: 1.25rem; margin-bottom: 1rem; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    /* results container min-height to prevent CLS */
    #results { min-height: 16rem; }
    /* focus styles (WCAG) */
    :where(a, button, input, select, details, summary, textarea):focus-visible {
      outline: 3px solid var(--focus);
      outline-offset: 2px;
      border-radius: 8px;
    }
    /* Touch targets */
    .tap-target { min-height: 48px; min-width: 48px; }
    /* Print */
    @media print {
      body * { visibility: hidden; }
      #print-section, #print-section * { visibility: visible; }
      #print-section { position: absolute; inset: 0; }
      #zoneChartWrap { display: none !important; }
    }
  </style>
  <!-- JSON-LD: WebPage -->
  <script defer="" type="application/ld+json">
   {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Heart Rate Calculator – Target Zones, HRmax & Karvonen (HRR)",
    "url": "https://calcdomain.com/heart-rate-calculator",
    "inLanguage": "en",
    "description": "Calculate your target heart rate zones using multiple HRmax formulas (Fox, Tanaka, HUNT, Gulati for women) and the Karvonen method (HRR).",
    "author": { "@type": "Person", "name": "Ugo Candido" },
    "publisher": { "@type": "Organization", "name": "CalcDomain" },
    "about": [{ "@type": "Thing", "name": "Heart rate" }, { "@type": "Thing", "name": "Exercise intensity" }]
  }
  </script>
  <!-- JSON-LD: Breadcrumbs -->
  <script defer="" type="application/ld+json">
   {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com" },
      { "@type": "ListItem", "position": 2, "name": "Health & Fitness", "item": "https://calcdomain.com/health-fitness" },
      { "@type": "ListItem", "position": 3, "name": "Health Metrics", "item": "https://calcdomain.com/subcategories/health-metrics" },
      { "@type": "ListItem", "position": 4, "name": "Heart Rate Calculator", "item": "https://calcdomain.com/heart-rate-calculator" }
    ]
  }
  </script>
  <!-- JSON-LD: FAQPage -->
  <script defer="" type="application/ld+json">
   {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {"@type":"Question","name":"Which maximum heart rate formula should I use?","acceptedAnswer":{"@type":"Answer","text":"Fox (220 − age) is a rough rule; Tanaka (208 − 0.7 × age) and HUNT (211 − 0.64 × age) are research-backed for mixed populations. Gulati (206 − 0.88 × age) is recommended for women. Compare all and fine-tune with your real-world data."}},
      {"@type":"Question","name":"What is the Karvonen (HRR) method?","acceptedAnswer":{"@type":"Answer","text":"Karvonen uses heart rate reserve (HRR = HRmax − Resting HR) to compute target training heart rates: Target HR = Resting HR + %Intensity × HRR. It individualizes zones based on your resting HR."}},
      {"@type":"Question","name":"Are wrist wearables accurate for HR zones?","acceptedAnswer":{"@type":"Answer","text":"Wrist optical sensors can lag or drift during high-intensity or arm-dominant activities. Use a chest strap for best accuracy and validate zones with perceived exertion and pace/power where relevant."}},
      {"@type":"Question","name":"Do medications affect target heart rate?","acceptedAnswer":{"@type":"Answer","text":"Yes. Beta-blockers, some calcium channel blockers, and other medications blunt HR response. Consult your clinician; perceived exertion or power/pace may be better guides."}},
      {"@type":"Question","name":"What zone is best for fat loss or endurance?","acceptedAnswer":{"@type":"Answer","text":"Consistent Zone 2 (roughly 60–70% HRmax or 40–59% HRR) builds aerobic base and supports fat oxidation. Mix higher-intensity sessions judiciously for performance adaptations."}}
    ]
  }
  </script>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
         <section class="w-full lg:w-2/3">
          <!-- Breadcrumb -->
          <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
           <a class="hover:text-blue-600" href="https://calcdomain.com">
            Home
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/health-fitness">
            Health &amp; Fitness
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/subcategories/health-metrics">
            Health Metrics
           </a>
           »
           <span class="text-gray-900">
            Heart Rate Calculator
           </span>
          </nav>
          <div class="bg-white rounded-lg shadow p-6" id="print-section">
           <!-- 1) H1 -->
           <h1 class="text-3xl font-extrabold mb-2">
            heart rate calculator
           </h1>
           <!-- 2) Intro -->
           <p class="text-gray-700 mb-6">
            Instantly compute your target heart rate zones using multiple research-based HRmax formulas and the Karvonen (HRR) method.
            Ideal for athletes, coaches, clinicians, and anyone training by heart rate.
           </p>
           <!-- 3) Calculator UI -->
           <section aria-labelledby="calcHeading" class="space-y-6" id="calculator-ui">
            <h2 class="sr-only" id="calcHeading">
             Calculator inputs
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
             <!-- Age -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="age">
               Age
               <span aria-hidden="true" class="text-red-600">
                *
               </span>
              </label>
              <div class="flex items-start gap-2">
               <input aria-describedby="ageHelp ageError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="age" inputmode="numeric" max="100" min="10" step="1" type="number" value="35"/>
               <button aria-controls="ageHelp" aria-expanded="false" class="mt-1 px-3 py-2 border rounded-md tap-target" type="button">
                ?
               </button>
              </div>
              <p class="text-xs text-gray-600 mt-1" id="ageHelp">
               Enter your age in years (10–100). Used to estimate HRmax with the selected formula.
              </p>
              <p class="text-sm text-red-700 mt-1 hidden" id="ageError">
              </p>
             </div>
             <!-- Sex (for Gulati) -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="sex">
               Sex at birth
               <span class="text-gray-500 text-xs font-normal">
                (for Gulati formula)
               </span>
              </label>
              <select aria-describedby="sexHelp" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="sex">
               <option value="female">
                Female
               </option>
               <option selected="" value="male">
                Male
               </option>
               <option value="unspecified">
                Prefer not to say
               </option>
              </select>
              <p class="text-xs text-gray-600 mt-1" id="sexHelp">
               Gulati’s HRmax applies to women; others are unisex. The calculator will adapt.
              </p>
             </div>
             <!-- Resting HR -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="rhr">
               Resting Heart Rate (RHR, bpm)
               <span aria-hidden="true" class="text-red-600">
                *
               </span>
              </label>
              <div class="flex items-start gap-2">
               <input aria-describedby="rhrHelp rhrError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="rhr" max="120" min="30" step="1" type="number" value="60"/>
               <button aria-controls="rhrHelp" aria-expanded="false" class="mt-1 px-3 py-2 border rounded-md tap-target" type="button">
                ?
               </button>
              </div>
              <p class="text-xs text-gray-600 mt-1" id="rhrHelp">
               Measure on waking, before getting out of bed. Typical adult range is ~60–100 bpm.
              </p>
              <p class="text-sm text-red-700 mt-1 hidden" id="rhrError">
              </p>
             </div>
             <!-- HRmax method -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="method">
               HRmax Formula
               <span aria-hidden="true" class="text-red-600">
                *
               </span>
              </label>
              <div class="flex items-start gap-2">
               <select aria-describedby="methodHelp" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="method">
                <option value="fox">
                 Fox (220 − age)
                </option>
                <option selected="" value="tanaka">
                 Tanaka (208 − 0.7 × age)
                </option>
                <option value="hunt">
                 HUNT (211 − 0.64 × age)
                </option>
                <option value="gulati">
                 Gulati – women (206 − 0.88 × age)
                </option>
                <option value="custom">
                 Custom HRmax (enter below)
                </option>
               </select>
               <button aria-controls="methodHelp" aria-expanded="false" class="mt-1 px-3 py-2 border rounded-md tap-target" type="button">
                ?
               </button>
              </div>
              <p class="text-xs text-gray-600 mt-1" id="methodHelp">
               Compare formulas or set a custom HRmax validated by a lab test or race effort.
              </p>
             </div>
             <!-- Custom HRmax -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="customMax">
               Custom HRmax (bpm)
              </label>
              <input aria-describedby="customHelp customError" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="customMax" max="230" min="120" step="1" type="number" value=""/>
              <p class="text-xs text-gray-600 mt-1" id="customHelp">
               Only used if “Custom HRmax” is selected. Range 120–230 bpm.
              </p>
              <p class="text-sm text-red-700 mt-1 hidden" id="customError">
              </p>
             </div>
             <!-- Output units/info -->
             <div>
              <label class="block text-sm font-medium text-gray-900" for="zoneScale">
               Zone Scale
              </label>
              <select aria-describedby="zoneScaleHelp" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm tap-target" id="zoneScale">
               <option selected="" value="percentMax">
                % of HRmax (AHA 50–85%)
               </option>
               <option value="percentHRR">
                % of HRR (Karvonen)
               </option>
              </select>
              <p class="text-xs text-gray-600 mt-1" id="zoneScaleHelp">
               Switch between %HRmax and %HRR (more individualized).
              </p>
             </div>
            </div>
            <div class="flex flex-wrap items-center gap-3">
             <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 tap-target" id="calcBtn" type="button">
              Calculate zones
             </button>
             <button class="px-4 py-2 bg-white border rounded-md hover:bg-gray-50 tap-target" id="printBtn" type="button">
              Print results
             </button>
             <button class="px-4 py-2 bg-white border rounded-md hover:bg-gray-50 tap-target" id="resetBtn" type="button">
              Reset
             </button>
            </div>
           </section>
           <!-- 4) Results Area -->
           <section class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" id="results">
            <h2 class="text-lg font-bold text-blue-900 mb-4">
             Results
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
             <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-sm text-gray-600">
               Estimated HRmax
              </h3>
              <p class="text-2xl font-extrabold text-blue-700" id="hrmaxOut">
               —
              </p>
              <p class="text-xs text-gray-500 mt-1" id="hrmaxNote">
               Method: —
              </p>
             </div>
             <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-sm text-gray-600">
               Heart Rate Reserve (HRR)
              </h3>
              <p class="text-2xl font-extrabold text-blue-700" id="hrrOut">
               —
              </p>
              <p class="text-xs text-gray-500 mt-1">
               HRR = HRmax − Resting HR
              </p>
             </div>
             <div class="bg-white border rounded-lg p-4 text-center">
              <h3 class="text-sm text-gray-600">
               Recommended Moderate/Vigorous
              </h3>
              <p class="text-base font-semibold text-gray-900" id="recOut">
               —
              </p>
              <p class="text-xs text-gray-500 mt-1">
               Per AHA guidance
              </p>
             </div>
            </div>
            <!-- Zones tables -->
            <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
             <div class="bg-white border rounded-lg p-4">
              <h3 class="font-semibold mb-2">
               Zones by %HRmax
              </h3>
              <div class="overflow-x-auto">
               <table class="min-w-full text-sm">
                <thead class="bg-gray-100 text-gray-700">
                 <tr>
                  <th class="px-3 py-2 text-left">
                   Zone
                  </th>
                  <th class="px-3 py-2 text-right">
                   %HRmax
                  </th>
                  <th class="px-3 py-2 text-right">
                   BPM
                  </th>
                 </tr>
                </thead>
                <tbody id="zonesMaxBody">
                </tbody>
               </table>
              </div>
             </div>
             <div class="bg-white border rounded-lg p-4">
              <h3 class="font-semibold mb-2">
               Zones by %HRR (Karvonen)
              </h3>
              <div class="overflow-x-auto">
               <table class="min-w-full text-sm">
                <thead class="bg-gray-100 text-gray-700">
                 <tr>
                  <th class="px-3 py-2 text-left">
                   Zone
                  </th>
                  <th class="px-3 py-2 text-right">
                   %HRR
                  </th>
                  <th class="px-3 py-2 text-right">
                   BPM
                  </th>
                 </tr>
                </thead>
                <tbody id="zonesHrrBody">
                </tbody>
               </table>
              </div>
             </div>
            </div>
            <!-- Chart -->
            <div class="mt-6" id="zoneChartWrap">
             <div class="h-56">
              <canvas aria-label="Target heart rate zones chart" id="zoneChart">
              </canvas>
             </div>
            </div>
           </section>
          </div>
          <!-- 5) Authoritative Content Ecosystem -->
          <article class="bg-white p-6 rounded-lg shadow mt-8 prose">
           <h2>
            Data Source &amp; Methodology
           </h2>
           <p>
            <strong>
             AuthoritativeDataSource:
            </strong>
           </p>
           <ul>
            <li>
             <a class="text-blue-700 underline" href="https://www.heart.org/en/healthy-living/fitness/fitness-basics/target-heart-rates" rel="noopener" target="_blank">
              American Heart Association (AHA): Target Heart Rates
             </a>
             – Moderate 50–70% HRmax; Vigorous 70–85% HRmax.
            </li>
            <li>
             HRmax formulas:
             <ul>
              <li>
               Fox: \( HR_{\max} = 220 - \text{age} \) (rule of thumb/AHA page).
              </li>
              <li>
               Tanaka et al., 2001 (JACC): \( HR_{\max} = 208 - 0.7 \times \text{age} \).
               <a class="text-blue-700 underline" href="https://pubmed.ncbi.nlm.nih.gov/11153730/" rel="noopener" target="_blank">
                PubMed
               </a>
              </li>
              <li>
               HUNT study (Nes et al., 2013): \( HR_{\max} = 211 - 0.64 \times \text{age} \).
               <a class="text-blue-700 underline" href="https://pubmed.ncbi.nlm.nih.gov/22376273/" rel="noopener" target="_blank">
                PubMed
               </a>
              </li>
              <li>
               Gulati et al., 2010 (women): \( HR_{\max} = 206 - 0.88 \times \text{age} \).
               <a class="text-blue-700 underline" href="https://www.ahajournals.org/doi/10.1161/CIRCULATIONAHA.110.939249" rel="noopener" target="_blank">
                Circulation
               </a>
              </li>
             </ul>
            </li>
            <li>
             Karvonen (HRR) method: \( HR_{\text{target}} = HR_{\text{rest}} + \% \times (HR_{\max} - HR_{\text{rest}}) \). See overview:
             <a class="text-blue-700 underline" href="https://www.physiotutors.com/wiki/karvonen-formula/" rel="noopener" target="_blank">
              Physiotutors
             </a>
             .
            </li>
           </ul>
           <p>
            <em>
             Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.
            </em>
           </p>
           <h2>
            The Formula Explained
           </h2>
           <div class="formula-box">
            <p>
             <strong>
              Max HR (pick a formula):
             </strong>
            </p>
            <p>
             \( HR_{\max}^{\text{Fox}} = 220 - \text{age} \)   |  
              \( HR_{\max}^{\text{Tanaka}} = 208 - 0.7\,\text{age} \)   |  
              \( HR_{\max}^{\text{HUNT}} = 211 - 0.64\,\text{age} \)
             <br/>
             \( HR_{\max}^{\text{Gulati (women)}} = 206 - 0.88\,\text{age} \)
            </p>
            <p class="mt-2">
             <strong>
              Heart Rate Reserve (HRR):
             </strong>
             \( HRR = HR_{\max} - HR_{\text{rest}} \)
            </p>
            <p class="mt-2">
             <strong>
              Karvonen target:
             </strong>
             \( HR_{\text{target}} = HR_{\text{rest}} + \% \times HRR \)
            </p>
            <p class="mt-2">
             <strong>
              AHA zones (by %HRmax):
             </strong>
             Moderate \( \approx 50\!-\!70\% \), Vigorous \( \approx 70\!-\!85\% \).
            </p>
           </div>
           <h2>
            Glossary of Inputs &amp; Outputs
           </h2>
           <ul>
            <li>
             <strong>
              Age
             </strong>
             – your age in years; used to estimate HRmax.
            </li>
            <li>
             <strong>
              Sex at birth
             </strong>
             – required only if applying the Gulati (women) formula for HRmax.
            </li>
            <li>
             <strong>
              Resting Heart Rate (RHR)
             </strong>
             – morning pulse at rest; used for HRR and Karvonen targets.
            </li>
            <li>
             <strong>
              HRmax
             </strong>
             – estimated maximal heart rate from a chosen formula or custom measurement.
            </li>
            <li>
             <strong>
              HRR
             </strong>
             – Heart Rate Reserve: HRmax − RHR.
            </li>
            <li>
             <strong>
              Zones by %HRmax
             </strong>
             – bands defined by a percentage of HRmax (e.g., 60–70%).
            </li>
            <li>
             <strong>
              Zones by %HRR
             </strong>
             – Karvonen zones accounting for your resting heart rate.
            </li>
           </ul>
           <h2>
            How It Works: A Step-by-Step Example
           </h2>
           <h3>
            Example – 35-year-old, female, RHR = 60 bpm, Tanaka method
           </h3>
           <ol>
            <li>
             Compute HRmax (Tanaka): \( 208 - 0.7 \times 35 = 208 - 24.5 = 183.5 \) → ~184 bpm.
            </li>
            <li>
             Compute HRR: \( HRR = 184 - 60 = 124 \) bpm.
            </li>
            <li>
             Zone 2 by %HRmax (60–70%): \( 0.60 \times 184 = 110 \) to \( 0.70 \times 184 = 129 \) bpm.
            </li>
            <li>
             Zone 2 by %HRR (40–59% HRR): \( 60 + (0.40 \times 124) = 110 \) to \( 60 + (0.59 \times 124) \approx 133 \) bpm.
            </li>
           </ol>
           <p>
            Karvonen adjusts targets by your RHR, often aligning better with your perceived effort and training data.
           </p>
           <h2>
            Frequently Asked Questions
           </h2>
           <details>
            <summary>
             How do I choose between %HRmax and %HRR?
            </summary>
            <p>
             %HRR (Karvonen) is more individualized because it accounts for your resting HR. If you have reliable RHR, prefer %HRR; otherwise, %HRmax is acceptable for general guidance.
            </p>
           </details>
           <details>
            <summary>
             What zone ranges do you use?
            </summary>
            <p>
             By %HRmax: Z1 50–60%, Z2 60–70%, Z3 70–80%, Z4 80–90%, Z5 90–100%. By %HRR (Karvonen): Z1 30–39%, Z2 40–59%, Z3 60–69%, Z4 70–84%, Z5 85–100%.
            </p>
           </details>
           <details>
            <summary>
             Can I enter a custom HRmax?
            </summary>
            <p>
             Yes. If you have a lab test or well-paced race/field test yielding a credible peak HR, select “Custom HRmax”.
            </p>
           </details>
           <details>
            <summary>
             Are these medical recommendations?
            </summary>
            <p>
             No. This tool is for educational purposes only. Consult your clinician before starting or changing an exercise program, especially if you have medical conditions or take HR-affecting medications.
            </p>
           </details>
           <details>
            <summary>
             Do these formulas work for every individual?
            </summary>
            <p>
             No formula predicts HRmax perfectly. They are population averages with standard errors. Validate and refine with your training data where possible.
            </p>
           </details>
           <div class="mt-6 p-4 bg-gray-50 border rounded text-sm text-gray-700">
            <p>
             <strong>
              Tool developed by Ugo Candido.
             </strong>
             Content verified by CalcDomain Editorial Board.
             <br/>
             Last accuracy review:
             <time datetime="2025-10-30">
              October 30, 2025
             </time>
            </p>
           </div>
          </article>
         </section>
         <!-- Sidebar -->
         <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-6">
           <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
           </div>
           <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">
             Why this calculator is different
            </h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
             <li>
              Multiple HRmax formulas (Fox, Tanaka, HUNT, Gulati) + custom override.
             </li>
             <li>
              Dual view: %HRmax (AHA) and %HRR (Karvonen) for individualized targets.
             </li>
             <li>
              WCAG-accessible UI with inline validation and print-friendly output.
             </li>
            </ul>
           </div>
           <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-4">
             Related health tools
            </h3>
            <ul class="space-y-3 text-sm">
             <li>
              <a class="text-blue-700 hover:underline" href="https://calcdomain.com/bmi-calculator">
               BMI Calculator
              </a>
             </li>
             <li>
              VO₂max Estimator
             </li>
             <li>
              <a class="text-blue-700 hover:underline" href="https://calcdomain.com/calorie">
               Calorie &amp; TDEE Calculator
              </a>
             </li>
             <li>
              Pace &amp; Zone Planner
             </li>
            </ul>
           </div>
          </div>
         </aside>
        </div>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <!-- Calculator Logic (defer in head per spec; kept here at end for clarity and to avoid blocking) -->
  <script defer="">
   document.addEventListener('DOMContentLoaded', () => {
    // Elements
    const el = {
      age:        document.getElementById('age'),
      sex:        document.getElementById('sex'),
      rhr:        document.getElementById('rhr'),
      method:     document.getElementById('method'),
      customMax:  document.getElementById('customMax'),
      zoneScale:  document.getElementById('zoneScale'),
      calcBtn:    document.getElementById('calcBtn'),
      printBtn:   document.getElementById('printBtn'),
      resetBtn:   document.getElementById('resetBtn'),
      // errors
      ageError:   document.getElementById('ageError'),
      rhrError:   document.getElementById('rhrError'),
      customError:document.getElementById('customError'),
      // outputs
      hrmaxOut:   document.getElementById('hrmaxOut'),
      hrmaxNote:  document.getElementById('hrmaxNote'),
      hrrOut:     document.getElementById('hrrOut'),
      recOut:     document.getElementById('recOut'),
      zonesMaxBody: document.getElementById('zonesMaxBody'),
      zonesHrrBody: document.getElementById('zonesHrrBody')
    };

    // Accessible tooltip toggles (for all "?" buttons near labels)
    document.querySelectorAll('label + div > button[aria-controls]').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('aria-controls');
        const tgt = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tgt.classList.toggle('hidden', expanded);
      });
      // Start tooltips visible (we keep them visible by default for clarity)
    });

    // Validation helpers
    function setError(elErr, msg, input) {
      elErr.textContent = msg;
      elErr.classList.remove('hidden');
      if (input) input.setAttribute('aria-invalid', 'true');
    }
    function clearError(elErr, input) {
      elErr.textContent = '';
      elErr.classList.add('hidden');
      if (input) input.removeAttribute('aria-invalid');
    }

    function validateAge() {
      const v = Number(el.age.value);
      if (!Number.isFinite(v) || v < 10 || v > 100) {
        setError(el.ageError, 'Please enter an age between 10 and 100 years.', el.age);
        return false;
      }
      clearError(el.ageError, el.age);
      return true;
    }
    function validateRhr() {
      const v = Number(el.rhr.value);
      if (!Number.isFinite(v) || v < 30 || v > 120) {
        setError(el.rhrError, 'Resting HR should be between 30 and 120 bpm. Measure on waking for accuracy.', el.rhr);
        return false;
      }
      clearError(el.rhrError, el.rhr);
      return true;
    }
    function validateCustom() {
      if (el.method.value !== 'custom') { clearError(el.customError, el.customMax); return true; }
      const v = Number(el.customMax.value);
      if (!Number.isFinite(v) || v < 120 || v > 230) {
        setError(el.customError, 'Custom HRmax must be between 120 and 230 bpm.', el.customMax);
        return false;
      }
      clearError(el.customError, el.customMax);
      return true;
    }

    // On-blur validation (per spec)
    el.age.addEventListener('blur', validateAge);
    el.rhr.addEventListener('blur', validateRhr);
    el.customMax.addEventListener('blur', validateCustom);
    el.method.addEventListener('change', validateCustom);

    // HRmax calculators
    function hrmax(age, method, sex, customVal) {
      switch (method) {
        case 'fox':   return 220 - age;
        case 'tanaka':return 208 - 0.7 * age;
        case 'hunt':  return 211 - 0.64 * age;
        case 'gulati':return sex === 'female' ? 206 - 0.88 * age : 208 - 0.7 * age; // fallback to Tanaka if not female
        case 'custom':return Number(customVal) || NaN;
        default:      return 208 - 0.7 * age;
      }
    }

    // Zones
    const ZONES_MAX = [
      { name: 'Z1 (Warm-up/Recovery)', lo: 0.50, hi: 0.60 },
      { name: 'Z2 (Endurance/Base)',  lo: 0.60, hi: 0.70 },
      { name: 'Z3 (Tempo/Aerobic)',   lo: 0.70, hi: 0.80 },
      { name: 'Z4 (Threshold)',       lo: 0.80, hi: 0.90 },
      { name: 'Z5 (VO₂max)',          lo: 0.90, hi: 1.00 }
    ];
    const ZONES_HRR = [
      { name: 'Z1 (Recovery)', lo: 0.30, hi: 0.39 },
      { name: 'Z2 (Endurance)',lo: 0.40, hi: 0.59 },
      { name: 'Z3 (Tempo)',    lo: 0.60, hi: 0.69 },
      { name: 'Z4 (Thresh.)',  lo: 0.70, hi: 0.84 },
      { name: 'Z5 (VO₂max)',   lo: 0.85, hi: 1.00 }
    ];

    // Formatters
    const fmt = (n) => Math.round(n);
    const bpm = (n) => Number.isFinite(n) ? `${fmt(n)} bpm` : '—';

    // Render zone tables
    function renderMaxZones(max) {
      el.zonesMaxBody.innerHTML = '';
      ZONES_MAX.forEach(z => {
        const lo = z.lo * max, hi = z.hi * max;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="px-3 py-2 text-left">${z.name}</td>
          <td class="px-3 py-2 text-right">${fmt(z.lo*100)}–${fmt(z.hi*100)}%</td>
          <td class="px-3 py-2 text-right">${fmt(lo)}–${fmt(hi)} bpm</td>`;
        el.zonesMaxBody.appendChild(tr);
      });
    }
    function renderHrrZones(max, rhr) {
      el.zonesHrrBody.innerHTML = '';
      const hrr = max - rhr;
      ZONES_HRR.forEach(z => {
        const lo = rhr + z.lo * hrr, hi = rhr + z.hi * hrr;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="px-3 py-2 text-left">${z.name}</td>
          <td class="px-3 py-2 text-right">${fmt(z.lo*100)}–${fmt(z.hi*100)}%</td>
          <td class="px-3 py-2 text-right">${fmt(lo)}–${fmt(hi)} bpm</td>`;
        el.zonesHrrBody.appendChild(tr);
      });
      return hrr;
    }

    // Chart
    let chart;
    function renderChart(max, rhr) {
      const ctx = document.getElementById('zoneChart');
      if (!ctx) return;
      const hrr = max - rhr;

      // Show midpoints of Z2-Z5 to visualize targets (HRR scale)
      const mids = ZONES_HRR.map(z => rhr + ((z.lo + z.hi)/2) * hrr);
      const labels = ZONES_HRR.map(z => z.name);

      const data = {
        labels,
        datasets: [{
          label: 'Midpoint (Karvonen, bpm)',
          data: mids
        }]
      };
      const options = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          y: { title: { display: true, text: 'BPM' }, beginAtZero: false }
        }
      };

      if (chart) { chart.data = data; chart.options = options; chart.update(); }
      else { chart = new Chart(ctx, { type: 'bar', data, options }); }
    }

    function recommendText(max, rhr) {
      const modLo = 0.50 * max, modHi = 0.70 * max;
      const vigLo = 0.70 * max, vigHi = 0.85 * max;
      return `Moderate ~ ${fmt(modLo)}–${fmt(modHi)} bpm; Vigorous ~ ${fmt(vigLo)}–${fmt(vigHi)} bpm`;
    }

    function calculate() {
      if (!(validateAge() & validateRhr() & validateCustom())) return;

      const age = Number(el.age.value);
      const rhr = Number(el.rhr.value);
      const method = el.method.value;
      const sex = el.sex.value;
      const customVal = el.customMax.value;

      let max = hrmax(age, method, sex, customVal);
      if (!Number.isFinite(max) || max <= rhr + 10) {
        setError(el.customError, 'Computed HRmax is too low relative to RHR; check inputs or use Custom HRmax.', null);
        return;
      } else {
        clearError(el.customError, null);
      }

      // Outputs
      el.hrmaxOut.textContent = bpm(max);
      el.hrmaxNote.textContent = `Method: ${method === 'custom' ? 'Custom' :
        method === 'fox' ? 'Fox (220−age)' :
        method === 'tanaka' ? 'Tanaka (208−0.7×age)' :
        method === 'hunt' ? 'HUNT (211−0.64×age)' :
        'Gulati (women, 206−0.88×age)'}`;

      const hrr = renderHrrZones(max, rhr);
      el.hrrOut.textContent = bpm(hrr);
      renderMaxZones(max);
      el.recOut.textContent = recommendText(max, rhr);

      renderChart(max, rhr);
    }

    // Events
    el.calcBtn.addEventListener('click', calculate);
    el.printBtn.addEventListener('click', () => window.print());
    el.resetBtn.addEventListener('click', () => {
      el.age.value = 35; el.sex.value = 'male'; el.rhr.value = 60;
      el.method.value = 'tanaka'; el.customMax.value = ''; el.zoneScale.value = 'percentMax';
      el.hrmaxOut.textContent = '—'; el.hrrOut.textContent = '—'; el.recOut.textContent = '—';
      el.zonesMaxBody.innerHTML = ''; el.zonesHrrBody.innerHTML = '';
      if (window.MathJax && MathJax.typeset) MathJax.typeset();
    });

    // Auto-run initial calc
    calculate();
  });
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
