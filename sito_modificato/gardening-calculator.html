<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/gardening-calculator">





  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gardening Calculator – Soil Volume, Plant Count, Mulch &amp; Bags</title>
  <meta name="description" content="All-in-one gardening calculator: soil volume for beds and planters, plant counts by spacing (square or hex packing), mulch depth, and bag estimates. Perfect for raised beds and square-foot gardening.">
  
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com" defer=""></script>
  <!-- Chart.js (for blend/volume visualization) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer=""></script>
  <!-- MathJax for LaTeX formulas -->
  <script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root { --focus: #2563eb; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; }
    .prose { max-width: 70ch; }
    .prose h2 { font-size: 1.375rem; line-height: 1.2; margin-top: 2rem; margin-bottom: 0.75rem; font-weight: 700; }
    .prose h3 { font-size: 1.125rem; margin-top: 1.25rem; margin-bottom: 0.5rem; font-weight: 600; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:0.85rem; overflow-x:auto; }
    .result-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:1rem; text-align:center; min-height:4.5rem; }
    .result-card h4 { font-size:0.95rem; color:#374151; margin-bottom:0.25rem; }
    .result-card p { font-size:1.45rem; font-weight:800; color:#2563eb; }
    .help-btn { width: 44px; height: 44px; min-width:44px; min-height:44px; display:inline-flex; align-items:center; justify-content:center; border-radius:8px; border:1px solid #d1d5db; }
    .help-panel { display:none; margin-top:0.5rem; font-size:0.875rem; color:#374151; }
    .help-panel[aria-hidden="false"] { display:block; }
    .err { color:#b91c1c; font-size:0.875rem; margin-top:0.375rem; }
    input, select, button, summary { outline-offset: 2px; }
    input:focus, select:focus, button:focus, a:focus, summary:focus { box-shadow: 0 0 0 3px rgba(37,99,235,.5); border-color: var(--focus); }
    /* CLS guard: keep results area from jumping */
    #results { min-height: 260px; }
    /* Print */
    @media print {
      body * { visibility: hidden; }
      #print-section, #print-section * { visibility: visible; }
      #print-section { position: absolute; left:0; top:0; width:100%; }
      #results-chart-container { display:none !important; }
    }
  </style>

  <!-- Primary WebPage Schema -->
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Gardening Calculator",
  "url": "https://calcdomain.com/gardening-calculator",
  "inLanguage": "en",
  "description": "All-in-one gardening calculator for soil volume, mulch depth, plant spacing counts (square/hex packing), and bag estimates.",
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>

  <!-- Breadcrumbs Schema -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Lifestyle & Everyday",
      "item": "https://calcdomain.com/categories/lifestyle-everyday"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Hobbies",
      "item": "https://calcdomain.com/subcategories/hobbies"
    }
  ]
}
</script>

  <!-- HowTo Schema -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to plan garden materials and plant counts",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Choose mode",
      "text": "Select Soil Volume, Mulch, or Plant Spacing."
    },
    {
      "@type": "HowToStep",
      "name": "Enter dimensions",
      "text": "Input bed length, width, depth and pick units."
    },
    {
      "@type": "HowToStep",
      "name": "Pick options",
      "text": "Select spacing strategy (square or hex) and bag size."
    },
    {
      "@type": "HowToStep",
      "name": "Review outputs",
      "text": "See cubic yards/meters, number of bags, and plant counts."
    }
  ]
}
</script>

  <!-- FAQPage Schema -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How do I estimate soil volume for a raised bed?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Multiply inside length × width × depth to get volume. Convert to cubic yards or liters for ordering and to bag counts using your bag size."
      }
    },
    {
      "@type": "Question",
      "name": "Square vs hex spacing—what’s the difference?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Hexagonal packing is more efficient (~9% higher density) than square. Use it for intensive plantings where airflow allows."
      }
    },
    {
      "@type": "Question",
      "name": "How many soil bags do I need?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Divide total volume by bag volume. Set your bag size (e.g., 50 L or 2 cu ft) to see the count."
      }
    },
    {
      "@type": "Question",
      "name": "What mulch depth should I use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Most beds use 2–3 inches (5–7.5 cm). Adjust for climate, weed pressure, and material type."
      }
    },
    {
      "@type": "Question",
      "name": "Do these results include soil settling?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No. Add 10–20% extra for settling, especially for fresh mixes with high organic content."
      }
    },
    {
      "@type": "Question",
      "name": "Can I mix a custom raised-bed blend?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Use the Blend tab to allocate percentages for compost, topsoil, and aeration (or your own components) and see volumes per component."
      }
    },
    {
      "@type": "Question",
      "name": "Does the calculator support metric and imperial?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, switch units per field (ft/m for dimensions; results display cubic feet, yards, meters, liters and bag counts."
      }
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky for mobile ergonomics) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="https://calcdomain.com" class="text-2xl font-extrabold text-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 rounded">CalcDomain</a>
      
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Volume (rectangular bed): \( V = L \times W \times D \). Unit conversions: \( 1\,\text{ft}^3=28.3168466\,\text{L} \), \( 1\,\text{yd}^3=27\,\text{ft}^3 \), \( 1\,\text{m}^3=1000\,\text{L} \). Bag count: \( \text{Bags}=\left\lceil \dfrac{V}{V_{\text{bag}}} \right\rceil \). Plant count (square grid) (with area \(A=L\times W\), spacing \(s\)): \( N_{\square} \approx \left\lfloor \dfrac{A}{s^2} \right\rfloor \). Plant count (hex packing): \( N_{\hexagon} \approx \left\lfloor \dfrac{\eta_{\mathrm{hex}}\,A}{s^2} \right\rfloor \), where \( \eta_{\mathrm{hex}}\approx0.9069 \). Blend components for total volume \(V\) and percentages \(p_i\): \( V_i = p_i \times V \).</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST SI Units</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/owm/si-units" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/owm/si-units</a></li>
<li><strong>Home</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/" target="_blank" rel="nofollow noopener">https://calcdomain.com/</a></li>
<li><strong>Lifestyle Everyday</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/lifestyle-everyday" target="_blank" rel="nofollow noopener">https://calcdomain.com/lifestyle-everyday</a></li>
<li><strong>Hobbies</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/subcategories/hobbies" target="_blank" rel="nofollow noopener">https://calcdomain.com/subcategories/hobbies</a></li>
<li><strong>Soil &amp; Mulch Depth Planner</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/soil-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/soil-calculator</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
      </section>

      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-6">
          <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
          </div>
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-3">Why this beats typical garden tools</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>One page for soil, mulch, spacing, and blends.</li>
              <li>Square or hex packing with airflow adjustment.</li>
              <li>Clear bag counts in liters or cubic feet.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-4">Related tools</h3>
            <ul class="space-y-3 text-sm">
              <li><a href="https://calcdomain.com/soil-calculator" class="text-blue-600 hover:underline">Soil &amp; Mulch Depth Planner</a></li>
              <li>Square-Foot Gardening Helper</li>
              <li>Raised Bed Layout Planner</li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>















  <!-- Calculator Logic (defer placed just before </body>) -->
  <script defer="">
  document.addEventListener('DOMContentLoaded', () => {
    const $ = (id) => document.getElementById(id);
    const el = {
      mode: $('mode'),
      unitLength: $('unitLength'),
      unitDepth: $('unitDepth'),
      length: $('length'),
      width: $('width'),
      depth: $('depth'),
      spacingRow: $('spacingRow'),
      spacing: $('spacing'),
      packing: $('packing'),
      airflow: $('airflow'),
      bagRow: $('bagRow'),
      bagSystem: $('bagSystem'),
      bagSize: $('bagSize'),
      wastage: $('wastage'),
      blendRow: $('blendRow'),
      compA: $('compA'), compB: $('compB'), compC: $('compC'),
      blendErr: $('blendErr'),
      outVolume: $('outVolume'), outBags: $('outBags'), outPlants: $('outPlants'), outBlend: $('outBlend'),
      outFt3: $('outFt3'), outYd3: $('outYd3'), outM3: $('outM3'), outL: $('outL'),
    };

    // Error nodes
    const errs = {
      mode: $('modeErr'),
      length: $('lengthErr'),
      width: $('widthErr'),
      depth: $('depthErr'),
      spacing: $('spacingErr'),
      bag: $('bagErr')
    };

    // Help toggles
    document.querySelectorAll('.help-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('aria-controls');
        const panel = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.setAttribute('aria-hidden', String(expanded));
      });
    });

    // Unit helpers
    const cmToM = (cm) => cm / 100;
    const inToFt = (inch) => inch / 12;
    const ftToM = (ft) => ft * 0.3048;
    const mToFt = (m) => m / 0.3048;
    const ft3ToL = (ft3) => ft3 * 28.316846592;
    const LToFt3 = (L) => L / 28.316846592;

    function getLengthInFeet(val, unit) {
      const v = parseFloat(val) || 0;
      return unit === 'ft' ? v : mToFt(v);
    }
    function getDepthInFeet(val, unit) {
      const v = parseFloat(val) || 0;
      return unit === 'in' ? inToFt(v) : inToFt(v / 2.54); // cm -> in -> ft
    }

    // Validation on blur
    function validateNum(input, key, opts={minInclusive:true}) {
      const v = input.value.trim();
      const num = Number(v);
      let msg = '';
      if (v === '' || isNaN(num)) msg = 'Please enter a number.';
      else if ((opts.minInclusive && num < 0) || (!opts.minInclusive && num <= 0)) msg = 'Value must be positive.';
      errs[key].textContent = msg;
      return !msg;
    }

    [el.length, el.width, el.depth, el.spacing, el.bagSize].forEach(i => {
      i && i.addEventListener('blur', () => {
        const key = i.id === 'bagSize' ? 'bag' : i.id;
        validateNum(i, key, {minInclusive:false});
      });
    });

    // Show/hide rows based on mode
    function updateModeUI() {
      const mode = el.mode.value;
      const spacingOn = mode === 'spacing';
      const blendOn = mode === 'blend';
      el.spacingRow.classList.toggle('hidden', !spacingOn);
      el.bagRow.classList.toggle('hidden', spacingOn); // bags irrelevant for spacing
      el.blendRow.classList.toggle('hidden', !blendOn);
    }

    // Chart
    let chart;
    function renderChart(volFt3, blendVolumesFt3) {
      const ctx = document.getElementById('resultsChart');
      if (!ctx) return;

      let labels = ['Total Volume (ft³)'];
      let data = [Math.max(0, volFt3)];
      if (blendVolumesFt3) {
        labels = ['Comp A','Comp B','Comp C'];
        data = blendVolumesFt3.map(v => Math.max(0, v));
      }

      const conf = {
        type: 'doughnut',
        data: {
          labels,
          datasets: [{ data }]
        },
        options: { plugins:{ legend:{ position:'bottom' } }, responsive:true, maintainAspectRatio:false }
      };

      if (chart) { chart.data = conf.data; chart.update(); }
      else { chart = new Chart(ctx, conf); }
    }

    function ceilBags(totalVolFt3) {
      const metric = el.bagSystem.value === 'metric';
      const bagV = Math.max(0, parseFloat(el.bagSize.value) || 0);
      if (bagV <= 0) return 0;
      const bagVft3 = metric ? LToFt3(bagV) : bagV;
      return Math.ceil(totalVolFt3 / bagVft3);
    }

    function compute() {
      updateModeUI();

      const Lft = getLengthInFeet(el.length.value, el.unitLength.value);
      const Wft = getLengthInFeet(el.width.value, el.unitLength.value);
      const Dft = getDepthInFeet(el.depth.value, el.unitDepth.value);

      // Basic validations
      const okL = validateNum(el.length, 'length', {minInclusive:false});
      const okW = validateNum(el.width, 'width', {minInclusive:false});
      // depth is ignored in spacing mode
      const depthNeeded = el.mode.value !== 'spacing';
      const okD = depthNeeded ? validateNum(el.depth, 'depth', {minInclusive:false}) : true;

      let volFt3 = 0, volYd3 = 0, volM3 = 0, volL = 0;
      let bags = '—', plants = '—', blendTxt = '—', blendV = null;

      // Calculate by mode
      const wastagePct = Math.max(0, parseFloat(el.wastage.value) || 0) / 100;

      if (el.mode.value === 'spacing') {
        // Plant count mode
        const spacingCm = Math.max(0, parseFloat(el.spacing.value) || 0);
        if (!validateNum(el.spacing, 'spacing', {minInclusive:false})) { renderOut(); return; }
        // Area in m² -> convert feet to meters
        const Lm = Lft * 0.3048;
        const Wm = Wft * 0.3048;
        const A_cm2 = (Lm * Wm) * 10000; // m² to cm²
        const s2 = spacingCm * spacingCm;
        const eta = el.packing.value === 'hex' ? (Math.PI / (2 * Math.sqrt(3))) : 1;
        let N = Math.floor((eta * A_cm2) / s2);
        if (el.airflow.value === 'restrict') N = Math.floor(N * 0.9);
        plants = new Intl.NumberFormat().format(Math.max(0, N));
        // volume cards remain —
        renderOut();
        return;
      }

      // Soil / Mulch / Blend: compute volume
      if (okL && okW && okD) {
        volFt3 = Lft * Wft * Dft;
        // add wastage/settling
        volFt3 *= (1 + wastagePct);
        volYd3 = volFt3 / 27;
        volM3 = volFt3 * 0.028316846592;
        volL = ft3ToL(volFt3);
      }

      // Bags (if applicable)
      if (el.mode.value === 'soil' || el.mode.value === 'mulch' || el.mode.value === 'blend') {
        if (validateNum(el.bagSize, 'bag', {minInclusive:false})) {
          bags = new Intl.NumberFormat().format(ceilBags(volFt3));
        } else { bags = '—'; }
      }

      // Blend component volumes
      if (el.mode.value === 'blend') {
        const a = Math.max(0, parseFloat(el.compA.value) || 0);
        const b = Math.max(0, parseFloat(el.compB.value) || 0);
        const c = Math.max(0, parseFloat(el.compC.value) || 0);
        const sum = a + b + c;
        if (sum !== 100) {
          el.blendErr.textContent = 'Blend percentages must sum to 100%.';
        } else {
          el.blendErr.textContent = '';
          const Va = volFt3 * (a/100), Vb = volFt3 * (b/100), Vc = volFt3 * (c/100);
          blendTxt = `A: ${Va.toFixed(1)} ft³, B: ${Vb.toFixed(1)} ft³, C: ${Vc.toFixed(1)} ft³`;
          blendV = [Va, Vb, Vc];
        }
      }

      renderOut(volFt3, volYd3, volM3, volL, bags, plants, blendTxt, blendV);

      function renderOut(vft3=0, vyd3=0, vm3=0, vL=0, bagsOut='—', plantsOut='—', blendOut='—', blendVolumes=null) {
        const nf0 = (n)=> (isFinite(n) ? n.toFixed(0) : '—');
        const nf1 = (n)=> (isFinite(n) ? n.toFixed(1) : '—');
        const nf2 = (n)=> (isFinite(n) ? n.toFixed(2) : '—');

        el.outVolume.textContent = isFinite(vft3) && vft3>0 ? `${nf1(vft3)} ft³` : '—';
        el.outBags.textContent = bagsOut;
        el.outPlants.textContent = plantsOut;
        el.outBlend.textContent = blendOut;

        $('outFt3').textContent = isFinite(vft3) ? nf2(vft3) : '—';
        $('outYd3').textContent = isFinite(vyd3) ? nf2(vyd3) : '—';
        $('outM3').textContent = isFinite(vm3) ? nf3(vm3) : '—';
        $('outL').textContent   = isFinite(vL)   ? nf0(vL)   : '—';

        function nf3(n){ return isFinite(n) ? n.toFixed(3) : '—'; }

        renderChart(vft3 || 0, blendVolumes || null);
      }
    }

    // Wire inputs
    ['change','input'].forEach(evt => {
      [
        el.mode, el.unitLength, el.unitDepth, el.length, el.width, el.depth,
        el.spacing, el.packing, el.airflow, el.bagSystem, el.bagSize, el.wastage,
        el.compA, el.compB, el.compC
      ].forEach(node => node && node.addEventListener(evt, compute));
    });

    // First run
    compute();
  });
  </script>


</body></html>