<!DOCTYPE html> <html lang="en"> <head>
    <link rel="canonical" href="https://calcdomain.com/filter-design" />
    <title>Filter Design Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/filter-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
       

    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math & Conversion Calculators", "item": "https://calcdomain.com/categories/math-conversions"}, {"@type": "ListItem", "position": 3, "name": "Measurement Unit Conversions: Tools &", "item": "https://calcdomain.com/subcategories/math-conversions-measurement-unit-conversions"}, {"@type": "ListItem", "position": 4, "name": "Filter Design Calculator (Butterworth &amp; Chebyshev)", "item": "https://calcdomain.com/filter-design"}]}</script>
</head> 
<body class="bg-gray-50 text-gray-800">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

<header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

<div class="container mx-auto px-4 py-8">
  <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversion Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/math-conversions-measurement-unit-conversions" class="text-blue-600 hover:underline">Measurement Unit Conversions: Tools &amp;</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Filter Design Calculator (Butterworth &amp;amp; Chebyshev)</span></li>
  </ol>
</nav>
  <div class="flex flex-col lg:flex-row gap-8">
    <main class="w-full lg:w-2/3">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <header class="mb-6">
          <h1 class="text-2xl md:text-3xl font-bold mb-2">Filter Design Calculator (Butterworth &amp; Chebyshev)</h1>
          <p class="text-gray-600">Design analog LC low‑pass, high‑pass, band‑pass, and band‑stop filters from specs. Get normalized prototype values, scaled L/C components, and an approximate magnitude response.</p>
          <div class="mt-3 flex flex-wrap gap-2">
            <span class="badge inline-flex items-center px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200">Butterworth</span>
            <span class="badge inline-flex items-center px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">Chebyshev Type I</span>
            <span class="badge inline-flex items-center px-2 py-1 rounded-full bg-purple-50 text-purple-700 border border-purple-200">LC prototype</span>
          </div>
        </header>

        <!-- Calculator UI -->
        <section aria-labelledby="filter-design-tool-heading" class="mb-8">
          <h2 id="filter-design-tool-heading" class="text-xl font-semibold mb-4">Filter design tool</h2>

          <div class="grid md:grid-cols-2 gap-6 mb-4">
            <!-- Left: specs -->
            <div>
              <div class="space-y-4">
                <div>
                  <label for="filter-type" class="block text-sm font-medium text-gray-700 mb-1">Filter type</label>
                  <select id="filter-type" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <option value="lowpass">Low‑pass</option>
                    <option value="highpass">High‑pass</option>
                    <option value="bandpass">Band‑pass</option>
                    <option value="bandstop">Band‑stop</option>
                  </select>
                </div>

                <div>
                  <label for="approx-type" class="block text-sm font-medium text-gray-700 mb-1">Approximation</label>
                  <select id="approx-type" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <option value="butterworth">Butterworth (maximally flat)</option>
                    <option value="chebyshev">Chebyshev Type I (equiripple)</option>
                  </select>
                </div>

                <div>
                  <label for="order" class="block text-sm font-medium text-gray-700 mb-1">Filter order <span class="text-gray-400">(N)</span></label>
                  <input id="order" type="number" min="1" max="10" step="1" value="3" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                  <p class="text-xs text-gray-500 mt-1">Higher order → steeper roll‑off, more components. Supported: 1–10.</p>
                </div>

                <div id="cutoff-wrapper">
                  <label for="cutoff" class="block text-sm font-medium text-gray-700 mb-1">Cutoff / corner frequency</label>
                  <div class="flex">
                    <input id="cutoff" type="number" min="0" step="0.001" value="1" class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <select id="cutoff-unit" class="border-gray-300 rounded-r-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                      <option value="Hz">Hz</option>
                      <option value="kHz" selected>kHz</option>
                      <option value="MHz">MHz</option>
                    </select>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">For low‑pass / high‑pass: 3 dB cutoff frequency \( f_c \).</p>
                </div>

                <div id="band-wrapper" class="hidden">
                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label for="f1" class="block text-sm font-medium text-gray-700 mb-1">Lower cutoff \( f_1 \)</label>
                      <input id="f1" type="number" min="0" step="0.001" value="0.9" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                      <label for="f2" class="block text-sm font-medium text-gray-700 mb-1">Upper cutoff \( f_2 \)</label>
                      <input id="f2" type="number" min="0" step="0.001" value="1.1" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">Band‑edge frequencies in the same units as cutoff (e.g., kHz).</p>
                </div>

                <div id="ripple-wrapper">
                  <label for="ripple" class="block text-sm font-medium text-gray-700 mb-1">Passband ripple <span class="text-gray-400">(Chebyshev only)</span></label>
                  <div class="flex items-center gap-2">
                    <input id="ripple" type="number" min="0.01" max="3" step="0.01" value="0.5" class="w-28 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <span class="text-sm text-gray-700">dB</span>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">Set to 0.5–1 dB for typical Chebyshev filters. Ignored for Butterworth.</p>
                </div>

                <div class="grid grid-cols-2 gap-3">
                  <div>
                    <label for="z-source" class="block text-sm font-medium text-gray-700 mb-1">Source impedance \( R_S \)</label>
                    <input id="z-source" type="number" min="0.1" step="0.1" value="50" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                  </div>
                  <div>
                    <label for="z-load" class="block text-sm font-medium text-gray-700 mb-1">Load impedance \( R_L \)</label>
                    <input id="z-load" type="number" min="0.1" step="0.1" value="50" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                  </div>
                </div>

                <div>
                  <label for="topology" class="block text-sm font-medium text-gray-700 mb-1">Topology</label>
                  <select id="topology" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <option value="ladder">L‑section ladder (shunt C, series L)</option>
                    <option value="pi">π‑section (shunt C at both ends)</option>
                    <option value="t">T‑section (series L at both ends)</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">All topologies are derived from the same normalized prototype.</p>
                </div>
              </div>
            </div>

            <!-- Right: actions & quick results -->
            <div class="flex flex-col h-full">
              <div class="flex-1 flex flex-col justify-between">
                <div class="space-y-3">
                  <button id="design-btn" class="w-full inline-flex justify-center items-center px-4 py-2.5 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    Design filter
                  </button>
                  <button id="reset-btn" type="button" class="w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-md hover:bg-gray-50">
                    Reset
                  </button>
                  <p id="status-msg" class="text-sm text-gray-600"></p>
                </div>

                <div class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md text-sm">
                  <h3 class="font-semibold mb-1">Summary</h3>
                  <dl class="space-y-1">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Order</dt>
                      <dd id="summary-order" class="font-medium text-gray-900">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Cutoff / center</dt>
                      <dd id="summary-freq" class="font-medium text-gray-900">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Approximation</dt>
                      <dd id="summary-approx" class="font-medium text-gray-900">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Impedance</dt>
                      <dd id="summary-z" class="font-medium text-gray-900">–</dd>
                    </div>
                  </dl>
                </div>
              </div>
            </div>
          </div>

          <!-- Results: prototype and scaled components -->
          <div id="results-section" class="mt-6 hidden">
            <h3 class="text-lg font-semibold mb-2">Component values</h3>
            <p class="text-sm text-gray-600 mb-3">First, the normalized low‑pass prototype is computed, then scaled to your target frequency and impedance. For band‑pass / band‑stop, each element becomes a resonant L–C branch.</p>

            <div class="grid md:grid-cols-2 gap-4 mb-4">
              <div class="border border-gray-200 rounded-md">
                <div class="px-3 py-2 border-b border-gray-200 bg-gray-50 flex items-center justify-between">
                  <span class="font-semibold text-sm">Normalized prototype (low‑pass)</span>
                  <span class="text-xs text-gray-500">Cutoff \( \omega_c = 1 \), \( R_0 = 1 \,\Omega \)</span>
                </div>
                <div class="table-scroll">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-100 sticky top-0">
                      <tr>
                        <th class="px-2 py-1 text-left font-semibold text-gray-700">Element</th>
                        <th class="px-2 py-1 text-left font-semibold text-gray-700">Type</th>
                        <th class="px-2 py-1 text-right font-semibold text-gray-700">g<sub>k</sub></th>
                      </tr>
                    </thead>
                    <tbody id="prototype-table" class="divide-y divide-gray-100"></tbody>
                  </table>
                </div>
              </div>

              <div class="border border-gray-200 rounded-md">
                <div class="px-3 py-2 border-b border-gray-200 bg-gray-50 flex items-center justify-between">
                  <span class="font-semibold text-sm">Scaled components</span>
                  <span class="text-xs text-gray-500">Ideal L / C values</span>
                </div>
                <div class="table-scroll">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-100 sticky top-0">
                      <tr>
                        <th class="px-2 py-1 text-left font-semibold text-gray-700">Element</th>
                        <th class="px-2 py-1 text-left font-semibold text-gray-700">Connection</th>
                        <th class="px-2 py-1 text-left font-semibold text-gray-700">Component</th>
                        <th class="px-2 py-1 text-right font-semibold text-gray-700">Value</th>
                      </tr>
                    </thead>
                    <tbody id="scaled-table" class="divide-y divide-gray-100"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Simple magnitude response plot -->
            <div class="mt-4">
              <h3 class="text-lg font-semibold mb-2">Approximate magnitude response</h3>
              <p class="text-sm text-gray-600 mb-2">Log‑magnitude response \(|H(j\omega)|\) of the normalized prototype, plotted vs. normalized frequency \( \Omega = \omega / \omega_c \). This helps visualize passband ripple and roll‑off.</p>
              <canvas id="response-canvas" class="freq-response border border-gray-200 rounded-md bg-white"></canvas>
              <p class="text-xs text-gray-500 mt-1">For band‑pass / band‑stop filters, the plot is still for the underlying low‑pass prototype.</p>
            </div>
          </div>
        </section>

        <section class="prose">
          <h2>How this filter design calculator works</h2>
          <p>
            This tool designs classical analog LC filters using normalized low‑pass prototypes. It supports
            <strong>Butterworth</strong> (maximally flat) and <strong>Chebyshev Type I</strong> (equiripple) responses
            and generates component values for low‑pass, high‑pass, band‑pass, and band‑stop filters.
          </p>

          <h3>1. Normalized low‑pass prototype</h3>
          <p>
            The starting point is a normalized low‑pass ladder network with cutoff angular frequency
            \( \omega_c = 1 \,\text{rad/s} \) and reference impedance \( R_0 = 1\,\Omega \).
            It is described by a sequence of prototype values \( g_0, g_1, \dots, g_{N+1} \).
          </p>
          <p>
            For a Butterworth filter of order \( N \), the prototype values are:
          </p>
          <div class="formula-box">
            <p>\[
              g_k = 2 \sin\left(\frac{(2k - 1)\pi}{2N}\right), \quad k = 1, 2, \dots, N
            \]</p>
            <p>\[
              g_0 = 1, \quad g_{N+1} = 1
            \]</p>
          </div>
          <p>
            For a Chebyshev Type I filter with passband ripple \( \epsilon \) (related to ripple in dB),
            the prototype values are computed from the standard recursive formulas involving
            hyperbolic functions. The calculator derives \( \epsilon \) from your ripple setting:
          </p>
          <div class="formula-box">
            <p>\[
              A_\text{ripple} = \text{ripple\_dB}, \quad
              \epsilon = \sqrt{10^{A_\text{ripple}/10} - 1}
            \]</p>
          </div>

          <h3>2. Frequency and impedance scaling</h3>
          <p>
            Once the normalized prototype is known, it is scaled to your desired cutoff (or band edges)
            and impedance level. For a low‑pass filter with cutoff frequency \( f_c \) and reference
            impedance \( R_0 \), the angular cutoff is \( \omega_c = 2\pi f_c \).
          </p>
          <p>For a low‑pass ladder with alternating series inductors and shunt capacitors:</p>
          <div class="formula-box">
            <p>Series inductors:</p>
            <p>\[
              L_k = \frac{R_0 \, g_k}{\omega_c}
            \]</p>
            <p>Shunt capacitors:</p>
            <p>\[
              C_k = \frac{g_k}{R_0 \, \omega_c}
            \]</p>
          </div>
          <p>
            High‑pass, band‑pass, and band‑stop filters are obtained by standard low‑pass transformations
            (frequency inversion or band‑pass mapping). This calculator focuses on giving you the
            equivalent L/C values for each element.
          </p>

          <h3>3. Magnitude response</h3>
          <p>
            The magnitude response of a normalized Butterworth low‑pass filter of order \( N \) is:
          </p>
          <div class="formula-box">
            <p>\[
              |H(j\Omega)| = \frac{1}{\sqrt{1 + \Omega^{2N}}}
            \]</p>
          </div>
          <p>
            For a Chebyshev Type I filter:
          </p>
          <div class="formula-box">
            <p>\[
              |H(j\Omega)| = \frac{1}{\sqrt{1 + \epsilon^2 C_N^2(\Omega)}}
            \]</p>
            <p>where \( C_N(\Omega) \) is the Chebyshev polynomial of the first kind of order \( N \).</p>
          </div>
          <p>
            The plot in this tool shows the log‑magnitude in dB vs. normalized frequency
            \( \Omega = \omega / \omega_c \) for the prototype, which you can map to your actual
            frequency axis using your chosen cutoff.
          </p>

          <h2>Design tips</h2>
          <ul>
            <li><strong>Choose Butterworth</strong> when you need a flat passband (e.g., audio).</li>
            <li><strong>Choose Chebyshev</strong> when you need sharper roll‑off and can tolerate ripple.</li>
            <li><strong>Match source and load</strong> (e.g., 50&nbsp;Ω) for best performance and minimal reflections.</li>
            <li>
              <strong>Simulate</strong> your design (e.g., SPICE) to verify performance with real‑world component
              tolerances and parasitics.
            </li>
          </ul>

          <h2>FAQ</h2>

          <h3>What does this filter design calculator do?</h3>
          <p>
            It computes normalized Butterworth or Chebyshev Type I low‑pass prototypes from your
            chosen order and ripple, then scales them to your desired cutoff frequency and impedance.
            It outputs the prototype g‑values, ideal inductor and capacitor values, and an approximate
            magnitude response plot.
          </p>

          <h3>Can I export the results to use in SPICE?</h3>
          <p>
            Yes. Copy the component table and translate each element into your simulator’s syntax
            (e.g., L1, C1, etc.). The ladder order in the table follows the signal path from source
            to load.
          </p>

          <h3>Does this account for parasitics or component tolerances?</h3>
          <p>
            No. The calculator assumes ideal components. In practice, parasitic inductance, stray
            capacitance, ESR, and tolerance will slightly detune the filter. Always simulate and, if
            possible, measure a prototype.
          </p>

          <h3>Can I use this for active filters?</h3>
          <p>
            Yes. Many active filter topologies start from the same normalized Butterworth or Chebyshev
            prototypes. Use the normalized g‑values and frequency scaling to derive resistor and
            capacitor values for Sallen–Key, multiple‑feedback, or state‑variable filters.
          </p>
        </section>
      </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Filter type</li><li>Approximation</li><li>Filter order (N)</li><li>Cutoff / corner frequency</li><li>Lower cutoff \( f_1 \)</li><li>Upper cutoff \( f_2 \)</li><li>Passband ripple (Chebyshev only)</li><li>Source impedance \( R_S \)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Filter, Design, Filter type, Approximation, Filter order (N), Cutoff / corner frequency, Lower cutoff \( f_1 \), Upper cutoff \( f_2 \).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Filter type</li><li>Approximation</li><li>Filter order (N)</li><li>Cutoff / corner frequency</li><li>Lower cutoff \( f_1 \)</li><li>Upper cutoff \( f_2 \)</li><li>Passband ripple (Chebyshev only)</li><li>Source impedance \( R_S \)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
    <aside class="w-full lg:w-1/3">
      <div class="bg-white p-4 rounded-lg shadow-md mb-6">
        <h2 class="text-lg font-semibold mb-3">Related Math &amp; Engineering tools</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/ohm-s-law-calculator" class="text-blue-600 hover:underline">Ohm's Law Calculator</a></li>
          <li><a href="https://calcdomain.com/watts-to-hp" class="text-blue-600 hover:underline">Watts to Horsepower Converter</a></li>
          <li><a href="https://calcdomain.com/watts-to-btu" class="text-blue-600 hover:underline">Watts to BTU/hr Converter</a></li>
          <li><a href="https://calcdomain.com/volts-to-watts" class="text-blue-600 hover:underline">Volts to Watts Calculator</a></li>
          <li><a href="https://calcdomain.com/bandwidth-calculator" class="text-blue-600 hover:underline">Bandwidth Calculator</a></li>
          <li><a href="https://calcdomain.com/rc-filter" class="text-blue-600 hover:underline">RC Filter Calculator</a></li>
          <li><a href="https://calcdomain.com/reactance" class="text-blue-600 hover:underline">Inductor &amp; Capacitor Reactance</a></li>
          <li><a href="https://calcdomain.com/antenna-design" class="text-blue-600 hover:underline">Antenna Design Calculator</a></li>
        </ul>
      </div>

      <div class="bg-white p-4 rounded-lg shadow-md">
        <h2 class="text-lg font-semibold mb-3">More Math &amp; Conversions</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/torque-unit-converter.html" class="text-blue-600 hover:underline">Frequency Unit Converter</a></li>
          <li><a href="https://calcdomain.com/angle-converter" class="text-blue-600 hover:underline">Angle Unit Converter</a></li>
          <li><a href="https://calcdomain.com/energy-unit-converter" class="text-blue-600 hover:underline">Energy Unit Converter</a></li>
          <li><a href="https://calcdomain.com/pressure-unit-converter" class="text-blue-600 hover:underline">Pressure Unit Converter</a></li>
          <li><a href="https://calcdomain.com/data-storage-converter" class="text-blue-600 hover:underline">Data Storage Converter</a></li>
        </ul>
      </div>
    </aside>
  </div>
</div>
<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>

<script src="/assets/js/mobile-menu.js"></script>
<script src="/search.js"></script>

<script>
  // UI helpers
  const filterTypeEl = document.getElementById('filter-type');
  const approxTypeEl = document.getElementById('approx-type');
  const orderEl = document.getElementById('order');
  const cutoffWrapper = document.getElementById('cutoff-wrapper');
  const bandWrapper = document.getElementById('band-wrapper');
  const rippleWrapper = document.getElementById('ripple-wrapper');
  const cutoffEl = document.getElementById('cutoff');
  const cutoffUnitEl = document.getElementById('cutoff-unit');
  const f1El = document.getElementById('f1');
  const f2El = document.getElementById('f2');
  const rippleEl = document.getElementById('ripple');
  const zSourceEl = document.getElementById('z-source');
  const zLoadEl = document.getElementById('z-load');
  const topologyEl = document.getElementById('topology');
  const designBtn = document.getElementById('design-btn');
  const resetBtn = document.getElementById('reset-btn');
  const statusMsg = document.getElementById('status-msg');
  const resultsSection = document.getElementById('results-section');
  const prototypeTable = document.getElementById('prototype-table');
  const scaledTable = document.getElementById('scaled-table');
  const summaryOrder = document.getElementById('summary-order');
  const summaryFreq = document.getElementById('summary-freq');
  const summaryApprox = document.getElementById('summary-approx');
  const summaryZ = document.getElementById('summary-z');
  const canvas = document.getElementById('response-canvas');
  const ctx = canvas.getContext('2d');

  function updateTypeUI() {
    const type = filterTypeEl.value;
    if (type === 'bandpass' || type === 'bandstop') {
      bandWrapper.classList.remove('hidden');
      cutoffWrapper.querySelector('label').textContent = 'Center frequency';
      cutoffWrapper.querySelector('p').textContent = 'Center frequency f0 of the passband.';
    } else {
      bandWrapper.classList.add('hidden');
      cutoffWrapper.querySelector('label').textContent = 'Cutoff / corner frequency';
      cutoffWrapper.querySelector('p').textContent = 'For low‑pass / high‑pass: 3 dB cutoff frequency f_c.';
    }
  }

  function updateApproxUI() {
    const approx = approxTypeEl.value;
    if (approx === 'chebyshev') {
      rippleWrapper.classList.remove('opacity-50');
      rippleWrapper.classList.remove('pointer-events-none');
    } else {
      rippleWrapper.classList.add('opacity-50');
      rippleWrapper.classList.add('pointer-events-none');
    }
  }

  filterTypeEl.addEventListener('change', updateTypeUI);
  approxTypeEl.addEventListener('change', updateApproxUI);

  // Math helpers
  function toRadians(freq, unit) {
    let fHz = freq;
    if (unit === 'kHz') fHz *= 1e3;
    else if (unit === 'MHz') fHz *= 1e6;
    return 2 * Math.PI * fHz;
  }

  function chebyshevEpsilon(rippleDb) {
    return Math.sqrt(Math.pow(10, rippleDb / 10) - 1);
  }

  function butterworthPrototype(N) {
    const g = new Array(N + 2).fill(0);
    g[0] = 1;
    for (let k = 1; k <= N; k++) {
      g[k] = 2 * Math.sin((2 * k - 1) * Math.PI / (2 * N));
    }
    g[N + 1] = 1;
    return g;
  }

  // Chebyshev Type I prototype (approximate closed-form, even/odd handled)
  function chebyshevPrototype(N, rippleDb) {
    const eps = chebyshevEpsilon(rippleDb);
    const beta = Math.asinh(1 / eps) / N;
    const sinhBeta = Math.sinh(beta);
    const coshBeta = Math.cosh(beta);

    const g = new Array(N + 2).fill(0);
    g[0] = 1;

    const a = [];
    const b = [];
    for (let k = 1; k <= N; k++) {
      const theta = (2 * k - 1) * Math.PI / (2 * N);
      const sinTheta = Math.sin(theta);
      const cosTheta = Math.cos(theta);
      a[k] = Math.sin(theta);
      b[k] = Math.pow(sinhBeta, 2) + Math.pow(sinTheta, 2);
    }

    g[1] = (2 * a[1]) / sinhBeta;

    for (let k = 2; k <= N; k++) {
      g[k] = (4 * a[k - 1] * a[k]) / (b[k - 1] * g[k - 1]);
    }

    if (N % 2 === 0) {
      g[N + 1] = Math.sinh(beta / 2) * Math.sinh(beta / 2);
    } else {
      g[N + 1] = 1;
    }

    return g;
  }

  function formatSI(value, unit) {
    if (!isFinite(value) || value === 0) return `0 ${unit}`;
    const abs = Math.abs(value);
    let prefix = '';
    let scale = 1;

    if (abs >= 1e9) { prefix = 'G'; scale = 1e9; }
    else if (abs >= 1e6) { prefix = 'M'; scale = 1e6; }
    else if (abs >= 1e3) { prefix = 'k'; scale = 1e3; }
    else if (abs >= 1) { prefix = ''; scale = 1; }
    else if (abs >= 1e-3) { prefix = 'm'; scale = 1e-3; }
    else if (abs >= 1e-6) { prefix = 'µ'; scale = 1e-6; }
    else if (abs >= 1e-9) { prefix = 'n'; scale = 1e-9; }
    else if (abs >= 1e-12) { prefix = 'p'; scale = 1e-12; }
    else { prefix = ''; scale = 1; }

    const scaled = value / scale;
    return `${scaled.toFixed(3)} ${prefix}${unit}`;
  }

  function clearTables() {
    prototypeTable.innerHTML = '';
    scaledTable.innerHTML = '';
  }

  function drawResponse(N, approx, rippleDb) {
    const w = canvas.width;
    const h = canvas.height;
    ctx.clearRect(0, 0, w, h);

    // Axes
    ctx.strokeStyle = '#e5e7eb';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(40, 10);
    ctx.lineTo(40, h - 30);
    ctx.lineTo(w - 10, h - 30);
    ctx.stroke();

    // Labels
    ctx.fillStyle = '#6b7280';
    ctx.font = '10px Inter, system-ui, sans-serif';
    ctx.fillText('0', 25, 15);
    ctx.fillText('-20 dB', 10, h / 2);
    ctx.fillText('-60 dB', 5, h - 35);
    ctx.fillText('0', 40, h - 18);
    ctx.fillText('1', w / 2, h - 18);
    ctx.fillText('3', w - 20, h - 18);

    // Response
    const points = [];
    const maxOmega = 3;
    const steps = 200;
    const eps = approx === 'chebyshev' ? chebyshevEpsilon(rippleDb) : 0;

    function chebyshevPoly(N, x) {
      if (N === 0) return 1;
      if (N === 1) return x;
      let Tn_1 = x;
      let Tn_2 = 1;
      let Tn = 0;
      for (let k = 2; k <= N; k++) {
        Tn = 2 * x * Tn_1 - Tn_2;
        Tn_2 = Tn_1;
        Tn_1 = Tn;
      }
      return Tn;
    }

    for (let i = 0; i <= steps; i++) {
      const Omega = (i / steps) * maxOmega;
      let mag;
      if (approx === 'butterworth') {
        mag = 1 / Math.sqrt(1 + Math.pow(Omega, 2 * N));
      } else {
        const Tn = chebyshevPoly(N, Omega);
        mag = 1 / Math.sqrt(1 + Math.pow(eps * Tn, 2));
      }
      let magDb = 20 * Math.log10(mag);
      if (!isFinite(magDb)) magDb = -120;
      if (magDb < -80) magDb = -80;

      const x = 40 + (Omega / maxOmega) * (w - 50);
      const y = (h - 30) - ((magDb + 80) / 80) * (h - 40);
      points.push({ x, y });
    }

    ctx.strokeStyle = '#2563eb';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    points.forEach((p, idx) => {
      if (idx === 0) ctx.moveTo(p.x, p.y);
      else ctx.lineTo(p.x, p.y);
    });
    ctx.stroke();
  }

  function designFilter() {
    clearTables();
    statusMsg.textContent = '';
    const type = filterTypeEl.value;
    const approx = approxTypeEl.value;
    const N = parseInt(orderEl.value, 10);
    const rippleDb = parseFloat(rippleEl.value);
    const zS = parseFloat(zSourceEl.value);
    const zL = parseFloat(zLoadEl.value);
    const topology = topologyEl.value;

    if (!Number.isFinite(N) || N < 1 || N > 10) {
      statusMsg.textContent = 'Order must be between 1 and 10.';
      statusMsg.className = 'text-sm text-red-600';
      resultsSection.classList.add('hidden');
      return;
    }
    if (!Number.isFinite(zS) || !Number.isFinite(zL) || zS <= 0 || zL <= 0) {
      statusMsg.textContent = 'Source and load impedances must be positive.';
      statusMsg.className = 'text-sm text-red-600';
      resultsSection.classList.add('hidden');
      return;
    }

    let omegaC;
    let fDisplay = '';
    if (type === 'bandpass' || type === 'bandstop') {
      const f0 = parseFloat(cutoffEl.value);
      const f1 = parseFloat(f1El.value);
      const f2 = parseFloat(f2El.value);
      if (!Number.isFinite(f0) || f0 <= 0 || !Number.isFinite(f1) || !Number.isFinite(f2) || f1 <= 0 || f2 <= 0 || f2 <= f1) {
        statusMsg.textContent = 'For band filters, provide positive f0, f1, f2 with f2 > f1.';
        statusMsg.className = 'text-sm text-red-600';
        resultsSection.classList.add('hidden');
        return;
      }
      omegaC = toRadians(f0, cutoffUnitEl.value);
      fDisplay = `${f0} ${cutoffUnitEl.value} (band ${f1}–${f2} ${cutoffUnitEl.value})`;
    } else {
      const fc = parseFloat(cutoffEl.value);
      if (!Number.isFinite(fc) || fc <= 0) {
        statusMsg.textContent = 'Cutoff frequency must be positive.';
        statusMsg.className = 'text-sm text-red-600';
        resultsSection.classList.add('hidden');
        return;
      }
      omegaC = toRadians(fc, cutoffUnitEl.value);
      fDisplay = `${fc} ${cutoffUnitEl.value}`;
    }

    let g;
    if (approx === 'butterworth') {
      g = butterworthPrototype(N);
    } else {
      g = chebyshevPrototype(N, rippleDb);
    }

    // Populate prototype table
    for (let k = 1; k <= N; k++) {
      const row = document.createElement('tr');
      const typeStr = (k % 2 === 1) ? 'Series L' : 'Shunt C';
      row.innerHTML = `
        <td class="px-2 py-1">g<sub>${k}</sub></td>
        <td class="px-2 py-1">${typeStr}</td>
        <td class="px-2 py-1 text-right">${g[k].toFixed(5)}</td>
      `;
      prototypeTable.appendChild(row);
    }

    // Use average impedance for scaling (simple approach)
    const R0 = (zS + zL) / 2;

    // Scaled components for low-pass prototype
    for (let k = 1; k <= N; k++) {
      const isSeries = (k % 2 === 1); // start with series L
      const gk = g[k];
      let compType, value, conn;

      if (type === 'lowpass') {
        if (isSeries) {
          compType = 'Inductor L';
          value = (R0 * gk) / omegaC;
          conn = 'Series';
        } else {
          compType = 'Capacitor C';
          value = gk / (R0 * omegaC);
          conn = 'Shunt';
        }
      } else if (type === 'highpass') {
        // Low-pass to high-pass transformation: swap L and C
        if (isSeries) {
          compType = 'Capacitor C';
          value = gk / (R0 * omegaC);
          conn = 'Series';
        } else {
          compType = 'Inductor L';
          value = R0 * gk / omegaC;
          conn = 'Shunt';
        }
      } else if (type === 'bandpass') {
        // Each L or C becomes series/parallel resonant branch; approximate mapping
        const f0 = parseFloat(cutoffEl.value);
        const f1 = parseFloat(f1El.value);
        const f2 = parseFloat(f2El.value);
        const bw = (f2 - f1);
        const Q = f0 / bw;
        if (isSeries) {
          compType = 'Series L–C branch';
          // Equivalent series L and C
          const Ls = (R0 * gk * Q) / omegaC;
          const Cs = gk / (R0 * omegaC * Q);
          value = `L = ${formatSI(Ls, 'H')}, C = ${formatSI(Cs, 'F')}`;
          conn = 'Series';
        } else {
          compType = 'Parallel L–C branch';
          const Lp = (R0 * gk) / (omegaC * Q);
          const Cp = (gk * Q) / (R0 * omegaC);
          value = `L = ${formatSI(Lp, 'H')}, C = ${formatSI(Cp, 'F')}`;
          conn = 'Shunt';
        }
      } else if (type === 'bandstop') {
        const f0 = parseFloat(cutoffEl.value);
        const f1 = parseFloat(f1El.value);
        const f2 = parseFloat(f2El.value);
        const bw = (f2 - f1);
        const Q = f0 / bw;
        if (isSeries) {
          compType = 'Parallel L–C branch';
          const Lp = (R0 * gk) / (omegaC * Q);
          const Cp = (gk * Q) / (R0 * omegaC);
          value = `L = ${formatSI(Lp, 'H')}, C = ${formatSI(Cp, 'F')}`;
          conn = 'Series';
        } else {
          compType = 'Series L–C branch';
          const Ls = (R0 * gk * Q) / omegaC;
          const Cs = gk / (R0 * omegaC * Q);
          value = `L = ${formatSI(Ls, 'H')}, C = ${formatSI(Cs, 'F')}`;
          conn = 'Shunt';
        }
      }

      const row = document.createElement('tr');
      const valueStr = (typeof value === 'number')
        ? (compType.includes('Inductor') ? formatSI(value, 'H') : formatSI(value, 'F'))
        : value;

      row.innerHTML = `
        <td class="px-2 py-1">Element ${k}</td>
        <td class="px-2 py-1">${conn}</td>
        <td class="px-2 py-1">${compType}</td>
        <td class="px-2 py-1 text-right whitespace-nowrap">${valueStr}</td>
      `;
      scaledTable.appendChild(row);
    }

    // Update summary
    summaryOrder.textContent = `${N}`;
    summaryFreq.textContent = fDisplay;
    summaryApprox.textContent = approx === 'butterworth'
      ? 'Butterworth (maximally flat)'
      : `Chebyshev Type I (${rippleDb.toFixed(2)} dB ripple)`;
    summaryZ.textContent = `${zS} Ω source, ${zL} Ω load`;

    statusMsg.textContent = 'Filter designed. Review the prototype and scaled component tables below.';
    statusMsg.className = 'text-sm text-emerald-700';
    resultsSection.classList.remove('hidden');

    drawResponse(N, approx, rippleDb);
  }

  designBtn.addEventListener('click', designFilter);

  resetBtn.addEventListener('click', () => {
    filterTypeEl.value = 'lowpass';
    approxTypeEl.value = 'butterworth';
    orderEl.value = 3;
    cutoffEl.value = 1;
    cutoffUnitEl.value = 'kHz';
    f1El.value = 0.9;
    f2El.value = 1.1;
    rippleEl.value = 0.5;
    zSourceEl.value = 50;
    zLoadEl.value = 50;
    topologyEl.value = 'ladder';
    statusMsg.textContent = '';
    clearTables();
    resultsSection.classList.add('hidden');
    updateTypeUI();
    updateApproxUI();
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    summaryOrder.textContent = '–';
    summaryFreq.textContent = '–';
    summaryApprox.textContent = '–';
    summaryZ.textContent = '–';
  });

  // Initialize UI
  updateTypeUI();
  updateApproxUI();
</script>

<script>
  window.MathJax = {
    tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
    svg: { fontCache: 'global' }
  };
</script>
<script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script> window.ezstandalone = window.ezstandalone || {}; ezstandalone.cmd = ezstandalone.cmd || []; </script>
</body> </html>