<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/network-calculator" />
    
    
    <title>Network Calculator Guide [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Network Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." /> />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Network Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Network Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/network-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Network Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Network Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Network Calculator (IPv4 &amp; IPv6)", "item": "https://calcdomain.com/network-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Network Calculator (IPv4 &amp;amp; IPv6)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Network Calculator (IPv4 &amp; IPv6)
              </h1>
              <p class="text-gray-600">
                Instantly compute CIDR, subnet mask, wildcard mask, IP ranges,
                host counts, reverse DNS, and plan subnets with VLSM.
              </p>
            </header>

            <!-- Tabs -->
            <div class="mb-4 border-b border-gray-200 flex flex-wrap gap-2">
              <button
                id="tab-main"
                class="px-3 py-2 text-sm font-medium border-b-2 tab-active"
                type="button"
              >
                Single Network
              </button>
              <button
                id="tab-vlsm"
                class="px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                type="button"
              >
                VLSM / Subnet Planner
              </button>
              <button
                id="tab-tools"
                class="px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                type="button"
              >
                Quick Tools
              </button>
            </div>

            <!-- MAIN NETWORK CALCULATOR -->
            <section id="panel-main" aria-labelledby="tab-main">
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="md:col-span-2">
                  <label
                    for="ip-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >IP address / network (IPv4 or IPv6)</label
                  >
                  <input
                    id="ip-input"
                    type="text"
                    placeholder="e.g. 192.168.1.10/24 or 2001:db8::/48"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mono"
                  />
                </div>
                <div>
                  <label
                    for="cidr-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Prefix length (optional)</label
                  >
                  <input
                    id="cidr-input"
                    type="number"
                    min="0"
                    max="128"
                    placeholder="e.g. 24"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>
              </div>
              <div class="flex flex-wrap gap-3 mb-4">
                <button
                  id="btn-calc"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700"
                  type="button"
                >
                  Calculate
                </button>
                <button
                  id="btn-clear"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                  type="button"
                >
                  Clear
                </button>
                <span id="calc-status" class="text-sm text-red-600"></span>
              </div>

              <div id="results-container" class="space-y-6 hidden">
                <!-- IPv4 Results -->
                <div id="results-ipv4" class="space-y-4">
                  <h2 class="text-lg font-semibold flex items-center gap-2">
                    IPv4 Network Details
                    <span
                      id="ipv4-class-badge"
                      class="text-xs font-medium px-2 py-0.5 rounded bg-gray-100 text-gray-700"
                    ></span>
                  </h2>
                  <div class="grid md:grid-cols-2 gap-4 text-sm mono">
                    <div class="space-y-1">
                      <div>
                        <span class="font-semibold">IP address:</span>
                        <span id="r-ip"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Network:</span>
                        <span id="r-network"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Broadcast:</span>
                        <span id="r-broadcast"></span>
                      </div>
                      <div>
                        <span class="font-semibold">First host:</span>
                        <span id="r-first-host"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Last host:</span>
                        <span id="r-last-host"></span>
                      </div>
                    </div>
                    <div class="space-y-1">
                      <div>
                        <span class="font-semibold">CIDR:</span>
                        <span id="r-cidr"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Subnet mask:</span>
                        <span id="r-mask"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Wildcard mask:</span>
                        <span id="r-wildcard"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Total addresses:</span>
                        <span id="r-total"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Usable hosts:</span>
                        <span id="r-usable"></span>
                      </div>
                    </div>
                  </div>

                  <details class="mt-2">
                    <summary
                      class="cursor-pointer text-sm text-blue-600 hover:underline"
                    >
                      Show binary representation
                    </summary>
                    <div class="mt-2 text-xs mono scroll-x">
                      <div class="mb-1">
                        <span class="font-semibold">IP:</span>
                        <span id="r-ip-bin"></span>
                      </div>
                      <div class="mb-1">
                        <span class="font-semibold">Mask:</span>
                        <span id="r-mask-bin"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Wildcard:</span>
                        <span id="r-wildcard-bin"></span>
                      </div>
                    </div>
                  </details>

                  <div class="mt-4">
                    <h3 class="text-sm font-semibold mb-1">
                      Reverse DNS (PTR)
                    </h3>
                    <p class="text-xs text-gray-600 mb-1">
                      Use this name in PTR records or for troubleshooting
                      reverse DNS.
                    </p>
                    <div
                      class="mono text-xs bg-gray-50 border border-gray-200 rounded px-3 py-2"
                      id="r-reverse-dns"
                    ></div>
                  </div>
                </div>

                <!-- IPv6 Results -->
                <div id="results-ipv6" class="space-y-4">
                  <h2 class="text-lg font-semibold">IPv6 Network Details</h2>
                  <div class="grid md:grid-cols-2 gap-4 text-sm mono">
                    <div class="space-y-1">
                      <div>
                        <span class="font-semibold">Input:</span>
                        <span id="v6-input"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Normalized:</span>
                        <span id="v6-normalized"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Expanded:</span>
                        <span id="v6-expanded"></span>
                      </div>
                    </div>
                    <div class="space-y-1">
                      <div>
                        <span class="font-semibold">CIDR:</span>
                        <span id="v6-cidr"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Network:</span>
                        <span id="v6-network"></span>
                      </div>
                      <div>
                        <span class="font-semibold">Address count:</span>
                        <span id="v6-count"></span>
                      </div>
                    </div>
                  </div>
                  <div class="mt-4">
                    <h3 class="text-sm font-semibold mb-1">
                      Reverse DNS (ip6.arpa)
                    </h3>
                    <div
                      class="mono text-xs bg-gray-50 border border-gray-200 rounded px-3 py-2"
                      id="v6-reverse-dns"
                    ></div>
                  </div>
                </div>
              </div>
            </section>

            <!-- VLSM / SUBNET PLANNER -->
            <section id="panel-vlsm" class="hidden" aria-labelledby="tab-vlsm">
              <p class="text-sm text-gray-700 mb-3">
                Plan multiple subnets inside a larger IPv4 network using VLSM
                (Variable Length Subnet Masking).
              </p>
              <div class="grid md:grid-cols-3 gap-4 mb-3">
                <div class="md:col-span-2">
                  <label
                    for="vlsm-base"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Base network (IPv4 CIDR)</label
                  >
                  <input
                    id="vlsm-base"
                    type="text"
                    placeholder="e.g. 10.0.0.0/24"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mono"
                  />
                </div>
              </div>

              <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Required subnets (hosts per subnet)</label
                >
                <div id="vlsm-rows" class="space-y-2">
                  <div class="flex gap-2 items-center">
                    <input
                      type="number"
                      min="1"
                      class="vlsm-hosts w-32 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                      placeholder="e.g. 50"
                    />
                    <button
                      type="button"
                      class="btn-remove-row text-xs text-red-600 hover:underline hidden"
                    >
                      Remove
                    </button>
                  </div>
                </div>
                <button
                  id="vlsm-add-row"
                  type="button"
                  class="mt-2 text-xs text-blue-600 hover:underline"
                >
                  + Add another subnet
                </button>
              </div>

              <div class="flex flex-wrap gap-3 mb-4">
                <button
                  id="vlsm-calc"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700"
                >
                  Generate Plan
                </button>
                <button
                  id="vlsm-clear"
                  type="button"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Clear
                </button>
                <span id="vlsm-status" class="text-sm text-red-600"></span>
              </div>

              <div id="vlsm-results" class="hidden">
                <h2 class="text-lg font-semibold mb-2">VLSM Subnet Plan</h2>
                <div class="scroll-x">
                  <table class="min-w-full text-xs mono border border-gray-200">
                    <thead class="bg-gray-100">
                      <tr>
                        <th class="px-2 py-1 border-b text-left">#</th>
                        <th class="px-2 py-1 border-b text-left">
                          Required hosts
                        </th>
                        <th class="px-2 py-1 border-b text-left">
                          Allocated network
                        </th>
                        <th class="px-2 py-1 border-b text-left">Mask</th>
                        <th class="px-2 py-1 border-b text-left">
                          Usable range
                        </th>
                        <th class="px-2 py-1 border-b text-left">
                          Usable hosts
                        </th>
                        <th class="px-2 py-1 border-b text-left">Waste</th>
                      </tr>
                    </thead>
                    <tbody id="vlsm-tbody"></tbody>
                  </table>
                </div>
              </div>
            </section>

            <!-- QUICK TOOLS -->
            <section
              id="panel-tools"
              class="hidden"
              aria-labelledby="tab-tools"
            >
              <div class="grid md:grid-cols-2 gap-6">
                <!-- CIDR <-> Mask -->
                <div>
                  <h2 class="text-lg font-semibold mb-2">
                    CIDR &lt;→ Subnet Mask
                  </h2>
                  <div class="flex items-center gap-2 mb-2">
                    <label for="quick-cidr" class="text-sm text-gray-700"
                      >Prefix</label
                    >
                    <input
                      id="quick-cidr"
                      type="number"
                      min="0"
                      max="32"
                      class="w-20 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                      placeholder="24"
                    />
                    <button
                      id="quick-cidr-btn"
                      type="button"
                      class="px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700"
                    >
                      Convert
                    </button>
                  </div>
                  <div class="text-xs mono space-y-1">
                    <div>
                      <span class="font-semibold">Subnet mask:</span>
                      <span id="quick-mask"></span>
                    </div>
                    <div>
                      <span class="font-semibold">Wildcard mask:</span>
                      <span id="quick-wildcard"></span>
                    </div>
                    <div>
                      <span class="font-semibold">Total addresses:</span>
                      <span id="quick-total"></span>
                    </div>
                    <div>
                      <span class="font-semibold">Usable hosts:</span>
                      <span id="quick-usable"></span>
                    </div>
                  </div>
                </div>

                <!-- IP Range to CIDR -->
                <div>
                  <h2 class="text-lg font-semibold mb-2">
                    IP Range → Minimal CIDR List
                  </h2>
                  <p class="text-xs text-gray-600 mb-2">
                    Cover an IPv4 range with the smallest set of CIDR blocks.
                  </p>
                  <div class="space-y-2 mb-2">
                    <div class="flex items-center gap-2">
                      <label
                        for="range-start"
                        class="text-sm text-gray-700 w-16"
                        >Start</label
                      >
                      <input
                        id="range-start"
                        type="text"
                        class="flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mono"
                        placeholder="192.168.1.0"
                      />
                    </div>
                    <div class="flex items-center gap-2">
                      <label for="range-end" class="text-sm text-gray-700 w-16"
                        >End</label
                      >
                      <input
                        id="range-end"
                        type="text"
                        class="flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 mono"
                        placeholder="192.168.1.255"
                      />
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-2 mb-2">
                    <button
                      id="range-btn"
                      type="button"
                      class="px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700"
                    >
                      Summarize
                    </button>
                    <span id="range-status" class="text-xs text-red-600"></span>
                  </div>
                  <div
                    id="range-results"
                    class="mono text-xs bg-gray-50 border border-gray-200 rounded px-3 py-2 max-h-40 overflow-y-auto"
                  ></div>
                </div>
              </div>
            </section>

            <section class="prose mt-8">
              <h2>How to use the Network Calculator</h2>
              <p>
                This tool is designed to replace multiple separate subnet
                calculators. It supports IPv4 and IPv6, CIDR, wildcard masks,
                reverse DNS, VLSM planning, and IP range summarization.
              </p>
              <ol>
                <li>
                  <strong>Single Network:</strong> Enter an IP address or
                  network in CIDR form (for example
                  <code>192.168.10.5/24</code> or <code>2001:db8::/48</code>)
                  and click <strong>Calculate</strong>.
                </li>
                <li>
                  <strong>VLSM Planner:</strong> Switch to the VLSM tab, enter a
                  base IPv4 network (for example <code>10.0.0.0/24</code>) and
                  list the required host counts. The tool will allocate subnets
                  from largest to smallest.
                </li>
                <li>
                  <strong>Quick Tools:</strong> Use the CIDR converter to
                  quickly look up subnet masks, or summarize an IPv4 range into
                  the minimal set of CIDR blocks.
                </li>
              </ol>

              <h2>Key formulas and concepts</h2>

              <h3>1. Number of addresses in an IPv4 subnet</h3>
              <div class="formula-box">
                <p class="mono">total_addresses = 2^(32 − prefix)</p>
                <p class="mono">usable_hosts = max(total_addresses − 2, 0)</p>
                <p class="text-sm text-gray-600 mb-0">
                  For most unicast IPv4 subnets, the first address is the
                  network address and the last is the broadcast address, so they
                  are not usable for hosts.
                </p>
              </div>

              <h3>2. Subnet mask from prefix length</h3>
              <p>
                A subnet mask is a 32‑bit value with the first <em>n</em> bits
                set to 1 (network) and the remaining bits set to 0 (hosts). For
                example, a <code>/24</code> prefix means:
              </p>
              <div class="formula-box mono text-sm">
                11111111.11111111.11111111.00000000 = 255.255.255.0
              </div>

              <h3>3. Wildcard mask</h3>
              <p>
                The wildcard mask is the bitwise inverse of the subnet mask and
                is widely used in ACLs and routing (for example on Cisco IOS).
              </p>
              <div class="formula-box mono text-sm">
                wildcard = 255.255.255.255 − subnet_mask
              </div>

              <h3>4. Network and broadcast addresses</h3>
              <p>For IPv4:</p>
              <div class="formula-box mono text-sm">
                network_address = ip_address AND subnet_mask<br />
                broadcast_address = network_address OR (NOT subnet_mask)
              </div>

              <h3>5. IPv6 prefix size</h3>
              <p>
                IPv6 uses 128‑bit addresses. A prefix length of
                <code>/p</code> contains:
              </p>
              <div class="formula-box mono text-sm">
                address_count = 2^(128 − p)
              </div>
              <p>
                The number is usually enormous, so this calculator formats it
                using scientific notation and an approximate decimal string.
              </p>

              <h2>FAQ</h2>

              <h3>
                What is the difference between IPv4 and IPv6 in this calculator?
              </h3>
              <p>
                For IPv4, the calculator shows subnet masks, wildcard masks,
                broadcast addresses, and host counts. For IPv6, there is no
                broadcast address, so the tool focuses on the network range,
                normalized and expanded forms, and the number of addresses in
                the prefix.
              </p>

              <h3>Can I enter just an IP address without CIDR?</h3>
              <p>
                Yes. If you omit the prefix in the main calculator, you can
                specify it in the separate <strong>Prefix length</strong> field.
                If both are missing, the tool will show an error because it
                cannot determine the network size.
              </p>

              <h3>What is VLSM and why is it useful?</h3>
              <p>
                VLSM (Variable Length Subnet Masking) lets you divide a larger
                network into subnets of different sizes. This avoids wasting
                addresses and is essential when designing complex IPv4 networks.
                The VLSM planner in this tool automatically sorts your
                requirements and allocates subnets efficiently.
              </p>

              <h3>How accurate is the IP range → CIDR summarization?</h3>
              <p>
                The summarization algorithm is deterministic and always produces
                a minimal set of CIDR blocks that exactly cover the start and
                end IPv4 addresses you provide, without overlap or gaps.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Network, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Network & Utility Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/ip-calculator"
                  class="text-blue-600 hover:underline"
                  >IP Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subnet-calculator"
                  class="text-blue-600 hover:underline"
                  >Subnet Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cidr-calculator.html"
                  class="text-blue-600 hover:underline"
                  >CIDR Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ping-calculator"
                  class="text-blue-600 hover:underline"
                  >Ping Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cidr-calculator.html"
                  class="text-blue-600 hover:underline"
                  >CIDR / Netmask Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ip-calculator"
                  class="text-blue-600 hover:underline"
                  >IP Range to CIDR</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/general-utility"
                  class="text-blue-600 hover:underline"
                  >More General Utility Tools</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">You might also like</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/cidr-calculator.html"
                  class="text-blue-600 hover:underline"
                  >CIDR Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ip-calculator"
                  class="text-blue-600 hover:underline"
                  >IP Address Info</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ping-calculator"
                  class="text-blue-600 hover:underline"
                  >Network Latency / Ping</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/packet-loss-calculator"
                  class="text-blue-600 hover:underline"
                  >Packet Loss Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/latency-calculator"
                  class="text-blue-600 hover:underline"
                  >Latency Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Tab switching
      const tabs = {
        "tab-main": "panel-main",
        "tab-vlsm": "panel-vlsm",
        "tab-tools": "panel-tools",
      };
      Object.keys(tabs).forEach((id) => {
        document.getElementById(id).addEventListener("click", () => {
          Object.keys(tabs).forEach((tid) => {
            const btn = document.getElementById(tid);
            const panel = document.getElementById(tabs[tid]);
            if (tid === id) {
              btn.classList.add("tab-active");
              btn.classList.remove("text-gray-600");
              panel.classList.remove("hidden");
            } else {
              btn.classList.remove("tab-active");
              btn.classList.add("text-gray-600");
              panel.classList.add("hidden");
            }
          });
        });
      });

      // Utility: IPv4 parsing
      function parseIPv4(ip) {
        const parts = ip.trim().split(".");
        if (parts.length !== 4) return null;
        const nums = parts.map((p) => {
          if (!/^\d+$/.test(p)) return NaN;
          const n = Number(p);
          return n >= 0 && n <= 255 ? n : NaN;
        });
        if (nums.some(isNaN)) return null;
        return (
          ((nums[0] << 24) >>> 0) | (nums[1] << 16) | (nums[2] << 8) | nums[3]
        );
      }
      function ipv4ToString(num) {
        return [
          (num >>> 24) & 0xff,
          (num >>> 16) & 0xff,
          (num >>> 8) & 0xff,
          num & 0xff,
        ].join(".");
      }
      function ipv4ToBinary(num) {
        return [
          (num >>> 24) & 0xff,
          (num >>> 16) & 0xff,
          (num >>> 8) & 0xff,
          num & 0xff,
        ]
          .map((o) => o.toString(2).padStart(8, "0"))
          .join(".");
      }
      function maskFromPrefix(p) {
        if (p < 0 || p > 32) return null;
        return p === 0 ? 0 : (0xffffffff << (32 - p)) >>> 0;
      }
      function wildcardFromMask(mask) {
        return ~mask >>> 0;
      }
      function ipv4Class(firstOctet) {
        if (firstOctet <= 127) return "Class A";
        if (firstOctet <= 191) return "Class B";
        if (firstOctet <= 223) return "Class C";
        if (firstOctet <= 239) return "Class D (Multicast)";
        return "Class E (Experimental)";
      }

      // IPv6 helpers (minimal, string-based)
      function isIPv6(str) {
        return str.includes(":");
      }
      function normalizeIPv6(str) {
        // Basic normalization: lowercase, single '::'
        return str.toLowerCase();
      }
      function expandIPv6(address) {
        // Expand IPv6 to 8 groups of 4 hex digits
        let [addr, zone] = address.split("%");
        const parts = addr.split("::");
        if (parts.length > 2) return null;
        let head = parts[0] ? parts[0].split(":") : [];
        let tail = parts[1] ? parts[1].split(":") : [];
        if (parts.length === 1) {
          if (head.length !== 8) return null;
        } else {
          const missing = 8 - (head.length + tail.length);
          if (missing < 0) return null;
          const zeros = new Array(missing).fill("0");
          head = head.concat(zeros).concat(tail);
        }
        const full = head.map((h) => h.padStart(4, "0"));
        return full.join(":") + (zone ? "%" + zone : "");
      }
      function ipv6ReversePtr(address) {
        // Use expanded form, strip colons, reverse nibbles
        const exp = expandIPv6(address);
        if (!exp) return "";
        const hex = exp.replace(/:/g, "").toLowerCase();
        return hex.split("").reverse().join(".") + ".ip6.arpa.";
      }
      function ipv6Count(prefix) {
        const bits = 128 - prefix;
        if (bits < 0 || bits > 128) return "";
        if (bits > 64) {
          return "2^" + bits + " addresses (astronomically large)";
        }
        const big = BigInt(1) << BigInt(bits);
        return big.toString() + " addresses (2^" + bits + ")";
      }

      // Main calculator
      const ipInput = document.getElementById("ip-input");
      const cidrInput = document.getElementById("cidr-input");
      const statusEl = document.getElementById("calc-status");
      const btnCalc = document.getElementById("btn-calc");
      const btnClear = document.getElementById("btn-clear");
      const resultsContainer = document.getElementById("results-container");
      const resIPv4 = document.getElementById("results-ipv4");
      const resIPv6 = document.getElementById("results-ipv6");

      btnCalc.addEventListener("click", () => {
        statusEl.textContent = "";
        resultsContainer.classList.add("hidden");
        resIPv4.classList.add("hidden");
        resIPv6.classList.add("hidden");

        let value = ipInput.value.trim();
        if (!value) {
          statusEl.textContent = "Please enter an IP address or network.";
          return;
        }

        let prefix = null;
        if (value.includes("/")) {
          const [addr, p] = value.split("/");
          value = addr.trim();
          if (p !== undefined && p !== "") {
            const n = Number(p);
            if (!Number.isInteger(n) || n < 0 || n > 128) {
              statusEl.textContent = "Invalid prefix length.";
              return;
            }
            prefix = n;
          }
        }
        if (cidrInput.value !== "") {
          const n = Number(cidrInput.value);
          if (!Number.isInteger(n) || n < 0 || n > 128) {
            statusEl.textContent = "Invalid prefix length.";
            return;
          }
          prefix = n;
        }

        if (isIPv6(value)) {
          if (prefix == null) {
            statusEl.textContent =
              "Please provide a prefix length for IPv6 (e.g. /64).";
            return;
          }
          if (prefix > 128) {
            statusEl.textContent = "IPv6 prefix must be between 0 and 128.";
            return;
          }
          handleIPv6(value, prefix);
        } else {
          if (prefix == null) {
            statusEl.textContent = "Please provide a prefix length (e.g. /24).";
            return;
          }
          if (prefix > 32) {
            statusEl.textContent = "IPv4 prefix must be between 0 and 32.";
            return;
          }
          handleIPv4(value, prefix);
        }
      });

      function handleIPv4(ipStr, prefix) {
        const ipNum = parseIPv4(ipStr);
        if (ipNum === null) {
          statusEl.textContent = "Invalid IPv4 address.";
          return;
        }
        const mask = maskFromPrefix(prefix);
        if (mask === null) {
          statusEl.textContent = "Invalid prefix length for IPv4.";
          return;
        }
        const wildcard = wildcardFromMask(mask);
        const network = (ipNum & mask) >>> 0;
        const broadcast = (network | wildcard) >>> 0;
        const total = prefix === 32 ? 1 : (1 << (32 - prefix)) >>> 0;
        const usable = prefix >= 31 ? 0 : Math.max(total - 2, 0);
        const firstHost = prefix >= 31 ? null : (network + 1) >>> 0;
        const lastHost = prefix >= 31 ? null : (broadcast - 1) >>> 0;

        document.getElementById("r-ip").textContent = ipv4ToString(ipNum);
        document.getElementById("r-network").textContent =
          ipv4ToString(network) + "/" + prefix;
        document.getElementById("r-broadcast").textContent =
          prefix >= 31 ? "N/A" : ipv4ToString(broadcast);
        document.getElementById("r-first-host").textContent =
          firstHost === null ? "N/A" : ipv4ToString(firstHost);
        document.getElementById("r-last-host").textContent =
          lastHost === null ? "N/A" : ipv4ToString(lastHost);
        document.getElementById("r-cidr").textContent = "/" + prefix;
        document.getElementById("r-mask").textContent = ipv4ToString(mask);
        document.getElementById("r-wildcard").textContent =
          ipv4ToString(wildcard);
        document.getElementById("r-total").textContent = total.toLocaleString();
        document.getElementById("r-usable").textContent =
          usable.toLocaleString();

        document.getElementById("r-ip-bin").textContent = ipv4ToBinary(ipNum);
        document.getElementById("r-mask-bin").textContent = ipv4ToBinary(mask);
        document.getElementById("r-wildcard-bin").textContent =
          ipv4ToBinary(wildcard);

        const firstOctet = (ipNum >>> 24) & 0xff;
        document.getElementById("ipv4-class-badge").textContent =
          ipv4Class(firstOctet);

        // Reverse DNS (in-addr.arpa)
        const octets = ipv4ToString(ipNum).split(".");
        const ptr = octets.reverse().join(".") + ".in-addr.arpa.";
        document.getElementById("r-reverse-dns").textContent = ptr;

        resultsContainer.classList.remove("hidden");
        resIPv4.classList.remove("hidden");
      }

      function handleIPv6(ipStr, prefix) {
        const normalized = normalizeIPv6(ipStr);
        const expanded = expandIPv6(ipStr);
        if (!expanded) {
          statusEl.textContent = "Invalid IPv6 address.";
          return;
        }
        document.getElementById("v6-input").textContent = ipStr;
        document.getElementById("v6-normalized").textContent = normalized;
        document.getElementById("v6-expanded").textContent = expanded;
        document.getElementById("v6-cidr").textContent = "/" + prefix;
        document.getElementById("v6-network").textContent =
          normalized.split("/")[0] + "/" + prefix;
        document.getElementById("v6-count").textContent = ipv6Count(prefix);
        document.getElementById("v6-reverse-dns").textContent =
          ipv6ReversePtr(ipStr);

        resultsContainer.classList.remove("hidden");
        resIPv6.classList.remove("hidden");
      }

      btnClear.addEventListener("click", () => {
        ipInput.value = "";
        cidrInput.value = "";
        statusEl.textContent = "";
        resultsContainer.classList.add("hidden");
      });

      // Quick CIDR <-> mask
      document
        .getElementById("quick-cidr-btn")
        .addEventListener("click", () => {
          const p = Number(document.getElementById("quick-cidr").value);
          const mask = maskFromPrefix(p);
          if (mask === null) {
            alert("Prefix must be between 0 and 32.");
            return;
          }
          const wildcard = wildcardFromMask(mask);
          const total = p === 32 ? 1 : (1 << (32 - p)) >>> 0;
          const usable = p >= 31 ? 0 : Math.max(total - 2, 0);
          document.getElementById("quick-mask").textContent =
            ipv4ToString(mask);
          document.getElementById("quick-wildcard").textContent =
            ipv4ToString(wildcard);
          document.getElementById("quick-total").textContent =
            total.toLocaleString();
          document.getElementById("quick-usable").textContent =
            usable.toLocaleString();
        });

      // Range -> CIDR summarization
      function rangeToCIDR(start, end) {
        const result = [];
        let s = start >>> 0;
        const e = end >>> 0;
        while (s <= e) {
          let maxSize = s & -s;
          let maxMask = 32 - Math.floor(Math.log2(maxSize));
          let remaining = e - s + 1;
          let maxMask2 = 32 - Math.floor(Math.log2(remaining));
          const mask = Math.max(maxMask, maxMask2);
          result.push(ipv4ToString(s) + "/" + mask);
          const blockSize = 1 << (32 - mask);
          s += blockSize;
        }
        return result;
      }

      document.getElementById("range-btn").addEventListener("click", () => {
        const startStr = document.getElementById("range-start").value.trim();
        const endStr = document.getElementById("range-end").value.trim();
        const status = document.getElementById("range-status");
        const out = document.getElementById("range-results");
        status.textContent = "";
        out.textContent = "";

        const s = parseIPv4(startStr);
        const e = parseIPv4(endStr);
        if (s === null || e === null) {
          status.textContent = "Invalid IPv4 address.";
          return;
        }
        if (e < s) {
          status.textContent =
            "End address must be greater than or equal to start.";
          return;
        }
        const cidrs = rangeToCIDR(s, e);
        out.textContent = cidrs.join("\n");
      });

      // VLSM planner
      const vlsmRows = document.getElementById("vlsm-rows");
      const vlsmAddRow = document.getElementById("vlsm-add-row");
      vlsmAddRow.addEventListener("click", () => {
        const row = document.createElement("div");
        row.className = "flex gap-2 items-center";
        row.innerHTML =
          '<input type="number" min="1" class="vlsm-hosts w-32 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 20">' +
          '<button type="button" class="btn-remove-row text-xs text-red-600 hover:underline">Remove</button>';
        vlsmRows.appendChild(row);
      });
      vlsmRows.addEventListener("click", (e) => {
        if (e.target.classList.contains("btn-remove-row")) {
          const row = e.target.closest("div");
          row.remove();
        }
      });

      function smallestPrefixForHosts(hosts) {
        // Need at least hosts + 2 addresses (network + broadcast), except for /31,/32
        let needed = hosts + 2;
        if (hosts === 1) needed = 2; // /31
        if (hosts === 0) needed = 1; // /32
        let bits = Math.ceil(Math.log2(needed));
        if (bits > 32) return null;
        return 32 - bits;
      }

      document.getElementById("vlsm-calc").addEventListener("click", () => {
        const baseStr = document.getElementById("vlsm-base").value.trim();
        const status = document.getElementById("vlsm-status");
        const tbody = document.getElementById("vlsm-tbody");
        const results = document.getElementById("vlsm-results");
        status.textContent = "";
        tbody.innerHTML = "";
        results.classList.add("hidden");

        if (!baseStr.includes("/")) {
          status.textContent =
            "Base network must be in CIDR form, e.g. 10.0.0.0/24.";
          return;
        }
        const [baseIpStr, basePrefixStr] = baseStr.split("/");
        const baseIp = parseIPv4(baseIpStr);
        const basePrefix = Number(basePrefixStr);
        if (
          baseIp === null ||
          !Number.isInteger(basePrefix) ||
          basePrefix < 0 ||
          basePrefix > 32
        ) {
          status.textContent = "Invalid base network.";
          return;
        }
        const baseMask = maskFromPrefix(basePrefix);
        const baseNet = (baseIp & baseMask) >>> 0;
        const baseSize = basePrefix === 32 ? 1 : (1 << (32 - basePrefix)) >>> 0;
        let cursor = baseNet;

        const hostInputs = Array.from(document.querySelectorAll(".vlsm-hosts"));
        let requests = hostInputs
          .map((el, idx) => ({ idx: idx + 1, hosts: Number(el.value) }))
          .filter((r) => Number.isFinite(r.hosts) && r.hosts > 0);

        if (requests.length === 0) {
          status.textContent = "Please enter at least one required host count.";
          return;
        }

        // Sort by descending hosts
        requests.sort((a, b) => b.hosts - a.hosts);

        let used = 0;
        const allocations = [];
        for (const req of requests) {
          const p = smallestPrefixForHosts(req.hosts);
          if (p === null || p < basePrefix) {
            status.textContent =
              "Cannot fit subnet requiring " +
              req.hosts +
              " hosts inside " +
              baseStr +
              ".";
            return;
          }
          const blockSize = 1 << (32 - p);
          // Align cursor to blockSize
          const aligned = (cursor + (blockSize - 1)) & ~(blockSize - 1);
          if (aligned + blockSize - 1 > baseNet + baseSize - 1) {
            status.textContent =
              "Not enough space in base network to allocate all subnets.";
            return;
          }
          const net = aligned >>> 0;
          const bcast = (net + blockSize - 1) >>> 0;
          const usable = p >= 31 ? 0 : Math.max(blockSize - 2, 0);
          const firstHost = p >= 31 ? null : (net + 1) >>> 0;
          const lastHost = p >= 31 ? null : (bcast - 1) >>> 0;
          const waste = usable - req.hosts;

          allocations.push({
            reqHosts: req.hosts,
            prefix: p,
            net,
            bcast,
            firstHost,
            lastHost,
            usable,
            waste,
          });

          cursor = (aligned + blockSize) >>> 0;
          used += blockSize;
        }

        allocations.forEach((a, i) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-2 py-1 border-b">${i + 1}</td>
        <td class="px-2 py-1 border-b">${a.reqHosts.toLocaleString()}</td>
        <td class="px-2 py-1 border-b">${ipv4ToString(a.net)}/${a.prefix}</td>
        <td class="px-2 py-1 border-b">${ipv4ToString(
          maskFromPrefix(a.prefix)
        )}</td>
        <td class="px-2 py-1 border-b">${
          a.firstHost === null ? "N/A" : ipv4ToString(a.firstHost)
        } – ${a.lastHost === null ? "N/A" : ipv4ToString(a.lastHost)}</td>
        <td class="px-2 py-1 border-b">${a.usable.toLocaleString()}</td>
        <td class="px-2 py-1 border-b">${a.waste.toLocaleString()}</td>
      `;
          tbody.appendChild(tr);
        });

        results.classList.remove("hidden");
      });

      document.getElementById("vlsm-clear").addEventListener("click", () => {
        document.getElementById("vlsm-base").value = "";
        document.getElementById("vlsm-status").textContent = "";
        document.getElementById("vlsm-tbody").innerHTML = "";
        document.getElementById("vlsm-results").classList.add("hidden");
        vlsmRows.innerHTML = `
      <div class="flex gap-2 items-center">
        <input type="number" min="1" class="vlsm-hosts w-32 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 50">
        <button type="button" class="btn-remove-row text-xs text-red-600 hover:underline hidden">Remove</button>
      </div>`;
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
