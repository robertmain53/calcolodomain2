<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/heloc" />
    <title>Heloc Calculator Guide Now [Bold 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Heloc Calculator Guide Now fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Heloc Calculator Guide Now [Bold 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Heloc Calculator Guide Now fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/heloc" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Heloc Calculator Guide Now [Bold 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Heloc Calculator Guide Now fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Mortgages & Home Financing Calculators", "item": "https://calcdomain.com/subcategories/finance-mortgages-and-home"}, {"@type": "ListItem", "position": 4, "name": "HELOC Calculator (Home Equity Line of Credit)", "item": "https://calcdomain.com/heloc"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-mortgages-and-home" class="text-blue-600 hover:underline">Mortgages &amp; Home Financing Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">HELOC Calculator (Home Equity Line of Credit)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                HELOC Calculator (Home Equity Line of Credit)
              </h1>
              <p class="text-gray-700">
                Estimate how much you can borrow with a HELOC, your
                interest-only payment during the draw period, and your fully
                amortizing payment during repayment. Model custom draw schedules
                and rate scenarios.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-label="HELOC calculator" class="space-y-6">
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="homeValue"
                    class="block text-sm font-medium text-gray-700"
                    >Home value</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      type="number"
                      id="homeValue"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      value="500000"
                      min="0"
                      step="1000"
                    />
                  </div>
                </div>
                <div>
                  <label
                    for="mortgageBalance"
                    class="block text-sm font-medium text-gray-700"
                    >Current mortgage balance</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      type="number"
                      id="mortgageBalance"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      value="300000"
                      min="0"
                      step="1000"
                    />
                  </div>
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-4">
                <div>
                  <label
                    for="maxCltv"
                    class="block text-sm font-medium text-gray-700"
                    >Max CLTV (combined loan-to-value)</label
                  >
                  <select
                    id="maxCltv"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="0.75">75%</option>
                    <option value="0.80" selected>80%</option>
                    <option value="0.85">85%</option>
                    <option value="0.90">90%</option>
                  </select>
                </div>
                <div>
                  <label
                    for="rate"
                    class="block text-sm font-medium text-gray-700"
                    >HELOC interest rate (APR)</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="rate"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                      value="8"
                      min="0"
                      max="30"
                      step="0.1"
                    />
                    <span
                      class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                      >%</span
                    >
                  </div>
                </div>
                <div>
                  <label
                    for="rateScenario"
                    class="block text-sm font-medium text-gray-700"
                    >Rate scenario</label
                  >
                  <select
                    id="rateScenario"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="current" selected>Use current rate</option>
                    <option value="plus1">+1% rate shock</option>
                    <option value="plus2">+2% rate shock</option>
                  </select>
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-4">
                <div>
                  <label
                    for="drawYears"
                    class="block text-sm font-medium text-gray-700"
                    >Draw period</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="drawYears"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                      value="10"
                      min="1"
                      max="20"
                      step="1"
                    />
                    <span
                      class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                      >years</span
                    >
                  </div>
                </div>
                <div>
                  <label
                    for="repayYears"
                    class="block text-sm font-medium text-gray-700"
                    >Repayment period</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="repayYears"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                      value="20"
                      min="1"
                      max="30"
                      step="1"
                    />
                    <span
                      class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                      >years</span
                    >
                  </div>
                </div>
                <div>
                  <label
                    for="utilization"
                    class="block text-sm font-medium text-gray-700"
                    >Planned utilization of limit</label
                  >
                  <div class="mt-1 flex items-center gap-2">
                    <input
                      type="range"
                      id="utilization"
                      min="10"
                      max="100"
                      value="100"
                      step="5"
                      class="w-full"
                    />
                    <span
                      id="utilizationValue"
                      class="range-value text-sm text-gray-700"
                      >100%</span
                    >
                  </div>
                </div>
              </div>

              <!-- Custom draw schedule -->
              <details class="border border-gray-200 rounded-md p-4 bg-gray-50">
                <summary class="cursor-pointer font-medium text-gray-800">
                  Optional: Custom draw schedule
                </summary>
                <p class="mt-2 text-sm text-gray-600">
                  If you plan to borrow in stages instead of all at once, add
                  draws below. Leave empty to assume you borrow your chosen
                  utilization amount immediately.
                </p>
                <div class="mt-3 space-y-2" id="drawScheduleContainer">
                  <div
                    class="flex items-center gap-2 text-xs font-semibold text-gray-500"
                  >
                    <span class="w-1/3">Amount</span>
                    <span class="w-1/3">Month from now</span>
                    <span class="w-1/3">Note</span>
                  </div>
                  <div id="drawRows" class="space-y-2"></div>
                  <button
                    type="button"
                    id="addDrawRow"
                    class="mt-2 inline-flex items-center px-3 py-1.5 border border-dashed border-blue-500 text-blue-600 text-xs font-medium rounded hover:bg-blue-50"
                  >
                    + Add draw
                  </button>
                </div>
              </details>

              <div class="flex flex-wrap items-center gap-3 pt-2">
                <button
                  id="calculateBtn"
                  class="inline-flex justify-center px-5 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  Calculate HELOC
                </button>
                <button
                  id="resetBtn"
                  class="inline-flex justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
                >
                  Reset
                </button>
                <p id="inputError" class="text-sm text-red-600 hidden">
                  Please check your inputs. Mortgage balance cannot exceed
                  allowed CLTV.
                </p>
              </div>
            </section>

            <!-- Results -->
            <section
              id="resultsSection"
              class="mt-8 space-y-6 hidden"
              aria-label="HELOC results"
            >
              <h2 class="text-xl font-semibold">Results</h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">
                    Borrowing power
                  </h3>
                  <dl class="space-y-1 text-sm">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Max combined loan amount (CLTV limit)
                      </dt>
                      <dd
                        id="maxCombinedLoan"
                        class="font-semibold text-gray-900"
                      >
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Estimated maximum HELOC limit
                      </dt>
                      <dd
                        id="maxHelocLimit"
                        class="font-semibold text-gray-900"
                      >
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Planned draw (based on utilization)
                      </dt>
                      <dd id="plannedDraw" class="font-semibold text-gray-900">
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Starting CLTV with planned draw
                      </dt>
                      <dd id="startingCltv" class="font-semibold text-gray-900">
                        0%
                      </dd>
                    </div>
                  </dl>
                </div>
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">
                    Payments
                  </h3>
                  <dl class="space-y-1 text-sm">
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Interest-only payment during draw (if fully drawn)
                      </dt>
                      <dd
                        id="interestOnlyPayment"
                        class="font-semibold text-gray-900"
                      >
                        $0/mo
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Estimated payment at start of repayment
                      </dt>
                      <dd
                        id="repaymentPayment"
                        class="font-semibold text-gray-900"
                      >
                        $0/mo
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">
                        Total interest over life of HELOC (scenario)
                      </dt>
                      <dd
                        id="totalInterest"
                        class="font-semibold text-gray-900"
                      >
                        $0
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-600">Rate scenario used</dt>
                      <dd
                        id="rateScenarioUsed"
                        class="font-semibold text-gray-900"
                      >
                        –
                      </dd>
                    </div>
                  </dl>
                </div>
              </div>

              <!-- Amortization summary -->
              <div class="border border-gray-200 rounded-lg p-4">
                <h3 class="text-sm font-semibold text-gray-700 mb-2">
                  Timeline summary
                </h3>
                <p id="timelineSummary" class="text-sm text-gray-700">
                  <!-- Filled by JS -->
                </p>
              </div>

              <!-- Amortization table -->
              <div class="table-scroll border border-gray-200 rounded-lg">
                <table class="min-w-full text-xs">
                  <thead class="bg-gray-100">
                    <tr>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700"
                      >
                        Month
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Phase
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Payment
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Interest
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Principal
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Draws
                      </th>
                      <th
                        class="px-3 py-2 text-right font-semibold text-gray-700"
                      >
                        Ending balance
                      </th>
                    </tr>
                  </thead>
                  <tbody id="amortTableBody" class="divide-y divide-gray-100">
                    <!-- Rows injected by JS -->
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                This amortization assumes you make at least the required payment
                each month and do not exceed your HELOC limit. Actual lender
                terms, fees, and rate changes will affect your real payments.
              </p>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-10">
              <h2>What is a HELOC?</h2>
              <p>
                A home equity line of credit (HELOC) is a revolving line of
                credit secured by your home. Instead of receiving one lump sum,
                you get a credit limit you can borrow from, repay, and borrow
                again during the
                <strong>draw period</strong>. Most HELOCs have variable interest
                rates and transition to a
                <strong>repayment period</strong> where the remaining balance is
                paid off over time.
              </p>

              <h2>How this HELOC calculator works</h2>
              <p>
                This tool focuses on three key questions most homeowners have:
              </p>
              <ul>
                <li>
                  <strong>How much can I borrow?</strong> Based on your home
                  value, existing mortgage, and a chosen maximum combined
                  loan-to-value (CLTV).
                </li>
                <li>
                  <strong>What will my monthly payment be?</strong> During the
                  interest-only draw period and during the amortizing repayment
                  period.
                </li>
                <li>
                  <strong>What happens if rates rise?</strong> You can test +1%
                  and +2% rate shocks to see how sensitive your payments are.
                </li>
              </ul>

              <h3>1. Maximum HELOC limit (borrowing power)</h3>
              <p>
                The calculator first estimates your maximum HELOC limit using a
                CLTV cap:
              </p>
              <div class="formula-box">
                <p><strong>Step 1 – CLTV limit:</strong></p>
                <p>Max combined loan amount = Home value × Max CLTV</p>
                <p><strong>Step 2 – HELOC limit:</strong></p>
                <p>
                  Max HELOC limit = Max combined loan amount − Current mortgage
                  balance
                </p>
              </div>
              <p>
                Many lenders cap CLTV at <strong>75–90%</strong>. If your
                existing mortgage already exceeds the chosen CLTV, the
                calculator will warn you that there is no room for a HELOC under
                that assumption.
              </p>

              <h3>2. Interest-only payment during the draw period</h3>
              <p>
                During the draw period, many HELOCs require only interest
                payments on the outstanding balance (though you can usually pay
                extra principal). If your balance is <em>B</em> and your annual
                percentage rate (APR) is <em>R</em>, the monthly interest-only
                payment is:
              </p>
              <div class="formula-box">
                <p>Monthly rate \( r = \dfrac{R}{12} \)</p>
                <p>Interest-only payment \( = B \times r \)</p>
              </div>
              <p>
                Our calculator shows this assuming you fully draw the line. If
                you use the custom draw schedule, the amortization table will
                show how interest changes as you borrow over time.
              </p>

              <h3>3. Amortizing payment during the repayment period</h3>
              <p>
                When the draw period ends, the remaining HELOC balance is
                typically converted into an amortizing loan. The standard
                fixed-payment formula is:
              </p>
              <div class="formula-box">
                <p>Monthly rate \( r = \dfrac{R}{12} \)</p>
                <p>
                  Number of months \( n = \text{repayment years} \times 12 \)
                </p>
                <p>Payment \( = \dfrac{r \times B}{1 - (1 + r)^{-n}} \)</p>
              </div>
              <p>
                The calculator uses the projected balance at the end of the draw
                period and your chosen repayment term to compute this payment.
              </p>

              <h2>Understanding key HELOC terms</h2>
              <h3>Home equity</h3>
              <p>
                Your home equity is the portion of your home you “own” outright:
              </p>
              <div class="formula-box">
                <p>Home equity = Home value − Total mortgage debt</p>
              </div>
              <p>
                Lenders use equity and CLTV to decide how much they are willing
                to lend.
              </p>

              <h3>Loan-to-value (LTV) and combined loan-to-value (CLTV)</h3>
              <ul>
                <li>
                  <strong>LTV</strong> = First mortgage balance ÷ Home value
                </li>
                <li>
                  <strong>CLTV</strong> = (First mortgage + HELOC balance) ÷
                  Home value
                </li>
              </ul>
              <p>
                Lower CLTV means more equity cushion for the lender and usually
                better rates for you.
              </p>

              <h3>Draw period vs. repayment period</h3>
              <ul>
                <li>
                  <strong>Draw period:</strong> Typically 5–10 years. You can
                  borrow, repay, and re-borrow up to your limit. Payments may be
                  interest-only.
                </li>
                <li>
                  <strong>Repayment period:</strong> Often 10–20 years. The line
                  is closed to new borrowing and the balance is amortized.
                </li>
              </ul>

              <h2>When a HELOC can make sense</h2>
              <ul>
                <li>
                  <strong>Home improvements</strong> that may increase your
                  property value.
                </li>
                <li>
                  <strong>Debt consolidation</strong> if you replace higher-rate
                  unsecured debt and commit to not re-running balances.
                </li>
                <li>
                  <strong>Emergency or flexibility fund</strong> for homeowners
                  with strong discipline and stable income.
                </li>
              </ul>

              <p class="text-sm text-gray-600">
                A HELOC is secured by your home. Missing payments can lead to
                foreclosure. Always compare offers from multiple lenders and
                consider speaking with a qualified financial advisor before
                borrowing against your home.
              </p>
            </section>

            <!-- FAQ -->
            <section class="mt-10">
              <h2 class="text-xl font-semibold mb-4">HELOC FAQ</h2>
              <div class="space-y-3" id="faq">
                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >How much HELOC can I qualify for?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Lenders usually cap your combined loan-to-value (CLTV) at
                    75–90% of your home’s value. A rough upper bound is:
                    <br /><br />
                    <code
                      >Max HELOC ≈ Home value × Max CLTV − Existing mortgage
                      balance</code
                    >
                    <br /><br />
                    Your actual approval will also depend on your credit score,
                    income, debt-to-income ratio, property type, and
                    lender-specific underwriting rules.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >How is a HELOC payment calculated?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    During the draw period, many HELOCs require only interest
                    payments:
                    <br /><br />
                    <code>Payment = Balance × (Annual rate ÷ 12)</code>
                    <br /><br />
                    During the repayment period, the balance is amortized like a
                    traditional loan using the standard payment formula. Our
                    calculator estimates both phases based on your inputs.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Can HELOC rates change over time?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Yes. Most HELOCs have variable rates tied to a benchmark
                    (like the prime rate) plus a margin. Your rate can change
                    periodically, subject to caps and floors in your contract.
                    Use the rate shock options (+1% or +2%) to see how sensitive
                    your payment is to higher rates.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Is a HELOC better than a cash-out refinance?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    It depends. A HELOC leaves your existing mortgage in place
                    and adds a second lien, which can be attractive if your
                    current mortgage rate is much lower than today’s rates. A
                    cash-out refinance replaces your entire mortgage with a new,
                    larger loan. Compare total costs, rates, and your time
                    horizon before choosing.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Is this HELOC calculator financial advice?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    No. This calculator is an educational tool that uses
                    simplified assumptions. It does not account for all lender
                    fees, taxes, insurance, or future rate changes. For
                    personalized advice, speak with a licensed mortgage
                    professional or financial advisor.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Heloc.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related mortgage & home tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-blue-600 hover:underline"
                  >House Affordability Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-refinance"
                  class="text-blue-600 hover:underline"
                  >Mortgage Refinance Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rent-vs-buy"
                  class="text-blue-600 hover:underline"
                  >Rent vs. Buy Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/closing-costs"
                  class="text-blue-600 hover:underline"
                  >Closing Costs Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-affordability-calculator"
                  class="text-blue-600 hover:underline"
                  >Mortgage Affordability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reverse-mortgage"
                  class="text-blue-600 hover:underline"
                  >Reverse Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/70-rule"
                  class="text-blue-600 hover:underline"
                  >70% Rule (House Flipping)</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More finance calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization"
                  class="text-blue-600 hover:underline"
                  >Loan Amortization Schedule</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-to-income-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income Ratio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/net-worth"
                  class="text-blue-600 hover:underline"
                  >Net Worth Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retirement"
                  class="text-blue-600 hover:underline"
                  >Retirement Planner</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function fmtMoney(x) {
        if (!isFinite(x)) return "$0";
        return "$" + x.toLocaleString(undefined, { maximumFractionDigits: 0 });
      }
      function fmtMoney2(x) {
        if (!isFinite(x)) return "$0";
        return (
          "$" +
          x.toLocaleString(undefined, {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          })
        );
      }
      function fmtPct(x) {
        if (!isFinite(x)) return "0%";
        return (x * 100).toFixed(1) + "%";
      }

      const utilizationInput = document.getElementById("utilization");
      const utilizationValue = document.getElementById("utilizationValue");
      utilizationInput.addEventListener("input", () => {
        utilizationValue.textContent = utilizationInput.value + "%";
      });

      // Draw schedule dynamic rows
      const drawRowsContainer = document.getElementById("drawRows");
      const addDrawRowBtn = document.getElementById("addDrawRow");

      function addDrawRow(amount = "", month = "", note = "") {
        const row = document.createElement("div");
        row.className = "flex items-center gap-2";
        row.innerHTML = `
      <div class="w-1/3">
        <div class="flex rounded-md shadow-sm">
          <span class="inline-flex items-center px-2 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-xs">$</span>
          <input type="number" class="draw-amount flex-1 min-w-0 block w-full px-2 py-1 border border-gray-300 rounded-r-md text-xs" placeholder="5,000" value="${amount}">
        </div>
      </div>
      <div class="w-1/3">
        <div class="flex rounded-md shadow-sm">
          <input type="number" class="draw-month flex-1 min-w-0 block w-full px-2 py-1 border border-gray-300 rounded-l-md text-xs" placeholder="e.g. 6" value="${month}">
          <span class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-xs">mo</span>
        </div>
      </div>
      <div class="w-1/3 flex items-center gap-1">
        <input type="text" class="draw-note flex-1 min-w-0 block w-full px-2 py-1 border border-gray-300 rounded-md text-xs" placeholder="Kitchen, debt, etc." value="${note}">
        <button type="button" class="remove-draw text-red-500 text-xs px-1">✕</button>
      </div>
    `;
        row.querySelector(".remove-draw").addEventListener("click", () => {
          row.remove();
        });
        drawRowsContainer.appendChild(row);
      }

      addDrawRowBtn.addEventListener("click", () => addDrawRow());

      // Core calculation
      const calculateBtn = document.getElementById("calculateBtn");
      const resetBtn = document.getElementById("resetBtn");
      const inputError = document.getElementById("inputError");
      const resultsSection = document.getElementById("resultsSection");

      calculateBtn.addEventListener("click", () => {
        inputError.classList.add("hidden");

        const homeValue =
          parseFloat(document.getElementById("homeValue").value) || 0;
        const mortgageBalance =
          parseFloat(document.getElementById("mortgageBalance").value) || 0;
        const maxCltv =
          parseFloat(document.getElementById("maxCltv").value) || 0.8;
        const baseRate =
          (parseFloat(document.getElementById("rate").value) || 0) / 100;
        const rateScenario = document.getElementById("rateScenario").value;
        const drawYears =
          parseInt(document.getElementById("drawYears").value, 10) || 0;
        const repayYears =
          parseInt(document.getElementById("repayYears").value, 10) || 0;
        const utilization = (parseInt(utilizationInput.value, 10) || 0) / 100;

        if (homeValue <= 0 || drawYears <= 0 || repayYears <= 0) {
          inputError.textContent =
            "Please enter positive values for home value, draw period, and repayment period.";
          inputError.classList.remove("hidden");
          resultsSection.classList.add("hidden");
          return;
        }

        const maxCombinedLoan = homeValue * maxCltv;
        if (mortgageBalance > maxCombinedLoan) {
          inputError.textContent =
            "Your current mortgage balance exceeds the chosen CLTV limit. Try a higher CLTV or lower mortgage balance.";
          inputError.classList.remove("hidden");
          resultsSection.classList.add("hidden");
          return;
        }

        const maxHelocLimit = Math.max(0, maxCombinedLoan - mortgageBalance);
        const plannedDraw = maxHelocLimit * utilization;
        const startingCltv = (mortgageBalance + plannedDraw) / homeValue;

        // Rate scenario
        let effRate = baseRate;
        let scenarioLabel = "Current rate";
        if (rateScenario === "plus1") {
          effRate = baseRate + 0.01;
          scenarioLabel = "+1% rate shock";
        } else if (rateScenario === "plus2") {
          effRate = baseRate + 0.02;
          scenarioLabel = "+2% rate shock";
        }
        const monthlyRate = effRate / 12;

        // Interest-only payment assuming fully drawn
        const interestOnlyPayment = maxHelocLimit * monthlyRate;

        // Build draw schedule
        const drawRows = Array.from(
          drawRowsContainer.querySelectorAll(".flex.items-center.gap-2")
        );
        let draws = [];
        if (drawRows.length > 0) {
          drawRows.forEach((row) => {
            const amt =
              parseFloat(row.querySelector(".draw-amount").value) || 0;
            const mo = parseInt(row.querySelector(".draw-month").value, 10);
            if (amt > 0 && mo >= 0) {
              draws.push({ month: mo, amount: amt });
            }
          });
          draws.sort((a, b) => a.month - b.month);
        } else {
          // Single draw at month 0 equal to plannedDraw
          draws.push({ month: 0, amount: plannedDraw });
        }

        const totalMonths = (drawYears + repayYears) * 12;
        const drawMonths = drawYears * 12;

        let balance = 0;
        let totalInterest = 0;
        const amortRows = [];
        let repaymentPayment = 0;

        // Pre-calc total planned draws to avoid exceeding limit
        const totalPlannedDraws = draws.reduce((sum, d) => sum + d.amount, 0);
        const scaleFactor =
          totalPlannedDraws > maxHelocLimit && totalPlannedDraws > 0
            ? maxHelocLimit / totalPlannedDraws
            : 1;

        // First pass: simulate draw period to get balance at end of draw
        for (let m = 0; m < drawMonths; m++) {
          const monthDraws = draws.filter((d) => d.month === m);
          let drawAmount = monthDraws.reduce(
            (sum, d) => sum + d.amount * scaleFactor,
            0
          );
          // Cap to remaining limit
          const remainingLimit = maxHelocLimit - balance;
          if (drawAmount > remainingLimit) drawAmount = remainingLimit;

          balance += drawAmount;
          const interest = balance * monthlyRate;
          totalInterest += interest;

          const payment = interest; // interest-only assumption
          const principalPaid = 0;

          amortRows.push({
            month: m + 1,
            phase: "Draw",
            payment,
            interest,
            principal: principalPaid,
            draws: drawAmount,
            balance,
          });
        }

        const balanceAtRepayStart = balance;

        // Compute repayment payment using amortization formula
        const repayMonths = repayYears * 12;
        if (repayMonths > 0 && monthlyRate > 0 && balanceAtRepayStart > 0) {
          repaymentPayment =
            (monthlyRate * balanceAtRepayStart) /
            (1 - Math.pow(1 + monthlyRate, -repayMonths));
        } else if (repayMonths > 0 && balanceAtRepayStart > 0) {
          repaymentPayment = balanceAtRepayStart / repayMonths;
        } else {
          repaymentPayment = 0;
        }

        // Second pass: simulate repayment period
        for (let m = drawMonths; m < totalMonths; m++) {
          const interest = balance * monthlyRate;
          let payment = repaymentPayment;
          if (payment < interest) payment = interest; // avoid negative principal
          let principalPaid = payment - interest;
          if (principalPaid > balance) {
            principalPaid = balance;
            payment = interest + principalPaid;
          }
          balance -= principalPaid;
          totalInterest += interest;

          amortRows.push({
            month: m + 1,
            phase: "Repay",
            payment,
            interest,
            principal: principalPaid,
            draws: 0,
            balance,
          });

          if (balance <= 0) {
            // Stop early if fully paid
            break;
          }
        }

        // Populate results
        document.getElementById("maxCombinedLoan").textContent =
          fmtMoney(maxCombinedLoan);
        document.getElementById("maxHelocLimit").textContent =
          fmtMoney(maxHelocLimit);
        document.getElementById("plannedDraw").textContent =
          fmtMoney(plannedDraw);
        document.getElementById("startingCltv").textContent =
          fmtPct(startingCltv);
        document.getElementById("interestOnlyPayment").textContent =
          fmtMoney2(interestOnlyPayment) + "/mo";
        document.getElementById("repaymentPayment").textContent =
          fmtMoney2(repaymentPayment) + "/mo";
        document.getElementById("totalInterest").textContent = fmtMoney(
          Math.round(totalInterest)
        );
        document.getElementById("rateScenarioUsed").textContent = scenarioLabel;

        const timelineSummary = document.getElementById("timelineSummary");
        timelineSummary.textContent =
          `Assuming you borrow according to the schedule above and rates follow the selected scenario, your HELOC would have a maximum limit of ${fmtMoney(
            maxHelocLimit
          )}, ` +
          `reach an estimated balance of ${fmtMoney(
            balanceAtRepayStart
          )} at the end of the ${drawYears}-year draw period, ` +
          `and require an estimated payment of ${fmtMoney2(
            repaymentPayment
          )} per month during the ${repayYears}-year repayment period.`;

        // Render amortization table (limit to first 360 rows for performance)
        const tbody = document.getElementById("amortTableBody");
        tbody.innerHTML = "";
        const maxRows = 360;
        amortRows.slice(0, maxRows).forEach((row) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-3 py-1 text-gray-700">${row.month}</td>
        <td class="px-3 py-1 text-right text-gray-700">${row.phase}</td>
        <td class="px-3 py-1 text-right text-gray-700">${fmtMoney2(
          row.payment
        )}</td>
        <td class="px-3 py-1 text-right text-gray-700">${fmtMoney2(
          row.interest
        )}</td>
        <td class="px-3 py-1 text-right text-gray-700">${fmtMoney2(
          row.principal
        )}</td>
        <td class="px-3 py-1 text-right text-gray-700">${
          row.draws ? fmtMoney2(row.draws) : "$0.00"
        }</td>
        <td class="px-3 py-1 text-right text-gray-700">${fmtMoney2(
          row.balance
        )}</td>
      `;
          tbody.appendChild(tr);
        });
        if (amortRows.length > maxRows) {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td colspan="7" class="px-3 py-2 text-center text-gray-500">
          Showing first ${maxRows} months. Adjust your terms to shorten the schedule if needed.
        </td>
      `;
          tbody.appendChild(tr);
        }

        resultsSection.classList.remove("hidden");
      });

      resetBtn.addEventListener("click", () => {
        document.getElementById("homeValue").value = 500000;
        document.getElementById("mortgageBalance").value = 300000;
        document.getElementById("maxCltv").value = "0.80";
        document.getElementById("rate").value = 8;
        document.getElementById("rateScenario").value = "current";
        document.getElementById("drawYears").value = 10;
        document.getElementById("repayYears").value = 20;
        utilizationInput.value = 100;
        utilizationValue.textContent = "100%";
        drawRowsContainer.innerHTML = "";
        inputError.classList.add("hidden");
        resultsSection.classList.add("hidden");
      });

      document.querySelectorAll("#faq .faq-question").forEach((btn) => {
        btn.addEventListener("click", () => {
          const answer = btn.parentElement.querySelector(".faq-answer");
          const isHidden = answer.classList.contains("hidden");
          document
            .querySelectorAll("#faq .faq-answer")
            .forEach((a) => a.classList.add("hidden"));
          document
            .querySelectorAll("#faq .faq-question span:last-child")
            .forEach((icon) => (icon.textContent = "+"));
          if (isHidden) {
            answer.classList.remove("hidden");
            btn.querySelector("span:last-child").textContent = "−";
          }
        });
      });

      // Mobile menu toggle (in case global mobile-menu.js not yet loaded)
      const mobileToggle = document.getElementById("mobile-menu-toggle");
      const mobileMenu = document.getElementById("mobile-menu");
      if (mobileToggle && mobileMenu) {
        mobileToggle.addEventListener("click", () => {
          const isHidden = mobileMenu.classList.contains("hidden");
          mobileMenu.classList.toggle("hidden", !isHidden);
          mobileToggle.setAttribute(
            "aria-expanded",
            isHidden ? "true" : "false"
          );
        });
      }
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
