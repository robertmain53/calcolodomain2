<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/antenna-design" />
    <title>Antenna Design Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Antenna Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Antenna Design Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Antenna Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/antenna-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Antenna Design Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Antenna Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical Calculators", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "Antenna Design Calculator", "item": "https://calcdomain.com/antenna-design"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Antenna Design Calculator</span></li>
  </ol>
</nav>

      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Antenna Design Calculator
              </h1>
              <p class="text-gray-600">
                Compute wavelength, dipole and monopole length, microstrip patch
                dimensions, gain, beamwidth, and a simple link budget for your
                RF design.
              </p>
            </header>

            <!-- Tabs -->
            <div class="border-b border-gray-200 mb-4">
              <nav
                class="-mb-px flex flex-wrap gap-4"
                aria-label="Antenna design modes"
              >
                <button
                  type="button"
                  data-tab="tab-basic"
                  class="tab-btn border-b-2 border-blue-600 text-blue-600 px-1 pb-2 text-sm font-medium"
                >
                  Wavelength &amp; Basic Length
                </button>
                <button
                  type="button"
                  data-tab="tab-dipole"
                  class="tab-btn border-b-2 border-transparent text-gray-600 hover:text-blue-600 px-1 pb-2 text-sm font-medium"
                >
                  Dipole / Monopole
                </button>
                <button
                  type="button"
                  data-tab="tab-patch"
                  class="tab-btn border-b-2 border-transparent text-gray-600 hover:text-blue-600 px-1 pb-2 text-sm font-medium"
                >
                  Microstrip Patch
                </button>
                <button
                  type="button"
                  data-tab="tab-link"
                  class="tab-btn border-b-2 border-transparent text-gray-600 hover:text-blue-600 px-1 pb-2 text-sm font-medium"
                >
                  Link Budget
                </button>
              </nav>
            </div>

            <!-- Calculator Panels -->
            <section id="tab-basic" class="tab-panel space-y-4">
              <h2 class="text-xl font-semibold">
                1. Wavelength &amp; Basic Antenna Length
              </h2>
              <p class="text-gray-600 text-sm">
                Start here: enter your operating frequency and medium to get
                wavelength and ideal half-wave / quarter-wave lengths.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="freq-basic"
                    class="block text-sm font-medium text-gray-700"
                    >Frequency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="freq-basic"
                      type="number"
                      step="0.001"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      value="2400"
                    />
                    <select
                      id="freq-basic-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="Hz">Hz</option>
                      <option value="kHz">kHz</option>
                      <option value="MHz" selected>MHz</option>
                      <option value="GHz">GHz</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="medium-select"
                    class="block text-sm font-medium text-gray-700"
                    >Propagation Medium</label
                  >
                  <select
                    id="medium-select"
                    class="mt-1 w-full border rounded-md px-3 py-2 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="1.0" selected>
                      Free space / air (εr ≈ 1.0)
                    </option>
                    <option value="2.2">
                      Low-loss RF substrate (εr ≈ 2.2, e.g. Rogers RT/duroid)
                    </option>
                    <option value="4.3">FR-4 PCB (εr ≈ 4.3)</option>
                    <option value="custom">
                      Custom relative permittivity (εr)
                    </option>
                  </select>
                  <div id="custom-er-wrapper" class="mt-2 hidden">
                    <label
                      for="custom-er"
                      class="block text-xs font-medium text-gray-600"
                      >Custom εr</label
                    >
                    <input
                      id="custom-er"
                      type="number"
                      step="0.01"
                      value="3.0"
                      class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                  </div>
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  id="btn-basic-calc"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate
                </button>
                <button
                  id="btn-basic-reset"
                  type="button"
                  class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
              </div>

              <div id="basic-results" class="mt-4 grid md:grid-cols-2 gap-4">
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">Wavelength</h3>
                  <p class="text-sm text-gray-700">
                    λ (in medium):
                    <span id="lambda-m" class="font-mono font-semibold">—</span>
                    m
                  </p>
                  <p class="text-sm text-gray-700">
                    λ (in medium):
                    <span id="lambda-mm" class="font-mono font-semibold"
                      >—</span
                    >
                    mm
                  </p>
                </div>
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">
                    Ideal Element Lengths
                  </h3>
                  <p class="text-sm text-gray-700">
                    Half-wave (λ/2):
                    <span id="len-half" class="font-mono font-semibold">—</span>
                    m
                  </p>
                  <p class="text-sm text-gray-700">
                    Quarter-wave (λ/4):
                    <span id="len-quarter" class="font-mono font-semibold"
                      >—</span
                    >
                    m
                  </p>
                </div>
              </div>
            </section>

            <section id="tab-dipole" class="tab-panel space-y-4 hidden">
              <h2 class="text-xl font-semibold">
                2. Dipole / Monopole Antenna Designer
              </h2>
              <p class="text-gray-600 text-sm">
                Get practical element lengths for center-fed dipoles and
                quarter-wave monopoles, including end-effect shortening.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="freq-dipole"
                    class="block text-sm font-medium text-gray-700"
                    >Frequency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="freq-dipole"
                      type="number"
                      step="0.001"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      value="915"
                    />
                    <select
                      id="freq-dipole-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="Hz">Hz</option>
                      <option value="kHz">kHz</option>
                      <option value="MHz" selected>MHz</option>
                      <option value="GHz">GHz</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700"
                    >Antenna Type</label
                  >
                  <div class="mt-1 grid grid-cols-2 gap-2">
                    <label class="flex items-center space-x-2 text-sm">
                      <input
                        type="radio"
                        name="dipole-type"
                        value="dipole"
                        class="text-blue-600"
                        checked
                      />
                      <span>Half-wave dipole</span>
                    </label>
                    <label class="flex items-center space-x-2 text-sm">
                      <input
                        type="radio"
                        name="dipole-type"
                        value="monopole"
                        class="text-blue-600"
                      />
                      <span>Quarter-wave monopole</span>
                    </label>
                  </div>
                </div>

                <div>
                  <label
                    for="shortening-factor"
                    class="block text-sm font-medium text-gray-700"
                    >Shortening Factor (end effects)</label
                  >
                  <input
                    id="shortening-factor"
                    type="number"
                    step="0.001"
                    value="0.95"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Typical: 0.95 for wire dipoles, 0.90–0.98 depending on
                    thickness and insulation.
                  </p>
                </div>

                <div>
                  <label
                    for="wire-diameter"
                    class="block text-sm font-medium text-gray-700"
                    >Conductor Diameter (optional)</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="wire-diameter"
                      type="number"
                      step="0.001"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      placeholder="e.g. 1"
                    />
                    <select
                      id="wire-diameter-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="mm" selected>mm</option>
                      <option value="in">inch</option>
                    </select>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Used only for reference; not required for length
                    calculation.
                  </p>
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  id="btn-dipole-calc"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate Dipole / Monopole
                </button>
                <button
                  id="btn-dipole-reset"
                  type="button"
                  class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
              </div>

              <div id="dipole-results" class="mt-4 grid md:grid-cols-2 gap-4">
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">Element Lengths</h3>
                  <p class="text-sm text-gray-700">
                    Total length:
                    <span id="dipole-total" class="font-mono font-semibold"
                      >—</span
                    >
                    m
                  </p>
                  <p class="text-sm text-gray-700">
                    Each arm (if dipole):
                    <span id="dipole-arm" class="font-mono font-semibold"
                      >—</span
                    >
                    m
                  </p>
                  <p class="text-sm text-gray-700 mt-2">
                    Total length:
                    <span id="dipole-total-mm" class="font-mono font-semibold"
                      >—</span
                    >
                    mm
                  </p>
                </div>
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">Reference Values</h3>
                  <p class="text-sm text-gray-700">
                    Free-space wavelength:
                    <span id="dipole-lambda" class="font-mono font-semibold"
                      >—</span
                    >
                    m
                  </p>
                  <p class="text-sm text-gray-700">
                    Ideal gain (approx.):
                    <span id="dipole-gain" class="font-mono font-semibold"
                      >—</span
                    >
                    dBi
                  </p>
                  <p class="text-xs text-gray-500 mt-2">
                    Gain values are typical: ~2.15 dBi for half-wave dipole,
                    ~5.15 dBi for ideal monopole over infinite ground plane.
                  </p>
                </div>
              </div>
            </section>

            <section id="tab-patch" class="tab-panel space-y-4 hidden">
              <h2 class="text-xl font-semibold">
                3. Rectangular Microstrip Patch Antenna Designer
              </h2>
              <p class="text-gray-600 text-sm">
                Estimate width, length, and effective permittivity for a simple
                rectangular patch antenna on a PCB substrate.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="freq-patch"
                    class="block text-sm font-medium text-gray-700"
                    >Center Frequency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="freq-patch"
                      type="number"
                      step="0.001"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      value="2450"
                    />
                    <select
                      id="freq-patch-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="Hz">Hz</option>
                      <option value="kHz">kHz</option>
                      <option value="MHz" selected>MHz</option>
                      <option value="GHz">GHz</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="er-patch"
                    class="block text-sm font-medium text-gray-700"
                    >Substrate Relative Permittivity (εr)</label
                  >
                  <input
                    id="er-patch"
                    type="number"
                    step="0.01"
                    value="4.4"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    FR-4 ≈ 4.2–4.8, Rogers 4350B ≈ 3.48, Rogers 5880 ≈ 2.2.
                  </p>
                </div>

                <div>
                  <label
                    for="h-patch"
                    class="block text-sm font-medium text-gray-700"
                    >Substrate Height h</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="h-patch"
                      type="number"
                      step="0.001"
                      value="1.6"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <select
                      id="h-patch-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="mm" selected>mm</option>
                      <option value="m">m</option>
                      <option value="mil">mil</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="patch-mode"
                    class="block text-sm font-medium text-gray-700"
                    >Mode</label
                  >
                  <select
                    id="patch-mode"
                    class="mt-1 w-full border rounded-md px-3 py-2 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="TM10" selected>
                      Fundamental TM10 (standard)
                    </option>
                    <option value="TM01">TM01 (rotated)</option>
                  </select>
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  id="btn-patch-calc"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate Patch
                </button>
                <button
                  id="btn-patch-reset"
                  type="button"
                  class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
              </div>

              <div id="patch-results" class="mt-4 grid md:grid-cols-2 gap-4">
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">Patch Dimensions</h3>
                  <p class="text-sm text-gray-700">
                    Width W:
                    <span id="patch-W" class="font-mono font-semibold">—</span>
                    mm
                  </p>
                  <p class="text-sm text-gray-700">
                    Effective length Leff:
                    <span id="patch-Leff" class="font-mono font-semibold"
                      >—</span
                    >
                    mm
                  </p>
                  <p class="text-sm text-gray-700">
                    Physical length L:
                    <span id="patch-L" class="font-mono font-semibold">—</span>
                    mm
                  </p>
                </div>
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">
                    Electromagnetic Parameters
                  </h3>
                  <p class="text-sm text-gray-700">
                    Effective permittivity ε<sub>eff</sub>:
                    <span id="patch-eeff" class="font-mono font-semibold"
                      >—</span
                    >
                  </p>
                  <p class="text-sm text-gray-700">
                    Fringing extension ΔL:
                    <span id="patch-dL" class="font-mono font-semibold">—</span>
                    mm
                  </p>
                  <p class="text-xs text-gray-500 mt-2">
                    Formulas follow standard microstrip patch design (Balanis /
                    Hammerstad approximations).
                  </p>
                </div>
              </div>
            </section>

            <section id="tab-link" class="tab-panel space-y-4 hidden">
              <h2 class="text-xl font-semibold">
                4. Simple Link Budget &amp; Range Estimator
              </h2>
              <p class="text-gray-600 text-sm">
                Estimate received power and free-space path loss using your
                antenna gain and frequency.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="freq-link"
                    class="block text-sm font-medium text-gray-700"
                    >Frequency</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="freq-link"
                      type="number"
                      step="0.001"
                      value="2400"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <select
                      id="freq-link-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="Hz">Hz</option>
                      <option value="kHz">kHz</option>
                      <option value="MHz" selected>MHz</option>
                      <option value="GHz">GHz</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="tx-power"
                    class="block text-sm font-medium text-gray-700"
                    >Transmit Power (dBm)</label
                  >
                  <input
                    id="tx-power"
                    type="number"
                    step="0.1"
                    value="10"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div>
                  <label
                    for="tx-gain"
                    class="block text-sm font-medium text-gray-700"
                    >TX Antenna Gain (dBi)</label
                  >
                  <input
                    id="tx-gain"
                    type="number"
                    step="0.1"
                    value="2.15"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div>
                  <label
                    for="rx-gain"
                    class="block text-sm font-medium text-gray-700"
                    >RX Antenna Gain (dBi)</label
                  >
                  <input
                    id="rx-gain"
                    type="number"
                    step="0.1"
                    value="2.15"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div>
                  <label
                    for="distance-link"
                    class="block text-sm font-medium text-gray-700"
                    >Distance</label
                  >
                  <div class="mt-1 flex">
                    <input
                      id="distance-link"
                      type="number"
                      step="0.01"
                      value="10"
                      class="flex-1 border rounded-l-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <select
                      id="distance-link-unit"
                      class="border border-l-0 rounded-r-md px-2 py-2 bg-gray-50 focus:outline-none"
                    >
                      <option value="m">m</option>
                      <option value="km" selected>km</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="rx-sensitivity"
                    class="block text-sm font-medium text-gray-700"
                    >Receiver Sensitivity (dBm)</label
                  >
                  <input
                    id="rx-sensitivity"
                    type="number"
                    step="0.1"
                    value="-90"
                    class="mt-1 w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  id="btn-link-calc"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Calculate Link Budget
                </button>
                <button
                  id="btn-link-reset"
                  type="button"
                  class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
              </div>

              <div id="link-results" class="mt-4 grid md:grid-cols-2 gap-4">
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">
                    Path Loss &amp; Received Power
                  </h3>
                  <p class="text-sm text-gray-700">
                    Free-space path loss:
                    <span id="fspl" class="font-mono font-semibold">—</span> dB
                  </p>
                  <p class="text-sm text-gray-700">
                    Received power:
                    <span id="prx" class="font-mono font-semibold">—</span> dBm
                  </p>
                </div>
                <div class="bg-gray-50 border rounded-md p-3">
                  <h3 class="font-semibold text-sm mb-2">
                    Link Margin &amp; Max Range
                  </h3>
                  <p class="text-sm text-gray-700">
                    Link margin:
                    <span id="link-margin" class="font-mono font-semibold"
                      >—</span
                    >
                    dB
                  </p>
                  <p class="text-sm text-gray-700">
                    Estimated max distance (FSPL only):
                    <span id="max-distance" class="font-mono font-semibold"
                      >—</span
                    >
                    km
                  </p>
                  <p class="text-xs text-gray-500 mt-2">
                    Assumes clear line-of-sight and no fading; real-world range
                    will be shorter.
                  </p>
                </div>
              </div>
            </section>

            <!-- Explanatory Content -->
            <section class="mt-8 prose">
              <h2>How this antenna design calculator works</h2>
              <p>
                This tool is meant as a fast, engineering-grade starting point
                for RF and PCB antenna design. It combines several classic
                formulas used in antenna textbooks and application notes into
                one interactive interface.
              </p>

              <h3>1. Wavelength and basic antenna length</h3>
              <p>
                The fundamental quantity in antenna design is the wavelength \(
                \lambda \). In a medium with relative permittivity \(
                \varepsilon_r \), the phase velocity is
              </p>
              <div class="formula-box">
                \( v = \dfrac{c}{\sqrt{\varepsilon_r}} \) &nbsp; and &nbsp; \(
                \lambda = \dfrac{v}{f} = \dfrac{c}{f \sqrt{\varepsilon_r}} \)
              </div>
              <p>where:</p>
              <ul>
                <li>
                  \( c \approx 3 \times 10^8 \,\text{m/s} \) is the speed of
                  light in vacuum
                </li>
                <li>\( f \) is the operating frequency</li>
                <li>
                  \( \varepsilon_r \) is the relative permittivity of the medium
                </li>
              </ul>
              <p>
                From the wavelength, ideal half-wave and quarter-wave lengths
                are:
              </p>
              <div class="formula-box">
                \( L_{\frac{1}{2}} = \dfrac{\lambda}{2} \), &nbsp; \(
                L_{\frac{1}{4}} = \dfrac{\lambda}{4} \)
              </div>

              <h3>2. Dipole and monopole antenna formulas</h3>
              <p>
                A center-fed half-wave dipole in free space has a total length
                close to \( \lambda/2 \), but in practice we shorten it slightly
                to account for end effects and conductor thickness. This is
                captured by a shortening factor \( k \):
              </p>
              <div class="formula-box">
                \( L_{\text{dipole}} \approx k \cdot \dfrac{\lambda}{2} \),
                &nbsp; \( L_{\text{arm}} = \dfrac{L_{\text{dipole}}}{2} \)
              </div>
              <p>For a quarter-wave monopole over a ground plane:</p>
              <div class="formula-box">
                \( L_{\text{monopole}} \approx k \cdot \dfrac{\lambda}{4} \)
              </div>
              <p>Typical values:</p>
              <ul>
                <li>Wire dipole in air: \( k \approx 0.95 \)</li>
                <li>
                  Thicker elements or insulated wire: \( k \approx 0.90–0.98 \)
                </li>
                <li>Ideal half-wave dipole gain: ~2.15 dBi</li>
                <li>
                  Ideal quarter-wave monopole over infinite ground: ~5.15 dBi
                </li>
              </ul>

              <h3>3. Rectangular microstrip patch antenna design</h3>
              <p>
                For a simple rectangular microstrip patch on a substrate of
                height \( h \) and dielectric constant \( \varepsilon_r \), the
                widely used closed-form design (for TM<sub>10</sub> mode) is:
              </p>
              <ol>
                <li>
                  <strong>Patch width</strong>:
                  <div class="formula-box">
                    \( W = \dfrac{c}{2 f} \sqrt{\dfrac{2}{\varepsilon_r + 1}} \)
                  </div>
                </li>
                <li>
                  <strong>Effective permittivity</strong> (Hammerstad):
                  <div class="formula-box">
                    \( \varepsilon_{\text{eff}} = \dfrac{\varepsilon_r + 1}{2} +
                    \dfrac{\varepsilon_r - 1}{2} \left( 1 + 12 \dfrac{h}{W}
                    \right)^{-1/2} \)
                  </div>
                </li>
                <li>
                  <strong>Fringing field extension</strong>:
                  <div class="formula-box">
                    \( \dfrac{\Delta L}{h} = 0.412
                    \dfrac{(\varepsilon_{\text{eff}} + 0.3)(W/h + 0.264)}
                    {(\varepsilon_{\text{eff}} - 0.258)(W/h + 0.8)} \)
                  </div>
                </li>
                <li>
                  <strong>Effective and physical length</strong>:
                  <div class="formula-box">
                    \( L_{\text{eff}} = \dfrac{c}{2 f
                    \sqrt{\varepsilon_{\text{eff}}}} \), &nbsp; \( L =
                    L_{\text{eff}} - 2 \Delta L \)
                  </div>
                </li>
              </ol>
              <p>
                These formulas give a good first-pass design. Final tuning
                should be done in an EM simulator and verified with measurements
                (e.g., VNA).
              </p>

              <h3>4. Free-space path loss and link budget</h3>
              <p>
                For a line-of-sight link in free space, the path loss in dB is:
              </p>
              <div class="formula-box">
                \( \text{FSPL(dB)} = 32.44 + 20 \log_{10}(d_{\text{km}}) + 20
                \log_{10}(f_{\text{MHz}}) \)
              </div>
              <p>The received power is:</p>
              <div class="formula-box">
                \( P_{\text{rx}}(\text{dBm}) = P_{\text{tx}} + G_{\text{tx}} +
                G_{\text{rx}} - \text{FSPL} - L_{\text{misc}} \)
              </div>
              <p>
                In this calculator we assume \( L_{\text{misc}} = 0 \) dB (no
                extra losses) for clarity. The link margin is:
              </p>
              <div class="formula-box">
                \( \text{Margin} = P_{\text{rx}} - \text{Sensitivity} \)
              </div>
              <p>
                To estimate the maximum distance for a given margin, we invert
                the FSPL formula.
              </p>

              <h2>Practical antenna design tips</h2>
              <ul>
                <li>
                  Always design for the
                  <strong>lowest operating frequency</strong> in your band;
                  antennas are narrowband.
                </li>
                <li>
                  Keep <strong>ground planes and feed lines</strong> consistent
                  with vendor RF layout guidelines.
                </li>
                <li>
                  Use a <strong>vector network analyzer (VNA)</strong> to
                  measure S<sub>11</sub> and tune length or matching.
                </li>
                <li>
                  Account for
                  <strong>enclosures, nearby metal, and user proximity</strong>
                  which detune small antennas.
                </li>
                <li>
                  For PCB antennas, prefer
                  <strong>low-loss substrates</strong> at GHz frequencies when
                  possible.
                </li>
              </ul>

              <h2>FAQ</h2>
              <h3>Can I use this for 5G, Wi‑Fi, or LoRa antennas?</h3>
              <p>
                Yes. The formulas are frequency-agnostic and work from HF
                through microwave, as long as the antenna is electrically small
                enough for the approximations to hold. For very wideband or
                complex 3D antennas, you will need full-wave EM simulation.
              </p>

              <h3>Do I still need EM simulation?</h3>
              <p>
                For professional products: yes. Use these results as a starting
                point, then refine in tools like HFSS, CST, or open-source
                solvers. For hobby projects, these formulas are often sufficient
                with a bit of empirical tuning.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Frequency Hz kHz MHz GHz Propagation Medium Free space / air (εr ≈ 1.0) Low-loss RF substrate (εr ≈ 2.2, e.g. Rogers RT/duroid) FR-4 PCB (εr ≈ 4.3) Custom relative permittivity (εr) Custom εr Calculate Reset Wavelength λ (in medium): — m λ (in medium): — mm Ideal Element Lengths Half-wave (λ/2): — m Quarter-wave (λ/4): — m 2. Dipole / Monopole Antenna Designer Get practical element lengths for center-fed dipoles and quarter-wave monopoles, including end-effect shortening. Frequency Hz kHz MHz GHz Antenna Type Half-wave dipole</li><li>Quarter-wave monopole</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Antenna, Design, Frequency Hz kHz MHz GHz Propagation Medium Free space / air (εr ≈ 1.0) Low-loss RF substrate (εr ≈ 2.2, e.g. Rogers RT/duroid) FR-4 PCB (εr ≈ 4.3) Custom relative permittivity (εr) Custom εr Calculate Reset Wavelength λ (in medium): — m λ (in medium): — mm Ideal Element Lengths Half-wave (λ/2): — m Quarter-wave (λ/4): — m 2. Dipole / Monopole Antenna Designer Get practical element lengths for center-fed dipoles and quarter-wave monopoles, including end-effect shortening. Frequency Hz kHz MHz GHz Antenna Type Half-wave dipole, Quarter-wave monopole.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Frequency Hz kHz MHz GHz Propagation Medium Free space / air (εr ≈ 1.0) Low-loss RF substrate (εr ≈ 2.2, e.g. Rogers RT/duroid) FR-4 PCB (εr ≈ 4.3) Custom relative permittivity (εr) Custom εr Calculate Reset Wavelength λ (in medium): — m λ (in medium): — mm Ideal Element Lengths Half-wave (λ/2): — m Quarter-wave (λ/4): — m 2. Dipole / Monopole Antenna Designer Get practical element lengths for center-fed dipoles and quarter-wave monopoles, including end-effect shortening. Frequency Hz kHz MHz GHz Antenna Type Half-wave dipole</li><li>Quarter-wave monopole</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>

        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/volts-to-watts"
                  class="text-blue-600 hover:underline"
                  >Volts to Watts Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-hp"
                  class="text-blue-600 hover:underline"
                  >Watts to Horsepower Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-ampacity"
                  class="text-blue-600 hover:underline"
                  >NEC Ampacity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >NEC Voltage Drop Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rc-filter"
                  class="text-blue-600 hover:underline"
                  >RC Filter Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pcb-trace-width"
                  class="text-blue-600 hover:underline"
                  >PCB Trace Width Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/power"
                  class="text-blue-600 hover:underline"
                  >Power Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Popular Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-blue-600 hover:underline"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-blue-600 hover:underline"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-blue-600 hover:underline"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-blue-600 hover:underline"
                  >House Affordability Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: convert frequency to Hz
      function freqToHz(value, unit) {
        const f = parseFloat(value);
        if (isNaN(f) || f <= 0) return NaN;
        switch (unit) {
          case "Hz":
            return f;
          case "kHz":
            return f * 1e3;
          case "MHz":
            return f * 1e6;
          case "GHz":
            return f * 1e9;
          default:
            return NaN;
        }
      }

      // Utility: convert distance to km
      function distToKm(value, unit) {
        const d = parseFloat(value);
        if (isNaN(d) || d <= 0) return NaN;
        return unit === "km" ? d : d / 1000;
      }

      // Tabs
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const target = btn.getAttribute("data-tab");
          document.querySelectorAll(".tab-btn").forEach((b) => {
            b.classList.remove("border-blue-600", "text-blue-600");
            b.classList.add("border-transparent", "text-gray-600");
          });
          btn.classList.add("border-blue-600", "text-blue-600");
          btn.classList.remove("text-gray-600", "border-transparent");

          document
            .querySelectorAll(".tab-panel")
            .forEach((p) => p.classList.add("hidden"));
          document.getElementById(target).classList.remove("hidden");
        });
      });

      // Medium selection for basic tab
      const mediumSelect = document.getElementById("medium-select");
      const customErWrapper = document.getElementById("custom-er-wrapper");
      mediumSelect.addEventListener("change", () => {
        if (mediumSelect.value === "custom") {
          customErWrapper.classList.remove("hidden");
        } else {
          customErWrapper.classList.add("hidden");
        }
      });

      // Basic wavelength calculations
      document
        .getElementById("btn-basic-calc")
        .addEventListener("click", () => {
          const fHz = freqToHz(
            document.getElementById("freq-basic").value,
            document.getElementById("freq-basic-unit").value
          );
          if (!isFinite(fHz)) {
            alert("Please enter a valid frequency.");
            return;
          }
          let er;
          if (mediumSelect.value === "custom") {
            er = parseFloat(document.getElementById("custom-er").value);
          } else {
            er = parseFloat(mediumSelect.value);
          }
          if (!isFinite(er) || er <= 0) {
            alert("Please enter a valid relative permittivity (εr).");
            return;
          }
          const c = 299792458;
          const v = c / Math.sqrt(er);
          const lambda = v / fHz; // meters

          document.getElementById("lambda-m").textContent =
            lambda.toExponential(3);
          document.getElementById("lambda-mm").textContent = (
            lambda * 1000
          ).toFixed(3);
          document.getElementById("len-half").textContent = (
            lambda / 2
          ).toExponential(3);
          document.getElementById("len-quarter").textContent = (
            lambda / 4
          ).toExponential(3);
        });

      document
        .getElementById("btn-basic-reset")
        .addEventListener("click", () => {
          document.getElementById("freq-basic").value = 2400;
          document.getElementById("freq-basic-unit").value = "MHz";
          mediumSelect.value = "1.0";
          customErWrapper.classList.add("hidden");
          document.getElementById("custom-er").value = 3.0;
          ["lambda-m", "lambda-mm", "len-half", "len-quarter"].forEach((id) => {
            document.getElementById(id).textContent = "—";
          });
        });

      // Dipole / Monopole calculations
      document
        .getElementById("btn-dipole-calc")
        .addEventListener("click", () => {
          const fHz = freqToHz(
            document.getElementById("freq-dipole").value,
            document.getElementById("freq-dipole-unit").value
          );
          if (!isFinite(fHz)) {
            alert("Please enter a valid frequency.");
            return;
          }
          const k = parseFloat(
            document.getElementById("shortening-factor").value
          );
          if (!isFinite(k) || k <= 0 || k > 1.2) {
            alert(
              "Please enter a realistic shortening factor between 0 and 1.2."
            );
            return;
          }
          const type = document.querySelector(
            'input[name="dipole-type"]:checked'
          ).value;
          const c = 299792458;
          const lambda = c / fHz;

          let totalLength;
          if (type === "dipole") {
            totalLength = (k * lambda) / 2;
          } else {
            totalLength = (k * lambda) / 4;
          }
          const armLength = type === "dipole" ? totalLength / 2 : NaN;

          document.getElementById("dipole-total").textContent =
            totalLength.toExponential(3);
          document.getElementById("dipole-total-mm").textContent = (
            totalLength * 1000
          ).toFixed(2);
          document.getElementById("dipole-arm").textContent =
            type === "dipole" ? armLength.toExponential(3) : "—";
          document.getElementById("dipole-lambda").textContent =
            lambda.toExponential(3);
          document.getElementById("dipole-gain").textContent =
            type === "dipole" ? "2.15" : "5.15";
        });

      document
        .getElementById("btn-dipole-reset")
        .addEventListener("click", () => {
          document.getElementById("freq-dipole").value = 915;
          document.getElementById("freq-dipole-unit").value = "MHz";
          document.querySelector(
            'input[name="dipole-type"][value="dipole"]'
          ).checked = true;
          document.getElementById("shortening-factor").value = 0.95;
          document.getElementById("wire-diameter").value = "";
          document.getElementById("wire-diameter-unit").value = "mm";
          [
            "dipole-total",
            "dipole-total-mm",
            "dipole-arm",
            "dipole-lambda",
            "dipole-gain",
          ].forEach((id) => {
            document.getElementById(id).textContent = "—";
          });
        });

      // Patch antenna calculations
      document
        .getElementById("btn-patch-calc")
        .addEventListener("click", () => {
          const fHz = freqToHz(
            document.getElementById("freq-patch").value,
            document.getElementById("freq-patch-unit").value
          );
          if (!isFinite(fHz)) {
            alert("Please enter a valid frequency.");
            return;
          }
          let er = parseFloat(document.getElementById("er-patch").value);
          if (!isFinite(er) || er <= 1) {
            alert("Please enter a valid substrate permittivity (εr > 1).");
            return;
          }
          let h = parseFloat(document.getElementById("h-patch").value);
          const hUnit = document.getElementById("h-patch-unit").value;
          if (!isFinite(h) || h <= 0) {
            alert("Please enter a valid substrate height.");
            return;
          }
          // convert h to meters
          if (hUnit === "mm") h / 1000;
          else if (hUnit === "mil") h *= 0.0000254;

          const c = 299792458;
          // Width
          const W = (c / (2 * fHz)) * Math.sqrt(2 / (er + 1));
          // Effective permittivity
          const eeff =
            (er + 1) / 2 + ((er - 1) / 2) * Math.pow(1 + 12 * (h / W), -0.5);
          // Effective length
          const Leff = c / (2 * fHz * Math.sqrt(eeff));
          // Fringing extension
          const W_h = W / h;
          const dL_over_h =
            (0.412 * ((eeff + 0.3) * (W_h + 0.264))) /
            ((eeff - 0.258) * (W_h + 0.8));
          const dL = dL_over_h * h;
          const L = Leff - 2 * dL;

          document.getElementById("patch-W").textContent = (W * 1000).toFixed(
            2
          );
          document.getElementById("patch-Leff").textContent = (
            Leff * 1000
          ).toFixed(2);
          document.getElementById("patch-L").textContent = (L * 1000).toFixed(
            2
          );
          document.getElementById("patch-eeff").textContent = eeff.toFixed(3);
          document.getElementById("patch-dL").textContent = (dL * 1000).toFixed(
            2
          );
        });

      document
        .getElementById("btn-patch-reset")
        .addEventListener("click", () => {
          document.getElementById("freq-patch").value = 2450;
          document.getElementById("freq-patch-unit").value = "MHz";
          document.getElementById("er-patch").value = 4.4;
          document.getElementById("h-patch").value = 1.6;
          document.getElementById("h-patch-unit").value = "mm";
          document.getElementById("patch-mode").value = "TM10";
          [
            "patch-W",
            "patch-Leff",
            "patch-L",
            "patch-eeff",
            "patch-dL",
          ].forEach((id) => {
            document.getElementById(id).textContent = "—";
          });
        });

      // Link budget calculations
      document.getElementById("btn-link-calc").addEventListener("click", () => {
        const fMHz =
          freqToHz(
            document.getElementById("freq-link").value,
            document.getElementById("freq-link-unit").value
          ) / 1e6;
        if (!isFinite(fMHz) || fMHz <= 0) {
          alert("Please enter a valid frequency.");
          return;
        }
        const dKm = distToKm(
          document.getElementById("distance-link").value,
          document.getElementById("distance-link-unit").value
        );
        if (!isFinite(dKm) || dKm <= 0) {
          alert("Please enter a valid distance.");
          return;
        }
        const Ptx = parseFloat(document.getElementById("tx-power").value);
        const Gtx = parseFloat(document.getElementById("tx-gain").value);
        const Grx = parseFloat(document.getElementById("rx-gain").value);
        const sens = parseFloat(
          document.getElementById("rx-sensitivity").value
        );
        if (![Ptx, Gtx, Grx, sens].every((v) => isFinite(v))) {
          alert(
            "Please enter valid numeric values for power, gains, and sensitivity."
          );
          return;
        }

        const fspl = 32.44 + 20 * Math.log10(dKm) + 20 * Math.log10(fMHz);
        const Prx = Ptx + Gtx + Grx - fspl;
        const margin = Prx - sens;

        // Estimate max distance for same margin >= 0
        // FSPL_max = Ptx + Gtx + Grx - sens
        const fsplMax = Ptx + Gtx + Grx - sens;
        // d_km_max = 10^((FSPL_max - 32.44 - 20 log10(fMHz))/20)
        const dKmMax = Math.pow(
          10,
          (fsplMax - 32.44 - 20 * Math.log10(fMHz)) / 20
        );

        document.getElementById("fspl").textContent = fspl.toFixed(2);
        document.getElementById("prx").textContent = Prx.toFixed(2);
        document.getElementById("link-margin").textContent = margin.toFixed(2);
        document.getElementById("max-distance").textContent =
          dKmMax > 0 ? dKmMax.toFixed(3) : "—";
      });

      document
        .getElementById("btn-link-reset")
        .addEventListener("click", () => {
          document.getElementById("freq-link").value = 2400;
          document.getElementById("freq-link-unit").value = "MHz";
          document.getElementById("tx-power").value = 10;
          document.getElementById("tx-gain").value = 2.15;
          document.getElementById("rx-gain").value = 2.15;
          document.getElementById("distance-link").value = 10;
          document.getElementById("distance-link-unit").value = "km";
          document.getElementById("rx-sensitivity").value = -90;
          ["fspl", "prx", "link-margin", "max-distance"].forEach((id) => {
            document.getElementById(id).textContent = "—";
          });
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
