<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/subnet" />
    <title>Subnet Calculator Guide Guide: [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Subnet Calculator Guide Guide: fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. No signup. No signup." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Subnet Calculator Guide Guide: [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Subnet Calculator Guide Guide: fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. No signup. No signup." />
    <meta property="og:url" content="https://calcdomain.com/subnet" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Subnet Calculator Guide Guide: [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Subnet Calculator Guide Guide: fast with our must-see tool. Get clear results, formulas, and tips - act now. No signup. No signup. No signup." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical Calculators", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "IP Subnet Calculator (IPv4 &amp; IPv6)", "item": "https://calcdomain.com/subnet"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">IP Subnet Calculator (IPv4 &amp;amp; IPv6)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                IP Subnet Calculator (IPv4 &amp; IPv6)
              </h1>
              <p class="text-gray-600">
                Enter an IP address, subnet mask, or CIDR prefix to instantly
                calculate network details, host ranges, wildcard masks, and
                optional VLSM splits.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-label="IP Subnet Calculator" class="space-y-6">
              <!-- Mode tabs -->
              <div class="flex flex-wrap gap-2 mb-2">
                <button
                  id="mode-ipv4"
                  type="button"
                  class="px-3 py-1.5 rounded-full text-sm font-medium bg-blue-600 text-white"
                >
                  IPv4
                </button>
                <button
                  id="mode-ipv6"
                  type="button"
                  class="px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200"
                >
                  IPv6
                </button>
              </div>

              <!-- Input card -->
              <div class="grid gap-4 md:grid-cols-2">
                <div class="space-y-3">
                  <label
                    class="block text-sm font-medium text-gray-700"
                    for="ip-input"
                  >
                    IP address / CIDR
                  </label>
                  <input
                    id="ip-input"
                    type="text"
                    inputmode="text"
                    autocomplete="off"
                    placeholder="e.g. 192.168.1.10/24 or 10.0.0.0/16"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent mono"
                  />
                  <p id="ip-helper" class="text-xs text-gray-500">
                    You can enter: IP only (192.168.1.10), IP with mask
                    (192.168.1.10 255.255.255.0), or CIDR (192.168.1.10/24).
                  </p>
                </div>

                <div class="space-y-3">
                  <label
                    class="block text-sm font-medium text-gray-700"
                    for="mask-input"
                  >
                    Subnet mask / prefix length
                  </label>
                  <input
                    id="mask-input"
                    type="text"
                    inputmode="text"
                    autocomplete="off"
                    placeholder="e.g. 255.255.255.0 or /24"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent mono"
                  />
                  <p class="text-xs text-gray-500">
                    Optional if CIDR is provided in the first field. For IPv6,
                    use prefix length only (e.g. /64).
                  </p>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3">
                <button
                  id="calc-btn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
                >
                  Calculate subnet
                </button>
                <button
                  id="clear-btn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Clear
                </button>
                <p id="error-msg" class="text-sm text-red-600"></p>
              </div>

              <!-- Quick presets -->
              <div class="flex flex-wrap gap-2 text-xs">
                <span class="text-gray-500 mr-1">Quick examples:</span>
                <button
                  type="button"
                  class="preset-btn px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 mono"
                  data-ip="192.168.1.10/24"
                >
                  192.168.1.10/24
                </button>
                <button
                  type="button"
                  class="preset-btn px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 mono"
                  data-ip="10.0.0.0/16"
                >
                  10.0.0.0/16
                </button>
                <button
                  type="button"
                  class="preset-btn px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 mono"
                  data-ip="172.16.5.100 255.255.255.192"
                >
                  172.16.5.100 255.255.255.192
                </button>
                <button
                  type="button"
                  class="preset-btn px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 mono"
                  data-ip="2001:db8::1/64"
                >
                  2001:db8::1/64
                </button>
              </div>

              <!-- Results -->
              <section id="results-section" class="space-y-6 mt-4 hidden">
                <!-- Summary -->
                <div class="border border-gray-200 rounded-md p-4 bg-gray-50">
                  <h2 class="text-lg font-semibold mb-3">Subnet summary</h2>
                  <dl class="grid gap-3 md:grid-cols-2 text-sm mono">
                    <div>
                      <dt class="font-medium text-gray-600">Address type</dt>
                      <dd id="res-type" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">CIDR</dt>
                      <dd id="res-cidr" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">Subnet mask</dt>
                      <dd id="res-mask" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">Wildcard mask</dt>
                      <dd id="res-wildcard" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">Network address</dt>
                      <dd id="res-network" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">
                        Broadcast address
                      </dt>
                      <dd id="res-broadcast" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">
                        First usable host
                      </dt>
                      <dd id="res-first-host" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">
                        Last usable host
                      </dt>
                      <dd id="res-last-host" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">Total addresses</dt>
                      <dd id="res-total" class="text-gray-900">–</dd>
                    </div>
                    <div>
                      <dt class="font-medium text-gray-600">Usable hosts</dt>
                      <dd id="res-usable" class="text-gray-900">–</dd>
                    </div>
                  </dl>
                </div>

                <!-- Binary view -->
                <details class="border border-gray-200 rounded-md p-4">
                  <summary
                    class="cursor-pointer text-sm font-semibold text-gray-800"
                  >
                    Binary representation
                  </summary>
                  <div class="mt-3 space-y-2 text-xs mono overflow-x-auto">
                    <div>
                      <span class="font-semibold text-gray-600">IP:</span>
                      <span id="res-ip-binary" class="ml-2 break-all"></span>
                    </div>
                    <div>
                      <span class="font-semibold text-gray-600">Mask:</span>
                      <span id="res-mask-binary" class="ml-2 break-all"></span>
                    </div>
                  </div>
                </details>

                <!-- VLSM / subnet split -->
                <details class="border border-gray-200 rounded-md p-4">
                  <summary
                    class="cursor-pointer text-sm font-semibold text-gray-800"
                  >
                    VLSM / split this network
                  </summary>
                  <div class="mt-3 space-y-3 text-sm">
                    <p class="text-gray-600">
                      Quickly split the current network into smaller equal-size
                      subnets.
                    </p>
                    <div class="flex flex-wrap gap-3 items-end">
                      <div>
                        <label
                          for="split-count"
                          class="block text-xs font-medium text-gray-700"
                          >Number of subnets</label
                        >
                        <input
                          id="split-count"
                          type="number"
                          min="2"
                          max="1024"
                          step="1"
                          class="w-28 border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                          value="4"
                        />
                      </div>
                      <button
                        id="split-btn"
                        type="button"
                        class="px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700"
                      >
                        Split network
                      </button>
                      <p id="split-error" class="text-xs text-red-600"></p>
                    </div>
                    <div id="split-results" class="table-scroll mt-2 hidden">
                      <table
                        class="min-w-full text-xs mono border border-gray-200"
                      >
                        <thead class="bg-gray-100">
                          <tr>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              #
                            </th>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              CIDR
                            </th>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              Network
                            </th>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              First host
                            </th>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              Last host
                            </th>
                            <th
                              class="px-2 py-1 text-left border-b border-gray-200"
                            >
                              Broadcast
                            </th>
                          </tr>
                        </thead>
                        <tbody id="split-body"></tbody>
                      </table>
                    </div>
                  </div>
                </details>
              </section>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-8">
              <h2>How this IP subnet calculator works</h2>
              <p>
                This tool accepts IPv4 and IPv6 addresses in several formats and
                computes all key subnet parameters: network and broadcast
                addresses, usable host range, subnet mask, wildcard mask, and
                address counts.
              </p>
              <h3>Accepted input formats</h3>
              <ul>
                <li>
                  <strong>CIDR notation:</strong>
                  <span class="mono">192.168.1.10/24</span>,
                  <span class="mono">10.0.0.0/16</span>,
                  <span class="mono">2001:db8::1/64</span>
                </li>
                <li>
                  <strong>IP + mask:</strong>
                  <span class="mono">172.16.5.100 255.255.255.192</span>
                </li>
                <li>
                  <strong>Separate fields:</strong> IP in the first box, mask or
                  prefix in the second box
                </li>
              </ul>

              <h2>Subnetting formulas (IPv4)</h2>
              <div class="formula-box text-sm">
                <p>
                  <strong>Given:</strong> IPv4 prefix length
                  <span class="mono">/p</span>
                </p>
                <ul>
                  <li>Total addresses: <span class="mono">2^(32 − p)</span></li>
                  <li>
                    Usable hosts (typical subnets):
                    <span class="mono">max(2^(32 − p) − 2, 0)</span>
                  </li>
                  <li>
                    Subnet mask: first <span class="mono">p</span> bits are 1,
                    remaining are 0
                  </li>
                  <li>Wildcard mask: bitwise NOT of subnet mask</li>
                  <li>
                    Network address: <span class="mono">IP &amp; mask</span>
                  </li>
                  <li>
                    Broadcast address:
                    <span class="mono">network | wildcard</span>
                  </li>
                </ul>
              </div>

              <h3>Example: 192.168.1.10/24</h3>
              <ul>
                <li>Prefix length: <span class="mono">/24</span></li>
                <li>Subnet mask: <span class="mono">255.255.255.0</span></li>
                <li>Wildcard mask: <span class="mono">0.0.0.255</span></li>
                <li>Network: <span class="mono">192.168.1.0</span></li>
                <li>Broadcast: <span class="mono">192.168.1.255</span></li>
                <li>
                  Usable hosts: <span class="mono">254</span> (<span
                    class="mono"
                    >192.168.1.1</span
                  >
                  – <span class="mono">192.168.1.254</span>)
                </li>
              </ul>

              <h2>What is a subnet?</h2>
              <p>
                A <strong>subnet</strong> (subnetwork) is a logical subdivision
                of an IP network. The subnet is defined by a
                <strong>network prefix</strong> and a
                <strong>subnet mask</strong> (or CIDR prefix length), which
                split the address into a network part and a host part.
              </p>
              <p>Subnetting lets you:</p>
              <ul>
                <li>Organize hosts by department, site, or security zone</li>
                <li>
                  Control broadcast domains and reduce unnecessary traffic
                </li>
                <li>Apply routing and firewall rules at subnet boundaries</li>
              </ul>

              <h2>VLSM and splitting networks</h2>
              <p>
                Variable Length Subnet Masking (VLSM) allows you to carve a
                larger network into smaller subnets with different sizes. The
                “Split this network” section above shows an equal split into a
                chosen number of subnets; in practice you can also design custom
                VLSM plans by assigning different prefix lengths to different
                segments.
              </p>

              <h2>IPv4 vs IPv6 subnetting</h2>
              <ul>
                <li>
                  <strong>IPv4:</strong> 32-bit addresses, common subnet sizes
                  from <span class="mono">/8</span> to
                  <span class="mono">/30</span>.
                </li>
                <li>
                  <strong>IPv6:</strong> 128-bit addresses, typical subnets are
                  <span class="mono">/64</span> for end networks. Concepts are
                  the same, but the address space is vastly larger and broadcast
                  addresses are not used in the same way.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="prose mt-8" id="faq">
              <h2>IP subnet calculator FAQ</h2>

              <h3>How do I choose the right subnet size?</h3>
              <p>
                Estimate the maximum number of devices you’ll ever need in that
                segment, add some growth margin, then pick the smallest prefix
                that still fits. For example, if you need up to 50 devices, a
                <span class="mono">/26</span>
                subnet (62 usable hosts) is usually a good fit.
              </p>

              <h3>Why are there 2 fewer usable hosts than total addresses?</h3>
              <p>
                In traditional IPv4 subnets, the first address is reserved as
                the <strong>network address</strong> and the last as the
                <strong>broadcast address</strong>, leaving
                <span class="mono">2^(32−p) − 2</span> usable host addresses.
                Some modern point-to-point links and special cases may treat all
                addresses as usable, but this calculator uses the conventional
                rule.
              </p>

              <h3>What is a wildcard mask used for?</h3>
              <p>
                Wildcard masks are commonly used in ACLs and routing protocols
                (like OSPF) to specify address ranges. They are the bitwise
                inverse of the subnet mask. For example,
                <span class="mono">255.255.255.0</span> corresponds to wildcard
                <span class="mono">0.0.0.255</span>.
              </p>

              <h3>Can I use this tool for cloud VPC subnetting?</h3>
              <p>
                Yes. The calculator works for any IPv4 or IPv6 subnet, including
                AWS VPC, Azure VNets, and Google Cloud VPCs. Just be aware that
                cloud providers may reserve a few addresses inside each subnet
                for internal use, so the number of assignable IPs can be
                slightly smaller than the theoretical usable host count.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>IP address / CIDR</li><li>Subnet mask / prefix length</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Subnet, IP address / CIDR, Subnet mask / prefix length.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>IP address / CIDR</li><li>Subnet mask / prefix length</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/volts-to-watts"
                  class="text-blue-600 hover:underline"
                  >Volts to Watts Converter</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/amps-to-watts"
                  class="text-blue-600 hover:underline"
                  >Amps to Watts Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-amps"
                  class="text-blue-600 hover:underline"
                  >Watts to Amps Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bandwidth-calculator"
                  class="text-blue-600 hover:underline"
                  >Bandwidth Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/packet-loss-calculator"
                  class="text-blue-600 hover:underline"
                  >Packet Loss Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/latency-calculator"
                  class="text-blue-600 hover:underline"
                  >Latency Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/api-latency"
                  class="text-blue-600 hover:underline"
                  >API Latency & Throughput</a
                >
              </li>
            
              <li><a href="https://calcdomain.com/bearing" class="text-blue-600 hover:underline">Bearing Calculator (Azimuth &amp; Direction)</a></li>

              <li><a href="https://calcdomain.com/adiabatic-equation" class="text-blue-600 hover:underline">Adiabatic Equation Calculator (BS 7671)</a></li>

              <li><a href="https://calcdomain.com/transformer-ocpd" class="text-blue-600 hover:underline">NEC Transformer OCPD Calculator</a></li>

              <li><a href="https://calcdomain.com/belt-drive-design" class="text-blue-600 hover:underline">Belt Drive Design Calculator</a></li>

              <li><a href="https://calcdomain.com/steel-joist" class="text-blue-600 hover:underline">Steel Joist Calculator (K-Series Open Web Steel Joists)</a></li>

              <li><a href="https://calcdomain.com/civil-aashto-lrfd" class="text-blue-600 hover:underline">AASHTO LRFD Bridge Design Calculator (Simplified)</a></li>

              <li><a href="https://calcdomain.com/bridge-load-rating" class="text-blue-600 hover:underline">Bridge Load Rating Calculator</a></li>

              <li><a href="https://calcdomain.com/wind-turbine-foundation" class="text-blue-600 hover:underline">Wind Turbine Foundation Design Calculator</a></li>

              <li><a href="https://calcdomain.com/pulley-speed" class="text-blue-600 hover:underline">Pulley Speed Calculator</a></li>

              <li><a href="https://calcdomain.com/5-whys" class="text-blue-600 hover:underline">5 Whys Root Cause Analysis Generator</a></li>

              <li><a href="https://calcdomain.com/ziegler-nichols" class="text-blue-600 hover:underline">Ziegler–Nichols PID Tuning Calculator</a></li>

              <li><a href="https://calcdomain.com/rqd" class="text-blue-600 hover:underline">RQD Calculator – Rock Quality Designation</a></li>

              <li><a href="https://calcdomain.com/civil-foundations" class="text-blue-600 hover:underline">Civil Foundations: Quick Load & Bearing Check Tool</a></li>

              <li><a href="https://calcdomain.com/hardware-calculator" class="text-blue-600 hover:underline">CCTV Storage &amp; Bandwidth Hardware Calculator</a></li>

              <li><a href="https://calcdomain.com/development-length-compression" class="text-blue-600 hover:underline">ACI 318 Development Length in Compression Calculator</a></li>

              <li><a href="https://calcdomain.com/development-length-tension" class="text-blue-600 hover:underline">ACI 318 Development Length Calculator (Tension Reinforcement)</a></li>

              <li><a href="https://calcdomain.com/aircraft-range" class="text-blue-600 hover:underline">Aircraft Range & Endurance Calculator</a></li>

              <li><a href="https://calcdomain.com/antenna-design" class="text-blue-600 hover:underline">Antenna Design Calculator</a></li>

              <li><a href="https://calcdomain.com/power-supply-design" class="text-blue-600 hover:underline">Power Supply Design Calculator</a></li>

              <li><a href="https://calcdomain.com/chain-drive-design" class="text-blue-600 hover:underline">Chain Drive Design Calculator</a></li>

              <li><a href="https://calcdomain.com/journal-bearing-design" class="text-blue-600 hover:underline">Journal Bearing Design Calculator</a></li>

              <li><a href="https://calcdomain.com/crack-width" class="text-blue-600 hover:underline">Concrete Crack Width Calculator (Eurocode 2)</a></li>

              <li><a href="https://calcdomain.com/tower-crane-foundation" class="text-blue-600 hover:underline">Tower Crane Foundation Design Calculator</a></li>

              <li><a href="https://calcdomain.com/orifice-plate" class="text-blue-600 hover:underline">Orifice Plate Flow Calculator</a></li>

              <li><a href="https://calcdomain.com/eurocode-9-column-design" class="text-blue-600 hover:underline">Eurocode 9 Aluminum Column Design Calculator (EN 1999-1-1)</a></li>

              <li><a href="https://calcdomain.com/eurocode-8-capacity-design" class="text-blue-600 hover:underline">Eurocode 8 Capacity Design Calculator</a></li>

              <li><a href="https://calcdomain.com/wood-bolt-design" class="text-blue-600 hover:underline">AWC NDS Wood Bolt Design Calculator (Bolted Connections)</a></li>

              <li><a href="https://calcdomain.com/wood-nail-design" class="text-blue-600 hover:underline">AWC NDS Wood Nail Design Calculator (Nailed Connections)</a></li>

              <li><a href="https://calcdomain.com/eurocode-6-concentrated-load" class="text-blue-600 hover:underline">Eurocode 6 Concentrated Load Calculator</a></li>

              <li><a href="https://calcdomain.com/light-gauge-steel-design" class="text-blue-600 hover:underline">Light Gauge Steel Design Calculator</a></li>

              <li><a href="https://calcdomain.com/hardness-conversion" class="text-blue-600 hover:underline">Hardness Conversion Calculator (Rockwell, Brinell, Vickers)</a></li>

              <li><a href="https://calcdomain.com/wood-diaphragm" class="text-blue-600 hover:underline">Wood Diaphragm Design Calculator (NDS / SDPWS)</a></li>

              <li><a href="https://calcdomain.com/eurocode-3-bolted-connection" class="text-blue-600 hover:underline">Eurocode 3 Bolted Connection Design Calculator (EN 1993‑1‑8)</a></li>

              <li><a href="https://calcdomain.com/tilt-up-wall-design" class="text-blue-600 hover:underline">Tilt-Up Wall Design Calculator</a></li>

              <li><a href="https://calcdomain.com/plate-loading" class="text-blue-600 hover:underline">Plate Loading Test Calculator</a></li>

              <li><a href="https://calcdomain.com/dewatering" class="text-blue-600 hover:underline">Dewatering System Design Calculator</a></li>

              <li><a href="https://calcdomain.com/proctor-test" class="text-blue-600 hover:underline">Proctor Test Calculator (Soil Compaction)</a></li>

              <li><a href="https://calcdomain.com/load-balancing-simulator" class="text-blue-600 hover:underline">Load Balancing Simulator</a></li>

              <li><a href="https://calcdomain.com/blasting-vibration" class="text-blue-600 hover:underline">Blasting Vibration Calculator</a></li>

              <li><a href="https://calcdomain.com/traverse" class="text-blue-600 hover:underline">Traverse Calculator</a></li>

              <li><a href="https://calcdomain.com/line-balancing" class="text-blue-600 hover:underline">Line Balancing Calculator</a></li>

              <li><a href="https://calcdomain.com/nec-box-fill" class="text-blue-600 hover:underline">NEC Box Fill Calculator (Article 314.16)</a></li>
</ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Quick IPv4 CIDR reference
            </h2>
            <div class="table-scroll">
              <table class="min-w-full text-xs mono border border-gray-200">
                <thead class="bg-gray-100">
                  <tr>
                    <th class="px-2 py-1 text-left border-b border-gray-200">
                      CIDR
                    </th>
                    <th class="px-2 py-1 text-left border-b border-gray-200">
                      Mask
                    </th>
                    <th class="px-2 py-1 text-left border-b border-gray-200">
                      Usable hosts
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="px-2 py-1 border-b">/30</td>
                    <td class="px-2 py-1 border-b">255.255.255.252</td>
                    <td class="px-2 py-1 border-b">2</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/29</td>
                    <td class="px-2 py-1 border-b">255.255.255.248</td>
                    <td class="px-2 py-1 border-b">6</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/28</td>
                    <td class="px-2 py-1 border-b">255.255.255.240</td>
                    <td class="px-2 py-1 border-b">14</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/27</td>
                    <td class="px-2 py-1 border-b">255.255.255.224</td>
                    <td class="px-2 py-1 border-b">30</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/26</td>
                    <td class="px-2 py-1 border-b">255.255.255.192</td>
                    <td class="px-2 py-1 border-b">62</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/25</td>
                    <td class="px-2 py-1 border-b">255.255.255.128</td>
                    <td class="px-2 py-1 border-b">126</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/24</td>
                    <td class="px-2 py-1 border-b">255.255.255.0</td>
                    <td class="px-2 py-1 border-b">254</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/23</td>
                    <td class="px-2 py-1 border-b">255.255.254.0</td>
                    <td class="px-2 py-1 border-b">510</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/22</td>
                    <td class="px-2 py-1 border-b">255.255.252.0</td>
                    <td class="px-2 py-1 border-b">1022</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/21</td>
                    <td class="px-2 py-1 border-b">255.255.248.0</td>
                    <td class="px-2 py-1 border-b">2046</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/20</td>
                    <td class="px-2 py-1 border-b">255.255.240.0</td>
                    <td class="px-2 py-1 border-b">4094</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/16</td>
                    <td class="px-2 py-1 border-b">255.255.0.0</td>
                    <td class="px-2 py-1 border-b">65,534</td>
                  </tr>
                  <tr>
                    <td class="px-2 py-1 border-b">/8</td>
                    <td class="px-2 py-1 border-b">255.0.0.0</td>
                    <td class="px-2 py-1 border-b">16,777,214</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Utility functions for IPv4 ---
      function isValidIPv4(ip) {
        const parts = ip.split(".");
        if (parts.length !== 4) return false;
        return parts.every((p) => {
          if (!/^\d+$/.test(p)) return false;
          const n = Number(p);
          return n >= 0 && n <= 255;
        });
      }

      function ipv4ToInt(ip) {
        return (
          ip.split(".").reduce((acc, part) => (acc << 8) + Number(part), 0) >>>
          0
        );
      }

      function intToIPv4(num) {
        return [
          (num >>> 24) & 255,
          (num >>> 16) & 255,
          (num >>> 8) & 255,
          num & 255,
        ].join(".");
      }

      function prefixToMask(prefix) {
        if (prefix < 0 || prefix > 32) return null;
        const mask = prefix === 0 ? 0 : (~0 << (32 - prefix)) >>> 0;
        return mask;
      }

      function maskToPrefix(maskStr) {
        if (!isValidIPv4(maskStr)) return null;
        const mask = ipv4ToInt(maskStr);
        let seenZero = false;
        let bits = 0;
        for (let i = 31; i >= 0; i--) {
          const bit = (mask >>> i) & 1;
          if (bit === 1) {
            if (seenZero) return null; // non-contiguous
            bits++;
          } else {
            seenZero = true;
          }
        }
        return bits;
      }

      function toBinaryIPv4(num) {
        const parts = [];
        for (let i = 3; i >= 0; i--) {
          const octet = (num >>> (i * 8)) & 255;
          parts.push(octet.toString(2).padStart(8, "0"));
        }
        return parts.join(" ");
      }

      // --- IPv6 helpers (simplified) ---
      function isLikelyIPv6(str) {
        return str.includes(":");
      }

      function normalizeIPv6(ip) {
        // Very lightweight normalizer: expand :: and pad groups
        const parts = ip.split("::");
        if (parts.length > 2) return null;
        let head = parts[0] ? parts[0].split(":") : [];
        let tail = parts[1] ? parts[1].split(":") : [];
        if (head.length === 1 && head[0] === "") head = [];
        if (tail.length === 1 && tail[0] === "") tail = [];
        const missing = 8 - (head.length + tail.length);
        if (missing < 0) return null;
        const zeros = Array(missing).fill("0");
        const full = [...head, ...zeros, ...tail].map((g) => g || "0");
        if (full.length !== 8) return null;
        return full.map((g) => g.padStart(4, "0")).join(":");
      }

      function ipv6ToBigInt(ip) {
        const norm = normalizeIPv6(ip);
        if (!norm) return null;
        return norm
          .split(":")
          .reduce((acc, group) => (acc << 16n) + BigInt("0x" + group), 0n);
      }

      function bigIntToIPv6(num) {
        const groups = [];
        for (let i = 7; i >= 0; i--) {
          const group = (num >> BigInt(i * 16)) & 0xffffn;
          groups.push(group.toString(16));
        }
        // compress zeros
        let bestStart = -1,
          bestLen = 0,
          curStart = -1,
          curLen = 0;
        for (let i = 0; i < 8; i++) {
          if (groups[i] === "0") {
            if (curStart === -1) curStart = i;
            curLen++;
          } else {
            if (curLen > bestLen) {
              bestLen = curLen;
              bestStart = curStart;
            }
            curStart = -1;
            curLen = 0;
          }
        }
        if (curLen > bestLen) {
          bestLen = curLen;
          bestStart = curStart;
        }
        if (bestLen > 1) {
          const before = groups.slice(0, bestStart);
          const after = groups.slice(bestStart + bestLen);
          return (
            (before.length ? before.join(":") : "") +
            "::" +
            (after.length ? after.join(":") : "")
          );
        }
        return groups.join(":");
      }

      function prefixToMaskIPv6(prefix) {
        if (prefix < 0 || prefix > 128) return null;
        let mask = 0n;
        for (let i = 0; i < prefix; i++) {
          mask |= 1n << BigInt(127 - i);
        }
        return mask;
      }

      function toBinaryIPv6(num) {
        let bin = num.toString(2).padStart(128, "0");
        return bin.replace(/(.{16})/g, "$1 ").trim();
      }

      // --- Main logic ---
      const modeIPv4Btn = document.getElementById("mode-ipv4");
      const modeIPv6Btn = document.getElementById("mode-ipv6");
      const ipInput = document.getElementById("ip-input");
      const maskInput = document.getElementById("mask-input");
      const errorMsg = document.getElementById("error-msg");
      const resultsSection = document.getElementById("results-section");

      const resType = document.getElementById("res-type");
      const resCidr = document.getElementById("res-cidr");
      const resMask = document.getElementById("res-mask");
      const resWildcard = document.getElementById("res-wildcard");
      const resNetwork = document.getElementById("res-network");
      const resBroadcast = document.getElementById("res-broadcast");
      const resFirstHost = document.getElementById("res-first-host");
      const resLastHost = document.getElementById("res-last-host");
      const resTotal = document.getElementById("res-total");
      const resUsable = document.getElementById("res-usable");
      const resIpBinary = document.getElementById("res-ip-binary");
      const resMaskBinary = document.getElementById("res-mask-binary");

      const splitCountInput = document.getElementById("split-count");
      const splitBtn = document.getElementById("split-btn");
      const splitError = document.getElementById("split-error");
      const splitResults = document.getElementById("split-results");
      const splitBody = document.getElementById("split-body");

      let currentMode = "ipv4";
      let lastCalc = null; // store last calculation for split

      function setMode(mode) {
        currentMode = mode;
        if (mode === "ipv4") {
          modeIPv4Btn.classList.add("bg-blue-600", "text-white");
          modeIPv4Btn.classList.remove("bg-gray-100", "text-gray-700");
          modeIPv6Btn.classList.remove("bg-blue-600", "text-white");
          modeIPv6Btn.classList.add("bg-gray-100", "text-gray-700");
          ipInput.placeholder = "e.g. 192.168.1.10/24 or 10.0.0.0/16";
          maskInput.placeholder = "e.g. 255.255.255.0 or /24";
        } else {
          modeIPv6Btn.classList.add("bg-blue-600", "text-white");
          modeIPv6Btn.classList.remove("bg-gray-100", "text-gray-700");
          modeIPv4Btn.classList.remove("bg-blue-600", "text-white");
          modeIPv4Btn.classList.add("bg-gray-100", "text-gray-700");
          ipInput.placeholder = "e.g. 2001:db8::1/64";
          maskInput.placeholder = "e.g. /64";
        }
        clearResults();
      }

      modeIPv4Btn.addEventListener("click", () => setMode("ipv4"));
      modeIPv6Btn.addEventListener("click", () => setMode("ipv6"));

      document.querySelectorAll(".preset-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          ipInput.value = btn.dataset.ip;
          maskInput.value = "";
          calculate();
        });
      });

      document.getElementById("calc-btn").addEventListener("click", calculate);
      document.getElementById("clear-btn").addEventListener("click", () => {
        ipInput.value = "";
        maskInput.value = "";
        clearResults();
      });

      function clearResults() {
        errorMsg.textContent = "";
        resultsSection.classList.add("hidden");
        splitResults.classList.add("hidden");
        splitBody.innerHTML = "";
        lastCalc = null;
      }

      function formatBigIntCount(prefix, maxBits) {
        const total = 1n << BigInt(maxBits - prefix);
        return total.toString();
      }

      function calculate() {
        clearResults();
        const rawIp = ipInput.value.trim();
        const rawMask = maskInput.value.trim();

        if (!rawIp) {
          errorMsg.textContent = "Please enter an IP address or CIDR.";
          return;
        }

        // Parse possible inline mask or CIDR
        let ipPart = rawIp;
        let prefix = null;
        let maskStr = null;

        // Split by space
        const spaceParts = rawIp.split(/\s+/);
        if (spaceParts.length === 2) {
          ipPart = spaceParts[0];
          maskStr = spaceParts[1];
        }

        // CIDR in ipPart?
        const cidrMatch = ipPart.match(/^(.+)\/(\d{1,3})$/);
        if (cidrMatch) {
          ipPart = cidrMatch[1];
          prefix = parseInt(cidrMatch[2], 10);
        }

        // If mask field provided, override
        if (rawMask) {
          if (rawMask.startsWith("/")) {
            prefix = parseInt(rawMask.slice(1), 10);
          } else if (currentMode === "ipv4") {
            maskStr = rawMask;
          } else {
            // IPv6 expects prefix only
            errorMsg.textContent =
              "For IPv6, please provide a prefix length like /64.";
            return;
          }
        }

        if (currentMode === "ipv4" && isLikelyIPv6(ipPart)) {
          setMode("ipv6");
        } else if (currentMode === "ipv6" && !isLikelyIPv6(ipPart)) {
          setMode("ipv4");
        }

        if (currentMode === "ipv4") {
          calculateIPv4(ipPart, prefix, maskStr);
        } else {
          calculateIPv6(ipPart, prefix);
        }
      }

      function calculateIPv4(ipPart, prefix, maskStr) {
        if (!isValidIPv4(ipPart)) {
          errorMsg.textContent = "Invalid IPv4 address.";
          return;
        }

        if (prefix == null && maskStr) {
          const p = maskToPrefix(maskStr);
          if (p == null) {
            errorMsg.textContent = "Invalid or non-contiguous subnet mask.";
            return;
          }
          prefix = p;
        } else if (prefix == null && !maskStr) {
          errorMsg.textContent = "Please provide a subnet mask or CIDR prefix.";
          return;
        }

        if (prefix < 0 || prefix > 32 || isNaN(prefix)) {
          errorMsg.textContent = "Invalid IPv4 prefix length.";
          return;
        }

        const ipInt = ipv4ToInt(ipPart);
        const maskInt = prefixToMask(prefix);
        const wildcardInt = ~maskInt >>> 0;
        const networkInt = (ipInt & maskInt) >>> 0;
        const broadcastInt = (networkInt | wildcardInt) >>> 0;

        const total = 2 ** (32 - prefix);
        let usable = 0;
        let firstHost = "-";
        let lastHost = "-";

        if (prefix === 32) {
          usable = 1;
          firstHost = intToIPv4(ipInt);
          lastHost = intToIPv4(ipInt);
        } else if (prefix === 31) {
          usable = 2;
          firstHost = intToIPv4(networkInt);
          lastHost = intToIPv4(broadcastInt);
        } else {
          usable = Math.max(total - 2, 0);
          if (usable > 0) {
            firstHost = intToIPv4(networkInt + 1);
            lastHost = intToIPv4(broadcastInt - 1);
          }
        }

        resType.textContent = "IPv4";
        resCidr.textContent = `${intToIPv4(ipInt)}/${prefix}`;
        resMask.textContent = intToIPv4(maskInt);
        resWildcard.textContent = intToIPv4(wildcardInt);
        resNetwork.textContent = intToIPv4(networkInt);
        resBroadcast.textContent = intToIPv4(broadcastInt);
        resFirstHost.textContent = firstHost;
        resLastHost.textContent = lastHost;
        resTotal.textContent = total.toLocaleString();
        resUsable.textContent = usable.toLocaleString();
        resIpBinary.textContent = toBinaryIPv4(ipInt);
        resMaskBinary.textContent = toBinaryIPv4(maskInt);

        resultsSection.classList.remove("hidden");

        lastCalc = {
          mode: "ipv4",
          networkInt,
          prefix,
        };
      }

      function calculateIPv6(ipPart, prefix) {
        const ipBig = ipv6ToBigInt(ipPart);
        if (ipBig === null) {
          errorMsg.textContent = "Invalid IPv6 address.";
          return;
        }
        if (prefix == null) {
          errorMsg.textContent =
            "Please provide an IPv6 prefix length (e.g. /64).";
          return;
        }
        if (prefix < 0 || prefix > 128 || isNaN(prefix)) {
          errorMsg.textContent = "Invalid IPv6 prefix length.";
          return;
        }

        const maskBig = prefixToMaskIPv6(prefix);
        const wildcardBig = ~maskBig & ((1n << 128n) - 1n);
        const networkBig = ipBig & maskBig;
        const broadcastBig = networkBig | wildcardBig;

        resType.textContent = "IPv6";
        resCidr.textContent = `${bigIntToIPv6(ipBig)}/${prefix}`;
        resMask.textContent = bigIntToIPv6(maskBig);
        resWildcard.textContent = bigIntToIPv6(wildcardBig);
        resNetwork.textContent = bigIntToIPv6(networkBig);
        resBroadcast.textContent = bigIntToIPv6(broadcastBig);
        resFirstHost.textContent =
          "N/A (IPv6 typically does not use broadcast)";
        resLastHost.textContent = "N/A";
        resTotal.textContent = formatBigIntCount(prefix, 128);
        resUsable.textContent = "≈ " + formatBigIntCount(prefix, 128);
        resIpBinary.textContent = toBinaryIPv6(ipBig);
        resMaskBinary.textContent = toBinaryIPv6(maskBig);

        resultsSection.classList.remove("hidden");

        lastCalc = {
          mode: "ipv6",
          networkBig,
          prefix,
        };
      }

      // VLSM / split for IPv4 only
      splitBtn.addEventListener("click", () => {
        splitError.textContent = "";
        splitResults.classList.add("hidden");
        splitBody.innerHTML = "";

        if (!lastCalc || lastCalc.mode !== "ipv4") {
          splitError.textContent = "Please calculate an IPv4 subnet first.";
          return;
        }

        const n = parseInt(splitCountInput.value, 10);
        if (!Number.isInteger(n) || n < 2) {
          splitError.textContent = "Number of subnets must be at least 2.";
          return;
        }

        const { networkInt, prefix } = lastCalc;
        const bitsAvailable = 32 - prefix;
        const neededBits = Math.ceil(Math.log2(n));
        if (neededBits > bitsAvailable) {
          splitError.textContent =
            "Not enough host bits to create that many subnets.";
          return;
        }

        const newPrefix = prefix + neededBits;
        const blockSize = 2 ** (32 - newPrefix);

        for (let i = 0; i < n; i++) {
          const subNet = (networkInt + i * blockSize) >>> 0;
          const subBroadcast = (subNet + blockSize - 1) >>> 0;
          const firstHost =
            newPrefix >= 31 ? intToIPv4(subNet) : intToIPv4(subNet + 1);
          const lastHost =
            newPrefix >= 31
              ? intToIPv4(subBroadcast)
              : intToIPv4(subBroadcast - 1);

          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-2 py-1 border-b">${i + 1}</td>
        <td class="px-2 py-1 border-b">${intToIPv4(subNet)}/${newPrefix}</td>
        <td class="px-2 py-1 border-b">${intToIPv4(subNet)}</td>
        <td class="px-2 py-1 border-b">${firstHost}</td>
        <td class="px-2 py-1 border-b">${lastHost}</td>
        <td class="px-2 py-1 border-b">${intToIPv4(subBroadcast)}</td>
      `;
          splitBody.appendChild(tr);
        }

        splitResults.classList.remove("hidden");
      });

      // Keyboard shortcuts
      ipInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          calculate();
        }
      });
      maskInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          calculate();
        }
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
