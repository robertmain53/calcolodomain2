<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bsa-calculator" />
    <title>Bsa Calculator Guide Now [Proven 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Bsa Calculator Guide Now fast with our proven tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bsa Calculator Guide Now [Proven 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Bsa Calculator Guide Now fast with our proven tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/bsa-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bsa Calculator Guide Now [Proven 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bsa Calculator Guide Now fast with our proven tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "MedicalWebPage",
        "name": "BSA Calculator – Body Surface Area for Adults, Children, and Pets",
        "description": "Interactive body surface area (BSA) calculator with Mosteller, Du Bois, Haycock, Gehan & George, Boyd and pediatric formulas. Supports metric & imperial units, adults, children, and veterinary dosing.",
        "url": "https://calcdomain.com/bsa-calculator",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Health & Fitness",
              "item": "https://calcdomain.com/categories/health-fitness"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Health Metrics",
              "item": "https://calcdomain.com/health-metrics"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "BSA Calculator",
              "item": "https://calcdomain.com/bsa-calculator"
            }
          ]
        },
        "about": [
          { "@type": "MedicalEntity", "name": "Body surface area" },
          { "@type": "MedicalEntity", "name": "Chemotherapy dosing" },
          { "@type": "MedicalEntity", "name": "Pediatric dosing" }
        ],
        "publisher": {
          "@type": "Organization",
          "name": "CalcDomain",
          "url": "https://calcdomain.com"
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Health & Fitness Calculators", "item": "https://calcdomain.com/categories/health-fitness"}, {"@type": "ListItem", "position": 3, "name": "Health Metrics Calculators", "item": "https://calcdomain.com/subcategories/health-metrics"}, {"@type": "ListItem", "position": 4, "name": "BSA Calculator (Body Surface Area)", "item": "https://calcdomain.com/bsa-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/health-metrics" class="text-blue-600 hover:underline">Health Metrics Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">BSA Calculator (Body Surface Area)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                BSA Calculator (Body Surface Area)
              </h1>
              <p class="text-gray-700">
                Calculate body surface area (BSA) using multiple formulas
                (Mosteller, Du Bois, Haycock, Gehan &amp; George, Boyd) with
                metric or imperial units. Includes pediatric and veterinary
                (dog/cat) options.
              </p>
              <p class="mt-2 text-xs text-gray-500">
                This tool is for educational purposes only and does not replace
                clinical judgment. Always verify doses and calculations in
                accordance with your local protocols.
              </p>
            </header>

            <!-- Mode Tabs -->
            <div class="mb-4 flex flex-wrap gap-2">
              <button
                type="button"
                data-mode="human"
                class="mode-tab px-3 py-1.5 text-sm rounded-full border border-gray-300 bg-gray-100 font-medium tab-active"
              >
                Adult / Child
              </button>
              <button
                type="button"
                data-mode="pediatric"
                class="mode-tab px-3 py-1.5 text-sm rounded-full border border-gray-300 bg-gray-50 font-medium"
              >
                Pediatric (weight-based)
              </button>
              <button
                type="button"
                data-mode="vet"
                class="mode-tab px-3 py-1.5 text-sm rounded-full border border-gray-300 bg-gray-50 font-medium"
              >
                Veterinary (Dog / Cat)
              </button>
            </div>

            <!-- Unit Toggle -->
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-3">
                <span class="text-sm font-medium text-gray-700">Units</span>
                <label
                  class="toggle-pill inline-flex items-center cursor-pointer"
                >
                  <input
                    id="unit-toggle"
                    type="checkbox"
                    class="hidden"
                    aria-label="Toggle units between metric and imperial"
                  />
                  <span
                    class="w-12 h-6 flex items-center bg-gray-300 rounded-full px-1"
                  >
                    <span
                      class="bg-white w-4 h-4 rounded-full shadow transform transition"
                    ></span>
                  </span>
                </label>
                <span id="unit-label" class="text-sm text-gray-700"
                  >Metric (cm, kg)</span
                >
              </div>
              <button
                id="reset-btn"
                type="button"
                class="text-sm text-blue-600 hover:underline"
              >
                Reset
              </button>
            </div>

            <!-- Input Form -->
            <form id="bsa-form" class="space-y-4" onsubmit="return false;">
              <!-- Human / Pediatric shared -->
              <div id="human-inputs" class="space-y-4">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="age"
                      class="block text-sm font-medium text-gray-700"
                      >Age</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="age"
                        min="0"
                        max="120"
                        step="0.1"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 35"
                      />
                      <select
                        id="age-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="years">years</option>
                        <option value="months">months</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label
                      for="sex"
                      class="block text-sm font-medium text-gray-700"
                      >Sex (optional)</label
                    >
                    <select
                      id="sex"
                      class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                    >
                      <option value="">Not specified</option>
                      <option value="female">Female</option>
                      <option value="male">Male</option>
                    </select>
                  </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="height"
                      class="block text-sm font-medium text-gray-700"
                      >Height</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="height"
                        min="20"
                        max="250"
                        step="0.1"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 170"
                      />
                      <select
                        id="height-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="cm">cm</option>
                        <option value="in">in</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label
                      for="weight"
                      class="block text-sm font-medium text-gray-700"
                      >Weight</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="weight"
                        min="0.5"
                        max="300"
                        step="0.1"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 70"
                      />
                      <select
                        id="weight-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="kg">kg</option>
                        <option value="lb">lb</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Pediatric weight-only mode -->
              <div id="pediatric-inputs" class="space-y-4 hidden">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="pediatric-weight"
                      class="block text-sm font-medium text-gray-700"
                      >Weight</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="pediatric-weight"
                        min="0.5"
                        max="100"
                        step="0.1"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 12"
                      />
                      <select
                        id="pediatric-weight-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="kg">kg</option>
                        <option value="lb">lb</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label
                      for="pediatric-age"
                      class="block text-sm font-medium text-gray-700"
                      >Age</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="pediatric-age"
                        min="0"
                        max="18"
                        step="0.1"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 3"
                      />
                      <select
                        id="pediatric-age-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="years">years</option>
                        <option value="months">months</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Veterinary mode -->
              <div id="vet-inputs" class="space-y-4 hidden">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="species"
                      class="block text-sm font-medium text-gray-700"
                      >Species</label
                    >
                    <select
                      id="species"
                      class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                    >
                      <option value="dog">Dog</option>
                      <option value="cat">Cat</option>
                      <option value="other">Other (use generic formula)</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="vet-weight"
                      class="block text-sm font-medium text-gray-700"
                      >Weight</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        id="vet-weight"
                        min="0.1"
                        max="100"
                        step="0.01"
                        class="flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500"
                        placeholder="e.g. 8"
                      />
                      <select
                        id="vet-weight-unit"
                        class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50"
                      >
                        <option value="kg">kg</option>
                        <option value="lb">lb</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Optional dose helper -->
              <div
                id="dose-helper"
                class="border border-blue-100 bg-blue-50 rounded-md p-3 mt-2"
              >
                <div class="flex items-center justify-between">
                  <span class="text-sm font-medium text-gray-800"
                    >Dose helper (optional)</span
                  >
                  <label
                    class="inline-flex items-center text-xs text-gray-600 cursor-pointer"
                  >
                    <input id="dose-toggle" type="checkbox" class="mr-1" />
                    <span>Enable</span>
                  </label>
                </div>
                <div
                  id="dose-fields"
                  class="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 hidden"
                >
                  <div>
                    <label
                      for="dose-per-bsa"
                      class="block text-xs font-medium text-gray-700"
                      >Dose per m²</label
                    >
                    <input
                      type="number"
                      id="dose-per-bsa"
                      min="0"
                      step="0.01"
                      class="mt-1 w-full border border-gray-300 rounded-md px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                      placeholder="e.g. 75"
                    />
                  </div>
                  <div>
                    <label
                      for="dose-unit"
                      class="block text-xs font-medium text-gray-700"
                      >Dose unit</label
                    >
                    <select
                      id="dose-unit"
                      class="mt-1 w-full border border-gray-300 rounded-md px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                    >
                      <option value="mg">mg/m²</option>
                      <option value="mcg">mcg/m²</option>
                      <option value="IU">IU/m²</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-xs font-medium text-gray-700"
                      >Total dose</label
                    >
                    <input
                      type="text"
                      id="dose-total"
                      class="mt-1 w-full border border-gray-200 bg-gray-50 rounded-md px-2 py-1.5 text-sm text-gray-700"
                      readonly
                    />
                  </div>
                </div>
              </div>

              <div class="pt-2">
                <button
                  id="calc-btn"
                  type="button"
                  class="w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                >
                  Calculate BSA
                </button>
              </div>
            </form>

            <!-- Results -->
            <section id="results-section" class="mt-6 hidden">
              <h2 class="text-lg font-semibold mb-2">Results</h2>
              <div class="grid gap-3 result-grid">
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Mosteller
                  </div>
                  <div
                    id="bsa-mosteller"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-gray-500">m²</div>
                </div>
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Du Bois
                  </div>
                  <div
                    id="bsa-dubois"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-gray-500">m²</div>
                </div>
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Haycock
                  </div>
                  <div
                    id="bsa-haycock"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-gray-500">m²</div>
                </div>
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Gehan &amp; George
                  </div>
                  <div
                    id="bsa-gehan"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-gray-500">m²</div>
                </div>
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Boyd
                  </div>
                  <div
                    id="bsa-boyd"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-gray-500">m²</div>
                </div>
                <div class="border rounded-md p-3 bg-gray-50">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Pediatric / Vet formula
                  </div>
                  <div
                    id="bsa-special"
                    class="text-xl font-semibold text-gray-900"
                  >
                    –
                  </div>
                  <div id="bsa-special-label" class="text-xs text-gray-500">
                    m²
                  </div>
                </div>
              </div>
              <p id="results-note" class="mt-3 text-xs text-gray-500"></p>
            </section>

            <!-- Explanation -->
            <section class="prose mt-8">
              <h2>What is body surface area (BSA)?</h2>
              <p>
                Body surface area (BSA) is an estimate of the total external
                surface of the human (or animal) body, expressed in square
                meters (m²). It is widely used in medicine to:
              </p>
              <ul>
                <li>
                  Normalize drug doses (e.g., chemotherapy, some antibiotics,
                  immunosuppressants).
                </li>
                <li>
                  Index physiological measurements (e.g., cardiac output, GFR,
                  lung function).
                </li>
                <li>Estimate metabolic rate and fluid requirements.</li>
              </ul>

              <h2>Most commonly used BSA formulas</h2>
              <p>
                All formulas below use height in centimeters (cm) and weight in
                kilograms (kg) after unit conversion.
              </p>

              <div class="formula-box text-sm">
                <strong>Mosteller (very common, simple)</strong><br />
                \[ \text{BSA}_{\text{Mosteller}} = \sqrt{\frac{\text{height
                (cm)} \times \text{weight (kg)}}{3600}} \]
              </div>

              <div class="formula-box text-sm">
                <strong>Du Bois &amp; Du Bois (classic)</strong><br />
                \[ \text{BSA}_{\text{Du Bois}} = 0.007184 \times \text{height
                (cm)}^{0.725} \times \text{weight (kg)}^{0.425} \]
              </div>

              <div class="formula-box text-sm">
                <strong>Haycock (often used in pediatrics)</strong><br />
                \[ \text{BSA}_{\text{Haycock}} = 0.024265 \times \text{height
                (cm)}^{0.3964} \times \text{weight (kg)}^{0.5378} \]
              </div>

              <div class="formula-box text-sm">
                <strong>Gehan &amp; George</strong><br />
                \[ \text{BSA}_{\text{Gehan}} = 0.0235 \times \text{height
                (cm)}^{0.42246} \times \text{weight (kg)}^{0.51456} \]
              </div>

              <div class="formula-box text-sm">
                <strong>Boyd</strong><br />
                First compute: \[ W = \text{weight (kg)}, \quad \log_{10}(W) \]
                Then: \[ \text{BSA}_{\text{Boyd}} = 0.0003207 \times
                \text{height (cm)}^{0.3} \times \left(1000 \times
                W\right)^{0.7285 - 0.0188 \times \log_{10}(W)} \]
              </div>

              <h3>Pediatric weight-based formula (Mosteller variant)</h3>
              <p>
                For quick pediatric estimates when height is not available, a
                simplified weight-based formula is sometimes used:
              </p>
              <div class="formula-box text-sm">
                \[ \text{BSA}_{\text{pediatric}} \approx \frac{4 \times
                \text{weight (kg)} + 7}{90} \]
              </div>

              <h3>Veterinary BSA formulas (dogs and cats)</h3>
              <p>
                Veterinary oncology and internal medicine often use
                species-specific BSA formulas:
              </p>
              <div class="formula-box text-sm">
                <strong>Dog</strong><br />
                \[ \text{BSA}_{\text{dog}} = 0.101 \times \text{weight
                (kg)}^{2/3} \]
                <strong>Cat</strong><br />
                \[ \text{BSA}_{\text{cat}} = 0.1 \times \text{weight (kg)}^{2/3}
                \]
                <strong>Other small animals (generic)</strong><br />
                \[ \text{BSA}_{\text{generic}} \approx 0.1 \times \text{weight
                (kg)}^{2/3} \]
              </div>

              <h2>Typical BSA values</h2>
              <table class="w-full text-sm border border-gray-200 mt-2">
                <thead class="bg-gray-100">
                  <tr>
                    <th class="border border-gray-200 px-2 py-1 text-left">
                      Population
                    </th>
                    <th class="border border-gray-200 px-2 py-1 text-left">
                      Approx. BSA (m²)
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">
                      Adult female (160 cm, 60 kg)
                    </td>
                    <td class="border border-gray-200 px-2 py-1">~1.6 m²</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">
                      Adult male (175 cm, 75 kg)
                    </td>
                    <td class="border border-gray-200 px-2 py-1">~1.9 m²</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">
                      Child 5 years (~18 kg, 110 cm)
                    </td>
                    <td class="border border-gray-200 px-2 py-1">~0.75 m²</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">
                      Newborn (~3.5 kg, 50 cm)
                    </td>
                    <td class="border border-gray-200 px-2 py-1">~0.23 m²</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">Dog 20 kg</td>
                    <td class="border border-gray-200 px-2 py-1">~0.8 m²</td>
                  </tr>
                  <tr>
                    <td class="border border-gray-200 px-2 py-1">Cat 4 kg</td>
                    <td class="border border-gray-200 px-2 py-1">~0.25 m²</td>
                  </tr>
                </tbody>
              </table>

              <h2>How to use this BSA calculator</h2>
              <ol>
                <li>
                  Select the appropriate mode: adult/child, pediatric
                  (weight-only), or veterinary.
                </li>
                <li>
                  Choose metric or imperial units. The calculator automatically
                  converts to cm and kg internally.
                </li>
                <li>
                  Enter height and weight (or weight only for pediatric/vet
                  modes).
                </li>
                <li>
                  Optionally enable the dose helper and enter a dose per m² to
                  get the total dose.
                </li>
                <li>
                  Click <strong>Calculate BSA</strong> to see BSA from all
                  supported formulas.
                </li>
              </ol>

              <h2>Which BSA formula should I use?</h2>
              <p>
                There is no single universally “correct” formula. In practice:
              </p>
              <ul>
                <li>
                  <strong>Mosteller</strong> is widely used because it is simple
                  and performs well across a broad range of body sizes.
                </li>
                <li>
                  <strong>Du Bois</strong> is the historical reference and still
                  used in many clinical studies.
                </li>
                <li>
                  <strong>Haycock</strong> and
                  <strong>Gehan &amp; George</strong> are often preferred in
                  pediatrics.
                </li>
                <li>
                  <strong>Boyd</strong> may be more accurate in very small or
                  very large patients.
                </li>
                <li>
                  For <strong>veterinary</strong> patients, species-specific
                  formulas are recommended.
                </li>
              </ul>
              <p>
                Always follow your institution’s protocol or the dosing
                recommendations from the specific drug monograph.
              </p>

              <h2>Limitations and safety notes</h2>
              <ul>
                <li>
                  BSA is an estimate and should not be the only factor guiding
                  therapy.
                </li>
                <li>
                  In obesity, underweight, or edema, consider whether to use
                  actual, ideal, or adjusted body weight as per guidelines.
                </li>
                <li>
                  For high-risk drugs (e.g., chemotherapy), double-check all
                  calculations and use independent verification.
                </li>
                <li>
                  This calculator does not store or transmit personal health
                  information.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-lg font-semibold mb-3">
                Frequently Asked Questions
              </h2>
              <div class="space-y-2" id="faq-container">
                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-3 py-2 text-left text-sm font-medium"
                  >
                    <span
                      >Which BSA formula is most commonly used in clinical
                      practice?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-3 pb-3 text-sm text-gray-700 hidden"
                  >
                    Many hospitals and oncology protocols use the
                    <strong>Mosteller</strong> formula because it is simple and
                    closely matches more complex formulas across typical adult
                    and pediatric sizes. However, some centers still use
                    <strong>Du Bois</strong> or pediatric-specific formulas.
                    Always follow your local policy or the drug’s prescribing
                    information.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-3 py-2 text-left text-sm font-medium"
                  >
                    <span
                      >Should I use actual, ideal, or adjusted body weight to
                      calculate BSA?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-3 pb-3 text-sm text-gray-700 hidden"
                  >
                    It depends on the clinical context and drug. For many
                    medications, <strong>actual body weight</strong> is used.
                    For certain chemotherapies or in obesity, guidelines may
                    recommend <strong>capping BSA</strong> or using
                    <strong>adjusted body weight</strong>. Check the relevant
                    clinical guideline or protocol before making dosing
                    decisions.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-3 py-2 text-left text-sm font-medium"
                  >
                    <span>How accurate is BSA for drug dosing?</span>
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-3 pb-3 text-sm text-gray-700 hidden"
                  >
                    BSA-based dosing is an approximation. It reduces variability
                    compared with using weight alone, but it does not fully
                    account for organ function, pharmacogenomics, or
                    comorbidities. For narrow-therapeutic-index drugs,
                    therapeutic drug monitoring and clinical assessment remain
                    essential.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-3 py-2 text-left text-sm font-medium"
                  >
                    <span
                      >Can I use this BSA calculator for veterinary chemotherapy
                      dosing?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-3 pb-3 text-sm text-gray-700 hidden"
                  >
                    The veterinary mode uses commonly cited dog and cat BSA
                    formulas and can support dose calculations in mg/m².
                    However,
                    <strong>only a licensed veterinarian</strong> should
                    prescribe and verify chemotherapy or other high-risk
                    treatments. This tool is intended as a computational aid,
                    not a prescribing system.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li></li><li>Age years months Sex (optional) Not specified Female Male Height cm in Weight kg lb Weight kg lb Age years months Species Dog Cat Other (use generic formula) Weight kg lb Dose helper (optional) Enable</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bsa, Calculator, Age years months Sex (optional) Not specified Female Male Height cm in Weight kg lb Weight kg lb Age years months Species Dog Cat Other (use generic formula) Weight kg lb Dose helper (optional) Enable.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li></li><li>Age years months Sex (optional) Not specified Female Male Height cm in Weight kg lb Weight kg lb Age years months Species Dog Cat Other (use generic formula) Weight kg lb Dose helper (optional) Enable</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Health Metrics</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-blue-600 hover:underline"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/body-fat"
                  class="text-blue-600 hover:underline"
                  >Body Fat Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lean-body-mass"
                  class="text-blue-600 hover:underline"
                  >Lean Body Mass (LBM)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmr"
                  class="text-blue-600 hover:underline"
                  >Basal Metabolic Rate (BMR)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ideal-weight"
                  class="text-blue-600 hover:underline"
                  >Ideal Weight</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/absi"
                  class="text-blue-600 hover:underline"
                  >A Body Shape Index (ABSI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rfm"
                  class="text-blue-600 hover:underline"
                  >Relative Fat Mass (RFM)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/waist-to-hip-ratio"
                  class="text-blue-600 hover:underline"
                  >Waist to Hip Ratio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calories-burned"
                  class="text-blue-600 hover:underline"
                  >Calories Burned</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Health &amp; Fitness Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/tdee"
                  class="text-blue-600 hover:underline"
                  >TDEE (Total Daily Energy Expenditure)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/water-intake-calculator"
                  class="text-blue-600 hover:underline"
                  >Water Intake Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heart-rate-calculator"
                  class="text-blue-600 hover:underline"
                  >Heart Rate Zones</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/target-heart-rate"
                  class="text-blue-600 hover:underline"
                  >Target Heart Rate</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // FAQ toggle (simple, in case global script not loaded yet)
      document.addEventListener("click", function (e) {
        if (e.target.closest(".faq-question")) {
          const btn = e.target.closest(".faq-question");
          const answer = btn.parentElement.querySelector(".faq-answer");
          const symbol = btn.querySelector("span:last-child");
          const isHidden = answer.classList.contains("hidden");
          document
            .querySelectorAll(".faq-answer")
            .forEach((a) => a.classList.add("hidden"));
          document
            .querySelectorAll("#faq-container .faq-question span:last-child")
            .forEach((s) => (s.textContent = "+"));
          if (isHidden) {
            answer.classList.remove("hidden");
            symbol.textContent = "−";
          }
        }
      });

      const unitToggle = document.getElementById("unit-toggle");
      const unitLabel = document.getElementById("unit-label");
      const heightUnit = document.getElementById("height-unit");
      const weightUnit = document.getElementById("weight-unit");
      const pediatricWeightUnit = document.getElementById(
        "pediatric-weight-unit"
      );
      const vetWeightUnit = document.getElementById("vet-weight-unit");

      unitToggle.addEventListener("change", () => {
        const metric = !unitToggle.checked;
        if (metric) {
          unitLabel.textContent = "Metric (cm, kg)";
          heightUnit.value = "cm";
          weightUnit.value = "kg";
          pediatricWeightUnit.value = "kg";
          vetWeightUnit.value = "kg";
        } else {
          unitLabel.textContent = "Imperial (in, lb)";
          heightUnit.value = "in";
          weightUnit.value = "lb";
          pediatricWeightUnit.value = "lb";
          vetWeightUnit.value = "lb";
        }
      });

      // Mode tabs
      const modeTabs = document.querySelectorAll(".mode-tab");
      const humanInputs = document.getElementById("human-inputs");
      const pediatricInputs = document.getElementById("pediatric-inputs");
      const vetInputs = document.getElementById("vet-inputs");
      const doseHelper = document.getElementById("dose-helper");

      let currentMode = "human";

      modeTabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          modeTabs.forEach((t) => t.classList.remove("tab-active"));
          tab.classList.add("tab-active");
          currentMode = tab.dataset.mode;

          humanInputs.classList.add("hidden");
          pediatricInputs.classList.add("hidden");
          vetInputs.classList.add("hidden");

          if (currentMode === "human") {
            humanInputs.classList.remove("hidden");
            doseHelper.classList.remove("hidden");
          } else if (currentMode === "pediatric") {
            pediatricInputs.classList.remove("hidden");
            doseHelper.classList.remove("hidden");
          } else if (currentMode === "vet") {
            vetInputs.classList.remove("hidden");
            doseHelper.classList.remove("hidden");
          }
        });
      });

      // Dose helper toggle
      const doseToggle = document.getElementById("dose-toggle");
      const doseFields = document.getElementById("dose-fields");
      doseToggle.addEventListener("change", () => {
        if (doseToggle.checked) {
          doseFields.classList.remove("hidden");
        } else {
          doseFields.classList.add("hidden");
          document.getElementById("dose-total").value = "";
        }
      });

      // Reset
      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("bsa-form").reset();
        unitToggle.checked = false;
        unitLabel.textContent = "Metric (cm, kg)";
        heightUnit.value = "cm";
        weightUnit.value = "kg";
        pediatricWeightUnit.value = "kg";
        vetWeightUnit.value = "kg";
        doseFields.classList.add("hidden");
        document.getElementById("dose-total").value = "";
        document.getElementById("results-section").classList.add("hidden");
      });

      function toCm(value, unit) {
        if (!value || isNaN(value)) return null;
        return unit === "in" ? value * 2.54 : value;
      }

      function toKg(value, unit) {
        if (!value || isNaN(value)) return null;
        return unit === "lb" ? value * 0.45359237 : value;
      }

      function round(value, decimals) {
        const factor = Math.pow(10, decimals);
        return Math.round(value * factor) / factor;
      }

      function calcHumanBSA(hCm, wKg) {
        const results = {};
        if (hCm <= 0 || wKg <= 0) return results;

        // Mosteller
        results.mosteller = Math.sqrt((hCm * wKg) / 3600);

        // Du Bois
        results.dubois = 0.007184 * Math.pow(hCm, 0.725) * Math.pow(wKg, 0.425);

        // Haycock
        results.haycock =
          0.024265 * Math.pow(hCm, 0.3964) * Math.pow(wKg, 0.5378);

        // Gehan & George
        results.gehan =
          0.0235 * Math.pow(hCm, 0.42246) * Math.pow(wKg, 0.51456);

        // Boyd
        const W = wKg;
        const logW = Math.log10(W);
        const exponent = 0.7285 - 0.0188 * logW;
        results.boyd =
          0.0003207 * Math.pow(hCm, 0.3) * Math.pow(1000 * W, exponent);

        return results;
      }

      function calcPediatricBSA(weightKg) {
        if (weightKg <= 0) return null;
        return (4 * weightKg + 7) / 90;
      }

      function calcVetBSA(weightKg, species) {
        if (weightKg <= 0) return null;
        const w23 = Math.pow(weightKg, 2 / 3);
        if (species === "dog") return 0.101 * w23;
        if (species === "cat") return 0.1 * w23;
        return 0.1 * w23;
      }

      document.getElementById("calc-btn").addEventListener("click", () => {
        const resultsSection = document.getElementById("results-section");
        const noteEl = document.getElementById("results-note");
        let bsaHuman = {};
        let bsaSpecial = null;
        let specialLabel = "";

        if (currentMode === "human") {
          const hVal = parseFloat(document.getElementById("height").value);
          const hUnit = document.getElementById("height-unit").value;
          const wVal = parseFloat(document.getElementById("weight").value);
          const wUnit = document.getElementById("weight-unit").value;

          const hCm = toCm(hVal, hUnit);
          const wKg = toKg(wVal, wUnit);

          if (!hCm || !wKg) {
            alert("Please enter valid height and weight.");
            return;
          }
          bsaHuman = calcHumanBSA(hCm, wKg);
          bsaSpecial = null;
          specialLabel = "m²";
          noteEl.textContent =
            "Human mode: BSA calculated from height and weight using multiple formulas.";
        } else if (currentMode === "pediatric") {
          const wVal = parseFloat(
            document.getElementById("pediatric-weight").value
          );
          const wUnit = document.getElementById("pediatric-weight-unit").value;
          const wKg = toKg(wVal, wUnit);
          if (!wKg) {
            alert("Please enter a valid weight for the child.");
            return;
          }
          bsaSpecial = calcPediatricBSA(wKg);
          specialLabel = "Pediatric weight-based formula (approximate)";
          bsaHuman = {}; // not using height-based formulas here
          noteEl.textContent =
            "Pediatric mode: BSA estimated from weight only using a simplified formula. Prefer height-based formulas when accurate measurements are available.";
        } else if (currentMode === "vet") {
          const wVal = parseFloat(document.getElementById("vet-weight").value);
          const wUnit = document.getElementById("vet-weight-unit").value;
          const species = document.getElementById("species").value;
          const wKg = toKg(wVal, wUnit);
          if (!wKg) {
            alert("Please enter a valid animal weight.");
            return;
          }
          bsaSpecial = calcVetBSA(wKg, species);
          specialLabel =
            species === "dog"
              ? "Dog BSA formula"
              : species === "cat"
              ? "Cat BSA formula"
              : "Generic small animal BSA formula";
          bsaHuman = {};
          noteEl.textContent =
            "Veterinary mode: species-specific BSA formula based on weight. For clinical use, follow veterinary oncology guidelines.";
        }

        // Update human formula cards
        document.getElementById("bsa-mosteller").textContent =
          bsaHuman.mosteller ? round(bsaHuman.mosteller, 3) : "–";
        document.getElementById("bsa-dubois").textContent = bsaHuman.dubois
          ? round(bsaHuman.dubois, 3)
          : "–";
        document.getElementById("bsa-haycock").textContent = bsaHuman.haycock
          ? round(bsaHuman.haycock, 3)
          : "–";
        document.getElementById("bsa-gehan").textContent = bsaHuman.gehan
          ? round(bsaHuman.gehan, 3)
          : "–";
        document.getElementById("bsa-boyd").textContent = bsaHuman.boyd
          ? round(bsaHuman.boyd, 3)
          : "–";

        // Special card
        const specialEl = document.getElementById("bsa-special");
        const specialLabelEl = document.getElementById("bsa-special-label");
        if (bsaSpecial) {
          specialEl.textContent = round(bsaSpecial, 3);
          specialLabelEl.textContent = specialLabel;
        } else {
          specialEl.textContent = "–";
          specialLabelEl.textContent = "m²";
        }

        // Dose helper
        if (doseToggle.checked && (bsaHuman.mosteller || bsaSpecial)) {
          const dosePer = parseFloat(
            document.getElementById("dose-per-bsa").value
          );
          const unit = document.getElementById("dose-unit").value;
          const refBsa = bsaHuman.mosteller || bsaSpecial;
          if (!isNaN(dosePer) && dosePer > 0) {
            const total = refBsa * dosePer;
            document.getElementById("dose-total").value =
              round(total, 2) + " " + unit.replace("/m²", "") || unit;
          } else {
            document.getElementById("dose-total").value = "";
          }
        }

        resultsSection.classList.remove("hidden");
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
