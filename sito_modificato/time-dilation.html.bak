<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/time-dilation" />
    <title>Time Dilation Calculator: [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Time Dilation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Time Dilation Calculator: [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Time Dilation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/time-dilation" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Time Dilation Calculator: [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Time Dilation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Time Dilation Calculator – Special & Gravitational Relativity",
        "description": "Interactive time dilation calculator for both special and gravitational relativity. Enter speed or gravitational field to see how much slower time passes, with formulas, graphs, and worked examples.",
        "url": "https://calcdomain.com/time-dilation",
        "mainEntity": [
          {
            "@type": "Calculator",
            "name": "Time Dilation Calculator",
            "description": "Computes relativistic time dilation due to velocity and gravitational potential. Supports bidirectional calculations between proper time and dilated time, with presets for satellites, black holes, and everyday scenarios.",
            "applicationCategory": "ScienceApplication",
            "about": [
              "special relativity",
              "gravitational time dilation",
              "Lorentz factor",
              "general relativity"
            ]
          },
          {
            "@type": "FAQPage",
            "mainEntity": [
              {
                "@type": "Question",
                "name": "What is time dilation in simple terms?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Time dilation is the effect predicted by relativity where time does not pass at the same rate for all observers. A moving clock or a clock deeper in a gravitational field ticks more slowly compared with a clock at rest far from gravity."
                }
              },
              {
                "@type": "Question",
                "name": "What is the formula for time dilation due to speed?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "For special relativity, the time dilation factor is given by t = \u03b3 \u03c4, where \u03b3 = 1 / sqrt(1 - v^2/c^2). Here \u03c4 is the proper time measured by the moving clock, v is its speed relative to the observer, and c is the speed of light."
                }
              },
              {
                "@type": "Question",
                "name": "What is the formula for gravitational time dilation?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Near a non-rotating spherical mass M at radius r, the grM/(rc^2)), where G is the gravitational constant and c is the speed of light."
                }
              },
              {
                "@type": "Question",
                "name": "Does time dilation affect everyday life?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes, but the effect is tiny at everyday speeds and heights. However, it is large enough that GPS satellites must correct for both special and gravitational time dilation to keep navigation accurate on Earth."
                }
              },
              {
                "@type": "Question",
                "name": "Can time dilation be used for time travel?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Relativistic time dilation allows one-way time travel to the future: if you travel at speeds close to light or stay near a very massive object, less time passes for you than for people far away. When you return, you will have aged less than those who stayed behind."
                }
              }
            ]
          }
        ],
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Science",
              "item": "https://calcdomain.com/categories/science"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "General",
              "item": "https://calcdomain.com/science"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Time Dilation Calculator",
              "item": "https://calcdomain.com/time-dilation"
            }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Physics Calculators", "item": "https://calcdomain.com/subcategories/physics"}, {"@type": "ListItem", "position": 4, "name": "Time Dilation Calculator", "item": "https://calcdomain.com/time-dilation"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/physics" class="text-blue-600 hover:underline">Physics Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Time Dilation Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Time Dilation Calculator
              </h1>
              <p class="text-gray-600">
                Explore how time slows down at high speeds or in strong gravity.
                Compare proper time and dilated time using special and
                gravitational relativity.
              </p>
            </header>

            <!-- Calculator Tabs -->
            <div class="mb-6 border-b border-gray-200">
              <nav
                class="flex flex-wrap gap-2"
                aria-label="Time dilation modes"
              >
                <button
                  id="tab-special"
                  class="px-4 py-2 text-sm font-medium border-b-2 border-blue-600 text-blue-600 focus:outline-none"
                  type="button"
                >
                  Special Relativity (Speed)
                </button>
                <button
                  id="tab-gravity"
                  class="px-4 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600 focus:outline-none"
                  type="button"
                >
                  Gravitational (Near Mass)
                </button>
              </nav>
            </div>

            <!-- Special Relativity Panel -->
            <section id="panel-special" aria-labelledby="tab-special">
              <h2 class="text-xl font-semibold mb-4">
                Special Relativity – Time Dilation from Speed
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-4">
                <div>
                  <label
                    for="velocityInput"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Speed of moving clock
                  </label>
                  <div class="flex items-center gap-2 mb-2">
                    <input
                      id="velocityInput"
                      type="number"
                      step="0.001"
                      min="0"
                      max="0.999999"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="0.8"
                    />
                    <span class="text-sm text-gray-600">c</span>
                  </div>
                  <input
                    id="velocitySlider"
                    type="range"
                    min="0"
                    max="0.999"
                    step="0.001"
                    value="0.8"
                    class="w-full"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>0</span><span>0.5c</span><span>0.9c</span
                    ><span>0.99c</span>
                  </div>
                </div>

                <div>
                  <label
                    for="properTimeValue"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Proper time (on moving clock)
                  </label>
                  <div class="flex gap-2 mb-2">
                    <input
                      id="properTimeValue"
                      type="number"
                      step="0.001"
                      min="0"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="1"
                    />
                    <select
                      id="properTimeUnit"
                      class="border border-gray-300 rounded-md px-2 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="s">seconds</option>
                      <option value="min">minutes</option>
                      <option value="h" selected>hours</option>
                      <option value="d">days</option>
                      <option value="y">years</option>
                    </select>
                  </div>

                  <div class="flex items-center gap-2 mt-4">
                    <input
                      id="lockProperTime"
                      type="checkbox"
                      class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                    />
                    <label for="lockProperTime" class="text-xs text-gray-600">
                      Lock proper time (change speed only)
                    </label>
                  </div>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-blue-800 mb-2">
                    Results (Special Relativity)
                  </h3>
                  <p class="text-sm text-gray-700 mb-1">
                    Lorentz factor γ:
                    <span
                      id="gammaValue"
                      class="font-mono font-semibold result-badge ml-1"
                      >1.6667</span
                    >
                  </p>
                  <p class="text-sm text-gray-700 mb-1">
                    Time seen by stationary observer:
                  </p>
                  <p class="text-lg font-semibold text-blue-900">
                    <span id="dilatedTimeValue" class="font-mono result-badge"
                      >1.667</span
                    >
                    <span id="dilatedTimeUnitLabel">hours</span>
                  </p>
                  <p class="text-xs text-gray-600 mt-1">
                    That is
                    <span id="percentSlower" class="font-semibold">66.7%</span>
                    more time than on the moving clock.
                  </p>
                </div>

                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Intuition
                  </h3>
                  <p id="specialSummary" class="text-sm text-gray-700">
                    At 0.80c, every 1.00 hour on the moving clock corresponds to
                    1.67 hours for the stationary observer.
                  </p>
                  <ul class="mt-2 text-xs text-gray-600 list-disc list-inside">
                    <li>v → 0 ⇒ γ → 1 (no time dilation).</li>
                    <li>
                      v → c ⇒ γ → ∞ (time almost stops on the moving clock).
                    </li>
                  </ul>
                </div>
              </div>

              <details class="mt-4 mb-2">
                <summary
                  class="text-sm font-semibold text-gray-800 cursor-pointer"
                >
                  Presets (click to apply)
                </summary>
                <div class="mt-2 grid md:grid-cols-3 gap-2 text-sm">
                  <button
                    type="button"
                    data-preset="iss"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    ISS astronaut (~7.66 km/s)
                  </button>
                  <button
                    type="button"
                    data-preset="airplane"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    Jet airplane (~900 km/h)
                  </button>
                  <button
                    type="button"
                    data-preset="0.99c"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    0.99c deep-space trip
                  </button>
                </div>
              </details>
            </section>

            <!-- Gravitational Panel -->
            <section
              id="panel-gravity"
              class="hidden"
              aria-labelledby="tab-gravity"
            >
              <h2 class="text-xl font-semibold mb-4">
                Gravitational Time Dilation – Near a Spherical Mass
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-4">
                <div>
                  <label
                    for="massSelect"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Central mass
                  </label>
                  <select
                    id="massSelect"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 mb-2"
                  >
                    <option value="earth" selected>Earth</option>
                    <option value="sun">Sun</option>
                    <option value="neutron">
                      Neutron star (1.4 M☉, R = 12 km)
                    </option>
                    <option value="custom">Custom mass & radius</option>
                  </select>

                  <div
                    id="customMassContainer"
                    class="grid grid-cols-2 gap-2 mb-2 hidden"
                  >
                    <div>
                      <label
                        for="massCustom"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Mass</label
                      >
                      <input
                        id="massCustom"
                        type="number"
                        step="1e20"
                        min="0"
                        class="w-full border border-gray-300 rounded-md px-2 py-1 text-xs focus:ring-blue-500 focus:border-blue-500"
                        value="5.972e24"
                      />
                      <p class="text-[11px] text-gray-500 mt-0.5">kg</p>
                    </div>
                    <div>
                      <label
                        for="radiusCustom"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Radius</label
                      >
                      <input
                        id="radiusCustom"
                        type="number"
                        step="1e3"
                        min="0"
                        class="w-full border border-gray-300 rounded-md px-2 py-1 text-xs focus:ring-blue-500 focus:border-blue-500"
                        value="6.371e6"
                      />
                      <p class="text-[11px] text-gray-500 mt-0.5">m</p>
                    </div>
                  </div>

                  <label
                    for="heightAboveSurface"
                    class="block text-sm font-medium text-gray-700 mb-1 mt-2"
                  >
                    Height above surface
                  </label>
                  <div class="flex items-center gap-2 mb-2">
                    <input
                      id="heightAboveSurface"
                      type="number"
                      step="100"
                      min="0"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="0"
                    />
                    <span class="text-sm text-gray-600">m</span>
                  </div>
                  <input
                    id="heightSlider"
                    type="range"
                    min="0"
                    max="1000000"
                    step="1000"
                    value="0"
                    class="w-full"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>Surface</span><span>100 km</span><span>1,000 km</span>
                  </div>
                </div>

                <div>
                  <label
                    for="gravityProperTimeValue"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Time at reference (far away)
                  </label>
                  <div class="flex gap-2 mb-2">
                    <input
                      id="gravityProperTimeValue"
                      type="number"
                      step="0.001"
                      min="0"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"
                      value="1"
                    />
                    <select
                      id="gravityProperTimeUnit"
                      class="border border-gray-300 rounded-md px-2 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="s">seconds</option>
                      <option value="min">minutes</option>
                      <option value="h" selected>hours</option>
                      <option value="d">days</option>
                      <option value="y">years</option>
                    </select>
                  </div>

                  <p class="text-xs text-gray-600 mt-2">
                    We compare a clock at height
                    <span class="font-mono">h</span> above the surface to a
                    clock very far away (where gravity is negligible).
                  </p>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-green-50 border border-green-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-green-800 mb-2">
                    Results (Gravitational Relativity)
                  </h3>
                  <p class="text-sm text-gray-700 mb-1">
                    Gravitational factor:
                    <span
                      id="gravityFactor"
                      class="font-mono font-semibold result-badge ml-1"
                      >0.9999999993</span
                    >
                  </p>
                  <p class="text-sm text-gray-700 mb-1">
                    Time at height h (near mass):
                  </p>
                  <p class="text-lg font-semibold text-green-900">
                    <span
                      id="gravityDilatedTimeValue"
                      class="font-mono result-badge"
                      >1.000</span
                    >
                    <span id="gravityDilatedTimeUnitLabel">hours</span>
                  </p>
                  <p class="text-xs text-gray-600 mt-1">
                    The near clock runs
                    <span id="gravityPercentSlower" class="font-semibold"
                      >0.0%</span
                    >
                    slower than the far-away clock.
                  </p>
                </div>

                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Intuition
                  </h3>
                  <p id="gravitySummary" class="text-sm text-gray-700">
                    At Earth's surface, the effect is tiny: 1.00 hour far away
                    corresponds to 0.9999999993 hours on the surface.
                  </p>
                  <ul class="mt-2 text-xs text-gray-600 list-disc list-inside">
                    <li>
                      Stronger gravity (larger M, smaller r) ⇒ slower clock.
                    </li>
                    <li>
                      At the Schwarzschild radius, time would appear to stop for
                      a distant observer.
                    </li>
                  </ul>
                </div>
              </div>

              <details class="mt-4 mb-2">
                <summary
                  class="text-sm font-semibold text-gray-800 cursor-pointer"
                >
                  Presets (click to apply)
                </summary>
                <div class="mt-2 grid md:grid-cols-3 gap-2 text-sm">
                  <button
                    type="button"
                    data-gpreset="earth-surface"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    Earth surface vs far away
                  </button>
                  <button
                    type="button"
                    data-gpreset="gps"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    GPS satellite (~20,200 km)
                  </button>
                  <button
                    type="button"
                    data-gpreset="neutron"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"
                  >
                    Neutron star surface
                  </button>
                </div>
              </details>
            </section>

            <!-- Explanation Content -->
            <section class="prose mt-8">
              <h2>How the time dilation calculator works</h2>
              <p>
                This tool combines <strong>special relativity</strong> (time
                dilation from speed) and
                <strong>general relativity</strong> (gravitational time
                dilation) in one interface. You can:
              </p>
              <ul>
                <li>
                  Enter a speed as a fraction of the speed of light and see how
                  much slower a moving clock runs.
                </li>
                <li>
                  Compare clocks at different heights in a gravitational field
                  (Earth, Sun, neutron star, or custom).
                </li>
                <li>
                  Use presets for real-world scenarios like airplanes, the ISS,
                  GPS satellites, and extreme astrophysical objects.
                </li>
              </ul>

              <h2>Special relativity: time dilation from speed</h2>
              <p>
                In special relativity, a clock moving at speed \(v\) relative to
                an observer ticks more slowly. The relationship between the
                <em>proper time</em> \(\tau\) (time measured by the moving
                clock) and the <em>dilated time</em> \(t\) (time measured by the
                stationary observer) is:
              </p>
              <div class="formula-box">
                \[ t = \gamma \,\tau, \quad \gamma = \frac{1}{\sqrt{1 -
                \dfrac{v^2}{c^2}}} \]
              </div>
              <ul>
                <li>
                  \(c \approx 3.00 \times 10^8 \,\text{m/s}\) is the speed of
                  light.
                </li>
                <li>\(\gamma\) is the <strong>Lorentz factor</strong>.</li>
                <li>
                  \(\tau\) is the time measured by the moving clock (its own
                  wristwatch).
                </li>
                <li>\(t\) is the time measured by the stationary observer.</li>
              </ul>

              <h3>Example: 0.8c interstellar trip</h3>
              <p>
                Suppose a spaceship travels at \(v = 0.8c\) relative to Earth,
                and 1 year passes on the ship (proper time \(\tau = 1\) year).
              </p>
              <div class="formula-box">
                \[ \gamma = \frac{1}{\sqrt{1 - 0.8^2}} = \frac{1}{\sqrt{1 -
                0.64}} = \frac{1}{\sqrt{0.36}} = \frac{1}{0.6} \approx 1.667 \]
                \[ t = \gamma \tau \approx 1.667 \times 1 \text{ year} = 1.667
                \text{ years} \]
              </div>
              <p>
                While the astronaut ages 1 year, people on Earth see about 1.67
                years pass.
              </p>

              <h3>Everyday speeds: why you do not notice time dilation</h3>
              <p>
                At everyday speeds, \(v \ll c\), so \(v^2/c^2\) is tiny and
                \(\gamma \approx 1\). For example, at 900 km/h (a typical jet
                speed), \(v/c \approx 2.5 \times 10^{-6}\), and the time
                difference over a long flight is only microseconds.
              </p>

              <h2>Gravitational time dilation</h2>
              <p>
                General relativity predicts that clocks run more slowly in
                stronger gravitational fields. Near a non-rotating spherical
                mass \(M\) (Schwarzschild metric), the time dilation factor
                between a clock at radius \(r\) and a clock far away is:
              </p>
              <div class="formula-box">
                \[ t_{\text{far}} = \frac{t_r}{\sqrt{1 - \dfrac{2GM}{rc^2}}} \]
              </div>
              <ul>
                <li>
                  \(G \approx 6.674 \times 10^{-11}
                  \,\text{m}^3\text{kg}^{-1}\text{s}^{-2}\) is the gravitational
                  constant.
                </li>
                <li>
                  \(M\) is the mass of the object (Earth, Sun, neutron star,
                  etc.).
                </li>
                <li>\(r\) is the distance from the center of the mass.</li>
                <li>
                  \(t_r\) is the time measured by the clock at radius \(r\).
                </li>
                <li>
                  \(t_{\text{far}}\) is the time measured by a distant observer
                  where gravity is negligible.
                </li>
              </ul>

              <h3>Example: GPS satellites vs. Earth surface</h3>
              <p>
                GPS satellites orbit at about 20,200 km above Earth's surface.
                Their clocks are affected by:
              </p>
              <ul>
                <li>
                  <strong>Special relativity</strong>: they move fast, so their
                  clocks run slower.
                </li>
                <li>
                  <strong>General relativity</strong>: they are higher in
                  Earth's gravitational field, so their clocks run faster.
                </li>
              </ul>
              <p>
                The net effect is that GPS satellite clocks run faster than
                clocks on Earth by about
                <strong>38 microseconds per day</strong>. GPS systems must
                correct for this to keep positions accurate.
              </p>

              <h2>Combining velocity and gravitational time dilation</h2>
              <p>
                In realistic scenarios (like satellites), both effects are
                present. A full treatment uses the spacetime metric from general
                relativity, but a good approximation for weak fields and
                moderate speeds is:
              </p>
              <div class="formula-box">
                \[ \text{Rate} \approx 1 - \frac{v^2}{2c^2} - \frac{GM}{rc^2} \]
              </div>
              <p>
                This calculator treats the special and gravitational cases
                separately to keep the interface simple and intuitive. For most
                practical purposes (e.g., understanding GPS, ISS, or thought
                experiments), this is more than sufficient.
              </p>

              <h2>Frequently asked questions about time dilation</h2>

              <h3>Does time dilation mean time is “slowed” or “stopped”?</h3>
              <p>
                Locally, your own clock always seems normal: your heart beats,
                your watch ticks, and physics works as usual. Time dilation is
                about <strong>comparisons</strong> between different observers.
                A distant observer may see your clock ticking more slowly than
                theirs, and vice versa, depending on relative motion and
                gravity.
              </p>

              <h3>Is time dilation real or just a mathematical trick?</h3>
              <p>
                Time dilation is very real and has been confirmed in many
                experiments:
              </p>
              <ul>
                <li>
                  Fast-moving particles in accelerators live longer than they
                  would at rest.
                </li>
                <li>
                  Atomic clocks flown on airplanes or placed on mountains tick
                  at different rates than clocks at sea level.
                </li>
                <li>
                  GPS satellites must correct for both special and gravitational
                  time dilation.
                </li>
              </ul>

              <h3>Can I use time dilation for time travel?</h3>
              <p>
                Relativistic time dilation allows
                <strong>one-way travel to the future</strong>. If you travel at
                speeds close to light or stay near a very massive object, less
                time passes for you than for people far away. When you return,
                you will have aged less than they have. However, relativity does
                not provide a way to travel back into the past.
              </p>

              <h3>What happens at the speed of light?</h3>
              <p>
                For objects with mass, the speed of light is an unreachable
                limit: as \(v \to c\), the required energy grows without bound
                and \(\gamma \to \infty\). In the limit, time dilation would
                become infinite (time would appear to “stop” for the moving
                object from an external viewpoint), but no massive object can
                actually reach \(c\).
              </p>

              <h3>Why does the calculator limit speed to less than 1c?</h3>
              <p>
                The formulas for special relativity only make physical sense for
                \(0 \le v &lt; c\). At \(v \ge c\), the square root in the
                Lorentz factor becomes imaginary, which does not correspond to
                any real, physical motion of massive objects. The calculator
                therefore enforces \(v &lt; c\).
              </p>
            </section>

            <section id="faq" class="mt-8">
              <h2 class="text-xl font-semibold mb-4">Time dilation FAQ</h2>
              <div class="space-y-3">
                <div class="faq-item border border-gray-200 rounded-lg">
                  <button
                    class="faq-question w-full text-left px-4 py-3 flex justify-between items-center"
                  >
                    <span class="font-medium text-gray-800"
                      >What is time dilation in simple terms?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 hidden text-sm text-gray-700"
                  >
                    Time dilation is the phenomenon where two observers measure
                    different amounts of elapsed time between the same events
                    because they are moving relative to each other or are in
                    different gravitational fields. A moving clock or a clock
                    deeper in gravity ticks more slowly compared with a
                    reference clock far away and at rest.
                  </div>
                </div>

                <div class="faq-item border border-gray-200 rounded-lg">
                  <button
                    class="faq-question w-full text-left px-4 py-3 flex justify-between items-center"
                  >
                    <span class="font-medium text-gray-800"
                      >What is the difference between special and gravitational
                      time dilation?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 hidden text-sm text-gray-700"
                  >
                    Special relativity deals with time dilation caused by
                    relative motion at high speeds. Gravitational time dilation,
                    from general relativity, is caused by differences in
                    gravitational potential: clocks closer to a massive object
                    tick more slowly than clocks farther away. In many
                    real-world situations, both effects are present and must be
                    combined.
                  </div>
                </div>

                <div class="faq-item border border-gray-200 rounded-lg">
                  <button
                    class="faq-question w-full text-left px-4 py-3 flex justify-between items-center"
                  >
                    <span class="font-medium text-gray-800"
                      >How accurate is this time dilation calculator?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 hidden text-sm text-gray-700"
                  >
                    For special relativity, the calculator uses the exact
                    Lorentz factor formula and is accurate for all speeds below
                    the speed of light. For gravitational time dilation, it uses
                    the Schwarzschild solution for a non-rotating spherical
                    mass, which is an excellent approximation for planets,
                    stars, and many astrophysical objects as long as you are
                    outside the event horizon and the object is not rapidly
                    rotating or strongly deformed.
                  </div>
                </div>

                <div class="faq-item border border-gray-200 rounded-lg">
                  <button
                    class="faq-question w-full text-left px-4 py-3 flex justify-between items-center"
                  >
                    <span class="font-medium text-gray-800"
                      >Why do we care about tiny time dilation effects on
                      Earth?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 hidden text-sm text-gray-700"
                  >
                    Even though the effects are tiny, modern technology is
                    extremely sensitive to timing. GPS, telecommunications,
                    particle accelerators, and precision experiments all rely on
                    nanosecond-level accuracy. Ignoring relativistic time
                    dilation would cause GPS positions to drift by kilometers
                    per day.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Speed of moving clock</li><li>Proper time (on moving clock)</li><li>Lock proper time (change speed only)</li><li>Central mass</li><li>Mass kg Radius m Height above surface</li><li>Time at reference (far away)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Time, Dilation, Speed of moving clock, Proper time (on moving clock), Lock proper time (change speed only), Central mass, Mass kg Radius m Height above surface, Time at reference (far away).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Speed of moving clock</li><li>Proper time (on moving clock)</li><li>Lock proper time (change speed only)</li><li>Central mass</li><li>Mass kg Radius m Height above surface</li><li>Time at reference (far away)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white rounded-lg shadow-md p-4 mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Science Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/lorentz-factor"
                  class="text-blue-600 hover:underline"
                  >Special Relativity (Lorentz Factor)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/relativistic-kinetic-energy"
                  class="text-blue-600 hover:underline"
                  >Relativistic Kinetic Energy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/length-contraction"
                  class="text-blue-600 hover:underline"
                  >Length Contraction Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/schwarzschild-radius"
                  class="text-blue-600 hover:underline"
                  >Schwarzschild Radius</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-atmosphere"
                  class="text-blue-600 hover:underline"
                  >Standard Atmosphere</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/kinetic-energy"
                  class="text-blue-600 hover:underline"
                  >Classical Kinetic Energy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lorentz-factor"
                  class="text-blue-600 hover:underline"
                  >Lorentz Factor Explorer</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white rounded-lg shadow-md p-4">
            <h2 class="text-lg font-semibold mb-3">
              Explore More Science Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/relativistic-mass"
                  class="text-blue-600 hover:underline"
                  >Relativistic Mass</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/uncertainty-principle"
                  class="text-blue-600 hover:underline"
                  >Heisenberg Uncertainty Principle</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ideal-gas-law"
                  class="text-blue-600 hover:underline"
                  >Ideal Gas Law</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/kinetic-energy"
                  class="text-blue-600 hover:underline"
                  >Kinetic Energy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lorentz-factor"
                  class="text-blue-600 hover:underline"
                  >Lorentz Factor</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-atmosphere"
                  class="text-blue-600 hover:underline"
                  >Standard Atmosphere Model</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Constants
      const C = 299792458; // speed of light (m/s)
      const G = 6.6743e-11; // gravitational constant

      // --- Helpers ---
      function clamp(value, min, max) {
        return Math.min(max, Math.max(min, value));
      }

      function toSeconds(value, unit) {
        const v = Number(value);
        switch (unit) {
          case "s":
            return v;
          case "min":
            return v * 60;
          case "h":
            return v * 3600;
          case "d":
            return v * 86400;
          case "y":
            return v * 365.25 * 86400;
          default:
            return v;
        }
      }

      function fromSeconds(seconds, unit) {
        switch (unit) {
          case "s":
            return seconds;
          case "min":
            return seconds / 60;
          case "h":
            return seconds / 3600;
          case "d":
            return seconds / 86400;
          case "y":
            return seconds / (365.25 * 86400);
          default:
            return seconds;
        }
      }

      function formatNumber(x, digits = 3) {
        if (!isFinite(x)) return "—";
        const abs = Math.abs(x);
        if (abs !== 0 && (abs < 1e-3 || abs >= 1e6)) {
          return x.toExponential(digits - 1);
        }
        return x.toFixed(digits);
      }

      // --- Special Relativity Elements ---
      const velocityInput = document.getElementById("velocityInput");
      const velocitySlider = document.getElementById("velocitySlider");
      const properTimeValue = document.getElementById("properTimeValue");
      const properTimeUnit = document.getElementById("properTimeUnit");
      const lockProperTime = document.getElementById("lockProperTime");

      const gammaValue = document.getElementById("gammaValue");
      const dilatedTimeValue = document.getElementById("dilatedTimeValue");
      const dilatedTimeUnitLabel = document.getElementById(
        "dilatedTimeUnitLabel"
      );
      const percentSlower = document.getElementById("percentSlower");
      const specialSummary = document.getElementById("specialSummary");

      function computeGamma(vFraction) {
        const beta2 = vFraction * vFraction;
        if (beta2 >= 1) return Infinity;
        return 1 / Math.sqrt(1 - beta2);
      }

      function updateSpecialRelativity() {
        let vFrac = parseFloat(velocityInput.value);
        if (isNaN(vFrac)) vFrac = 0;
        vFrac = clamp(vFrac, 0, 0.999999);
        velocityInput.value = vFrac.toFixed(3);
        velocitySlider.value = vFrac.toFixed(3);

        const gamma = computeGamma(vFrac);
        gammaValue.textContent = formatNumber(gamma, 4);

        const tauVal = parseFloat(properTimeValue.value);
        const tauUnit = properTimeUnit.value;
        const tauSeconds = toSeconds(tauVal, tauUnit);

        const tSeconds = gamma * tauSeconds;
        const tVal = fromSeconds(tSeconds, tauUnit);

        dilatedTimeValue.textContent = formatNumber(tVal, 3);
        dilatedTimeUnitLabel.textContent =
          properTimeUnit.options[properTimeUnit.selectedIndex].text;

        const slowerPercent = (gamma - 1) * 100;
        percentSlower.textContent = formatNumber(slowerPercent, 2) + "%";

        specialSummary.textContent =
          `At ${formatNumber(vFrac, 3)}c, every ${formatNumber(tauVal, 2)} ` +
          `${
            properTimeUnit.options[properTimeUnit.selectedIndex].text
          } on the moving clock ` +
          `corresponds to ${formatNumber(tVal, 3)} ` +
          `${
            properTimeUnit.options[properTimeUnit.selectedIndex].text
          } for the stationary observer.`;
      }

      velocityInput.addEventListener("input", updateSpecialRelativity);
      velocitySlider.addEventListener("input", () => {
        velocityInput.value = parseFloat(velocitySlider.value).toFixed(3);
        updateSpecialRelativity();
      });
      properTimeValue.addEventListener("input", () => {
        if (!lockProperTime.checked) updateSpecialRelativity();
      });
      properTimeUnit.addEventListener("change", updateSpecialRelativity);
      lockProperTime.addEventListener("change", () => {
        /* no-op, just a UX hint */
      });

      // Presets for special relativity
      document.querySelectorAll("[data-preset]").forEach((btn) => {
        btn.addEventListener("click", () => {
          const preset = btn.getAttribute("data-preset");
          let vFrac;
          switch (preset) {
            case "iss":
              vFrac = 7660 / C; // ~7.66 km/s
              break;
            case "airplane":
              vFrac = (900 * 1000) / 3600 / C; // 900 km/h
              break;
            case "0.99c":
              vFrac = 0.99;
              break;
            default:
              vFrac = 0;
          }
          velocityInput.value = vFrac.toFixed(6);
          velocitySlider.value = vFrac.toFixed(6);
          updateSpecialRelativity();
        });
      });

      // --- Gravitational Time Dilation Elements ---
      const massSelect = document.getElementById("massSelect");
      const customMassContainer = document.getElementById(
        "customMassContainer"
      );
      const massCustom = document.getElementById("massCustom");
      const radiusCustom = document.getElementById("radiusCustom");
      const heightAboveSurface = document.getElementById("heightAboveSurface");
      const heightSlider = document.getElementById("heightSlider");
      const gravityProperTimeValue = document.getElementById(
        "gravityProperTimeValue"
      );
      const gravityProperTimeUnit = document.getElementById(
        "gravityProperTimeUnit"
      );

      const gravityFactor = document.getElementById("gravityFactor");
      const gravityDilatedTimeValue = document.getElementById(
        "gravityDilatedTimeValue"
      );
      const gravityDilatedTimeUnitLabel = document.getElementById(
        "gravityDilatedTimeUnitLabel"
      );
      const gravityPercentSlower = document.getElementById(
        "gravityPercentSlower"
      );
      const gravitySummary = document.getElementById("gravitySummary");

      function getMassAndRadius() {
        const choice = massSelect.value;
        if (choice === "earth") {
          return { M: 5.972e24, R: 6.371e6 };
        } else if (choice === "sun") {
          return { M: 1.98847e30, R: 6.9634e8 };
        } else if (choice === "neutron") {
          const M = 1.4 * 1.98847e30;
          const R = 12000;
          return { M, R };
        } else {
          const M = parseFloat(massCustom.value) || 5.972e24;
          const R = parseFloat(radiusCustom.value) || 6.371e6;
          return { M, R };
        }
      }

      function updateGravitational() {
        const { M, R } = getMassAndRadius();
        let h = parseFloat(heightAboveSurface.value);
        if (isNaN(h) || h < 0) h = 0;
        heightAboveSurface.value = h;
        heightSlider.value = clamp(
          h,
          parseFloat(heightSlider.min),
          parseFloat(heightSlider.max)
        );

        const r = R + h;
        const rs = (2 * G * M) / (C * C);

        if (r <= rs) {
          gravityFactor.textContent = "—";
          gravityDilatedTimeValue.textContent = "—";
          gravityPercentSlower.textContent = "undefined";
          gravitySummary.textContent =
            "The chosen radius is at or inside the Schwarzschild radius; classical Schwarzschild time dilation is not defined there.";
          return;
        }

        const factor = Math.sqrt(1 - rs / r);
        gravityFactor.textContent = formatNumber(factor, 10);

        const tFarVal = parseFloat(gravityProperTimeValue.value);
        const tFarUnit = gravityProperTimeUnit.value;
        const tFarSeconds = toSeconds(tFarVal, tFarUnit);

        const tNearSeconds = tFarSeconds * factor;
        const tNearVal = fromSeconds(tNearSeconds, tFarUnit);

        gravityDilatedTimeValue.textContent = formatNumber(tNearVal, 6);
        gravityDilatedTimeUnitLabel.textContent =
          gravityProperTimeUnit.options[
            gravityProperTimeUnit.selectedIndex
          ].text;

        const slowerPercent = (1 - factor) * 100;
        gravityPercentSlower.textContent = formatNumber(slowerPercent, 6) + "%";

        const label = massSelect.options[massSelect.selectedIndex].text;
        gravitySummary.textContent =
          `For ${label} at height ${formatNumber(h, 0)} m above the surface, ` +
          `${formatNumber(tFarVal, 3)} ${
            gravityProperTimeUnit.options[gravityProperTimeUnit.selectedIndex]
              .text
          } ` +
          `far away corresponds to ${formatNumber(tNearVal, 6)} ` +
          `${
            gravityProperTimeUnit.options[gravityProperTimeUnit.selectedIndex]
              .text
          } near the mass.`;
      }

      massSelect.addEventListener("change", () => {
        customMassContainer.classList.toggle(
          "hidden",
          massSelect.value !== "custom"
        );
        updateGravitational();
      });
      massCustom.addEventListener("input", updateGravitational);
      radiusCustom.addEventListener("input", updateGravitational);
      heightAboveSurface.addEventListener("input", updateGravitational);
      heightSlider.addEventListener("input", () => {
        heightAboveSurface.value = heightSlider.value;
        updateGravitational();
      });
      gravityProperTimeValue.addEventListener("input", updateGravitational);
      gravityProperTimeUnit.addEventListener("change", updateGravitational);

      // Gravitational presets
      document.querySelectorAll("[data-gpreset]").forEach((btn) => {
        btn.addEventListener("click", () => {
          const preset = btn.getAttribute("data-gpreset");
          if (preset === "earth-surface") {
            massSelect.value = "earth";
            customMassContainer.classList.add("hidden");
            heightAboveSurface.value = 0;
            heightSlider.value = 0;
          } else if (preset === "gps") {
            massSelect.value = "earth";
            customMassContainer.classList.add("hidden");
            const h = 20200e3;
            heightAboveSurface.value = h;
            heightSlider.value = clamp(
              h,
              parseFloat(heightSlider.min),
              parseFloat(heightSlider.max)
            );
          } else if (preset === "neutron") {
            massSelect.value = "neutron";
            customMassContainer.classList.add("hidden");
            heightAboveSurface.value = 0;
            heightSlider.value = 0;
          }
          updateGravitational();
        });
      });

      // --- Tab switching ---
      const tabSpecial = document.getElementById("tab-special");
      const tabGravity = document.getElementById("tab-gravity");
      const panelSpecial = document.getElementById("panel-special");
      const panelGravity = document.getElementById("panel-gravity");

      function activateTab(tab) {
        if (tab === "special") {
          tabSpecial.classList.add("border-blue-600", "text-blue-600");
          tabSpecial.classList.remove("text-gray-600", "border-transparent");
          tabGravity.classList.remove("border-blue-600", "text-blue-600");
          tabGravity.classList.add("text-gray-600", "border-transparent");
          panelSpecial.classList.remove("hidden");
          panelGravity.classList.add("hidden");
        } else {
          tabGravity.classList.add("border-blue-600", "text-blue-600");
          tabGravity.classList.remove("text-gray-600", "border-transparent");
          tabSpecial.classList.remove("border-blue-600", "text-blue-600");
          tabSpecial.classList.add("text-gray-600", "border-transparent");
          panelGravity.classList.remove("hidden");
          panelSpecial.classList.add("hidden");
        }
      }

      tabSpecial.addEventListener("click", () => activateTab("special"));
      tabGravity.addEventListener("click", () => activateTab("gravity"));

      // Initial calculations
      updateSpecialRelativity();
      updateGravitational();

      // MathJax config
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
