<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/washington-income-tax" rel="canonical"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Washington State Income Tax Calculator (with Federal)
  </title>
  <meta content="Authoritative Washington income tax calculator. Instantly see that WA state income tax on wages is $0, estimate WA Cares &amp; PFML, and calculate federal income tax for a complete take-home pay analysis." name="description"/>
  <meta content="Ugo Candido" name="author"/>
  <meta content="#005A9C" name="theme-color"/>
  <meta content="index,follow" name="robots"/>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body { font-family: 'Inter', sans-serif; }
        .prose { max-width: 65ch; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.65; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
        .paystub-card { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.25rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        @media print {
            body * { visibility: hidden; }
            #print-section, #print-section * { visibility: visible; }
            #print-section { position: absolute; left: 0; top: 0; width: 100%; }
        }
  </style>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-10">
        <div class="flex flex-col lg:flex-row gap-8">
         <section class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md" id="print-section">
           <h1 class="text-3xl font-extrabold text-gray-900 mb-2">
            Washington State &amp; Federal Income Tax Calculator
           </h1>
           <p class="text-gray-600 mb-6">
            Estimate your complete take-home pay. This tool calculates federal income tax, WA state payroll programs (WA Cares and PFML), and FICA, confirming your WA state income tax is $0.
           </p>
           <div class="space-y-6" id="calculator-ui">
            <form class="space-y-6" id="waForm" novalidate="">
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="wages">
                Annual gross wages *
               </label>
               <div class="relative mt-1">
                <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500">
                 $
                </span>
                <input aria-required="true" class="block w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="wages" inputmode="decimal" min="0" placeholder="e.g., 85000" step="100" type="number"/>
               </div>
               <p aria-live="polite" class="text-xs text-red-600 mt-1" id="wagesErr" role="alert">
               </p>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="filingStatus">
                Federal filing status *
               </label>
               <select class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="filingStatus">
                <option value="single">
                 Single
                </option>
                <option value="marriedFilingJointly">
                 Married Filing Jointly
                </option>
                <option value="headOfHousehold">
                 Head of Household
                </option>
                <option value="marriedFilingSeparately">
                 Married Filing Separately
                </option>
               </select>
              </div>
             </div>
             <div>
              <fieldset>
               <legend class="block text-sm font-medium text-gray-700 mb-2">
                Federal deduction type
               </legend>
               <div class="flex gap-4">
                <label class="inline-flex items-center">
                 <input checked="" class="mr-2" name="deductionType" type="radio" value="standard"/>
                 <span>
                  Standard Deduction
                 </span>
                </label>
                <label class="inline-flex items-center">
                 <input class="mr-2" name="deductionType" type="radio" value="itemized"/>
                 <span>
                  Itemized Deduction
                 </span>
                </label>
               </div>
               <div class="relative mt-2" id="itemizedInputContainer" style="display: none;">
                <label class="sr-only" for="itemizedDeductions">
                 Itemized Deduction Amount
                </label>
                <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500">
                 $
                </span>
                <input class="block w-full max-w-xs pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="itemizedDeductions" inputmode="decimal" min="0" placeholder="Enter amount" step="100" type="number"/>
               </div>
              </fieldset>
             </div>
             <div>
              <fieldset aria-describedby="freqHint">
               <legend class="block text-sm font-medium text-gray-700 mb-2">
                Display results by pay frequency
               </legend>
               <div aria-label="Pay frequency" class="flex flex-wrap gap-2" role="radiogroup">
                <label class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                 <input checked="" class="mr-2" name="frequency" type="radio" value="annual"/>
                 <span>
                  Annual
                 </span>
                </label>
                <label class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                 <input class="mr-2" name="frequency" type="radio" value="monthly"/>
                 <span>
                  Monthly
                 </span>
                </label>
                <label class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                 <input class="mr-2" name="frequency" type="radio" value="biweekly"/>
                 <span>
                  Bi-weekly
                 </span>
                </label>
                <label class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50">
                 <input class="mr-2" name="frequency" type="radio" value="weekly"/>
                 <span>
                  Weekly
                 </span>
                </label>
               </div>
              </fieldset>
             </div>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700 mb-2" for="waCaresExempt">
                WA Cares (0.58%): exempt?
               </label>
               <label class="inline-flex items-center cursor-pointer">
                <input class="rounded border-gray-300 text-blue-600 focus:ring-blue-500" id="waCaresExempt" type="checkbox"/>
                <span class="ml-2 text-sm text-gray-700">
                 I have an approved exemption
                </span>
               </label>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="pfmlRate">
                PFML employee rate (% of wages) *
               </label>
               <div class="relative mt-1">
                <input aria-required="true" class="block w-full pr-8 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="pfmlRate" inputmode="decimal" max="5" min="0" step="0.001" type="number" value="0.529"/>
                <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500">
                 %
                </span>
               </div>
               <p aria-live="polite" class="text-xs text-red-600 mt-1" id="pfmlErr" role="alert">
               </p>
              </div>
             </div>
             <div class="flex flex-wrap items-center gap-3">
              <button class="px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" id="calcBtn" type="button">
               Calculate Take-Home Pay
              </button>
              <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100" id="resetBtn" type="reset">
               Reset
              </button>
             </div>
            </form>
            <section aria-labelledby="resultsHeading" class="mt-8" id="resultsSection" style="display:none;">
             <h2 class="text-2xl font-bold text-gray-800 mb-4" id="resultsHeading">
              Your Estimated Results
             </h2>
             <div class="bg-blue-50 p-4 rounded-lg mb-6">
              <p class="text-center text-blue-800" id="summaryText">
              </p>
             </div>
             <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <div class="space-y-3">
               <div class="flex justify-between items-baseline py-2 border-b">
                <span>
                 Gross Annual Pay
                </span>
                <span class="font-bold text-lg" id="resGross">
                 $0.00
                </span>
               </div>
               <div class="flex justify-between items-baseline py-2 border-b">
                <span>
                 Federal Income Tax
                </span>
                <span class="font-bold text-lg text-red-600" id="resFedTax">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between items-baseline py-2 border-b">
                <span>
                 FICA (Fed)
                </span>
                <span class="font-bold text-lg text-red-600" id="resFicaTotal">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between items-baseline py-2 border-b">
                <span>
                 WA State Programs
                </span>
                <span class="font-bold text-lg text-red-600" id="resWaTotal">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between items-baseline pt-3 text-xl font-bold text-green-700">
                <span>
                 Net Annual Pay
                </span>
                <span id="resNetAll">
                 $0.00
                </span>
               </div>
              </div>
              <div class="flex items-center justify-center p-4">
               <canvas id="resultsChart">
               </canvas>
              </div>
             </div>
             <div class="mt-8">
              <h3 class="text-lg font-semibold text-gray-800 mb-3" id="paycheckViewTitle">
               Sample Paycheck Breakdown (Annual)
              </h3>
              <div class="paystub-card space-y-2">
               <div class="flex justify-between">
                <span>
                 Gross Pay:
                </span>
                <span id="stubGross">
                 $0.00
                </span>
               </div>
               <hr/>
               <div class="text-sm text-gray-600">
                Deductions:
               </div>
               <div class="flex justify-between pl-4">
                <span>
                 Federal Income Tax:
                </span>
                <span id="stubFedTax">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between pl-4">
                <span>
                 Social Security:
                </span>
                <span id="stubSS">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between pl-4">
                <span>
                 Medicare:
                </span>
                <span id="stubMedicare">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between pl-4">
                <span>
                 WA Cares:
                </span>
                <span id="stubCares">
                 -$0.00
                </span>
               </div>
               <div class="flex justify-between pl-4">
                <span>
                 WA PFML:
                </span>
                <span id="stubPfml">
                 -$0.00
                </span>
               </div>
               <hr/>
               <div class="flex justify-between font-bold">
                <span>
                 Net Pay:
                </span>
                <span id="stubNet">
                 $0.00
                </span>
               </div>
              </div>
             </div>
            </section>
           </div>
           <section class="mt-10 prose">
            <h2 id="dataSource">
             Data Sources &amp; Methodology
            </h2>
            <p>
             Calculations use 2024 IRS tax brackets and contribution limits. All state program rates are from official Washington state sources.
            </p>
            <h3 id="historicalRates">
             Historical WA Program Rates
            </h3>
            <table class="w-full text-left border-collapse">
             <thead>
              <tr>
               <th class="border-b p-2">
                Year
               </th>
               <th class="border-b p-2">
                WA Cares Rate
               </th>
               <th class="border-b p-2">
                PFML Employee Rate (Approx.)
               </th>
              </tr>
             </thead>
             <tbody>
              <tr>
               <td class="border-b p-2">
                2024
               </td>
               <td class="border-b p-2">
                0.58%
               </td>
               <td class="border-b p-2">
                0.529%
               </td>
              </tr>
              <tr>
               <td class="border-b p-2">
                2023
               </td>
               <td class="border-b p-2">
                0.58%
               </td>
               <td class="border-b p-2">
                0.658%
               </td>
              </tr>
             </tbody>
            </table>
            <h2 id="faq">
             Frequently Asked Questions
            </h2>
            <details>
             <summary>
              Does Washington tax my wages at the state level?
             </summary>
             <p>
              No. Washington does not have a personal income tax on wages. Your WA state income tax is $0.
             </p>
            </details>
            <details>
             <summary>
              Does Washington have a capital gains tax?
             </summary>
             <p>
              Yes. Washington levies a 7% tax on the sale or exchange of long-term capital assets such as stocks and bonds. This tax only applies to gains over $250,000 annually. This calculator does not include capital gains tax.
             </p>
            </details>
            <details>
             <summary>
              I live in WA but work remotely for a company in another state. How does that work?
             </summary>
             <p>
              As a Washington resident, you are subject to Washington's tax laws. This means you do not pay state income tax on your wages, but you are subject to WA Cares and PFML payroll contributions. Your employer should withhold these accordingly. You are still responsible for all federal taxes.
             </p>
            </details>
           </section>
          </div>
         </section>
         <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-6">
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold text-gray-900 mb-3">
             Quick Recap
            </h2>
            <ul class="space-y-2 text-sm text-gray-600">
             <li>
              • Washington has
              <strong>
               no state income tax
              </strong>
              on wages—your tax is $0.
             </li>
             <li>
              • Use this tool to calculate your
              <strong>
               federal income tax
              </strong>
              for a complete picture.
             </li>
             <li>
              • WA Cares (0.58%) and PFML (≈0.529%) are mandatory state payroll programs.
             </li>
             <li>
              • Your final take-home pay is your gross wage minus federal taxes and state programs.
             </li>
            </ul>
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold text-gray-900 mb-3">
             Explore More
            </h2>
            <ul class="space-y-2 text-sm text-blue-600">
             <li>
              <a class="hover:underline" href="https://calcdomain.com/subcategories/taxes">
               US State Tax Calculators
              </a>
             </li>
             <li>
              <a class="hover:underline" href="https://calcdomain.com/finance">
               Finance Tools
              </a>
             </li>
             <li>
              All Categories
             </li>
            </ul>
           </div>
          </div>
         </aside>
        </div>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <script>
   // DOM Elements
        const $ = id => document.getElementById(id);

        // --- TAX & PROGRAM CONSTANTS (2024) ---
        const SSA_BASE_2024 = 168600;
        const MEDICARE_ADDL_THRESHOLD = 200000;
        const WA_CARES_RATE = 0.0058;
        
        const DEDUCTIONS_2024 = {
            single: 14600,
            marriedFilingJointly: 29200,
            marriedFilingSeparately: 14600,
            headOfHousehold: 21900
        };

        const BRACKETS_2024 = {
            single: [
                { rate: 0.10, upto: 11600 }, { rate: 0.12, upto: 47150 },
                { rate: 0.22, upto: 100525 }, { rate: 0.24, upto: 191950 },
                { rate: 0.32, upto: 243725 }, { rate: 0.35, upto: 609350 },
                { rate: 0.37, upto: Infinity }
            ],
            marriedFilingJointly: [
                { rate: 0.10, upto: 23200 }, { rate: 0.12, upto: 94300 },
                { rate: 0.22, upto: 201050 }, { rate: 0.24, upto: 383900 },
                { rate: 0.32, upto: 487450 }, { rate: 0.35, upto: 731200 },
                { rate: 0.37, upto: Infinity }
            ],
            marriedFilingSeparately: [
                { rate: 0.10, upto: 11600 }, { rate: 0.12, upto: 47150 },
                { rate: 0.22, upto: 100525 }, { rate: 0.24, upto: 191950 },
                { rate: 0.32, upto: 243725 }, { rate: 0.35, upto: 365600 },
                { rate: 0.37, upto: Infinity }
            ],
            headOfHousehold: [
                { rate: 0.10, upto: 16550 }, { rate: 0.12, upto: 63100 },
                { rate: 0.22, upto: 100500 }, { rate: 0.24, upto: 191950 },
                { rate: 0.32, upto: 243700 }, { rate: 0.35, upto: 609350 },
                { rate: 0.37, upto: Infinity }
            ]
        };

        // --- UTILITY FUNCTIONS ---
        const fmt = (val) => val.toLocaleString('en-US', { style: 'currency', currency: 'USD' });
        const fmtNeg = (val) => `-${fmt(Math.abs(val))}`;

        function calculateFederalTax(taxableIncome, status) {
            if (taxableIncome <= 0) return 0;
            const brackets = BRACKETS_2024[status];
            let tax = 0;
            let incomeInBrackets = taxableIncome;
            let lowerBound = 0;
            for (const bracket of brackets) {
                if (incomeInBrackets > 0) {
                    const taxableInBracket = Math.min(incomeInBrackets, bracket.upto - lowerBound);
                    tax += taxableInBracket * bracket.rate;
                    incomeInBrackets -= taxableInBracket;
                    lowerBound = bracket.upto;
                }
            }
            return tax;
        }
        
        // --- CHART INSTANCE ---
        let resultsChart = null;
        function updateChart(data) {
            const chartCanvas = $('resultsChart');
            const chartData = {
                labels: ['Net Pay', 'Federal Tax', 'FICA', 'WA Programs'],
                datasets: [{
                    data: [data.net, data.fedTax, data.fica, data.waTotal],
                    backgroundColor: ['#16a34a', '#ef4444', '#3b82f6', '#6366f1'],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            };
            
            if(resultsChart) {
                resultsChart.data = chartData;
                resultsChart.update();
            } else {
                 resultsChart = new Chart(chartCanvas, {
                    type: 'doughnut',
                    data: chartData,
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { position: 'top' },
                            tooltip: { callbacks: { label: (context) => `${context.label}: ${fmt(context.raw)}` } }
                        }
                    }
                });
            }
        }

        // --- MAIN CALCULATION LOGIC ---
        function calc() {
            const wages = parseFloat($('wages').value) || 0;
            const pfmlRate = parseFloat($('pfmlRate').value) || 0;
            const waCaresExempt = $('waCaresExempt').checked;
            const filingStatus = $('filingStatus').value;
            const deductionType = document.querySelector('input[name="deductionType"]:checked').value;
            const itemizedDeductions = parseFloat($('itemizedDeductions').value) || 0;
            const freq = document.querySelector('input[name="frequency"]:checked')?.value || 'annual';
            const periods = { annual: 1, monthly: 12, biweekly: 26, weekly: 52 }[freq];
            const freqLabel = { annual: 'Annual', monthly: 'Monthly', biweekly: 'Bi-weekly', weekly: 'Weekly' }[freq];

            // Validate
            if (wages <= 0) {
                $('wagesErr').textContent = 'Enter a positive wage amount.';
                return;
            } else {
                $('wagesErr').textContent = '';
            }

            // WA Programs
            const waCares = waCaresExempt ? 0 : wages * WA_CARES_RATE;
            const pfml = wages * (pfmlRate / 100);
            const waTotal = waCares + pfml;

            // FICA (Federal)
            const ss = Math.min(wages, SSA_BASE_2024) * 0.062;
            let medicare = wages * 0.0145;
            if (wages > MEDICARE_ADDL_THRESHOLD) {
                medicare += (wages - MEDICARE_ADDL_THRESHOLD) * 0.009;
            }
            const ficaTotal = ss + medicare;

            // Federal Income Tax
            const deduction = (deductionType === 'standard') ? DEDUCTIONS_2024[filingStatus] : itemizedDeductions;
            const taxableIncome = Math.max(0, wages - deduction);
            const federalTax = calculateFederalTax(taxableIncome, filingStatus);

            // Totals
            const totalDeductions = federalTax + ficaTotal + waTotal;
            const netAll = wages - totalDeductions;

            // --- UPDATE UI ---
            $('resultsSection').style.display = 'block';

            // Annual Summary
            $('resGross').textContent = fmt(wages);
            $('resFedTax').textContent = fmtNeg(federalTax);
            $('resFicaTotal').textContent = fmtNeg(ficaTotal);
            $('resWaTotal').textContent = fmtNeg(waTotal);
            $('resNetAll').textContent = fmt(netAll);
            
            // "What this means" summary
            $('summaryText').textContent = `For a ${freqLabel.toLowerCase()} gross pay of ${fmt(wages / periods)}, your estimated take-home pay is ${fmt(netAll / periods)}.`;

            // Paycheck View
            $('paycheckViewTitle').textContent = `Sample Paycheck Breakdown (${freqLabel})`;
            $('stubGross').textContent = fmt(wages / periods);
            $('stubFedTax').textContent = fmtNeg(federalTax / periods);
            $('stubSS').textContent = fmtNeg(ss / periods);
            $('stubMedicare').textContent = fmtNeg(medicare / periods);
            $('stubCares').textContent = fmtNeg(waCares / periods);
            $('stubPfml').textContent = fmtNeg(pfml / periods);
            $('stubNet').textContent = fmt(netAll / periods);
            
            // Chart
            updateChart({ net: netAll, fedTax: federalTax, fica: ficaTotal, waTotal: waTotal });
        }

        // --- EVENT LISTENERS ---
        $('calcBtn').addEventListener('click', calc);
        $('resetBtn').addEventListener('click', () => {
            $('waForm').reset();
            $('resultsSection').style.display = 'none';
            $('wagesErr').textContent = '';
            $('pfmlErr').textContent = '';
            $('itemizedInputContainer').style.display = 'none';
        });

        document.querySelectorAll('input[name="deductionType"]').forEach(el => {
            el.addEventListener('change', (e) => {
                $('itemizedInputContainer').style.display = (e.target.value === 'itemized') ? 'block' : 'none';
            });
        });
        
        // Auto-calculate on input change
        const inputsToWatch = ['wages', 'pfmlRate', 'waCaresExempt', 'filingStatus', 'itemizedDeductions'];
        inputsToWatch.forEach(id => {
            $(id)?.addEventListener('change', calc);
        });
        document.querySelectorAll('input[name="frequency"], input[name="deductionType"]').forEach(el => {
            el.addEventListener('change', calc);
        });
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
