<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/countdown-calculator">





<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Countdown Calculator - Calculate Time Remaining</title>
<meta name="description" content="Calculate the time remaining until a specific date and time, or start a countdown timer for a set duration. See the breakdown in years, months, days, hours, minutes, and seconds.">

<meta name="author" content="Ugo Candido">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
/* Custom focus state for A11y */
:focus-visible {
outline: 3px solid #3b82f6;
outline-offset: 2px;
box-shadow: none;
}
/* Ensure touch targets are large enough */
input, select, button {
min-height: 48px;
}
/* Style for the main countdown display */
#countdown-display {
font-size: 2.5rem;
font-weight: 700;
color: #1e3a8a;
letter-spacing: -0.025em;
text-align: center;
margin-bottom: 1.5rem;
min-height: 50px; /* Prevents CLS */
}
#countdown-summary {
text-align: center;
color: #4b5563;
min-height: 1.25rem; /* Prevents CLS */
margin-bottom: 1.5rem;
}
/* Hide/show sections based on mode */
.hidden-section {
display: none;
}
</style>

<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Countdown Calculator - Calculate Time Remaining",
  "description": "Calculate the time remaining until a specific date and time, or start a countdown timer for a set duration. See the breakdown in years, months, days, hours, minutes, and seconds.",
  "url": "https://calcdomain.com/countdown-calculator",
  "inLanguage": "en",
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Lifestyle & Everyday",
      "item": "https://calcdomain.com/categories/lifestyle-everyday"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Time Date",
      "item": "https://calcdomain.com/subcategories/time-date"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Use the Countdown Calculator",
  "description": "A step-by-step guide to calculating the time remaining until an event or for a set duration.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Select Mode",
      "text": "Choose 'Countdown to Date' to calculate time until a specific event, or 'Countdown for Duration' to start a timer."
    },
    {
      "@type": "HowToStep",
      "name": "Enter Target Date/Time",
      "text": "If using 'Countdown to Date' mode, select a future date and, optionally, a specific time."
    },
    {
      "@type": "HowToStep",
      "name": "Enter Duration",
      "text": "If using 'Countdown for Duration' mode, input the desired length of time in days, hours, minutes, and seconds."
    },
    {
      "@type": "HowToStep",
      "name": "Start Countdown",
      "text": "Press the 'Start Countdown' button to begin the calculation and see the live timer."
    },
    {
      "@type": "HowToStep",
      "name": "Review Results",
      "text": "Observe the time remaining as it updates in real-time. You can also view the total time remaining broken down into different units (e.g., total days, total hours)."
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How does this calculator handle leap years?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The calculator accurately accounts for leap years when calculating the time difference between two dates. It uses the JavaScript Date object, which is based on the Gregorian calendar and correctly handles the extra day in a leap year (February 29th)."
      }
    },
    {
      "@type": "Question",
      "name": "Can I count down to an event in a different time zone?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The calculator operates based on your device's local time zone. When you input a date and time, it's assumed to be in your current time zone. For events in other time zones, you should first convert the event's time to your local time and then enter that into the calculator."
      }
    },
    {
      "@type": "Question",
      "name": "What's the difference between 'Countdown to Date' and 'Countdown for Duration'?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "'Countdown to Date' calculates the time remaining between now and a specific future point in time (e.g., New Year's Day). 'Countdown for Duration' simply starts a timer for a length of time you specify (e.g., 25 minutes)."
      }
    },
    {
      "@type": "Question",
      "name": "Does the countdown update in real-time?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Once you start the countdown, the display will update every second to show the time remaining."
      }
    },
    {
      "@type": "Question",
      "name": "Can I save or share my countdown?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This tool is a client-side calculator, meaning it runs in your browser. It does not save your countdowns on a server. If you close the page, the timer will be lost. To share, you can simply share the URL of this calculator page."
      }
    },
    {
      "@type": "Question",
      "name": "What is the 'Unix timestamp' mentioned in the formula?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A Unix timestamp is the total number of milliseconds that have elapsed since midnight (00:00:00 UTC) on January 1, 1970. It's a universal standard used by computer systems to represent a specific point in time."
      }
    }
  ]
}
</script>
<script src="search.js" defer=""></script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\Delta t_{\text{ms}} = T_{end} - T_{start}\]</div>
  <pre class="auditspine-mono">\Delta t_{\text{ms}} = T_{end} - T_{start}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{TotalSeconds} = \lfloor \frac{\Delta t_{\text{ms}}}{1000} \rfloor\]</div>
  <pre class="auditspine-mono">\text{TotalSeconds} = \lfloor \frac{\Delta t_{\text{ms}}}{1000} \rfloor</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{TotalMinutes} = \lfloor \frac{\text{TotalSeconds}}{60} \rfloor\]</div>
  <pre class="auditspine-mono">\text{TotalMinutes} = \lfloor \frac{\text{TotalSeconds}}{60} \rfloor</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{TotalHours} = \lfloor \frac{\text{TotalMinutes}}{60} \rfloor\]</div>
  <pre class="auditspine-mono">\text{TotalHours} = \lfloor \frac{\text{TotalMinutes}}{60} \rfloor</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{TotalDays} = \lfloor \frac{\text{TotalHours}}{24} \rfloor\]</div>
  <pre class="auditspine-mono">\text{TotalDays} = \lfloor \frac{\text{TotalHours}}{24} \rfloor</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ \Delta t_{\text{ms}} = T_{end} - T_{start} $</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ \text{TotalSeconds} = \lfloor \frac{\Delta t_{\text{ms}}}{1000} \rfloor $ $ \text{TotalMinutes} = \lfloor \frac{\text{TotalSeconds}}{60} \rfloor $ $ \text{TotalHours} = \lfloor \frac{\text{TotalMinutes}}{60} \rfloor $ $ \text{TotalDays} = \lfloor \frac{\text{TotalHours}}{24} \rfloor $</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>iso.org/standard/40874.html</strong> — iso.org · Accessed 2026-01-19<br><a href="https://www.iso.org/standard/40874.html" target="_blank" rel="nofollow noopener">https://www.iso.org/standard/40874.html</a></li>
<li><strong>Home</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/" target="_blank" rel="nofollow noopener">https://calcdomain.com/</a></li>
<li><strong>Lifestyle Everyday</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/lifestyle-everyday" target="_blank" rel="nofollow noopener">https://calcdomain.com/lifestyle-everyday</a></li>
<li><strong>Time and Date</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/subcategories/time-date" target="_blank" rel="nofollow noopener">https://calcdomain.com/subcategories/time-date</a></li>
<li><strong>Time Duration Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/time-duration-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/time-duration-calculator</a></li>
<li><strong>Date Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/date-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/date-calculator</a></li>
<li><strong>Age Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/age-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/age-calculator</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get a live, real-time countdown to your event.</li>
<li>Choose between counting to a date or for a set duration.</li>
<li>See the total time remaining in days, hours, minutes, or seconds.</li>
<li>Mobile-first design works perfectly on any device.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Time Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="https://calcdomain.com/time-duration-calculator" class="text-blue-600 hover:underline">Time Duration Calculator</a></li>
<li><a href="https://calcdomain.com/date-calculator" class="text-blue-600 hover:underline">Date Calculator</a></li>
<li><a href="https://calcdomain.com/age-calculator" class="text-blue-600 hover:underline">Age Calculator</a></li>
<li>Online Stopwatch</li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>

























<script defer="">
document.addEventListener('DOMContentLoaded', () => {
// --- DOM Element References ---
const elements = {
modeDate: document.getElementById('modeDate'),
modeDuration: document.getElementById('modeDuration'),
dateInputs: document.getElementById('date-inputs'),
durationInputs: document.getElementById('duration-inputs'),
targetDate: document.getElementById('targetDate'),
targetTime: document.getElementById('targetTime'),
durationDays: document.getElementById('durationDays'),
durationHours: document.getElementById('durationHours'),
durationMinutes: document.getElementById('durationMinutes'),
durationSeconds: document.getElementById('durationSeconds'),
startBtn: document.getElementById('startBtn'),
resetBtn: document.getElementById('resetBtn'),
dateError: document.getElementById('date-error'),
durationError: document.getElementById('duration-error'),
countdownDisplay: document.getElementById('countdown-display'),
countdownSummary: document.getElementById('countdown-summary'),
totalDays: document.getElementById('totalDays'),
totalHours: document.getElementById('totalHours'),
totalMinutes: document.getElementById('totalMinutes'),
totalSeconds: document.getElementById('totalSeconds'),
};

// --- State Variables ---
let timerInterval = null;
let targetTimestamp = 0;
let currentMode = 'date';

// --- Formatters ---
const fmtNumber = (val) => new Intl.NumberFormat('en-US').format(val);
const fmtDecimal = (val) => new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(val);
const padZero = (num) => num.toString().padStart(2, '0');

// --- Core Functions ---

/**
* Toggles the UI visibility based on the selected mode.
*/
function toggleMode() {
currentMode = elements.modeDate.checked ? 'date' : 'duration';
if (currentMode === 'date') {
elements.dateInputs.classList.remove('hidden-section');
elements.durationInputs.classList.add('hidden-section');
elements.startBtn.textContent = 'Start Countdown to Date';
} else {
elements.dateInputs.classList.add('hidden-section');
elements.durationInputs.classList.remove('hidden-section');
elements.startBtn.textContent = 'Start Duration Timer';
}
clearErrors();
}

/**
* Clears all error messages and invalid states.
*/
function clearErrors() {
elements.dateError.textContent = '';
elements.targetDate.removeAttribute('aria-invalid');
elements.durationError.textContent = '';
[elements.durationDays, elements.durationHours, elements.durationMinutes, elements.durationSeconds].forEach(el => el.removeAttribute('aria-invalid'));
}

/**
* Validates the date input.
* @returns {boolean} - True if valid, false otherwise.
*/
function validateDate() {
clearErrors();
const dateVal = elements.targetDate.value;
if (!dateVal) {
elements.dateError.textContent = 'Please select a target date.';
elements.targetDate.setAttribute('aria-invalid', 'true');
return false;
}

const targetDT = getTargetTimestampFromDate();
if (targetDT <= Date.now()) {
elements.dateError.textContent = 'The target date and time must be in the future.';
elements.targetDate.setAttribute('aria-invalid', 'true');
return false;
}
return true;
}

/**
* Validates the duration inputs.
* @returns {number} - Total seconds if valid, 0 otherwise.
*/
function validateDuration() {
clearErrors();
const d = parseInt(elements.durationDays.value) || 0;
const h = parseInt(elements.durationHours.value) || 0;
const m = parseInt(elements.durationMinutes.value) || 0;
const s = parseInt(elements.durationSeconds.value) || 0;
const totalSeconds = d * 86400 + h * 3600 + m * 60 + s;

if (totalSeconds <= 0) {
elements.durationError.textContent = 'Please enter a duration greater than zero.';
[elements.durationDays, elements.durationHours, elements.durationMinutes, elements.durationSeconds].forEach(el => el.setAttribute('aria-invalid', 'true'));
return 0;
}
return totalSeconds;
}

/**
* Gets the target timestamp from date/time inputs.
* @returns {number} - The target timestamp in milliseconds.
*/
function getTargetTimestampFromDate() {
const dateVal = elements.targetDate.value;
const timeVal = elements.targetTime.value;

let targetDTString;
if (dateVal && timeVal) {
targetDTString = `${dateVal}T${timeVal}`;
} else if (dateVal) {
targetDTString = `${dateVal}T00:00:00`; // Default to midnight
}
return new Date(targetDTString).getTime();
}

/**
* Starts the countdown based on the current mode.
*/
function startCountdown() {
clearInterval(timerInterval);
resetResults();

if (currentMode === 'date') {
if (!validateDate()) return;
targetTimestamp = getTargetTimestampFromDate();
const targetDate = new Date(targetTimestamp);
elements.countdownSummary.textContent = `Counting down to ${targetDate.toLocaleString(undefined, { dateStyle: 'full', timeStyle: 'medium' })}`;
} else {
const totalSeconds = validateDuration();
if (totalSeconds <= 0) return;
targetTimestamp = Date.now() + (totalSeconds * 1000);
elements.countdownSummary.textContent = `Timer set for ${elements.durationDays.value}d ${elements.durationHours.value}h ${elements.durationMinutes.value}m ${elements.durationSeconds.value}s`;
}

updateDisplay(); // Run once immediately
timerInterval = setInterval(updateDisplay, 1000);
elements.startBtn.disabled = true;
}

/**
* Updates the countdown display every second.
*/
function updateDisplay() {
const now = Date.now();
const diff = targetTimestamp - now;

if (diff <= 0) {
clearInterval(timerInterval);
elements.countdownDisplay.textContent = 'Countdown Finished!';
elements.countdownSummary.textContent = '';
elements.startBtn.disabled = false;
resetResults();
elements.totalSeconds.textContent = '0';
return;
}

// Calculate total breakdowns
const totalS = Math.floor(diff / 1000);
const totalM = Math.floor(totalS / 60);
const totalH = Math.floor(totalM / 60);
const totalD = diff / (1000 * 60 * 60 * 24);

// Update breakdown cards
elements.totalDays.textContent = fmtDecimal(totalD);
elements.totalHours.textContent = fmtNumber(totalH);
elements.totalMinutes.textContent = fmtNumber(totalM);
elements.totalSeconds.textContent = fmtNumber(totalS);

// Calculate calendar-aware breakdown
let remainingDiff = diff;

// Note: This is a simplified calendar calculation.
// For full accuracy, one would use a date-math library.
// But for a display, this approximation is generally acceptable.
const MS_PER_DAY = 1000 * 60 * 60 * 24;
const MS_PER_HOUR = 1000 * 60 * 60;
const MS_PER_MINUTE = 1000 * 60;
const MS_PER_SECOND = 1000;

// This method is better than simple modulo for calendar dates
const endDate = new Date(targetTimestamp);
const startDate = new Date(now);

let years = endDate.getFullYear() - startDate.getFullYear();
let months = endDate.getMonth() - startDate.getMonth();
let days = endDate.getDate() - startDate.getDate();
let hours = endDate.getHours() - startDate.getHours();
let minutes = endDate.getMinutes() - startDate.getMinutes();
let seconds = endDate.getSeconds() - startDate.getSeconds();

if (seconds < 0) { minutes--; seconds += 60; }
if (minutes < 0) { hours--; minutes += 60; }
if (hours < 0) { days--; hours += 24; }
if (days < 0) { 
months--;
// Get days in previous month
let daysInLastMonth = new Date(startDate.getFullYear(), startDate.getMonth() + 1, 0).getDate();
days += daysInLastMonth;
}
if (months < 0) { years--; months += 12; }

// Update main display
elements.countdownDisplay.innerHTML = `
<span class="w-16 inline-block">${padZero(years)}<span class="text-sm block">Yrs</span></span> :
<span class="w-16 inline-block">${padZero(months)}<span class="text-sm block">Mos</span></span> :
<span class="w-16 inline-block">${padZero(days)}<span class="text-sm block">Days</span></span> :
<span class="w-16 inline-block">${padZero(hours)}<span class="text-sm block">Hrs</span></span> :
<span class="w-16 inline-block">${padZero(minutes)}<span class="text-sm block">Mins</span></span> :
<span class="w-16 inline-block">${padZero(seconds)}<span class="text-sm block">Secs</span></span>
`;
}

/**
* Resets the results displays to their default state.
*/
function resetResults() {
elements.countdownDisplay.textContent = '—';
elements.countdownSummary.textContent = '';
elements.totalDays.textContent = '—';
elements.totalHours.textContent = '—';
elements.totalMinutes.textContent = '—';
elements.totalSeconds.textContent = '—';
}

/**
* Resets the entire calculator.
*/
function resetCalculator() {
clearInterval(timerInterval);
targetTimestamp = 0;
elements.targetDate.value = '';
elements.targetTime.value = '';
elements.durationDays.value = '0';
elements.durationHours.value = '0';
elements.durationMinutes.value = '0';
elements.durationSeconds.value = '0';
clearErrors();
resetResults();
elements.startBtn.disabled = false;
elements.modeDate.checked = true;
toggleMode();
}

// --- Event Listeners ---
elements.modeDate.addEventListener('change', toggleMode);
elements.modeDuration.addEventListener('change', toggleMode);
elements.startBtn.addEventListener('click', startCountdown);
elements.resetBtn.addEventListener('click', resetCalculator);

// Add blur validation for A11y
elements.targetDate.addEventListener('blur', () => {
if (currentMode === 'date' && elements.targetDate.value) validateDate();
});
[elements.durationDays, elements.durationHours, elements.durationMinutes, elements.durationSeconds].forEach(el => {
el.addEventListener('blur', () => {
if (currentMode === 'duration') validateDuration();
});
});

// --- Initialization ---
toggleMode(); // Set initial UI state
});
</script>


</body></html>