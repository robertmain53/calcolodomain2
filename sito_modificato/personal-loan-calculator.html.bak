<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/personal-loan-calculator" />
    <title>Personal Loan Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Personal Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Personal Loan Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Personal Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/personal-loan-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Personal Loan Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Personal Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Loans &amp; Debt Calculators", "item": "https://calcdomain.com/subcategories/finance-loans-debt"}, {"@type": "ListItem", "position": 4, "name": "Personal Loan Calculator", "item": "https://calcdomain.com/personal-loan-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-loans-debt" class="text-blue-600 hover:underline">Loans &amp;amp; Debt Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Personal Loan Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Personal Loan Calculator
              </h1>
              <p class="text-gray-600">
                Estimate your monthly payment, total interest, payoff date and
                see a full amortization schedule. Compare two loan offers and
                see how extra payments change everything.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-label="Personal loan calculator" class="space-y-6">
              <!-- Tabs -->
              <div class="flex flex-wrap gap-2 mb-2">
                <button
                  id="tab-basic"
                  class="px-3 py-1.5 text-sm font-medium rounded-full border border-blue-600 bg-blue-600 text-white"
                >
                  Single loan
                </button>
                <button
                  id="tab-compare"
                  class="px-3 py-1.5 text-sm font-medium rounded-full border border-gray-300 text-gray-700 hover:bg-gray-50"
                >
                  Compare two loans
                </button>
              </div>

              <!-- Basic loan card -->
              <div id="panel-basic" class="space-y-5">
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="loanAmount"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Loan amount</label
                    >
                    <div class="flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                        >$</span
                      >
                      <input
                        id="loanAmount"
                        type="number"
                        min="0"
                        step="100"
                        value="15000"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      for="interestRate"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Interest rate (APR)</label
                    >
                    <div class="flex rounded-md shadow-sm">
                      <input
                        id="interestRate"
                        type="number"
                        min="0"
                        max="99"
                        step="0.1"
                        value="9.5"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                        >%</span
                      >
                    </div>
                  </div>
                  <div>
                    <label
                      for="loanTermYears"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Term</label
                    >
                    <div class="flex gap-2">
                      <input
                        id="loanTermYears"
                        type="number"
                        min="0"
                        step="1"
                        value="3"
                        class="w-1/2 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                        aria-label="Loan term in years"
                      />
                      <input
                        id="loanTermMonths"
                        type="number"
                        min="0"
                        max="11"
                        step="1"
                        value="0"
                        class="w-1/2 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                        aria-label="Additional months"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      You can enter years and extra months (e.g. 3 years 6
                      months).
                    </p>
                  </div>
                  <div>
                    <label
                      for="startDate"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >First payment date</label
                    >
                    <input
                      id="startDate"
                      type="date"
                      class="block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used to estimate payoff date.
                    </p>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="extraPayment"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Extra monthly payment (optional)</label
                    >
                    <div class="flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                        >$</span
                      >
                      <input
                        id="extraPayment"
                        type="number"
                        min="0"
                        step="10"
                        value="0"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      See how much interest you save with extra payments.
                    </p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Origination fee (optional)</label
                    >
                    <div class="grid grid-cols-2 gap-2">
                      <div>
                        <div class="flex rounded-md shadow-sm">
                          <input
                            id="feePercent"
                            type="number"
                            min="0"
                            max="20"
                            step="0.1"
                            value="0"
                            class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500"
                          />
                          <span
                            class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                            >%</span
                          >
                        </div>
                        <p class="text-xs text-gray-500 mt-1">
                          As % of loan amount.
                        </p>
                      </div>
                      <div>
                        <div class="flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="feeFlat"
                            type="number"
                            min="0"
                            step="1"
                            value="0"
                            class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                          />
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Or flat fee.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="flex flex-wrap items-center justify-between gap-3 pt-2 border-t border-gray-100"
                >
                  <div class="flex items-center gap-2">
                    <input
                      id="affordabilityToggle"
                      type="checkbox"
                      class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                    />
                    <label
                      for="affordabilityToggle"
                      class="text-sm text-gray-700"
                      >Target monthly payment instead of term</label
                    >
                  </div>
                  <button
                    id="resetBtn"
                    type="button"
                    class="text-sm text-gray-500 hover:text-gray-700 underline"
                  >
                    Reset
                  </button>
                </div>

                <div id="affordabilityRow" class="hidden">
                  <label
                    for="targetPayment"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Target monthly payment</label
                  >
                  <div class="flex rounded-md shadow-sm mb-1">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                      >$</span
                    >
                    <input
                      id="targetPayment"
                      type="number"
                      min="0"
                      step="10"
                      value="400"
                      class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                  <p class="text-xs text-gray-500">
                    We’ll estimate how long it will take to pay off the loan
                    with this payment.
                  </p>
                </div>

                <div class="mt-2">
                  <button
                    id="calcBtn"
                    type="button"
                    class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                  >
                    Calculate personal loan
                  </button>
                </div>
              </div>

              <!-- Compare loans card -->
              <div id="panel-compare" class="space-y-4 hidden">
                <p class="text-sm text-gray-600">
                  Compare two personal loan offers side by side. Fields left
                  blank will reuse values from Loan A.
                </p>
                <div class="grid md:grid-cols-2 gap-4">
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h2 class="font-semibold mb-3">Loan A</h2>
                    <div class="space-y-3">
                      <div>
                        <label
                          for="cmpAmountA"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Loan amount</label
                        >
                        <div class="flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-2 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="cmpAmountA"
                            type="number"
                            min="0"
                            step="100"
                            value="15000"
                            class="flex-1 min-w-0 block w-full px-2 py-1.5 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                          />
                        </div>
                      </div>
                      <div>
                        <label
                          for="cmpRateA"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >APR</label
                        >
                        <div class="flex rounded-md shadow-sm">
                          <input
                            id="cmpRateA"
                            type="number"
                            min="0"
                            max="99"
                            step="0.1"
                            value="9.5"
                            class="flex-1 min-w-0 block w-full px-2 py-1.5 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                          />
                          <span
                            class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                            >%</span
                          >
                        </div>
                      </div>
                      <div>
                        <label
                          for="cmpTermA"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Term (months)</label
                        >
                        <input
                          id="cmpTermA"
                          type="number"
                          min="1"
                          step="1"
                          value="36"
                          class="block w-full px-2 py-1.5 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                        />
                      </div>
                      <div>
                        <label
                          for="cmpFeeA"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Origination fee (%)</label
                        >
                        <input
                          id="cmpFeeA"
                          type="number"
                          min="0"
                          max="20"
                          step="0.1"
                          value="0"
                          class="block w-full px-2 py-1.5 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                        />
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h2 class="font-semibold mb-3">Loan B</h2>
                    <div class="space-y-3">
                      <div>
                        <label
                          for="cmpAmountB"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Loan amount</label
                        >
                        <div class="flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-2 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="cmpAmountB"
                            type="number"
                            min="0"
                            step="100"
                            class="flex-1 min-w-0 block w-full px-2 py-1.5 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                            placeholder="Same as A"
                          />
                        </div>
                      </div>
                      <div>
                        <label
                          for="cmpRateB"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >APR</label
                        >
                        <div class="flex rounded-md shadow-sm">
                          <input
                            id="cmpRateB"
                            type="number"
                            min="0"
                            max="99"
                            step="0.1"
                            class="flex-1 min-w-0 block w-full px-2 py-1.5 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                            placeholder="e.g. 11.9"
                          />
                          <span
                            class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                            >%</span
                          >
                        </div>
                      </div>
                      <div>
                        <label
                          for="cmpTermB"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Term (months)</label
                        >
                        <input
                          id="cmpTermB"
                          type="number"
                          min="1"
                          step="1"
                          class="block w-full px-2 py-1.5 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                          placeholder="Same as A"
                        />
                      </div>
                      <div>
                        <label
                          for="cmpFeeB"
                          class="block text-xs font-medium text-gray-700 mb-1"
                          >Origination fee (%)</label
                        >
                        <input
                          id="cmpFeeB"
                          type="number"
                          min="0"
                          max="20"
                          step="0.1"
                          class="block w-full px-2 py-1.5 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm"
                          placeholder="Same as A"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <button
                  id="cmpCalcBtn"
                  type="button"
                  class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                >
                  Compare loans
                </button>

                <div id="compareResults" class="mt-4 hidden">
                  <h3 class="text-sm font-semibold mb-2">Comparison summary</h3>
                  <div class="overflow-x-auto">
                    <table
                      class="min-w-full text-xs border border-gray-200 rounded-lg overflow-hidden"
                    >
                      <thead class="bg-gray-50 text-gray-700">
                        <tr>
                          <th class="px-3 py-2 text-left font-semibold">
                            Metric
                          </th>
                          <th class="px-3 py-2 text-right font-semibold">
                            Loan A
                          </th>
                          <th class="px-3 py-2 text-right font-semibold">
                            Loan B
                          </th>
                          <th class="px-3 py-2 text-right font-semibold">
                            Difference
                          </th>
                        </tr>
                      </thead>
                      <tbody
                        id="compareTableBody"
                        class="divide-y divide-gray-100"
                      ></tbody>
                    </table>
                  </div>
                </div>
              </div>

              <!-- Results -->
              <section aria-label="Loan results" class="mt-4 space-y-4">
                <div class="results-grid">
                  <div class="border border-gray-200 rounded-lg p-3">
                    <div class="text-xs text-gray-500 mb-1">
                      Monthly payment
                    </div>
                    <div
                      id="resPayment"
                      class="text-xl font-semibold text-gray-900"
                    >
                      $0
                    </div>
                    <div
                      id="resPaymentNote"
                      class="text-xs text-gray-500 mt-1"
                    ></div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-3">
                    <div class="text-xs text-gray-500 mb-1">Total interest</div>
                    <div
                      id="resInterest"
                      class="text-xl font-semibold text-gray-900"
                    >
                      $0
                    </div>
                    <div
                      id="resInterestPct"
                      class="text-xs text-gray-500 mt-1"
                    ></div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-3">
                    <div class="text-xs text-gray-500 mb-1">
                      Total of payments
                    </div>
                    <div
                      id="resTotal"
                      class="text-xl font-semibold text-gray-900"
                    >
                      $0
                    </div>
                    <div class="text-xs text-gray-500 mt-1">
                      Principal + interest
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-3">
                    <div class="text-xs text-gray-500 mb-1">Payoff date</div>
                    <div
                      id="resPayoffDate"
                      class="text-xl font-semibold text-gray-900"
                    >
                      –
                    </div>
                    <div
                      id="resNumPayments"
                      class="text-xs text-gray-500 mt-1"
                    ></div>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div class="border border-gray-200 rounded-lg p-3">
                    <h3 class="text-sm font-semibold mb-2">
                      With extra payments
                    </h3>
                    <p id="extraSummary" class="text-xs text-gray-600">
                      Add an extra monthly payment above to see time and
                      interest savings.
                    </p>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-3">
                    <h3 class="text-sm font-semibold mb-2">
                      Fees &amp; effective APR
                    </h3>
                    <p id="feeSummary" class="text-xs text-gray-600">
                      Enter an origination fee to see your net amount received
                      and effective APR.
                    </p>
                  </div>
                </div>

                <!-- Simple bar visualization -->
                <div class="border border-gray-200 rounded-lg p-3">
                  <h3 class="text-sm font-semibold mb-2">
                    Principal vs. interest
                  </h3>
                  <div
                    class="h-4 w-full bg-gray-100 rounded-full overflow-hidden mb-1"
                  >
                    <div
                      id="barPrincipal"
                      class="h-full bg-blue-500 float-left"
                      style="width: 0%"
                    ></div>
                    <div
                      id="barInterest"
                      class="h-full bg-amber-400 float-left"
                      style="width: 0%"
                    ></div>
                  </div>
                  <div class="flex justify-between text-xs text-gray-600">
                    <span id="barPrincipalLabel">Principal: 0%</span>
                    <span id="barInterestLabel">Interest: 0%</span>
                  </div>
                </div>

                <!-- Amortization table -->
                <details class="border border-gray-200 rounded-lg">
                  <summary
                    class="px-4 py-3 cursor-pointer select-none flex items-center justify-between"
                  >
                    <span class="text-sm font-semibold"
                      >Amortization schedule</span
                    >
                    <span class="text-xs text-gray-500 ml-2"
                      >(click to expand)</span
                    >
                  </summary>
                  <div class="px-4 pb-4">
                    <div class="flex items-center justify-between mb-2">
                      <p class="text-xs text-gray-600">
                        Shows how each payment is split between interest and
                        principal.
                      </p>
                      <button
                        id="downloadCsv"
                        type="button"
                        class="text-xs text-blue-600 hover:underline"
                      >
                        Download CSV
                      </button>
                    </div>
                    <div
                      class="overflow-x-auto table-scroll border border-gray-200 rounded-md"
                    >
                      <table class="min-w-full text-xs">
                        <thead class="bg-gray-50 sticky top-0">
                          <tr>
                            <th
                              class="px-2 py-1 text-left font-semibold text-gray-700"
                            >
                              #
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Payment
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Interest
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Principal
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Balance
                            </th>
                          </tr>
                        </thead>
                        <tbody id="amortBody" class="divide-y divide-gray-100">
                          <tr>
                            <td
                              colspan="5"
                              class="px-2 py-3 text-center text-gray-400"
                            >
                              Run the calculator to see the schedule.
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </details>
              </section>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-8">
              <h2>How this personal loan calculator works</h2>
              <p>
                This tool uses the standard amortizing loan formula used by
                banks and lenders worldwide. It works for most fixed-rate
                personal loans, including debt consolidation, medical expenses,
                home improvement, or large purchases.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Monthly payment formula</p>
                <p>For a fixed-rate loan:</p>
                <p class="font-mono text-sm">
                  Payment = P × [ r(1 + r)<sup>n</sup> ] / [ (1 + r)<sup>n</sup>
                  − 1 ]
                </p>
                <ul class="text-sm mt-2">
                  <li><strong>P</strong> = loan amount (principal)</li>
                  <li>
                    <strong>r</strong> = monthly interest rate (annual APR ÷ 12)
                  </li>
                  <li><strong>n</strong> = total number of monthly payments</li>
                </ul>
              </div>

              <p>The calculator:</p>
              <ul>
                <li>
                  Computes your monthly payment from the loan amount, APR, and
                  term.
                </li>
                <li>
                  Builds a full amortization schedule showing interest and
                  principal for each payment.
                </li>
                <li>
                  Estimates your payoff date based on the first payment date.
                </li>
                <li>
                  Optionally includes origination fees and shows your effective
                  APR.
                </li>
                <li>
                  Models extra monthly payments and shows time and interest
                  saved.
                </li>
                <li>Lets you compare two loan offers side by side.</li>
              </ul>

              <h2>Key outputs explained</h2>
              <h3>Monthly payment</h3>
              <p>
                This is the fixed amount you pay every month. It includes both
                principal and interest. Early in the loan, most of the payment
                goes to interest; later, more goes to principal.
              </p>

              <h3>Total interest and total of payments</h3>
              <p>
                <strong>Total interest</strong> is how much you pay the lender
                for borrowing the money. <strong>Total of payments</strong> is
                principal plus interest (and does not include fees unless you
                add them).
              </p>

              <h3>Payoff date</h3>
              <p>
                Based on your first payment date and the number of payments, the
                calculator estimates when the loan will be fully repaid. Extra
                payments bring this date forward.
              </p>

              <h2>How to use the personal loan calculator</h2>
              <ol>
                <li>
                  <strong>Enter the loan amount.</strong> This is the amount you
                  plan to borrow.
                </li>
                <li>
                  <strong>Enter the APR.</strong> Use the annual percentage rate
                  quoted by your lender (not just the nominal rate).
                </li>
                <li>
                  <strong>Set the term.</strong> Choose years and months, or
                  switch to “Target monthly payment” mode to see how long payoff
                  will take.
                </li>
                <li>
                  <strong>Optionally add fees.</strong> If your lender charges
                  an origination fee, enter it as a percentage or flat amount.
                </li>
                <li>
                  <strong>Add extra payments (optional).</strong> Enter a fixed
                  extra monthly amount to see time and interest savings.
                </li>
                <li>
                  <strong>Click “Calculate personal loan”.</strong> Review the
                  summary, charts, and amortization schedule.
                </li>
              </ol>

              <h2>Understanding origination fees and effective APR</h2>
              <p>
                Many personal loans charge an <strong>origination fee</strong>,
                often 1–10% of the loan amount. Lenders may deduct this fee from
                the amount they disburse to you, so you receive less than the
                face value of the loan but still repay the full amount plus
                interest.
              </p>
              <p>This calculator shows:</p>
              <ul>
                <li><strong>Fee amount</strong> in dollars.</li>
                <li>
                  <strong>Net amount received</strong> (loan amount minus fee).
                </li>
                <li>
                  <strong>Effective APR</strong>, which is the internal rate of
                  return (IRR) of the cash flows including the fee.
                </li>
              </ul>

              <h2>Extra payments: how much can you save?</h2>
              <p>
                Even small extra payments can significantly reduce your total
                interest and shorten your loan term. For example:
              </p>
              <ul>
                <li>
                  On a $15,000 loan at 9.5% for 3 years, adding $50/month can
                  save hundreds in interest.
                </li>
                <li>
                  Adding $100/month can cut several months off your payoff time.
                </li>
              </ul>
              <p>
                Use the “Extra monthly payment” field to experiment. The
                calculator assumes your lender applies extra payments directly
                to principal without prepayment penalties—always confirm this in
                your loan agreement.
              </p>

              <h2>Tips for choosing the right personal loan</h2>
              <ul>
                <li>
                  <strong>Compare APR, not just rate.</strong> APR includes
                  certain fees and is a better measure of cost.
                </li>
                <li>
                  <strong>Watch for fees.</strong> Origination, late payment,
                  and prepayment fees can change the real cost.
                </li>
                <li>
                  <strong>Choose a realistic term.</strong> Shorter terms save
                  interest but require higher monthly payments.
                </li>
                <li>
                  <strong>Avoid over-borrowing.</strong> Only borrow what you
                  truly need and can comfortably repay.
                </li>
                <li>
                  <strong>Check for prepayment penalties.</strong> If you plan
                  to pay off early, choose a loan without penalties.
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>Does this calculator work for variable-rate loans?</h3>
              <p>
                No. This tool assumes a fixed interest rate for the entire term.
                For variable or adjustable-rate loans, you can approximate by
                using the current rate, but your actual payments and total
                interest may differ over time.
              </p>

              <h3>Is the result a guarantee of approval?</h3>
              <p>
                No. The calculator is for planning and education only. Actual
                approval, interest rate, and terms depend on your credit
                profile, income, lender policies, and local regulations.
              </p>

              <h3>What credit score do I need for a personal loan?</h3>
              <p>
                Requirements vary by lender and country. In general, higher
                scores qualify for better rates and larger amounts. Many lenders
                publish minimum score guidelines, but they also consider income,
                existing debts, and employment history.
              </p>

              <h3>How much personal loan can I afford?</h3>
              <p>
                A common guideline is that your total debt payments (including
                mortgage or rent, car loans, credit cards, and the new personal
                loan) should stay below a certain percentage of your
                income—often 35–40%. Use this calculator together with a
                <a
                  href="https://calcdomain.com/debt-to-income-ratio"
                  class="text-blue-600 hover:underline"
                  >debt-to-income ratio calculator</a
                >
                to check affordability.
              </p>

              <h3>Can I use this for debt consolidation?</h3>
              <p>
                Yes. Enter the total amount you want to consolidate and the
                terms of the new loan. Then compare the new monthly payment and
                total interest to what you currently pay across your existing
                debts.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Personal, Loan, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Personal, Loan, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Finance Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/personal-loan"
                  class="text-blue-600 hover:underline"
                  >Personal Loan (Overview)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/simple-loan"
                  class="text-blue-600 hover:underline"
                  >Simple Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization-calculator"
                  class="text-blue-600 hover:underline"
                  >Advanced Loan Amortization</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan"
                  class="text-blue-600 hover:underline"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/student-loan-calculator"
                  class="text-blue-600 hover:underline"
                  >Student Loan Repayment Simulator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-snowball-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Snowball Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-avalanche-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Avalanche Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-comparison-calculator"
                  class="text-blue-600 hover:underline"
                  >Loan Comparison Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/credit-card-payoff-calculator"
                  class="text-blue-600 hover:underline"
                  >Credit Card Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income (DTI) Ratio</a
                >
              </li>
            
              <li><a href="https://calcdomain.com/student-loan-payoff" class="text-blue-600 hover:underline">Student Loan Payoff Calculator</a></li>

              <li><a href="https://calcdomain.com/motorcycle-loan-calculator" class="text-blue-600 hover:underline">&lt;!DOCTYPE html&gt;</a></li>
</ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More from Business &amp; Small Biz
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/break-even-calculator"
                  class="text-blue-600 hover:underline"
                  >Break Even Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-flow-projection-calculator"
                  class="text-blue-600 hover:underline"
                  >Cash Flow Projection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-valuation-calculator"
                  class="text-blue-600 hover:underline"
                  >Business Valuation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/profit-margin-calculator"
                  class="text-blue-600 hover:underline"
                  >Profit Margin</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roas"
                  class="text-blue-600 hover:underline"
                  >Return on Ad Spend (ROAS)</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function fmtMoney(v) {
        if (!isFinite(v)) return "$0";
        return (
          "$" +
          v.toLocaleString(undefined, {
            maximumFractionDigits: 2,
            minimumFractionDigits: 2,
          })
        );
      }
      function fmtPct(v) {
        if (!isFinite(v)) return "0%";
        return v.toLocaleString(undefined, { maximumFractionDigits: 1 }) + "%";
      }
      function addMonths(date, n) {
        const d = new Date(date.getTime());
        const day = d.getDate();
        d.setMonth(d.getMonth() + n);
        if (d.getDate() < day) d.setDate(0);
        return d;
      }
      function formatDate(d) {
        if (!(d instanceof Date) || isNaN(d)) return "–";
        return d.toLocaleDateString(undefined, {
          year: "numeric",
          month: "short",
        });
      }

      function buildSchedule(P, rMonthly, n, payment, extra) {
        const schedule = [];
        let balance = P;
        let totalInterest = 0;
        const maxIter = n + 240; // safety
        let i = 0;
        while (balance > 0.01 && i < maxIter) {
          const interest = balance * rMonthly;
          let principal = payment + extra - interest;
          if (principal <= 0) {
            // payment too small, avoid infinite loop
            principal = 0;
          }
          if (principal > balance) {
            principal = balance;
          }
          const actualPayment = principal + interest;
          balance -= principal;
          totalInterest += interest;
          schedule.push({
            num: i + 1,
            payment: actualPayment,
            interest,
            principal,
            balance: Math.max(balance, 0),
          });
          i++;
          if (i > 1200) break; // 100 years cap
        }
        return { schedule, totalInterest };
      }

      function calcLoan({
        amount,
        apr,
        termMonths,
        extra = 0,
        feePercent = 0,
        feeFlat = 0,
        targetPayment = null,
      }) {
        const P = amount;
        const rMonthly = apr / 100 / 12;
        let n = termMonths;

        if (P <= 0 || apr < 0 || n <= 0) return null;

        let payment;
        if (targetPayment && targetPayment > 0) {
          // Solve for n given payment using amortization formula
          const A = targetPayment;
          if (rMonthly === 0) {
            n = Math.ceil(P / A);
          } else {
            const ratio = 1 - (P * rMonthly) / A;
            if (ratio <= 0) {
              n = Infinity;
            } else {
              n = Math.log(1 / ratio) / Math.log(1 + rMonthly);
              n = Math.ceil(n);
            }
          }
          payment = A;
        } else {
          if (rMonthly === 0) {
            payment = P / n;
          } else {
            const pow = Math.pow(1 + rMonthly, n);
            payment = (P * (rMonthly * pow)) / (pow - 1);
          }
        }

        // Base schedule without extra
        const base = buildSchedule(P, rMonthly, n, payment, 0);
        const totalPaid = base.schedule.reduce((s, row) => s + row.payment, 0);
        const totalInterest = base.totalInterest;

        // Extra payment schedule
        let extraResult = null;
        if (extra && extra > 0) {
          const withExtra = buildSchedule(P, rMonthly, n, payment, extra);
          const totalPaidExtra = withExtra.schedule.reduce(
            (s, row) => s + row.payment,
            0
          );
          const totalInterestExtra = withExtra.totalInterest;
          extraResult = {
            monthsSaved: base.schedule.length - withExtra.schedule.length,
            interestSaved: totalInterest - totalInterestExtra,
            schedule: withExtra.schedule,
            totalInterestExtra,
            totalPaidExtra,
          };
        }

        // Fees & effective APR
        const feeAmount = P * (feePercent / 100) + feeFlat;
        const netReceived = P - feeAmount;
        let effectiveApr = null;
        if (feeAmount > 0 && netReceived > 0) {
          // IRR of cash flows: t0 = +netReceived, then -payment each month
          const maxIter = 50;
          let low = 0;
          let high = 1; // 0-100% monthly (huge)
          function npv(rate) {
            let v = netReceived;
            const m = base.schedule.length;
            for (let i = 1; i <= m; i++) {
              v -= payment / Math.pow(1 + rate, i);
            }
            return v;
          }
          let npvLow = npv(low);
          let npvHigh = npv(high);
          if (npvLow * npvHigh < 0) {
            for (let i = 0; i < maxIter; i++) {
              const mid = (low + high) / 2;
              const v = npv(mid);
              if (Math.abs(v) < 1e-6) {
                low = high = mid;
                break;
              }
              if (v * npvLow > 0) {
                low = mid;
                npvLow = v;
              } else {
                high = mid;
                npvHigh = v;
              }
            }
            const rEffMonthly = (low + high) / 2;
            effectiveApr = rEffMonthly * 12 * 100;
          }
        }

        return {
          payment,
          totalInterest,
          totalPaid,
          schedule: base.schedule,
          extraResult,
          feeAmount,
          netReceived,
          effectiveApr,
          n: base.schedule.length,
        };
      }

      function updateUI() {
        const amount =
          parseFloat(document.getElementById("loanAmount").value) || 0;
        const apr =
          parseFloat(document.getElementById("interestRate").value) || 0;
        const years =
          parseFloat(document.getElementById("loanTermYears").value) || 0;
        const months =
          parseFloat(document.getElementById("loanTermMonths").value) || 0;
        const extra =
          parseFloat(document.getElementById("extraPayment").value) || 0;
        const feePercent =
          parseFloat(document.getElementById("feePercent").value) || 0;
        const feeFlat =
          parseFloat(document.getElementById("feeFlat").value) || 0;
        const affordability = document.getElementById(
          "affordabilityToggle"
        ).checked;
        const targetPayment =
          parseFloat(document.getElementById("targetPayment").value) || 0;

        const termMonths = Math.round(years * 12 + months);
        const res = calcLoan({
          amount,
          apr,
          termMonths,
          extra,
          feePercent,
          feeFlat,
          targetPayment: affordability ? targetPayment : null,
        });

        const resPayment = document.getElementById("resPayment");
        const resPaymentNote = document.getElementById("resPaymentNote");
        const resInterest = document.getElementById("resInterest");
        const resInterestPct = document.getElementById("resInterestPct");
        const resTotal = document.getElementById("resTotal");
        const resPayoffDate = document.getElementById("resPayoffDate");
        const resNumPayments = document.getElementById("resNumPayments");
        const amortBody = document.getElementById("amortBody");
        const extraSummary = document.getElementById("extraSummary");
        const feeSummary = document.getElementById("feeSummary");
        const barP = document.getElementById("barPrincipal");
        const barI = document.getElementById("barInterest");
        const barPL = document.getElementById("barPrincipalLabel");
        const barIL = document.getElementById("barInterestLabel");

        if (!res) {
          resPayment.textContent = "$0";
          resPaymentNote.textContent = "";
          resInterest.textContent = "$0";
          resInterestPct.textContent = "";
          resTotal.textContent = "$0";
          resPayoffDate.textContent = "–";
          resNumPayments.textContent = "";
          amortBody.innerHTML =
            '<tr><td colspan="5" class="px-2 py-3 text-center text-gray-400">Please enter a positive loan amount, APR, and term.</td></tr>';
          extraSummary.textContent =
            "Add an extra monthly payment above to see time and interest savings.";
          feeSummary.textContent =
            "Enter an origination fee to see your net amount received and effective APR.";
          barP.style.width = "0%";
          barI.style.width = "0%";
          barPL.textContent = "Principal: 0%";
          barIL.textContent = "Interest: 0%";
          return;
        }

        resPayment.textContent = fmtMoney(res.payment);
        resPaymentNote.textContent = affordability
          ? "Payment fixed; term adjusted to match target."
          : "Fixed payment for the chosen term.";

        resInterest.textContent = fmtMoney(res.totalInterest);
        const interestPct = (res.totalInterest / amount) * 100;
        resInterestPct.textContent = isFinite(interestPct)
          ? `Interest is ${fmtPct(interestPct)} of the amount borrowed.`
          : "";

        resTotal.textContent = fmtMoney(res.totalPaid);

        // Payoff date
        const startInput = document.getElementById("startDate").value;
        if (startInput) {
          const start = new Date(startInput);
          const payoff = addMonths(start, res.n - 1);
          resPayoffDate.textContent = formatDate(payoff);
          resNumPayments.textContent = `${res.n} monthly payments`;
        } else {
          resPayoffDate.textContent = "–";
          resNumPayments.textContent = `${res.n} monthly payments`;
        }

        // Amortization table (first 360 rows to keep it light)
        const rows = res.schedule;
        const maxRows = 360;
        let html = "";
        rows.slice(0, maxRows).forEach((r) => {
          html += `<tr>
        <td class="px-2 py-1 text-gray-700">${r.num}</td>
        <td class="px-2 py-1 text-right text-gray-700">${fmtMoney(
          r.payment
        )}</td>
        <td class="px-2 py-1 text-right text-gray-700">${fmtMoney(
          r.interest
        )}</td>
        <td class="px-2 py-1 text-right text-gray-700">${fmtMoney(
          r.principal
        )}</td>
        <td class="px-2 py-1 text-right text-gray-700">${fmtMoney(
          r.balance
        )}</td>
      </tr>`;
        });
        if (rows.length > maxRows) {
          html += `<tr><td colspan="5" class="px-2 py-2 text-center text-xs text-gray-500">Showing first ${maxRows} payments. Download CSV for full schedule.</td></tr>`;
        }
        amortBody.innerHTML = html;

        // Extra payments summary
        if (
          res.extraResult &&
          res.extraResult.monthsSaved > 0 &&
          isFinite(res.extraResult.interestSaved)
        ) {
          const yearsSaved = res.extraResult.monthsSaved / 12;
          extraSummary.textContent = `With an extra ${fmtMoney(
            extra
          )} each month, you could pay off the loan ${
            res.extraResult.monthsSaved
          } months earlier (${yearsSaved.toFixed(
            1
          )} years) and save about ${fmtMoney(
            res.extraResult.interestSaved
          )} in interest.`;
        } else if (extra > 0) {
          extraSummary.textContent =
            "Extra payment is too small to significantly change the payoff schedule at this rate and term.";
        } else {
          extraSummary.textContent =
            "Add an extra monthly payment above to see time and interest savings.";
        }

        // Fees & effective APR
        if (res.feeAmount > 0) {
          let text = `Origination fees total ${fmtMoney(res.feeAmount)}. `;
          text += `If fees are deducted upfront, you receive ${fmtMoney(
            res.netReceived
          )} but repay ${fmtMoney(res.totalPaid)}. `;
          if (res.effectiveApr && isFinite(res.effectiveApr)) {
            text += `This makes your effective APR about ${fmtPct(
              res.effectiveApr
            )}.`;
          } else {
            text +=
              "Effective APR could not be reliably estimated for these inputs.";
          }
          feeSummary.textContent = text;
        } else {
          feeSummary.textContent =
            "Enter an origination fee to see your net amount received and effective APR.";
        }

        // Principal vs interest bar
        const principal = amount;
        const interest = res.totalInterest;
        const total = principal + interest;
        if (total > 0) {
          const pPct = (principal / total) * 100;
          const iPct = (interest / total) * 100;
          barP.style.width = pPct + "%";
          barI.style.width = iPct + "%";
          barPL.textContent = `Principal: ${fmtPct(pPct)}`;
          barIL.textContent = `Interest: ${fmtPct(iPct)}`;
        } else {
          barP.style.width = "0%";
          barI.style.width = "0%";
          barPL.textContent = "Principal: 0%";
          barIL.textContent = "Interest: 0%";
        }

        // Store last schedule for CSV
        window._lastSchedule = res.schedule;
      }

      function downloadCsv() {
        const schedule = window._lastSchedule;
        if (!schedule || !schedule.length) return;
        let csv = "Payment #,Payment,Interest,Principal,Balance\n";
        schedule.forEach((r) => {
          csv += `${r.num},${r.payment.toFixed(2)},${r.interest.toFixed(
            2
          )},${r.principal.toFixed(2)},${r.balance.toFixed(2)}\n`;
        });
        const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "personal-loan-amortization.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      function resetForm() {
        document.getElementById("loanAmount").value = 15000;
        document.getElementById("interestRate").value = 9.5;
        document.getElementById("loanTermYears").value = 3;
        document.getElementById("loanTermMonths").value = 0;
        document.getElementById("extraPayment").value = 0;
        document.getElementById("feePercent").value = 0;
        document.getElementById("feeFlat").value = 0;
        document.getElementById("affordabilityToggle").checked = false;
        document.getElementById("targetPayment").value = 400;
        document.getElementById("affordabilityRow").classList.add("hidden");
        const today = new Date();
        const iso = today.toISOString().slice(0, 10);
        document.getElementById("startDate").value = iso;
        updateUI();
      }

      function switchTab(tab) {
        const tabBasic = document.getElementById("tab-basic");
        const tabCompare = document.getElementById("tab-compare");
        const panelBasic = document.getElementById("panel-basic");
        const panelCompare = document.getElementById("panel-compare");

        if (tab === "basic") {
          tabBasic.classList.add(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          tabBasic.classList.remove(
            "border-gray-300",
            "text-gray-700",
            "hover:bg-gray-50"
          );
          tabCompare.classList.remove(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          tabCompare.classList.add(
            "border-gray-300",
            "text-gray-700",
            "hover:bg-gray-50"
          );
          panelBasic.classList.remove("hidden");
          panelCompare.classList.add("hidden");
        } else {
          tabCompare.classList.add(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          tabCompare.classList.remove(
            "border-gray-300",
            "text-gray-700",
            "hover:bg-gray-50"
          );
          tabBasic.classList.remove(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          tabBasic.classList.add(
            "border-gray-300",
            "text-gray-700",
            "hover:bg-gray-50"
          );
          panelCompare.classList.remove("hidden");
          panelBasic.classList.add("hidden");
        }
      }

      function compareLoans() {
        const amountA =
          parseFloat(document.getElementById("cmpAmountA").value) || 0;
        const rateA =
          parseFloat(document.getElementById("cmpRateA").value) || 0;
        const termA =
          parseFloat(document.getElementById("cmpTermA").value) || 0;
        const feeA = parseFloat(document.getElementById("cmpFeeA").value) || 0;

        const amountB =
          parseFloat(document.getElementById("cmpAmountB").value) || amountA;
        const rateB =
          parseFloat(document.getElementById("cmpRateB").value) || rateA;
        const termB =
          parseFloat(document.getElementById("cmpTermB").value) || termA;
        const feeB =
          parseFloat(document.getElementById("cmpFeeB").value) || feeA;

        const resA = calcLoan({
          amount: amountA,
          apr: rateA,
          termMonths: termA,
          extra: 0,
          feePercent: feeA,
          feeFlat: 0,
        });
        const resB = calcLoan({
          amount: amountB,
          apr: rateB,
          termMonths: termB,
          extra: 0,
          feePercent: feeB,
          feeFlat: 0,
        });

        const container = document.getElementById("compareResults");
        const body = document.getElementById("compareTableBody");

        if (!resA || !resB) {
          body.innerHTML =
            '<tr><td colspan="4" class="px-3 py-3 text-center text-gray-500">Please enter valid values for both loans.</td></tr>';
          container.classList.remove("hidden");
          return;
        }

        const rows = [
          {
            label: "Monthly payment",
            a: resA.payment,
            b: resB.payment,
            fmt: fmtMoney,
          },
          {
            label: "Total interest",
            a: resA.totalInterest,
            b: resB.totalInterest,
            fmt: fmtMoney,
          },
          {
            label: "Total of payments",
            a: resA.totalPaid,
            b: resB.totalPaid,
            fmt: fmtMoney,
          },
          {
            label: "Number of payments",
            a: resA.n,
            b: resB.n,
            fmt: (v) => v.toString(),
          },
          {
            label: "Origination fee",
            a: (amountA * feeA) / 100,
            b: (amountB * feeB) / 100,
            fmt: fmtMoney,
          },
          {
            label: "Net amount received",
            a: amountA - (amountA * feeA) / 100,
            b: amountB - (amountB * feeB) / 100,
            fmt: fmtMoney,
          },
        ];

        let html = "";
        rows.forEach((row) => {
          const diff = row.b - row.a;
          const diffStr =
            row.fmt === fmtMoney ? fmtMoney(diff) : diff.toFixed(2);
          html += `<tr>
        <td class="px-3 py-2 text-gray-700">${row.label}</td>
        <td class="px-3 py-2 text-right text-gray-700">${row.fmt(row.a)}</td>
        <td class="px-3 py-2 text-right text-gray-700">${row.fmt(row.b)}</td>
        <td class="px-3 py-2 text-right ${
          diff <= 0 ? "text-green-600" : "text-red-600"
        }">${diff === 0 ? "–" : diffStr}</td>
      </tr>`;
        });

        body.innerHTML = html;
        container.classList.remove("hidden");
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Default start date = today
        const startInput = document.getElementById("startDate");
        if (startInput && !startInput.value) {
          const today = new Date();
          startInput.value = today.toISOString().slice(0, 10);
        }

        document.getElementById("calcBtn").addEventListener("click", updateUI);
        document
          .getElementById("downloadCsv")
          .addEventListener("click", downloadCsv);
        document
          .getElementById("resetBtn")
          .addEventListener("click", resetForm);
        document
          .getElementById("affordabilityToggle")
          .addEventListener("change", function () {
            const row = document.getElementById("affordabilityRow");
            if (this.checked) row.classList.remove("hidden");
            else row.classList.add("hidden");
          });

        // Live updates on blur/change for main fields
        [
          "loanAmount",
          "interestRate",
          "loanTermYears",
          "loanTermMonths",
          "extraPayment",
          "feePercent",
          "feeFlat",
          "targetPayment",
          "startDate",
        ].forEach((id) => {
          const el = document.getElementById(id);
          if (el) el.addEventListener("change", updateUI);
        });

        // Tabs
        document
          .getElementById("tab-basic")
          .addEventListener("click", () => switchTab("basic"));
        document
          .getElementById("tab-compare")
          .addEventListener("click", () => switchTab("compare"));
        document
          .getElementById("cmpCalcBtn")
          .addEventListener("click", compareLoans);

        // Initial calculation
        updateUI();
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
