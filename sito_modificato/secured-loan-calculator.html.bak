<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/secured-loan-calculator" />
    <title>Secured Loan Calculator Guide [Urgent 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Secured Loan Calculator Guide fast with our urgent tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Secured Loan Calculator Guide [Urgent 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Secured Loan Calculator Guide fast with our urgent tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/secured-loan-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Secured Loan Calculator Guide [Urgent 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Secured Loan Calculator Guide fast with our urgent tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Loans &amp; Debt Calculators", "item": "https://calcdomain.com/subcategories/finance-loans-debt"}, {"@type": "ListItem", "position": 4, "name": "Secured Loan Calculator", "item": "https://calcdomain.com/secured-loan-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-loans-debt" class="text-blue-600 hover:underline">Loans &amp;amp; Debt Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Secured Loan Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Secured Loan Calculator
              </h1>
              <p class="text-gray-600">
                Estimate monthly repayments, total interest, and loan-to-value
                (LTV) for a secured loan against your home or other assets.
                Compare repayment vs interest-only and see how extra payments
                change your payoff date.
              </p>
            </header>

            <!-- Calculator UI -->
            <section
              aria-label="Secured loan calculator"
              class="space-y-6 mb-8"
            >
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Left column: loan inputs -->
                <div class="space-y-4">
                  <div>
                    <label
                      for="propertyValue"
                      class="block text-sm font-medium text-gray-700"
                      >Property value / asset value</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="propertyValue"
                        type="number"
                        min="0"
                        step="1000"
                        value="300000"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Used to calculate loan-to-value (LTV) and remaining
                      equity.
                    </p>
                  </div>

                  <div>
                    <label
                      for="existingMortgage"
                      class="block text-sm font-medium text-gray-700"
                      >Existing mortgage / secured borrowing (optional)</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="existingMortgage"
                        type="number"
                        min="0"
                        step="1000"
                        value="150000"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      If you already have a mortgage or other secured loans on
                      the same asset.
                    </p>
                  </div>

                  <div>
                    <label
                      for="loanAmount"
                      class="block text-sm font-medium text-gray-700"
                      >New secured loan amount</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="loanAmount"
                        type="number"
                        min="1000"
                        step="500"
                        value="50000"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                    </div>
                  </div>

                  <div>
                    <label
                      for="interestRate"
                      class="block text-sm font-medium text-gray-700"
                      >Interest rate (APR)</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <input
                        id="interestRate"
                        type="number"
                        min="0"
                        max="99"
                        step="0.01"
                        value="7.5"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                      <span class="text-gray-500">%</span>
                    </div>
                  </div>

                  <div>
                    <label
                      for="loanTermYears"
                      class="block text-sm font-medium text-gray-700"
                      >Loan term</label
                    >
                    <div class="mt-1 grid grid-cols-2 gap-2">
                      <div class="flex items-center gap-2">
                        <input
                          id="loanTermYears"
                          type="number"
                          min="0"
                          max="40"
                          step="1"
                          value="10"
                          class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                        />
                        <span class="text-gray-500 text-sm">years</span>
                      </div>
                      <div class="flex items-center gap-2">
                        <input
                          id="loanTermMonths"
                          type="number"
                          min="0"
                          max="11"
                          step="1"
                          value="0"
                          class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                        />
                        <span class="text-gray-500 text-sm">months</span>
                      </div>
                    </div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Repayment type</label
                    >
                    <div class="flex flex-wrap gap-2">
                      <button
                        id="repaymentTypeRepayment"
                        type="button"
                        class="pill bg-blue-600 text-white border border-blue-600 text-xs font-medium"
                      >
                        Repayment (principal + interest)
                      </button>
                      <button
                        id="repaymentTypeInterestOnly"
                        type="button"
                        class="pill bg-white text-gray-700 border border-gray-300 text-xs font-medium"
                      >
                        Interest-only
                      </button>
                    </div>
                  </div>

                  <div>
                    <label
                      for="extraPayment"
                      class="block text-sm font-medium text-gray-700"
                      >Optional extra payment per month</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="extraPayment"
                        type="number"
                        min="0"
                        step="10"
                        value="0"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Overpayments reduce your term and total interest. Assumes
                      no lender penalties.
                    </p>
                  </div>

                  <div>
                    <label
                      for="fees"
                      class="block text-sm font-medium text-gray-700"
                      >Upfront fees added to loan (optional)</label
                    >
                    <div class="mt-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="fees"
                        type="number"
                        min="0"
                        step="10"
                        value="0"
                        class="flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-2"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      If fees are added to the balance, they will accrue
                      interest.
                    </p>
                  </div>
                </div>

                <!-- Right column: summary -->
                <div class="space-y-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                    <h2 class="text-sm font-semibold text-blue-800 mb-3">
                      Key results
                    </h2>
                    <dl class="space-y-2 text-sm">
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Monthly payment</dt>
                        <dd
                          id="resultMonthlyPayment"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Total paid</dt>
                        <dd
                          id="resultTotalPaid"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Total interest</dt>
                        <dd
                          id="resultTotalInterest"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Effective APR (with fees)</dt>
                        <dd
                          id="resultEffectiveAPR"
                          class="font-semibold text-gray-900"
                        >
                          –
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Estimated payoff time</dt>
                        <dd
                          id="resultPayoffTime"
                          class="font-semibold text-gray-900"
                        >
                          –
                        </dd>
                      </div>
                    </dl>
                  </div>

                  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <h2 class="text-sm font-semibold text-gray-800 mb-3">
                      LTV & equity
                    </h2>
                    <dl class="space-y-2 text-sm">
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Total secured borrowing</dt>
                        <dd
                          id="resultTotalSecured"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Loan-to-value (LTV)</dt>
                        <dd id="resultLTV" class="font-semibold text-gray-900">
                          –
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">
                          Estimated remaining equity
                        </dt>
                        <dd
                          id="resultEquity"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                    </dl>
                    <p
                      id="ltvWarning"
                      class="mt-3 text-xs text-amber-700 hidden bg-amber-50 border border-amber-100 rounded-md px-2 py-1.5"
                    >
                      High LTV – many lenders may charge higher rates or decline
                      applications above common thresholds (e.g. 80–90%).
                    </p>
                  </div>

                  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <h2 class="text-sm font-semibold text-gray-800 mb-3">
                      Interest-only comparison
                    </h2>
                    <dl class="space-y-2 text-xs">
                      <div class="flex justify-between">
                        <dt class="text-gray-600">
                          Interest-only monthly payment
                        </dt>
                        <dd
                          id="resultInterestOnlyPayment"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">
                          Principal due at end of term
                        </dt>
                        <dd
                          id="resultInterestOnlyPrincipal"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">
                          Total interest (interest-only)
                        </dt>
                        <dd
                          id="resultInterestOnlyTotalInterest"
                          class="font-semibold text-gray-900"
                        >
                          $0
                        </dd>
                      </div>
                    </dl>
                  </div>
                </div>
              </div>

              <div class="flex justify-end">
                <button
                  id="calculateBtn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-semibold rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  Calculate secured loan
                </button>
              </div>
            </section>

            <!-- Amortization & charts -->
            <section class="mb-10">
              <h2 class="text-xl font-semibold mb-3">Amortization summary</h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4 text-sm">
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Balance over time
                  </h3>
                  <p class="text-xs text-gray-500 mb-2">
                    Approximate remaining balance at key milestones.
                  </p>
                  <ul
                    id="balanceMilestones"
                    class="space-y-1 text-xs text-gray-700"
                  >
                    <!-- Filled by JS -->
                  </ul>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Interest vs principal
                  </h3>
                  <p class="text-xs text-gray-500 mb-2">
                    How much of your total payments go to interest vs repaying
                    the amount borrowed.
                  </p>
                  <div
                    class="w-full h-4 bg-gray-200 rounded-full overflow-hidden mb-2"
                  >
                    <div
                      id="barPrincipal"
                      class="h-4 bg-green-500"
                      style="width: 0%"
                    ></div>
                    <div
                      id="barInterest"
                      class="h-4 bg-red-500 -mt-4"
                      style="width: 0%; opacity: 0.7"
                    ></div>
                  </div>
                  <div class="flex justify-between text-xs">
                    <span id="labelPrincipal" class="text-green-700"
                      >Principal: 0%</span
                    >
                    <span id="labelInterest" class="text-red-700"
                      >Interest: 0%</span
                    >
                  </div>
                </div>
              </div>

              <details class="mb-4">
                <summary
                  class="cursor-pointer text-sm font-semibold text-blue-700"
                >
                  Show full amortization schedule
                </summary>
                <div
                  class="mt-3 max-h-80 overflow-auto border border-gray-200 rounded-md"
                >
                  <table
                    class="min-w-full divide-y divide-gray-200 schedule-table"
                  >
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          #
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Payment
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Principal
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Interest
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Extra
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Balance
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="amortizationBody"
                      class="bg-white divide-y divide-gray-100"
                    >
                      <!-- Filled by JS -->
                    </tbody>
                  </table>
                </div>
              </details>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How to use this secured loan calculator</h2>
              <p>
                This tool is designed for homeowner loans and other secured
                borrowing where your property or another asset is used as
                collateral. It works for:
              </p>
              <ul>
                <li>Second-charge mortgages / home equity loans</li>
                <li>Debt consolidation secured against your home</li>
                <li>Secured personal loans on vehicles or other assets</li>
              </ul>

              <h3>1. Enter your property and mortgage details</h3>
              <ul>
                <li>
                  <strong>Property value / asset value</strong> – the current
                  market value of the property or asset you are securing the
                  loan against.
                </li>
                <li>
                  <strong>Existing mortgage / secured borrowing</strong> – your
                  current mortgage balance and any other loans secured on the
                  same asset.
                </li>
                <li>
                  <strong>New secured loan amount</strong> – how much you want
                  to borrow on top of your existing borrowing.
                </li>
              </ul>
              <p>
                The calculator uses these to estimate your
                <strong>loan-to-value (LTV)</strong> and remaining equity.
              </p>

              <h3>2. Set interest rate and term</h3>
              <ul>
                <li>
                  <strong>Interest rate (APR)</strong> – the annual percentage
                  rate for the secured loan.
                </li>
                <li>
                  <strong>Loan term</strong> – how long you plan to take to
                  repay the loan (years and months).
                </li>
              </ul>

              <h3>3. Choose repayment type</h3>
              <ul>
                <li>
                  <strong>Repayment (principal + interest)</strong> – standard
                  option where your balance gradually falls to zero by the end
                  of the term.
                </li>
                <li>
                  <strong>Interest-only</strong> – you only pay interest each
                  month and must repay the full principal at the end of the
                  term.
                </li>
              </ul>
              <p>
                The calculator always shows an
                <strong>interest-only comparison</strong> so you can see the
                difference in monthly cost and total interest.
              </p>

              <h3>4. Add extra payments and fees (optional)</h3>
              <ul>
                <li>
                  <strong>Extra payment per month</strong> – regular
                  overpayments on top of your required monthly payment.
                </li>
                <li>
                  <strong>Upfront fees added to loan</strong> – arrangement fees
                  or broker fees that are rolled into the loan balance.
                </li>
              </ul>
              <p>
                Extra payments reduce your term and total interest. Fees added
                to the loan increase the effective APR because you pay interest
                on them.
              </p>

              <h2>Formulas used by the secured loan calculator</h2>

              <h3>Monthly payment (repayment loan)</h3>
              <p>
                For a standard amortizing loan, the monthly payment \( M \) is:
              </p>
              <div class="formula-box">
                <p>\[ M = P \times \frac{r(1+r)^n}{(1+r)^n - 1} \]</p>
                <ul>
                  <li>
                    \( P \) = principal (loan amount + fees added to loan)
                  </li>
                  <li>\( r \) = monthly interest rate = APR / 12 / 100</li>
                  <li>\( n \) = total number of payments (months)</li>
                </ul>
              </div>

              <h3>Interest-only monthly payment</h3>
              <p>
                For an interest-only loan, the monthly payment \( M_{io} \) is
                simply:
              </p>
              <div class="formula-box">
                <p>\[ M_{io} = P \times r \]</p>
              </div>

              <h3>Loan-to-value (LTV) ratio</h3>
              <p>The calculator uses:</p>
              <div class="formula-box">
                <p>
                  \[ \text{Total secured borrowing} = \text{Existing mortgage} +
                  \text{New secured loan} \]
                </p>
                <p>
                  \[ \text{LTV} = \frac{\text{Total secured
                  borrowing}}{\text{Property value}} \times 100\% \]
                </p>
                <p>
                  \[ \text{Equity} = \text{Property value} - \text{Total secured
                  borrowing} \]
                </p>
              </div>

              <h3>Amortization and extra payments</h3>
              <p>Each month, the calculator applies:</p>
              <div class="formula-box">
                <p>\[ \text{Interest}_t = B_{t-1} \times r \]</p>
                <p>
                  \[ \text{Principal}_t = M - \text{Interest}_t + \text{Extra
                  payment} \]
                </p>
                <p>\[ B_t = B_{t-1} - \text{Principal}_t \]</p>
                <ul>
                  <li>\( B_t \) = balance after month \( t \)</li>
                  <li>
                    \( M \) = required monthly payment (for repayment loans)
                  </li>
                </ul>
              </div>
              <p>
                The schedule stops when the balance reaches zero or the maximum
                term is reached.
              </p>

              <h2>Understanding secured loan risks</h2>
              <ul>
                <li>
                  <strong>Your home or asset is at risk</strong> – if you miss
                  payments, the lender can repossess the property.
                </li>
                <li>
                  <strong>Longer terms mean more interest</strong> – even with a
                  lower monthly payment, stretching a loan over many years can
                  greatly increase total interest.
                </li>
                <li>
                  <strong>High LTV can be expensive</strong> – borrowing at
                  80–95% LTV usually comes with higher rates and stricter
                  criteria.
                </li>
                <li>
                  <strong>Early repayment charges</strong> – many secured loans
                  charge fees if you repay early or overpay above a certain
                  limit.
                </li>
              </ul>
              <p>
                This calculator is for <strong>illustration only</strong> and
                does not constitute financial advice or a lending offer. Always
                check the exact terms, fees, and penalties with your lender or
                broker.
              </p>

              <h2>Frequently asked questions</h2>

              <h3>Is this calculator suitable for second-charge mortgages?</h3>
              <p>
                Yes. Enter your property value, your existing first-charge
                mortgage balance, and the new second-charge loan amount. The
                tool will show your combined LTV and estimated repayments.
              </p>

              <h3>Why is my effective APR higher than the headline rate?</h3>
              <p>
                If you add fees to the loan, you pay interest on those fees over
                the full term. The calculator shows an approximate
                <strong>effective APR</strong> that includes the impact of those
                fees, which is usually higher than the nominal rate.
              </p>

              <h3>Can I use this for secured car loans?</h3>
              <p>
                Yes. Set the asset value to your car’s value, enter any existing
                finance on the vehicle, and then the new loan amount. The math
                is the same, but lenders’ criteria and fees may differ from
                homeowner loans.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Secured, Loan, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Secured, Loan, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More loan & debt calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization"
                  class="text-blue-600 hover:underline"
                  >Loan Amortization Schedule</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-payoff"
                  class="text-blue-600 hover:underline"
                  >Loan Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-consolidation"
                  class="text-blue-600 hover:underline"
                  >Debt Consolidation Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-snowball-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Snowball Method</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-avalanche-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Avalanche Method</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/secured-loan-calculator"
                  class="text-blue-600 hover:underline font-semibold"
                  >Secured Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-comparison-calculator"
                  class="text-blue-600 hover:underline"
                  >Loan Comparison Tool</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-prepayment"
                  class="text-blue-600 hover:underline"
                  >Loan Prepayment Impact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/balloon-loan"
                  class="text-blue-600 hover:underline"
                  >Balloon Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income (DTI) Ratio</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Finance categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/finance-loans-and-debt"
                  class="text-blue-600 hover:underline"
                  >Loans &amp; Debt</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-mortgages-and-home"
                  class="text-blue-600 hover:underline"
                  >Mortgages &amp; Home</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-investment"
                  class="text-blue-600 hover:underline"
                  >Investing &amp; Returns</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/taxes"
                  class="text-blue-600 hover:underline"
                  >Taxes</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-retirement-and-pensions"
                  class="text-blue-600 hover:underline"
                  >Retirement &amp; Pensions</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      function formatCurrency(value) {
        if (!isFinite(value)) return "$0";
        const abs = Math.abs(value);
        const sign = value < 0 ? "-" : "";
        return (
          sign +
          "$" +
          abs.toLocaleString(undefined, {
            maximumFractionDigits: 2,
            minimumFractionDigits: 2,
          })
        );
      }

      function formatPercent(value) {
        if (!isFinite(value)) return "–";
        return value.toFixed(1) + "%";
      }

      function calculateSecuredLoan() {
        const propertyValue =
          parseFloat(document.getElementById("propertyValue").value) || 0;
        const existingMortgage =
          parseFloat(document.getElementById("existingMortgage").value) || 0;
        const loanAmount =
          parseFloat(document.getElementById("loanAmount").value) || 0;
        const interestRate =
          parseFloat(document.getElementById("interestRate").value) || 0;
        const years =
          parseFloat(document.getElementById("loanTermYears").value) || 0;
        const months =
          parseFloat(document.getElementById("loanTermMonths").value) || 0;
        const extraPayment =
          parseFloat(document.getElementById("extraPayment").value) || 0;
        const fees = parseFloat(document.getElementById("fees").value) || 0;

        const totalMonths = Math.max(1, Math.round(years * 12 + months));
        const monthlyRate = interestRate > 0 ? interestRate / 100 / 12 : 0;
        const principal = Math.max(0, loanAmount + fees);

        const isInterestOnly = document
          .getElementById("repaymentTypeInterestOnly")
          .classList.contains("bg-blue-600");

        let monthlyPayment = 0;
        if (monthlyRate === 0) {
          monthlyPayment = isInterestOnly ? 0 : principal / totalMonths;
        } else if (isInterestOnly) {
          monthlyPayment = principal * monthlyRate;
        } else {
          const pow = Math.pow(1 + monthlyRate, totalMonths);
          monthlyPayment = (principal * monthlyRate * pow) / (pow - 1);
        }

        // Amortization with extra payments (for repayment loans)
        let balance = principal;
        let totalInterest = 0;
        let schedule = [];
        let payoffMonth = totalMonths;

        if (isInterestOnly) {
          // Interest-only: no principal reduction, ignore extraPayment for schedule
          for (let i = 1; i <= totalMonths; i++) {
            const interest = balance * monthlyRate;
            const principalPaid = 0;
            totalInterest += interest;
            schedule.push({
              month: i,
              payment: monthlyPayment,
              principal: principalPaid,
              interest: interest,
              extra: 0,
              balance: balance,
            });
          }
          payoffMonth = totalMonths;
        } else {
          for (let i = 1; i <= totalMonths; i++) {
            const interest = balance * monthlyRate;
            let principalPaid = monthlyPayment - interest + extraPayment;
            if (principalPaid > balance + interest) {
              principalPaid = balance + interest;
            }
            const paymentThisMonth = interest + principalPaid;
            totalInterest += interest;
            balance -= principalPaid;
            if (balance < 0.01) balance = 0;

            schedule.push({
              month: i,
              payment: paymentThisMonth,
              principal: principalPaid - extraPayment,
              interest: interest,
              extra: extraPayment,
              balance: balance,
            });

            if (balance <= 0) {
              payoffMonth = i;
              break;
            }
          }
        }

        const totalPaid = isInterestOnly
          ? monthlyPayment * totalMonths
          : schedule.reduce((sum, row) => sum + row.payment, 0);

        // Effective APR approximation including fees:
        // We approximate by treating net cash received as loanAmount (excluding fees)
        // and solving IRR for constant payment over payoffMonth.
        let effectiveAPR = null;
        if (loanAmount > 0 && payoffMonth > 0 && monthlyPayment > 0) {
          const cashFlows = [-loanAmount];
          for (let i = 0; i < payoffMonth; i++) {
            cashFlows.push(monthlyPayment);
          }
          // Simple IRR via binary search on monthly rate
          let low = 0,
            high = 1,
            irr = 0;
          for (let iter = 0; iter < 40; iter++) {
            const mid = (low + high) / 2;
            let npv = 0;
            for (let t = 0; t < cashFlows.length; t++) {
              npv += cashFlows[t] / Math.pow(1 + mid, t);
            }
            if (npv > 0) {
              low = mid;
            } else {
              high = mid;
            }
            irr = mid;
          }
          effectiveAPR = irr * 12 * 100;
        }

        // LTV & equity
        const totalSecured = existingMortgage + loanAmount;
        const ltv =
          propertyValue > 0 ? (totalSecured / propertyValue) * 100 : null;
        const equity = propertyValue - totalSecured;

        // Interest-only comparison (always based on principal)
        const ioMonthly = monthlyRate === 0 ? 0 : principal * monthlyRate;
        const ioTotalInterest = ioMonthly * totalMonths;

        // Update UI
        document.getElementById("resultMonthlyPayment").textContent =
          formatCurrency(monthlyPayment);
        document.getElementById("resultTotalPaid").textContent =
          formatCurrency(totalPaid);
        document.getElementById("resultTotalInterest").textContent =
          formatCurrency(totalInterest);
        document.getElementById("resultEffectiveAPR").textContent = effectiveAPR
          ? effectiveAPR.toFixed(2) + "%"
          : "–";

        const yearsPayoff = Math.floor(payoffMonth / 12);
        const monthsPayoff = payoffMonth % 12;
        const payoffStr = isInterestOnly
          ? `${years}y ${months}m (interest-only, principal due at end)`
          : `${yearsPayoff}y ${monthsPayoff}m (with extra payments)`;
        document.getElementById("resultPayoffTime").textContent = payoffStr;

        document.getElementById("resultTotalSecured").textContent =
          formatCurrency(totalSecured);
        document.getElementById("resultLTV").textContent =
          ltv !== null && isFinite(ltv) ? formatPercent(ltv) : "–";
        document.getElementById("resultEquity").textContent =
          formatCurrency(equity);

        const ltvWarning = document.getElementById("ltvWarning");
        if (ltv !== null && ltv >= 80) {
          ltvWarning.classList.remove("hidden");
        } else {
          ltvWarning.classList.add("hidden");
        }

        document.getElementById("resultInterestOnlyPayment").textContent =
          formatCurrency(ioMonthly);
        document.getElementById("resultInterestOnlyPrincipal").textContent =
          formatCurrency(principal);
        document.getElementById("resultInterestOnlyTotalInterest").textContent =
          formatCurrency(ioTotalInterest);

        // Interest vs principal bars
        const principalPortion = principal;
        const interestPortion = totalInterest;
        const sumPI = principalPortion + interestPortion;
        let principalPct = 0,
          interestPct = 0;
        if (sumPI > 0) {
          principalPct = (principalPortion / sumPI) * 100;
          interestPct = (interestPortion / sumPI) * 100;
        }
        document.getElementById("barPrincipal").style.width =
          principalPct + "%";
        document.getElementById("barInterest").style.width = interestPct + "%";
        document.getElementById("labelPrincipal").textContent =
          "Principal: " + principalPct.toFixed(1) + "%";
        document.getElementById("labelInterest").textContent =
          "Interest: " + interestPct.toFixed(1) + "%";

        // Balance milestones
        const milestonesEl = document.getElementById("balanceMilestones");
        milestonesEl.innerHTML = "";
        const milestonePercents = [25, 50, 75, 100];
        milestonePercents.forEach((p) => {
          const idx = Math.min(
            schedule.length - 1,
            Math.round((schedule.length * p) / 100) - 1
          );
          if (idx >= 0) {
            const row = schedule[idx];
            const li = document.createElement("li");
            li.textContent = `Month ${row.month}: balance ${formatCurrency(
              row.balance
            )}`;
            milestonesEl.appendChild(li);
          }
        });

        // Amortization table
        const tbody = document.getElementById("amortizationBody");
        tbody.innerHTML = "";
        schedule.forEach((row) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-2 py-1 text-xs text-gray-600">${row.month}</td>
        <td class="px-2 py-1 text-xs text-right text-gray-700">${formatCurrency(
          row.payment
        )}</td>
        <td class="px-2 py-1 text-xs text-right text-gray-700">${formatCurrency(
          row.principal
        )}</td>
        <td class="px-2 py-1 text-xs text-right text-gray-700">${formatCurrency(
          row.interest
        )}</td>
        <td class="px-2 py-1 text-xs text-right text-gray-700">${
          row.extra ? formatCurrency(row.extra) : "$0.00"
        }</td>
        <td class="px-2 py-1 text-xs text-right text-gray-700">${formatCurrency(
          row.balance
        )}</td>
      `;
          tbody.appendChild(tr);
        });
      }

      function setRepaymentType(type) {
        const btnRepay = document.getElementById("repaymentTypeRepayment");
        const btnIO = document.getElementById("repaymentTypeInterestOnly");
        if (type === "repayment") {
          btnRepay.classList.add(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          btnRepay.classList.remove(
            "bg-white",
            "text-gray-700",
            "border-gray-300"
          );
          btnIO.classList.remove(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          btnIO.classList.add("bg-white", "text-gray-700", "border-gray-300");
        } else {
          btnIO.classList.add("bg-blue-600", "text-white", "border-blue-600");
          btnIO.classList.remove(
            "bg-white",
            "text-gray-700",
            "border-gray-300"
          );
          btnRepay.classList.remove(
            "bg-blue-600",
            "text-white",
            "border-blue-600"
          );
          btnRepay.classList.add(
            "bg-white",
            "text-gray-700",
            "border-gray-300"
          );
        }
        calculateSecuredLoan();
      }

      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("calculateBtn")
          .addEventListener("click", calculateSecuredLoan);
        document
          .getElementById("repaymentTypeRepayment")
          .addEventListener("click", () => setRepaymentType("repayment"));
        document
          .getElementById("repaymentTypeInterestOnly")
          .addEventListener("click", () => setRepaymentType("interest-only"));

        [
          "propertyValue",
          "existingMortgage",
          "loanAmount",
          "interestRate",
          "loanTermYears",
          "loanTermMonths",
          "extraPayment",
          "fees",
        ].forEach((id) => {
          const el = document.getElementById(id);
          if (el) {
            el.addEventListener("change", calculateSecuredLoan);
            el.addEventListener("keyup", (e) => {
              if (["Enter", "Tab"].includes(e.key)) calculateSecuredLoan();
            });
          }
        });

        calculateSecuredLoan();
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
