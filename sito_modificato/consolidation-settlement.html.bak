<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/consolidation-settlement" />
    <title>Consolidation Settlement (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Consolidation Settlement Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Consolidation Settlement (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Consolidation Settlement Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/consolidation-settlement" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Consolidation Settlement (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Consolidation Settlement Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Consolidation Settlement Calculator (Primary & Secondary)",
        "url": "https://calcdomain.com/consolidation-settlement",
        "description": "Consolidation settlement calculator for normally consolidated and overconsolidated clays. Compute primary and secondary settlement using layer-by-layer or equivalent layer methods with graphical results.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Finance",
              "item": "https://calcdomain.com/categories/finance"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Loans & Debt",
              "item": "https://calcdomain.com/finance-loans-debt"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Consolidation Settlement Calculator",
              "item": "https://calcdomain.com/consolidation-settlement"
            }
          ]
        },
        "mainEntity": {
          "@type": "SoftwareApplication",
          "name": "Consolidation Settlement Calculator",
          "applicationCategory": "EngineeringApplication",
          "operatingSystem": "Any",
          "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Loans &amp; Debt Calculators", "item": "https://calcdomain.com/subcategories/finance-loans-debt"}, {"@type": "ListItem", "position": 4, "name": "Consolidation Settlement Calculator", "item": "https://calcdomain.com/consolidation-settlement"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-loans-debt" class="text-blue-600 hover:underline">Loans &amp;amp; Debt Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Consolidation Settlement Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Consolidation Settlement Calculator
              </h1>
              <p class="text-gray-600">
                Estimate primary and secondary consolidation settlement of clay
                layers under vertical loading using layer-by-layer or equivalent
                layer methods.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calc-section-title" class="mb-8">
              <h2 id="calc-section-title" class="text-xl font-semibold mb-4">
                Soil Consolidation Input
              </h2>

              <!-- Global settings -->
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Calculation mode</label
                  >
                  <select
                    id="calcMode"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="layers">Layer-by-layer (recommended)</option>
                    <option value="equivalent">Equivalent single layer</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Use multiple layers when properties vary with depth.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Drainage condition</label
                  >
                  <select
                    id="drainageCondition"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="double">
                      Double drainage (top &amp; bottom)
                    </option>
                    <option value="single">
                      Single drainage (one side only)
                    </option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Controls drainage path length \(H_{dr}\).
                  </p>
                </div>
              </div>

              <!-- Load info -->
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Initial effective stress at mid-depth, σ'<sub>0</sub>
                    (kPa)</label
                  >
                  <input
                    id="sigma0"
                    type="number"
                    step="0.1"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    value="100"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Can be estimated from unit weights and depth.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Increase in vertical stress, Δσ (kPa)</label
                  >
                  <input
                    id="deltaSigma"
                    type="number"
                    step="0.1"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    value="50"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Due to new load (e.g., foundation).
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Time for settlement, t (years)</label
                  >
                  <input
                    id="timeYears"
                    type="number"
                    step="0.1"
                    min="0"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    value="1"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used to estimate degree of consolidation and S(t).
                  </p>
                </div>
              </div>

              <!-- Layer table -->
              <div class="mb-4">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-semibold text-gray-800">
                    Soil layers (compressible clay)
                  </h3>
                  <div class="space-x-2">
                    <button
                      id="addLayerBtn"
                      type="button"
                      class="inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700"
                    >
                      Add layer
                    </button>
                    <button
                      id="resetLayersBtn"
                      type="button"
                      class="inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200"
                    >
                      Reset
                    </button>
                  </div>
                </div>
                <div class="overflow-x-auto border border-gray-200 rounded-md">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          #
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Thickness H (m)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Cc
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Cr
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          e<sub>0</sub>
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          OCR
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          C<sub>α</sub>
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          c<sub>v</sub> (m²/yr)
                        </th>
                        <th
                          class="px-2 py-2 text-left font-semibold text-gray-700"
                        >
                          Remove
                        </th>
                      </tr>
                    </thead>
                    <tbody id="layersTbody">
                      <!-- Rows injected by JS -->
                    </tbody>
                  </table>
                </div>
                <p class="text-xs text-gray-500 mt-2">
                  Cc: compression index, Cr: recompression index, e<sub>0</sub>:
                  initial void ratio, OCR: overconsolidation ratio,
                  C<sub>α</sub>: secondary compression index, c<sub>v</sub>:
                  coefficient of consolidation.
                </p>
              </div>

              <!-- Actions -->
              <div class="flex flex-wrap items-center gap-3 mt-4">
                <button
                  id="computeBtn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700"
                >
                  Compute settlement
                </button>
                <button
                  id="exampleBtn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-50"
                >
                  Load example
                </button>
                <p id="calcError" class="text-sm text-red-600"></p>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-title" class="mt-8">
              <h2 id="results-title" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="resultsContainer" class="space-y-4">
                <div class="grid md:grid-cols-3 gap-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                    <div
                      class="text-xs uppercase tracking-wide text-blue-700 mb-1"
                    >
                      Primary consolidation
                    </div>
                    <div
                      class="text-lg font-semibold text-blue-900 result-badge"
                      id="primarySettlement"
                    >
                      –
                    </div>
                    <div class="text-xs text-blue-700 mt-1">
                      S<sub>p</sub> (m)
                    </div>
                  </div>
                  <div
                    class="bg-emerald-50 border border-emerald-100 rounded-lg p-3"
                  >
                    <div
                      class="text-xs uppercase tracking-wide text-emerald-700 mb-1"
                    >
                      Secondary settlement
                    </div>
                    <div
                      class="text-lg font-semibold text-emerald-900 result-badge"
                      id="secondarySettlement"
                    >
                      –
                    </div>
                    <div class="text-xs text-emerald-700 mt-1">
                      S<sub>s</sub> (m)
                    </div>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-lg p-3">
                    <div
                      class="text-xs uppercase tracking-wide text-gray-700 mb-1"
                    >
                      Total settlement
                    </div>
                    <div
                      class="text-lg font-semibold text-gray-900 result-badge"
                      id="totalSettlement"
                    >
                      –
                    </div>
                    <div class="text-xs text-gray-700 mt-1">
                      S<sub>total</sub> = S<sub>p</sub> + S<sub>s</sub> (m)
                    </div>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <h3 class="text-sm font-semibold text-gray-800 mb-2">
                      Degree of consolidation
                    </h3>
                    <p class="text-sm text-gray-700">
                      Time factor \(T_v\):
                      <span id="TvValue" class="font-mono">–</span><br />
                      Degree of consolidation \(U\):
                      <span id="UValue" class="font-mono">–</span>
                    </p>
                    <p class="text-xs text-gray-500 mt-1">
                      Based on average c<sub>v</sub> and drainage path
                      \(H_{dr}\). Uses 1D Terzaghi theory for double/single
                      drainage.
                    </p>
                  </div>
                  <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <h3 class="text-sm font-semibold text-gray-800 mb-2">
                      Layer contributions
                    </h3>
                    <div id="layerBreakdown" class="text-xs text-gray-700">
                      <p class="text-gray-500">
                        Run a calculation to see settlement per layer.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Theory & explanation -->
            <section class="mt-10 prose">
              <h2>How this consolidation settlement calculator works</h2>
              <p>
                This tool estimates one-dimensional consolidation settlement of
                saturated clays using classical soil mechanics relationships. It
                supports both normally consolidated (NC) and overconsolidated
                (OC) clays and can include secondary compression.
              </p>

              <h3>1. Primary consolidation settlement</h3>
              <p>
                For each layer, the primary consolidation settlement is computed
                from the change in void ratio:
              </p>
              <div class="formula-box">
                For normally consolidated range (NC): \[ S_{p,NC} = \frac{C_c \,
                H}{1 + e_0} \log_{10} \left( \frac{\sigma'_0 + \Delta
                \sigma}{\sigma'_0} \right) \] For recompression (OC range): \[
                S_{p,OC} = \frac{C_r \, H}{1 + e_0} \log_{10} \left(
                \frac{\sigma'_p}{\sigma'_0} \right) \] where \(\sigma'_p =
                \text{OCR} \cdot \sigma'_0\) is the preconsolidation pressure.
              </div>
              <p>
                The calculator automatically splits the stress path into
                recompression and virgin compression if the final effective
                stress exceeds the preconsolidation pressure.
              </p>

              <h3>2. Secondary compression settlement</h3>
              <p>
                Secondary (creep) settlement is estimated using the secondary
                compression index \(C_\alpha\):
              </p>
              <div class="formula-box">
                \[ S_s = \frac{C_\alpha \, H}{1 + e_0} \log_{10} \left(
                \frac{t}{t_1} \right) \] where \(t_1\) is the time at the end of
                primary consolidation. For simplicity, this calculator assumes
                \(t_1 = 1\ \text{year}\) unless you adjust the input time to
                represent the secondary period.
              </div>

              <h3>3. Degree of consolidation vs. time</h3>
              <p>
                To estimate how much of the primary settlement has occurred at a
                given time, the calculator uses Terzaghi’s 1D consolidation
                theory:
              </p>
              <div class="formula-box">
                Time factor: \[ T_v = \frac{c_v \, t}{H_{dr}^2} \] For average
                degree of consolidation in a double-drained layer: \[ U \approx
                1 - \sum_{n=0}^{\infty} \frac{8}{\pi^2 (2n+1)^2}
                \exp\left[-\frac{(2n+1)^2 \pi^2 T_v}{4}\right] \] For practical
                purposes, this tool uses a closed-form approximation: \[ U
                \approx \begin{cases} \sqrt{\frac{4 T_v}{\pi}}, & U \le 0.6 \\ 1
                - \exp(-1.781 - 0.933 \log T_v - 0.293 (\log T_v)^2), & U &gt;
                0.6 \end{cases} \]
              </div>
              <p>
                The drainage path \(H_{dr}\) is taken as half the total
                thickness for double drainage and equal to the full thickness
                for single drainage.
              </p>

              <h3>4. Layer-by-layer vs. equivalent layer</h3>
              <ul>
                <li>
                  <strong>Layer-by-layer mode</strong> sums settlements from
                  each layer individually, using its own Cc, Cr, e<sub>0</sub>,
                  OCR, C<sub>α</sub>, and c<sub>v</sub>.
                </li>
                <li>
                  <strong>Equivalent layer mode</strong> collapses all layers
                  into a single layer with total thickness and averaged
                  parameters (thickness-weighted).
                </li>
              </ul>

              <h3>Typical parameter ranges</h3>
              <ul>
                <li>Cc: 0.1–0.3 for silts, 0.2–0.8 for clays</li>
                <li>Cr: about 0.1–0.2 Cc</li>
                <li>OCR: 1 (NC) to 5+ (heavily overconsolidated)</li>
                <li>c<sub>v</sub>: 0.1–10 m²/yr (≈ 10⁻⁴–10⁻² m²/s)</li>
              </ul>

              <h3>Limitations</h3>
              <ul>
                <li>
                  Assumes 1D vertical drainage and constant soil properties
                  within each layer.
                </li>
                <li>
                  Ignores lateral strain, smear, and non-linear creep effects.
                </li>
                <li>Δσ is assumed uniform over the compressible layer.</li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-10 prose">
              <h2>FAQ</h2>

              <h3>What is consolidation settlement?</h3>
              <p>
                Consolidation settlement is the time-dependent compression of a
                saturated soil layer caused by expulsion of pore water under
                increased effective stress. It is especially important in soft
                clays and organic soils.
              </p>

              <h3>
                What is the difference between primary and secondary settlement?
              </h3>
              <p>
                Primary consolidation is governed by pore pressure dissipation
                and is described by Terzaghi’s theory. Secondary settlement
                (creep) occurs after excess pore pressures have mostly
                dissipated and is related to viscous rearrangement of soil
                particles.
              </p>

              <h3>How should I estimate Δσ and σ'<sub>0</sub>?</h3>
              <p>
                σ'<sub>0</sub> is the initial effective vertical stress at the
                mid-depth of the compressible layer, usually obtained from unit
                weights and groundwater conditions. Δσ is the increase in
                vertical stress due to the new load, often computed using
                Boussinesq, Westergaard, or influence charts for foundations and
                embankments.
              </p>

              <h3>When should I use single vs. double drainage?</h3>
              <p>
                Use double drainage when the clay layer is bounded by permeable
                layers (e.g., sand) at both top and bottom. Use single drainage
                when only one boundary is permeable (e.g., clay over bedrock or
                thick clay over a relatively impermeable layer).
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Consolidation, Settlement.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>

        <aside class="w-full lg:w-1/3">
          <div class="sticky-notes space-y-4">
            <div class="bg-white p-4 rounded-lg shadow-md">
              <h2 class="text-lg font-semibold mb-3">
                Related Finance &amp; Settlement Tools
              </h2>
              <ul class="space-y-2 text-sm">
                <li>
                  <a
                    href="https://calcdomain.com/debt-consolidation"
                    class="text-blue-600 hover:underline"
                    >Debt Consolidation Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/loan-amortization"
                    class="text-blue-600 hover:underline"
                    >Loan Amortization Schedule</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/loan-payoff"
                    class="text-blue-600 hover:underline"
                    >Loan Payoff Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/debt-snowball-calculator"
                    class="text-blue-600 hover:underline"
                    >Debt Snowball Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/debt-avalanche-calculator"
                    class="text-blue-600 hover:underline"
                    >Debt Avalanche Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/loan-comparison"
                    class="text-blue-600 hover:underline"
                    >Loan Comparison Tool</a
                  >
                </li>
              </ul>
            </div>

            <div class="bg-white p-4 rounded-lg shadow-md">
              <h2 class="text-lg font-semibold mb-3">
                Engineering &amp; Geotechnical Tools
              </h2>
              <ul class="space-y-2 text-sm">
                <li>
                  <a
                    href="https://calcdomain.com/bearing-capacity"
                    class="text-blue-600 hover:underline"
                    >Soil Bearing Capacity</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/slope-stability"
                    class="text-blue-600 hover:underline"
                    >Slope Stability Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/pile-capacity"
                    class="text-blue-600 hover:underline"
                    >Pile Capacity Calculator</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/retaining-wall-stability"
                    class="text-blue-600 hover:underline"
                    >Retaining Wall Stability</a
                  >
                </li>
                <li>
                  <a
                    href="https://calcdomain.com/landfill-volume"
                    class="text-blue-600 hover:underline"
                    >Landfill Volume Estimator</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Layer management
      const layersTbody = document.getElementById("layersTbody");
      const addLayerBtn = document.getElementById("addLayerBtn");
      const resetLayersBtn = document.getElementById("resetLayersBtn");
      const exampleBtn = document.getElementById("exampleBtn");
      const computeBtn = document.getElementById("computeBtn");
      const calcError = document.getElementById("calcError");

      function createLayerRow(index, data = {}) {
        const tr = document.createElement("tr");
        tr.className = index % 2 === 0 ? "bg-white" : "bg-gray-50";
        tr.dataset.index = index;

        const defaults = {
          H: 5,
          Cc: 0.3,
          Cr: 0.05,
          e0: 0.8,
          OCR: 1,
          Ca: 0.01,
          cv: 1,
        };
        const d = Object.assign({}, defaults, data);

        tr.innerHTML = `
      <td class="px-2 py-1 text-center text-gray-700">${index + 1}</td>
      <td class="px-2 py-1"><input type="number" step="0.1" min="0" value="${
        d.H
      }" class="table-input layer-H"></td>
      <td class="px-2 py-1"><input type="number" step="0.01" min="0" value="${
        d.Cc
      }" class="table-input layer-Cc"></td>
      <td class="px-2 py-1"><input type="number" step="0.01" min="0" value="${
        d.Cr
      }" class="table-input layer-Cr"></td>
      <td class="px-2 py-1"><input type="number" step="0.01" min="0" value="${
        d.e0
      }" class="table-input layer-e0"></td>
      <td class="px-2 py-1"><input type="number" step="0.1" min="1" value="${
        d.OCR
      }" class="table-input layer-OCR"></td>
      <td class="px-2 py-1"><input type="number" step="0.001" min="0" value="${
        d.Ca
      }" class="table-input layer-Ca"></td>
      <td class="px-2 py-1"><input type="number" step="0.01" min="0" value="${
        d.cv
      }" class="table-input layer-cv"></td>
      <td class="px-2 py-1 text-center">
        <button type="button" class="text-red-600 hover:text-red-800 text-xs remove-layer-btn">✕</button>
      </td>
    `;
        return tr;
      }

      function renumberRows() {
        Array.from(layersTbody.children).forEach((tr, idx) => {
          tr.dataset.index = idx;
          tr.querySelector("td:first-child").textContent = idx + 1;
          tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50";
        });
      }

      function addLayer(data) {
        const index = layersTbody.children.length;
        const row = createLayerRow(index, data);
        layersTbody.appendChild(row);
      }

      addLayerBtn.addEventListener("click", () => {
        addLayer();
      });

      resetLayersBtn.addEventListener("click", () => {
        layersTbody.innerHTML = "";
        addLayer();
      });

      layersTbody.addEventListener("click", (e) => {
        if (e.target.classList.contains("remove-layer-btn")) {
          const row = e.target.closest("tr");
          row.remove();
          renumberRows();
        }
      });

      exampleBtn.addEventListener("click", () => {
        // Example: 2-layer clay deposit
        document.getElementById("sigma0").value = 80;
        document.getElementById("deltaSigma").value = 40;
        document.getElementById("timeYears").value = 5;
        document.getElementById("drainageCondition").value = "double";
        document.getElementById("calcMode").value = "layers";

        layersTbody.innerHTML = "";
        addLayer({
          H: 4,
          Cc: 0.25,
          Cr: 0.05,
          e0: 0.9,
          OCR: 1.2,
          Ca: 0.01,
          cv: 1.5,
        });
        addLayer({
          H: 6,
          Cc: 0.35,
          Cr: 0.07,
          e0: 1.0,
          OCR: 1.0,
          Ca: 0.015,
          cv: 1.0,
        });
      });

      // Initialize with one default layer
      addLayer();

      // Settlement calculations
      function parseLayers() {
        const rows = Array.from(layersTbody.children);
        if (rows.length === 0) return [];

        return rows.map((row) => {
          const getVal = (selector) =>
            parseFloat(row.querySelector(selector).value);
          return {
            H: getVal(".layer-H"),
            Cc: getVal(".layer-Cc"),
            Cr: getVal(".layer-Cr"),
            e0: getVal(".layer-e0"),
            OCR: getVal(".layer-OCR"),
            Ca: getVal(".layer-Ca"),
            cv: getVal(".layer-cv"),
          };
        });
      }

      function computePrimarySettlementLayer(layer, sigma0, deltaSigma) {
        const { H, Cc, Cr, e0, OCR } = layer;
        if (H <= 0 || Cc < 0 || Cr < 0 || e0 < 0 || OCR < 1) return 0;

        const sigmaP = OCR * sigma0;
        const sigmaFinal = sigma0 + deltaSigma;
        let Sp = 0;

        if (sigmaFinal <= sigmaP) {
          // Entirely in recompression range
          if (sigma0 <= 0) return 0;
          Sp = ((Cr * H) / (1 + e0)) * Math.log10(sigmaFinal / sigma0);
        } else if (sigma0 >= sigmaP) {
          // Entirely in virgin compression range
          if (sigma0 <= 0) return 0;
          Sp = ((Cc * H) / (1 + e0)) * Math.log10(sigmaFinal / sigma0);
        } else {
          // Part recompression, part virgin
          if (sigma0 <= 0 || sigmaP <= 0) return 0;
          const SpOC = ((Cr * H) / (1 + e0)) * Math.log10(sigmaP / sigma0);
          const SpNC = ((Cc * H) / (1 + e0)) * Math.log10(sigmaFinal / sigmaP);
          Sp = SpOC + SpNC;
        }
        return Sp;
      }

      function computeSecondarySettlementLayer(layer, tYears, t1Years = 1) {
        const { H, Ca, e0 } = layer;
        if (H <= 0 || Ca <= 0 || e0 < 0 || tYears <= t1Years) return 0;
        return ((Ca * H) / (1 + e0)) * Math.log10(tYears / t1Years);
      }

      function averageCv(layers) {
        let num = 0,
          den = 0;
        layers.forEach((l) => {
          if (l.cv > 0 && l.H > 0) {
            num += l.cv * l.H;
            den += l.H;
          }
        });
        return den > 0 ? num / den : 0;
      }

      function computeTvAndU(cv, Hdr, tYears) {
        if (cv <= 0 || Hdr <= 0 || tYears <= 0) return { Tv: 0, U: 0 };
        const Tv = (cv * tYears) / (Hdr * Hdr);

        let U;
        if (Tv <= 0) {
          U = 0;
        } else if (Tv < 0.2) {
          // Approximation for small Tv
          U = Math.sqrt((4 * Tv) / Math.PI);
        } else {
          const logTv = Math.log10(Tv);
          U = 1 - Math.exp(-1.781 - 0.933 * logTv - 0.293 * logTv * logTv);
        }
        if (U < 0) U = 0;
        if (U > 1) U = 1;
        return { Tv, U };
      }

      function formatNumber(val, decimals = 4) {
        if (!isFinite(val)) return "–";
        return val.toFixed(decimals);
      }

      computeBtn.addEventListener("click", () => {
        calcError.textContent = "";
        const sigma0 = parseFloat(document.getElementById("sigma0").value);
        const deltaSigma = parseFloat(
          document.getElementById("deltaSigma").value
        );
        const tYears = parseFloat(document.getElementById("timeYears").value);
        const drainageCondition =
          document.getElementById("drainageCondition").value;
        const calcMode = document.getElementById("calcMode").value;

        if (
          !isFinite(sigma0) ||
          !isFinite(deltaSigma) ||
          sigma0 <= 0 ||
          deltaSigma <= 0
        ) {
          calcError.textContent =
            "Please enter valid positive values for σ'0 and Δσ.";
          return;
        }
        if (!isFinite(tYears) || tYears <= 0) {
          calcError.textContent = "Please enter a positive time in years.";
          return;
        }

        let layers = parseLayers();
        if (layers.length === 0) {
          calcError.textContent = "Please define at least one soil layer.";
          return;
        }

        // Equivalent layer mode: compute thickness-weighted averages
        if (calcMode === "equivalent") {
          let Htot = 0;
          let sumCc = 0,
            sumCr = 0,
            sume0 = 0,
            sumOCR = 0,
            sumCa = 0,
            sumCv = 0;
          layers.forEach((l) => {
            Htot += l.H;
            sumCc += l.Cc * l.H;
            sumCr += l.Cr * l.H;
            sume0 += l.e0 * l.H;
            sumOCR += l.OCR * l.H;
            sumCa += l.Ca * l.H;
            sumCv += l.cv * l.H;
          });
          if (Htot <= 0) {
            calcError.textContent =
              "Total thickness must be greater than zero.";
            return;
          }
          const eqLayer = {
            H: Htot,
            Cc: sumCc / Htot,
            Cr: sumCr / Htot,
            e0: sume0 / Htot,
            OCR: sumOCR / Htot,
            Ca: sumCa / Htot,
            cv: sumCv / Htot,
          };
          layers = [eqLayer];
        }

        let SpTotal = 0;
        let SsTotal = 0;
        const breakdownLines = [];

        layers.forEach((layer, idx) => {
          const Sp = computePrimarySettlementLayer(layer, sigma0, deltaSigma);
          const Ss = computeSecondarySettlementLayer(layer, tYears);
          SpTotal += Sp;
          SsTotal += Ss;
          breakdownLines.push(
            `Layer ${idx + 1}: Sₚ = ${formatNumber(
              Sp,
              4
            )} m, Sₛ = ${formatNumber(Ss, 4)} m`
          );
        });

        const Stotal = SpTotal + SsTotal;

        document.getElementById("primarySettlement").textContent = formatNumber(
          SpTotal,
          4
        );
        document.getElementById("secondarySettlement").textContent =
          formatNumber(SsTotal, 4);
        document.getElementById("totalSettlement").textContent = formatNumber(
          Stotal,
          4
        );

        // Degree of consolidation
        const Htot = layers.reduce((sum, l) => sum + l.H, 0);
        const Hdr = drainageCondition === "double" ? Htot / 2 : Htot;
        const cvAvg = averageCv(layers);
        const { Tv, U } = computeTvAndU(cvAvg, Hdr, tYears);

        document.getElementById("TvValue").textContent = formatNumber(Tv, 4);
        document.getElementById("UValue").textContent =
          (U * 100).toFixed(1) + " %";

        const layerBreakdownDiv = document.getElementById("layerBreakdown");
        layerBreakdownDiv.innerHTML = breakdownLines
          .map((line) => `<p>${line}</p>`)
          .join("");
      });

      // Mobile menu
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const isHidden = menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !isHidden);
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", isHidden ? "true" : "false");
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
