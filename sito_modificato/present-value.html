<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/present-value">





 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta charset="utf-8">
<title>Present Value Calculator | Professional, Accessible &amp; SEO-Optimized Tool</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Present Value Calculator: compute the PV of a future amount or an annuity. Supports multiple compounding frequencies, inflation adjustment, and annuity timing. WCAG 2.1 AA accessible and mobile-first." name="description">
<meta content="Ugo Candido" name="author">

<meta content="#005A9C" name="theme-color">
<meta content="index,follow" name="robots">
<style>
    /* =========================
       Design tokens (system fonts for speed)
       ========================= */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#495057; --border-color:#DEE2E6;
      --success-color:#198754; --danger-color:#DC3545; --warning-color:#B35C00;

      --radius-6:6px; --radius-8:8px; --radius-12:12px;
      --shadow-1:0 2px 6px rgba(0,0,0,.06);
      --shadow-2:0 8px 18px rgba(0,0,0,.08);

      --touch:48px;
      --container:1200px;
    }
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    body{
      margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--background-color); color:var(--text-color); line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    a{color:var(--primary-color);text-decoration:none}
    a:hover{text-decoration:underline}
    a:focus{outline:3px solid var(--primary-color); outline-offset:2px; border-radius:2px}

    .container{max-width:var(--container);margin:0 auto;padding:0 1rem}
    .skip-link{
      position:absolute;left:6px;top:-40px;background:var(--primary-color);color:#fff;
      padding:8px 14px;border-radius:0 0 4px 4px;z-index:1000
    }
    .skip-link:focus{top:0}

    /* Header (non-sticky per requirements) */
    header{
      background:var(--surface-color);
      border-bottom:1px solid var(--border-color);
    }
    .header-bar{
      display:grid; grid-template-columns:auto 1fr auto; gap:.75rem; align-items:center; padding:.75rem 0;
    }
    .brand{font-weight:700;color:var(--secondary-color);font-size:1.1rem}
    .site-search{display:flex;gap:.5rem;align-items:center}
    .site-search input[type="search"]{
      flex:1 1 auto; min-width:0; padding:.6rem .8rem; border:1px solid var(--border-color);
      border-radius:var(--radius-8); background:#fff
    }
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
      padding:.7rem 1rem;border-radius:var(--radius-8);border:1px solid transparent;
      min-height:var(--touch);min-width:var(--touch);cursor:pointer;font-weight:600
    }
    .btn-primary{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}
    .btn-primary:hover{background:var(--secondary-color);border-color:var(--secondary-color)}
    .btn-secondary{background:transparent;color:var(--primary-color);border-color:var(--primary-color)}
    .btn-secondary:hover{background:var(--primary-color);color:#fff}

    main{padding:1rem 0 2rem}
    nav.breadcrumb{font-size:.9rem;color:var(--muted-text-color);margin:.5rem 0 1rem}
    nav.breadcrumb a{color:inherit}

    h1{font-size:clamp(1.6rem,4vw,2.2rem); color:var(--secondary-color); margin:.5rem 0 0.5rem}
    h2{color:var(--secondary-color); margin:1.5rem 0 .75rem}
    h3{color:var(--secondary-color); margin:1rem 0 .5rem}

    /* Layout */
    .calculator-layout{display:grid;grid-template-columns:1fr;gap:1.5rem}
    @media (min-width: 992px){
      .calculator-layout{grid-template-columns:420px 1fr}
    }
    .card{
      background:var(--surface-color);border:1px solid var(--border-color);border-radius:var(--radius-12);
      box-shadow:var(--shadow-1); padding:1.25rem
    }

    /* Calculator UI */
    .form-group{margin-bottom:1rem}
    .form-group label{display:block;font-weight:600;margin-bottom:.4rem}
    .required::after{content:" *"; color:var(--danger-color); font-weight:700}
    .input-row{position:relative}
    .form-control{
      width:100%;min-height:48px;padding:.7rem .9rem;border:1px solid var(--border-color);
      border-radius:var(--radius-8);font-size:1rem;background:#fff
    }
    .form-control:focus-visible{
      outline:3px solid var(--primary-color); outline-offset:2px; border-color:var(--primary-color);
      box-shadow:0 0 0 3px rgba(0,90,156,.15)
    }
    .form-control[aria-invalid="true"]{border-color:var(--danger-color)}
    .help-inline{font-size:.9rem;color:var(--muted-text-color)}
    .error-message{color:var(--danger-color);font-size:.9rem;margin-top:.25rem}
    .addon{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:var(--muted-text-color);pointer-events:none}

    .radio-group{
      display:flex;gap:.5rem;flex-wrap:wrap;border:1px solid var(--border-color);border-radius:var(--radius-8);
      padding:.25rem;background:#fff
    }
    .radio-pill{position:relative}
    .radio-pill input{position:absolute;inset:0;opacity:0}
    .radio-pill label{
      display:inline-flex;align-items:center;justify-content:center;padding:.55rem .8rem;border-radius:8px;min-height:44px;min-width:44px;
      cursor:pointer;color:var(--secondary-color)
    }
    .radio-pill input:checked + label{background:var(--primary-color);color:#fff}
    .radio-pill input:focus-visible + label{outline:3px solid var(--primary-color);outline-offset:2px}

    .row-2{display:grid;grid-template-columns:1fr;gap:.75rem}
    @media(min-width:640px){.row-2{grid-template-columns:1fr 1fr}}

    .tooltip{
      display:block; margin-left:.5rem;
      background:transparent; border:1px solid var(--border-color); color:var(--secondary-color);
      border-radius:50%; width:32px; height:32px; min-width:32px; min-height:32px;
      line-height:30px; text-align:center; font-weight:700; cursor:pointer;
    }
    .tooltip:focus{outline:3px solid var(--primary-color); outline-offset:2px}
    .tooltip-panel{
      margin:.4rem 0 0; padding:.75rem; border:1px solid var(--border-color); border-radius:8px; background:#f1f5f9;
      color:#0f172a; box-shadow:var(--shadow-1)
    }
    .visually-hidden{position:absolute;width:1px;height:1px;margin:-1px;padding:0;border:0;clip:rect(0 0 0 0);overflow:hidden}

    /* Results */
    .results{margin-top:1rem;padding:1rem;background:#F2F7FB;border:1px solid var(--border-color);border-radius:var(--radius-12);min-height:240px}
    .result-grid{display:grid;grid-template-columns:1fr;gap:.75rem}
    @media(min-width:560px){.result-grid{grid-template-columns:1fr 1fr}}
    .result-item{background:#fff;border:1px solid var(--border-color);border-radius:10px;padding:.9rem;display:flex;justify-content:space-between;align-items:center}
    .result-label{color:var(--muted-text-color)}
    .result-value{font-weight:700;color:var(--success-color);font-size:1.1rem}

    /* Content sections */
    .formula-box{background:#e9ecef;border-radius:8px;padding:1rem;overflow:auto}
    .note{font-size:.95rem;color:var(--muted-text-color)}

    footer{margin-top:2rem;border-top:1px solid var(--border-color);color:var(--muted-text-color)}
    .footer-wrap{padding:1.25rem 0;font-size:.95rem}

    /* Prevent content shift while tooltips/results open/close */
    [hidden]{display:none!important}
  </style>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Present Value Calculator",
  "description": "Compute the present value (PV) of a future lump sum or an annuity with selectable compounding and optional inflation adjustment. WCAG-compliant, mobile-first calculator.",
  "url": "https://calcdomain.com/present-value",
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How it Works: A Step-by-Step Example",
      "description": "Calculate the present value of $10,000 received in 5 years at 5% annual rate, compounded monthly.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Select calculation type",
          "text": "Choose 'Single Future Amount'."
        },
        {
          "@type": "HowToStep",
          "name": "Enter inputs",
          "text": "Future Value = 10000; Discount Rate = 5%; Years = 5; Compounding = Monthly (12)."
        },
        {
          "@type": "HowToStep",
          "name": "Compute",
          "text": "PV = 10000 / (1 + 0.05/12)^(12×5) ≈ 7835.26."
        },
        {
          "@type": "HowToStep",
          "name": "Interpret",
          "text": "You would need about $7,835.26 today to equal $10,000 in 5 years at 5% with monthly compounding."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is present value (PV)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Present value discounts a future sum or stream of cash flows back to today using a specified discount rate."
          }
        },
        {
          "@type": "Question",
          "name": "Which compounding should I use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use the compounding frequency that matches how returns accrue or how your contract defines interest (annual, semiannual, monthly, or continuous)."
          }
        },
        {
          "@type": "Question",
          "name": "What is an annuity due vs. ordinary annuity?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Ordinary annuity pays at the end of each period; annuity due pays at the beginning. Annuity due has a higher present value, all else equal."
          }
        },
        {
          "@type": "Question",
          "name": "Can the discount rate be zero or negative?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. A zero rate makes PV equal to the undiscounted sum; negative rates can produce PV greater than the future amount."
          }
        },
        {
          "@type": "Question",
          "name": "How do I adjust for inflation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use the 'Adjust for inflation' option. The calculator applies the Fisher equation: r_real = (1+r_nominal)/(1+inflation) - 1, then discounts at the real rate."
          }
        },
        {
          "@type": "Question",
          "name": "Is this calculator suitable for professional finance work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. It implements standard formulas for lump sums and annuities, supports continuous compounding, and is designed for accuracy and accessibility."
          }
        }
      ]
    }
  ],
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer=""></script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "General",
      "item": "https://calcdomain.com/categories/general"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Miscellaneous",
      "item": "https://calcdomain.com/subcategories/miscellaneous"
    }
  ]
}
</script>
</head>
<body><header id="siteHeader">
  <div class="nav container">
    <a class="brand" href="https://calcdomain.com">CalcDomain</a>
    <div class="navRight">
      <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
      <span class="pill">Categories</span>
    </div>
  </div>
</header><div class="container">
  <main style="margin:24px 0 40px;" id="mainContent">
    <h1 id="pageTitle">Present Value Calculator</h1>
    <p class="sub" id="pageSub">Present Value Calculator: compute the PV of a future amount or an annuity. Supports multiple compounding frequencies, inflation adjustment, and annuity timing. WCAG 2.1 AA accessible and mobile-first.</p>
    <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>

    <div class="calc-hero" id="calcHero">
      <section class="card" id="inputsCard" aria-label="Calculator inputs"><form action="/search" aria-label="Site-wide search" class="site-search" method="get" role="search">
<label class="visually-hidden" for="q">Search calculators</label>
<input autocomplete="off" id="q" name="q" placeholder="Search calculators…" type="search">
<button aria-label="Submit search" class="btn btn-secondary" type="submit">Search</button>
</form>
<div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
</section>
      <section class="card sticky-box" id="resultsCard" aria-label="Calculator results"></section>
    </div>

    <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
      <h2>Full original guide (expanded)</h2>
    <a class="skip-link" href="#main-content">Skip to main content</a><header aria-label="Site header" role="banner">
<div class="container header-bar">
CalcDomain

<div aria-hidden="true"></div>
</div>
</header><main class="container" id="main-content" role="main">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> » <a href="https://calcdomain.com/categories/general" class="hover:text-blue-600">General</a> » <a href="https://calcdomain.com/subcategories/miscellaneous" class="hover:text-blue-600">Miscellaneous</a></nav>
<h1>Present Value Calculator</h1>
<p class="note">A professional-grade present value calculator for investors, analysts, and students. Compute the present value of a single future amount or an annuity with flexible compounding and optional inflation adjustment—fast, accurate, and fully accessible.</p>
<div class="calculator-layout" id="pv-tool">
<!-- Calculator -->
<section aria-labelledby="calc-heading" class="card">
<h2 class="visually-hidden" id="calc-heading">Calculator Inputs</h2>
<div class="form-group">
<fieldset>
<legend class="required">Calculation type</legend>
<div aria-label="Calculation type" class="radio-group" role="radiogroup">
<div class="radio-pill">
<input checked="" id="typeLump" name="calcType" type="radio" value="lump">
<label for="typeLump">Single Future Amount</label>
</div>
<div class="radio-pill">
<input id="typeAnnuity" name="calcType" type="radio" value="annuity">
<label for="typeAnnuity">Annuity (Equal Payments)</label>
</div>
</div>
</fieldset>
</div>
<div class="row-2">
<div class="form-group">
<label class="required" for="currency">Currency</label>
<select aria-required="true" class="form-control" id="currency">
<option selected="" value="USD">USD — US Dollar</option>
<option value="EUR">EUR — Euro</option>
<option value="GBP">GBP — British Pound</option>
<option value="JPY">JPY — Japanese Yen</option>
<option value="AUD">AUD — Australian Dollar</option>
<option value="CAD">CAD — Canadian Dollar</option>
<option value="CHF">CHF — Swiss Franc</option>
</select>
</div>
<div class="form-group">
<label class="required" for="compounding">Compounding frequency</label>
<select aria-required="true" class="form-control" id="compounding">
<option value="1">Annually (1)</option>
<option value="2">Semiannually (2)</option>
<option value="4">Quarterly (4)</option>
<option selected="" value="12">Monthly (12)</option>
<option value="52">Weekly (52)</option>
<option value="365">Daily (365)</option>
<option value="cont">Continuous</option>
</select>
</div>
</div>
<!-- Lump sum group -->
<div id="groupLump">
<div class="form-group">
<label class="required" for="fv">Future Value (FV)</label>
<div class="input-row">
<input aria-describedby="fvHelp fvError" aria-invalid="false" aria-required="true" class="form-control" id="fv" inputmode="decimal" min="0" placeholder="e.g., 10000" step="0.01" type="number">
<span aria-hidden="true" class="addon">amount</span>
</div>
<div class="help-inline" id="fvHelp">The future amount you will receive at time t.</div>
<div aria-live="polite" class="error-message" id="fvError" role="alert"></div>
</div>
<div class="row-2">
<div class="form-group">
<div style="display:flex;align-items:center;gap:.5rem">
<label class="required" for="rate" id="rateLabel">Annual discount rate</label>
<button aria-controls="rateTip" aria-expanded="false" aria-label="More info about discount rate" class="tooltip" id="rateTipBtn" type="button">?</button>
</div>
<div class="input-row">
<input aria-describedby="rateTip rateError rateUnit" aria-invalid="false" aria-required="true" class="form-control" id="rate" inputmode="decimal" placeholder="e.g., 5" step="0.01" type="number">
<span aria-hidden="true" class="addon" id="rateUnit">%</span>
</div>
<div class="tooltip-panel" hidden="" id="rateTip">
                The discount rate reflects the opportunity cost of capital or required return. It may be a risk-adjusted market rate.
              </div>
<div aria-live="polite" class="error-message" id="rateError" role="alert"></div>
</div>
<div class="form-group">
<label class="required" for="years">Time (years)</label>
<div class="input-row">
<input aria-describedby="yearsError" aria-invalid="false" aria-required="true" class="form-control" id="years" inputmode="decimal" min="0" placeholder="e.g., 5" step="0.01" type="number">
<span aria-hidden="true" class="addon">yrs</span>
</div>
<div aria-live="polite" class="error-message" id="yearsError" role="alert"></div>
</div>
</div>
</div>
<!-- Annuity group -->
<div hidden="" id="groupAnnuity">
<div class="form-group">
<label class="required" for="payment">Payment per period</label>
<div class="input-row">
<input aria-describedby="paymentError" aria-invalid="false" aria-required="true" class="form-control" id="payment" inputmode="decimal" min="0" placeholder="e.g., 500" step="0.01" type="number">
<span aria-hidden="true" class="addon">amount</span>
</div>
<div aria-live="polite" class="error-message" id="paymentError" role="alert"></div>
</div>
<div class="row-2">
<div class="form-group">
<label class="required" for="rateA">Annual discount rate</label>
<div class="input-row">
<input aria-describedby="rateAError rateAUnit" aria-invalid="false" aria-required="true" class="form-control" id="rateA" inputmode="decimal" placeholder="e.g., 6" step="0.01" type="number">
<span aria-hidden="true" class="addon" id="rateAUnit">%</span>
</div>
<div aria-live="polite" class="error-message" id="rateAError" role="alert"></div>
</div>
<div class="form-group">
<label class="required" for="yearsA">Time (years)</label>
<div class="input-row">
<input aria-describedby="yearsAError" aria-invalid="false" aria-required="true" class="form-control" id="yearsA" inputmode="decimal" min="0" placeholder="e.g., 10" step="0.01" type="number">
<span aria-hidden="true" class="addon">yrs</span>
</div>
<div aria-live="polite" class="error-message" id="yearsAError" role="alert"></div>
</div>
</div>
<div class="form-group">
<fieldset>
<legend class="required">Payment timing</legend>
<div aria-label="Payment timing" class="radio-group" role="radiogroup">
<div class="radio-pill">
<input checked="" id="timingEnd" name="timing" type="radio" value="end">
<label for="timingEnd">End of period (ordinary)</label>
</div>
<div class="radio-pill">
<input id="timingBegin" name="timing" type="radio" value="begin">
<label for="timingBegin">Beginning (annuity due)</label>
</div>
</div>
</fieldset>
</div>
</div>
<!-- Inflation adjustment -->
<div class="form-group">
<div style="display:flex;align-items:center;gap:.5rem">
<input aria-checked="false" aria-controls="inflBlock" id="useInfl" role="switch" type="checkbox">
<label for="useInfl">Adjust for inflation (real PV)</label>
<button aria-controls="inflTip" aria-expanded="false" aria-label="More info about inflation adjustment" class="tooltip" id="inflTipBtn" type="button">?</button>
</div>
<div class="tooltip-panel" hidden="" id="inflTip">
            Uses the Fisher equation r_real = (1 + r_nominal)/(1 + i) - 1 to discount in constant (inflation-adjusted) currency.
          </div>
<div class="row-2" hidden="" id="inflBlock">
<div class="form-group">
<label class="required" for="inflRate">Inflation rate</label>
<div class="input-row">
<input aria-describedby="inflError inflUnit" aria-invalid="false" aria-required="true" class="form-control" id="inflRate" inputmode="decimal" placeholder="e.g., 2.5" step="0.01" type="number">
<span aria-hidden="true" class="addon" id="inflUnit">%</span>
</div>
<div aria-live="polite" class="error-message" id="inflError" role="alert"></div>
</div>
<div class="form-group">
<label class="help-inline" for="inflRate">Tip</label>
<div class="help-inline">Estimate long-run inflation from credible sources (e.g., central bank targets).</div>
</div>
</div>
</div>
<div class="row-2">
<button aria-label="Calculate present value" class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
<button aria-label="Reset inputs" class="btn btn-secondary btnSecondary" id="resetBtn" type="button">Reset</button>
</div>
<section aria-labelledby="resultsHeading" aria-live="polite" class="results">
<h3 id="resultsHeading">Results</h3>
<div class="result-grid">
<div class="result-item">
<span class="result-label">Present Value (PV)</span>
<span class="result-value" id="pvOut">$0.00</span>
</div>
<div class="result-item">
<span class="result-label">Discount factor</span>
<span class="result-value" id="dfOut">—</span>
</div>
<div class="result-item">
<span class="result-label">Total periods</span>
<span class="result-value" id="nOut">—</span>
</div>
<div class="result-item">
<span class="result-label">Periodic rate</span>
<span class="result-value" id="rpOut">—</span>
</div>
<div class="result-item" hidden="" id="realRow">
<span class="result-label">Real PV (inflation-adjusted)</span>
<span class="result-value" id="realPvOut">—</span>
</div>
<div class="result-item">
<span class="result-label">Notes</span>
<span class="result-value" id="notesOut" style="color:#0c5460">—</span>
</div>
</div>
</section>
</section>
<!-- Content / Authority -->
<article aria-labelledby="content-heading" class="card">
<h2 id="content-heading">Authoritative Content &amp; Methodology</h2>
<section aria-labelledby="src-heading">
<h3 id="src-heading">Data Source and Methodology</h3>
<p>
            Authoritative sources:
          </p>
<ul>
<li>Bodie, Z., Kane, A., Marcus, A. J. (2021). Investments, 12th ed. McGraw‑Hill. Chapter on Time Value of Money. <a href="https://www.mheducation.com/highered/product/investments-bodie-kane/M9781260013832.html" rel="noopener">Publisher link</a></li>
<li>U.S. SEC – Investor.gov: Compound Interest and Annuities methodology. <a href="https://www.investor.gov/financial-tools-calculators" rel="noopener">Investor.gov calculators</a></li>
</ul>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section aria-labelledby="formula-heading">
<h3 id="formula-heading">The Formula Explained</h3>
<div class="formula-box">
<p><strong>Lump sum (discrete compounding):</strong></p>
<p>PV = \( \dfrac{\text{FV}}{\left(1+\dfrac{r}{m}\right)^{m t}} \)</p>
<p><strong>Lump sum (continuous compounding):</strong></p>
<p>PV = \( \text{FV}\, e^{-r t} \)</p>
<p><strong>Level annuity (ordinary):</strong></p>
<p>PV = \( P \times \dfrac{1-(1+\frac{r}{m})^{-m t}}{\frac{r}{m}} \)</p>
<p><strong>Annuity due:</strong></p>
<p>PV = \( P \times \dfrac{1-(1+\frac{r}{m})^{-m t}}{\frac{r}{m}} \times (1+\frac{r}{m}) \)</p>
<p><strong>Inflation adjustment (Fisher):</strong></p>
<p>\( r_{\text{real}} = \dfrac{1+r}{1+i} - 1 \)</p>
</div>
<p class="note">Where FV = future value, P = payment each period, r = annual nominal rate, m = compounding periods per year, t = years, i = inflation rate.</p>
</section>
<section aria-labelledby="glossary-heading">
<h3 id="glossary-heading">Glossary of Variables</h3>
<ul>
<li>Present Value (PV): The amount today equivalent to a future cash flow or series.</li>
<li>Future Value (FV): The amount received at a future date.</li>
<li>P (Payment): Fixed cash flow per period in an annuity.</li>
<li>r (Annual discount rate): Required return/interest rate per year (decimal form).</li>
<li>m (Compounding frequency): Number of compounding periods per year (1, 2, 4, 12, 365 or continuous).</li>
<li>t (Time): Number of years until payment(s).</li>
<li>Discount factor: PV/FV for a lump sum, or the annuity present value factor for series.</li>
<li>r_real: Real discount rate after accounting for inflation i.</li>
</ul>
</section>
<section aria-labelledby="example-heading">
<h3 id="example-heading">How It Works: A Step-by-Step Example</h3>
<p><strong>Scenario:</strong> You expect $10,000 in 5 years. Your annual required return is 5% with monthly compounding.</p>
<ol>
<li>Inputs: FV = 10,000; r = 5% = 0.05; m = 12; t = 5.</li>
<li>Compute periodic rate: \( r_p = r/m = 0.05/12 \).</li>
<li>Compute total periods: \( n = m \times t = 12 \times 5 = 60 \).</li>
<li>Compute PV: \( \text{PV} = \dfrac{10000}{(1 + 0.05/12)^{60}} \approx 7835.26 \).</li>
</ol>
<p><em>Interpretation:</em> Investing about $7,835.26 today at 5% compounded monthly should grow to $10,000 in 5 years.</p>
</section>
<section aria-labelledby="faq-heading">
<h3 id="faq-heading">Frequently Asked Questions (FAQ)</h3>
<details>
<summary>What discount rate should I use?</summary>
<p>Use a rate reflecting your opportunity cost or the risk profile of the cash flow (e.g., your portfolio’s expected return, a WACC for projects, or a risk-free rate plus premium).</p>
</details>
<details>
<summary>Does continuous compounding change the formula?</summary>
<p>Yes. Lump-sum PV becomes \( \text{PV} = \text{FV} \, e^{-rt} \), where e is Euler’s number.</p>
</details>
<details>
<summary>How is an annuity due handled?</summary>
<p>An annuity due pays at the start of each period; multiply the ordinary annuity PV by \( (1 + r/m) \).</p>
</details>
<details>
<summary>What if the rate is zero?</summary>
<p>With r = 0, PV equals the undiscounted sum. Annuity PV is simply payment × number of periods.</p>
</details>
<details>
<summary>Can I enter fractional years?</summary>
<p>Yes. The calculator supports decimals for years to represent partial periods accurately.</p>
</details>
<details>
<summary>Are taxes and fees included?</summary>
<p>No. Results are pre-tax and exclude fees. Adjust your discount rate to reflect costs if needed.</p>
</details>
</section>
<div class="note">
        </div>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Lump sum (discrete compounding): PV = \( \dfrac{\text{FV}}{\left(1+\dfrac{r}{m}\right)^{m t}} \) Lump sum (continuous compounding): PV = \( \text{FV}\, e^{-r t} \) Level annuity (ordinary): PV = \( P \times \dfrac{1-(1+\frac{r}{m})^{-m t}}{\frac{r}{m}} \) Annuity due: PV = \( P \times \dfrac{1-(1+\frac{r}{m})^{-m t}}{\frac{r}{m}} \times (1+\frac{r}{m}) \) Inflation adjustment (Fisher): \( r_{\text{real}} = \dfrac{1+r}{1+i} - 1 \)</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><span class="auditspine-mono">T</span> = property tax (annual or monthly depending on input) <em>(currency)</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Investor.gov calculators</strong> — investor.gov · Accessed 2026-01-19<br><a href="https://www.investor.gov/financial-tools-calculators" target="_blank" rel="nofollow noopener">https://www.investor.gov/financial-tools-calculators</a></li>
<li><strong>Finance</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/finance" target="_blank" rel="nofollow noopener">https://calcdomain.com/finance</a></li>
<li><strong>Investment</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/subcategories/finance-investment" target="_blank" rel="nofollow noopener">https://calcdomain.com/subcategories/finance-investment</a></li>
<li><strong>Publisher link</strong> — mheducation.com · Accessed 2026-01-19<br><a href="https://www.mheducation.com/highered/product/investments-bodie-kane/M9781260013832.html" target="_blank" rel="nofollow noopener">https://www.mheducation.com/highered/product/investments-bodie-kane/M9781260013832.html</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>


</main></section>

    <section class="meta-section" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
  <details id="formulaDetails">
    <summary style="cursor:pointer; font-weight:700; color:var(--text)">Formulas</summary>
    <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
      <p style="margin:0;">(Formulas preserved from original page content, if present.)</p>
    </div>
  </details>

  

  

  <div class="badge-row" id="badgeRow">
    <div class="badge" id="versionBadge">Version 0.1.0-draft</div>
  </div>

<details id="citationDetails" style="margin-top:10px;">
  <summary style="cursor:pointer; font-weight:700; color:var(--text)">Citations</summary>
  <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
    <p style="margin:0;">Add authoritative sources relevant to this calculator (standards bodies, manuals, official docs).</p>
  </div>
</details>

<details id="changelogDetails" style="margin-top:10px;">
  <summary style="cursor:pointer; font-weight:700; color:var(--text)">Changelog</summary>
  <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
    <ul style="padding-left:18px; margin:0;">
      <li>0.1.0-draft — 2026-01-19: Initial draft (review required).</li>
    </ul>
  </div>
</details>
</section>
  </main>
</div><footer id="siteFooter" class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="border-t border-gray-800 pt-8 text-center text-gray-400">
      <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer><script>
  (function() {

    'use strict';

  window.MathJax = { tex: { inlineMath: [['\\(','\\)'], ['

  })();</script><script defer="">
    (function(){
      'use strict';

      // Elements
      const els = {
        calcType: document.getElementsByName('calcType'),
        groupLump: document.getElementById('groupLump'),
        groupAnnuity: document.getElementById('groupAnnuity'),
        currency: document.getElementById('currency'),
        compounding: document.getElementById('compounding'),

        // Lump inputs
        fv: document.getElementById('fv'),
        rate: document.getElementById('rate'),
        years: document.getElementById('years'),
        fvError: document.getElementById('fvError'),
        rateError: document.getElementById('rateError'),
        yearsError: document.getElementById('yearsError'),

        // Annuity inputs
        payment: document.getElementById('payment'),
        rateA: document.getElementById('rateA'),
        yearsA: document.getElementById('yearsA'),
        paymentError: document.getElementById('paymentError'),
        rateAError: document.getElementById('rateAError'),
        yearsAError: document.getElementById('yearsAError'),
        timing: document.getElementsByName('timing'),

        // Inflation
        useInfl: document.getElementById('useInfl'),
        inflRate: document.getElementById('inflRate'),
        inflBlock: document.getElementById('inflBlock'),
        inflError: document.getElementById('inflError'),
        inflTipBtn: document.getElementById('inflTipBtn'),
        inflTip: document.getElementById('inflTip'),

        // Tips
        rateTipBtn: document.getElementById('rateTipBtn'),
        rateTip: document.getElementById('rateTip'),

        // Buttons
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),

        // Results
        pvOut: document.getElementById('pvOut'),
        dfOut: document.getElementById('dfOut'),
        nOut: document.getElementById('nOut'),
        rpOut: document.getElementById('rpOut'),
        realRow: document.getElementById('realRow'),
        realPvOut: document.getElementById('realPvOut'),
        notesOut: document.getElementById('notesOut')
      };

      // Defaults
      function setDefaults(){
        document.getElementById('typeLump').checked = true;
        els.currency.value = 'USD';
        els.compounding.value = '12';
        els.fv.value = '10000';
        els.rate.value = '5';
        els.years.value = '5';

        els.payment.value = '500';
        els.rateA.value = '6';
        els.yearsA.value = '10';
        document.getElementById('timingEnd').checked = true;

        els.useInfl.checked = false;
        els.inflBlock.hidden = true;
        els.inflRate.value = '';
        clearErrors();
      }

      function clearErrors(){
        [els.fvError, els.rateError, els.yearsError, els.paymentError, els.rateAError, els.yearsAError, els.inflError].forEach(e=>e.textContent='');
        [els.fv, els.rate, els.years, els.payment, els.rateA, els.yearsA, els.inflRate].forEach(i=>{ if(i) i.setAttribute('aria-invalid','false'); });
      }

      // Tooltip toggles (keyboard accessible)
      function setupTooltip(btn, panel){
        if(!btn || !panel) return;
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          panel.hidden = expanded;
        });
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Escape'){
            btn.setAttribute('aria-expanded', 'false');
            panel.hidden = true;
            btn.focus();
          }
        });
      }
      setupTooltip(els.rateTipBtn, els.rateTip);
      setupTooltip(els.inflTipBtn, els.inflTip);

      // Toggle calculation type
      function updateType(){
        const isLump = document.getElementById('typeLump').checked;
        els.groupLump.hidden = !isLump;
        els.groupAnnuity.hidden = isLump;
      }
      Array.from(els.calcType).forEach(r => r.addEventListener('change', ()=>{ updateType(); compute(); }));

      // Inflation toggle
      els.useInfl.addEventListener('change', ()=>{
        const on = !!els.useInfl.checked;
        els.inflBlock.hidden = !on;
        els.useInfl.setAttribute('aria-checked', on ? 'true' : 'false');
        if(!on){
          els.inflRate.value = '';
          els.inflError.textContent = '';
          els.inflRate.setAttribute('aria-invalid', 'false');
        }
        compute();
      });

      // Validation helpers
      function err(el, msgEl, msg){
        if(!el || !msgEl) return false;
        el.setAttribute('aria-invalid','true');
        msgEl.textContent = msg;
        return false;
      }
      function ok(el, msgEl){
        if(!el || !msgEl) return true;
        el.setAttribute('aria-invalid','false');
        msgEl.textContent = '';
        return true;
      }
      function parsePct(input){
        const v = Number(input.value);
        return isFinite(v) ? v / 100 : NaN;
      }
      function parseNum(input){
        const v = Number(input.value);
        return isFinite(v) ? v : NaN;
      }

      // Field validations (on blur)
      function validateLump(){
        let valid = true;
        const fv = parseNum(els.fv);
        if(!(fv >= 0)) valid = err(els.fv, els.fvError, 'Enter a valid future value (zero or positive).'); else ok(els.fv, els.fvError);

        const r = parsePct(els.rate);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rate, els.rateError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rate, els.rateError);

        const t = parseNum(els.years);
        if(!(t >= 0)) valid = err(els.years, els.yearsError, 'Enter a valid number of years (zero or more).'); else ok(els.years, els.yearsError);

        return valid;
      }
      function validateAnnuity(){
        let valid = true;
        const p = parseNum(els.payment);
        if(!(p >= 0)) valid = err(els.payment, els.paymentError, 'Enter a valid payment (zero or positive).'); else ok(els.payment, els.paymentError);

        const r = parsePct(els.rateA);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rateA, els.rateAError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rateA, els.rateAError);

        const t = parseNum(els.yearsA);
        if(!(t >= 0)) valid = err(els.yearsA, els.yearsAError, 'Enter a valid number of years (zero or more).'); else ok(els.yearsA, els.yearsAError);

        return valid;
      }
      function validateInflation(){
        if(!els.useInfl.checked) return true;
        const i = parsePct(els.inflRate);
        if(!isFinite(i) || i <= -0.9999 || i > 10) return err(els.inflRate, els.inflError, 'Enter inflation between -99.99% and 1000%.');
        return ok(els.inflRate, els.inflError);
      }

      // Attach blur validators
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(!node) return;
        node.addEventListener('blur', ()=>{ compute(); });
      });

      // Compute
      function currencyFormatter(code){
        try{
          return new Intl.NumberFormat(undefined, {style:'currency',currency:code,maximumFractionDigits:2});
        }catch(e){
          return new Intl.NumberFormat(undefined, {style:'currency',currency:'USD',maximumFractionDigits:2});
        }
      }

      function formatPct(x){
        if(!isFinite(x)) return '—';
        return (x*100).toFixed(4) + '%';
      }
      function formatNum(x, digits=6){
        if(!isFinite(x)) return '—';
        return Number(x).toFixed(digits);
      }

      function getTiming(){
        return Array.from(els.timing).find(r=>r.checked)?.value || 'end';
      }

      function compute(){
        clearNote();
        const code = els.currency.value;
        const fmt = currencyFormatter(code);
        const comp = els.compounding.value;
        const isCont = comp === 'cont';
        const m = isCont ? null : Number(comp);

        const type = document.getElementById('typeLump').checked ? 'lump' : 'annuity';

        // Validate inputs
        let valid = true;
        if(type === 'lump') valid = validateLump() && valid;
        else valid = validateAnnuity() && valid;
        valid = validateInflation() && valid;

        if(!valid){
          showOutputs('—','—','—','—',null, 'Fix highlighted fields to see results.');
          return;
        }

        // Shared helpers
        const inflationOn = els.useInfl.checked;
        const i = inflationOn ? parsePct(els.inflRate) : 0;

        if(type === 'lump'){
          const FV = parseNum(els.fv);
          const r = parsePct(els.rate);
          const t = parseNum(els.years);

          let PV, df, rp, n;
          if(isCont){
            PV = FV * Math.exp(-r * t);
            df = PV / FV;
            rp = r; // for display treat as continuous rate per year
            n = t;  // display years for continuous
          }else{
            const r_p = r / m;
            const n_per = m * t;
            PV = FV / Math.pow(1 + r_p, n_per);
            df = PV / FV;
            rp = r_p;
            n = n_per;
          }

          // Real PV
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              realPV = FV * Math.exp(-rReal * t);
            }else{
              const r_p_real = rReal / m;
              realPV = FV / Math.pow(1 + r_p_real, m * t);
            }
          }

          showOutputs(fmt.format(PV), df, n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          addNote(isCont ? 'Continuous compounding.' : `Compounding: ${m}×/year.`);
        } else {
          const P = parseNum(els.payment);
          const r = parsePct(els.rateA);
          const t = parseNum(els.yearsA);
          const timing = getTiming();

          let PV, rp, n;
          if(isCont){
            // For annuities, continuous compounding isn't standard for discrete payments.
            // We approximate by discounting each payment continuously at times k/m.
            const mDisc = 12; // use 12 as a practical discrete payment count unless user changes compounding; but comp is 'cont' -> we'll approximate monthly payments if time*12 is integer, else integrate
            const periods = Math.max(1, Math.round(t * mDisc));
            n = periods;
            const dt = t / periods;
            let sum = 0;
            for(let k=1;k<=periods;k++){
              const time = (timing === 'begin') ? (k-1)*dt : k*dt;
              sum += P * Math.exp(-r * time);
            }
            PV = sum;
            rp = r; // display
            addNote('Approximation: discrete payments discounted with continuous rate.');
          }else{
            rp = r / m;
            n = m * t;
            if (Math.abs(rp) < 1e-12){
              PV = P * n;
            }else{
              let factor = (1 - Math.pow(1 + rp, -n)) / rp;
              if(timing === 'begin') factor *= (1 + rp);
              PV = P * factor;
            }
          }

          // Real PV for annuity
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              // same approximation as above with real rate
              const mDisc = 12;
              const periods = Math.max(1, Math.round(t * mDisc));
              const dt = t / periods;
              let sum = 0;
              for(let k=1;k<=periods;k++){
                const time = (timing === 'begin') ? (k-1)*dt : k*dt;
                sum += P * Math.exp(-rReal * time);
              }
              realPV = sum;
            }else{
              const rpReal = rReal / m;
              if (Math.abs(rpReal) < 1e-12){
                realPV = P * n;
              }else{
                let factor = (1 - Math.pow(1 + rpReal, -n)) / rpReal;
                if(timing === 'begin') factor *= (1 + rpReal);
                realPV = P * factor;
              }
            }
          }

          const fmt = currencyFormatter(els.currency.value);
          showOutputs(fmt.format(PV), '—', n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          if(!isCont) addNote(`Compounding: ${m}×/year; timing: ${timing}.`);
        }
      }

      function showOutputs(pv, df, n, rp, realPv=null, note=null){
        els.pvOut.textContent = pv;
        els.dfOut.textContent = (typeof df === 'number') ? formatNum(df, 6) : df;
        els.nOut.textContent = (typeof n === 'number') ? (Number.isInteger(n) ? String(n) : formatNum(n, 2)) : n;
        els.rpOut.textContent = rp;
        if(realPv !== null){
          els.realRow.hidden = false;
          els.realPvOut.textContent = realPv;
        } else {
          els.realRow.hidden = true;
          els.realPvOut.textContent = '—';
        }
        if(note) els.notesOut.textContent = note;
      }
      function clearNote(){ els.notesOut.textContent = '—'; }
      function addNote(msg){ els.notesOut.textContent = msg; }

      // Events
      document.getElementById('compounding').addEventListener('change', ()=>compute());
      document.getElementById('currency').addEventListener('change', ()=>compute());
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(node) node.addEventListener('input', ()=>compute());
      });
      Array.from(els.timing).forEach(r=>r.addEventListener('change', ()=>compute()));
      els.calcBtn.addEventListener('click', compute);

      els.resetBtn.addEventListener('click', ()=>{
        setDefaults();
        updateType();
        compute();
        // Move focus to first field for better UX
        (document.getElementById('typeLump').checked ? els.fv : els.payment).focus();
      });

      // Initialize
      setDefaults();
      updateType();
      compute();
    })();
  </script><script defer="" src="/assets/js/mobile-menu.js"></script><script defer="" src="/assets/js/page-enhancements.js"></script><script defer="">
    (function(){
      'use strict';

      // Elements
      const els = {
        calcType: document.getElementsByName('calcType'),
        groupLump: document.getElementById('groupLump'),
        groupAnnuity: document.getElementById('groupAnnuity'),
        currency: document.getElementById('currency'),
        compounding: document.getElementById('compounding'),

        // Lump inputs
        fv: document.getElementById('fv'),
        rate: document.getElementById('rate'),
        years: document.getElementById('years'),
        fvError: document.getElementById('fvError'),
        rateError: document.getElementById('rateError'),
        yearsError: document.getElementById('yearsError'),

        // Annuity inputs
        payment: document.getElementById('payment'),
        rateA: document.getElementById('rateA'),
        yearsA: document.getElementById('yearsA'),
        paymentError: document.getElementById('paymentError'),
        rateAError: document.getElementById('rateAError'),
        yearsAError: document.getElementById('yearsAError'),
        timing: document.getElementsByName('timing'),

        // Inflation
        useInfl: document.getElementById('useInfl'),
        inflRate: document.getElementById('inflRate'),
        inflBlock: document.getElementById('inflBlock'),
        inflError: document.getElementById('inflError'),
        inflTipBtn: document.getElementById('inflTipBtn'),
        inflTip: document.getElementById('inflTip'),

        // Tips
        rateTipBtn: document.getElementById('rateTipBtn'),
        rateTip: document.getElementById('rateTip'),

        // Buttons
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),

        // Results
        pvOut: document.getElementById('pvOut'),
        dfOut: document.getElementById('dfOut'),
        nOut: document.getElementById('nOut'),
        rpOut: document.getElementById('rpOut'),
        realRow: document.getElementById('realRow'),
        realPvOut: document.getElementById('realPvOut'),
        notesOut: document.getElementById('notesOut')
      };

      // Defaults
      function setDefaults(){
        document.getElementById('typeLump').checked = true;
        els.currency.value = 'USD';
        els.compounding.value = '12';
        els.fv.value = '10000';
        els.rate.value = '5';
        els.years.value = '5';

        els.payment.value = '500';
        els.rateA.value = '6';
        els.yearsA.value = '10';
        document.getElementById('timingEnd').checked = true;

        els.useInfl.checked = false;
        els.inflBlock.hidden = true;
        els.inflRate.value = '';
        clearErrors();
      }

      function clearErrors(){
        [els.fvError, els.rateError, els.yearsError, els.paymentError, els.rateAError, els.yearsAError, els.inflError].forEach(e=>e.textContent='');
        [els.fv, els.rate, els.years, els.payment, els.rateA, els.yearsA, els.inflRate].forEach(i=>{ if(i) i.setAttribute('aria-invalid','false'); });
      }

      // Tooltip toggles (keyboard accessible)
      function setupTooltip(btn, panel){
        if(!btn || !panel) return;
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          panel.hidden = expanded;
        });
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Escape'){
            btn.setAttribute('aria-expanded', 'false');
            panel.hidden = true;
            btn.focus();
          }
        });
      }
      setupTooltip(els.rateTipBtn, els.rateTip);
      setupTooltip(els.inflTipBtn, els.inflTip);

      // Toggle calculation type
      function updateType(){
        const isLump = document.getElementById('typeLump').checked;
        els.groupLump.hidden = !isLump;
        els.groupAnnuity.hidden = isLump;
      }
      Array.from(els.calcType).forEach(r => r.addEventListener('change', ()=>{ updateType(); compute(); }));

      // Inflation toggle
      els.useInfl.addEventListener('change', ()=>{
        const on = !!els.useInfl.checked;
        els.inflBlock.hidden = !on;
        els.useInfl.setAttribute('aria-checked', on ? 'true' : 'false');
        if(!on){
          els.inflRate.value = '';
          els.inflError.textContent = '';
          els.inflRate.setAttribute('aria-invalid', 'false');
        }
        compute();
      });

      // Validation helpers
      function err(el, msgEl, msg){
        if(!el || !msgEl) return false;
        el.setAttribute('aria-invalid','true');
        msgEl.textContent = msg;
        return false;
      }
      function ok(el, msgEl){
        if(!el || !msgEl) return true;
        el.setAttribute('aria-invalid','false');
        msgEl.textContent = '';
        return true;
      }
      function parsePct(input){
        const v = Number(input.value);
        return isFinite(v) ? v / 100 : NaN;
      }
      function parseNum(input){
        const v = Number(input.value);
        return isFinite(v) ? v : NaN;
      }

      // Field validations (on blur)
      function validateLump(){
        let valid = true;
        const fv = parseNum(els.fv);
        if(!(fv >= 0)) valid = err(els.fv, els.fvError, 'Enter a valid future value (zero or positive).'); else ok(els.fv, els.fvError);

        const r = parsePct(els.rate);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rate, els.rateError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rate, els.rateError);

        const t = parseNum(els.years);
        if(!(t >= 0)) valid = err(els.years, els.yearsError, 'Enter a valid number of years (zero or more).'); else ok(els.years, els.yearsError);

        return valid;
      }
      function validateAnnuity(){
        let valid = true;
        const p = parseNum(els.payment);
        if(!(p >= 0)) valid = err(els.payment, els.paymentError, 'Enter a valid payment (zero or positive).'); else ok(els.payment, els.paymentError);

        const r = parsePct(els.rateA);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rateA, els.rateAError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rateA, els.rateAError);

        const t = parseNum(els.yearsA);
        if(!(t >= 0)) valid = err(els.yearsA, els.yearsAError, 'Enter a valid number of years (zero or more).'); else ok(els.yearsA, els.yearsAError);

        return valid;
      }
      function validateInflation(){
        if(!els.useInfl.checked) return true;
        const i = parsePct(els.inflRate);
        if(!isFinite(i) || i <= -0.9999 || i > 10) return err(els.inflRate, els.inflError, 'Enter inflation between -99.99% and 1000%.');
        return ok(els.inflRate, els.inflError);
      }

      // Attach blur validators
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(!node) return;
        node.addEventListener('blur', ()=>{ compute(); });
      });

      // Compute
      function currencyFormatter(code){
        try{
          return new Intl.NumberFormat(undefined, {style:'currency',currency:code,maximumFractionDigits:2});
        }catch(e){
          return new Intl.NumberFormat(undefined, {style:'currency',currency:'USD',maximumFractionDigits:2});
        }
      }

      function formatPct(x){
        if(!isFinite(x)) return '—';
        return (x*100).toFixed(4) + '%';
      }
      function formatNum(x, digits=6){
        if(!isFinite(x)) return '—';
        return Number(x).toFixed(digits);
      }

      function getTiming(){
        return Array.from(els.timing).find(r=>r.checked)?.value || 'end';
      }

      function compute(){
        clearNote();
        const code = els.currency.value;
        const fmt = currencyFormatter(code);
        const comp = els.compounding.value;
        const isCont = comp === 'cont';
        const m = isCont ? null : Number(comp);

        const type = document.getElementById('typeLump').checked ? 'lump' : 'annuity';

        // Validate inputs
        let valid = true;
        if(type === 'lump') valid = validateLump() && valid;
        else valid = validateAnnuity() && valid;
        valid = validateInflation() && valid;

        if(!valid){
          showOutputs('—','—','—','—',null, 'Fix highlighted fields to see results.');
          return;
        }

        // Shared helpers
        const inflationOn = els.useInfl.checked;
        const i = inflationOn ? parsePct(els.inflRate) : 0;

        if(type === 'lump'){
          const FV = parseNum(els.fv);
          const r = parsePct(els.rate);
          const t = parseNum(els.years);

          let PV, df, rp, n;
          if(isCont){
            PV = FV * Math.exp(-r * t);
            df = PV / FV;
            rp = r; // for display treat as continuous rate per year
            n = t;  // display years for continuous
          }else{
            const r_p = r / m;
            const n_per = m * t;
            PV = FV / Math.pow(1 + r_p, n_per);
            df = PV / FV;
            rp = r_p;
            n = n_per;
          }

          // Real PV
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              realPV = FV * Math.exp(-rReal * t);
            }else{
              const r_p_real = rReal / m;
              realPV = FV / Math.pow(1 + r_p_real, m * t);
            }
          }

          showOutputs(fmt.format(PV), df, n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          addNote(isCont ? 'Continuous compounding.' : `Compounding: ${m}×/year.`);
        } else {
          const P = parseNum(els.payment);
          const r = parsePct(els.rateA);
          const t = parseNum(els.yearsA);
          const timing = getTiming();

          let PV, rp, n;
          if(isCont){
            // For annuities, continuous compounding isn't standard for discrete payments.
            // We approximate by discounting each payment continuously at times k/m.
            const mDisc = 12; // use 12 as a practical discrete payment count unless user changes compounding; but comp is 'cont' -> we'll approximate monthly payments if time*12 is integer, else integrate
            const periods = Math.max(1, Math.round(t * mDisc));
            n = periods;
            const dt = t / periods;
            let sum = 0;
            for(let k=1;k<=periods;k++){
              const time = (timing === 'begin') ? (k-1)*dt : k*dt;
              sum += P * Math.exp(-r * time);
            }
            PV = sum;
            rp = r; // display
            addNote('Approximation: discrete payments discounted with continuous rate.');
          }else{
            rp = r / m;
            n = m * t;
            if (Math.abs(rp) < 1e-12){
              PV = P * n;
            }else{
              let factor = (1 - Math.pow(1 + rp, -n)) / rp;
              if(timing === 'begin') factor *= (1 + rp);
              PV = P * factor;
            }
          }

          // Real PV for annuity
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              // same approximation as above with real rate
              const mDisc = 12;
              const periods = Math.max(1, Math.round(t * mDisc));
              const dt = t / periods;
              let sum = 0;
              for(let k=1;k<=periods;k++){
                const time = (timing === 'begin') ? (k-1)*dt : k*dt;
                sum += P * Math.exp(-rReal * time);
              }
              realPV = sum;
            }else{
              const rpReal = rReal / m;
              if (Math.abs(rpReal) < 1e-12){
                realPV = P * n;
              }else{
                let factor = (1 - Math.pow(1 + rpReal, -n)) / rpReal;
                if(timing === 'begin') factor *= (1 + rpReal);
                realPV = P * factor;
              }
            }
          }

          const fmt = currencyFormatter(els.currency.value);
          showOutputs(fmt.format(PV), '—', n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          if(!isCont) addNote(`Compounding: ${m}×/year; timing: ${timing}.`);
        }
      }

      function showOutputs(pv, df, n, rp, realPv=null, note=null){
        els.pvOut.textContent = pv;
        els.dfOut.textContent = (typeof df === 'number') ? formatNum(df, 6) : df;
        els.nOut.textContent = (typeof n === 'number') ? (Number.isInteger(n) ? String(n) : formatNum(n, 2)) : n;
        els.rpOut.textContent = rp;
        if(realPv !== null){
          els.realRow.hidden = false;
          els.realPvOut.textContent = realPv;
        } else {
          els.realRow.hidden = true;
          els.realPvOut.textContent = '—';
        }
        if(note) els.notesOut.textContent = note;
      }
      function clearNote(){ els.notesOut.textContent = '—'; }
      function addNote(msg){ els.notesOut.textContent = msg; }

      // Events
      document.getElementById('compounding').addEventListener('change', ()=>compute());
      document.getElementById('currency').addEventListener('change', ()=>compute());
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(node) node.addEventListener('input', ()=>compute());
      });
      Array.from(els.timing).forEach(r=>r.addEventListener('change', ()=>compute()));
      els.calcBtn.addEventListener('click', compute);

      els.resetBtn.addEventListener('click', ()=>{
        setDefaults();
        updateType();
        compute();
        // Move focus to first field for better UX
        (document.getElementById('typeLump').checked ? els.fv : els.payment).focus();
      });

      // Initialize
      setDefaults();
      updateType();
      compute();
    })();
  </script><script defer="" src="/assets/js/mobile-menu.js"></script><script defer="" src="/assets/js/page-enhancements.js"></script><script crossorigin="anonymous" defer="" id="MathJax-script" integrity="sha384-+38Tphc6RzYlC5g5Y2gYh2lNwUMqV07f0g9zvKUGUuYndpT3iKRX71qJf6oPcy7t" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script defer="">
    (function(){
      'use strict';

      // Elements
      const els = {
        calcType: document.getElementsByName('calcType'),
        groupLump: document.getElementById('groupLump'),
        groupAnnuity: document.getElementById('groupAnnuity'),
        currency: document.getElementById('currency'),
        compounding: document.getElementById('compounding'),

        // Lump inputs
        fv: document.getElementById('fv'),
        rate: document.getElementById('rate'),
        years: document.getElementById('years'),
        fvError: document.getElementById('fvError'),
        rateError: document.getElementById('rateError'),
        yearsError: document.getElementById('yearsError'),

        // Annuity inputs
        payment: document.getElementById('payment'),
        rateA: document.getElementById('rateA'),
        yearsA: document.getElementById('yearsA'),
        paymentError: document.getElementById('paymentError'),
        rateAError: document.getElementById('rateAError'),
        yearsAError: document.getElementById('yearsAError'),
        timing: document.getElementsByName('timing'),

        // Inflation
        useInfl: document.getElementById('useInfl'),
        inflRate: document.getElementById('inflRate'),
        inflBlock: document.getElementById('inflBlock'),
        inflError: document.getElementById('inflError'),
        inflTipBtn: document.getElementById('inflTipBtn'),
        inflTip: document.getElementById('inflTip'),

        // Tips
        rateTipBtn: document.getElementById('rateTipBtn'),
        rateTip: document.getElementById('rateTip'),

        // Buttons
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),

        // Results
        pvOut: document.getElementById('pvOut'),
        dfOut: document.getElementById('dfOut'),
        nOut: document.getElementById('nOut'),
        rpOut: document.getElementById('rpOut'),
        realRow: document.getElementById('realRow'),
        realPvOut: document.getElementById('realPvOut'),
        notesOut: document.getElementById('notesOut')
      };

      // Defaults
      function setDefaults(){
        document.getElementById('typeLump').checked = true;
        els.currency.value = 'USD';
        els.compounding.value = '12';
        els.fv.value = '10000';
        els.rate.value = '5';
        els.years.value = '5';

        els.payment.value = '500';
        els.rateA.value = '6';
        els.yearsA.value = '10';
        document.getElementById('timingEnd').checked = true;

        els.useInfl.checked = false;
        els.inflBlock.hidden = true;
        els.inflRate.value = '';
        clearErrors();
      }

      function clearErrors(){
        [els.fvError, els.rateError, els.yearsError, els.paymentError, els.rateAError, els.yearsAError, els.inflError].forEach(e=>e.textContent='');
        [els.fv, els.rate, els.years, els.payment, els.rateA, els.yearsA, els.inflRate].forEach(i=>{ if(i) i.setAttribute('aria-invalid','false'); });
      }

      // Tooltip toggles (keyboard accessible)
      function setupTooltip(btn, panel){
        if(!btn || !panel) return;
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          panel.hidden = expanded;
        });
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Escape'){
            btn.setAttribute('aria-expanded', 'false');
            panel.hidden = true;
            btn.focus();
          }
        });
      }
      setupTooltip(els.rateTipBtn, els.rateTip);
      setupTooltip(els.inflTipBtn, els.inflTip);

      // Toggle calculation type
      function updateType(){
        const isLump = document.getElementById('typeLump').checked;
        els.groupLump.hidden = !isLump;
        els.groupAnnuity.hidden = isLump;
      }
      Array.from(els.calcType).forEach(r => r.addEventListener('change', ()=>{ updateType(); compute(); }));

      // Inflation toggle
      els.useInfl.addEventListener('change', ()=>{
        const on = !!els.useInfl.checked;
        els.inflBlock.hidden = !on;
        els.useInfl.setAttribute('aria-checked', on ? 'true' : 'false');
        if(!on){
          els.inflRate.value = '';
          els.inflError.textContent = '';
          els.inflRate.setAttribute('aria-invalid', 'false');
        }
        compute();
      });

      // Validation helpers
      function err(el, msgEl, msg){
        if(!el || !msgEl) return false;
        el.setAttribute('aria-invalid','true');
        msgEl.textContent = msg;
        return false;
      }
      function ok(el, msgEl){
        if(!el || !msgEl) return true;
        el.setAttribute('aria-invalid','false');
        msgEl.textContent = '';
        return true;
      }
      function parsePct(input){
        const v = Number(input.value);
        return isFinite(v) ? v / 100 : NaN;
      }
      function parseNum(input){
        const v = Number(input.value);
        return isFinite(v) ? v : NaN;
      }

      // Field validations (on blur)
      function validateLump(){
        let valid = true;
        const fv = parseNum(els.fv);
        if(!(fv >= 0)) valid = err(els.fv, els.fvError, 'Enter a valid future value (zero or positive).'); else ok(els.fv, els.fvError);

        const r = parsePct(els.rate);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rate, els.rateError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rate, els.rateError);

        const t = parseNum(els.years);
        if(!(t >= 0)) valid = err(els.years, els.yearsError, 'Enter a valid number of years (zero or more).'); else ok(els.years, els.yearsError);

        return valid;
      }
      function validateAnnuity(){
        let valid = true;
        const p = parseNum(els.payment);
        if(!(p >= 0)) valid = err(els.payment, els.paymentError, 'Enter a valid payment (zero or positive).'); else ok(els.payment, els.paymentError);

        const r = parsePct(els.rateA);
        if(!isFinite(r) || r <= -0.9999 || r > 10) valid = err(els.rateA, els.rateAError, 'Enter a rate between -99.99% and 1000%.'); else ok(els.rateA, els.rateAError);

        const t = parseNum(els.yearsA);
        if(!(t >= 0)) valid = err(els.yearsA, els.yearsAError, 'Enter a valid number of years (zero or more).'); else ok(els.yearsA, els.yearsAError);

        return valid;
      }
      function validateInflation(){
        if(!els.useInfl.checked) return true;
        const i = parsePct(els.inflRate);
        if(!isFinite(i) || i <= -0.9999 || i > 10) return err(els.inflRate, els.inflError, 'Enter inflation between -99.99% and 1000%.');
        return ok(els.inflRate, els.inflError);
      }

      // Attach blur validators
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(!node) return;
        node.addEventListener('blur', ()=>{ compute(); });
      });

      // Compute
      function currencyFormatter(code){
        try{
          return new Intl.NumberFormat(undefined, {style:'currency',currency:code,maximumFractionDigits:2});
        }catch(e){
          return new Intl.NumberFormat(undefined, {style:'currency',currency:'USD',maximumFractionDigits:2});
        }
      }

      function formatPct(x){
        if(!isFinite(x)) return '—';
        return (x*100).toFixed(4) + '%';
      }
      function formatNum(x, digits=6){
        if(!isFinite(x)) return '—';
        return Number(x).toFixed(digits);
      }

      function getTiming(){
        return Array.from(els.timing).find(r=>r.checked)?.value || 'end';
      }

      function compute(){
        clearNote();
        const code = els.currency.value;
        const fmt = currencyFormatter(code);
        const comp = els.compounding.value;
        const isCont = comp === 'cont';
        const m = isCont ? null : Number(comp);

        const type = document.getElementById('typeLump').checked ? 'lump' : 'annuity';

        // Validate inputs
        let valid = true;
        if(type === 'lump') valid = validateLump() && valid;
        else valid = validateAnnuity() && valid;
        valid = validateInflation() && valid;

        if(!valid){
          showOutputs('—','—','—','—',null, 'Fix highlighted fields to see results.');
          return;
        }

        // Shared helpers
        const inflationOn = els.useInfl.checked;
        const i = inflationOn ? parsePct(els.inflRate) : 0;

        if(type === 'lump'){
          const FV = parseNum(els.fv);
          const r = parsePct(els.rate);
          const t = parseNum(els.years);

          let PV, df, rp, n;
          if(isCont){
            PV = FV * Math.exp(-r * t);
            df = PV / FV;
            rp = r; // for display treat as continuous rate per year
            n = t;  // display years for continuous
          }else{
            const r_p = r / m;
            const n_per = m * t;
            PV = FV / Math.pow(1 + r_p, n_per);
            df = PV / FV;
            rp = r_p;
            n = n_per;
          }

          // Real PV
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              realPV = FV * Math.exp(-rReal * t);
            }else{
              const r_p_real = rReal / m;
              realPV = FV / Math.pow(1 + r_p_real, m * t);
            }
          }

          showOutputs(fmt.format(PV), df, n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          addNote(isCont ? 'Continuous compounding.' : `Compounding: ${m}×/year.`);
        } else {
          const P = parseNum(els.payment);
          const r = parsePct(els.rateA);
          const t = parseNum(els.yearsA);
          const timing = getTiming();

          let PV, rp, n;
          if(isCont){
            // For annuities, continuous compounding isn't standard for discrete payments.
            // We approximate by discounting each payment continuously at times k/m.
            const mDisc = 12; // use 12 as a practical discrete payment count unless user changes compounding; but comp is 'cont' -> we'll approximate monthly payments if time*12 is integer, else integrate
            const periods = Math.max(1, Math.round(t * mDisc));
            n = periods;
            const dt = t / periods;
            let sum = 0;
            for(let k=1;k<=periods;k++){
              const time = (timing === 'begin') ? (k-1)*dt : k*dt;
              sum += P * Math.exp(-r * time);
            }
            PV = sum;
            rp = r; // display
            addNote('Approximation: discrete payments discounted with continuous rate.');
          }else{
            rp = r / m;
            n = m * t;
            if (Math.abs(rp) < 1e-12){
              PV = P * n;
            }else{
              let factor = (1 - Math.pow(1 + rp, -n)) / rp;
              if(timing === 'begin') factor *= (1 + rp);
              PV = P * factor;
            }
          }

          // Real PV for annuity
          let realPV = null;
          if(inflationOn){
            const rReal = (1 + r) / (1 + i) - 1;
            if(isCont){
              // same approximation as above with real rate
              const mDisc = 12;
              const periods = Math.max(1, Math.round(t * mDisc));
              const dt = t / periods;
              let sum = 0;
              for(let k=1;k<=periods;k++){
                const time = (timing === 'begin') ? (k-1)*dt : k*dt;
                sum += P * Math.exp(-rReal * time);
              }
              realPV = sum;
            }else{
              const rpReal = rReal / m;
              if (Math.abs(rpReal) < 1e-12){
                realPV = P * n;
              }else{
                let factor = (1 - Math.pow(1 + rpReal, -n)) / rpReal;
                if(timing === 'begin') factor *= (1 + rpReal);
                realPV = P * factor;
              }
            }
          }

          const fmt = currencyFormatter(els.currency.value);
          showOutputs(fmt.format(PV), '—', n, isCont ? (formatPct(r) + ' (cont)') : formatPct(rp), realPV ? fmt.format(realPV) : null);
          if(!isCont) addNote(`Compounding: ${m}×/year; timing: ${timing}.`);
        }
      }

      function showOutputs(pv, df, n, rp, realPv=null, note=null){
        els.pvOut.textContent = pv;
        els.dfOut.textContent = (typeof df === 'number') ? formatNum(df, 6) : df;
        els.nOut.textContent = (typeof n === 'number') ? (Number.isInteger(n) ? String(n) : formatNum(n, 2)) : n;
        els.rpOut.textContent = rp;
        if(realPv !== null){
          els.realRow.hidden = false;
          els.realPvOut.textContent = realPv;
        } else {
          els.realRow.hidden = true;
          els.realPvOut.textContent = '—';
        }
        if(note) els.notesOut.textContent = note;
      }
      function clearNote(){ els.notesOut.textContent = '—'; }
      function addNote(msg){ els.notesOut.textContent = msg; }

      // Events
      document.getElementById('compounding').addEventListener('change', ()=>compute());
      document.getElementById('currency').addEventListener('change', ()=>compute());
      ['fv','rate','years','payment','rateA','yearsA','inflRate'].forEach(id=>{
        const node = document.getElementById(id);
        if(node) node.addEventListener('input', ()=>compute());
      });
      Array.from(els.timing).forEach(r=>r.addEventListener('change', ()=>compute()));
      els.calcBtn.addEventListener('click', compute);

      els.resetBtn.addEventListener('click', ()=>{
        setDefaults();
        updateType();
        compute();
        // Move focus to first field for better UX
        (document.getElementById('typeLump').checked ? els.fv : els.payment).focus();
      });

      // Initialize
      setDefaults();
      updateType();
      compute();
    })();
  </script><script defer="" src="/assets/js/mobile-menu.js"></script><script defer="" src="/assets/js/page-enhancements.js"></script></body></html>