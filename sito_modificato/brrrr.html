<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/brrrr">
    <title>BRRRR Method Calculator | Finance Tools</title>
    <meta name="description" content="Calculate your real estate investment returns using the BRRRR method with our advanced, accessible, and mobile-friendly calculator.">
    <meta name="author" content="Ugo Candido">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .prose table { width: 100%; border-collapse: collapse; margin-top: 1em; margin-bottom: 1em; }
        .prose th, .prose td { border: 1px solid #e5e7eb; padding: 0.5rem 0.75rem; text-align: left; }
        .prose thead th { background-color: #f9fafb; font-weight: 600; }
        .prose tr:nth-child(even) { background-color: #f9fafb; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; font-family: monospace; }
        .calc-input { width: 100%; padding: 0.625rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem; font-size: 0.9375rem; }
        .calc-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); }
        .calc-label { display: block; font-size: 0.8125rem; font-weight: 600; color: #6b7280; margin-bottom: 0.375rem; }
        .result-box { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 1px solid #bfdbfe; border-radius: 0.75rem; padding: 1.5rem; text-align: center; }
        .result-value { font-size: 2.5rem; font-weight: 800; color: #1e40af; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.625rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.875rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #6b7280; }
        .kpi-value { font-weight: 700; color: #111827; }
        .btn-primary { display: block; width: 100%; background: #2563eb; color: white; padding: 0.75rem; border: none; border-radius: 0.5rem; font-weight: 700; cursor: pointer; transition: background 0.2s; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { display: block; width: 100%; background: white; color: #374151; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-secondary:hover { background: #f9fafb; }
        .alert-error { display: none; padding: 0.75rem; margin-bottom: 1rem; background: #fef2f2; border-left: 4px solid #dc2626; color: #991b1b; border-radius: 0.375rem; font-size: 0.875rem; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
        .schedule-table th, .schedule-table td { padding: 0.75rem; border-bottom: 1px solid #e5e7eb; text-align: left; white-space: nowrap; }
        .schedule-table th { background: #f1f5f9; font-weight: 700; color: #6b7280; font-size: 0.75rem; text-transform: uppercase; }
        .schedule-table tr:nth-child(even) td { background: #fafafa; }
        .optional-section { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem; }
        .sub { font-size: 1.125rem; }
    </style>
  </head>
<body class="bg-gray-50 text-gray-800">
    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">BRRRR Method Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">BRRRR Method Calculator</h1>
        <p id="pageSub" class="sub text-lg text-gray-600">
          Calculate your real estate investment returns using the BRRRR method with an accessible calculator that keeps the numbers transparent.
        </p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div id="calculator-ui" class="bg-gray-50 p-6 rounded-lg border border-gray-200">
            <h3 class="text-lg font-bold text-gray-700 mb-4 mt-0">Investment Inputs</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="propertyPrice" class="calc-label">Property Price ($)</label>
                <input id="propertyPrice" type="number" class="calc-input" value="150000" step="0.01" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="rehabCost" class="calc-label">Rehab Cost ($)</label>
                <input id="rehabCost" type="number" class="calc-input" value="30000" step="0.01" min="0" inputmode="decimal">
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
              <div>
                <label for="rentalIncome" class="calc-label">Monthly Rental Income ($)</label>
                <input id="rentalIncome" type="number" class="calc-input" value="1500" step="0.01" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="refinanceAmount" class="calc-label">Refinance Amount ($)</label>
                <input id="refinanceAmount" type="number" class="calc-input" value="160000" step="0.01" min="0" inputmode="decimal">
              </div>
            </div>

            <div class="flex gap-3 mt-6">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Projected ROI (Annual)</div>
            <div class="result-value" id="roiDisplay">0.00%</div>
          </div>

          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <div class="kpi-row">
              <span class="kpi-label">Total Cash Invested</span>
              <span class="kpi-value" id="totalCashInvested">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Monthly Cash Flow</span>
              <span class="kpi-value" id="monthlyCashFlow">$0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Annual Cash Flow</span>
              <span class="kpi-value" id="annualCashFlow">$0.00</span>
            </div>
          </div>
        </section>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 mt-10">
        <section class="w-full lg:w-2/3 space-y-8">
          <section class="card content-card space-y-6" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>The BRRRR (Buy, Rehab, Rent, Refinance, Repeat) method calculator helps you understand how upfront investments stack up against rental cash flow and refinance proceeds. Enter the purchase price, rehab budget, rental income, and refinance target to see your estimated cash flow and return on investment.</p>

            <h2 class="text-2xl font-semibold mt-6">Methodology</h2>
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
              <p>All calculations rely on simple cash-flow math. Total cash invested is the sum of acquisition price plus rehab expenses. Annual cash flow multiplies the monthly rent by twelve and deducts an assumed refinance cost set at 4% of the refinance amount to reflect fees and closing costs.</p>
            </div>
            <ul class="list-disc pl-5 mt-4 space-y-2 text-gray-700">
              <li>ROI is expressed annually: annual cash flow divided by total cash invested, multiplied by 100.</li>
              <li>Negative cash flow or refinance fees larger than monthly income will produce negative ROI, signaling a revisit of assumptions.</li>
              <li>Inputs update instantly when you hit Calculate or adjust any field; the calculator prevents invalid values and keeps the display free of NaN/Infinity.</li>
            </ul>

            <section>
              <h3 class="text-xl font-semibold mb-2">Data Source and Guidance</h3>
              <p>Algebraic formulas stem from standard real estate investment analysis, and the calculator keeps the assumptions transparent so you can verify every number before sharing it with partners or lenders.</p>
            </section>

            <section>
              <h3 class="text-xl font-semibold mb-2">Glossary of Variables</h3>
              <ul class="list-disc pl-5 space-y-1 text-gray-700">
                <li><strong>Property Price:</strong> Purchase price of the investment property.</li>
                <li><strong>Rehab Cost:</strong> Renovation and repair budget required before renting.</li>
                <li><strong>Rental Income:</strong> Monthly rent collected from tenants.</li>
                <li><strong>Refinance Amount:</strong> Cash-out or new loan amount used to pay off the purchase and rehab.</li>
              </ul>
            </section>

            <section>
              <h3 class="text-xl font-semibold mb-2">Example Scenario</h3>
              <p>Buying a property for $150,000 with $30,000 in rehab, renting it for $1,500/month, and refinancing for $160,000 yields the following inputs. Plug in your actual values to assess profitability before expanding your portfolio.</p>
            </section>

            <section>
              <h3 class="text-xl font-semibold mb-2">FAQ</h3>
              <h4 class="text-base font-semibold">What is the BRRRR method?</h4>
              <p>The BRRRR method is a five-step strategy focused on acquiring, renovating, renting, refinancing, and repeating with the same capital.</p>
              <h4 class="text-base font-semibold">How do I calculate ROI?</h4>
              <p>ROI equals annual cash flow divided by total cash invested, multiplied by 100 to convert to a percentage.</p>
              <h4 class="text-base font-semibold">What risks should I watch for?</h4>
              <p>Watch for higher rehab costs than expected, tenant vacancies, or refinance costs that outpace rental income.</p>
              <h4 class="text-base font-semibold">Is BRRRR suitable for every market?</h4>
              <p>Success depends on market rents, rehab timelines, and lending terms, so re-run the calculator with local data before committing.</p>
              <h4 class="text-base font-semibold">What is a good ROI?</h4>
              <p>While goals vary, a double-digit annual ROI typically signals a strong BRRRR opportunity after accounting for expenses.</p>
            </section>
          </section>

          <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <details id="formulaDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <p><strong>ROI:</strong> <span class="font-mono">ROI = (Annual Cash Flow / Total Cash Invested) × 100</span></p>
                <p class="mt-2"><strong>Annual Cash Flow:</strong> <span class="font-mono">(Monthly Rental Income × 12) − (Refinance Amount × 0.04)</span></p>
                <p class="mt-2"><strong>Total Cash Invested:</strong> <span class="font-mono">Property Price + Rehab Cost</span></p>
              </div>
            </details>

            <details class="mt-3" id="citationDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <p><strong>NIST — Weights and Measures:</strong> <a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.nist.gov/pml/weights-and-measures</a> (Accessed 2026-01-19)</p>
                <p class="mt-2"><strong>FTC — Consumer Advice:</strong> <a href="https://consumer.ftc.gov/" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://consumer.ftc.gov/</a> (Accessed 2026-01-19)</p>
              </div>
            </details>

            <details class="mt-3" id="changelogDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <ul class="list-disc list-inside">
                  <li>0.1.0-draft — Initial audit spec draft generated from HTML extraction. Review and refinement pending (2026-01-19).</li>
                </ul>
              </div>
            </details>

            <div class="flex gap-2 mt-4 flex-wrap">
              <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
                <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
              </span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
            </div>
          
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
        </section>

        <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-8">
            <div id="sidebar-ad-placeholder-top"></div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-lg mb-4">Related Calculators</h3>
              <ul class="space-y-3">
                <li><a href="https://calcdomain.com/house-affordability" class="text-blue-600 hover:underline">House Affordability Calculator</a></li>
                <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-blue-600 hover:underline">Auto Loan Calculator</a></li>
                <li><a href="https://calcdomain.com/loan-payoff" class="text-blue-600 hover:underline">Loan Payoff Calculator</a></li>
                <li><a href="https://calcdomain.com/refinance-calculator" class="text-blue-600 hover:underline">Refinance Calculator</a></li>
                <li><a href="https://calcdomain.com/amortization-calculator" class="text-blue-600 hover:underline">Amortization Calculator</a></li>
                <li><a href="https://calcdomain.com/compound-interest" class="text-blue-600 hover:underline">Compound Interest Calculator</a></li>
              </ul>
            </div>
          </div>
        </aside>
      </div>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      (function() {
        'use strict';

        const DEFAULTS = {
          propertyPrice: 150000,
          rehabCost: 30000,
          rentalIncome: 1500,
          refinanceAmount: 160000
        };

        const els = {
          propertyPrice: document.getElementById('propertyPrice'),
          rehabCost: document.getElementById('rehabCost'),
          rentalIncome: document.getElementById('rentalIncome'),
          refinanceAmount: document.getElementById('refinanceAmount'),
          roiDisplay: document.getElementById('roiDisplay'),
          totalCashInvested: document.getElementById('totalCashInvested'),
          monthlyCashFlow: document.getElementById('monthlyCashFlow'),
          annualCashFlow: document.getElementById('annualCashFlow'),
          errorBox: document.getElementById('errorBox'),
          calcBtn: document.getElementById('calcBtn'),
          resetBtn: document.getElementById('resetBtn')
        };

        const debounce = (fn, delay = 100) => {
          let timer;
          return (...args) => {
            clearTimeout(timer);
            timer = setTimeout(() => fn(...args), delay);
          };
        };

        const round2 = (value) => {
          return Math.round((Number(value) + Number.EPSILON) * 100) / 100;
        };

        const safeCurrency = (value) => {
          const safe = Number.isFinite(value) ? value : 0;
          return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 2 }).format(safe);
        };

        function parseInputs() {
          return {
            propertyPrice: parseFloat(els.propertyPrice.value) || 0,
            rehabCost: parseFloat(els.rehabCost.value) || 0,
            rentalIncome: parseFloat(els.rentalIncome.value) || 0,
            refinanceAmount: parseFloat(els.refinanceAmount.value) || 0
          };
        }

        function validate(inputs) {
          const errors = [];
          if (!Number.isFinite(inputs.propertyPrice) || inputs.propertyPrice <= 0) {
            errors.push('Property price must be greater than 0.');
          }
          if (!Number.isFinite(inputs.rehabCost) || inputs.rehabCost < 0) {
            errors.push('Rehab cost must be 0 or greater.');
          }
          if (!Number.isFinite(inputs.rentalIncome) || inputs.rentalIncome < 0) {
            errors.push('Rental income must be 0 or greater.');
          }
          if (!Number.isFinite(inputs.refinanceAmount) || inputs.refinanceAmount < 0) {
            errors.push('Refinance amount must be 0 or greater.');
          }
          const totalInvestment = inputs.propertyPrice + inputs.rehabCost;
          if (!Number.isFinite(totalInvestment) || totalInvestment <= 0) {
            errors.push('Total cash invested must be greater than 0.');
          }
          return { ok: errors.length === 0, errors };
        }

        function compute(inputs) {
          const totalCashInvested = inputs.propertyPrice + inputs.rehabCost;
          const annualCashFlow = (inputs.rentalIncome * 12) - (inputs.refinanceAmount * 0.04);
          const monthlyCashFlow = annualCashFlow / 12;
          const roi = totalCashInvested === 0 ? 0 : (annualCashFlow / totalCashInvested) * 100;
          return {
            totalCashInvested: round2(totalCashInvested),
            annualCashFlow: round2(annualCashFlow),
            monthlyCashFlow: round2(monthlyCashFlow),
            roi: round2(roi)
          };
        }

        function format(outputs) {
          return {
            roi: Number.isFinite(outputs.roi) ? `${outputs.roi.toFixed(2)}%` : '0.00%',
            totalCashInvested: safeCurrency(outputs.totalCashInvested),
            monthlyCashFlow: safeCurrency(outputs.monthlyCashFlow),
            annualCashFlow: safeCurrency(outputs.annualCashFlow)
          };
        }

        function render(formatted, errors) {
          if (errors && errors.length) {
            els.errorBox.style.display = 'block';
            els.errorBox.textContent = errors.join(' ');
          } else {
            els.errorBox.style.display = 'none';
            els.errorBox.textContent = '';
          }
          if (formatted) {
            els.roiDisplay.textContent = formatted.roi;
            els.totalCashInvested.textContent = formatted.totalCashInvested;
            els.monthlyCashFlow.textContent = formatted.monthlyCashFlow;
            els.annualCashFlow.textContent = formatted.annualCashFlow;
          }
        }

        function update() {
          const inputs = parseInputs();
          const validation = validate(inputs);
          if (!validation.ok) {
            render(null, validation.errors);
            return;
          }
          const outputs = compute(inputs);
          render(format(outputs), []);
        }

        Object.values(els).forEach((el) => {
          if (el && el.tagName === 'INPUT') {
            el.addEventListener('input', debouncedUpdate);
            el.addEventListener('change', debouncedUpdate);
          }
        });

        els.calcBtn.addEventListener('click', update);
        els.resetBtn.addEventListener('click', () => {
          els.propertyPrice.value = DEFAULTS.propertyPrice;
          els.rehabCost.value = DEFAULTS.rehabCost;
          els.rentalIncome.value = DEFAULTS.rentalIncome;
          els.refinanceAmount.value = DEFAULTS.refinanceAmount;
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

          update();
        });

        update();
      })();
    </script>
</body></html>
