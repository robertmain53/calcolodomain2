<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/position-size" />
    <title>Position Size Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Position Size Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Position Size Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Position Size Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/position-size" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Position Size Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Position Size Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "International Personal Finance", "item": "https://calcdomain.com/subcategories/finance-international-personal"}, {"@type": "ListItem", "position": 4, "name": "Position Size Calculator", "item": "https://calcdomain.com/position-size"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-international-personal" class="text-blue-600 hover:underline">International Personal Finance</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Position Size Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">Position Size Calculator</h1>
              <p class="text-gray-600">
                Calculate optimal position size for forex, stocks and crypto
                based on your account size, risk per trade and stop loss.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="position-size-calculator" class="mb-8">
              <h2
                id="position-size-calculator"
                class="text-xl font-semibold mb-4"
              >
                Position Size Calculator
              </h2>

              <!-- Instrument type toggle -->
              <div class="mb-4">
                <span class="block text-sm font-medium text-gray-700 mb-1"
                  >Instrument type</span
                >
                <div
                  class="inline-flex rounded-md shadow-sm border border-gray-200 overflow-hidden"
                  role="group"
                >
                  <button
                    type="button"
                    data-instrument="forex"
                    class="instrument-btn px-4 py-2 text-sm font-medium toggle-btn-active"
                  >
                    Forex
                  </button>
                  <button
                    type="button"
                    data-instrument="stocks"
                    class="instrument-btn px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"
                  >
                    Stocks
                  </button>
                  <button
                    type="button"
                    data-instrument="crypto"
                    class="instrument-btn px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"
                  >
                    Crypto
                  </button>
                </div>
              </div>

              <form id="positionSizeForm" class="space-y-4">
                <!-- Account & risk -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="accountCurrency"
                      class="block text-sm font-medium text-gray-700"
                      >Account currency</label
                    >
                    <select
                      id="accountCurrency"
                      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="USD">USD – US Dollar</option>
                      <option value="EUR">EUR – Euro</option>
                      <option value="GBP">GBP – British Pound</option>
                      <option value="JPY">JPY – Japanese Yen</option>
                      <option value="CHF">CHF – Swiss Franc</option>
                      <option value="AUD">AUD – Australian Dollar</option>
                      <option value="CAD">CAD – Canadian Dollar</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="accountSize"
                      class="block text-sm font-medium text-gray-700"
                      >Account size</label
                    >
                    <div class="mt-1 relative rounded-md shadow-sm">
                      <input
                        type="number"
                        id="accountSize"
                        min="0"
                        step="0.01"
                        value="10000"
                        class="block w-full pr-12 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                      />
                      <div
                        class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400"
                      >
                        <span id="accountCurrencySuffix">USD</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-end">
                  <div>
                    <label class="block text-sm font-medium text-gray-700"
                      >Risk mode</label
                    >
                    <div
                      class="mt-1 inline-flex rounded-md shadow-sm border border-gray-200 overflow-hidden"
                      role="group"
                    >
                      <button
                        type="button"
                        data-riskmode="percent"
                        class="riskmode-btn px-4 py-2 text-sm font-medium toggle-btn-active"
                      >
                        Risk %
                      </button>
                      <button
                        type="button"
                        data-riskmode="amount"
                        class="riskmode-btn px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"
                      >
                        Risk amount
                      </button>
                    </div>
                  </div>
                  <div id="riskPercentWrapper">
                    <label
                      for="riskPercent"
                      class="block text-sm font-medium text-gray-700"
                      >Risk per trade (%)</label
                    >
                    <div class="mt-1 relative rounded-md shadow-sm">
                      <input
                        type="number"
                        id="riskPercent"
                        min="0"
                        max="100"
                        step="0.1"
                        value="1"
                        class="block w-full pr-10 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                      />
                      <div
                        class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400"
                      >
                        %
                      </div>
                    </div>
                  </div>
                  <div id="riskAmountWrapper" class="hidden">
                    <label
                      for="riskAmount"
                      class="block text-sm font-medium text-gray-700"
                      >Risk amount</label
                    >
                    <div class="mt-1 relative rounded-md shadow-sm">
                      <input
                        type="number"
                        id="riskAmount"
                        min="0"
                        step="0.01"
                        value="100"
                        class="block w-full pr-12 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                      />
                      <div
                        class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400"
                      >
                        <span id="riskCurrencySuffix">USD</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Instrument-specific fields -->
                <div id="forexFields" class="space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="forexPair"
                        class="block text-sm font-medium text-gray-700"
                        >Forex pair</label
                      >
                      <select
                        id="forexPair"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="EURUSD">EUR/USD</option>
                        <option value="GBPUSD">GBP/USD</option>
                        <option value="USDJPY">USD/JPY</option>
                        <option value="AUDUSD">AUD/USD</option>
                        <option value="USDCAD">USD/CAD</option>
                        <option value="USDCHF">USD/CHF</option>
                        <option value="XAUUSD">XAU/USD (Gold)</option>
                      </select>
                    </div>
                    <div>
                      <label
                        for="pipValueMode"
                        class="block text-sm font-medium text-gray-700"
                        >Pip value mode</label
                      >
                      <select
                        id="pipValueMode"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="auto">Auto (standard lots)</option>
                        <option value="custom">Custom pip value</option>
                      </select>
                    </div>
                  </div>

                  <div
                    id="customPipValueWrapper"
                    class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden"
                  >
                    <div>
                      <label
                        for="customPipValue"
                        class="block text-sm font-medium text-gray-700"
                        >Pip value per lot (account currency)</label
                      >
                      <input
                        type="number"
                        id="customPipValue"
                        min="0"
                        step="0.01"
                        value="10"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="pipSize"
                        class="block text-sm font-medium text-gray-700"
                        >Pip size</label
                      >
                      <select
                        id="pipSize"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="0.0001">0.0001 (most FX pairs)</option>
                        <option value="0.01">0.01 (JPY pairs)</option>
                      </select>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                      <label
                        for="forexEntry"
                        class="block text-sm font-medium text-gray-700"
                        >Entry price</label
                      >
                      <input
                        type="number"
                        id="forexEntry"
                        step="0.00001"
                        value="1.1000"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="forexStop"
                        class="block text-sm font-medium text-gray-700"
                        >Stop loss price</label
                      >
                      <input
                        type="number"
                        id="forexStop"
                        step="0.00001"
                        value="1.0950"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="forexDirection"
                        class="block text-sm font-medium text-gray-700"
                        >Direction</label
                      >
                      <select
                        id="forexDirection"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="long">Long (buy)</option>
                        <option value="short">Short (sell)</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div id="stockFields" class="space-y-4 hidden">
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                      <label
                        for="stockSymbol"
                        class="block text-sm font-medium text-gray-700"
                        >Symbol</label
                      >
                      <input
                        type="text"
                        id="stockSymbol"
                        placeholder="AAPL"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="stockEntry"
                        class="block text-sm font-medium text-gray-700"
                        >Entry price</label
                      >
                      <input
                        type="number"
                        id="stockEntry"
                        min="0"
                        step="0.01"
                        value="100"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="stockStop"
                        class="block text-sm font-medium text-gray-700"
                        >Stop loss price</label
                      >
                      <input
                        type="number"
                        id="stockStop"
                        min="0"
                        step="0.01"
                        value="95"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                </div>

                <div id="cryptoFields" class="space-y-4 hidden">
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                      <label
                        for="cryptoSymbol"
                        class="block text-sm font-medium text-gray-700"
                        >Symbol</label
                      >
                      <input
                        type="text"
                        id="cryptoSymbol"
                        placeholder="BTCUSDT"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="cryptoEntry"
                        class="block text-sm font-medium text-gray-700"
                        >Entry price</label
                      >
                      <input
                        type="number"
                        id="cryptoEntry"
                        min="0"
                        step="0.01"
                        value="30000"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <div>
                      <label
                        for="cryptoStop"
                        class="block text-sm font-medium text-gray-700"
                        >Stop loss price</label
                      >
                      <input
                        type="number"
                        id="cryptoStop"
                        min="0"
                        step="0.01"
                        value="29000"
                        class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                  </div>
                </div>

                <!-- Advanced options -->
                <details
                  class="mt-4 border border-gray-200 rounded-md px-4 py-3"
                >
                  <summary
                    class="cursor-pointer text-sm font-medium text-gray-700"
                  >
                    Advanced options
                  </summary>
                  <div class="mt-3 space-y-3">
                    <div class="flex items-center">
                      <input
                        id="includeCommission"
                        type="checkbox"
                        class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                      />
                      <label
                        for="includeCommission"
                        class="ml-2 block text-sm text-gray-700"
                        >Include commission / fees in risk</label
                      >
                    </div>
                    <div
                      id="commissionFields"
                      class="grid grid-cols-1 md:grid-cols-3 gap-4 hidden"
                    >
                      <div>
                        <label
                          for="commissionPerUnit"
                          class="block text-sm font-medium text-gray-700"
                          >Commission per unit / share</label
                        >
                        <input
                          type="number"
                          id="commissionPerUnit"
                          min="0"
                          step="0.0001"
                          value="0"
                          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        />
                      </div>
                      <div>
                        <label
                          for="commissionPerTrade"
                          class="block text-sm font-medium text-gray-700"
                          >Commission per trade (fixed)</label
                        >
                        <input
                          type="number"
                          id="commissionPerTrade"
                          min="0"
                          step="0.01"
                          value="0"
                          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        />
                      </div>
                      <div>
                        <label
                          for="slippagePerUnit"
                          class="block text-sm font-medium text-gray-700"
                          >Expected slippage per unit</label
                        >
                        <input
                          type="number"
                          id="slippagePerUnit"
                          min="0"
                          step="0.0001"
                          value="0"
                          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        />
                      </div>
                    </div>
                  </div>
                </details>

                <div class="pt-4 flex flex-wrap items-center gap-3">
                  <button
                    type="button"
                    id="calculateBtn"
                    class="inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    Calculate position size
                  </button>
                  <button
                    type="reset"
                    id="resetBtn"
                    class="text-sm text-gray-600 hover:text-gray-800"
                  >
                    Reset
                  </button>
                  <p id="errorMessage" class="text-sm text-red-600 hidden"></p>
                </div>
              </form>

              <!-- Results -->
              <section
                id="resultsSection"
                class="mt-6 hidden"
                aria-live="polite"
              >
                <h3 class="text-lg font-semibold mb-3">Results</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-md p-4">
                    <p class="text-sm text-gray-600">
                      Recommended position size
                    </p>
                    <p
                      id="positionSizeText"
                      class="text-xl font-bold text-blue-700 mt-1"
                    >
                      –
                    </p>
                    <p
                      id="positionSizeDetail"
                      class="text-xs text-gray-600 mt-1"
                    >
                      Based on your risk and stop loss distance.
                    </p>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-4">
                    <p class="text-sm text-gray-600">Risk summary</p>
                    <ul class="mt-1 text-sm text-gray-700 space-y-1">
                      <li>
                        <span class="font-medium">Risk amount:</span>
                        <span id="riskAmountSummary">–</span>
                      </li>
                      <li>
                        <span class="font-medium">Stop distance:</span>
                        <span id="stopDistanceSummary">–</span>
                      </li>
                      <li>
                        <span class="font-medium">Risk per unit:</span>
                        <span id="riskPerUnitSummary">–</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this position size calculator works</h2>
              <p>
                Position sizing is one of the most important parts of risk
                management. This calculator helps you determine how many lots,
                units or shares to trade so that, if your stop loss is hit, you
                lose no more than your chosen risk per trade.
              </p>

              <h3>Core formula</h3>
              <div class="formula-box">
                <p><strong>General position size formula:</strong></p>
                <p>
                  $$\text{Position size} = \frac{\text{Risk amount per
                  trade}}{\text{Risk per unit}}$$
                </p>
                <p>where:</p>
                <ul>
                  <li>
                    <strong>Risk amount per trade</strong> = Account size × Risk
                    % (or a fixed amount you choose)
                  </li>
                  <li>
                    <strong>Risk per unit</strong> = |Entry price − Stop loss| ×
                    Value per point / pip / tick
                  </li>
                </ul>
              </div>

              <h3>Forex position sizing</h3>
              <p>
                For forex, risk per unit is based on the pip value. For a
                standard lot (100,000 units) on most USD-quoted pairs, 1 pip ≈
                10&nbsp;USD. The calculator:
              </p>
              <ol>
                <li>
                  Computes the stop distance in pips from entry to stop loss.
                </li>
                <li>
                  Calculates the monetary risk per lot:
                  <em>stop distance × pip value per lot</em>.
                </li>
                <li>
                  Divides your risk amount by risk per lot to get the number of
                  lots.
                </li>
              </ol>

              <h3>Stocks and crypto</h3>
              <p>
                For stocks and crypto, the risk per unit is simply the price
                difference between entry and stop loss:
              </p>
              <div class="formula-box">
                <p>
                  $$\text{Position size (units)} = \frac{\text{Risk
                  amount}}{|\text{Entry} - \text{Stop}|}$$
                </p>
              </div>

              <h2>Example: 1% risk on a forex trade</h2>
              <p>
                Suppose you have a 10,000&nbsp;USD account and you want to risk
                1% on a EUR/USD long trade:
              </p>
              <ul>
                <li>Account size = 10,000&nbsp;USD</li>
                <li>Risk per trade = 1% = 100&nbsp;USD</li>
                <li>Entry = 1.1000, Stop loss = 1.0950 → 50 pips</li>
                <li>Pip value per standard lot ≈ 10&nbsp;USD</li>
              </ul>
              <p>
                Risk per lot = 50 pips × 10&nbsp;USD = 500&nbsp;USD.<br />
                Position size = 100 / 500 = 0.2 lots (20,000 units).
              </p>

              <h2>Best practices for position sizing</h2>
              <ul>
                <li>
                  Keep risk per trade small (often 0.5–2% of account equity).
                </li>
                <li>Always set a stop loss before entering the trade.</li>
                <li>
                  Adjust position size when volatility changes (wider stops →
                  smaller size).
                </li>
                <li>
                  Consider commissions and slippage, especially for short-term
                  strategies.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>What is position sizing?</h3>
              <p>
                Position sizing is the process of deciding how large your trade
                should be so that the potential loss at your stop loss level
                matches your predefined risk per trade. It connects your
                strategy to your risk management.
              </p>

              <h3>How much should I risk per trade?</h3>
              <p>
                Many traders use 1% risk per trade as a starting point.
                Aggressive traders might use up to 2%, while very conservative
                traders may use 0.25–0.5%. The key is consistency and keeping
                your maximum drawdown within a level you can tolerate
                psychologically and financially.
              </p>

              <h3>Does leverage change the position size?</h3>
              <p>
                Leverage changes the margin required to open a position, but it
                does not change the optimal position size from a risk
                perspective. Your position size should be based on risk amount
                and stop loss distance, not on the maximum size your broker
                allows.
              </p>

              <h3>
                Can I use this calculator for day trading and swing trading?
              </h3>
              <p>
                Yes. The formulas are the same for any timeframe. Only your stop
                loss distance and preferred risk per trade will typically differ
                between day trading, swing trading and longer-term investing.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/what-is-stamp-duty" class="text-blue-600 hover:underline">What Is Stamp Duty? UK Stamp Duty Land Tax (SDLT) Explained</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/uk-and-europe-taxes" class="text-blue-600 hover:underline">UK and Europe Taxes Calculator &amp; Comparison Tool</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/gst-hst" class="text-blue-600 hover:underline">GST/HST Calculator for Canada</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/dc-income-tax" class="text-blue-600 hover:underline">DC Income Tax Calculator (District of Columbia)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/missouri-income-tax" class="text-blue-600 hover:underline">Missouri Income Tax Calculator (2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/north-carolina-income-tax" class="text-blue-600 hover:underline">North Carolina Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/georgia-income-tax" class="text-blue-600 hover:underline">Georgia Income Tax Calculator (State) – 2025-2026</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/maryland-county-income-tax" class="text-blue-600 hover:underline">Maryland County Income Tax Calculator (2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pestle-analysis-generator" class="text-blue-600 hover:underline">PESTLE Analysis Generator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/new-jersey-income-tax" class="text-blue-600 hover:underline">New Jersey Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/illinois-income-tax" class="text-blue-600 hover:underline">Illinois Income Tax Calculator (State &amp; Local) 2024-2025</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/office-space" class="text-blue-600 hover:underline">Office Space Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/alabama-local-sales-tax" class="text-blue-600 hover:underline">Alabama Local Sales Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/put-call-parity" class="text-blue-600 hover:underline">Put-Call Parity Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/precedent-transaction-analysis" class="text-blue-600 hover:underline">Precedent Transaction Analysis Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/safety-stock" class="text-blue-600 hover:underline">Safety Stock Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/commercial-real-estate" class="text-blue-600 hover:underline">Commercial Real Estate Deal Analyzer</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pro-forma-income-statement" class="text-blue-600 hover:underline">Pro Forma Income Statement Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/forex" class="text-blue-600 hover:underline">Forex Position Size &amp; P/L Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/days-of-inventory-on-hand" class="text-blue-600 hover:underline">Days of Inventory on Hand (DOH) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/margin" class="text-blue-600 hover:underline">Margin Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/cpm-calculator" class="text-blue-600 hover:underline">CPM Calculator (Cost Per 1,000 Impressions)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/real-estate-development" class="text-blue-600 hover:underline">Real Estate Development Feasibility Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/unsecured-loan-calculator" class="text-blue-600 hover:underline">Unsecured Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/title-loan-calculator" class="text-blue-600 hover:underline">Title Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/sba-loan-calculator" class="text-blue-600 hover:underline">SBA Loan Calculator (7(a) &amp; 504)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/cd" class="text-blue-600 hover:underline">CD Calculator (Certificate of Deposit)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/secured-loan-calculator" class="text-blue-600 hover:underline">Secured Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/social-security-break-even" class="text-blue-600 hover:underline">Social Security Break-Even Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/peer-to-peer-loan-calculator" class="text-blue-600 hover:underline">Peer to Peer Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/present-value-of-annuity" class="text-blue-600 hover:underline">Present Value of Annuity Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/boat-loan-calculator" class="text-blue-600 hover:underline">Boat Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/lumpsum-calculator" class="text-blue-600 hover:underline">Lumpsum Calculator – One-Time Investment Return & Goal Planner</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/bridge-loan-calculator" class="text-blue-600 hover:underline">Bridge Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/arm" class="text-blue-600 hover:underline">Adjustable-Rate Mortgage (ARM) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/grm" class="text-blue-600 hover:underline">Gross Rent Multiplier (GRM) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/mortgage-points" class="text-blue-600 hover:underline">Mortgage Points Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/student-loan-payoff" class="text-blue-600 hover:underline">Student Loan Payoff Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/canadian-mortgage" class="text-blue-600 hover:underline">Canadian Mortgage Calculator (CMHC, Stress Test & Amortization)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/church-tax-germany" class="text-blue-600 hover:underline">German Church Tax (Kirchensteuer) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/reorder-point" class="text-blue-600 hover:underline">Reorder Point Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pei-tax" class="text-blue-600 hover:underline">PEI Tax Calculator 2025 – Prince Edward Island Provincial Income Tax</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/nunavut-tax" class="text-blue-600 hover:underline">Nunavut Tax Calculator 2025</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/kentucky-occupational-tax" class="text-blue-600 hover:underline">Kentucky Occupational Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/wisconsin-income-tax" class="text-blue-600 hover:underline">Wisconsin Income Tax Calculator (2024‑2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/louisiana-local-sales-tax" class="text-blue-600 hover:underline">Louisiana Local Sales Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/michigan-income-tax" class="text-blue-600 hover:underline">Michigan Income Tax Calculator (State & Local)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pivot-point" class="text-blue-600 hover:underline">Pivot Point Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/texas-sales-tax" class="text-blue-600 hover:underline">Texas Sales Tax Calculator (State + Local)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/arizona-income-tax" class="text-blue-600 hover:underline">Arizona Income Tax Calculator (AZ) 2024-2025</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/virginia-income-tax" class="text-blue-600 hover:underline">Virginia Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pa-local-income-tax" class="text-blue-600 hover:underline">Pennsylvania Local Income Tax (EIT) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/oregon-local-income-tax" class="text-blue-600 hover:underline">Oregon Local Income Tax Calculator (Portland Metro &amp; Multnomah)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/utah-income-tax" class="text-blue-600 hover:underline">Utah Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/cash-secured-put" class="text-blue-600 hover:underline">Cash-Secured Put Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/indiana-income-tax" class="text-blue-600 hover:underline">Indiana Income Tax Calculator (State & County) 2024–2025</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/bond-yield" class="text-blue-600 hover:underline">Bond Yield Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/washington-local-sales-tax" class="text-blue-600 hover:underline">Washington Local Sales Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/montana-income-tax" class="text-blue-600 hover:underline">Montana Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/new-hampshire-income-tax" class="text-blue-600 hover:underline">New Hampshire Income Tax Calculator (Interest &amp; Dividends)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/iowa-income-tax" class="text-blue-600 hover:underline">Iowa Income Tax Calculator (2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/pecking-order-theory" class="text-blue-600 hover:underline">Pecking Order Theory Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/ohio-income-tax" class="text-blue-600 hover:underline">Ohio Income Tax Calculator (State & Local)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/south-dakota-income-tax" class="text-blue-600 hover:underline">South Dakota Income Tax Calculator (No State Income Tax)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/nevada-income-tax" class="text-blue-600 hover:underline">Nevada Income Tax Calculator 2025</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/minnesota-income-tax" class="text-blue-600 hover:underline">Minnesota Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/alabama-income-tax" class="text-blue-600 hover:underline">Alabama Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/north-dakota-income-tax" class="text-blue-600 hover:underline">North Dakota Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/fibonacci-retracement" class="text-blue-600 hover:underline">Fibonacci Retracement Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/alaska-income-tax" class="text-blue-600 hover:underline">Alaska Income Tax Guide & Total Tax Burden Estimator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/georgia-local-sales-tax" class="text-blue-600 hover:underline">Georgia Local Sales Tax Calculator (LOST, SPLOST, ESPLOST, TSPLOST)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/louisiana-income-tax" class="text-blue-600 hover:underline">Louisiana Income Tax Calculator (2025-2026)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/wyoming-income-tax" class="text-blue-600 hover:underline">Wyoming Income Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/idaho-income-tax" class="text-blue-600 hover:underline">Idaho Income Tax Calculator (2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/vermont-income-tax" class="text-blue-600 hover:underline">Vermont Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/michigan-city-income-tax" class="text-blue-600 hover:underline">Michigan City Income Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/nyc-income-tax" class="text-blue-600 hover:underline">NYC Income Tax Calculator (New York City &amp; State)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/new-mexico-income-tax" class="text-blue-600 hover:underline">New Mexico Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/lease-vs-buy-equipment" class="text-blue-600 hover:underline">Lease vs Buy Equipment Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/tennessee-income-tax" class="text-blue-600 hover:underline">Tennessee Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/human-capital-roi" class="text-blue-600 hover:underline">Human Capital ROI Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/rhode-island-income-tax" class="text-blue-600 hover:underline">Rhode Island Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/mississippi-income-tax" class="text-blue-600 hover:underline">Mississippi Income Tax Calculator (2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/nebraska-income-tax" class="text-blue-600 hover:underline">Nebraska Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/missouri-local-earnings-tax" class="text-blue-600 hover:underline">Missouri Local Earnings Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/kentucky-income-tax" class="text-blue-600 hover:underline">Kentucky Income Tax Calculator (2025-2026)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/new-jersey-local-payroll-tax" class="text-blue-600 hover:underline">New Jersey Local Payroll Tax Calculator (2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/maine-income-tax" class="text-blue-600 hover:underline">Maine Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/massachusetts-income-tax" class="text-blue-600 hover:underline">Massachusetts Income Tax Calculator (2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/connecticut-income-tax" class="text-blue-600 hover:underline">Connecticut Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/arkansas-income-tax" class="text-blue-600 hover:underline">Arkansas Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/delaware-income-tax" class="text-blue-600 hover:underline">Delaware Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/oklahoma-income-tax" class="text-blue-600 hover:underline">Oklahoma Income Tax Calculator (Estimate 2025 OK State Tax)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/kansas-income-tax" class="text-blue-600 hover:underline">Kansas Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/takt-time" class="text-blue-600 hover:underline">Takt Time Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/west-virginia-income-tax" class="text-blue-600 hover:underline">West Virginia Income Tax Calculator (2024-2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/illinois-sales-tax" class="text-blue-600 hover:underline">Illinois Sales Tax Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/1031-exchange" class="text-blue-600 hover:underline">1031 Exchange Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/total-asset-turnover" class="text-blue-600 hover:underline">Total Asset Turnover Ratio Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/walter-model-dividend" class="text-blue-600 hover:underline">Walter Model Dividend Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/sustainable-growth-rate" class="text-blue-600 hover:underline">Sustainable Growth Rate (SGR) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/churn-rate" class="text-blue-600 hover:underline">Churn Rate Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/average-down" class="text-blue-600 hover:underline">Average Down Stock Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/hhi" class="text-blue-600 hover:underline">Herfindahl–Hirschman Index (HHI) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/commercial-lease" class="text-blue-600 hover:underline">Commercial Lease Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/ltv" class="text-blue-600 hover:underline">Loan-to-Value (LTV) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/brrrr" class="text-blue-600 hover:underline">BRRRR Method Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/credit-rating-model" class="text-blue-600 hover:underline">Credit Rating Model Calculator (Altman Z-Score &amp; PD)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/capital-structure-optimization" class="text-blue-600 hover:underline">Capital Structure Optimization Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/eva" class="text-blue-600 hover:underline">Economic Value Added (EVA) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/days-payables-outstanding" class="text-blue-600 hover:underline">Days Payables Outstanding (DPO) Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/sales-funnel" class="text-blue-600 hover:underline">Sales Funnel Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/how-much-house-can-i-afford" class="text-blue-600 hover:underline">How Much House Can I Afford?</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/gift-tax" class="text-blue-600 hover:underline">Gift Tax Calculator (U.S. 2024–2025)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/w4-withholding" class="text-blue-600 hover:underline">W-4 Withholding Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/529-vs-utma" class="text-blue-600 hover:underline">529 vs UTMA/UGMA Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/sipp" class="text-blue-600 hover:underline">SIPP Calculator (UK)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/mutual-fund-fee" class="text-blue-600 hover:underline">Mutual Fund Fee Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/construction-loan-calculator" class="text-blue-600 hover:underline">Construction Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/co-signer-loan-calculator" class="text-blue-600 hover:underline">Co-Signer Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/payday-loan-calculator" class="text-blue-600 hover:underline">Payday Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/business-loan" class="text-blue-600 hover:underline">Business Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/home-equity-loan-calculator" class="text-blue-600 hover:underline">Home Equity Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/hard-money-loan-calculator" class="text-blue-600 hover:underline">Hard Money Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/section-179" class="text-blue-600 hover:underline">Section 179 Deduction Calculator (with Bonus Depreciation)</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/installment-loan-calculator" class="text-blue-600 hover:underline">Installment Loan Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/heloc-calculator" class="text-blue-600 hover:underline">HELOC Calculator – Home Equity Line of Credit</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/traditional-ira-calculator" class="text-blue-600 hover:underline">Traditional IRA Calculator</a>.</p><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/iban-validator" class="text-blue-600 hover:underline">IBAN Validator &amp; Checker</a>.</p><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Position, Size.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More Finance Calculators</h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/risk-assessment-matrix"
                  class="text-blue-600 hover:underline"
                  >Risk Assessment Matrix</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beta"
                  class="text-blue-600 hover:underline"
                  >Beta Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/value-at-risk"
                  class="text-blue-600 hover:underline"
                  >Value at Risk (VaR)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/asset-allocation"
                  class="text-blue-600 hover:underline"
                  >Asset Allocation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/portfolio-standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Portfolio Standard Deviation</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Risk Management Guides</h2>
            <p class="text-sm text-gray-700 mb-2">
              Use this position size calculator together with these tools to
              build a robust trading plan:
            </p>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/stop-loss"
                  class="text-blue-600 hover:underline"
                  >Stop Loss & Take Profit (coming soon)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/kelly-criterion"
                  class="text-blue-600 hover:underline"
                  >Kelly Criterion</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/break-even-analysis"
                  class="text-blue-600 hover:underline"
                  >Break-Even Analysis</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Instrument toggle
      const instrumentButtons = document.querySelectorAll(".instrument-btn");
      const forexFields = document.getElementById("forexFields");
      const stockFields = document.getElementById("stockFields");
      const cryptoFields = document.getElementById("cryptoFields");

      instrumentButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          instrumentButtons.forEach((b) =>
            b.classList.remove("toggle-btn-active")
          );
          btn.classList.add("toggle-btn-active");
          const type = btn.dataset.instrument;
          forexFields.classList.toggle("hidden", type !== "forex");
          stockFields.classList.toggle("hidden", type !== "stocks");
          cryptoFields.classList.toggle("hidden", type !== "crypto");
        });
      });

      // Risk mode toggle
      const riskModeButtons = document.querySelectorAll(".riskmode-btn");
      const riskPercentWrapper = document.getElementById("riskPercentWrapper");
      const riskAmountWrapper = document.getElementById("riskAmountWrapper");

      riskModeButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          riskModeButtons.forEach((b) =>
            b.classList.remove("toggle-btn-active")
          );
          btn.classList.add("toggle-btn-active");
          const mode = btn.dataset.riskmode;
          if (mode === "percent") {
            riskPercentWrapper.classList.remove("hidden");
            riskAmountWrapper.classList.add("hidden");
          } else {
            riskPercentWrapper.classList.add("hidden");
            riskAmountWrapper.classList.remove("hidden");
          }
        });
      });

      // Account currency suffix sync
      const accountCurrencySelect = document.getElementById("accountCurrency");
      const accountCurrencySuffix = document.getElementById(
        "accountCurrencySuffix"
      );
      const riskCurrencySuffix = document.getElementById("riskCurrencySuffix");

      accountCurrencySelect.addEventListener("change", () => {
        const val = accountCurrencySelect.value;
        accountCurrencySuffix.textContent = val;
        riskCurrencySuffix.textContent = val;
      });

      // Pip value mode
      const pipValueMode = document.getElementById("pipValueMode");
      const customPipValueWrapper = document.getElementById(
        "customPipValueWrapper"
      );

      pipValueMode.addEventListener("change", () => {
        customPipValueWrapper.classList.toggle(
          "hidden",
          pipValueMode.value !== "custom"
        );
      });

      // Commission toggle
      const includeCommission = document.getElementById("includeCommission");
      const commissionFields = document.getElementById("commissionFields");
      includeCommission.addEventListener("change", () => {
        commissionFields.classList.toggle("hidden", !includeCommission.checked);
      });

      // Helper: get selected instrument type
      function getInstrumentType() {
        const active = document.querySelector(
          ".instrument-btn.toggle-btn-active"
        );
        return active ? active.dataset.instrument : "forex";
      }

      // Basic pip value approximation for standard lot in account currency
      function getApproxPipValuePerLot(pair, accountCurrency) {
        // Very simplified assumptions for offline calculator:
        // - For XXXUSD pairs: 1 pip per standard lot ≈ 10 account currency if accountCurrency = USD
        // - For USDXXX pairs: adjust roughly by price
        // - For XAUUSD: treat 0.10 USD per cent move per lot (rough)
        // For other currencies we assume near-1 conversion.
        if (pair === "XAUUSD") return 1.0; // 1 USD per "pip" (0.1) per lot (rough)
        if (pair.endsWith("USD")) {
          return 10.0;
        }
        if (pair.startsWith("USD")) {
          return 10.0; // approximation
        }
        return 10.0;
      }

      // Main calculation
      const calculateBtn = document.getElementById("calculateBtn");
      const resetBtn = document.getElementById("resetBtn");
      const errorMessage = document.getElementById("errorMessage");
      const resultsSection = document.getElementById("resultsSection");
      const positionSizeText = document.getElementById("positionSizeText");
      const positionSizeDetail = document.getElementById("positionSizeDetail");
      const riskAmountSummary = document.getElementById("riskAmountSummary");
      const stopDistanceSummary = document.getElementById(
        "stopDistanceSummary"
      );
      const riskPerUnitSummary = document.getElementById("riskPerUnitSummary");

      function formatNumber(num, decimals = 2) {
        if (!isFinite(num)) return "–";
        return num.toLocaleString(undefined, {
          minimumFractionDigits: decimals,
          maximumFractionDigits: decimals,
        });
      }

      calculateBtn.addEventListener("click", () => {
        errorMessage.classList.add("hidden");
        errorMessage.textContent = "";

        const instrument = getInstrumentType();
        const accountSize = parseFloat(
          document.getElementById("accountSize").value
        );
        const accountCurrency = accountCurrencySelect.value;

        if (!(accountSize > 0)) {
          errorMessage.textContent = "Please enter a valid account size.";
          errorMessage.classList.remove("hidden");
          resultsSection.classList.add("hidden");
          return;
        }

        // Risk amount
        const activeRiskMode = document.querySelector(
          ".riskmode-btn.toggle-btn-active"
        ).dataset.riskmode;
        let riskAmount;
        if (activeRiskMode === "percent") {
          const riskPercent = parseFloat(
            document.getElementById("riskPercent").value
          );
          if (!(riskPercent > 0 && riskPercent <= 100)) {
            errorMessage.textContent =
              "Please enter a valid risk percentage between 0 and 100.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }
          riskAmount = accountSize * (riskPercent / 100);
        } else {
          riskAmount = parseFloat(document.getElementById("riskAmount").value);
          if (!(riskAmount > 0)) {
            errorMessage.textContent = "Please enter a valid risk amount.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }
        }

        let stopDistance = 0;
        let riskPerUnit = 0;
        let positionSize = 0;
        let unitLabel = "";

        if (instrument === "forex") {
          const entry = parseFloat(document.getElementById("forexEntry").value);
          const stop = parseFloat(document.getElementById("forexStop").value);
          const direction = document.getElementById("forexDirection").value;
          const pair = document.getElementById("forexPair").value;
          const pipMode = pipValueMode.value;
          const pipSize = parseFloat(
            document.getElementById("pipSize").value || "0.0001"
          );

          if (!(entry > 0) || !(stop > 0)) {
            errorMessage.textContent =
              "Please enter valid forex entry and stop loss prices.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          // Ensure stop is on the correct side for direction, but we only care about distance
          stopDistance = Math.abs(entry - stop) / pipSize; // in pips

          if (!(stopDistance > 0)) {
            errorMessage.textContent =
              "Stop loss must be different from entry price.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          let pipValuePerLot;
          if (pipMode === "custom") {
            pipValuePerLot = parseFloat(
              document.getElementById("customPipValue").value
            );
            if (!(pipValuePerLot > 0)) {
              errorMessage.textContent =
                "Please enter a valid custom pip value.";
              errorMessage.classList.remove("hidden");
              resultsSection.classList.add("hidden");
              return;
            }
          } else {
            pipValuePerLot = getApproxPipValuePerLot(pair, accountCurrency);
          }

          // Risk per standard lot
          let riskPerLot = stopDistance * pipValuePerLot;

          // Include commission/slippage if requested
          if (includeCommission.checked) {
            const commissionPerUnit =
              parseFloat(document.getElementById("commissionPerUnit").value) ||
              0;
            const commissionPerTrade =
              parseFloat(document.getElementById("commissionPerTrade").value) ||
              0;
            const slippagePerUnit =
              parseFloat(document.getElementById("slippagePerUnit").value) || 0;

            // Approximate per-lot units = 100,000
            const unitsPerLot = 100000;
            const extraPerLot =
              (commissionPerUnit + slippagePerUnit) * unitsPerLot +
              commissionPerTrade;
            riskPerLot += extraPerLot;
          }

          if (!(riskPerLot > 0)) {
            errorMessage.textContent =
              "Calculated risk per lot is not valid. Check your inputs.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          positionSize = riskAmount / riskPerLot; // in standard lots
          unitLabel = "standard lots";

          riskPerUnit = riskPerLot; // per lot for summary
        } else if (instrument === "stocks") {
          const entry = parseFloat(document.getElementById("stockEntry").value);
          const stop = parseFloat(document.getElementById("stockStop").value);

          if (!(entry > 0) || !(stop > 0)) {
            errorMessage.textContent =
              "Please enter valid stock entry and stop loss prices.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          stopDistance = Math.abs(entry - stop); // price difference

          if (!(stopDistance > 0)) {
            errorMessage.textContent =
              "Stop loss must be different from entry price.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          riskPerUnit = stopDistance;

          if (includeCommission.checked) {
            const commissionPerUnit =
              parseFloat(document.getElementById("commissionPerUnit").value) ||
              0;
            const commissionPerTrade =
              parseFloat(document.getElementById("commissionPerTrade").value) ||
              0;
            const slippagePerUnit =
              parseFloat(document.getElementById("slippagePerUnit").value) || 0;

            // We don't know shares yet; approximate by ignoring fixed commission in per-unit risk,
            // but add a small adjustment by dividing fixed commission by tentative size.
            // For simplicity, just add per-unit costs:
            riskPerUnit += commissionPerUnit + slippagePerUnit;
            // Fixed commission is small relative; user can manually adjust risk if needed.
          }

          positionSize = riskAmount / riskPerUnit;
          unitLabel = "shares";
        } else if (instrument === "crypto") {
          const entry = parseFloat(
            document.getElementById("cryptoEntry").value
          );
          const stop = parseFloat(document.getElementById("cryptoStop").value);

          if (!(entry > 0) || !(stop > 0)) {
            errorMessage.textContent =
              "Please enter valid crypto entry and stop loss prices.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          stopDistance = Math.abs(entry - stop);

          if (!(stopDistance > 0)) {
            errorMessage.textContent =
              "Stop loss must be different from entry price.";
            errorMessage.classList.remove("hidden");
            resultsSection.classList.add("hidden");
            return;
          }

          riskPerUnit = stopDistance;

          if (includeCommission.checked) {
            const commissionPerUnit =
              parseFloat(document.getElementById("commissionPerUnit").value) ||
              0;
            const commissionPerTrade =
              parseFloat(document.getElementById("commissionPerTrade").value) ||
              0;
            const slippagePerUnit =
              parseFloat(document.getElementById("slippagePerUnit").value) || 0;
            riskPerUnit += commissionPerUnit + slippagePerUnit;
          }

          positionSize = riskAmount / riskPerUnit;
          unitLabel = "units";
        }

        if (!(positionSize > 0)) {
          errorMessage.textContent =
            "Calculated position size is not valid. Check your inputs.";
          errorMessage.classList.remove("hidden");
          resultsSection.classList.add("hidden");
          return;
        }

        // Round position size sensibly
        let displaySize;
        if (instrument === "forex") {
          displaySize = formatNumber(positionSize, 2);
        } else {
          displaySize = formatNumber(Math.floor(positionSize), 0);
        }

        positionSizeText.textContent = `${displaySize} ${unitLabel}`;
        positionSizeDetail.textContent = `This position size keeps your maximum loss near ${accountCurrency} ${formatNumber(
          riskAmount,
          2
        )} if your stop loss is hit.`;

        if (instrument === "forex") {
          stopDistanceSummary.textContent = `${formatNumber(
            stopDistance,
            1
          )} pips`;
          riskPerUnitSummary.textContent = `${accountCurrency} ${formatNumber(
            riskPerUnit,
            2
          )} per standard lot`;
        } else {
          stopDistanceSummary.textContent = `${accountCurrency} ${formatNumber(
            stopDistance,
            4
          )} per unit`;
          riskPerUnitSummary.textContent = `${accountCurrency} ${formatNumber(
            riskPerUnit,
            4
          )} per unit`;
        }

        riskAmountSummary.textContent = `${accountCurrency} ${formatNumber(
          riskAmount,
          2
        )}`;
        resultsSection.classList.remove("hidden");
      });

      resetBtn.addEventListener("click", () => {
        setTimeout(() => {
          errorMessage.classList.add("hidden");
          resultsSection.classList.add("hidden");
        }, 0);
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
