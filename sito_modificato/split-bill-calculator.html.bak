<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/split-bill-calculator" />
    <title>Split Bill Calculator Guide [Proven 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Split Bill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Split Bill Calculator Guide [Proven 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Split Bill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/split-bill-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Split Bill Calculator Guide [Proven 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Split Bill Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Split Bill Calculator", "item": "https://calcdomain.com/split-bill-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Split Bill Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Split Bill Calculator
              </h1>
              <p class="text-gray-600">
                Fairly split group expenses, tips, and tax between friends,
                roommates, or trip members. Supports per-item splitting, custom
                weights, and multiple payers.
              </p>
            </header>

            <!-- Mode Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex flex-wrap gap-2" aria-label="Split modes">
                <button
                  type="button"
                  data-mode="simple"
                  class="mode-tab px-3 py-2 text-sm font-medium border-b-2 border-blue-600 text-blue-600"
                >
                  Simple equal split
                </button>
                <button
                  type="button"
                  data-mode="weighted"
                  class="mode-tab px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Custom % / weights
                </button>
                <button
                  type="button"
                  data-mode="items"
                  class="mode-tab px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Per-item split
                </button>
              </nav>
            </div>

            <!-- Global Settings -->
            <section
              aria-label="Bill settings"
              class="mb-6 grid md:grid-cols-2 gap-4"
            >
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 mb-1"
                  for="currency-select"
                  >Currency</label
                >
                <select
                  id="currency-select"
                  class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                >
                  <option value="USD" selected>USD – $</option>
                  <option value="EUR">EUR – €</option>
                  <option value="GBP">GBP – £</option>
                  <option value="CAD">CAD – $</option>
                  <option value="AUD">AUD – $</option>
                  <option value="INR">INR – ₹</option>
                  <option value="JPY">JPY – ¥</option>
                </select>
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 mb-1"
                  for="people-count"
                  >Number of people</label
                >
                <div class="flex items-center gap-2">
                  <input
                    id="people-count"
                    type="number"
                    min="1"
                    max="20"
                    value="3"
                    class="input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                  />
                  <button
                    type="button"
                    id="apply-people"
                    class="px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700"
                  >
                    Apply
                  </button>
                </div>
                <p class="text-xs text-gray-500 mt-1">Max 20 people.</p>
              </div>
            </section>

            <!-- Simple Equal Split -->
            <section id="mode-simple" class="mode-panel">
              <h2 class="text-lg font-semibold mb-3">Simple equal split</h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="simple-subtotal"
                    >Bill subtotal (before tax &amp; tip)</label
                  >
                  <input
                    id="simple-subtotal"
                    type="number"
                    min="0"
                    step="0.01"
                    class="input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 120.50"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="simple-tax"
                    >Tax</label
                  >
                  <div class="flex gap-2">
                    <input
                      id="simple-tax"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="Amount"
                    />
                    <input
                      id="simple-tax-percent"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="%"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Fill either amount or %, leave the other blank.
                  </p>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="simple-tip"
                    >Tip</label
                  >
                  <div class="flex gap-2">
                    <input
                      id="simple-tip"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="Amount"
                    />
                    <input
                      id="simple-tip-percent"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="%"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Tip % is applied to subtotal.
                  </p>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="simple-discount"
                    >Discount / coupon</label
                  >
                  <div class="flex gap-2">
                    <input
                      id="simple-discount"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="Amount"
                    />
                    <input
                      id="simple-discount-percent"
                      type="number"
                      min="0"
                      step="0.01"
                      class="input-number w-1/2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      placeholder="%"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Discount % is applied to subtotal.
                  </p>
                </div>
              </div>

              <div class="mb-4">
                <label class="inline-flex items-center text-sm text-gray-700">
                  <input
                    id="simple-split-tax-tip-evenly"
                    type="checkbox"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    checked
                  />
                  <span class="ml-2"
                    >Split tax and tip evenly (instead of proportionally)</span
                  >
                </label>
              </div>

              <button
                type="button"
                id="calc-simple"
                class="w-full md:w-auto px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 mb-4"
              >
                Calculate split
              </button>

              <div id="simple-results" class="hidden">
                <h3 class="text-md font-semibold mb-2">Results</h3>
                <div class="grid md:grid-cols-2 gap-4 mb-3">
                  <div class="p-3 bg-gray-50 rounded-md">
                    <p class="text-sm text-gray-600">Total bill</p>
                    <p class="text-xl font-semibold" id="simple-total-display">
                      $0.00
                    </p>
                  </div>
                  <div class="p-3 bg-gray-50 rounded-md">
                    <p class="text-sm text-gray-600">Each person pays</p>
                    <p
                      class="text-xl font-semibold"
                      id="simple-per-person-display"
                    >
                      $0.00
                    </p>
                  </div>
                </div>
                <p class="text-xs text-gray-500" id="simple-note"></p>
              </div>
            </section>

            <!-- Weighted Split -->
            <section id="mode-weighted" class="mode-panel hidden">
              <h2 class="text-lg font-semibold mb-3">
                Custom percentage / weighted split
              </h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="weighted-total"
                    >Total bill (final amount)</label
                  >
                  <input
                    id="weighted-total"
                    type="number"
                    min="0"
                    step="0.01"
                    class="input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 250"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Use the final amount including tax &amp; tip.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Weights mode</label
                  >
                  <select
                    id="weights-mode"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                  >
                    <option value="percent" selected>
                      Percentages (must sum to 100%)
                    </option>
                    <option value="weights">
                      Relative weights (any positive numbers)
                    </option>
                    <option value="fixed">
                      Fixed amounts (sum must equal total)
                    </option>
                  </select>
                </div>
              </div>

              <div id="weighted-people-container" class="mb-4 space-y-2"></div>

              <button
                type="button"
                id="calc-weighted"
                class="w-full md:w-auto px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 mb-4"
              >
                Calculate split
              </button>

              <div id="weighted-results" class="hidden">
                <h3 class="text-md font-semibold mb-2">Results</h3>
                <div class="overflow-x-auto">
                  <table
                    class="min-w-full text-sm border border-gray-200 rounded-md overflow-hidden"
                  >
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                        >
                          Person
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Share
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Amount
                        </th>
                      </tr>
                    </thead>
                    <tbody id="weighted-results-body"></tbody>
                  </table>
                </div>
                <p class="text-xs text-gray-500 mt-2" id="weighted-note"></p>
              </div>
            </section>

            <!-- Per-item Split -->
            <section id="mode-items" class="mode-panel hidden">
              <h2 class="text-lg font-semibold mb-3">
                Per-item split (restaurant, trips, shared shopping)
              </h2>

              <div class="mb-4 flex flex-wrap gap-2 items-center">
                <span class="text-sm font-medium text-gray-700 mr-2"
                  >People:</span
                >
                <div id="items-people-chips" class="flex flex-wrap gap-2"></div>
              </div>

              <div class="mb-4 flex flex-wrap gap-2">
                <button
                  type="button"
                  id="add-item"
                  class="px-3 py-1.5 text-xs font-medium bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200"
                >
                  + Add item
                </button>
                <button
                  type="button"
                  id="clear-items"
                  class="px-3 py-1.5 text-xs font-medium bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200"
                >
                  Clear items
                </button>
              </div>

              <div id="items-container" class="space-y-3 mb-4"></div>

              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="items-tax-percent"
                    >Tax % (optional)</label
                  >
                  <input
                    id="items-tax-percent"
                    type="number"
                    min="0"
                    step="0.01"
                    class="input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 8.5"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="items-tip-percent"
                    >Tip % (optional)</label
                  >
                  <input
                    id="items-tip-percent"
                    type="number"
                    min="0"
                    step="0.01"
                    class="input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 18"
                  />
                </div>
                <div class="flex items-end">
                  <label class="inline-flex items-center text-sm text-gray-700">
                    <input
                      id="items-even-tax-tip"
                      type="checkbox"
                      class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    />
                    <span class="ml-2">Split tax &amp; tip evenly</span>
                  </label>
                </div>
              </div>

              <button
                type="button"
                id="calc-items"
                class="w-full md:w-auto px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 mb-4"
              >
                Calculate split
              </button>

              <div id="items-results" class="hidden">
                <h3 class="text-md font-semibold mb-2">Results</h3>
                <div class="overflow-x-auto mb-3">
                  <table
                    class="min-w-full text-sm border border-gray-200 rounded-md overflow-hidden"
                  >
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                        >
                          Person
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Items
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Tax
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Tip
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                        >
                          Total
                        </th>
                      </tr>
                    </thead>
                    <tbody id="items-results-body"></tbody>
                  </table>
                </div>
                <div class="grid md:grid-cols-3 gap-3">
                  <div class="p-3 bg-gray-50 rounded-md">
                    <p class="text-xs text-gray-600">Items subtotal</p>
                    <p
                      class="text-lg font-semibold"
                      id="items-subtotal-display"
                    >
                      $0.00
                    </p>
                  </div>
                  <div class="p-3 bg-gray-50 rounded-md">
                    <p class="text-xs text-gray-600">Tax + tip</p>
                    <p class="text-lg font-semibold" id="items-tax-tip-display">
                      $0.00
                    </p>
                  </div>
                  <div class="p-3 bg-gray-50 rounded-md">
                    <p class="text-xs text-gray-600">Grand total</p>
                    <p class="text-lg font-semibold" id="items-total-display">
                      $0.00
                    </p>
                  </div>
                </div>
                <p class="text-xs text-gray-500 mt-2" id="items-note"></p>
              </div>
            </section>

            <!-- Payer / Settlements helper -->
            <section class="mt-6 border-t pt-4">
              <h2 class="text-lg font-semibold mb-2">
                Who pays now? (optional)
              </h2>
              <p class="text-sm text-gray-600 mb-3">
                After you calculate a split, enter who is paying the bill at the
                table to see how much everyone owes them.
              </p>
              <div class="grid md:grid-cols-3 gap-4 items-end mb-3">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="payer-name"
                    >Payer name</label
                  >
                  <input
                    id="payer-name"
                    type="text"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    placeholder="e.g. Alex"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="payer-mode"
                    >Use results from</label
                  >
                  <select
                    id="payer-mode"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                  >
                    <option value="simple">Simple equal split</option>
                    <option value="weighted">Weighted split</option>
                    <option value="items">Per-item split</option>
                  </select>
                </div>
                <div>
                  <button
                    type="button"
                    id="calc-settlements"
                    class="w-full px-4 py-2 bg-gray-800 text-white font-semibold rounded-md hover:bg-black"
                  >
                    Show who owes whom
                  </button>
                </div>
              </div>
              <div id="settlements-results" class="hidden">
                <ul
                  id="settlements-list"
                  class="text-sm text-gray-700 list-disc ml-5 space-y-1"
                ></ul>
                <p class="text-xs text-gray-500 mt-2" id="settlements-note"></p>
              </div>
            </section>

            <!-- Explanation content -->
            <section class="prose mt-8">
              <h2>How this split bill calculator works</h2>
              <p>
                This tool is designed to handle everything from a quick dinner
                check to complex roommate and travel expenses. It supports three
                main modes:
              </p>
              <ul>
                <li>
                  <strong>Simple equal split</strong> – one total, divided
                  equally between everyone.
                </li>
                <li>
                  <strong>Custom % / weights</strong> – split a total by income,
                  room size, or any agreed weights.
                </li>
                <li>
                  <strong>Per-item split</strong> – assign each menu item or
                  expense line to the people who shared it.
                </li>
              </ul>

              <h3>1. Simple equal split – formula</h3>
              <div class="formula-box">
                <p>
                  <strong>Step 1 – Normalize tax, tip, and discount</strong>
                </p>
                <pre class="text-xs md:text-sm whitespace-pre-wrap">
Tax = tax_amount or (tax_percent / 100) × subtotal
Tip = tip_amount or (tip_percent / 100) × subtotal
Discount = discount_amount or (discount_percent / 100) × subtotal</pre
                >
                <p><strong>Step 2 – Total bill</strong></p>
                <pre class="text-xs md:text-sm whitespace-pre-wrap">
Total = subtotal + Tax + Tip − Discount</pre
                >
                <p><strong>Step 3 – Per person</strong></p>
                <pre class="text-xs md:text-sm whitespace-pre-wrap">
Per person = Total / number_of_people</pre
                >
              </div>
              <p>
                If you uncheck “Split tax and tip evenly”, tax and tip are still
                applied to the whole group, but the per-person amount is
                adjusted proportionally to each person’s share in the more
                advanced modes.
              </p>

              <h3>2. Weighted split – roommates, rent, and utilities</h3>
              <p>
                In weighted mode you enter the <strong>final total</strong> and
                a weight for each person. The calculator then converts weights
                to percentages and multiplies by the total.
              </p>
              <div class="formula-box">
                <pre class="text-xs md:text-sm whitespace-pre-wrap">
Let w₁, w₂, …, wₙ be the weights for n people.
Total weight W = w₁ + w₂ + … + wₙ

Person i share (%) = wᵢ / W
Person i amount = Total × (wᵢ / W)</pre
                >
              </div>
              <p>This is useful when splitting:</p>
              <ul>
                <li>Rent by room size or number of occupants.</li>
                <li>Utilities by income or usage.</li>
                <li>Group gifts where some people contribute more.</li>
              </ul>

              <h3>3. Per-item split – the fairest restaurant method</h3>
              <p>
                Per-item mode starts from the <strong>pre-tax subtotal</strong>.
                For each item you enter:
              </p>
              <ul>
                <li>Item name (optional, for clarity).</li>
                <li>Price.</li>
                <li>Who shared it (one or more people).</li>
              </ul>
              <p>
                The calculator divides each item equally among the selected
                people, then adds tax and tip either:
              </p>
              <ul>
                <li>
                  <strong>Proportionally</strong> – each person’s tax and tip is
                  proportional to their item subtotal.
                </li>
                <li>
                  <strong>Evenly</strong> – everyone pays the same tax and tip
                  amount.
                </li>
              </ul>

              <h3>Rounding and fairness</h3>
              <p>
                Because currency is rounded to cents, the sum of individual
                shares can differ from the total by a cent or two. This
                calculator:
              </p>
              <ul>
                <li>Computes exact values internally.</li>
                <li>Rounds each person’s amount to 2 decimals.</li>
                <li>
                  Distributes any leftover cents starting from the largest
                  shares, so the final rounded totals match the bill.
                </li>
              </ul>

              <h2>Tips for splitting bills without drama</h2>
              <h3>Agree on the method first</h3>
              <ul>
                <li>
                  For casual meals, many groups prefer a
                  <strong>simple equal split</strong>.
                </li>
                <li>
                  When orders differ a lot, use
                  <strong>per-item splitting</strong> to avoid resentment.
                </li>
                <li>
                  For roommates, decide on <strong>weights</strong> (room size,
                  income, usage) and reuse them every month.
                </li>
              </ul>

              <h3>Decide how to handle tax and tip</h3>
              <ul>
                <li>
                  <strong>Proportional tax &amp; tip</strong> is mathematically
                  fairest.
                </li>
                <li>
                  <strong>Even tax &amp; tip</strong> is simpler and often “good
                  enough” for small differences.
                </li>
              </ul>

              <h3>Use one payer + settlements</h3>
              <p>
                To avoid confusing the server or cashier, let one person pay the
                full bill, then use the <strong>“Who pays now?”</strong> section
                to see how much everyone owes them. Settle up via cash, bank
                transfer, or payment apps.
              </p>
            </section>

            <!-- FAQ -->
            <section class="mt-8" id="faq">
              <h2 class="text-xl font-semibold mb-4">
                Split Bill Calculator – FAQ
              </h2>
              <div class="space-y-3">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="cursor-pointer font-medium text-gray-800">
                    How do you fairly split a bill?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    The fairest method is to start from the pre-tax subtotal,
                    assign each item to the people who consumed it, then apply
                    tax and tip in proportion to each person’s share of that
                    subtotal. This way, people who ordered more also pay more of
                    the tax and tip. The per-item mode of this calculator
                    automates that process.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="cursor-pointer font-medium text-gray-800">
                    Should you split tax and tip evenly or proportionally?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    If orders are similar, splitting tax and tip evenly is fine
                    and keeps things simple. If one person ordered significantly
                    more (for example, alcohol or steak), it’s usually fairer to
                    split tax and tip proportionally to each person’s pre-tax
                    share. This calculator lets you choose either approach.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="cursor-pointer font-medium text-gray-800">
                    How do I use this for roommates and monthly bills?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Use the <strong>Custom % / weights</strong> mode. Enter the
                    total bill (rent, utilities, internet) and assign a weight
                    or percentage to each roommate. For example, a larger
                    bedroom might count as 1.3 while a smaller one is 0.7. The
                    calculator converts weights into fair amounts for each
                    person.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="cursor-pointer font-medium text-gray-800">
                    Can I handle multiple shared items and people who didn’t
                    eat?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. In per-item mode, you can assign each item to any
                    subset of people. If someone didn’t eat or drink, simply
                    don’t include them on any items; they’ll end up with a zero
                    share. Shared appetizers or bottles can be assigned to
                    everyone who participated.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="cursor-pointer font-medium text-gray-800">
                    What about rounding differences?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    The calculator works with full precision internally, then
                    rounds each person’s amount to two decimals. If the sum of
                    rounded shares doesn’t exactly match the total, it
                    distributes the extra cent(s) starting from the largest
                    shares so that the final totals line up with the bill.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Currency USD – $ EUR – € GBP – £ CAD – $ AUD – $ INR – ₹ JPY – ¥ Number of people Apply Max 20 people. Simple equal split Bill subtotal (before tax &amp; tip) Tax Fill either amount or %, leave the other blank. Tip Tip % is applied to subtotal. Discount / coupon Discount % is applied to subtotal. Split tax and tip evenly (instead of proportionally)</li><li>Total bill (final amount) Use the final amount including tax &amp; tip. Weights mode Percentages (must sum to 100%) Relative weights (any positive numbers) Fixed amounts (sum must equal total) Calculate split Results Person Share Amount Per-item split (restaurant, trips, shared shopping) People: + Add item Clear items Tax % (optional) Tip % (optional) Split tax &amp; tip evenly</li><li>Payer name Use results from Simple equal split Weighted split Per-item split Show who owes whom How this split bill calculator works This tool is designed to handle everything from a quick dinner check to complex roommate and travel expenses. It supports three main modes: Simple equal split – one total, divided equally between everyone. Custom % / weights – split a total by income, room size, or any agreed weights. Per-item split – assign each menu item or expense line to the people who shared it. 1. Simple equal split – formula Step 1 – Normalize tax, tip, and discount Tax = tax_amount or (tax_percent / 100) × subtotal Tip = tip_amount or (tip_percent / 100) × subtotal Discount = discount_amount or (discount_percent / 100) × subtotal Step 2 – Total bill Total = subtotal + Tax + Tip − Discount Step 3 – Per person Per person = Total / number_of_people If you uncheck “Split tax and tip evenly”, tax and tip are still applied to the whole group, but the per-person amount is adjusted proportionally to each person’s share in the more advanced modes. 2. Weighted split – roommates, rent, and utilities In weighted mode you enter the final total and a weight for each person. The calculator then converts weights to percentages and multiplies by the total. Let w₁, w₂, …, wₙ be the weights for n people. Total weight W = w₁ + w₂ + … + wₙ Person i share (%) = wᵢ / W Person i amount = Total × (wᵢ / W) This is useful when splitting: Rent by room size or number of occupants. Utilities by income or usage. Group gifts where some people contribute more. 3. Per-item split – the fairest restaurant method Per-item mode starts from the pre-tax subtotal . For each item you enter: Item name (optional, for clarity). Price. Who shared it (one or more people). The calculator divides each item equally among the selected people, then adds tax and tip either: Proportionally – each person’s tax and tip is proportional to their item subtotal. Evenly – everyone pays the same tax and tip amount. Rounding and fairness Because currency is rounded to cents, the sum of individual shares can differ from the total by a cent or two. This calculator: Computes exact values internally. Rounds each person’s amount to 2 decimals. Distributes any leftover cents starting from the largest shares, so the final rounded totals match the bill. Tips for splitting bills without drama Agree on the method first For casual meals, many groups prefer a simple equal split . When orders differ a lot, use per-item splitting to avoid resentment. For roommates, decide on weights (room size, income, usage) and reuse them every month. Decide how to handle tax and tip Proportional tax &amp; tip is mathematically fairest. Even tax &amp; tip is simpler and often “good enough” for small differences. Use one payer + settlements To avoid confusing the server or cashier, let one person pay the full bill, then use the “Who pays now?” section to see how much everyone owes them. Settle up via cash, bank transfer, or payment apps. Split Bill Calculator – FAQ How do you fairly split a bill? The fairest method is to start from the pre-tax subtotal, assign each item to the people who consumed it, then apply tax and tip in proportion to each person’s share of that subtotal. This way, people who ordered more also pay more of the tax and tip. The per-item mode of this calculator automates that process. Should you split tax and tip evenly or proportionally? If orders are similar, splitting tax and tip evenly is fine and keeps things simple. If one person ordered significantly more (for example, alcohol or steak), it’s usually fairer to split tax and tip proportionally to each person’s pre-tax share. This calculator lets you choose either approach. How do I use this for roommates and monthly bills? Use the Custom % / weights mode. Enter the total bill (rent, utilities, internet) and assign a weight or percentage to each roommate. For example, a larger bedroom might count as 1.3 while a smaller one is 0.7. The calculator converts weights into fair amounts for each person. Can I handle multiple shared items and people who didn’t eat? Yes. In per-item mode, you can assign each item to any subset of people. If someone didn’t eat or drink, simply don’t include them on any items; they’ll end up with a zero share. Shared appetizers or bottles can be assigned to everyone who participated. What about rounding differences? The calculator works with full precision internally, then rounds each person’s amount to two decimals. If the sum of rounded shares doesn’t exactly match the total, it distributes the extra cent(s) starting from the largest shares so that the final totals line up with the bill. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Lifestyle & Everyday tools Tip Calculator Discount Calculator Markup Calculator Profit Calculator Gas Mileage Calculator Trip Cost Calculator Sales Tax Calculator Working Hours Calculator Time &amp; Money helpers Time Calculator Date Calculator Age Calculator Percentage Calculator Currency Converter CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility: currency formatting function getCurrencySymbol(code) { switch (code) { case "EUR": return "€"; case "GBP": return "£"; case "INR": return "₹"; case "JPY": return "¥"; default: return "$"; } } function formatMoney(value, currencyCode) { const symbol = getCurrencySymbol(currencyCode); const abs = Math.abs(value); const sign = value Math.round(a * 100)); const currentTotal = rounded.reduce((s, v) => s + v, 0); const targetCents = Math.round(targetTotal * 100); let diff = targetCents - currentTotal; if (diff === 0) return rounded.map((c) => c / 100); // sort indices by descending amount const indices = amounts .map((v, i) => i) .sort((a, b) => amounts[b] - amounts[a]); const step = diff > 0 ? 1 : -1; diff = Math.abs(diff); let idx = 0; while (diff > 0 && indices.length > 0) { const i = indices[idx % indices.length]; rounded[i] += step; diff--; idx++; } return rounded.map((c) => c / 100); } // Mode switching const modeTabs = document.querySelectorAll(".mode-tab"); const modePanels = { simple: document.getElementById("mode-simple"), weighted: document.getElementById("mode-weighted"), items: document.getElementById("mode-items"), }; modeTabs.forEach((tab) => { tab.addEventListener("click", () => { const mode = tab.getAttribute("data-mode"); modeTabs.forEach((t) => { t.classList.remove("border-blue-600", "text-blue-600"); t.classList.add("border-transparent", "text-gray-600"); }); tab.classList.add("border-blue-600", "text-blue-600"); Object.keys(modePanels).forEach((m) => { modePanels[m].classList.toggle("hidden", m !== mode); }); document.getElementById("payer-mode").value = mode; }); }); // People handling const peopleCountInput = document.getElementById("people-count"); const applyPeopleBtn = document.getElementById("apply-people"); const weightedPeopleContainer = document.getElementById( "weighted-people-container" ); const itemsPeopleChips = document.getElementById("items-people-chips"); let peopleNames = []; function initPeople() { const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); peopleCountInput.value = n; peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`); renderWeightedPeople(); renderItemPeopleChips(); } function renderWeightedPeople() { const mode = document.getElementById("weights-mode").value; weightedPeopleContainer.innerHTML = ""; peopleNames.forEach((name, idx) => { const row = document.createElement("div"); row.className = "grid grid-cols-12 gap-2 items-center"; row.innerHTML = ` ${ mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount" } `; weightedPeopleContainer.appendChild(row); }); } function renderItemPeopleChips() { itemsPeopleChips.innerHTML = ""; peopleNames.forEach((name, idx) => { const btn = document.createElement("button"); btn.type = "button"; btn.className = "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"; btn.textContent = name; btn.dataset.personIndex = idx; itemsPeopleChips.appendChild(btn); }); } applyPeopleBtn.addEventListener("click", () => { initPeople(); itemsContainer.innerHTML = ""; itemsResults.classList.add("hidden"); settlementsResults.classList.add("hidden"); }); document.getElementById("weights-mode").addEventListener("change", () => { renderWeightedPeople(); }); // Simple equal split calculation const currencySelect = document.getElementById("currency-select"); const calcSimpleBtn = document.getElementById("calc-simple"); const simpleResults = document.getElementById("simple-results"); const simpleTotalDisplay = document.getElementById( "simple-total-display" ); const simplePerPersonDisplay = document.getElementById( "simple-per-person-display" ); const simpleNote = document.getElementById("simple-note"); calcSimpleBtn.addEventListener("click", () => { const currency = currencySelect.value; const subtotal = safeNumber( document.getElementById("simple-subtotal").value ); if (subtotal 0) { tax = (subtotal * taxPercent) / 100; } let tip = safeNumber(document.getElementById("simple-tip").value); const tipPercent = safeNumber( document.getElementById("simple-tip-percent").value ); if (tip === 0 && tipPercent > 0) { tip = (subtotal * tipPercent) / 100; } let discount = safeNumber( document.getElementById("simple-discount").value ); const discountPercent = safeNumber( document.getElementById("simple-discount-percent").value ); if (discount === 0 && discountPercent > 0) { discount = (subtotal * discountPercent) / 100; } const total = Math.max(subtotal + tax + tip - discount, 0); const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); const perPersonRaw = total / n; const perPerson = Math.round(perPersonRaw * 100) / 100; simpleTotalDisplay.textContent = formatMoney(total, currency); simplePerPersonDisplay.textContent = formatMoney(perPerson, currency); simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney( subtotal, currency )} + ${formatMoney(tax, currency)} + ${formatMoney( tip, currency )} − ${formatMoney(discount, currency)}.`; simpleResults.classList.remove("hidden"); // store for settlements lastResults.simple = { people: peopleNames.slice(), amounts: Array(n).fill(perPerson), total, }; settlementsResults.classList.add("hidden"); }); // Weighted split calculation const calcWeightedBtn = document.getElementById("calc-weighted"); const weightedResults = document.getElementById("weighted-results"); const weightedResultsBody = document.getElementById( "weighted-results-body" ); const weightedNote = document.getElementById("weighted-note"); calcWeightedBtn.addEventListener("click", () => { const currency = currencySelect.value; const total = safeNumber( document.getElementById("weighted-total").value ); if (total { const name = input.value.trim() || `Person ${idx + 1}`; names.push(name); const w = safeNumber(weightInputs[idx].value); weights.push(w); }); let amounts = []; let note = ""; if (mode === "percent") { const sumPercent = weights.reduce((s, v) => s + v, 0); if (sumPercent w / sumPercent); const raw = normalized.map((f) => total * f); amounts = distributeRounding(raw, total); note = `Percentages sum to ${sumPercent.toFixed( 2 )}%. Shares are normalized so they add up to 100%.`; } else if (mode === "weights") { const sumWeights = weights.reduce((s, v) => s + v, 0); if (sumWeights total * (w / sumWeights)); amounts = distributeRounding(raw, total); note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed( 2 )}.`; } else { const sumFixed = weights.reduce((s, v) => s + v, 0); if (sumFixed w * scale); amounts = distributeRounding(raw, total); note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney( sumFixed, currency )}.`; } weightedResultsBody.innerHTML = ""; names.forEach((name, idx) => { const tr = document.createElement("tr"); tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50"; const share = weights[idx]; const shareLabel = mode === "percent" ? share.toFixed(2) + "%" : mode === "weights" ? share.toFixed(2) : formatMoney(share, currency); tr.innerHTML = ` ${name} ${shareLabel} ${formatMoney( amounts[idx], currency )} `; weightedResultsBody.appendChild(tr); }); weightedNote.textContent = note; weightedResults.classList.remove("hidden"); // store for settlements lastResults.weighted = { people: names, amounts, total, }; settlementsResults.classList.add("hidden"); }); // Per-item split const itemsContainer = document.getElementById("items-container"); const addItemBtn = document.getElementById("add-item"); const clearItemsBtn = document.getElementById("clear-items"); const calcItemsBtn = document.getElementById("calc-items"); const itemsResults = document.getElementById("items-results"); const itemsResultsBody = document.getElementById("items-results-body"); const itemsSubtotalDisplay = document.getElementById( "items-subtotal-display" ); const itemsTaxTipDisplay = document.getElementById( "items-tax-tip-display" ); const itemsTotalDisplay = document.getElementById("items-total-display"); const itemsNote = document.getElementById("items-note"); let itemIdCounter = 0; function createItemRow() { const id = itemIdCounter++; const row = document.createElement("div"); row.className = "border border-gray-200 rounded-md p-3"; row.dataset.itemId = id; const peopleCheckboxes = peopleNames .map( (name, idx) => ` ${name}</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Split, Bill, Calculator, Currency USD – $ EUR – € GBP – £ CAD – $ AUD – $ INR – ₹ JPY – ¥ Number of people Apply Max 20 people. Simple equal split Bill subtotal (before tax &amp; tip) Tax Fill either amount or %, leave the other blank. Tip Tip % is applied to subtotal. Discount / coupon Discount % is applied to subtotal. Split tax and tip evenly (instead of proportionally), Total bill (final amount) Use the final amount including tax &amp; tip. Weights mode Percentages (must sum to 100%) Relative weights (any positive numbers) Fixed amounts (sum must equal total) Calculate split Results Person Share Amount Per-item split (restaurant, trips, shared shopping) People: + Add item Clear items Tax % (optional) Tip % (optional) Split tax &amp; tip evenly, Payer name Use results from Simple equal split Weighted split Per-item split Show who owes whom How this split bill calculator works This tool is designed to handle everything from a quick dinner check to complex roommate and travel expenses. It supports three main modes: Simple equal split – one total, divided equally between everyone. Custom % / weights – split a total by income, room size, or any agreed weights. Per-item split – assign each menu item or expense line to the people who shared it. 1. Simple equal split – formula Step 1 – Normalize tax, tip, and discount Tax = tax_amount or (tax_percent / 100) × subtotal Tip = tip_amount or (tip_percent / 100) × subtotal Discount = discount_amount or (discount_percent / 100) × subtotal Step 2 – Total bill Total = subtotal + Tax + Tip − Discount Step 3 – Per person Per person = Total / number_of_people If you uncheck “Split tax and tip evenly”, tax and tip are still applied to the whole group, but the per-person amount is adjusted proportionally to each person’s share in the more advanced modes. 2. Weighted split – roommates, rent, and utilities In weighted mode you enter the final total and a weight for each person. The calculator then converts weights to percentages and multiplies by the total. Let w₁, w₂, …, wₙ be the weights for n people. Total weight W = w₁ + w₂ + … + wₙ Person i share (%) = wᵢ / W Person i amount = Total × (wᵢ / W) This is useful when splitting: Rent by room size or number of occupants. Utilities by income or usage. Group gifts where some people contribute more. 3. Per-item split – the fairest restaurant method Per-item mode starts from the pre-tax subtotal . For each item you enter: Item name (optional, for clarity). Price. Who shared it (one or more people). The calculator divides each item equally among the selected people, then adds tax and tip either: Proportionally – each person’s tax and tip is proportional to their item subtotal. Evenly – everyone pays the same tax and tip amount. Rounding and fairness Because currency is rounded to cents, the sum of individual shares can differ from the total by a cent or two. This calculator: Computes exact values internally. Rounds each person’s amount to 2 decimals. Distributes any leftover cents starting from the largest shares, so the final rounded totals match the bill. Tips for splitting bills without drama Agree on the method first For casual meals, many groups prefer a simple equal split . When orders differ a lot, use per-item splitting to avoid resentment. For roommates, decide on weights (room size, income, usage) and reuse them every month. Decide how to handle tax and tip Proportional tax &amp; tip is mathematically fairest. Even tax &amp; tip is simpler and often “good enough” for small differences. Use one payer + settlements To avoid confusing the server or cashier, let one person pay the full bill, then use the “Who pays now?” section to see how much everyone owes them. Settle up via cash, bank transfer, or payment apps. Split Bill Calculator – FAQ How do you fairly split a bill? The fairest method is to start from the pre-tax subtotal, assign each item to the people who consumed it, then apply tax and tip in proportion to each person’s share of that subtotal. This way, people who ordered more also pay more of the tax and tip. The per-item mode of this calculator automates that process. Should you split tax and tip evenly or proportionally? If orders are similar, splitting tax and tip evenly is fine and keeps things simple. If one person ordered significantly more (for example, alcohol or steak), it’s usually fairer to split tax and tip proportionally to each person’s pre-tax share. This calculator lets you choose either approach. How do I use this for roommates and monthly bills? Use the Custom % / weights mode. Enter the total bill (rent, utilities, internet) and assign a weight or percentage to each roommate. For example, a larger bedroom might count as 1.3 while a smaller one is 0.7. The calculator converts weights into fair amounts for each person. Can I handle multiple shared items and people who didn’t eat? Yes. In per-item mode, you can assign each item to any subset of people. If someone didn’t eat or drink, simply don’t include them on any items; they’ll end up with a zero share. Shared appetizers or bottles can be assigned to everyone who participated. What about rounding differences? The calculator works with full precision internally, then rounds each person’s amount to two decimals. If the sum of rounded shares doesn’t exactly match the total, it distributes the extra cent(s) starting from the largest shares so that the final totals line up with the bill. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Inputs used by this calculator Currency USD – $ EUR – € GBP – £ CAD – $ AUD – $ INR – ₹ JPY – ¥ Number of people Apply Max 20 people. Simple equal split Bill subtotal (before tax &amp; tip) Tax Fill either amount or %, leave the other blank. Tip Tip % is applied to subtotal. Discount / coupon Discount % is applied to subtotal. Split tax and tip evenly (instead of proportionally) Total bill (final amount) Use the final amount including tax &amp; tip. Weights mode Percentages (must sum to 100%) Relative weights (any positive numbers) Fixed amounts (sum must equal total) Calculate split Results Person Share Amount Per-item split (restaurant, trips, shared shopping) People: + Add item Clear items Tax % (optional) Tip % (optional) Split tax &amp; tip evenly Payer name Use results from Simple equal split Weighted split Per-item split Show who owes whom How this split bill calculator works This tool is designed to handle everything from a quick dinner check to complex roommate and travel expenses. It supports three main modes: Simple equal split – one total, divided equally between everyone. Custom % / weights – split a total by income, room size, or any agreed weights. Per-item split – assign each menu item or expense line to the people who shared it. 1. Simple equal split – formula Step 1 – Normalize tax, tip, and discount Tax = tax_amount or (tax_percent / 100) × subtotal Tip = tip_amount or (tip_percent / 100) × subtotal Discount = discount_amount or (discount_percent / 100) × subtotal Step 2 – Total bill Total = subtotal + Tax + Tip − Discount Step 3 – Per person Per person = Total / number_of_people If you uncheck “Split tax and tip evenly”, tax and tip are still applied to the whole group, but the per-person amount is adjusted proportionally to each person’s share in the more advanced modes. 2. Weighted split – roommates, rent, and utilities In weighted mode you enter the final total and a weight for each person. The calculator then converts weights to percentages and multiplies by the total. Let w₁, w₂, …, wₙ be the weights for n people. Total weight W = w₁ + w₂ + … + wₙ Person i share (%) = wᵢ / W Person i amount = Total × (wᵢ / W) This is useful when splitting: Rent by room size or number of occupants. Utilities by income or usage. Group gifts where some people contribute more. 3. Per-item split – the fairest restaurant method Per-item mode starts from the pre-tax subtotal . For each item you enter: Item name (optional, for clarity). Price. Who shared it (one or more people). The calculator divides each item equally among the selected people, then adds tax and tip either: Proportionally – each person’s tax and tip is proportional to their item subtotal. Evenly – everyone pays the same tax and tip amount. Rounding and fairness Because currency is rounded to cents, the sum of individual shares can differ from the total by a cent or two. This calculator: Computes exact values internally. Rounds each person’s amount to 2 decimals. Distributes any leftover cents starting from the largest shares, so the final rounded totals match the bill. Tips for splitting bills without drama Agree on the method first For casual meals, many groups prefer a simple equal split . When orders differ a lot, use per-item splitting to avoid resentment. For roommates, decide on weights (room size, income, usage) and reuse them every month. Decide how to handle tax and tip Proportional tax &amp; tip is mathematically fairest. Even tax &amp; tip is simpler and often “good enough” for small differences. Use one payer + settlements To avoid confusing the server or cashier, let one person pay the full bill, then use the “Who pays now?” section to see how much everyone owes them. Settle up via cash, bank transfer, or payment apps. Split Bill Calculator – FAQ How do you fairly split a bill? The fairest method is to start from the pre-tax subtotal, assign each item to the people who consumed it, then apply tax and tip in proportion to each person’s share of that subtotal. This way, people who ordered more also pay more of the tax and tip. The per-item mode of this calculator automates that process. Should you split tax and tip evenly or proportionally? If orders are similar, splitting tax and tip evenly is fine and keeps things simple. If one person ordered significantly more (for example, alcohol or steak), it’s usually fairer to split tax and tip proportionally to each person’s pre-tax share. This calculator lets you choose either approach. How do I use this for roommates and monthly bills? Use the Custom % / weights mode. Enter the total bill (rent, utilities, internet) and assign a weight or percentage to each roommate. For example, a larger bedroom might count as 1.3 while a smaller one is 0.7. The calculator converts weights into fair amounts for each person. Can I handle multiple shared items and people who didn’t eat? Yes. In per-item mode, you can assign each item to any subset of people. If someone didn’t eat or drink, simply don’t include them on any items; they’ll end up with a zero share. Shared appetizers or bottles can be assigned to everyone who participated. What about rounding differences? The calculator works with full precision internally, then rounds each person’s amount to two decimals. If the sum of rounded shares doesn’t exactly match the total, it distributes the extra cent(s) starting from the largest shares so that the final totals line up with the bill. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Lifestyle & Everyday tools Tip Calculator Discount Calculator Markup Calculator Profit Calculator Gas Mileage Calculator Trip Cost Calculator Sales Tax Calculator Working Hours Calculator Time &amp; Money helpers Time Calculator Date Calculator Age Calculator Percentage Calculator Currency Converter CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility: currency formatting function getCurrencySymbol(code) { switch (code) { case "EUR": return "€"; case "GBP": return "£"; case "INR": return "₹"; case "JPY": return "¥"; default: return "$"; } } function formatMoney(value, currencyCode) { const symbol = getCurrencySymbol(currencyCode); const abs = Math.abs(value); const sign = value Math.round(a * 100)); const currentTotal = rounded.reduce((s, v) => s + v, 0); const targetCents = Math.round(targetTotal * 100); let diff = targetCents - currentTotal; if (diff === 0) return rounded.map((c) => c / 100); // sort indices by descending amount const indices = amounts .map((v, i) => i) .sort((a, b) => amounts[b] - amounts[a]); const step = diff > 0 ? 1 : -1; diff = Math.abs(diff); let idx = 0; while (diff > 0 && indices.length > 0) { const i = indices[idx % indices.length]; rounded[i] += step; diff--; idx++; } return rounded.map((c) => c / 100); } // Mode switching const modeTabs = document.querySelectorAll(".mode-tab"); const modePanels = { simple: document.getElementById("mode-simple"), weighted: document.getElementById("mode-weighted"), items: document.getElementById("mode-items"), }; modeTabs.forEach((tab) => { tab.addEventListener("click", () => { const mode = tab.getAttribute("data-mode"); modeTabs.forEach((t) => { t.classList.remove("border-blue-600", "text-blue-600"); t.classList.add("border-transparent", "text-gray-600"); }); tab.classList.add("border-blue-600", "text-blue-600"); Object.keys(modePanels).forEach((m) => { modePanels[m].classList.toggle("hidden", m !== mode); }); document.getElementById("payer-mode").value = mode; }); }); // People handling const peopleCountInput = document.getElementById("people-count"); const applyPeopleBtn = document.getElementById("apply-people"); const weightedPeopleContainer = document.getElementById( "weighted-people-container" ); const itemsPeopleChips = document.getElementById("items-people-chips"); let peopleNames = []; function initPeople() { const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); peopleCountInput.value = n; peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`); renderWeightedPeople(); renderItemPeopleChips(); } function renderWeightedPeople() { const mode = document.getElementById("weights-mode").value; weightedPeopleContainer.innerHTML = ""; peopleNames.forEach((name, idx) => { const row = document.createElement("div"); row.className = "grid grid-cols-12 gap-2 items-center"; row.innerHTML = ` ${ mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount" } `; weightedPeopleContainer.appendChild(row); }); } function renderItemPeopleChips() { itemsPeopleChips.innerHTML = ""; peopleNames.forEach((name, idx) => { const btn = document.createElement("button"); btn.type = "button"; btn.className = "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"; btn.textContent = name; btn.dataset.personIndex = idx; itemsPeopleChips.appendChild(btn); }); } applyPeopleBtn.addEventListener("click", () => { initPeople(); itemsContainer.innerHTML = ""; itemsResults.classList.add("hidden"); settlementsResults.classList.add("hidden"); }); document.getElementById("weights-mode").addEventListener("change", () => { renderWeightedPeople(); }); // Simple equal split calculation const currencySelect = document.getElementById("currency-select"); const calcSimpleBtn = document.getElementById("calc-simple"); const simpleResults = document.getElementById("simple-results"); const simpleTotalDisplay = document.getElementById( "simple-total-display" ); const simplePerPersonDisplay = document.getElementById( "simple-per-person-display" ); const simpleNote = document.getElementById("simple-note"); calcSimpleBtn.addEventListener("click", () => { const currency = currencySelect.value; const subtotal = safeNumber( document.getElementById("simple-subtotal").value ); if (subtotal 0) { tax = (subtotal * taxPercent) / 100; } let tip = safeNumber(document.getElementById("simple-tip").value); const tipPercent = safeNumber( document.getElementById("simple-tip-percent").value ); if (tip === 0 && tipPercent > 0) { tip = (subtotal * tipPercent) / 100; } let discount = safeNumber( document.getElementById("simple-discount").value ); const discountPercent = safeNumber( document.getElementById("simple-discount-percent").value ); if (discount === 0 && discountPercent > 0) { discount = (subtotal * discountPercent) / 100; } const total = Math.max(subtotal + tax + tip - discount, 0); const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); const perPersonRaw = total / n; const perPerson = Math.round(perPersonRaw * 100) / 100; simpleTotalDisplay.textContent = formatMoney(total, currency); simplePerPersonDisplay.textContent = formatMoney(perPerson, currency); simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney( subtotal, currency )} + ${formatMoney(tax, currency)} + ${formatMoney( tip, currency )} − ${formatMoney(discount, currency)}.`; simpleResults.classList.remove("hidden"); // store for settlements lastResults.simple = { people: peopleNames.slice(), amounts: Array(n).fill(perPerson), total, }; settlementsResults.classList.add("hidden"); }); // Weighted split calculation const calcWeightedBtn = document.getElementById("calc-weighted"); const weightedResults = document.getElementById("weighted-results"); const weightedResultsBody = document.getElementById( "weighted-results-body" ); const weightedNote = document.getElementById("weighted-note"); calcWeightedBtn.addEventListener("click", () => { const currency = currencySelect.value; const total = safeNumber( document.getElementById("weighted-total").value ); if (total { const name = input.value.trim() || `Person ${idx + 1}`; names.push(name); const w = safeNumber(weightInputs[idx].value); weights.push(w); }); let amounts = []; let note = ""; if (mode === "percent") { const sumPercent = weights.reduce((s, v) => s + v, 0); if (sumPercent w / sumPercent); const raw = normalized.map((f) => total * f); amounts = distributeRounding(raw, total); note = `Percentages sum to ${sumPercent.toFixed( 2 )}%. Shares are normalized so they add up to 100%.`; } else if (mode === "weights") { const sumWeights = weights.reduce((s, v) => s + v, 0); if (sumWeights total * (w / sumWeights)); amounts = distributeRounding(raw, total); note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed( 2 )}.`; } else { const sumFixed = weights.reduce((s, v) => s + v, 0); if (sumFixed w * scale); amounts = distributeRounding(raw, total); note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney( sumFixed, currency )}.`; } weightedResultsBody.innerHTML = ""; names.forEach((name, idx) => { const tr = document.createElement("tr"); tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50"; const share = weights[idx]; const shareLabel = mode === "percent" ? share.toFixed(2) + "%" : mode === "weights" ? share.toFixed(2) : formatMoney(share, currency); tr.innerHTML = ` ${name} ${shareLabel} ${formatMoney( amounts[idx], currency )} `; weightedResultsBody.appendChild(tr); }); weightedNote.textContent = note; weightedResults.classList.remove("hidden"); // store for settlements lastResults.weighted = { people: names, amounts, total, }; settlementsResults.classList.add("hidden"); }); // Per-item split const itemsContainer = document.getElementById("items-container"); const addItemBtn = document.getElementById("add-item"); const clearItemsBtn = document.getElementById("clear-items"); const calcItemsBtn = document.getElementById("calc-items"); const itemsResults = document.getElementById("items-results"); const itemsResultsBody = document.getElementById("items-results-body"); const itemsSubtotalDisplay = document.getElementById( "items-subtotal-display" ); const itemsTaxTipDisplay = document.getElementById( "items-tax-tip-display" ); const itemsTotalDisplay = document.getElementById("items-total-display"); const itemsNote = document.getElementById("items-note"); let itemIdCounter = 0; function createItemRow() { const id = itemIdCounter++; const row = document.createElement("div"); row.className = "border border-gray-200 rounded-md p-3"; row.dataset.itemId = id; const peopleCheckboxes = peopleNames .map( (name, idx) => ` ${name} Consistency checks Checks: non-negative values, plausible ranges, coherent outputs. Related Lifestyle & Everyday tools Tip Calculator Discount Calculator Markup Calculator Profit Calculator Gas Mileage Calculator Trip Cost Calculator Sales Tax Calculator Working Hours Calculator Time &amp; Money helpers Time Calculator Date Calculator Age Calculator Percentage Calculator Currency Converter CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility: currency formatting function getCurrencySymbol(code) { switch (code) { case "EUR": return "€"; case "GBP": return "£"; case "INR": return "₹"; case "JPY": return "¥"; default: return "$"; } } function formatMoney(value, currencyCode) { const symbol = getCurrencySymbol(currencyCode); const abs = Math.abs(value); const sign = value Math.round(a * 100)); const currentTotal = rounded.reduce((s, v) => s + v, 0); const targetCents = Math.round(targetTotal * 100); let diff = targetCents - currentTotal; if (diff === 0) return rounded.map((c) => c / 100); // sort indices by descending amount const indices = amounts .map((v, i) => i) .sort((a, b) => amounts[b] - amounts[a]); const step = diff > 0 ? 1 : -1; diff = Math.abs(diff); let idx = 0; while (diff > 0 && indices.length > 0) { const i = indices[idx % indices.length]; rounded[i] += step; diff--; idx++; } return rounded.map((c) => c / 100); } // Mode switching const modeTabs = document.querySelectorAll(".mode-tab"); const modePanels = { simple: document.getElementById("mode-simple"), weighted: document.getElementById("mode-weighted"), items: document.getElementById("mode-items"), }; modeTabs.forEach((tab) => { tab.addEventListener("click", () => { const mode = tab.getAttribute("data-mode"); modeTabs.forEach((t) => { t.classList.remove("border-blue-600", "text-blue-600"); t.classList.add("border-transparent", "text-gray-600"); }); tab.classList.add("border-blue-600", "text-blue-600"); Object.keys(modePanels).forEach((m) => { modePanels[m].classList.toggle("hidden", m !== mode); }); document.getElementById("payer-mode").value = mode; }); }); // People handling const peopleCountInput = document.getElementById("people-count"); const applyPeopleBtn = document.getElementById("apply-people"); const weightedPeopleContainer = document.getElementById( "weighted-people-container" ); const itemsPeopleChips = document.getElementById("items-people-chips"); let peopleNames = []; function initPeople() { const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); peopleCountInput.value = n; peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`); renderWeightedPeople(); renderItemPeopleChips(); } function renderWeightedPeople() { const mode = document.getElementById("weights-mode").value; weightedPeopleContainer.innerHTML = ""; peopleNames.forEach((name, idx) => { const row = document.createElement("div"); row.className = "grid grid-cols-12 gap-2 items-center"; row.innerHTML = ` ${ mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount" } `; weightedPeopleContainer.appendChild(row); }); } function renderItemPeopleChips() { itemsPeopleChips.innerHTML = ""; peopleNames.forEach((name, idx) => { const btn = document.createElement("button"); btn.type = "button"; btn.className = "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"; btn.textContent = name; btn.dataset.personIndex = idx; itemsPeopleChips.appendChild(btn); }); } applyPeopleBtn.addEventListener("click", () => { initPeople(); itemsContainer.innerHTML = ""; itemsResults.classList.add("hidden"); settlementsResults.classList.add("hidden"); }); document.getElementById("weights-mode").addEventListener("change", () => { renderWeightedPeople(); }); // Simple equal split calculation const currencySelect = document.getElementById("currency-select"); const calcSimpleBtn = document.getElementById("calc-simple"); const simpleResults = document.getElementById("simple-results"); const simpleTotalDisplay = document.getElementById( "simple-total-display" ); const simplePerPersonDisplay = document.getElementById( "simple-per-person-display" ); const simpleNote = document.getElementById("simple-note"); calcSimpleBtn.addEventListener("click", () => { const currency = currencySelect.value; const subtotal = safeNumber( document.getElementById("simple-subtotal").value ); if (subtotal 0) { tax = (subtotal * taxPercent) / 100; } let tip = safeNumber(document.getElementById("simple-tip").value); const tipPercent = safeNumber( document.getElementById("simple-tip-percent").value ); if (tip === 0 && tipPercent > 0) { tip = (subtotal * tipPercent) / 100; } let discount = safeNumber( document.getElementById("simple-discount").value ); const discountPercent = safeNumber( document.getElementById("simple-discount-percent").value ); if (discount === 0 && discountPercent > 0) { discount = (subtotal * discountPercent) / 100; } const total = Math.max(subtotal + tax + tip - discount, 0); const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); const perPersonRaw = total / n; const perPerson = Math.round(perPersonRaw * 100) / 100; simpleTotalDisplay.textContent = formatMoney(total, currency); simplePerPersonDisplay.textContent = formatMoney(perPerson, currency); simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney( subtotal, currency )} + ${formatMoney(tax, currency)} + ${formatMoney( tip, currency )} − ${formatMoney(discount, currency)}.`; simpleResults.classList.remove("hidden"); // store for settlements lastResults.simple = { people: peopleNames.slice(), amounts: Array(n).fill(perPerson), total, }; settlementsResults.classList.add("hidden"); }); // Weighted split calculation const calcWeightedBtn = document.getElementById("calc-weighted"); const weightedResults = document.getElementById("weighted-results"); const weightedResultsBody = document.getElementById( "weighted-results-body" ); const weightedNote = document.getElementById("weighted-note"); calcWeightedBtn.addEventListener("click", () => { const currency = currencySelect.value; const total = safeNumber( document.getElementById("weighted-total").value ); if (total { const name = input.value.trim() || `Person ${idx + 1}`; names.push(name); const w = safeNumber(weightInputs[idx].value); weights.push(w); }); let amounts = []; let note = ""; if (mode === "percent") { const sumPercent = weights.reduce((s, v) => s + v, 0); if (sumPercent w / sumPercent); const raw = normalized.map((f) => total * f); amounts = distributeRounding(raw, total); note = `Percentages sum to ${sumPercent.toFixed( 2 )}%. Shares are normalized so they add up to 100%.`; } else if (mode === "weights") { const sumWeights = weights.reduce((s, v) => s + v, 0); if (sumWeights total * (w / sumWeights)); amounts = distributeRounding(raw, total); note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed( 2 )}.`; } else { const sumFixed = weights.reduce((s, v) => s + v, 0); if (sumFixed w * scale); amounts = distributeRounding(raw, total); note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney( sumFixed, currency )}.`; } weightedResultsBody.innerHTML = ""; names.forEach((name, idx) => { const tr = document.createElement("tr"); tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50"; const share = weights[idx]; const shareLabel = mode === "percent" ? share.toFixed(2) + "%" : mode === "weights" ? share.toFixed(2) : formatMoney(share, currency); tr.innerHTML = ` ${name} ${shareLabel} ${formatMoney( amounts[idx], currency )} `; weightedResultsBody.appendChild(tr); }); weightedNote.textContent = note; weightedResults.classList.remove("hidden"); // store for settlements lastResults.weighted = { people: names, amounts, total, }; settlementsResults.classList.add("hidden"); }); // Per-item split const itemsContainer = document.getElementById("items-container"); const addItemBtn = document.getElementById("add-item"); const clearItemsBtn = document.getElementById("clear-items"); const calcItemsBtn = document.getElementById("calc-items"); const itemsResults = document.getElementById("items-results"); const itemsResultsBody = document.getElementById("items-results-body"); const itemsSubtotalDisplay = document.getElementById( "items-subtotal-display" ); const itemsTaxTipDisplay = document.getElementById( "items-tax-tip-display" ); const itemsTotalDisplay = document.getElementById("items-total-display"); const itemsNote = document.getElementById("items-note"); let itemIdCounter = 0; function createItemRow() { const id = itemIdCounter++; const row = document.createElement("div"); row.className = "border border-gray-200 rounded-md p-3"; row.dataset.itemId = id; const peopleCheckboxes = peopleNames .map( (name, idx) => ` ${name}.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Currency USD – $ EUR – € GBP – £ CAD – $ AUD – $ INR – ₹ JPY – ¥ Number of people Apply Max 20 people. Simple equal split Bill subtotal (before tax &amp; tip) Tax Fill either amount or %, leave the other blank. Tip Tip % is applied to subtotal. Discount / coupon Discount % is applied to subtotal. Split tax and tip evenly (instead of proportionally)</li><li>Total bill (final amount) Use the final amount including tax &amp; tip. Weights mode Percentages (must sum to 100%) Relative weights (any positive numbers) Fixed amounts (sum must equal total) Calculate split Results Person Share Amount Per-item split (restaurant, trips, shared shopping) People: + Add item Clear items Tax % (optional) Tip % (optional) Split tax &amp; tip evenly</li><li>Payer name Use results from Simple equal split Weighted split Per-item split Show who owes whom How this split bill calculator works This tool is designed to handle everything from a quick dinner check to complex roommate and travel expenses. It supports three main modes: Simple equal split – one total, divided equally between everyone. Custom % / weights – split a total by income, room size, or any agreed weights. Per-item split – assign each menu item or expense line to the people who shared it. 1. Simple equal split – formula Step 1 – Normalize tax, tip, and discount Tax = tax_amount or (tax_percent / 100) × subtotal Tip = tip_amount or (tip_percent / 100) × subtotal Discount = discount_amount or (discount_percent / 100) × subtotal Step 2 – Total bill Total = subtotal + Tax + Tip − Discount Step 3 – Per person Per person = Total / number_of_people If you uncheck “Split tax and tip evenly”, tax and tip are still applied to the whole group, but the per-person amount is adjusted proportionally to each person’s share in the more advanced modes. 2. Weighted split – roommates, rent, and utilities In weighted mode you enter the final total and a weight for each person. The calculator then converts weights to percentages and multiplies by the total. Let w₁, w₂, …, wₙ be the weights for n people. Total weight W = w₁ + w₂ + … + wₙ Person i share (%) = wᵢ / W Person i amount = Total × (wᵢ / W) This is useful when splitting: Rent by room size or number of occupants. Utilities by income or usage. Group gifts where some people contribute more. 3. Per-item split – the fairest restaurant method Per-item mode starts from the pre-tax subtotal . For each item you enter: Item name (optional, for clarity). Price. Who shared it (one or more people). The calculator divides each item equally among the selected people, then adds tax and tip either: Proportionally – each person’s tax and tip is proportional to their item subtotal. Evenly – everyone pays the same tax and tip amount. Rounding and fairness Because currency is rounded to cents, the sum of individual shares can differ from the total by a cent or two. This calculator: Computes exact values internally. Rounds each person’s amount to 2 decimals. Distributes any leftover cents starting from the largest shares, so the final rounded totals match the bill. Tips for splitting bills without drama Agree on the method first For casual meals, many groups prefer a simple equal split . When orders differ a lot, use per-item splitting to avoid resentment. For roommates, decide on weights (room size, income, usage) and reuse them every month. Decide how to handle tax and tip Proportional tax &amp; tip is mathematically fairest. Even tax &amp; tip is simpler and often “good enough” for small differences. Use one payer + settlements To avoid confusing the server or cashier, let one person pay the full bill, then use the “Who pays now?” section to see how much everyone owes them. Settle up via cash, bank transfer, or payment apps. Split Bill Calculator – FAQ How do you fairly split a bill? The fairest method is to start from the pre-tax subtotal, assign each item to the people who consumed it, then apply tax and tip in proportion to each person’s share of that subtotal. This way, people who ordered more also pay more of the tax and tip. The per-item mode of this calculator automates that process. Should you split tax and tip evenly or proportionally? If orders are similar, splitting tax and tip evenly is fine and keeps things simple. If one person ordered significantly more (for example, alcohol or steak), it’s usually fairer to split tax and tip proportionally to each person’s pre-tax share. This calculator lets you choose either approach. How do I use this for roommates and monthly bills? Use the Custom % / weights mode. Enter the total bill (rent, utilities, internet) and assign a weight or percentage to each roommate. For example, a larger bedroom might count as 1.3 while a smaller one is 0.7. The calculator converts weights into fair amounts for each person. Can I handle multiple shared items and people who didn’t eat? Yes. In per-item mode, you can assign each item to any subset of people. If someone didn’t eat or drink, simply don’t include them on any items; they’ll end up with a zero share. Shared appetizers or bottles can be assigned to everyone who participated. What about rounding differences? The calculator works with full precision internally, then rounds each person’s amount to two decimals. If the sum of rounded shares doesn’t exactly match the total, it distributes the extra cent(s) starting from the largest shares so that the final totals line up with the bill. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Inputs used by this calculator Currency USD – $ EUR – € GBP – £ CAD – $ AUD – $ INR – ₹ JPY – ¥ Number of people Apply Max 20 people. Simple equal split Bill subtotal (before tax &amp; tip) Tax Fill either amount or %, leave the other blank. Tip Tip % is applied to subtotal. Discount / coupon Discount % is applied to subtotal. Split tax and tip evenly (instead of proportionally) Total bill (final amount) Use the final amount including tax &amp; tip. Weights mode Percentages (must sum to 100%) Relative weights (any positive numbers) Fixed amounts (sum must equal total) Calculate split Results Person Share Amount Per-item split (restaurant, trips, shared shopping) People: + Add item Clear items Tax % (optional) Tip % (optional) Split tax &amp; tip evenly Payer name Use results from Simple equal split Weighted split Per-item split Show who owes whom How this split bill calculator works This tool is designed to handle everything from a quick dinner check to complex roommate and travel expenses. It supports three main modes: Simple equal split – one total, divided equally between everyone. Custom % / weights – split a total by income, room size, or any agreed weights. Per-item split – assign each menu item or expense line to the people who shared it. 1. Simple equal split – formula Step 1 – Normalize tax, tip, and discount Tax = tax_amount or (tax_percent / 100) × subtotal Tip = tip_amount or (tip_percent / 100) × subtotal Discount = discount_amount or (discount_percent / 100) × subtotal Step 2 – Total bill Total = subtotal + Tax + Tip − Discount Step 3 – Per person Per person = Total / number_of_people If you uncheck “Split tax and tip evenly”, tax and tip are still applied to the whole group, but the per-person amount is adjusted proportionally to each person’s share in the more advanced modes. 2. Weighted split – roommates, rent, and utilities In weighted mode you enter the final total and a weight for each person. The calculator then converts weights to percentages and multiplies by the total. Let w₁, w₂, …, wₙ be the weights for n people. Total weight W = w₁ + w₂ + … + wₙ Person i share (%) = wᵢ / W Person i amount = Total × (wᵢ / W) This is useful when splitting: Rent by room size or number of occupants. Utilities by income or usage. Group gifts where some people contribute more. 3. Per-item split – the fairest restaurant method Per-item mode starts from the pre-tax subtotal . For each item you enter: Item name (optional, for clarity). Price. Who shared it (one or more people). The calculator divides each item equally among the selected people, then adds tax and tip either: Proportionally – each person’s tax and tip is proportional to their item subtotal. Evenly – everyone pays the same tax and tip amount. Rounding and fairness Because currency is rounded to cents, the sum of individual shares can differ from the total by a cent or two. This calculator: Computes exact values internally. Rounds each person’s amount to 2 decimals. Distributes any leftover cents starting from the largest shares, so the final rounded totals match the bill. Tips for splitting bills without drama Agree on the method first For casual meals, many groups prefer a simple equal split . When orders differ a lot, use per-item splitting to avoid resentment. For roommates, decide on weights (room size, income, usage) and reuse them every month. Decide how to handle tax and tip Proportional tax &amp; tip is mathematically fairest. Even tax &amp; tip is simpler and often “good enough” for small differences. Use one payer + settlements To avoid confusing the server or cashier, let one person pay the full bill, then use the “Who pays now?” section to see how much everyone owes them. Settle up via cash, bank transfer, or payment apps. Split Bill Calculator – FAQ How do you fairly split a bill? The fairest method is to start from the pre-tax subtotal, assign each item to the people who consumed it, then apply tax and tip in proportion to each person’s share of that subtotal. This way, people who ordered more also pay more of the tax and tip. The per-item mode of this calculator automates that process. Should you split tax and tip evenly or proportionally? If orders are similar, splitting tax and tip evenly is fine and keeps things simple. If one person ordered significantly more (for example, alcohol or steak), it’s usually fairer to split tax and tip proportionally to each person’s pre-tax share. This calculator lets you choose either approach. How do I use this for roommates and monthly bills? Use the Custom % / weights mode. Enter the total bill (rent, utilities, internet) and assign a weight or percentage to each roommate. For example, a larger bedroom might count as 1.3 while a smaller one is 0.7. The calculator converts weights into fair amounts for each person. Can I handle multiple shared items and people who didn’t eat? Yes. In per-item mode, you can assign each item to any subset of people. If someone didn’t eat or drink, simply don’t include them on any items; they’ll end up with a zero share. Shared appetizers or bottles can be assigned to everyone who participated. What about rounding differences? The calculator works with full precision internally, then rounds each person’s amount to two decimals. If the sum of rounded shares doesn’t exactly match the total, it distributes the extra cent(s) starting from the largest shares so that the final totals line up with the bill. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Lifestyle & Everyday tools Tip Calculator Discount Calculator Markup Calculator Profit Calculator Gas Mileage Calculator Trip Cost Calculator Sales Tax Calculator Working Hours Calculator Time &amp; Money helpers Time Calculator Date Calculator Age Calculator Percentage Calculator Currency Converter CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility: currency formatting function getCurrencySymbol(code) { switch (code) { case "EUR": return "€"; case "GBP": return "£"; case "INR": return "₹"; case "JPY": return "¥"; default: return "$"; } } function formatMoney(value, currencyCode) { const symbol = getCurrencySymbol(currencyCode); const abs = Math.abs(value); const sign = value Math.round(a * 100)); const currentTotal = rounded.reduce((s, v) => s + v, 0); const targetCents = Math.round(targetTotal * 100); let diff = targetCents - currentTotal; if (diff === 0) return rounded.map((c) => c / 100); // sort indices by descending amount const indices = amounts .map((v, i) => i) .sort((a, b) => amounts[b] - amounts[a]); const step = diff > 0 ? 1 : -1; diff = Math.abs(diff); let idx = 0; while (diff > 0 && indices.length > 0) { const i = indices[idx % indices.length]; rounded[i] += step; diff--; idx++; } return rounded.map((c) => c / 100); } // Mode switching const modeTabs = document.querySelectorAll(".mode-tab"); const modePanels = { simple: document.getElementById("mode-simple"), weighted: document.getElementById("mode-weighted"), items: document.getElementById("mode-items"), }; modeTabs.forEach((tab) => { tab.addEventListener("click", () => { const mode = tab.getAttribute("data-mode"); modeTabs.forEach((t) => { t.classList.remove("border-blue-600", "text-blue-600"); t.classList.add("border-transparent", "text-gray-600"); }); tab.classList.add("border-blue-600", "text-blue-600"); Object.keys(modePanels).forEach((m) => { modePanels[m].classList.toggle("hidden", m !== mode); }); document.getElementById("payer-mode").value = mode; }); }); // People handling const peopleCountInput = document.getElementById("people-count"); const applyPeopleBtn = document.getElementById("apply-people"); const weightedPeopleContainer = document.getElementById( "weighted-people-container" ); const itemsPeopleChips = document.getElementById("items-people-chips"); let peopleNames = []; function initPeople() { const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); peopleCountInput.value = n; peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`); renderWeightedPeople(); renderItemPeopleChips(); } function renderWeightedPeople() { const mode = document.getElementById("weights-mode").value; weightedPeopleContainer.innerHTML = ""; peopleNames.forEach((name, idx) => { const row = document.createElement("div"); row.className = "grid grid-cols-12 gap-2 items-center"; row.innerHTML = ` ${ mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount" } `; weightedPeopleContainer.appendChild(row); }); } function renderItemPeopleChips() { itemsPeopleChips.innerHTML = ""; peopleNames.forEach((name, idx) => { const btn = document.createElement("button"); btn.type = "button"; btn.className = "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"; btn.textContent = name; btn.dataset.personIndex = idx; itemsPeopleChips.appendChild(btn); }); } applyPeopleBtn.addEventListener("click", () => { initPeople(); itemsContainer.innerHTML = ""; itemsResults.classList.add("hidden"); settlementsResults.classList.add("hidden"); }); document.getElementById("weights-mode").addEventListener("change", () => { renderWeightedPeople(); }); // Simple equal split calculation const currencySelect = document.getElementById("currency-select"); const calcSimpleBtn = document.getElementById("calc-simple"); const simpleResults = document.getElementById("simple-results"); const simpleTotalDisplay = document.getElementById( "simple-total-display" ); const simplePerPersonDisplay = document.getElementById( "simple-per-person-display" ); const simpleNote = document.getElementById("simple-note"); calcSimpleBtn.addEventListener("click", () => { const currency = currencySelect.value; const subtotal = safeNumber( document.getElementById("simple-subtotal").value ); if (subtotal 0) { tax = (subtotal * taxPercent) / 100; } let tip = safeNumber(document.getElementById("simple-tip").value); const tipPercent = safeNumber( document.getElementById("simple-tip-percent").value ); if (tip === 0 && tipPercent > 0) { tip = (subtotal * tipPercent) / 100; } let discount = safeNumber( document.getElementById("simple-discount").value ); const discountPercent = safeNumber( document.getElementById("simple-discount-percent").value ); if (discount === 0 && discountPercent > 0) { discount = (subtotal * discountPercent) / 100; } const total = Math.max(subtotal + tax + tip - discount, 0); const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); const perPersonRaw = total / n; const perPerson = Math.round(perPersonRaw * 100) / 100; simpleTotalDisplay.textContent = formatMoney(total, currency); simplePerPersonDisplay.textContent = formatMoney(perPerson, currency); simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney( subtotal, currency )} + ${formatMoney(tax, currency)} + ${formatMoney( tip, currency )} − ${formatMoney(discount, currency)}.`; simpleResults.classList.remove("hidden"); // store for settlements lastResults.simple = { people: peopleNames.slice(), amounts: Array(n).fill(perPerson), total, }; settlementsResults.classList.add("hidden"); }); // Weighted split calculation const calcWeightedBtn = document.getElementById("calc-weighted"); const weightedResults = document.getElementById("weighted-results"); const weightedResultsBody = document.getElementById( "weighted-results-body" ); const weightedNote = document.getElementById("weighted-note"); calcWeightedBtn.addEventListener("click", () => { const currency = currencySelect.value; const total = safeNumber( document.getElementById("weighted-total").value ); if (total { const name = input.value.trim() || `Person ${idx + 1}`; names.push(name); const w = safeNumber(weightInputs[idx].value); weights.push(w); }); let amounts = []; let note = ""; if (mode === "percent") { const sumPercent = weights.reduce((s, v) => s + v, 0); if (sumPercent w / sumPercent); const raw = normalized.map((f) => total * f); amounts = distributeRounding(raw, total); note = `Percentages sum to ${sumPercent.toFixed( 2 )}%. Shares are normalized so they add up to 100%.`; } else if (mode === "weights") { const sumWeights = weights.reduce((s, v) => s + v, 0); if (sumWeights total * (w / sumWeights)); amounts = distributeRounding(raw, total); note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed( 2 )}.`; } else { const sumFixed = weights.reduce((s, v) => s + v, 0); if (sumFixed w * scale); amounts = distributeRounding(raw, total); note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney( sumFixed, currency )}.`; } weightedResultsBody.innerHTML = ""; names.forEach((name, idx) => { const tr = document.createElement("tr"); tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50"; const share = weights[idx]; const shareLabel = mode === "percent" ? share.toFixed(2) + "%" : mode === "weights" ? share.toFixed(2) : formatMoney(share, currency); tr.innerHTML = ` ${name} ${shareLabel} ${formatMoney( amounts[idx], currency )} `; weightedResultsBody.appendChild(tr); }); weightedNote.textContent = note; weightedResults.classList.remove("hidden"); // store for settlements lastResults.weighted = { people: names, amounts, total, }; settlementsResults.classList.add("hidden"); }); // Per-item split const itemsContainer = document.getElementById("items-container"); const addItemBtn = document.getElementById("add-item"); const clearItemsBtn = document.getElementById("clear-items"); const calcItemsBtn = document.getElementById("calc-items"); const itemsResults = document.getElementById("items-results"); const itemsResultsBody = document.getElementById("items-results-body"); const itemsSubtotalDisplay = document.getElementById( "items-subtotal-display" ); const itemsTaxTipDisplay = document.getElementById( "items-tax-tip-display" ); const itemsTotalDisplay = document.getElementById("items-total-display"); const itemsNote = document.getElementById("items-note"); let itemIdCounter = 0; function createItemRow() { const id = itemIdCounter++; const row = document.createElement("div"); row.className = "border border-gray-200 rounded-md p-3"; row.dataset.itemId = id; const peopleCheckboxes = peopleNames .map( (name, idx) => ` ${name} Consistency checks Checks: non-negative values, plausible ranges, coherent outputs. Related Lifestyle & Everyday tools Tip Calculator Discount Calculator Markup Calculator Profit Calculator Gas Mileage Calculator Trip Cost Calculator Sales Tax Calculator Working Hours Calculator Time &amp; Money helpers Time Calculator Date Calculator Age Calculator Percentage Calculator Currency Converter CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility: currency formatting function getCurrencySymbol(code) { switch (code) { case "EUR": return "€"; case "GBP": return "£"; case "INR": return "₹"; case "JPY": return "¥"; default: return "$"; } } function formatMoney(value, currencyCode) { const symbol = getCurrencySymbol(currencyCode); const abs = Math.abs(value); const sign = value Math.round(a * 100)); const currentTotal = rounded.reduce((s, v) => s + v, 0); const targetCents = Math.round(targetTotal * 100); let diff = targetCents - currentTotal; if (diff === 0) return rounded.map((c) => c / 100); // sort indices by descending amount const indices = amounts .map((v, i) => i) .sort((a, b) => amounts[b] - amounts[a]); const step = diff > 0 ? 1 : -1; diff = Math.abs(diff); let idx = 0; while (diff > 0 && indices.length > 0) { const i = indices[idx % indices.length]; rounded[i] += step; diff--; idx++; } return rounded.map((c) => c / 100); } // Mode switching const modeTabs = document.querySelectorAll(".mode-tab"); const modePanels = { simple: document.getElementById("mode-simple"), weighted: document.getElementById("mode-weighted"), items: document.getElementById("mode-items"), }; modeTabs.forEach((tab) => { tab.addEventListener("click", () => { const mode = tab.getAttribute("data-mode"); modeTabs.forEach((t) => { t.classList.remove("border-blue-600", "text-blue-600"); t.classList.add("border-transparent", "text-gray-600"); }); tab.classList.add("border-blue-600", "text-blue-600"); Object.keys(modePanels).forEach((m) => { modePanels[m].classList.toggle("hidden", m !== mode); }); document.getElementById("payer-mode").value = mode; }); }); // People handling const peopleCountInput = document.getElementById("people-count"); const applyPeopleBtn = document.getElementById("apply-people"); const weightedPeopleContainer = document.getElementById( "weighted-people-container" ); const itemsPeopleChips = document.getElementById("items-people-chips"); let peopleNames = []; function initPeople() { const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); peopleCountInput.value = n; peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`); renderWeightedPeople(); renderItemPeopleChips(); } function renderWeightedPeople() { const mode = document.getElementById("weights-mode").value; weightedPeopleContainer.innerHTML = ""; peopleNames.forEach((name, idx) => { const row = document.createElement("div"); row.className = "grid grid-cols-12 gap-2 items-center"; row.innerHTML = ` ${ mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount" } `; weightedPeopleContainer.appendChild(row); }); } function renderItemPeopleChips() { itemsPeopleChips.innerHTML = ""; peopleNames.forEach((name, idx) => { const btn = document.createElement("button"); btn.type = "button"; btn.className = "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800"; btn.textContent = name; btn.dataset.personIndex = idx; itemsPeopleChips.appendChild(btn); }); } applyPeopleBtn.addEventListener("click", () => { initPeople(); itemsContainer.innerHTML = ""; itemsResults.classList.add("hidden"); settlementsResults.classList.add("hidden"); }); document.getElementById("weights-mode").addEventListener("change", () => { renderWeightedPeople(); }); // Simple equal split calculation const currencySelect = document.getElementById("currency-select"); const calcSimpleBtn = document.getElementById("calc-simple"); const simpleResults = document.getElementById("simple-results"); const simpleTotalDisplay = document.getElementById( "simple-total-display" ); const simplePerPersonDisplay = document.getElementById( "simple-per-person-display" ); const simpleNote = document.getElementById("simple-note"); calcSimpleBtn.addEventListener("click", () => { const currency = currencySelect.value; const subtotal = safeNumber( document.getElementById("simple-subtotal").value ); if (subtotal 0) { tax = (subtotal * taxPercent) / 100; } let tip = safeNumber(document.getElementById("simple-tip").value); const tipPercent = safeNumber( document.getElementById("simple-tip-percent").value ); if (tip === 0 && tipPercent > 0) { tip = (subtotal * tipPercent) / 100; } let discount = safeNumber( document.getElementById("simple-discount").value ); const discountPercent = safeNumber( document.getElementById("simple-discount-percent").value ); if (discount === 0 && discountPercent > 0) { discount = (subtotal * discountPercent) / 100; } const total = Math.max(subtotal + tax + tip - discount, 0); const n = Math.min( Math.max(parseInt(peopleCountInput.value) || 1, 1), 20 ); const perPersonRaw = total / n; const perPerson = Math.round(perPersonRaw * 100) / 100; simpleTotalDisplay.textContent = formatMoney(total, currency); simplePerPersonDisplay.textContent = formatMoney(perPerson, currency); simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney( subtotal, currency )} + ${formatMoney(tax, currency)} + ${formatMoney( tip, currency )} − ${formatMoney(discount, currency)}.`; simpleResults.classList.remove("hidden"); // store for settlements lastResults.simple = { people: peopleNames.slice(), amounts: Array(n).fill(perPerson), total, }; settlementsResults.classList.add("hidden"); }); // Weighted split calculation const calcWeightedBtn = document.getElementById("calc-weighted"); const weightedResults = document.getElementById("weighted-results"); const weightedResultsBody = document.getElementById( "weighted-results-body" ); const weightedNote = document.getElementById("weighted-note"); calcWeightedBtn.addEventListener("click", () => { const currency = currencySelect.value; const total = safeNumber( document.getElementById("weighted-total").value ); if (total { const name = input.value.trim() || `Person ${idx + 1}`; names.push(name); const w = safeNumber(weightInputs[idx].value); weights.push(w); }); let amounts = []; let note = ""; if (mode === "percent") { const sumPercent = weights.reduce((s, v) => s + v, 0); if (sumPercent w / sumPercent); const raw = normalized.map((f) => total * f); amounts = distributeRounding(raw, total); note = `Percentages sum to ${sumPercent.toFixed( 2 )}%. Shares are normalized so they add up to 100%.`; } else if (mode === "weights") { const sumWeights = weights.reduce((s, v) => s + v, 0); if (sumWeights total * (w / sumWeights)); amounts = distributeRounding(raw, total); note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed( 2 )}.`; } else { const sumFixed = weights.reduce((s, v) => s + v, 0); if (sumFixed w * scale); amounts = distributeRounding(raw, total); note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney( sumFixed, currency )}.`; } weightedResultsBody.innerHTML = ""; names.forEach((name, idx) => { const tr = document.createElement("tr"); tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50"; const share = weights[idx]; const shareLabel = mode === "percent" ? share.toFixed(2) + "%" : mode === "weights" ? share.toFixed(2) : formatMoney(share, currency); tr.innerHTML = ` ${name} ${shareLabel} ${formatMoney( amounts[idx], currency )} `; weightedResultsBody.appendChild(tr); }); weightedNote.textContent = note; weightedResults.classList.remove("hidden"); // store for settlements lastResults.weighted = { people: names, amounts, total, }; settlementsResults.classList.add("hidden"); }); // Per-item split const itemsContainer = document.getElementById("items-container"); const addItemBtn = document.getElementById("add-item"); const clearItemsBtn = document.getElementById("clear-items"); const calcItemsBtn = document.getElementById("calc-items"); const itemsResults = document.getElementById("items-results"); const itemsResultsBody = document.getElementById("items-results-body"); const itemsSubtotalDisplay = document.getElementById( "items-subtotal-display" ); const itemsTaxTipDisplay = document.getElementById( "items-tax-tip-display" ); const itemsTotalDisplay = document.getElementById("items-total-display"); const itemsNote = document.getElementById("items-note"); let itemIdCounter = 0; function createItemRow() { const id = itemIdCounter++; const row = document.createElement("div"); row.className = "border border-gray-200 rounded-md p-3"; row.dataset.itemId = id; const peopleCheckboxes = peopleNames .map( (name, idx) => ` ${name}</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Lifestyle & Everyday tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/tip"
                  class="text-blue-600 hover:underline"
                  >Tip Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/discount-calculator"
                  class="text-blue-600 hover:underline"
                  >Discount Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/markup-calculator"
                  class="text-blue-600 hover:underline"
                  >Markup Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/profit-calculator"
                  class="text-blue-600 hover:underline"
                  >Profit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gas-mileage-calculator"
                  class="text-blue-600 hover:underline"
                  >Gas Mileage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/trip-cost-calculator.html"
                  class="text-blue-600 hover:underline"
                  >Trip Cost Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/working-hours-calculator"
                  class="text-blue-600 hover:underline"
                  >Working Hours Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Time &amp; Money helpers</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/time-calculator"
                  class="text-blue-600 hover:underline"
                  >Time Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/date-calculator"
                  class="text-blue-600 hover:underline"
                  >Date Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/age-calculator"
                  class="text-blue-600 hover:underline"
                  >Age Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-blue-600 hover:underline"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/currency-converter"
                  class="text-blue-600 hover:underline"
                  >Currency Converter</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: currency formatting
      function getCurrencySymbol(code) {
        switch (code) {
          case "EUR":
            return "€";
          case "GBP":
            return "£";
          case "INR":
            return "₹";
          case "JPY":
            return "¥";
          default:
            return "$";
        }
      }
      function formatMoney(value, currencyCode) {
        const symbol = getCurrencySymbol(currencyCode);
        const abs = Math.abs(value);
        const sign = value < 0 ? "-" : "";
        return sign + symbol + abs.toFixed(2);
      }

      function safeNumber(val) {
        const n = parseFloat(val);
        return isNaN(n) ? 0 : n;
      }

      function distributeRounding(amounts, targetTotal) {
        // amounts: array of raw numbers; returns new array adjusted to match targetTotal after rounding
        const rounded = amounts.map((a) => Math.round(a * 100));
        const currentTotal = rounded.reduce((s, v) => s + v, 0);
        const targetCents = Math.round(targetTotal * 100);
        let diff = targetCents - currentTotal;
        if (diff === 0) return rounded.map((c) => c / 100);

        // sort indices by descending amount
        const indices = amounts
          .map((v, i) => i)
          .sort((a, b) => amounts[b] - amounts[a]);
        const step = diff > 0 ? 1 : -1;
        diff = Math.abs(diff);
        let idx = 0;
        while (diff > 0 && indices.length > 0) {
          const i = indices[idx % indices.length];
          rounded[i] += step;
          diff--;
          idx++;
        }
        return rounded.map((c) => c / 100);
      }

      // Mode switching
      const modeTabs = document.querySelectorAll(".mode-tab");
      const modePanels = {
        simple: document.getElementById("mode-simple"),
        weighted: document.getElementById("mode-weighted"),
        items: document.getElementById("mode-items"),
      };
      modeTabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const mode = tab.getAttribute("data-mode");
          modeTabs.forEach((t) => {
            t.classList.remove("border-blue-600", "text-blue-600");
            t.classList.add("border-transparent", "text-gray-600");
          });
          tab.classList.add("border-blue-600", "text-blue-600");
          Object.keys(modePanels).forEach((m) => {
            modePanels[m].classList.toggle("hidden", m !== mode);
          });
          document.getElementById("payer-mode").value = mode;
        });
      });

      // People handling
      const peopleCountInput = document.getElementById("people-count");
      const applyPeopleBtn = document.getElementById("apply-people");
      const weightedPeopleContainer = document.getElementById(
        "weighted-people-container"
      );
      const itemsPeopleChips = document.getElementById("items-people-chips");

      let peopleNames = [];

      function initPeople() {
        const n = Math.min(
          Math.max(parseInt(peopleCountInput.value) || 1, 1),
          20
        );
        peopleCountInput.value = n;
        peopleNames = Array.from({ length: n }, (_, i) => `Person ${i + 1}`);
        renderWeightedPeople();
        renderItemPeopleChips();
      }

      function renderWeightedPeople() {
        const mode = document.getElementById("weights-mode").value;
        weightedPeopleContainer.innerHTML = "";
        peopleNames.forEach((name, idx) => {
          const row = document.createElement("div");
          row.className = "grid grid-cols-12 gap-2 items-center";
          row.innerHTML = `
        <div class="col-span-5">
          <input type="text" data-person-index="${idx}" value="${name}" class="person-name w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm">
        </div>
        <div class="col-span-4">
          <input type="number" min="0" step="0.01" data-person-index="${idx}" class="person-weight input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm" placeholder="${
            mode === "percent"
              ? "Percent"
              : mode === "weights"
              ? "Weight"
              : "Amount"
          }">
        </div>
        <div class="col-span-3 text-right text-xs text-gray-500">
          <span class="badge bg-gray-100 text-gray-700">${
            mode === "percent" ? "%" : mode === "weights" ? "weight" : "amount"
          }</span>
        </div>
      `;
          weightedPeopleContainer.appendChild(row);
        });
      }

      function renderItemPeopleChips() {
        itemsPeopleChips.innerHTML = "";
        peopleNames.forEach((name, idx) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className =
            "person-chip px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800";
          btn.textContent = name;
          btn.dataset.personIndex = idx;
          itemsPeopleChips.appendChild(btn);
        });
      }

      applyPeopleBtn.addEventListener("click", () => {
        initPeople();
        itemsContainer.innerHTML = "";
        itemsResults.classList.add("hidden");
        settlementsResults.classList.add("hidden");
      });

      document.getElementById("weights-mode").addEventListener("change", () => {
        renderWeightedPeople();
      });

      // Simple equal split calculation
      const currencySelect = document.getElementById("currency-select");
      const calcSimpleBtn = document.getElementById("calc-simple");
      const simpleResults = document.getElementById("simple-results");
      const simpleTotalDisplay = document.getElementById(
        "simple-total-display"
      );
      const simplePerPersonDisplay = document.getElementById(
        "simple-per-person-display"
      );
      const simpleNote = document.getElementById("simple-note");

      calcSimpleBtn.addEventListener("click", () => {
        const currency = currencySelect.value;
        const subtotal = safeNumber(
          document.getElementById("simple-subtotal").value
        );
        if (subtotal < 0) return;

        let tax = safeNumber(document.getElementById("simple-tax").value);
        const taxPercent = safeNumber(
          document.getElementById("simple-tax-percent").value
        );
        if (tax === 0 && taxPercent > 0) {
          tax = (subtotal * taxPercent) / 100;
        }

        let tip = safeNumber(document.getElementById("simple-tip").value);
        const tipPercent = safeNumber(
          document.getElementById("simple-tip-percent").value
        );
        if (tip === 0 && tipPercent > 0) {
          tip = (subtotal * tipPercent) / 100;
        }

        let discount = safeNumber(
          document.getElementById("simple-discount").value
        );
        const discountPercent = safeNumber(
          document.getElementById("simple-discount-percent").value
        );
        if (discount === 0 && discountPercent > 0) {
          discount = (subtotal * discountPercent) / 100;
        }

        const total = Math.max(subtotal + tax + tip - discount, 0);
        const n = Math.min(
          Math.max(parseInt(peopleCountInput.value) || 1, 1),
          20
        );
        const perPersonRaw = total / n;
        const perPerson = Math.round(perPersonRaw * 100) / 100;

        simpleTotalDisplay.textContent = formatMoney(total, currency);
        simplePerPersonDisplay.textContent = formatMoney(perPerson, currency);
        simpleNote.textContent = `Based on ${n} people. Total = subtotal + tax + tip − discount = ${formatMoney(
          subtotal,
          currency
        )} + ${formatMoney(tax, currency)} + ${formatMoney(
          tip,
          currency
        )} − ${formatMoney(discount, currency)}.`;
        simpleResults.classList.remove("hidden");

        // store for settlements
        lastResults.simple = {
          people: peopleNames.slice(),
          amounts: Array(n).fill(perPerson),
          total,
        };
        settlementsResults.classList.add("hidden");
      });

      // Weighted split calculation
      const calcWeightedBtn = document.getElementById("calc-weighted");
      const weightedResults = document.getElementById("weighted-results");
      const weightedResultsBody = document.getElementById(
        "weighted-results-body"
      );
      const weightedNote = document.getElementById("weighted-note");

      calcWeightedBtn.addEventListener("click", () => {
        const currency = currencySelect.value;
        const total = safeNumber(
          document.getElementById("weighted-total").value
        );
        if (total <= 0) return;
        const mode = document.getElementById("weights-mode").value;

        const nameInputs = document.querySelectorAll(".person-name");
        const weightInputs = document.querySelectorAll(".person-weight");
        const names = [];
        const weights = [];

        nameInputs.forEach((input, idx) => {
          const name = input.value.trim() || `Person ${idx + 1}`;
          names.push(name);
          const w = safeNumber(weightInputs[idx].value);
          weights.push(w);
        });

        let amounts = [];
        let note = "";
        if (mode === "percent") {
          const sumPercent = weights.reduce((s, v) => s + v, 0);
          if (sumPercent <= 0) return;
          const normalized = weights.map((w) => w / sumPercent);
          const raw = normalized.map((f) => total * f);
          amounts = distributeRounding(raw, total);
          note = `Percentages sum to ${sumPercent.toFixed(
            2
          )}%. Shares are normalized so they add up to 100%.`;
        } else if (mode === "weights") {
          const sumWeights = weights.reduce((s, v) => s + v, 0);
          if (sumWeights <= 0) return;
          const raw = weights.map((w) => total * (w / sumWeights));
          amounts = distributeRounding(raw, total);
          note = `Weights are converted to percentages of the total. Sum of weights = ${sumWeights.toFixed(
            2
          )}.`;
        } else {
          const sumFixed = weights.reduce((s, v) => s + v, 0);
          if (sumFixed <= 0) return;
          // If fixed amounts don't match total, scale proportionally
          const scale = total / sumFixed;
          const raw = weights.map((w) => w * scale);
          amounts = distributeRounding(raw, total);
          note = `Entered amounts are scaled so that the sum matches the total bill. Original sum = ${formatMoney(
            sumFixed,
            currency
          )}.`;
        }

        weightedResultsBody.innerHTML = "";
        names.forEach((name, idx) => {
          const tr = document.createElement("tr");
          tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50";
          const share = weights[idx];
          const shareLabel =
            mode === "percent"
              ? share.toFixed(2) + "%"
              : mode === "weights"
              ? share.toFixed(2)
              : formatMoney(share, currency);
          tr.innerHTML = `
        <td class="px-3 py-2 border-b text-gray-800">${name}</td>
        <td class="px-3 py-2 border-b text-right text-gray-600">${shareLabel}</td>
        <td class="px-3 py-2 border-b text-right font-medium">${formatMoney(
          amounts[idx],
          currency
        )}</td>
      `;
          weightedResultsBody.appendChild(tr);
        });
        weightedNote.textContent = note;
        weightedResults.classList.remove("hidden");

        // store for settlements
        lastResults.weighted = {
          people: names,
          amounts,
          total,
        };
        settlementsResults.classList.add("hidden");
      });

      // Per-item split
      const itemsContainer = document.getElementById("items-container");
      const addItemBtn = document.getElementById("add-item");
      const clearItemsBtn = document.getElementById("clear-items");
      const calcItemsBtn = document.getElementById("calc-items");
      const itemsResults = document.getElementById("items-results");
      const itemsResultsBody = document.getElementById("items-results-body");
      const itemsSubtotalDisplay = document.getElementById(
        "items-subtotal-display"
      );
      const itemsTaxTipDisplay = document.getElementById(
        "items-tax-tip-display"
      );
      const itemsTotalDisplay = document.getElementById("items-total-display");
      const itemsNote = document.getElementById("items-note");

      let itemIdCounter = 0;

      function createItemRow() {
        const id = itemIdCounter++;
        const row = document.createElement("div");
        row.className = "border border-gray-200 rounded-md p-3";
        row.dataset.itemId = id;
        const peopleCheckboxes = peopleNames
          .map(
            (name, idx) => `
      <label class="inline-flex items-center mr-3 mb-1 text-xs text-gray-700">
        <input type="checkbox" class="item-person" data-person-index="${idx}">
        <span class="ml-1">${name}</span>
      </label>
    `
          )
          .join("");
        row.innerHTML = `
      <div class="grid md:grid-cols-12 gap-2 items-center mb-2">
        <div class="md:col-span-5">
          <input type="text" class="item-name w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm" placeholder="Item name (optional)">
        </div>
        <div class="md:col-span-3">
          <input type="number" min="0" step="0.01" class="item-price input-number w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm" placeholder="Price">
        </div>
        <div class="md:col-span-3 text-xs text-gray-500">
          Split between:
        </div>
        <div class="md:col-span-1 text-right">
          <button type="button" class="remove-item text-xs text-red-600 hover:underline">Remove</button>
        </div>
      </div>
      <div class="flex flex-wrap">${peopleCheckboxes}</div>
    `;
        itemsContainer.appendChild(row);
      }

      addItemBtn.addEventListener("click", () => {
        createItemRow();
      });

      clearItemsBtn.addEventListener("click", () => {
        itemsContainer.innerHTML = "";
        itemsResults.classList.add("hidden");
        settlementsResults.classList.add("hidden");
      });

      itemsContainer.addEventListener("click", (e) => {
        if (e.target.classList.contains("remove-item")) {
          const row = e.target.closest("[data-item-id]");
          if (row) row.remove();
        }
      });

      calcItemsBtn.addEventListener("click", () => {
        const currency = currencySelect.value;
        const taxPercent = safeNumber(
          document.getElementById("items-tax-percent").value
        );
        const tipPercent = safeNumber(
          document.getElementById("items-tip-percent").value
        );
        const evenTaxTip =
          document.getElementById("items-even-tax-tip").checked;

        const rows = itemsContainer.querySelectorAll("[data-item-id]");
        if (!rows.length) return;

        const n = peopleNames.length;
        const itemSubtotals = Array(n).fill(0);
        let subtotal = 0;

        rows.forEach((row) => {
          const price = safeNumber(row.querySelector(".item-price").value);
          if (price <= 0) return;
          const checkboxes = row.querySelectorAll(".item-person");
          const participants = Array.from(checkboxes)
            .filter((cb) => cb.checked)
            .map((cb) => parseInt(cb.dataset.personIndex));
          if (!participants.length) return;
          const share = price / participants.length;
          participants.forEach((idx) => {
            itemSubtotals[idx] += share;
          });
          subtotal += price;
        });

        if (subtotal <= 0) return;

        const tax = subtotal * (taxPercent / 100);
        const tip = subtotal * (tipPercent / 100);
        const total = subtotal + tax + tip;

        let taxShares = Array(n).fill(0);
        let tipShares = Array(n).fill(0);

        if (evenTaxTip) {
          const taxEach = tax / n;
          const tipEach = tip / n;
          taxShares = Array(n).fill(taxEach);
          tipShares = Array(n).fill(tipEach);
        } else {
          const sumItems = itemSubtotals.reduce((s, v) => s + v, 0) || 1;
          taxShares = itemSubtotals.map((v) => tax * (v / sumItems));
          tipShares = itemSubtotals.map((v) => tip * (v / sumItems));
        }

        const rawTotals = itemSubtotals.map(
          (v, i) => v + taxShares[i] + tipShares[i]
        );
        const adjustedTotals = distributeRounding(rawTotals, total);

        itemsResultsBody.innerHTML = "";
        peopleNames.forEach((name, idx) => {
          const tr = document.createElement("tr");
          tr.className = idx % 2 === 0 ? "bg-white" : "bg-gray-50";
          tr.innerHTML = `
        <td class="px-3 py-2 border-b text-gray-800">${name}</td>
        <td class="px-3 py-2 border-b text-right text-gray-700">${formatMoney(
          itemSubtotals[idx],
          currency
        )}</td>
        <td class="px-3 py-2 border-b text-right text-gray-700">${formatMoney(
          taxShares[idx],
          currency
        )}</td>
        <td class="px-3 py-2 border-b text-right text-gray-700">${formatMoney(
          tipShares[idx],
          currency
        )}</td>
        <td class="px-3 py-2 border-b text-right font-medium">${formatMoney(
          adjustedTotals[idx],
          currency
        )}</td>
      `;
          itemsResultsBody.appendChild(tr);
        });

        itemsSubtotalDisplay.textContent = formatMoney(subtotal, currency);
        itemsTaxTipDisplay.textContent = formatMoney(tax + tip, currency);
        itemsTotalDisplay.textContent = formatMoney(total, currency);
        itemsNote.textContent = `Items are split equally among selected people. Tax (${taxPercent.toFixed(
          2
        )}%) and tip (${tipPercent.toFixed(
          2
        )}%) are applied to the subtotal and ${
          evenTaxTip
            ? "split evenly"
            : "allocated proportionally to each person’s item subtotal"
        }.`;
        itemsResults.classList.remove("hidden");

        // store for settlements
        lastResults.items = {
          people: peopleNames.slice(),
          amounts: adjustedTotals,
          total,
        };
        settlementsResults.classList.add("hidden");
      });

      // Settlements helper
      const payerNameInput = document.getElementById("payer-name");
      const payerModeSelect = document.getElementById("payer-mode");
      const calcSettlementsBtn = document.getElementById("calc-settlements");
      const settlementsResults = document.getElementById("settlements-results");
      const settlementsList = document.getElementById("settlements-list");
      const settlementsNote = document.getElementById("settlements-note");

      const lastResults = {
        simple: null,
        weighted: null,
        items: null,
      };

      calcSettlementsBtn.addEventListener("click", () => {
        const mode = payerModeSelect.value;
        const res = lastResults[mode];
        if (!res) return;
        const payer = payerNameInput.value.trim() || res.people[0];
        const idx = res.people.findIndex(
          (n) => n.toLowerCase() === payer.toLowerCase()
        );
        const payerIndex = idx >= 0 ? idx : 0;

        settlementsList.innerHTML = "";
        res.people.forEach((name, i) => {
          if (i === payerIndex) return;
          const li = document.createElement("li");
          li.textContent = `${name} should pay ${payer} ${formatMoney(
            res.amounts[i],
            currencySelect.value
          )}.`;
          settlementsList.appendChild(li);
        });
        settlementsNote.textContent = `Assumes ${payer} pays the full bill of ${formatMoney(
          res.total,
          currencySelect.value
        )}. Each other person reimburses their share.`;
        settlementsResults.classList.remove("hidden");
      });

      // Initialize
      initPeople();
      createItemRow();

      // Mobile menu script (simple)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const expanded = menu.classList.contains("hidden") ? "true" : "false";
          menu.classList.toggle("hidden");
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", expanded);
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
