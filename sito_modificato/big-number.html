<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Big Number Calculator &amp; Formatter (Very Large Integers)</title>
  <meta name="description" content="Work with very large integers: add, subtract, multiply, format with commas, convert to scientific notation, and get the English name for short-scale numbers. Handles numbers far beyond JavaScript’s normal limits.">
  <link rel="canonical" href="https://calcdomain.com/big-number">
  <meta property="og:title" content="Big Number Calculator &amp; Formatter (Very Large Integers) | CalcDomain">
  <meta property="og:description" content="Work with very large integers: add, subtract, multiply, format with commas, convert to scientific notation, and get the English name for short-scale numbers. Handles numbers far beyond JavaScript’s normal limits.">
  <meta property="og:url" content="https://calcdomain.com/big-number">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Big Number Calculator &amp; Formatter (Very Large Integers) | CalcDomain">
  <meta name="twitter:description" content="Work with very large integers: add, subtract, multiply, format with commas, convert to scientific notation, and get the English name for short-scale numbers. Handles numbers far beyond JavaScript’s normal limits.">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f8fafc; }
    .card { background: #fff; border: 1px solid #e5e7eb; border-radius: 1rem; box-shadow: 0 8px 20px rgba(15, 23, 42, 0.05); }
    .calc-hero { display: grid; gap: 1.5rem; }
    @media (min-width: 1024px) { .calc-hero { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    .sticky-box { position: sticky; top: 1.5rem; }
    .calc-input, textarea { width: 100%; border-radius: 0.75rem; border: 1px solid #d1d5db; padding: 0.85rem; font-size: 1rem; font-family: inherit; background: #f9fafb; }
    textarea { min-height: 120px; resize: vertical; }
    .calc-input:focus, textarea:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25); background: #fff; }
    .help-text { font-size: 0.8rem; color: #4b5563; }
    .btn { border-radius: 0.75rem; padding: 0.75rem 1rem; font-weight: 600; border: none; cursor: pointer; transition: background 0.2s, transform 0.2s; }
    .btn:hover { transform: translateY(-1px); }
    .btn-primary { background: #2563eb; color: #fff; }
    .btn-secondary, .btnSecondary { background: #fff; color: #1f2937; border: 1px solid #d1d5db; }
    .alert { padding: 0.85rem 1rem; border-radius: 0.5rem; font-size: 0.95rem; display: none; }
    .alert-error { background: #fef2f2; border-left: 4px solid #dc2626; color: #991b1b; }
    .result-box { background: linear-gradient(135deg, #eef2ff 0%, #dbeafe 100%); border: 1px solid #bfdbfe; border-radius: 0.75rem; padding: 1.5rem; text-align: center; }
    .result-value { font-size: 2.25rem; font-weight: 700; color: #1e3a8a; word-break: break-word; }
    .op-btn { border-radius: 0.75rem; border: 1px solid #d1d5db; padding: 0.65rem 1rem; background: #f3f4f6; color: #1f2937; font-weight: 600; }
    .op-btn.active { background: #1d4ed8; color: #fff; border-color: #1d4ed8; }
    #resultWarnings { display: none; }
    .result-metric { display: flex; flex-direction: column; gap: 0.35rem; }
  </style>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>

  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

  <script>
    window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "BreadcrumbList",
        "itemListElement": [
          { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com" },
          { "@type": "ListItem", "position": 2, "name": "General", "item": "https://calcdomain.com/categories/general" },
          { "@type": "ListItem", "position": 3, "name": "Miscellaneous", "item": "https://calcdomain.com/subcategories/miscellaneous" }
        ]
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What is a big number calculator?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "A big number calculator lets you add, subtract, and multiply integers that are too large for normal calculators or built-in number types. This tool works on the number as text, digit by digit."
            }
          },
          {
            "@type": "Question",
            "name": "Can it name large numbers?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. For numbers up to a few hundred digits, it tries to produce an English short-scale name (thousand, million, billion, trillion, … centillion). Above that it will tell you the name is out of range."
            }
          },
          {
            "@type": "Question",
            "name": "Does it support decimals?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "This page is optimized for very large integers. For decimals, scientific notation is shown for convenience, but arithmetic is performed on integers."
            }
          }
        ]
      }
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-800">

  <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="navRight hidden md:flex items-center space-x-6">
          <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
          <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <main id="mainContent" class="container mx-auto px-4 py-8">
    <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
      <ol class="flex flex-wrap items-center gap-1">
        <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
        <li class="text-gray-400">/</li>
        <li><a href="https://calcdomain.com/categories/general" class="text-blue-600 hover:underline">General</a></li>
        <li class="text-gray-400">/</li>
        <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous</a></li>
        <li class="text-gray-400">/</li>
        <li><span class="text-gray-800">Big Number Calculator</span></li>
      </ol>
    </nav>

    <div class="space-y-3">
      <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Big Number Calculator</h1>
      <p id="pageSub" class="sub text-lg text-gray-600">Work with very large integers: add, subtract, multiply, format with commas, convert to scientific notation, and get the English name for short-scale numbers. Handles numbers far beyond JavaScript’s normal limits.</p>
      <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
    </div>

    <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
      <section class="card" id="inputsCard" aria-label="Calculator inputs">
        <div class="bg-gray-50 p-6 rounded-[1rem] border border-gray-200 space-y-6">
          <div>
            <label for="bigA" class="text-sm font-semibold text-gray-700">Number A</label>
            <textarea id="bigA" class="calc-input" rows="3">123456789012345678901234567890</textarea>
          </div>
          <div>
            <label for="bigB" class="text-sm font-semibold text-gray-700">Number B</label>
            <textarea id="bigB" class="calc-input" rows="3">98765432109876543210</textarea>
          </div>
          <div>
            <p class="help-text">Digits only. Hyphens, commas, and spaces will be stripped automatically. Pasting or typing thousands of digits is fine.</p>
          </div>
          <div>
            <p class="text-sm font-semibold text-gray-700 mb-3">Choose operation</p>
            <div class="flex flex-wrap gap-3">
              <button data-op="add" class="op-btn" type="button">A + B</button>
              <button data-op="sub" class="op-btn" type="button">A − B</button>
              <button data-op="mul" class="op-btn" type="button">A × B</button>
              <button id="formatA" class="op-btn" type="button">Format A</button>
            </div>
            <p class="help-text mt-2">Multiplication handles a few thousand digits. Extremely large inputs may be slow, so we warn you if the total digit count is high.</p>
          </div>
          <div class="flex gap-3">
            <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
            <button class="btn btn-secondary btnSecondary flex-1" id="resetBtn" type="button">Reset</button>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </div>
      </section>

      <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
        <div class="result-box mb-4">
          <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Result snapshot</div>
          <div id="result-raw" class="result-value">—</div>
        </div>
        <div class="bg-white border border-gray-200 rounded-lg p-4 space-y-4">
          <div class="result-metric">
            <span class="text-xs uppercase tracking-wide text-gray-500">With separators</span>
            <span id="result-grouped" class="font-semibold text-lg text-gray-900 break-words">—</span>
          </div>
          <div class="result-metric">
            <span class="text-xs uppercase tracking-wide text-gray-500">Scientific notation</span>
            <span id="result-sci" class="font-semibold text-lg text-gray-900 break-words">—</span>
          </div>
          <div class="result-metric">
            <span class="text-xs uppercase tracking-wide text-gray-500">English short-scale name</span>
            <span id="result-name" class="font-semibold text-lg text-gray-900 break-words">—</span>
          </div>
          <p id="resultSummary" class="text-sm text-gray-500">Select an operation and press Calculate.</p>
          <p id="resultWarnings" class="text-sm text-amber-700 mt-3"></p>
        </div>
      </section>
    </div>

    <div class="flex flex-col lg:flex-row gap-8 mt-10">
      <section class="w-full lg:w-2/3 space-y-8">
        <section class="card content-card space-y-6" id="howToUse" aria-label="How to use and methodology">
          <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
          <p>Enter the digits for Number A and Number B. Choose addition, subtraction, or multiplication, then click Calculate. Use Format A when you simply want to standardize one number without combining it with another input.</p>
          <ol class="list-decimal list-inside text-gray-700 space-y-2">
            <li>Paste or type digits into the Number A and Number B fields. Non-digit characters are stripped automatically.</li>
            <li>Select the operation you want to perform. The active button is highlighted in blue.</li>
            <li>Press Calculate (or let the automatic update run after small edits). Results appear immediately and include both raw and human-friendly displays.</li>
            <li>Reset clears all inputs back to the defaults shown in the textareas.</li>
          </ol>
          <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700">
            For multiplication we allow a few thousand digits but may warn you if the work becomes slow. Subtraction requires Number A to be larger than or equal to Number B. If you only need to format a single value, Format A keeps the arithmetic simple.
          </div>

          <h2 class="text-2xl font-semibold mt-6">Methodology</h2>
          <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-gray-700">
            <p>JavaScript’s default numbers (double-precision) break at 9,007,199,254,740,991 (2<sup>53</sup>−1). This tool keeps every value as a string of digits and performs the operations the same way you would by hand.</p>
            <p>Addition and subtraction operate digit by digit with carry/borrow. Multiplication uses a grade-school algorithm and accumulates partial products. Formatting adds commas every three digits, displays an approximate scientific notation, and converts the result into a short-scale English name when it fits the lookup table.</p>
            <p>Because decimals confuse the string arithmetic, the calculator strips any non-digits from the input. The formatting step still shows a scientific approximation if you type a decimal-like value.</p>
          </div>

          <section>
            <h3 class="text-xl font-semibold">Naming large numbers</h3>
            <p class="text-gray-700">We use the US/short scale: thousand (10³), million (10⁶), billion (10⁹), trillion (10¹²), quadrillion, …, centillion (10³⁰³). If the number has more groups than we can name, the calculator explicitly states that the name is too large to show.</p>
          </section>

        </section>

        <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
          <details id="formulaDetails">
            <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
            <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700">
              <p><strong>String-based arithmetic</strong></p>
              <p class="mt-2">Addition and subtraction process digits from right to left, carrying or borrowing as needed, identical to handwritten arithmetic. Multiplication builds the product by multiplying each digit pair and accumulating place values.</p>
              <p class="mt-2">Formatting inserts comma separators, creates an approximate representation for scientific notation, and looks up English short-scale names for grouped triplets.</p>
            </div>
          </details>

          <details class="mt-3" id="citationDetails">
            <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
            <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700">
              <p>NIST — Weights and measures: <a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.nist.gov/pml/weights-and-measures</a></p>
              <p class="mt-2">FTC — Consumer advice: <a href="https://consumer.ftc.gov/" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://consumer.ftc.gov/</a></p>
            </div>
          </details>

          <details class="mt-3" id="changelogDetails">
            <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
            <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700">
              <p><strong>Version:</strong> 0.1.0-draft</p>
              <p><strong>Last code update:</strong> 2026-01-19</p>
              <ul class="list-disc list-inside mt-3">
                <li>Initial audit spec draft generated from the legacy HTML extraction.</li>
                <li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
                <li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
              </ul>
            </div>
          </details>

          <div class="flex gap-2 mt-4 flex-wrap">
            <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm"><span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido</span>
            <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
            <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
          </div>
        
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
      </section>

      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-8">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-4">Related tools</h3>
            <ul class="space-y-3">
              <li><a href="https://calcdomain.com/number-to-words-converter" class="text-blue-600 hover:underline">Number to Words Converter</a></li>
              <li><a href="https://calcdomain.com/words-to-numbers-converter" class="text-blue-600 hover:underline">Words to Numbers Converter</a></li>
              <li><a href="https://calcdomain.com/roman-numeral-converter" class="text-blue-600 hover:underline">Roman Numeral Converter</a></li>
              <li><a href="https://calcdomain.com/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp; Algebra</a></li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-3">When to use this</h3>
            <p class="text-sm text-gray-600">Perfect for cryptography exercises (non-secure), factorial growth examples, combinatorics studies, educational "how big is it?" demos, and handling IDs that are too large for JavaScript’s normal number type.</p>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
            <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
            <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
            <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
            <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script src="/assets/js/mobile-menu.js"></script>
  <script src="/assets/js/script_menu.js" defer></script>
  <script src="/assets/js/script_faq.js" defer></script>
  <script src="/search.js"></script>

  <script>
    (function() {
      'use strict';

      const debounce = (fn, delay = 100) => {
        let timer;
        return (...args) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn(...args), delay);
        };
      };

      const cleanDigits = (value) => value.replace(/[^0-9]/g, '').replace(/^0+/, '') || '0';

      function addStrings(a, b) {
        let carry = 0;
        let result = '';
        let i = a.length - 1;
        let j = b.length - 1;
        while (i >= 0 || j >= 0 || carry) {
          const da = i >= 0 ? parseInt(a[i], 10) : 0;
          const db = j >= 0 ? parseInt(b[j], 10) : 0;
          const sum = da + db + carry;
          result = (sum % 10) + result;
          carry = Math.floor(sum / 10);
          i -= 1;
          j -= 1;
        }
        return result.replace(/^0+/, '') || '0';
      }

      function compareStrings(a, b) {
        a = a.replace(/^0+/, '') || '0';
        b = b.replace(/^0+/, '') || '0';
        if (a.length > b.length) return 1;
        if (a.length < b.length) return -1;
        if (a === b) return 0;
        return a > b ? 1 : -1;
      }

      function subStrings(a, b) {
        let result = '';
        let borrow = 0;
        let i = a.length - 1;
        let j = b.length - 1;
        while (i >= 0) {
          let da = parseInt(a[i], 10) - borrow;
          const db = j >= 0 ? parseInt(b[j], 10) : 0;
          if (da < db) {
            da += 10;
            borrow = 1;
          } else {
            borrow = 0;
          }
          const diff = da - db;
          result = diff + result;
          i -= 1;
          j -= 1;
        }
        return result.replace(/^0+/, '') || '0';
      }

      function mulStrings(a, b) {
        const la = a.length;
        const lb = b.length;
        const product = Array(la + lb).fill(0);
        for (let i = la - 1; i >= 0; i -= 1) {
          for (let j = lb - 1; j >= 0; j -= 1) {
            const mul = (a[i].charCodeAt(0) - 48) * (b[j].charCodeAt(0) - 48);
            const sum = product[i + j + 1] + mul;
            product[i + j + 1] = sum % 10;
            product[i + j] += Math.floor(sum / 10);
          }
        }
        while (product.length > 1 && product[0] === 0) product.shift();
        return product.join('');
      }

      function groupThousands(value) {
        let out = '';
        let count = 0;
        for (let i = value.length - 1; i >= 0; i -= 1) {
          out = value[i] + out;
          count += 1;
          if (count === 3 && i !== 0) {
            out = ',' + out;
            count = 0;
          }
        }
        return out;
      }

      function toScientific(value) {
        value = value.replace(/^0+/, '') || '0';
        if (value === '0') return '0';
        const len = value.length;
        const first = value[0];
        const rest = value.slice(1, 13).replace(/0+$/, '');
        if (rest.length === 0) return first + ' × 10^' + (len - 1);
        return first + '.' + rest + ' × 10^' + (len - 1);
      }

      const scaleNames = [
        '', 'thousand', 'million', 'billion', 'trillion', 'quadrillion',
        'quintillion', 'sextillion', 'septillion', 'octillion', 'nonillion',
        'decillion', 'undecillion', 'duodecillion', 'tredecillion', 'quattuordecillion',
        'quindecillion', 'sexdecillion', 'septendecillion', 'octodecillion', 'novemdecillion',
        'vigintillion', 'unvigintillion', 'duovigintillion', 'trevigintillion',
        'quattuorvigintillion', 'quinvigintillion', 'sesvigintillion', 'septenvigintillion',
        'octovigintillion', 'novemvigintillion', 'trigintillion', 'untrigintillion',
        'duotrigintillion', 'centillion'
      ];

      function threeDigitToWords(n) {
        const ones = ['', 'one','two','three','four','five','six','seven','eight','nine','ten',
          'eleven','twelve','thirteen','fourteen','fifteen','sixteen','seventeen','eighteen','nineteen'];
        const tens = ['', '', 'twenty','thirty','forty','fifty','sixty','seventy','eighty','ninety'];
        n = parseInt(n, 10);
        if (n === 0) return '';
        if (n < 20) return ones[n];
        if (n < 100) {
          return tens[Math.floor(n / 10)] + (n % 10 ? '-' + ones[n % 10] : '');
        }
        const rem = n % 100;
        return ones[Math.floor(n / 100)] + ' hundred' + (rem ? ' ' + threeDigitToWords(rem) : '');
      }

      function nameBigNumber(value) {
        value = value.replace(/^0+/, '') || '0';
        if (value === '0') return 'zero';
        const groups = [];
        for (let i = value.length; i > 0; i -= 3) {
          groups.unshift(value.substring(Math.max(0, i - 3), i));
        }
        if (groups.length > scaleNames.length) {
          return 'Number too large for name (length ' + value.length + ' digits).';
        }
        const parts = [];
        groups.forEach((group, idx) => {
          const words = threeDigitToWords(group);
          if (words) {
            const scaleIdx = groups.length - idx - 1;
            const scale = scaleNames[scaleIdx] || '';
            parts.push(words + (scale ? ' ' + scale : ''));
          }
        });
        return parts.join(' ').trim();
      }

      const refs = {
        bigA: document.getElementById('bigA'),
        bigB: document.getElementById('bigB'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),
        formatA: document.getElementById('formatA'),
        resultRaw: document.getElementById('result-raw'),
        resultGrouped: document.getElementById('result-grouped'),
        resultSci: document.getElementById('result-sci'),
        resultName: document.getElementById('result-name'),
        resultSummary: document.getElementById('resultSummary'),
        resultWarnings: document.getElementById('resultWarnings'),
        errorBox: document.getElementById('errorBox')
      };

      const operationButtons = document.querySelectorAll('[data-op]');
      let selectedOp = 'add';
      let pendingAction = 'calculate';

      const defaultInputs = {
        bigA: '123456789012345678901234567890',
        bigB: '98765432109876543210'
      };

      const debounceUpdate = debounce(() => {
        pendingAction = 'calculate';
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

        update();
      });

      function setActiveOperation(op) {
        selectedOp = op;
        operationButtons.forEach((button) => {
          button.classList.toggle('active', button.dataset.op === op);
        });
      }

      function parseInputs() {
        return {
          rawA: refs.bigA.value,
          rawB: refs.bigB.value,
          cleanedA: cleanDigits(refs.bigA.value),
          cleanedB: cleanDigits(refs.bigB.value),
          operation: selectedOp,
          formatOnly: pendingAction === 'format'
        };
      }

      function validate(inputs) {
        const errors = [];
        if (inputs.formatOnly) {
          if (!inputs.cleanedA || inputs.cleanedA === '0') {
            errors.push('Enter a number in Number A to format.');
          }
        } else {
          if (inputs.cleanedA === '0' && inputs.cleanedB === '0') {
            errors.push('Enter at least one non-zero number.');
          }
          if (inputs.operation === 'sub' && compareStrings(inputs.cleanedA, inputs.cleanedB) < 0) {
            errors.push('For subtraction, Number A must be greater than or equal to Number B.');
          }
        }
        return { ok: errors.length === 0, errors };
      }

      function compute(inputs) {
        const warnings = [];
        let result = '0';
        if (inputs.formatOnly) {
          result = inputs.cleanedA;
        } else if (inputs.operation === 'add') {
          result = addStrings(inputs.cleanedA, inputs.cleanedB);
        } else if (inputs.operation === 'sub') {
          result = subStrings(inputs.cleanedA, inputs.cleanedB);
        } else if (inputs.operation === 'mul') {
          if ((inputs.cleanedA.length + inputs.cleanedB.length) > 4000) {
            warnings.push('Multiplication of extremely large inputs may be slow.');
          }
          result = mulStrings(inputs.cleanedA, inputs.cleanedB);
        }
        if (!result) return null;
        return {
          raw: result,
          grouped: groupThousands(result),
          sci: toScientific(result),
          name: nameBigNumber(result),
          warnings
        };
      }

      function formatResults(outputs, inputs) {
        const opLabels = { add: 'A + B', sub: 'A − B', mul: 'A × B' };
        const heading = inputs.formatOnly ? 'Formatted Number A' : 'Result of ' + opLabels[inputs.operation];
        return {
          raw: outputs.raw,
          grouped: outputs.grouped,
          sci: outputs.sci,
          name: outputs.name,
          heading,
          warnings: outputs.warnings
        };
      }

      function render(formatted, errors) {
        if (errors && errors.length) {
          refs.errorBox.textContent = errors.join(' ');
          refs.errorBox.style.display = 'block';
        } else {
          refs.errorBox.textContent = '';
          refs.errorBox.style.display = 'none';
        }
        refs.resultRaw.textContent = formatted.raw || '—';
        refs.resultGrouped.textContent = formatted.grouped || '—';
        refs.resultSci.textContent = formatted.sci || '—';
        refs.resultName.textContent = formatted.name || '—';
        refs.resultSummary.textContent = formatted.heading || 'Select an operation and press Calculate.';
        if (formatted.warnings && formatted.warnings.length) {
          refs.resultWarnings.textContent = formatted.warnings.join(' ');
          refs.resultWarnings.style.display = 'block';
        } else {
          refs.resultWarnings.textContent = '';
          refs.resultWarnings.style.display = 'none';
        }
      }

      function update() {
        const inputs = parseInputs();
        const validation = validate(inputs);
        if (!validation.ok) {
          render({ raw: '—', grouped: '—', sci: '—', name: '—', heading: '—', warnings: [] }, validation.errors);
          pendingAction = 'calculate';
          return;
        }
        const outputs = compute(inputs);
        if (!outputs) {
          render({ raw: '—', grouped: '—', sci: '—', name: '—', heading: '—', warnings: [] }, ['Unable to compute with the current inputs.']);
          pendingAction = 'calculate';
          return;
        }
        const formatted = formatResults(outputs, inputs);
        render(formatted, []);
        pendingAction = 'calculate';
      }

      operationButtons.forEach((button) => {
        button.addEventListener('click', () => {
          pendingAction = 'calculate';
          setActiveOperation(button.dataset.op);
          update();
        });
      });

      refs.calcBtn.addEventListener('click', () => {
        pendingAction = 'calculate';
        update();
      });

      refs.resetBtn.addEventListener('click', () => {
        refs.bigA.value = defaultInputs.bigA;
        refs.bigB.value = defaultInputs.bigB;
        setActiveOperation('add');
        pendingAction = 'calculate';
        update();
      });

      refs.formatA.addEventListener('click', () => {
        pendingAction = 'format';
        update();
      });

      document.querySelectorAll('#inputsCard textarea').forEach((el) => {
        el.addEventListener('input', () => debounceUpdate());
        el.addEventListener('change', () => debounceUpdate());
      });

      setActiveOperation('add');
      update();

    })();
  </script>
</body>
</html>
