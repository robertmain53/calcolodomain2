<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/power-factor-correction" />
    <title>Power Factor Correction Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Power Factor Correction Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Power Factor Correction Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Power Factor Correction Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/power-factor-correction" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Power Factor Correction Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Power Factor Correction Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical Calculators", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "Power Factor Correction Calculator", "item": "https://calcdomain.com/power-factor-correction"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Power Factor Correction Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl font-bold mb-4">
              Power Factor Correction Calculator
            </h1>
            <p class="mb-4 text-gray-700">
              Size power factor correction capacitors, estimate new power
              factor, line current reduction and potential demand savings. Works
              with single‑phase or three‑phase systems.
            </p>

            <!-- Calculator UI -->
            <section
              aria-label="Power Factor Correction Calculator"
              class="mb-8"
            >
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Left: Inputs -->
                <div>
                  <h2 class="text-lg font-semibold mb-3">Input data</h2>

                  <!-- System type -->
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >System type</label
                  >
                  <select id="systemType" class="input-field mb-3">
                    <option value="3">Three-phase</option>
                    <option value="1">Single-phase</option>
                  </select>

                  <!-- Known quantity -->
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Known quantity</label
                  >
                  <select id="knownType" class="input-field mb-3">
                    <option value="kw">Real power P (kW)</option>
                    <option value="kva">Apparent power S (kVA)</option>
                    <option value="amps">Line current I (A)</option>
                  </select>

                  <!-- Real power -->
                  <div id="kwGroup" class="mb-3">
                    <label
                      for="kwInput"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Real power P</label
                    >
                    <div class="flex">
                      <input
                        id="kwInput"
                        type="number"
                        step="0.01"
                        class="input-field"
                        placeholder="e.g. 250"
                      />
                      <span class="ml-2 self-center text-sm text-gray-600"
                        >kW</span
                      >
                    </div>
                  </div>

                  <!-- Apparent power -->
                  <div id="kvaGroup" class="mb-3 hidden">
                    <label
                      for="kvaInput"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Apparent power S</label
                    >
                    <div class="flex">
                      <input
                        id="kvaInput"
                        type="number"
                        step="0.01"
                        class="input-field"
                        placeholder="e.g. 300"
                      />
                      <span class="ml-2 self-center text-sm text-gray-600"
                        >kVA</span
                      >
                    </div>
                  </div>

                  <!-- Current + voltage -->
                  <div id="ampsGroup" class="mb-3 hidden">
                    <label
                      for="ampsInput"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Line current I</label
                    >
                    <div class="flex mb-2">
                      <input
                        id="ampsInput"
                        type="number"
                        step="0.1"
                        class="input-field"
                        placeholder="e.g. 400"
                      />
                      <span class="ml-2 self-center text-sm text-gray-600"
                        >A</span
                      >
                    </div>
                    <label
                      for="voltageInput"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Line voltage V<sub>L</sub></label
                    >
                    <div class="flex">
                      <input
                        id="voltageInput"
                        type="number"
                        step="1"
                        class="input-field"
                        placeholder="e.g. 400"
                      />
                      <span class="ml-2 self-center text-sm text-gray-600"
                        >V</span
                      >
                    </div>
                  </div>

                  <!-- PFs -->
                  <div class="grid grid-cols-2 gap-3 mt-2">
                    <div>
                      <label
                        for="pfInitial"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Initial PF</label
                      >
                      <input
                        id="pfInitial"
                        type="number"
                        step="0.01"
                        min="0"
                        max="1"
                        class="input-field"
                        placeholder="e.g. 0.75"
                      />
                    </div>
                    <div>
                      <label
                        for="pfTarget"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Target PF</label
                      >
                      <input
                        id="pfTarget"
                        type="number"
                        step="0.01"
                        min="0"
                        max="1"
                        class="input-field"
                        placeholder="e.g. 0.95"
                      />
                    </div>
                  </div>

                  <!-- Frequency -->
                  <div class="mt-3">
                    <label
                      for="frequency"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Frequency</label
                    >
                    <select id="frequency" class="input-field">
                      <option value="50">50 Hz</option>
                      <option value="60" selected>60 Hz</option>
                    </select>
                  </div>

                  <!-- Billing / cost (optional) -->
                  <details class="mt-4">
                    <summary class="cursor-pointer text-sm text-blue-600">
                      Optional: demand billing &amp; cost
                    </summary>
                    <div class="mt-3">
                      <label
                        for="demandRate"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Demand charge</label
                      >
                      <div class="flex mb-2">
                        <input
                          id="demandRate"
                          type="number"
                          step="0.01"
                          class="input-field"
                          placeholder="e.g. 12"
                        />
                        <span class="ml-2 self-center text-sm text-gray-600"
                          >$/kVA·month</span
                        >
                      </div>
                      <label
                        for="hoursPerYear"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Operating hours per year</label
                      >
                      <input
                        id="hoursPerYear"
                        type="number"
                        step="1"
                        class="input-field"
                        placeholder="e.g. 4000"
                      />
                    </div>
                  </details>

                  <!-- Buttons & error -->
                  <div class="mt-4 flex flex-wrap gap-3">
                    <button
                      id="calcBtn"
                      class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                    >
                      Calculate
                    </button>
                    <button
                      id="resetBtn"
                      type="button"
                      class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"
                    >
                      Reset
                    </button>
                  </div>
                  <p id="errorMsg" class="mt-2 text-sm text-red-600 hidden"></p>
                </div>

                <!-- Right: Results -->
                <div>
                  <h2 class="text-lg font-semibold mb-3">Results</h2>
                  <div id="resultsPanel" class="space-y-3 text-sm">
                    <div class="border rounded-md p-3 bg-gray-50">
                      <h3 class="font-semibold mb-1">
                        Required capacitor bank
                      </h3>
                      <p>
                        <span class="font-medium">Qc:</span>
                        <span id="qcResult">–</span> kVAR
                      </p>
                      <p class="mt-1 text-gray-600 text-xs">
                        Positive value = add capacitors. (Calculator assumes
                        lagging inductive load.)
                      </p>
                    </div>

                    <div class="border rounded-md p-3 bg-gray-50">
                      <h3 class="font-semibold mb-1">
                        Power &amp; power factor
                      </h3>
                      <p>
                        <span class="font-medium">Real power P:</span>
                        <span id="pResult">–</span> kW
                      </p>
                      <p>
                        <span class="font-medium">Initial PF:</span>
                        <span id="pfInitialOut">–</span>
                      </p>
                      <p>
                        <span class="font-medium">Target PF:</span>
                        <span id="pfTargetOut">–</span>
                      </p>
                      <p>
                        <span class="font-medium">Initial kVA:</span>
                        <span id="kvaInitialOut">–</span> kVA
                      </p>
                      <p>
                        <span class="font-medium">Corrected kVA:</span>
                        <span id="kvaFinalOut">–</span> kVA
                      </p>
                    </div>

                    <div class="border rounded-md p-3 bg-gray-50">
                      <h3 class="font-semibold mb-1">Line current</h3>
                      <p>
                        <span class="font-medium">Initial current:</span>
                        <span id="iInitialOut">–</span> A
                      </p>
                      <p>
                        <span class="font-medium">Corrected current:</span>
                        <span id="iFinalOut">–</span> A
                      </p>
                      <p>
                        <span class="font-medium">Current reduction:</span>
                        <span id="iReductionOut">–</span>
                      </p>
                    </div>

                    <div class="border rounded-md p-3 bg-gray-50">
                      <h3 class="font-semibold mb-1">
                        Billing impact (optional)
                      </h3>
                      <p>
                        <span class="font-medium">Demand reduction:</span>
                        <span id="demandReductionOut">–</span> kVA
                      </p>
                      <p>
                        <span class="font-medium"
                          >Estimated annual savings:</span
                        >
                        <span id="annualSavingsOut">–</span>
                      </p>
                    </div>

                    <div class="border rounded-md p-3 bg-gray-50">
                      <h3 class="font-semibold mb-1">
                        Per‑phase capacitance (for reference)
                      </h3>
                      <p class="text-xs text-gray-600 mb-1">
                        Assuming a three‑phase capacitor bank connected in delta
                        at line voltage.
                      </p>
                      <p>
                        <span class="font-medium">Per‑phase kVAR:</span>
                        <span id="perPhaseKvarOut">–</span> kVAR
                      </p>
                      <p>
                        <span class="font-medium">Per‑phase capacitance:</span>
                        <span id="capacitanceOut">–</span> µF
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this power factor correction calculator works</h2>
              <p>
                Power factor correction (PFC) uses capacitors to cancel part of
                the inductive reactive power drawn by motors and other inductive
                loads. This reduces apparent power (kVA) and line current,
                improving system capacity and often lowering utility charges.
              </p>

              <h3>Step 1 – Determine real power P</h3>
              <p>The calculator can start from any of these:</p>
              <ul>
                <li><strong>Real power P (kW)</strong> directly, or</li>
                <li>
                  <strong>Apparent power S (kVA)</strong> and initial power
                  factor PF<sub>1</sub>, or
                </li>
                <li>
                  <strong>Line current I</strong>, line voltage V and
                  PF<sub>1</sub>.
                </li>
              </ul>
              <div class="formula-box text-sm">
                <p><strong>Three‑phase:</strong></p>
                <p>\( S = \sqrt{3}\, V_L I_L / 1000 \) (kVA)</p>
                <p>\( P = S \cdot \text{PF}_1 \) (kW)</p>
                <p class="mt-2"><strong>Single‑phase:</strong></p>
                <p>\( S = V I / 1000 \) (kVA)</p>
                <p>\( P = S \cdot \text{PF}_1 \) (kW)</p>
              </div>

              <h3>Step 2 – Compute existing and target reactive power</h3>
              <p>
                For a given real power P and power factor PF, the reactive power
                Q is:
              </p>
              <div class="formula-box text-sm">
                <p>\( \varphi = \arccos(\text{PF}) \)</p>
                <p>\( Q = P \tan(\varphi) \) (kVAR)</p>
              </div>
              <p>
                The calculator finds the initial reactive power \(Q_1\) from
                PF<sub>1</sub> and the target reactive power \(Q_2\) from
                PF<sub>2</sub>.
              </p>

              <h3>Step 3 – Required capacitor kVAR</h3>
              <p>
                The capacitor bank must supply the difference between the
                initial and target reactive power:
              </p>
              <div class="formula-box text-sm">
                <p>\( Q_c = Q_1 - Q_2 \) (kVAR)</p>
              </div>
              <p>
                A positive \(Q_c\) means you need capacitive reactive power
                (normal case for inductive loads). The tool reports this as the
                required capacitor bank size.
              </p>

              <h3>Step 4 – New kVA and line current</h3>
              <p>
                Once the target power factor is reached, the new apparent power
                and current are:
              </p>
              <div class="formula-box text-sm">
                <p>\( S_1 = P / \text{PF}_1 \) (initial kVA)</p>
                <p>\( S_2 = P / \text{PF}_2 \) (corrected kVA)</p>
                <p class="mt-2">
                  <strong>Three‑phase current:</strong> \( I = \dfrac{S \times
                  1000}{\sqrt{3}\, V_L} \)
                </p>
                <p>
                  <strong>Single‑phase current:</strong> \( I = \dfrac{S \times
                  1000}{V} \)
                </p>
              </div>
              <p>
                The calculator shows initial and corrected current and the
                percentage reduction.
              </p>

              <h3>Step 5 – Per‑phase capacitance (optional)</h3>
              <p>
                For a three‑phase delta‑connected capacitor bank, each phase
                sees the line voltage and carries one‑third of the total kVAR:
              </p>
              <div class="formula-box text-sm">
                <p>\( Q_{\phi} = Q_c / 3 \)</p>
                <p>
                  \( C_{\phi} = \dfrac{Q_{\phi} \times 10^3}{2 \pi f V_L^2} \)
                  (farads)
                </p>
              </div>
              <p>
                The calculator converts this to microfarads (µF) per phase. In
                practice, you will select the nearest standard capacitor rating
                or a bank of steps.
              </p>

              <h2>Typical design considerations</h2>
              <ul>
                <li>
                  <strong>Target PF:</strong> Many utilities require at least
                  0.9–0.95 lagging. Correcting to 0.98–0.99 is common; going too
                  close to 1.0 can risk over‑correction.
                </li>
                <li>
                  <strong>Fixed vs automatic banks:</strong> If your load varies
                  a lot, use an automatic multi‑step capacitor bank with a
                  controller instead of a single fixed bank.
                </li>
                <li>
                  <strong>Location:</strong> Centralized correction at the main
                  bus is simpler; local correction at motors reduces current in
                  branch circuits as well.
                </li>
                <li>
                  <strong>Harmonics and resonance:</strong> In systems with
                  significant harmonics, detuned (reactor‑protected) capacitor
                  banks are often required to avoid resonance.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>What input data do I need?</h3>
              <p>
                Ideally you know the real power in kW and the existing power
                factor from a meter or utility bill. If not, you can use kVA or
                measured current and voltage together with an estimated PF. The
                more accurate the starting PF, the more accurate the capacitor
                sizing.
              </p>

              <h3>Can this calculator handle leading power factor?</h3>
              <p>
                The formulas work for both lagging and leading PF, but this tool
                assumes a lagging inductive load and a lagging target PF. If you
                enter a target PF higher than the initial PF, it will compute a
                positive capacitor kVAR. If you were to enter a target PF lower
                than the initial PF, the required kVAR would be negative,
                indicating that you would need to remove capacitance or add
                inductive compensation.
              </p>

              <h3>Does power factor correction always save money?</h3>
              <p>
                It depends on how your utility bills you. If you pay demand
                charges based on kVA or are penalized for low power factor,
                correction usually pays back quickly. If you are billed only on
                kWh with no demand or PF penalties, the savings are mainly from
                reduced I²R losses in your own system, which may be modest for
                small installations.
              </p>

              <h3>
                Is this calculator suitable for final equipment selection?
              </h3>
              <p>
                It is a design aid and educational tool. For critical or large
                industrial systems, always have the final capacitor bank rating,
                switching scheme and protection reviewed by a qualified power
                systems engineer and checked against applicable standards and
                manufacturer data.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Power, Factor, Correction.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/three-phase-power"
                  class="text-blue-600 hover:underline"
                  >Three-Phase Power</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-ampacity"
                  class="text-blue-600 hover:underline"
                  >NEC Ampacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/volts-to-watts"
                  class="text-blue-600 hover:underline"
                  >Volts to Watts</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-hp"
                  class="text-blue-600 hover:underline"
                  >Watts to Horsepower</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/watts-to-btu"
                  class="text-blue-600 hover:underline"
                  >Watts to BTU/hr</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >NEC Voltage Drop</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bs-7671-voltage-drop"
                  class="text-blue-600 hover:underline"
                  >BS 7671 Voltage Drop</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-dwelling-load-calculation"
                  class="text-blue-600 hover:underline"
                  >NEC Dwelling Load</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nec-commercial-load-calculation"
                  class="text-blue-600 hover:underline"
                  >NEC Commercial Load</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Engineering Categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/categories/engineering"
                  class="text-blue-600 hover:underline"
                  >All Engineering Calculators</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/structural-engineering"
                  class="text-blue-600 hover:underline"
                  >Structural Engineering</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mechanical-engineering"
                  class="text-blue-600 hover:underline"
                  >Mechanical Engineering</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/electrical"
                  class="text-blue-600 hover:underline"
                  >Electrical &amp; Power</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Helper: show/hide groups based on known type
      const knownTypeEl = document.getElementById("knownType");
      const kwGroup = document.getElementById("kwGroup");
      const kvaGroup = document.getElementById("kvaGroup");
      const ampsGroup = document.getElementById("ampsGroup");

      knownTypeEl.addEventListener("change", () => {
        const v = knownTypeEl.value;
        kwGroup.classList.toggle("hidden", v !== "kw");
        kvaGroup.classList.toggle("hidden", v !== "kva");
        ampsGroup.classList.toggle("hidden", v !== "amps");
      });

      const systemTypeEl = document.getElementById("systemType");
      const calcBtn = document.getElementById("calcBtn");
      const resetBtn = document.getElementById("resetBtn");
      const errorMsg = document.getElementById("errorMsg");

      function fmt(num, digits = 2) {
        if (!isFinite(num)) return "–";
        return Number(num).toFixed(digits);
      }

      function calculatePFC() {
        errorMsg.classList.add("hidden");
        errorMsg.textContent = "";

        const sys = parseInt(systemTypeEl.value, 10); // 1 or 3
        const known = knownTypeEl.value;

        const kwInput = parseFloat(document.getElementById("kwInput").value);
        const kvaInput = parseFloat(document.getElementById("kvaInput").value);
        const ampsInput = parseFloat(
          document.getElementById("ampsInput").value
        );
        const voltageInput = parseFloat(
          document.getElementById("voltageInput").value
        );
        const pfInitial = parseFloat(
          document.getElementById("pfInitial").value
        );
        const pfTarget = parseFloat(document.getElementById("pfTarget").value);
        const freq = parseFloat(document.getElementById("frequency").value);

        const demandRate = parseFloat(
          document.getElementById("demandRate").value
        );
        const hoursPerYear = parseFloat(
          document.getElementById("hoursPerYear").value
        );

        if (
          !(pfInitial > 0 && pfInitial <= 1) ||
          !(pfTarget > 0 && pfTarget <= 1)
        ) {
          errorMsg.textContent =
            "Initial and target power factor must be between 0 and 1.";
          errorMsg.classList.remove("hidden");
          return;
        }
        if (pfTarget <= pfInitial) {
          errorMsg.textContent =
            "Target power factor should be higher than the initial power factor (for lagging loads).";
          errorMsg.classList.remove("hidden");
          return;
        }

        let PkW, SkVA_initial;

        if (known === "kw") {
          if (!(kwInput > 0)) {
            errorMsg.textContent = "Please enter a valid real power P in kW.";
            errorMsg.classList.remove("hidden");
            return;
          }
          PkW = kwInput;
          SkVA_initial = PkW / pfInitial;
        } else if (known === "kva") {
          if (!(kvaInput > 0)) {
            errorMsg.textContent =
              "Please enter a valid apparent power S in kVA.";
            errorMsg.classList.remove("hidden");
            return;
          }
          SkVA_initial = kvaInput;
          PkW = SkVA_initial * pfInitial;
        } else {
          // amps
          if (!(ampsInput > 0) || !(voltageInput > 0)) {
            errorMsg.textContent =
              "Please enter valid current (A) and line voltage (V).";
            errorMsg.classList.remove("hidden");
            return;
          }
          if (sys === 3) {
            SkVA_initial = (Math.sqrt(3) * voltageInput * ampsInput) / 1000;
          } else {
            SkVA_initial = (voltageInput * ampsInput) / 1000;
          }
          PkW = SkVA_initial * pfInitial;
        }

        // Reactive powers
        const phi1 = Math.acos(pfInitial);
        const phi2 = Math.acos(pfTarget);
        const Q1 = PkW * Math.tan(phi1); // kVAR
        const Q2 = PkW * Math.tan(phi2); // kVAR
        const Qc = Q1 - Q2; // required capacitor kVAR

        // New kVA and currents
        const SkVA_final = PkW / pfTarget;

        let I_initial, I_final;
        if (known === "amps" && voltageInput > 0) {
          // Use same voltage as entered
          if (sys === 3) {
            I_initial = (SkVA_initial * 1000) / (Math.sqrt(3) * voltageInput);
            I_final = (SkVA_final * 1000) / (Math.sqrt(3) * voltageInput);
          } else {
            I_initial = (SkVA_initial * 1000) / voltageInput;
            I_final = (SkVA_final * 1000) / voltageInput;
          }
        } else {
          // Assume nominal voltage if not provided; current ratio still valid
          const Vassumed =
            voltageInput > 0 ? voltageInput : sys === 3 ? 400 : 230;
          if (sys === 3) {
            I_initial = (SkVA_initial * 1000) / (Math.sqrt(3) * Vassumed);
            I_final = (SkVA_final * 1000) / (Math.sqrt(3) * Vassumed);
          } else {
            I_initial = (SkVA_initial * 1000) / Vassumed;
            I_final = (SkVA_final * 1000) / Vassumed;
          }
        }

        const I_reduction_pct = (1 - I_final / I_initial) * 100;

        // Demand and cost
        let demandReduction = SkVA_initial - SkVA_final; // kVA
        if (demandReduction < 0) demandReduction = 0;
        let annualSavings = null;
        if (demandRate > 0 && hoursPerYear > 0) {
          // Approximate: demand charge per month * 12
          annualSavings = demandReduction * demandRate * 12;
        }

        // Per-phase capacitance (delta, 3-phase only)
        let perPhaseKvar = null;
        let C_microF = null;
        if (sys === 3 && Qc > 0) {
          const VL = voltageInput > 0 ? voltageInput : 400; // assume 400 V if not given
          perPhaseKvar = Qc / 3;
          const C_F = (perPhaseKvar * 1000) / (2 * Math.PI * freq * VL * VL);
          C_microF = C_F * 1e6;
        }

        // Update UI
        document.getElementById("qcResult").textContent = fmt(Qc, 2);
        document.getElementById("pResult").textContent = fmt(PkW, 2);
        document.getElementById("pfInitialOut").textContent = fmt(pfInitial, 3);
        document.getElementById("pfTargetOut").textContent = fmt(pfTarget, 3);
        document.getElementById("kvaInitialOut").textContent = fmt(
          SkVA_initial,
          2
        );
        document.getElementById("kvaFinalOut").textContent = fmt(SkVA_final, 2);

        document.getElementById("iInitialOut").textContent = fmt(I_initial, 1);
        document.getElementById("iFinalOut").textContent = fmt(I_final, 1);
        document.getElementById("iReductionOut").textContent = isFinite(
          I_reduction_pct
        )
          ? fmt(I_reduction_pct, 1) + " %"
          : "–";

        document.getElementById("demandReductionOut").textContent = fmt(
          demandReduction,
          2
        );
        document.getElementById("annualSavingsOut").textContent =
          annualSavings != null && isFinite(annualSavings)
            ? "$" + fmt(annualSavings, 0)
            : "–";

        document.getElementById("perPhaseKvarOut").textContent =
          perPhaseKvar != null ? fmt(perPhaseKvar, 2) : "–";
        document.getElementById("capacitanceOut").textContent =
          C_microF != null ? fmt(C_microF, 1) : "–";
      }

      calcBtn.addEventListener("click", (e) => {
        e.preventDefault();
        calculatePFC();
      });

      resetBtn.addEventListener("click", () => {
        document.getElementById("kwInput").value = "";
        document.getElementById("kvaInput").value = "";
        document.getElementById("ampsInput").value = "";
        document.getElementById("voltageInput").value = "";
        document.getElementById("pfInitial").value = "";
        document.getElementById("pfTarget").value = "";
        document.getElementById("frequency").value = "60";
        document.getElementById("demandRate").value = "";
        document.getElementById("hoursPerYear").value = "";
        errorMsg.classList.add("hidden");
        errorMsg.textContent = "";

        const ids = [
          "qcResult",
          "pResult",
          "pfInitialOut",
          "pfTargetOut",
          "kvaInitialOut",
          "kvaFinalOut",
          "iInitialOut",
          "iFinalOut",
          "iReductionOut",
          "demandReductionOut",
          "annualSavingsOut",
          "perPhaseKvarOut",
          "capacitanceOut",
        ];
        ids.forEach((id) => {
          document.getElementById(id).textContent = "–";
        });
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
