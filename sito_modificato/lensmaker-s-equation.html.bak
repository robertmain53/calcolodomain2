<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/lensmaker-s-equation" />
    <title>Lensmaker S Equation Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Lensmaker S Equation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Lensmaker S Equation Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Lensmaker S Equation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/lensmaker-s-equation" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Lensmaker S Equation Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Lensmaker S Equation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Lensmaker’s Equation Calculator – Focal Length, Radius of Curvature & Refractive Index",
        "description": "Interactive lensmaker’s equation calculator for thin lenses. Compute focal length, radius of curvature, or refractive index for convex/concave lenses in air or other media, with step‑by‑step formulas and sign conventions.",
        "url": "https://calcdomain.com/lensmaker-s-equation",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Science",
              "item": "https://calcdomain.com/categories/science"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Science",
              "item": "https://calcdomain.com/science"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Lensmaker’s Equation"
            }
          ]
        },
        "mainEntity": {
          "@type": "Calculator",
          "name": "Lensmaker’s Equation Calculator",
          "description": "Compute focal length, radius of curvature, or refractive index using the lensmaker’s equation for thin lenses in air or other media.",
          "applicationCategory": "EducationalApplication",
          "operatingSystem": "Any"
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Physics Calculators", "item": "https://calcdomain.com/subcategories/physics"}, {"@type": "ListItem", "position": 4, "name": "Lensmaker\u2019s Equation Calculator", "item": "https://calcdomain.com/lensmaker-s-equation"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/physics" class="text-blue-600 hover:underline">Physics Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Lensmaker’s Equation Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Lensmaker’s Equation Calculator
              </h1>
              <p class="text-gray-600">
                Compute focal length, radius of curvature, or refractive index
                for thin spherical lenses in air or other media. Supports
                convex/concave surfaces, different unit systems, and full
                sign‑convention control.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Lensmaker’s Equation – Interactive Solver
              </h2>

              <!-- Mode selector -->
              <div class="mb-4 grid grid-cols-1 md:grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Solve for</label
                  >
                  <select
                    id="solveFor"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="f">Focal length f</option>
                    <option value="R1">Radius R₁ (first surface)</option>
                    <option value="R2">Radius R₂ (second surface)</option>
                    <option value="n">Refractive index n</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Lens environment</label
                  >
                  <select
                    id="environment"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="air">
                      Lens in air (n<sub>medium</sub> = 1.000)
                    </option>
                    <option value="custom">Custom surrounding medium</option>
                  </select>
                </div>
              </div>

              <!-- Units -->
              <div class="mb-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Length units</label
                  >
                  <select
                    id="lengthUnit"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="m">meters (m)</option>
                    <option value="cm" selected>centimeters (cm)</option>
                    <option value="mm">millimeters (mm)</option>
                  </select>
                </div>
                <div class="md:col-span-2">
                  <p class="text-xs text-gray-500 mt-6 md:mt-7">
                    All radii and focal length are interpreted in the same unit
                    you choose here.
                  </p>
                </div>
              </div>

              <!-- Sign convention helper -->
              <details
                class="mb-4 bg-blue-50 border border-blue-100 rounded-md px-4 py-3"
              >
                <summary
                  class="text-sm font-semibold text-blue-800 cursor-pointer"
                >
                  Sign convention helper
                </summary>
                <div class="mt-2 text-xs text-blue-900 space-y-1">
                  <p>
                    We use the standard Cartesian sign convention for spherical
                    lenses:
                  </p>
                  <ul class="list-disc ml-4">
                    <li>Light travels left → right.</li>
                    <li>
                      <strong>R₁</strong> (first surface): positive if center of
                      curvature is to the right (convex toward incoming light),
                      negative if to the left (concave).
                    </li>
                    <li>
                      <strong>R₂</strong> (second surface): positive if center
                      is to the right, negative if to the left. For a typical
                      biconvex lens in air: R₁ &gt; 0, R₂ &lt; 0.
                    </li>
                    <li>
                      Focal length <strong>f</strong> is positive for converging
                      lenses, negative for diverging lenses.
                    </li>
                  </ul>
                </div>
              </details>

              <!-- Inputs -->
              <div
                id="inputs-grid"
                class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"
              >
                <div>
                  <label
                    for="nLens"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Lens refractive index n<sub>lens</sub></label
                  >
                  <input
                    id="nLens"
                    type="number"
                    step="0.0001"
                    value="1.50"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Typical crown glass ≈ 1.50, flint glass ≈ 1.6–1.8.
                  </p>
                </div>
                <div id="nMediumWrapper" class="hidden">
                  <label
                    for="nMedium"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Medium refractive index n<sub>medium</sub></label
                  >
                  <input
                    id="nMedium"
                    type="number"
                    step="0.0001"
                    value="1.33"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Air ≈ 1.000, water ≈ 1.33.
                  </p>
                </div>

                <div>
                  <label
                    for="R1"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Radius R₁ (first surface)</label
                  >
                  <input
                    id="R1"
                    type="number"
                    step="0.0001"
                    value="10"
                    class="lens-input w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Positive: convex toward incoming light. Negative: concave.
                  </p>
                </div>
                <div>
                  <label
                    for="R2"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Radius R₂ (second surface)</label
                  >
                  <input
                    id="R2"
                    type="number"
                    step="0.0001"
                    value="-10"
                    class="lens-input w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    For a symmetric biconvex lens in air, R₂ is usually
                    negative.
                  </p>
                </div>

                <div>
                  <label
                    for="thickness"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Lens thickness d (optional)</label
                  >
                  <input
                    id="thickness"
                    type="number"
                    step="0.0001"
                    value="0"
                    class="lens-input w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Set d = 0 for thin‑lens approximation. Use d &gt; 0 for
                    thick lensmaker’s equation.
                  </p>
                </div>
                <div>
                  <label
                    for="focalLength"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Focal length f</label
                  >
                  <input
                    id="focalLength"
                    type="number"
                    step="0.0001"
                    value="10"
                    class="lens-input w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Positive for converging, negative for diverging lenses.
                  </p>
                </div>
              </div>

              <!-- Actions -->
              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calculateBtn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Calculate
                </button>
                <button
                  id="resetBtn"
                  class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Reset
                </button>
                <span id="errorMsg" class="text-sm text-red-600"></span>
              </div>

              <!-- Results -->
              <div
                id="resultsCard"
                class="hidden border border-gray-200 rounded-md p-4 bg-gray-50"
              >
                <h3 class="text-sm font-semibold mb-2">Result</h3>
                <p
                  id="resultMain"
                  class="text-lg font-semibold text-gray-900 mb-1"
                ></p>
                <p id="resultSecondary" class="text-sm text-gray-700 mb-2"></p>
                <div id="powerInfo" class="text-sm text-gray-700"></div>
              </div>
            </section>

            <!-- Theory & explanation -->
            <section class="prose">
              <h2>Lensmaker’s equation: formula and definitions</h2>
              <p>
                The lensmaker’s equation relates the focal length of a spherical
                lens to its radii of curvature and refractive index. In its most
                general (thick‑lens) form for a lens in a surrounding medium, it
                is:
              </p>
              <div class="formula-box">
                <p><strong>General lensmaker’s equation</strong></p>
                <p>
                  For a lens of refractive index \(n_\text{lens}\) in a medium
                  of index \(n_\text{medium}\):
                </p>
                <p>
                  \[ \frac{1}{f} = \left(\frac{n_\text{lens}}{n_\text{medium}} -
                  1\right) \left( \frac{1}{R_1} - \frac{1}{R_2} +
                  \frac{\left(\frac{n_\text{lens}}{n_\text{medium}} -
                  1\right)d}{\frac{n_\text{lens}}{n_\text{medium}}\,R_1 R_2}
                  \right) \]
                </p>
                <p>where:</p>
                <ul>
                  <li>\(f\) = focal length of the lens</li>
                  <li>
                    \(R_1\) = radius of curvature of the first surface (light
                    enters here)
                  </li>
                  <li>\(R_2\) = radius of curvature of the second surface</li>
                  <li>\(d\) = center thickness of the lens</li>
                  <li>
                    \(n_\text{lens}\) = refractive index of the lens material
                  </li>
                  <li>
                    \(n_\text{medium}\) = refractive index of the surrounding
                    medium (≈ 1 for air)
                  </li>
                </ul>
              </div>

              <p>
                For most introductory problems, the lens is thin and in air.
                Then \(d \approx 0\) and \(n_\text{medium} \approx 1\), so the
                equation simplifies to:
              </p>
              <div class="formula-box">
                <p><strong>Thin lens in air</strong></p>
                <p>
                  \[ \frac{1}{f} = (n - 1)\left(\frac{1}{R_1} -
                  \frac{1}{R_2}\right) \]
                </p>
                <p>
                  with \(n = n_\text{lens}\) and all lengths in the same unit.
                </p>
              </div>

              <h3>Sign convention used in this calculator</h3>
              <p>
                We use the standard Cartesian sign convention for spherical
                lenses:
              </p>
              <ul>
                <li>Light travels from left to right.</li>
                <li>
                  \(R_1\) is positive if the center of curvature of the first
                  surface lies to the right of that surface (surface is convex
                  toward the incoming light), and negative if to the left
                  (concave).
                </li>
                <li>
                  \(R_2\) is positive if its center of curvature lies to the
                  right of the second surface, negative if to the left.
                </li>
                <li>
                  Focal length \(f\) is positive for converging lenses and
                  negative for diverging lenses.
                </li>
              </ul>

              <p>For a typical symmetric biconvex lens in air:</p>
              <ul>
                <li>\(R_1 &gt; 0\)</li>
                <li>\(R_2 &lt; 0\)</li>
                <li>\(f &gt; 0\)</li>
              </ul>

              <h2>How to use the lensmaker’s equation calculator</h2>
              <ol>
                <li>
                  <strong>Choose what to solve for</strong>:
                  <ul>
                    <li>
                      <em>Focal length f</em> – given \(n\), \(R_1\), \(R_2\),
                      and optional thickness \(d\).
                    </li>
                    <li>
                      <em>Radius R₁</em> – design the first surface for a
                      desired focal length.
                    </li>
                    <li><em>Radius R₂</em> – design the second surface.</li>
                    <li>
                      <em>Refractive index n</em> – infer effective index from
                      measured focal length and geometry.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Select the environment</strong>:
                  <ul>
                    <li>
                      <em>Lens in air</em>: assumes \(n_\text{medium} = 1.000\).
                    </li>
                    <li>
                      <em>Custom surrounding medium</em>: specify
                      \(n_\text{medium}\) (e.g., water ≈ 1.33).
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Set the length unit</strong> (m, cm, or mm). All
                  radii, thickness, and focal length must be in this unit.
                </li>
                <li>
                  <strong>Enter known values</strong>:
                  <ul>
                    <li>
                      Lens index \(n_\text{lens}\) (and \(n_\text{medium}\) if
                      applicable).
                    </li>
                    <li>Radii \(R_1\), \(R_2\) with correct signs.</li>
                    <li>
                      Thickness \(d\) (0 for thin lens, or actual center
                      thickness for thick lens).
                    </li>
                    <li>
                      Focal length \(f\) if you are solving for a radius or
                      refractive index.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Click “Calculate”</strong>. The tool:
                  <ul>
                    <li>Computes the requested unknown.</li>
                    <li>Shows the result in your chosen unit.</li>
                    <li>
                      Displays the optical power in diopters (1/m) when focal
                      length is known.
                    </li>
                  </ul>
                </li>
              </ol>

              <h2>Worked example: biconvex glass lens in air</h2>
              <p>
                Suppose you have a symmetric biconvex glass lens in air with:
              </p>
              <ul>
                <li>\(n_\text{lens} = 1.50\)</li>
                <li>\(R_1 = +10\ \text{cm}\)</li>
                <li>\(R_2 = -10\ \text{cm}\)</li>
                <li>\(d \approx 0\) (thin lens)</li>
              </ul>
              <p>Using the thin‑lens formula:</p>
              <div class="formula-box">
                <p>
                  \[ \frac{1}{f} = (1.50 - 1)\left(\frac{1}{10} -
                  \frac{1}{-10}\right) = 0.5 \left( \frac{1}{10} + \frac{1}{10}
                  \right) = 0.5 \cdot \frac{2}{10} = 0.1\ \text{cm}^{-1} \] \[ f
                  = 10\ \text{cm} \]
                </p>
              </div>
              <p>
                The calculator reproduces this result and also reports the
                optical power:
              </p>
              <ul>
                <li>Convert \(f = 10\ \text{cm} = 0.10\ \text{m}\)</li>
                <li>Power \(P = 1/f = 10\ \text{diopters}\)</li>
              </ul>

              <h2>Common lens types and sign choices</h2>
              <p>
                Using the sign convention above, here are typical sign patterns
                for lenses in air:
              </p>
              <ul>
                <li>
                  <strong>Plano‑convex lens</strong> (flat on right, convex on
                  left):
                  <ul>
                    <li>\(R_1 &gt; 0\) (convex toward incoming light)</li>
                    <li>
                      \(R_2 = \infty\) (flat surface, effectively 1/R₂ = 0)
                    </li>
                    <li>Converging lens ⇒ \(f &gt; 0\)</li>
                  </ul>
                </li>
                <li>
                  <strong>Biconvex lens</strong>:
                  <ul>
                    <li>\(R_1 &gt; 0\)</li>
                    <li>\(R_2 &lt; 0\)</li>
                    <li>Converging lens ⇒ \(f &gt; 0\)</li>
                  </ul>
                </li>
                <li>
                  <strong>Plano‑concave lens</strong> (flat on right, concave on
                  left):
                  <ul>
                    <li>\(R_1 &lt; 0\)</li>
                    <li>\(R_2 = \infty\)</li>
                    <li>Diverging lens ⇒ \(f &lt; 0\)</li>
                  </ul>
                </li>
                <li>
                  <strong>Biconcave lens</strong>:
                  <ul>
                    <li>\(R_1 &lt; 0\)</li>
                    <li>\(R_2 &gt; 0\)</li>
                    <li>Diverging lens ⇒ \(f &lt; 0\)</li>
                  </ul>
                </li>
              </ul>

              <h2>Limitations and assumptions</h2>
              <ul>
                <li>
                  The lens surfaces are assumed to be
                  <strong>spherical</strong>.
                </li>
                <li>
                  Paraxial approximation: valid for small angles and rays close
                  to the optical axis.
                </li>
                <li>
                  For very thick or strongly curved lenses, higher‑order
                  aberrations are not modeled.
                </li>
                <li>
                  Refractive indices are assumed to be constant (single
                  wavelength); dispersion is not included.
                </li>
              </ul>

              <h2>FAQ</h2>
              <h3>
                What is the difference between thin and thick lensmaker’s
                equation?
              </h3>
              <p>
                The thin‑lens equation ignores the physical thickness of the
                lens (\(d \approx 0\)), which is a good approximation when the
                thickness is small compared to the radii of curvature and focal
                length. The thick‑lens form includes an extra term involving
                \(d\), which becomes important for high‑power or physically
                thick lenses.
              </p>

              <h3>
                Can I use this calculator for lenses in water or other media?
              </h3>
              <p>
                Yes. Choose “Custom surrounding medium” and enter the refractive
                index of the medium. The calculator then uses the generalized
                form with \(n_\text{lens}/n_\text{medium}\) instead of just
                \(n\).
              </p>

              <h3>How accurate are the results?</h3>
              <p>
                For paraxial rays and spherical surfaces, the lensmaker’s
                equation is the standard design tool used in optics. Real lenses
                may deviate slightly due to manufacturing tolerances, aspheric
                surfaces, and wavelength‑dependent refractive index
                (dispersion).
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Lensmaker, S, Equation.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Science Tools</h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline"
                  >Thin Lens Equation (image distance)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
            
              <li><a href="https://calcdomain.com/hohmann-transfer" class="text-blue-600 hover:underline">Hohmann Transfer Calculator</a></li>

              <li><a href="https://calcdomain.com/compton-scattering" class="text-blue-600 hover:underline">Compton Scattering Calculator</a></li>

              <li><a href="https://calcdomain.com/binding-energy" class="text-blue-600 hover:underline">Binding Energy Calculator</a></li>

              <li><a href="https://calcdomain.com/trophic-state-index" class="text-blue-600 hover:underline">Trophic State Index (TSI) Calculator</a></li>

              <li><a href="https://calcdomain.com/ocean-acidification" class="text-blue-600 hover:underline">Ocean Acidification Calculator (pH &amp; Acidity Change)</a></li>

              <li><a href="https://calcdomain.com/isoelectric-point" class="text-blue-600 hover:underline">Isoelectric Point (pI) Calculator</a></li>

              <li><a href="https://calcdomain.com/pesticide" class="text-blue-600 hover:underline">Pesticide Application Rate Calculator</a></li>

              <li><a href="https://calcdomain.com/quantum-tunneling" class="text-blue-600 hover:underline">Quantum Tunneling Probability Calculator</a></li>

              <li><a href="https://calcdomain.com/mayan-calendar-converter" class="text-blue-600 hover:underline">Mayan Calendar Converter</a></li>

              <li><a href="https://calcdomain.com/flash-distillation" class="text-blue-600 hover:underline">Flash Distillation Calculator</a></li>

              <li><a href="https://calcdomain.com/crop-yield" class="text-blue-600 hover:underline">Crop Yield Calculator</a></li>

              <li><a href="https://calcdomain.com/carbon-dating" class="text-blue-600 hover:underline">Carbon Dating Calculator (Radiocarbon Age)</a></li>

              <li><a href="https://calcdomain.com/q-value" class="text-blue-600 hover:underline">Q-Value Calculator for Nuclear Reactions</a></li>

              <li><a href="https://calcdomain.com/electronegativity-difference" class="text-blue-600 hover:underline">Electronegativity Difference Calculator</a></li>

              <li><a href="https://calcdomain.com/born-haber-cycle" class="text-blue-600 hover:underline">Born-Haber Cycle Calculator (Crystal Lattice Energy)</a></li>

              <li><a href="https://calcdomain.com/population-pyramid-generator" class="text-blue-600 hover:underline">Population Pyramid Generator</a></li>

              <li><a href="https://calcdomain.com/exoplanet-transit" class="text-blue-600 hover:underline">Exoplanet Transit Calculator</a></li>

              <li><a href="https://calcdomain.com/double-slit-interference" class="text-blue-600 hover:underline">Double-Slit Interference Calculator</a></li>

              <li><a href="https://calcdomain.com/primer-tm" class="text-blue-600 hover:underline">Primer Tm Calculator (DNA Oligo Melting Temperature)</a></li>
</ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Explore More in Science</h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline"
                  >Thin Lens Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/thin-lens-equation"
                  class="text-blue-600 hover:underline hidden"
                  >placeholder</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Lensmaker's equation calculator logic
      (function () {
        const solveForEl = document.getElementById("solveFor");
        const envEl = document.getElementById("environment");
        const lengthUnitEl = document.getElementById("lengthUnit");
        const nLensEl = document.getElementById("nLens");
        const nMediumWrapper = document.getElementById("nMediumWrapper");
        const nMediumEl = document.getElementById("nMedium");
        const R1El = document.getElementById("R1");
        const R2El = document.getElementById("R2");
        const dEl = document.getElementById("thickness");
        const fEl = document.getElementById("focalLength");
        const calcBtn = document.getElementById("calculateBtn");
        const resetBtn = document.getElementById("resetBtn");
        const errorMsg = document.getElementById("errorMsg");
        const resultsCard = document.getElementById("resultsCard");
        const resultMain = document.getElementById("resultMain");
        const resultSecondary = document.getElementById("resultSecondary");
        const powerInfo = document.getElementById("powerInfo");
        const inputs = [nLensEl, nMediumEl, R1El, R2El, dEl, fEl];

        function updateEnvVisibility() {
          if (envEl.value === "custom") {
            nMediumWrapper.classList.remove("hidden");
          } else {
            nMediumWrapper.classList.add("hidden");
          }
        }

        function updateSolveForState() {
          // Enable all first
          [R1El, R2El, fEl, nLensEl].forEach((el) => {
            el.disabled = false;
            el.classList.remove("bg-gray-100");
          });

          const mode = solveForEl.value;
          if (mode === "f") {
            fEl.disabled = true;
            fEl.classList.add("bg-gray-100");
          } else if (mode === "R1") {
            R1El.disabled = true;
            R1El.classList.add("bg-gray-100");
          } else if (mode === "R2") {
            R2El.disabled = true;
            R2El.classList.add("bg-gray-100");
          } else if (mode === "n") {
            nLensEl.disabled = true;
            nLensEl.classList.add("bg-gray-100");
          }
        }

        function clearErrors() {
          errorMsg.textContent = "";
          inputs.forEach((el) => el.classList.remove("input-error"));
        }

        function unitToMetersFactor(unit) {
          if (unit === "m") return 1;
          if (unit === "cm") return 0.01;
          if (unit === "mm") return 0.001;
          return 1;
        }

        function formatNumber(val, decimals) {
          if (!isFinite(val)) return "NaN";
          return Number(val.toFixed(decimals)).toString();
        }

        function calculate() {
          clearErrors();
          resultsCard.classList.add("hidden");
          powerInfo.textContent = "";

          const mode = solveForEl.value;
          const unit = lengthUnitEl.value;
          const L = unitToMetersFactor(unit);

          let nLens = parseFloat(nLensEl.value);
          let nMedium =
            envEl.value === "custom" ? parseFloat(nMediumEl.value) : 1.0;
          let R1 = parseFloat(R1El.value);
          let R2 = parseFloat(R2El.value);
          let d = parseFloat(dEl.value);
          let f = parseFloat(fEl.value);

          function markError(el, msg) {
            if (el && !el.disabled) el.classList.add("input-error");
            errorMsg.textContent = msg;
          }

          // Basic validation
          if (
            envEl.value === "custom" &&
            (!isFinite(nMedium) || nMedium <= 0)
          ) {
            markError(
              nMediumEl,
              "Enter a valid medium refractive index (> 0)."
            );
            return;
          }
          if (mode !== "n" && (!isFinite(nLens) || nLens <= 0)) {
            markError(nLensEl, "Enter a valid lens refractive index (> 0).");
            return;
          }
          if (!isFinite(d) || d < 0) {
            markError(dEl, "Thickness d must be ≥ 0.");
            return;
          }

          const nRel = nLens / nMedium; // relative index n_lens / n_medium
          const A = nRel - 1;

          // Convert lengths to meters for power calculation; math itself is unit-agnostic
          const R1m = R1 * L;
          const R2m = R2 * L;
          const dm = d * L;
          let fm = f * L;

          // Helper: compute 1/f (in 1/unit) using general lensmaker's equation
          function invFocal(nRelLocal, R1Local, R2Local, dLocal) {
            // If dLocal is effectively zero, drop thickness term
            if (Math.abs(dLocal) < 1e-12) {
              return (nRelLocal - 1) * (1 / R1Local - 1 / R2Local);
            }
            return (
              (nRelLocal - 1) *
              (1 / R1Local -
                1 / R2Local +
                ((nRelLocal - 1) * dLocal) / (nRelLocal * R1Local * R2Local))
            );
          }

          try {
            if (mode === "f") {
              if (!isFinite(R1) || !isFinite(R2) || R1 === 0 || R2 === 0) {
                markError(
                  R1 === 0 ? R1El : R2El,
                  "R₁ and R₂ must be non‑zero."
                );
                return;
              }
              const invF = invFocal(nRel, R1, R2, d);
              if (Math.abs(invF) < 1e-15) {
                errorMsg.textContent =
                  "Focal length is effectively infinite for these parameters.";
                return;
              }
              const fLocal = 1 / invF; // in chosen length unit
              fEl.value = formatNumber(fLocal, 6);
              fm = fLocal * L;

              resultMain.textContent = `Focal length f = ${formatNumber(
                fLocal,
                6
              )} ${unit}`;
              resultSecondary.textContent = `Using n_lens = ${formatNumber(
                nLens,
                4
              )}, n_medium = ${formatNumber(
                nMedium,
                4
              )}, R₁ = ${R1} ${unit}, R₂ = ${R2} ${unit}, d = ${d} ${unit}.`;
            } else if (mode === "R1") {
              if (!isFinite(R2) || R2 === 0) {
                markError(R2El, "Enter a non‑zero value for R₂.");
                return;
              }
              if (!isFinite(f) || f === 0) {
                markError(fEl, "Enter a non‑zero focal length f.");
                return;
              }
              // Solve for R1 from general equation:
              // 1/f = A(1/R1 - 1/R2 + A d / (nRel R1 R2))
              // Let B = 1/f/A + 1/R2
              // Then B = 1/R1 + (A d)/(nRel R1 R2) = (1 + A d/(nRel R2)) / R1
              // => R1 = (1 + A d/(nRel R2)) / B
              if (Math.abs(A) < 1e-15) {
                errorMsg.textContent =
                  "Relative index (n_lens / n_medium − 1) is too small to solve reliably.";
                return;
              }
              const B = 1 / f / A + 1 / R2;
              const numerator = 1 + (A * d) / (nRel * R2);
              if (Math.abs(B) < 1e-15) {
                errorMsg.textContent =
                  "Cannot solve for R₁ with these parameters (division by zero).";
                return;
              }
              const R1Sol = numerator / B;
              R1El.value = formatNumber(R1Sol, 6);

              resultMain.textContent = `Required radius R₁ = ${formatNumber(
                R1Sol,
                6
              )} ${unit}`;
              resultSecondary.textContent = `For f = ${f} ${unit}, n_lens = ${formatNumber(
                nLens,
                4
              )}, n_medium = ${formatNumber(
                nMedium,
                4
              )}, R₂ = ${R2} ${unit}, d = ${d} ${unit}.`;
            } else if (mode === "R2") {
              if (!isFinite(R1) || R1 === 0) {
                markError(R1El, "Enter a non‑zero value for R₁.");
                return;
              }
              if (!isFinite(f) || f === 0) {
                markError(fEl, "Enter a non‑zero focal length f.");
                return;
              }
              // Symmetric derivation for R2:
              // 1/f = A(1/R1 - 1/R2 + A d / (nRel R1 R2))
              // Rearranged similarly:
              // Let C = 1/R1 - (1/f)/A
              // Then C = 1/R2 - (A d)/(nRel R1 R2) = (1 - A d/(nRel R1))/R2
              // => R2 = (1 - A d/(nRel R1)) / C
              if (Math.abs(A) < 1e-15) {
                errorMsg.textContent =
                  "Relative index (n_lens / n_medium − 1) is too small to solve reliably.";
                return;
              }
              const C = 1 / R1 - 1 / f / A;
              const numerator2 = 1 - (A * d) / (nRel * R1);
              if (Math.abs(C) < 1e-15) {
                errorMsg.textContent =
                  "Cannot solve for R₂ with these parameters (division by zero).";
                return;
              }
              const R2Sol = numerator2 / C;
              R2El.value = formatNumber(R2Sol, 6);

              resultMain.textContent = `Required radius R₂ = ${formatNumber(
                R2Sol,
                6
              )} ${unit}`;
              resultSecondary.textContent = `For f = ${f} ${unit}, n_lens = ${formatNumber(
                nLens,
                4
              )}, n_medium = ${formatNumber(
                nMedium,
                4
              )}, R₁ = ${R1} ${unit}, d = ${d} ${unit}.`;
            } else if (mode === "n") {
              if (!isFinite(R1) || !isFinite(R2) || R1 === 0 || R2 === 0) {
                markError(
                  R1 === 0 ? R1El : R2El,
                  "R₁ and R₂ must be non‑zero."
                );
                return;
              }
              if (!isFinite(f) || f === 0) {
                markError(fEl, "Enter a non‑zero focal length f.");
                return;
              }
              // Solve for nRel from general equation:
              // Let x = nRel - 1
              // 1/f = x(1/R1 - 1/R2 + x d / (nRel R1 R2))
              // This is nonlinear in x and nRel; use thin-lens approximation if d is small.
              if (Math.abs(d) < 1e-9) {
                // Thin lens: 1/f = (nRel - 1)(1/R1 - 1/R2)
                const denom = 1 / R1 - 1 / R2;
                if (Math.abs(denom) < 1e-15) {
                  errorMsg.textContent =
                    "Cannot solve for n with these radii (division by zero).";
                  return;
                }
                const nRelSol = 1 + 1 / f / denom;
                const nLensSol = nRelSol * nMedium;
                nLensEl.value = formatNumber(nLensSol, 6);

                resultMain.textContent = `Required lens index n_lens ≈ ${formatNumber(
                  nLensSol,
                  6
                )}`;
                resultSecondary.textContent = `Using thin‑lens approximation with f = ${f} ${unit}, R₁ = ${R1} ${unit}, R₂ = ${R2} ${unit}, n_medium = ${formatNumber(
                  nMedium,
                  4
                )}.`;
              } else {
                errorMsg.textContent =
                  "Solving for n with non‑zero thickness is nonlinear; set d ≈ 0 or solve numerically offline.";
                return;
              }
            }

            // Optical power if focal length known
            if (isFinite(fm) && Math.abs(fm) > 0) {
              const power = 1 / fm; // diopters
              powerInfo.textContent = `Optical power P = ${formatNumber(
                power,
                3
              )} diopters (1/m).`;
            }

            resultsCard.classList.remove("hidden");
          } catch (e) {
            console.error(e);
            errorMsg.textContent =
              "An unexpected error occurred. Please check your inputs.";
          }
        }

        function resetForm() {
          clearErrors();
          solveForEl.value = "f";
          envEl.value = "air";
          lengthUnitEl.value = "cm";
          nLensEl.value = "1.50";
          nMediumEl.value = "1.33";
          R1El.value = "10";
          R2El.value = "-10";
          dEl.value = "0";
          fEl.value = "10";
          updateEnvVisibility();
          updateSolveForState();
          resultsCard.classList.add("hidden");
        }

        envEl.addEventListener("change", updateEnvVisibility);
        solveForEl.addEventListener("change", updateSolveForState);
        calcBtn.addEventListener("click", calculate);
        resetBtn.addEventListener("click", resetForm);

        // Initialize
        updateEnvVisibility();
        updateSolveForState();
      })();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
