<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/bearing-capacity">
    <title>Soil Bearing Capacity Calculator | CalcDomain</title>
    <meta name="description" content="Calculate the bearing capacity of soil with our precise and authoritative geotechnical engineering tool.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Soil Bearing Capacity Calculator | CalcDomain">
    <meta property="og:description" content="Calculate the bearing capacity of soil with our precise and authoritative geotechnical engineering tool.">
    <meta property="og:url" content="https://calcdomain.com/bearing-capacity">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Soil Bearing Capacity Calculator | CalcDomain">
    <meta name="twitter:description" content="Calculate the bearing capacity of soil with our precise and authoritative geotechnical engineering tool.">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; background: #f8fafc; color: #1f2937; }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 1rem; }
        header, footer { width: 100%; }
        .nav { display: flex; align-items: center; justify-content: space-between; }
        .brand { font-size: 1.5rem; font-weight: 700; color: #2563eb; text-decoration: none; }
        .navRight { display: flex; align-items: center; gap: 1rem; }
        .pill { font-size: 0.875rem; color: #475569; }
        .calc-hero { margin-top: 2rem; display: grid; gap: 1.5rem; }
        @media (min-width: 1024px) {
          .calc-hero { grid-template-columns: minmax(0, 1fr) 320px; }
        }
        .card { background: white; border-radius: 1rem; border: 1px solid #e5e7eb; box-shadow: 0 10px 25px rgba(15,23,42,0.05); padding: 0; }
        .sticky-box { position: sticky; top: 1.5rem; align-self: start; }
        .calc-input { width: 100%; padding: 0.75rem 0.8rem; border-radius: 0.5rem; border: 1px solid #d1d5db; font-size: 0.95rem; }
        .calc-input:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37,99,235,0.2); }
        .calc-label { display: block; font-size: 0.8rem; font-weight: 600; color: #6b7280; margin-bottom: 0.35rem; }
        .result-box { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); padding: 1.5rem; text-align: center; border-radius: 0.75rem; }
        .result-value { font-size: 2.25rem; font-weight: 800; color: #1e3a8a; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.7rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.9rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #6b7280; }
        .kpi-value { font-weight: 700; color: #111827; }
        .btn { border-radius: 0.6rem; font-weight: 600; border: none; cursor: pointer; transition: background 0.2s ease; }
        .btn-primary { background: #2563eb; color: white; padding: 0.85rem; width: 100%; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { background: white; border: 1px solid #d1d5db; padding: 0.85rem; width: 100%; }
        .btn-secondary:hover { background: #f3f4f6; }
        .btnSecondary { border-color: #9ca3af; color: #374151; }
        .alert { display: none; border-radius: 0.5rem; padding: 0.75rem 1rem; margin-top: 0.5rem; background: #fee2e2; border-left: 4px solid #dc2626; color: #991b1b; font-size: 0.9rem; }
        .calc-input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .schedule-table th, .schedule-table td { padding: 0.75rem; border-bottom: 1px solid #e5e7eb; text-align: left; }
        .schedule-table thead th { background: #f8fafc; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; }
        .schedule-table tr:nth-child(even) td { background: #f9fafb; }
        .meta-section summary { cursor: pointer; }
        .meta-section details div { background: white; border: 1px solid #e5e7eb; border-radius: 0.75rem; padding: 1rem; margin-top: 0.75rem; }
        .formula-box { background: #0b1220; color: #e5e7eb; border-radius: 0.75rem; padding: 1rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    </style>
  </head>
<body class="bg-gray-50 text-gray-800">

    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-blue-600 hover:underline">Construction &amp; DIY</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">Soil Bearing Capacity Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Soil Bearing Capacity Calculator</h1>
        <p id="pageSub" class="sub text-lg text-gray-600">
          Calculate the bearing capacity of soil using Terzaghi’s theory with transparent inputs for foundation width, depth, soil unit weight, cohesion, and friction angle.
        </p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="bg-gray-50 p-6 rounded-t-lg rounded-b-none border-b border-gray-200 space-y-5">
            <div>
              <h3 class="text-lg font-bold text-gray-700">Inputs &amp; Soil Parameters</h3>
              <p class="text-sm text-gray-500">All inputs must be positive. Defaults illustrate a typical small foundation.</p>
            </div>
            <div class="calc-input-grid">
              <div>
                <label for="width" class="calc-label">Width of Foundation (B, m)</label>
                <input id="width" type="number" class="calc-input" value="2" step="0.1" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="depth" class="calc-label">Depth of Foundation (Df, m)</label>
                <input id="depth" type="number" class="calc-input" value="1" step="0.1" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="unitWeight" class="calc-label">Unit Weight of Soil (γ, kN/m³)</label>
                <input id="unitWeight" type="number" class="calc-input" value="18" step="0.1" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="cohesion" class="calc-label">Cohesion of Soil (c, kPa)</label>
                <input id="cohesion" type="number" class="calc-input" value="25" step="0.1" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="frictionAngle" class="calc-label">Angle of Internal Friction (φ, °)</label>
                <input id="frictionAngle" type="number" class="calc-input" value="30" step="0.5" min="0" inputmode="decimal">
              </div>
            </div>
          </div>
          <div class="p-6 space-y-3">
            <p class="text-xs uppercase tracking-wide text-gray-500">Actions</p>
            <div class="flex gap-3">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
            <p class="text-sm text-gray-500 mt-2">Reset returns to the example values. Calculations use Terzaghi’s classical factors.</p>
            <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
          </div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="p-6">
            <div class="result-box mb-4">
              <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Ultimate Bearing Capacity</div>
              <div class="result-value" id="totalBearing">—</div>
            </div>

            <div class="bg-white border border-gray-200 rounded-lg p-4">
              <div class="kpi-row">
                <span class="kpi-label">Cohesion component (cNc)</span>
                <span class="kpi-value" id="cohesionContribution">—</span>
              </div>
              <div class="kpi-row">
                <span class="kpi-label">Depth component (γDfNq)</span>
                <span class="kpi-value" id="depthContribution">—</span>
              </div>
              <div class="kpi-row">
                <span class="kpi-label">Width component (0.5γBNγ)</span>
                <span class="kpi-value" id="widthContribution">—</span>
              </div>
              <div class="kpi-row">
                <span class="kpi-label">Friction angle used</span>
                <span class="kpi-value" id="frictionDisplay">—</span>
              </div>
            </div>
            <div class="flex gap-3 mt-4">
              <button class="btn btn-secondary flex-1" id="toggleSchedule" type="button">View breakdown</button>
              <button class="btn btn-secondary flex-1" id="downloadCsv" type="button" disabled>Download CSV</button>
            </div>
          </div>
        </section>
      </div>

      <div id="scheduleWrap" class="mt-6 overflow-x-auto border border-gray-200 rounded-lg tableWrap" style="display: none;" aria-label="Formula breakdown">
        <table class="schedule-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Component</th>
              <th>Value (kN/m²)</th>
            </tr>
          </thead>
          <tbody id="scheduleBody"></tbody>
        </table>
        <div class="p-3 text-gray-500 text-sm bg-gray-50">Each row reflects the contribution of a Terzaghi term; ultimate capacity is the sum.</div>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 mt-10">
        <section class="w-full lg:w-2/3 space-y-8">
          <section class="card content-card space-y-6" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>Enter the foundation width, depth, soil unit weight, cohesion, and friction angle to mirror your project conditions. Click <strong>Calculate</strong> to see the ultimate bearing capacity and the contribution from each Terzaghi term. The reset button restores the example values.</p>

            <h2 class="text-2xl font-semibold">Methodology</h2>
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
              <p>This tool relies on Terzaghi’s bearing capacity formula with fixed bearing capacity factors. Each component (cohesion, depth, width) is calculated before summing them to arrive at the theoretical ultimate capacity. The friction angle appears in the interface for transparency, even though the factor estimates remain constant for compatibility with legacy outputs.</p>
            </div>
            <ul class="list-disc pl-5 mt-4 space-y-2 text-gray-700">
              <li>Required inputs: foundation width, depth, soil unit weight, cohesion, and friction angle.</li>
              <li>The calculator multiplies each input by Terzaghi’s factors (Nc=5.14, Nq=1, Nγ=0.5) before adding them.</li>
              <li>Results are displayed in kilonewtons per square meter and rounded to two decimal places.</li>
            </ul>

            <section>
              <h3 class="text-xl font-semibold">Glossary</h3>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                <li><strong>B</strong>: Width of the foundation (m)</li>
                <li><strong>Df</strong>: Depth of the foundation (m)</li>
                <li><strong>γ</strong>: Unit weight of soil (kN/m³)</li>
                <li><strong>c</strong>: Cohesion (kPa)</li>
                <li><strong>φ</strong>: Angle of internal friction (°)</li>
                <li><strong>N<sub>c</sub>, N<sub>q</sub>, N<sub>γ</sub></strong>: Terzaghi bearing capacity factors</li>
              </ul>
            </section>

            <section>
              <h3 class="text-xl font-semibold mt-4">Example</h3>
              <p>For a 2 m wide foundation at 1 m depth with γ=18 kN/m³, cohesion=25 kPa, and φ=30°, the calculator reflects the Stephanic values and returns the ultimate bearing capacity found by summing the three components.</p>
            </section>

            <section>
              <h3 class="text-xl font-semibold mt-4">Frequently Asked Questions (FAQ)</h3>
              <div class="space-y-3 text-gray-700">
                <div>
                  <h4 class="font-semibold">What is bearing capacity?</h4>
                  <p>It is the capacity of soil to support the loads applied to the ground.</p>
                </div>
                <div>
                  <h4 class="font-semibold">How is bearing capacity calculated?</h4>
                  <p>The calculation uses geotechnical principles considering soil properties, foundation geometry, and depth.</p>
                </div>
                <div>
                  <h4 class="font-semibold">Why is soil bearing capacity important in construction?</h4>
                  <p>Understanding it ensures safety and stability of buildings and foundations.</p>
                </div>
                <div>
                  <h4 class="font-semibold">What factors affect bearing capacity?</h4>
                  <p>Soil type, moisture content, density, foundation depth, and width are key factors.</p>
                </div>
                <div>
                  <h4 class="font-semibold">How can I improve soil bearing capacity?</h4>
                  <p>Techniques include compaction, improving drainage, and soil stabilization.</p>
                </div>
              </div>
            </section>
          </section>

          <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <details id="formulaDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
              <div>
                <p class="text-sm mb-2"><strong>Terzaghi ultimate bearing capacity:</strong></p>
                <div class="formula-box">
                  <p class="font-bold">qu = cN<sub>c</sub> + γDfN<sub>q</sub> + 0.5γBN<sub>γ</sub></p>
                </div>
                <ul class="list-disc pl-5 text-gray-600 text-sm">
                  <li><strong>c</strong>: Cohesion (kPa)</li>
                  <li><strong>γ</strong>: Unit weight (kN/m³)</li>
                  <li><strong>Df</strong>: Foundation depth (m)</li>
                  <li><strong>B</strong>: Foundation width (m)</li>
                  <li><strong>N<sub>c</sub>, N<sub>q</sub>, N<sub>γ</sub></strong>: Fixed bearing capacity factors (5.14, 1, 0.5)</li>
                </ul>
              </div>
            </details>

            <details class="mt-3" id="citationDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
              <div>
                <p class="text-sm text-gray-600">Terzaghi’s bearing capacity factors are well documented. Key reference: <a href="https://www.asce.org/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">ASCE Official Site</a>.</p>
              </div>
            </details>

            <details class="mt-3" id="changelogDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
              <div>
                <ul class="list-disc pl-5 text-sm text-gray-700">
                  <li>v0.1.0-draft — Initial audit spec draft generated from HTML extraction (review required).</li>
                  <li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
                  <li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
                </ul>
              </div>
            </details>

            <div class="flex gap-2 mt-4 flex-wrap">
              <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
                <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
              </span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
            </div>
          
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
        </section>

        <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-8">
            <div id="sidebar-ad-placeholder-top"></div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-lg mb-4">Related Calculators</h3>
              <ul class="space-y-3">
                <li><a href="https://calcdomain.com/house-affordability" class="text-blue-600 hover:underline">House Affordability Calculator</a></li>
                <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-blue-600 hover:underline">Auto Loan Calculator</a></li>
                <li><a href="https://calcdomain.com/loan-payoff" class="text-blue-600 hover:underline">Loan Payoff Calculator</a></li>
                <li><a href="https://calcdomain.com/refinance-calculator" class="text-blue-600 hover:underline">Refinance Calculator</a></li>
                <li><a href="https://calcdomain.com/amortization-calculator" class="text-blue-600 hover:underline">Amortization Calculator</a></li>
                <li><a href="https://calcdomain.com/compound-interest" class="text-blue-600 hover:underline">Compound Interest Calculator</a></li>
              </ul>
            </div>
          </div>
        </aside>
      </div>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      (function () {
        'use strict';

        const round2 = (value) => {
          const safe = Number.isFinite(value) ? value : 0;
          return Math.round((safe + Number.EPSILON) * 100) / 100;
        };

        const debounce = (fn, delay = 100) => {
          let timer;
          return (...args) => {
            clearTimeout(timer);
            timer = setTimeout(() => fn(...args), delay);
          };
        };

        const els = {
          width: document.getElementById('width'),
          depth: document.getElementById('depth'),
          unitWeight: document.getElementById('unitWeight'),
          cohesion: document.getElementById('cohesion'),
          frictionAngle: document.getElementById('frictionAngle'),
          totalBearing: document.getElementById('totalBearing'),
          cohesionContribution: document.getElementById('cohesionContribution'),
          depthContribution: document.getElementById('depthContribution'),
          widthContribution: document.getElementById('widthContribution'),
          frictionDisplay: document.getElementById('frictionDisplay'),
          errorBox: document.getElementById('errorBox'),
          scheduleWrap: document.getElementById('scheduleWrap'),
          scheduleBody: document.getElementById('scheduleBody'),
          toggleSchedule: document.getElementById('toggleSchedule'),
          downloadCsv: document.getElementById('downloadCsv'),
          calcBtn: document.getElementById('calcBtn'),
          resetBtn: document.getElementById('resetBtn')
        };

        let lastSuccess = null;

        function parseInputs() {
          return {
            width: parseFloat(els.width.value),
            depth: parseFloat(els.depth.value),
            unitWeight: parseFloat(els.unitWeight.value),
            cohesion: parseFloat(els.cohesion.value),
            frictionAngle: parseFloat(els.frictionAngle.value)
          };
        }

        function validate(inputs) {
          const errors = [];
          if (!Number.isFinite(inputs.width) || inputs.width <= 0) errors.push('Width must be greater than 0 m.');
          if (!Number.isFinite(inputs.depth) || inputs.depth <= 0) errors.push('Depth must be greater than 0 m.');
          if (!Number.isFinite(inputs.unitWeight) || inputs.unitWeight <= 0) errors.push('Unit weight must be greater than 0 kN/m³.');
          if (!Number.isFinite(inputs.cohesion) || inputs.cohesion < 0) errors.push('Cohesion must be 0 or greater.');
          if (!Number.isFinite(inputs.frictionAngle) || inputs.frictionAngle <= 0) errors.push('Friction angle must be greater than 0°.');
          return { ok: errors.length === 0, errors };
        }

        function compute(inputs) {
          const Nc = 5.14;
          const Nq = 1;
          const Ng = 0.5;
          const cohesionTerm = inputs.cohesion * Nc;
          const depthTerm = inputs.unitWeight * inputs.depth * Nq;
          const widthTerm = 0.5 * inputs.unitWeight * inputs.width * Ng;
          const ultimate = cohesionTerm + depthTerm + widthTerm;
          if (!Number.isFinite(ultimate)) return null;
          return {
            components: {
              cohesion: round2(cohesionTerm),
              depth: round2(depthTerm),
              width: round2(widthTerm)
            },
            ultimate: round2(ultimate),
            frictionAngle: round2(inputs.frictionAngle),
            factors: { Nc, Nq, Ng }
          };
        }

        function format(outputs) {
          return {
            ultimate: `${outputs.ultimate.toFixed(2)} kN/m²`,
            cohesion: `${outputs.components.cohesion.toFixed(2)} kN/m²`,
            depth: `${outputs.components.depth.toFixed(2)} kN/m²`,
            width: `${outputs.components.width.toFixed(2)} kN/m²`,
            frictionAngle: `${outputs.frictionAngle.toFixed(2)}°`
          };
        }

        function renderTable(formatted, outputs) {
          els.scheduleBody.innerHTML = '';
          const rows = [
            { num: 1, label: 'Cohesion term (cNc)', value: formatted.cohesion },
            { num: 2, label: 'Depth term (γDfNq)', value: formatted.depth },
            { num: 3, label: 'Width term (0.5γBNγ)', value: formatted.width },
            { num: 4, label: 'Ultimate bearing capacity', value: formatted.ultimate }
          ];
          const fragment = document.createDocumentFragment();
          rows.forEach((row) => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${row.num}</td><td>${row.label}</td><td>${row.value}</td>`;
            fragment.appendChild(tr);
          });
          els.scheduleBody.appendChild(fragment);
        }

        function renderError(errors) {
          if (!errors || errors.length === 0) {
            els.errorBox.style.display = 'none';
            els.errorBox.textContent = '';
            return;
          }
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
        }

        function render(formatted, outputs) {
          els.totalBearing.textContent = formatted.ultimate;
          els.cohesionContribution.textContent = formatted.cohesion;
          els.depthContribution.textContent = formatted.depth;
          els.widthContribution.textContent = formatted.width;
          els.frictionDisplay.textContent = formatted.frictionAngle;
          if (els.scheduleWrap.style.display === 'block') {
            renderTable(formatted, outputs);
          }
        }

        function update() {
          const inputs = parseInputs();
          const validation = validate(inputs);
          if (!validation.ok) {
            renderError(validation.errors);
            els.downloadCsv.disabled = true;
            lastSuccess = null;
            return;
          }
          renderError([]);

          const outputs = compute(inputs);
          if (!outputs) {
            renderError(['Calculation failed for the current inputs.']);
            els.downloadCsv.disabled = true;
            lastSuccess = null;
            return;
          }

          const formatted = format(outputs);
          render(formatted, outputs);
          els.downloadCsv.disabled = false;
          lastSuccess = { inputs, outputs, formatted };
        }

        function resetInputs() {
          els.width.value = '2';
          els.depth.value = '1';
          els.unitWeight.value = '18';
          els.cohesion.value = '25';
          els.frictionAngle.value = '30';
        }

        els.calcBtn.addEventListener('click', update);
        els.resetBtn.addEventListener('click', () => {
          resetInputs();
          update();
        });

        let scheduleVisible = false;
        els.scheduleWrap.style.display = 'none';
        els.toggleSchedule.addEventListener('click', () => {
          scheduleVisible = !scheduleVisible;
          els.scheduleWrap.style.display = scheduleVisible ? 'block' : 'none';
          els.toggleSchedule.textContent = scheduleVisible ? 'Hide breakdown' : 'View breakdown';
          if (scheduleVisible && lastSuccess) {
            renderTable(lastSuccess.formatted, lastSuccess.outputs);
          }
        });

        els.downloadCsv.addEventListener('click', () => {
          if (!lastSuccess) return;
          const rows = [
            ['Component', 'Value (kN/m²)'],
            ['Cohesion term (cNc)', lastSuccess.outputs.components.cohesion.toFixed(2)],
            ['Depth term (γDfNq)', lastSuccess.outputs.components.depth.toFixed(2)],
            ['Width term (0.5γBNγ)', lastSuccess.outputs.components.width.toFixed(2)],
            ['Ultimate bearing capacity', lastSuccess.outputs.ultimate.toFixed(2)]
          ];
          let csv = '';
          rows.forEach((row) => {
            csv += `${row[0]},${row[1]}\n`;
          });
          const blob = new Blob([csv], { type: 'text/csv' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'bearing-capacity-breakdown.csv';
          a.click();
          URL.revokeObjectURL(url);
        });

        const debouncedUpdate = debounce(update, 100);
        document.querySelectorAll('#inputsCard input')
          .forEach((el) => {
            el.addEventListener('input', debouncedUpdate);
            el.addEventListener('change', debouncedUpdate);
          });

        update();
      })();
    </script>

    <script type="application/ld+json">{
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Soil Bearing Capacity Calculator",
      "description": "Calculate the bearing capacity of soil with our precise and authoritative geotechnical engineering tool.",
      "url": "https://calcdomain.com/bearing-capacity",
      "mainEntity": [
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is bearing capacity?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Bearing capacity refers to the capacity of soil to support the loads applied to the ground."
              }
            },
            {
              "@type": "Question",
              "name": "How is bearing capacity calculated?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "It is calculated using geotechnical engineering principles, considering factors like soil properties, foundation size, and depth."
              }
            }
          ]
        }
      ],
      "reviewedBy": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "dateModified": "2026-01-19"
    }</script>
</body></html>
