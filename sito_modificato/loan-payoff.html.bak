<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/loan-payoff" />
    <title>Loan Payoff Calculator Guide [Elite 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Loan Payoff Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Loan Payoff Calculator Guide [Elite 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Loan Payoff Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/loan-payoff" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Loan Payoff Calculator Guide [Elite 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Loan Payoff Calculator Guide fast with our elite tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Loans &amp; Debt Calculators", "item": "https://calcdomain.com/subcategories/finance-loans-debt"}, {"@type": "ListItem", "position": 4, "name": "Loan Payoff Calculator", "item": "https://calcdomain.com/loan-payoff"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-loans-debt" class="text-blue-600 hover:underline">Loans &amp;amp; Debt Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Loan Payoff Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Loan Payoff Calculator
              </h1>
              <p class="text-gray-600">
                See how fast you can pay off your loan and how much interest you
                can save with extra payments. Works for personal loans, auto
                loans, student loans, and more.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="loan-inputs-heading" class="mb-6">
              <h2 id="loan-inputs-heading" class="text-xl font-semibold mb-3">
                Loan details
              </h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="loanAmount"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Current balance</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      type="number"
                      id="loanAmount"
                      class="flex-1 min-w-0 block w-full px-3 py-2 rounded-r-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                      placeholder="15000"
                      step="0.01"
                      min="0"
                    />
                  </div>
                </div>

                <div>
                  <label
                    for="interestRate"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Interest rate (APR)</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="interestRate"
                      class="flex-1 min-w-0 block w-full px-3 py-2 rounded-l-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                      placeholder="6.5"
                      step="0.01"
                      min="0"
                    />
                    <span
                      class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >%</span
                    >
                  </div>
                </div>

                <div>
                  <label
                    for="termYears"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Original term</label
                  >
                  <div class="grid grid-cols-2 gap-2">
                    <div>
                      <input
                        type="number"
                        id="termYears"
                        class="block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                        placeholder="5"
                        min="0"
                      />
                      <p class="text-xs text-gray-500 mt-1">Years</p>
                    </div>
                    <div>
                      <input
                        type="number"
                        id="termMonths"
                        class="block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                        placeholder="0"
                        min="0"
                        max="11"
                      />
                      <p class="text-xs text-gray-500 mt-1">Months</p>
                    </div>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Used only if you want the calculator to compute the standard
                    payment.
                  </p>
                </div>

                <div>
                  <label
                    for="currentPayment"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Current monthly payment</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      type="number"
                      id="currentPayment"
                      class="flex-1 min-w-0 block w-full px-3 py-2 rounded-r-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                      placeholder="Optional"
                      step="0.01"
                      min="0"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Leave blank to calculate the standard payment from balance,
                    rate, and term.
                  </p>
                </div>

                <div>
                  <label
                    for="startDate"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Next payment date</label
                  >
                  <input
                    type="date"
                    id="startDate"
                    class="block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used to estimate calendar payoff dates.
                  </p>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Payment frequency</label
                  >
                  <select
                    id="frequency"
                    class="block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                  >
                    <option value="12">Monthly</option>
                    <option value="26">Bi-weekly (26/yr)</option>
                    <option value="52">Weekly (52/yr)</option>
                  </select>
                </div>
              </div>
            </section>

            <section
              aria-labelledby="extra-payments-heading"
              class="mb-6 border-t pt-4"
            >
              <h2
                id="extra-payments-heading"
                class="text-xl font-semibold mb-3"
              >
                Extra payments (optional)
              </h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="extraMonthly"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Recurring extra payment</label
                  >
                  <div class="flex rounded-md shadow-sm">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      type="number"
                      id="extraMonthly"
                      class="flex-1 min-w-0 block w-full px-3 py-2 rounded-r-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                      placeholder="e.g. 100"
                      step="0.01"
                      min="0"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Added to every payment and applied directly to principal.
                  </p>
                </div>

                <div>
                  <label
                    for="oneTimeExtra"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >One-time extra payment</label
                  >
                  <div class="flex rounded-md shadow-sm mb-2">
                    <span
                      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                      >$</span
                    >
                    <input
                      type="number"
                      id="oneTimeExtra"
                      class="flex-1 min-w-0 block w-full px-3 py-2 rounded-r-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                      placeholder="e.g. 1000"
                      step="0.01"
                      min="0"
                    />
                  </div>
                  <input
                    type="date"
                    id="oneTimeDate"
                    class="block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    If no date is chosen, it will be applied with the first
                    payment.
                  </p>
                </div>
              </div>
            </section>

            <div class="flex flex-wrap items-center gap-3 mb-6">
              <button
                id="calculateBtn"
                class="inline-flex items-center justify-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              >
                Calculate payoff
              </button>
              <button
                id="resetBtn"
                class="inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
              >
                Reset
              </button>
              <p id="calcError" class="text-sm text-red-600"></p>
            </div>

            <!-- Results Summary -->
            <section id="resultsSection" class="hidden mb-8" aria-live="polite">
              <h2 class="text-xl font-semibold mb-3">Results summary</h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                  <h3
                    class="text-sm font-semibold text-blue-800 mb-2 flex items-center justify-between"
                  >
                    Without extra payments
                    <span
                      class="badge bg-blue-100 text-blue-700 border border-blue-200"
                      >Baseline</span
                    >
                  </h3>
                  <dl class="text-sm text-blue-900 space-y-1">
                    <div class="flex justify-between">
                      <dt>Monthly payment</dt>
                      <dd id="basePaymentDisplay" class="font-semibold"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Payoff time</dt>
                      <dd id="baseDurationDisplay"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Payoff date</dt>
                      <dd id="baseDateDisplay"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Total interest</dt>
                      <dd id="baseInterestDisplay"></dd>
                    </div>
                  </dl>
                </div>

                <div class="bg-green-50 border border-green-100 rounded-lg p-4">
                  <h3
                    class="text-sm font-semibold text-green-800 mb-2 flex items-center justify-between"
                  >
                    With extra payments
                    <span
                      class="badge bg-green-100 text-green-700 border border-green-200"
                      >New</span
                    >
                  </h3>
                  <dl class="text-sm text-green-900 space-y-1">
                    <div class="flex justify-between">
                      <dt>Effective payment</dt>
                      <dd id="newPaymentDisplay" class="font-semibold"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Payoff time</dt>
                      <dd id="newDurationDisplay"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Payoff date</dt>
                      <dd id="newDateDisplay"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Total interest</dt>
                      <dd id="newInterestDisplay"></dd>
                    </div>
                  </dl>
                </div>
              </div>

              <div class="bg-white border border-gray-200 rounded-lg p-4">
                <h3 class="text-sm font-semibold text-gray-800 mb-2">
                  Your savings from extra payments
                </h3>
                <dl class="grid md:grid-cols-3 gap-3 text-sm text-gray-800">
                  <div class="bg-gray-50 rounded-md p-3">
                    <dt
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Time saved
                    </dt>
                    <dd
                      id="timeSavedDisplay"
                      class="text-base font-semibold"
                    ></dd>
                  </div>
                  <div class="bg-gray-50 rounded-md p-3">
                    <dt
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Interest saved
                    </dt>
                    <dd
                      id="interestSavedDisplay"
                      class="text-base font-semibold"
                    ></dd>
                  </div>
                  <div class="bg-gray-50 rounded-md p-3">
                    <dt
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Total extra paid
                    </dt>
                    <dd
                      id="extraPaidDisplay"
                      class="text-base font-semibold"
                    ></dd>
                  </div>
                </dl>
              </div>
            </section>

            <!-- Chart -->
            <section id="chartSection" class="hidden mb-8">
              <h2 class="text-xl font-semibold mb-3">Balance over time</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <canvas
                  id="balanceChart"
                  aria-label="Loan balance comparison chart"
                  role="img"
                  height="220"
                ></canvas>
              </div>
            </section>

            <!-- Amortization Table -->
            <section id="tableSection" class="hidden mb-8">
              <div class="flex items-center justify-between mb-2">
                <h2 class="text-xl font-semibold">Amortization schedule</h2>
                <button
                  id="downloadCsvBtn"
                  class="text-xs px-3 py-1.5 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"
                >
                  Download CSV
                </button>
              </div>
              <div class="text-xs text-gray-500 mb-2">
                First 360 payments are shown. Use CSV export for full schedule.
              </div>
              <div
                class="overflow-x-auto scroll-shadow border border-gray-200 rounded-lg max-h-96"
              >
                <table class="min-w-full text-xs text-right">
                  <thead class="bg-gray-100 text-gray-700 sticky top-0 z-10">
                    <tr>
                      <th class="px-3 py-2 text-left">#</th>
                      <th class="px-3 py-2">Date</th>
                      <th class="px-3 py-2">Payment</th>
                      <th class="px-3 py-2">Interest</th>
                      <th class="px-3 py-2">Principal</th>
                      <th class="px-3 py-2">Extra</th>
                      <th class="px-3 py-2">Balance</th>
                    </tr>
                  </thead>
                  <tbody
                    id="amortBody"
                    class="divide-y divide-gray-100 bg-white"
                  ></tbody>
                </table>
              </div>
            </section>

            <!-- Explanatory Content -->
            <section class="prose">
              <h2>How this loan payoff calculator works</h2>
              <p>
                This tool models a standard amortizing loan. Each payment first
                covers the interest due for the period; the rest reduces your
                principal balance. Extra payments are applied directly to
                principal, which reduces future interest and shortens your
                payoff time.
              </p>

              <h3>Key formulas</h3>
              <div class="formula-box">
                <p class="font-semibold mb-1">1. Monthly interest rate</p>
                <p>\( r = \dfrac{\text{APR}}{100 \times m} \)</p>
                <p class="text-sm text-gray-600">
                  where <em>m</em> is the number of payments per year (12 for
                  monthly, 26 for bi-weekly, 52 for weekly).
                </p>

                <p class="font-semibold mt-3 mb-1">
                  2. Standard payment (no extra)
                </p>
                <p>\[ \text{Payment} = \frac{r \cdot L}{1 - (1 + r)^{-N}} \]</p>
                <p class="text-sm text-gray-600">
                  where <em>L</em> is the loan balance and <em>N</em> is the
                  total number of payments.
                </p>

                <p class="font-semibold mt-3 mb-1">
                  3. Interest and principal per period
                </p>
                <p>\( \text{Interest}_t = \text{Balance}_{t-1} \cdot r \)</p>
                <p>
                  \( \text{Principal}_t = \text{Payment}_t - \text{Interest}_t
                  \)
                </p>

                <p class="font-semibold mt-3 mb-1">4. New balance</p>
                <p>
                  \( \text{Balance}_t = \text{Balance}_{t-1} -
                  \text{Principal}_t - \text{Extra}_t \)
                </p>
              </div>

              <h3>What you can do with this calculator</h3>
              <ul>
                <li>
                  Estimate how long it will take to pay off a loan at your
                  current payment.
                </li>
                <li>
                  See how adding a recurring extra payment changes your payoff
                  date.
                </li>
                <li>
                  Test one-time lump-sum payments (e.g., bonus, tax refund).
                </li>
                <li>
                  Compare total interest paid with and without extra payments.
                </li>
                <li>Export a full amortization schedule for your records.</li>
              </ul>

              <h2>Understanding loan payoff and payoff amount</h2>
              <p>
                Your <strong>loan payoff date</strong> is the date when your
                balance reaches zero. Your <strong>payoff amount</strong> is the
                amount your lender quotes if you want to pay the loan in full on
                a specific date.
              </p>
              <p>
                The payoff amount is usually slightly higher than your current
                balance because it includes:
              </p>
              <ul>
                <li>Principal still outstanding.</li>
                <li>Interest accrued since your last payment.</li>
                <li>Any fees or charges specified in your loan agreement.</li>
              </ul>
              <p>
                This calculator estimates payoff timing and interest based on
                the information you enter. For an exact payoff quote, always
                contact your lender directly.
              </p>

              <h2>Tips for paying off loans faster</h2>
              <ul>
                <li>
                  <strong>Make small recurring extra payments.</strong> Even
                  $25–$50 per payment can shave months off a typical loan.
                </li>
                <li>
                  <strong>Apply windfalls to principal.</strong> Tax refunds,
                  bonuses, or side income can be used as lump-sum payments.
                </li>
                <li>
                  <strong>Avoid extending the term when refinancing.</strong> A
                  lower rate helps, but stretching the term can increase total
                  interest.
                </li>
                <li>
                  <strong>Check for prepayment penalties.</strong> Some loans
                  charge fees if you pay off early; factor this into your
                  decision.
                </li>
              </ul>

              <h2>Limitations and assumptions</h2>
              <ul>
                <li>
                  Assumes a fixed interest rate for the entire life of the loan.
                </li>
                <li>
                  Assumes payments are made on time and in full according to the
                  chosen frequency.
                </li>
                <li>
                  Does not model late fees, variable rates, interest-only
                  periods, or balloon payments.
                </li>
                <li>
                  Calendar dates are approximate; your lender’s schedule may
                  differ slightly.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-3">Loan payoff FAQ</h2>
              <div class="space-y-3" id="faq-container">
                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >How is loan payoff time calculated?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    For a fixed payment and fixed interest rate, payoff time is
                    based on the standard amortization formula. The calculator
                    simulates each payment: it computes interest for the period,
                    subtracts it from your payment, applies the rest to
                    principal (plus any extra payment), and repeats until the
                    balance reaches zero.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Do extra payments always go to principal?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    In most amortizing loans, your regular payment first covers
                    interest due, and the rest reduces principal. Extra payments
                    should be applied directly to principal, but you must
                    instruct your lender to treat them as principal-only
                    payments, not as early payments of future installments.
                    Always confirm how your lender applies extras.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Can I use this calculator for any type of loan?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    You can use it for most fixed-rate amortizing loans:
                    personal loans, auto loans, many student loans, and
                    mortgages. It is not designed for credit cards (which often
                    have changing balances and rates), lines of credit, or loans
                    with interest-only or balloon structures.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Why is my payoff amount different from my current
                      balance?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Your current balance usually reflects principal plus
                    interest up to your last statement date. A payoff quote adds
                    interest that accrues between the statement date and the
                    payoff date, plus any applicable fees. That’s why the payoff
                    amount is often slightly higher than the balance you see
                    online.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Loan, Payoff.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700 mt-2">See also: <a href="https://calcdomain.com/motorcycle-loan-calculator" class="text-blue-600 hover:underline">&lt;!DOCTYPE html&gt;</a>.</p><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Loan, Payoff.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More loan & debt tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization"
                  class="text-blue-600 hover:underline"
                  >Loan Amortization Schedule</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-payoff"
                  class="text-gray-500 cursor-default"
                  >Loan Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-snowball-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Snowball Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-avalanche-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Avalanche Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-comparison"
                  class="text-blue-600 hover:underline"
                  >Loan Comparison Tool</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-prepayment"
                  class="text-blue-600 hover:underline"
                  >Loan Prepayment Impact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/credit-card-payoff"
                  class="text-blue-600 hover:underline"
                  >Credit Card Payoff</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income (DTI) Ratio</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Finance categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/finance-loans-debt"
                  class="text-blue-600 hover:underline"
                  >Loans &amp; Debt Calculators</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-investing-and-growth"
                  class="text-blue-600 hover:underline"
                  >Investing &amp; Compound Growth</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-mortgages-and-home"
                  class="text-blue-600 hover:underline"
                  >Mortgages &amp; Home Financing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-income-and-payroll"
                  class="text-blue-600 hover:underline"
                  >Income, Payroll &amp; Cost of Living</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/taxes"
                  class="text-blue-600 hover:underline"
                  >Tax Calculators</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script>
      // Utility functions
      function formatCurrency(value) {
        if (!isFinite(value)) return "-";
        return value.toLocaleString(undefined, {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 2,
        });
      }

      function formatMonthsToYearsMonths(totalPeriods, periodsPerYear) {
        if (!isFinite(totalPeriods) || totalPeriods <= 0) return "-";
        const years = Math.floor(totalPeriods / periodsPerYear);
        const months = Math.round(
          ((totalPeriods % periodsPerYear) * 12) / periodsPerYear
        );
        const parts = [];
        if (years > 0) parts.push(years + " year" + (years > 1 ? "s" : ""));
        if (months > 0) parts.push(months + " month" + (months > 1 ? "s" : ""));
        return parts.length ? parts.join(" ") : "0 months";
      }

      function addPeriods(date, periods, periodsPerYear) {
        const d = new Date(date.getTime());
        if (periodsPerYear === 12) {
          d.setMonth(d.getMonth() + periods);
        } else if (periodsPerYear === 26) {
          d.setDate(d.getDate() + periods * 14);
        } else if (periodsPerYear === 52) {
          d.setDate(d.getDate() + periods * 7);
        }
        return d;
      }

      function formatDate(date) {
        if (!(date instanceof Date) || isNaN(date)) return "-";
        return date.toLocaleDateString(undefined, {
          year: "numeric",
          month: "short",
          day: "numeric",
        });
      }

      function computeStandardPayment(
        balance,
        apr,
        termYears,
        termMonths,
        freq
      ) {
        const r = apr / 100 / freq;
        const totalPeriods = termYears * freq + (termMonths * freq) / 12;
        if (r === 0) return balance / totalPeriods;
        return (balance * r) / (1 - Math.pow(1 + r, -totalPeriods));
      }

      function buildSchedule(params, withExtra) {
        const {
          balance,
          apr,
          payment,
          freq,
          startDate,
          extraMonthly,
          oneTimeExtra,
          oneTimeDate,
        } = params;

        const r = apr / 100 / freq;
        let remaining = balance;
        let period = 0;
        let totalInterest = 0;
        let totalExtra = 0;
        const rows = [];
        const maxIterations = 3600; // safety

        while (remaining > 0 && period < maxIterations) {
          period++;
          const date = addPeriods(startDate, period - 1, freq);
          const interest = remaining * r;
          let basePayment = payment;

          // If final payment would overpay, cap it
          if (basePayment > remaining + interest) {
            basePayment = remaining + interest;
          }

          let extra = 0;
          if (withExtra) {
            if (extraMonthly > 0) extra += extraMonthly;
            if (oneTimeExtra > 0) {
              const applyDate = oneTimeDate || startDate;
              const samePeriod =
                date.toDateString() === applyDate.toDateString();
              if (
                samePeriod &&
                remaining - (basePayment - interest) - extra >= 0
              ) {
                extra += oneTimeExtra;
              }
            }
          }

          // Prevent negative balance due to extra
          const principal = basePayment - interest;
          if (principal + extra > remaining) {
            extra = Math.max(0, remaining - principal);
          }

          const newBalance = remaining - principal - extra;

          totalInterest += interest;
          totalExtra += extra;

          rows.push({
            period,
            date,
            payment: basePayment,
            interest,
            principal,
            extra,
            balance: Math.max(0, newBalance),
          });

          remaining = newBalance;
          if (remaining <= 0.01) {
            remaining = 0;
            break;
          }
        }

        return {
          rows,
          totalInterest,
          totalExtra,
          periods: rows.length,
          payoffDate: rows.length ? rows[rows.length - 1].date : null,
        };
      }

      let chartInstance = null;

      function updateChart(baseSchedule, newSchedule, freq) {
        const ctx = document.getElementById("balanceChart");
        if (!ctx) return;

        const maxPoints = 240; // limit for performance
        const baseData = [];
        const newData = [];
        const labels = [];

        const stepBase = Math.max(
          1,
          Math.floor(baseSchedule.rows.length / maxPoints)
        );
        const stepNew = Math.max(
          1,
          Math.floor(newSchedule.rows.length / maxPoints)
        );

        for (let i = 0; i < baseSchedule.rows.length; i += stepBase) {
          baseData.push(baseSchedule.rows[i].balance);
          labels.push("P" + baseSchedule.rows[i].period);
        }
        for (let j = 0; j < newSchedule.rows.length; j += stepNew) {
          newData.push(newSchedule.rows[j].balance);
        }

        if (chartInstance) {
          chartInstance.destroy();
        }

        chartInstance = new Chart(ctx, {
          type: "line",
          data: {
            labels,
            datasets: [
              {
                label: "Without extra",
                data: baseData,
                borderColor: "#3b82f6",
                backgroundColor: "rgba(59,130,246,0.1)",
                tension: 0.15,
                pointRadius: 0,
              },
              {
                label: "With extra",
                data: newData,
                borderColor: "#16a34a",
                backgroundColor: "rgba(22,163,74,0.1)",
                tension: 0.15,
                pointRadius: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: { mode: "index", intersect: false },
            plugins: {
              legend: { display: true },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    return (
                      context.dataset.label +
                      ": " +
                      formatCurrency(context.parsed.y)
                    );
                  },
                },
              },
            },
            scales: {
              y: {
                ticks: {
                  callback: function (value) {
                    return "$" + value.toLocaleString();
                  },
                },
              },
              x: {
                ticks: {
                  maxTicksLimit: 8,
                },
              },
            },
          },
        });
      }

      function populateTable(schedule) {
        const tbody = document.getElementById("amortBody");
        if (!tbody) return;
        tbody.innerHTML = "";

        const maxRows = 360;
        schedule.rows.slice(0, maxRows).forEach((row) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-3 py-1.5 text-left">${row.period}</td>
        <td class="px-3 py-1.5">${formatDate(row.date)}</td>
        <td class="px-3 py-1.5">${formatCurrency(row.payment)}</td>
        <td class="px-3 py-1.5">${formatCurrency(row.interest)}</td>
        <td class="px-3 py-1.5">${formatCurrency(row.principal)}</td>
        <td class="px-3 py-1.5">${
          row.extra > 0 ? formatCurrency(row.extra) : "-"
        }</td>
        <td class="px-3 py-1.5">${formatCurrency(row.balance)}</td>
      `;
          tbody.appendChild(tr);
        });
      }

      function downloadCsv(schedule) {
        const header = [
          "Period",
          "Date",
          "Payment",
          "Interest",
          "Principal",
          "Extra",
          "Balance",
        ];
        const rows = schedule.rows.map((r) => [
          r.period,
          formatDate(r.date),
          r.payment.toFixed(2),
          r.interest.toFixed(2),
          r.principal.toFixed(2),
          r.extra.toFixed(2),
          r.balance.toFixed(2),
        ]);
        const csvContent = [header, ...rows].map((r) => r.join(",")).join("\n");
        const blob = new Blob([csvContent], {
          type: "text/csv;charset=utf-8;",
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "loan-payoff-schedule.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      document.addEventListener("DOMContentLoaded", () => {
        const loanAmountEl = document.getElementById("loanAmount");
        const interestRateEl = document.getElementById("interestRate");
        const termYearsEl = document.getElementById("termYears");
        const termMonthsEl = document.getElementById("termMonths");
        const currentPaymentEl = document.getElementById("currentPayment");
        const startDateEl = document.getElementById("startDate");
        const frequencyEl = document.getElementById("frequency");
        const extraMonthlyEl = document.getElementById("extraMonthly");
        const oneTimeExtraEl = document.getElementById("oneTimeExtra");
        const oneTimeDateEl = document.getElementById("oneTimeDate");

        const calculateBtn = document.getElementById("calculateBtn");
        const resetBtn = document.getElementById("resetBtn");
        const calcErrorEl = document.getElementById("calcError");

        const resultsSection = document.getElementById("resultsSection");
        const chartSection = document.getElementById("chartSection");
        const tableSection = document.getElementById("tableSection");
        const downloadCsvBtn = document.getElementById("downloadCsvBtn");

        const basePaymentDisplay =
          document.getElementById("basePaymentDisplay");
        const baseDurationDisplay = document.getElementById(
          "baseDurationDisplay"
        );
        const baseDateDisplay = document.getElementById("baseDateDisplay");
        const baseInterestDisplay = document.getElementById(
          "baseInterestDisplay"
        );

        const newPaymentDisplay = document.getElementById("newPaymentDisplay");
        const newDurationDisplay =
          document.getElementById("newDurationDisplay");
        const newDateDisplay = document.getElementById("newDateDisplay");
        const newInterestDisplay =
          document.getElementById("newInterestDisplay");

        const timeSavedDisplay = document.getElementById("timeSavedDisplay");
        const interestSavedDisplay = document.getElementById(
          "interestSavedDisplay"
        );
        const extraPaidDisplay = document.getElementById("extraPaidDisplay");

        let lastNewSchedule = null;

        // Default start date = today
        if (!startDateEl.value) {
          const today = new Date();
          startDateEl.valueAsDate = today;
        }

        calculateBtn.addEventListener("click", () => {
          calcErrorEl.textContent = "";
          resultsSection.classList.add("hidden");
          chartSection.classList.add("hidden");
          tableSection.classList.add("hidden");

          const balance = parseFloat(loanAmountEl.value);
          const apr = parseFloat(interestRateEl.value);
          const termYears = parseFloat(termYearsEl.value) || 0;
          const termMonths = parseFloat(termMonthsEl.value) || 0;
          const freq = parseInt(frequencyEl.value, 10) || 12;
          const extraMonthly = parseFloat(extraMonthlyEl.value) || 0;
          const oneTimeExtra = parseFloat(oneTimeExtraEl.value) || 0;

          if (!balance || balance <= 0) {
            calcErrorEl.textContent = "Please enter a valid current balance.";
            return;
          }
          if (apr < 0) {
            calcErrorEl.textContent =
              "Please enter a non-negative interest rate.";
            return;
          }

          let payment = parseFloat(currentPaymentEl.value);
          if (!payment || payment <= 0) {
            if (termYears <= 0 && termMonths <= 0) {
              calcErrorEl.textContent =
                "Enter either a current monthly payment or an original term.";
              return;
            }
            payment = computeStandardPayment(
              balance,
              apr,
              termYears,
              termMonths,
              freq
            );
          }

          const r = apr / 100 / freq;
          if (r > 0 && payment <= balance * r) {
            calcErrorEl.textContent =
              "Payment is too low to cover interest. Increase your payment amount.";
            return;
          }

          const startDate = startDateEl.valueAsDate || new Date();
          const oneTimeDate = oneTimeDateEl.valueAsDate || null;

          const params = {
            balance,
            apr,
            payment,
            freq,
            startDate,
            extraMonthly,
            oneTimeExtra,
            oneTimeDate,
          };

          const baseSchedule = buildSchedule(
            { ...params, extraMonthly: 0, oneTimeExtra: 0, oneTimeDate: null },
            false
          );
          const newSchedule = buildSchedule(
            params,
            extraMonthly > 0 || oneTimeExtra > 0
          );

          if (
            baseSchedule.periods === 0 ||
            !isFinite(baseSchedule.totalInterest)
          ) {
            calcErrorEl.textContent =
              "Unable to compute schedule with the given inputs.";
            return;
          }

          // Update baseline
          basePaymentDisplay.textContent = formatCurrency(payment);
          baseDurationDisplay.textContent = formatMonthsToYearsMonths(
            baseSchedule.periods,
            freq
          );
          baseDateDisplay.textContent = formatDate(baseSchedule.payoffDate);
          baseInterestDisplay.textContent = formatCurrency(
            baseSchedule.totalInterest
          );

          // Update new scenario
          const effectivePayment = payment + extraMonthly;
          newPaymentDisplay.textContent =
            extraMonthly > 0 || oneTimeExtra > 0
              ? formatCurrency(effectivePayment)
              : formatCurrency(payment);
          newDurationDisplay.textContent = formatMonthsToYearsMonths(
            newSchedule.periods,
            freq
          );
          newDateDisplay.textContent = formatDate(newSchedule.payoffDate);
          newInterestDisplay.textContent = formatCurrency(
            newSchedule.totalInterest
          );

          // Savings
          const timeSavedPeriods = baseSchedule.periods - newSchedule.periods;
          timeSavedDisplay.textContent =
            timeSavedPeriods > 0
              ? formatMonthsToYearsMonths(timeSavedPeriods, freq)
              : "0 months";
          const interestSaved =
            baseSchedule.totalInterest - newSchedule.totalInterest;
          interestSavedDisplay.textContent =
            interestSaved > 0
              ? formatCurrency(interestSaved)
              : formatCurrency(0);
          extraPaidDisplay.textContent = formatCurrency(newSchedule.totalExtra);

          resultsSection.classList.remove("hidden");
          chartSection.classList.remove("hidden");
          tableSection.classList.remove("hidden");

          updateChart(baseSchedule, newSchedule, freq);
          populateTable(newSchedule);
          lastNewSchedule = newSchedule;
        });

        resetBtn.addEventListener("click", () => {
          loanAmountEl.value = "";
          interestRateEl.value = "";
          termYearsEl.value = "";
          termMonthsEl.value = "";
          currentPaymentEl.value = "";
          extraMonthlyEl.value = "";
          oneTimeExtraEl.value = "";
          oneTimeDateEl.value = "";
          calcErrorEl.textContent = "";
          resultsSection.classList.add("hidden");
          chartSection.classList.add("hidden");
          tableSection.classList.add("hidden");
          if (chartInstance) {
            chartInstance.destroy();
            chartInstance = null;
          }
        });

        if (downloadCsvBtn) {
          downloadCsvBtn.addEventListener("click", () => {
            if (!lastNewSchedule) return;
            downloadCsv(lastNewSchedule);
          });
        }

        document
          .querySelectorAll("#faq-container .faq-question")
          .forEach((btn) => {
            btn.addEventListener("click", () => {
              const answer = btn.parentElement.querySelector(".faq-answer");
              const symbol = btn.querySelector("span:last-child");
              const isHidden = answer.classList.contains("hidden");
              document
                .querySelectorAll("#faq-container .faq-answer")
                .forEach((a) => a.classList.add("hidden"));
              document
                .querySelectorAll(
                  "#faq-container .faq-question span:last-child"
                )
                .forEach((s) => (s.textContent = "+"));
              if (isHidden) {
                answer.classList.remove("hidden");
                symbol.textContent = "−";
              }
            });
          });
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
