<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/chemical-equation-balancer" />
    <title>Chemical Equation Balancer (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Chemical Equation Balancer in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Chemical Equation Balancer (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Chemical Equation Balancer in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/chemical-equation-balancer" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Chemical Equation Balancer (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Chemical Equation Balancer in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Chemical Equation Balancer – Step-by-Step Online Calculator",
        "url": "https://calcdomain.com/chemical-equation-balancer",
        "description": "Free online chemical equation balancer. Instantly balance chemical equations, see stoichiometric coefficients, atom counts, and step‑by‑step solution.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Science",
              "item": "https://calcdomain.com/categories/science"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Science Tools",
              "item": "https://calcdomain.com/chemistry"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Chemical Equation Balancer",
              "item": "https://calcdomain.com/chemical-equation-balancer"
            }
          ]
        },
        "mainEntity": {
          "@type": "SoftwareApplication",
          "name": "Chemical Equation Balancer",
          "applicationCategory": "EducationalApplication",
          "operatingSystem": "Any",
          "description": "Interactive chemical equation balancer with step-by-step solution, atom counts, and stoichiometric ratios."
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Chemistry Calculators", "item": "https://calcdomain.com/subcategories/chemistry"}, {"@type": "ListItem", "position": 4, "name": "Chemical Equation Balancer", "item": "https://calcdomain.com/chemical-equation-balancer"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/chemistry" class="text-blue-600 hover:underline">Chemistry Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Chemical Equation Balancer</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Chemical Equation Balancer
              </h1>
              <p class="text-gray-600">
                Instantly balance chemical equations, see atom counts, and get a
                clean, step‑by‑step solution for your reaction.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="balancer-title" class="mb-6">
              <h2 id="balancer-title" class="text-xl font-semibold mb-3">
                Balance a chemical equation
              </h2>
              <div class="space-y-3">
                <label
                  for="equation-input"
                  class="block text-sm font-medium text-gray-700"
                >
                  Enter an unbalanced equation
                  <span class="text-gray-400 font-normal"
                    >(e.g. H2 + O2 -> H2O)</span
                  >
                </label>
                <textarea
                  id="equation-input"
                  rows="2"
                  class="w-full border border-gray-300 rounded-md px-3 py-2 mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Fe + O2 -> Fe2O3"
                ></textarea>

                <div
                  class="flex flex-wrap items-center gap-2 text-xs text-gray-500"
                >
                  <span
                    class="badge bg-gray-100 text-gray-700 border border-gray-200"
                    >Use +, -> or =, parentheses, charges (^2+, ^-, etc.), and
                    states (s,l,g,aq).</span
                  >
                </div>

                <div class="flex flex-wrap gap-3 mt-2">
                  <button
                    id="balance-btn"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    Balance equation
                  </button>
                  <button
                    id="clear-btn"
                    class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-300"
                  >
                    Clear
                  </button>
                  <div class="flex items-center gap-2 text-xs text-gray-500">
                    <label
                      class="inline-flex items-center gap-1 cursor-pointer"
                    >
                      <input
                        type="checkbox"
                        id="simplify-checkbox"
                        class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        checked
                      />
                      <span>Simplify coefficients to smallest integers</span>
                    </label>
                  </div>
                </div>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-title" class="mt-6">
              <h2 id="results-title" class="text-xl font-semibold mb-3">
                Balanced equation & stoichiometry
              </h2>

              <div id="results-container" class="space-y-4">
                <div
                  id="balanced-equation-box"
                  class="hidden border border-gray-200 rounded-md p-3 bg-gray-50"
                >
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Balanced equation
                  </div>
                  <div
                    id="balanced-equation"
                    class="mono text-base md:text-lg font-semibold text-gray-900 break-words"
                  ></div>
                </div>

                <div id="atom-table-wrapper" class="hidden">
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Atom counts
                  </div>
                  <div class="overflow-x-auto">
                    <table class="min-w-full text-xs border border-gray-200">
                      <thead class="bg-gray-100">
                        <tr id="atom-header-row"></tr>
                      </thead>
                      <tbody id="atom-body-rows"></tbody>
                    </table>
                  </div>
                </div>

                <div
                  id="ratio-box"
                  class="hidden border border-gray-200 rounded-md p-3 bg-white"
                >
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    Mole ratio
                  </div>
                  <div id="ratio-text" class="mono text-sm text-gray-800"></div>
                </div>

                <div
                  id="steps-box"
                  class="hidden border border-gray-200 rounded-md p-3 bg-white"
                >
                  <div
                    class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                  >
                    How this was balanced
                  </div>
                  <ol
                    id="steps-list"
                    class="list-decimal list-inside text-sm text-gray-800 space-y-1"
                  ></ol>
                </div>

                <div
                  id="error-box"
                  class="hidden border border-red-200 bg-red-50 text-red-800 rounded-md p-3 text-sm"
                ></div>
              </div>
            </section>

            <!-- Quick examples -->
            <section class="mt-8">
              <h2 class="text-lg font-semibold mb-2">
                Try these example equations
              </h2>
              <div class="flex flex-wrap gap-2">
                <button
                  type="button"
                  class="example-btn text-xs md:text-sm px-3 py-1.5 rounded-full border border-gray-300 bg-white hover:bg-gray-100 mono"
                >
                  H2 + O2 -> H2O
                </button>
                <button
                  type="button"
                  class="example-btn text-xs md:text-sm px-3 py-1.5 rounded-full border border-gray-300 bg-white hover:bg-gray-100 mono"
                >
                  C3H8 + O2 -> CO2 + H2O
                </button>
                <button
                  type="button"
                  class="example-btn text-xs md:text-sm px-3 py-1.5 rounded-full border border-gray-300 bg-white hover:bg-gray-100 mono"
                >
                  Fe + O2 -> Fe2O3
                </button>
                <button
                  type="button"
                  class="example-btn text-xs md:text-sm px-3 py-1.5 rounded-full border border-gray-300 bg-white hover:bg-gray-100 mono"
                >
                  KMnO4 + HCl -> KCl + MnCl2 + H2O + Cl2
                </button>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-10">
              <h2>How the chemical equation balancer works</h2>
              <p>
                This balancer uses a linear algebra method to find the smallest
                whole‑number coefficients that satisfy the law of conservation
                of mass: the number of atoms of each element must be the same on
                both sides of the equation.
              </p>

              <h3>1. Parsing the equation</h3>
              <p>The tool first interprets your input:</p>
              <ul>
                <li>
                  Splits reactants and products at
                  <code class="mono">-&gt;</code> or
                  <code class="mono">=</code>.
                </li>
                <li>Splits species at <code class="mono">+</code>.</li>
                <li>
                  Parses each formula, including:
                  <ul>
                    <li>Element symbols (H, He, Fe, Cl, etc.).</li>
                    <li>
                      Subscripts and multipliers (e.g. H<sub>2</sub>, SO<sub
                        >4</sub
                      ><sub>3</sub>).
                    </li>
                    <li>
                      Parentheses and nested groups, like
                      <code class="mono">Ca3(PO4)2</code>.
                    </li>
                    <li>
                      Optional states and charges (e.g.
                      <code class="mono">(aq)</code>,
                      <code class="mono">^2+</code>) which are ignored for atom
                      counting.
                    </li>
                  </ul>
                </li>
              </ul>

              <h3>2. Building the element matrix</h3>
              <p>
                For each unique element, the calculator builds an equation that
                says:
              </p>
              <div class="formula-box mono text-sm">
                a₁·(atoms of element in species 1 on left) + a₂·(...) + … =
                b₁·(atoms of element in species 1 on right) + b₂·(...) + …
              </div>
              <p>
                This becomes a homogeneous system of linear equations, which we
                solve using Gaussian elimination.
              </p>

              <h3>3. Finding the smallest integer coefficients</h3>
              <p>
                The solution from linear algebra is typically a set of rational
                numbers. We:
              </p>
              <ul>
                <li>Convert all coefficients to fractions.</li>
                <li>
                  Multiply by the least common multiple of denominators to get
                  integers.
                </li>
                <li>
                  Optionally divide by the greatest common divisor (GCD) to
                  simplify to the smallest whole‑number ratio.
                </li>
              </ul>

              <h3>Example: Balancing propane combustion</h3>
              <p>Unbalanced equation:</p>
              <div class="formula-box mono">C3H8 + O2 → CO2 + H2O</div>
              <p>Balanced equation:</p>
              <div class="formula-box mono">1 C3H8 + 5 O2 → 3 CO2 + 4 H2O</div>
              <p>Mole ratio:</p>
              <div class="formula-box mono">
                C3H8 : O2 : CO2 : H2O = 1 : 5 : 3 : 4
              </div>

              <h2>Tips for using the chemical equation balancer</h2>
              <ul>
                <li>
                  Always include all reactants and products before balancing.
                </li>
                <li>
                  Use correct capitalization:
                  <code class="mono">Co</code> (cobalt) is different from
                  <code class="mono">CO</code> (carbon monoxide).
                </li>
                <li>
                  You can omit coefficients of 1; the tool will show them
                  explicitly in the balanced result.
                </li>
                <li>
                  States like <code class="mono">(s)</code>,
                  <code class="mono">(l)</code>, <code class="mono">(g)</code>,
                  <code class="mono">(aq)</code> are allowed but do not affect
                  balancing.
                </li>
              </ul>

              <h2>Common questions</h2>
              <h3>What kinds of equations can this balance?</h3>
              <p>
                The calculator can balance most inorganic and many organic
                reactions, including combustion, synthesis, decomposition,
                single‑replacement, double‑replacement, and redox equations
                written in molecular form.
              </p>

              <h3>What are its limitations?</h3>
              <ul>
                <li>
                  It does not currently perform half‑reaction balancing in
                  acidic/basic solution with electrons and
                  H<sup>+</sup>/OH<sup>-</sup>.
                </li>
                <li>
                  It assumes all species are distinct; identical formulas on
                  both sides will be combined into a single coefficient.
                </li>
                <li>
                  If the equation is impossible to balance (e.g. missing a
                  product), it will report that no non‑trivial solution exists.
                </li>
              </ul>
            </section>

            <section class="prose mt-8">
              <h2>FAQ</h2>
              <h3>Do I need to guess coefficients first?</h3>
              <p>
                No. You can enter the raw unbalanced equation and the tool will
                compute the coefficients from scratch.
              </p>

              <h3>Can I use fractions as coefficients?</h3>
              <p>
                You can, but the balancer will always return the simplest
                whole‑number ratio. For example, if you enter
                <code class="mono">0.5 O2</code>, the result will be scaled to
                integers.
              </p>

              <h3>Does the balancer conserve charge?</h3>
              <p>
                It focuses on atom conservation. Charges (like
                <code class="mono">^2+</code>) are parsed but not balanced as a
                separate constraint, so full electrochemical half‑reaction
                balancing is not supported.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Enter an unbalanced equation (e.g. H2 + O2 -> H2O)</li><li>Simplify coefficients to smallest integers</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Chemical, Equation, Balancer, Enter an unbalanced equation (e.g. H2 + O2 -> H2O), Simplify coefficients to smallest integers.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Enter an unbalanced equation (e.g. H2 + O2 -> H2O)</li><li>Simplify coefficients to smallest integers</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related chemistry tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/stoichiometry"
                  class="text-blue-600 hover:underline"
                  >Stoichiometry Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molarity"
                  class="text-blue-600 hover:underline"
                  >Molarity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molar-mass"
                  class="text-blue-600 hover:underline"
                  >Molar Mass Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percent-yield"
                  class="text-blue-600 hover:underline"
                  >Percent Yield Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/limiting-reactant"
                  class="text-blue-600 hover:underline"
                  >Limiting Reactant Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/empirical-formula"
                  class="text-blue-600 hover:underline"
                  >Empirical Formula Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molecular-formula"
                  class="text-blue-600 hover:underline"
                  >Molecular Formula Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ph"
                  class="text-blue-600 hover:underline"
                  >pH Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Science categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/chemistry"
                  class="text-blue-600 hover:underline"
                  >Chemistry Calculators</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/physics"
                  class="text-blue-600 hover:underline"
                  >Physics Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/biology"
                  class="text-blue-600 hover:underline"
                  >Biology &amp; Genetics</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/categories/science"
                  class="text-blue-600 hover:underline"
                  >All Science Calculators</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Utility: GCD & LCM for integers ---
      function gcd(a, b) {
        a = Math.abs(a); b = Math.abs(b);
        while (b) { const t = b; b = a % b; a = t; }
        return a || 1;
      }
      function lcm(a, b) {
        return Math.abs(a * b) / gcd(a, b);
      }

      // --- Fraction helper to keep coefficients rational & exact ---
      class Fraction {
        constructor(num, den = 1) {
          if (den === 0) throw new Error("Zero denominator");
          if (!Number.isFinite(num) || !Number.isFinite(den)) throw new Error("Non-finite fraction");
          let sign = (den < 0) ? -1 : 1;
          num *= sign;
          den *= sign;
          const g = gcd(num, den);
          this.n = num / g;
          this.d = den / g;
        }
        static fromNumber(x) {
          if (Number.isInteger(x)) return new Fraction(x, 1);
          const str = x.toString();
          if (!str.includes(".")) return new Fraction(x, 1);
          const decimals = str.split(".")[1].length;
          const den = Math.pow(10, decimals);
          const num = Math.round(x * den);
          return new Fraction(num, den);
        }
        add(other) {
          const n = this.n * other.d + other.n * this.d;
          const d = this.d * other.d;
          return new Fraction(n, d);
        }
        sub(other) {
          const n = this.n * other.d - other.n * this.d;
          const d = this.d * other.d;
          return new Fraction(n, d);
        }
        mul(other) {
          return new Fraction(this.n * other.n, this.d * other.d);
        }
        div(other) {
          return new Fraction(this.n * other.d, this.d * other.n);
        }
        valueOf() {
          return this.n / this.d;
        }
      }

      // --- Chemical formula parser ---
      // Supports: elements, numbers, parentheses, nested groups, charges (^2+, ^-), and states (s,l,g,aq) which are ignored.
      function parseFormula(formula) {
        // Strip state symbols in parentheses at end, e.g. (s), (l), (g), (aq)
        formula = formula.trim();
        formula = formula.replace(/\((aq|s|l|g)\)$/i, "");
        // Strip charge notation like ^2+, ^-, ^3-
        formula = formula.replace(/\^[0-9]*[+-]/g, "");

        let i = 0;
        const len = formula.length;

        function parseGroup() {
          const counts = {};
          while (i < len) {
            const ch = formula[i];

            if (ch === "(") {
              i++;
              const inner = parseGroup();
              if (formula[i] !== ")") throw new Error("Mismatched parentheses in formula: " + formula);
              i++;
              const mult = parseNumber();
              for (const el in inner) {
                counts[el] = (counts[el] || 0) + inner[el] * mult;
              }
            } else if (ch === ")") {
              break;
            } else if (/[A-Z]/.test(ch)) {
              let symbol = ch;
              i++;
              if (i < len && /[a-z]/.test(formula[i])) {
                symbol += formula[i];
                i++;
              }
              const mult = parseNumber();
              counts[symbol] = (counts[symbol] || 0) + mult;
            } else if (ch === " " || ch === "\t") {
              i++;
            } else {
              // Unknown character (e.g. +, -, etc.) – stop group
              break;
            }
          }
          return counts;
        }

        function parseNumber() {
          let start = i;
          while (i < len && /[0-9]/.test(formula[i])) i++;
          if (start === i) return 1;
          return parseInt(formula.slice(start, i), 10);
        }

        return parseGroup();
      }

      // --- Equation parser ---
      function parseEquation(input) {
        if (!input || !input.trim()) throw new Error("Please enter a chemical equation.");
        let eq = input.replace(//g, "->");
        const parts = eq.split(/->/);
        if (parts.length !== 2) throw new Error("Equation must contain one '->' or '=' separating reactants and products.");

        function splitSide(side) {
          return side.split("+").map(s => s.trim()).filter(Boolean);
        }

        const left = splitSide(parts[0]);
        const right = splitSide(parts[1]);
        if (!left.length || !right.length) throw new Error("Both reactants and products must be specified.");

        const species = left.concat(right);
        const speciesParsed = species.map(f => parseFormula(f));

        // Collect unique elements
        const elementsSet = new Set();
        speciesParsed.forEach(map => {
          Object.keys(map).forEach(el => elementsSet.add(el));
        });
        const elements = Array.from(elementsSet);
        if (elements.length === 0) throw new Error("No valid elements found in equation.");

        return { leftCount: left.length, rightCount: right.length, species, speciesParsed, elements };
      }

      // --- Build matrix and solve using Gaussian elimination (fractions) ---
      function buildMatrix(data) {
        const { leftCount, rightCount, speciesParsed, elements } = data;
        const nSpecies = speciesParsed.length;
        const rows = elements.length;
        const cols = nSpecies;

        // Matrix A (rows x cols) with Fraction entries
        const A = Array.from({ length: rows }, () => Array.from({ length: cols }, () => new Fraction(0, 1)));

        elements.forEach((el, r) => {
          speciesParsed.forEach((map, c) => {
            const count = map[el] || 0;
            const sign = (c < leftCount) ? 1 : -1; // left positive, right negative
            A[r][c] = new Fraction(sign * count, 1);
          });
        });

        return { A, rows, cols };
      }

      function gaussianElimination(A, rows, cols) {
        // We want a basis for the null space of A.
        // We'll perform row-reduction and then pick a free variable = 1 to get a particular solution.
        const M = A.map(row => row.slice()); // deep copy
        let rank = 0;
        const pivotCols = [];

        for (let col = 0; col < cols && rank < rows; col++) {
          // Find pivot row
          let pivotRow = -1;
          for (let r = rank; r < rows; r++) {
            if (M[r][col].n !== 0) { pivotRow = r; break; }
          }
          if (pivotRow === -1) continue;

          // Swap rows
          if (pivotRow !== rank) {
            const tmp = M[pivotRow];
            M[pivotRow] = M[rank];
            M[rank] = tmp;
          }

          // Normalize pivot row
          const pivotVal = M[rank][col];
          for (let c = col; c < cols; c++) {
            M[rank][c] = M[rank][c].div(pivotVal);
          }

          // Eliminate below
          for (let r = rank + 1; r < rows; r++) {
            const factor = M[r][col];
            if (factor.n === 0) continue;
            for (let c = col; c < cols; c++) {
              M[r][c] = M[r][c].sub(factor.mul(M[rank][c]));
            }
          }

          pivotCols.push(col);
          rank++;
        }

        // If rank == cols, only trivial solution exists
        if (rank === cols) throw new Error("This equation cannot be balanced (no non-trivial solution).");

        // Choose last variable as free variable = 1
        const solution = Array(cols).fill(new Fraction(0, 1));
        const freeCol = (() => {
          for (let c = cols - 1; c >= 0; c--) {
            if (!pivotCols.includes(c)) return c;
          }
          return cols - 1;
        })();
        solution[freeCol] = new Fraction(1, 1);

        // Back-substitute for pivot variables
        for (let i = pivotCols.length - 1; i >= 0; i--) {
          const col = pivotCols[i];
          // Find row where pivot is at this column
          let row = i;
          // Sum over known variables
          let sum = new Fraction(0, 1);
          for (let c = col + 1; c < cols; c++) {
            if (M[row][c].n !== 0) {
              sum = sum.add(M[row][c].mul(solution[c]));
            }
          }
          // pivot variable = -sum
          solution[col] = sum.mul(new Fraction(-1, 1));
        }

        return solution;
      }

      function scaleToIntegers(solution, simplify) {
        // Convert fractions to integers by LCM of denominators
        let lcmDen = 1;
        solution.forEach(fr => {
          lcmDen = lcm(lcmDen, fr.d);
        });
        let ints = solution.map(fr => (fr.n * (lcmDen / fr.d)));

        // Avoid all-zero
        if (ints.every(v => v === 0)) throw new Error("Failed to find a non-trivial solution.");

        // Make all positive (if all negative, flip sign)
        const allNeg = ints.every(v => v <= 0);
        if (allNeg) ints = ints.map(v => -v);

        // Simplify by GCD
        if (simplify) {
          let g = 0;
          ints.forEach(v => { g = gcd(g, v); });
          if (g > 1) ints = ints.map(v => v / g);
        }

        return ints;
      }

      function balanceEquation(input, simplify) {
        const parsed = parseEquation(input);
        const { leftCount, rightCount, species, speciesParsed, elements } = parsed;
        const { A, rows, cols } = buildMatrix(parsed);
        const solutionFractions = gaussianElimination(A, rows, cols);
        const coeffs = scaleToIntegers(solutionFractions, simplify);

        // Build balanced equation string
        function formatSide(list, offset, count) {
          const parts = [];
          for (let i = 0; i < count; i++) {
            const idx = offset + i;
            const coef = coeffs[idx];
            const formula = species[idx].trim();
            parts.push((coef === 1 ? "" : coef + " ") + formula);
          }
          return parts.join(" + ");
        }

        const leftStr = formatSide(species, 0, leftCount);
        const rightStr = formatSide(species, leftCount, rightCount);
        const balancedStr = leftStr + " -> " + rightStr;

        // Atom counts table
        const leftCounts = {};
        const rightCounts = {};
        elements.forEach(el => {
          leftCounts[el] = 0;
          rightCounts[el] = 0;
        });

        speciesParsed.forEach((map, idx) => {
          const coef = coeffs[idx];
          const side = (idx < leftCount) ? leftCounts : rightCounts;
          for (const el in map) {
            side[el] += map[el] * coef;
          }
        });

        // Mole ratio text
        const ratioParts = species.map((f, idx) => {
          const coef = coeffs[idx];
          return `${coef} ${f.trim()}`;
        });
        const ratioText = ratioParts.join(" : ");

        // Simple step explanation
        const steps = [
          "Parsed the equation into reactants and products, and identified all unique elements.",
          "Set up a system of linear equations enforcing conservation of each element across reactants and products.",
          "Solved the system using Gaussian elimination to obtain relative coefficients.",
          "Scaled the coefficients to the smallest whole‑number ratio."
        ];

        return {
          balancedStr,
          elements,
          leftCounts,
          rightCounts,
          coeffs,
          leftCount,
          rightCount,
          species,
          ratioText,
          steps
        };
      }

      // --- DOM wiring ---
      document.addEventListener("DOMContentLoaded", () => {
        const inputEl = document.getElementById("equation-input");
        const balanceBtn = document.getElementById("balance-btn");
        const clearBtn = document.getElementById("clear-btn");
        const simplifyCheckbox = document.getElementById("simplify-checkbox");
        const errorBox = document.getElementById("error-box");
        const balancedBox = document.getElementById("balanced-equation-box");
        const balancedEl = document.getElementById("balanced-equation");
        const atomWrapper = document.getElementById("atom-table-wrapper");
        const atomHeaderRow = document.getElementById("atom-header-row");
        const atomBodyRows = document.getElementById("atom-body-rows");
        const ratioBox = document.getElementById("ratio-box");
        const ratioTextEl = document.getElementById("ratio-text");
        const stepsBox = document.getElementById("steps-box");
        const stepsList = document.getElementById("steps-list");

        function clearResults() {
          errorBox.classList.add("hidden");
          errorBox.textContent = "";
          balancedBox.classList.add("hidden");
          balancedEl.textContent = "";
          atomWrapper.classList.add("hidden");
          atomHeaderRow.innerHTML = "";
          atomBodyRows.innerHTML = "";
          ratioBox.classList.add("hidden");
          ratioTextEl.textContent = "";
          stepsBox.classList.add("hidden");
          stepsList.innerHTML = "";
        }

        balanceBtn.addEventListener("click", () => {
          clearResults();
          const input = inputEl.value;
          try {
            const simplify = simplifyCheckbox.checked;
            const res = balanceEquation(input, simplify);

            balancedEl.textContent = res.balancedStr;
            balancedBox.classList.remove("hidden");

            // Atom table
            atomHeaderRow.innerHTML = "";
            atomBodyRows.innerHTML = "";

            const thEl = document.createElement("th");
            thEl.className = "px-2 py-1 border border-gray-200 text-left";
            thEl.textContent = "Element";
            atomHeaderRow.appendChild(thEl);

            const thL = document.createElement("th");
            thL.className = "px-2 py-1 border border-gray-200 text-right";
            thL.textContent = "Reactants";
            atomHeaderRow.appendChild(thL);

            const thR = document.createElement("th");
            thR.className = "px-2 py-1 border border-gray-200 text-right";
            thR.textContent = "Products";
            atomHeaderRow.appendChild(thR);

            res.elements.forEach(el => {
              const tr = document.createElement("tr");
              const tdEl = document.createElement("td");
              tdEl.className = "px-2 py-1 border border-gray-200";
              tdEl.textContent = el;
              const tdL = document.createElement("td");
              tdL.className = "px-2 py-1 border border-gray-200 text-right";
              tdL.textContent = res.leftCounts[el];
              const tdR = document.createElement("td");
              tdR.className = "px-2 py-1 border border-gray-200 text-right";
              tdR.textContent = res.rightCounts[el];
              tr.appendChild(tdEl);
              tr.appendChild(tdL);
              tr.appendChild(tdR);
              atomBodyRows.appendChild(tr);
            });
            atomWrapper.classList.remove("hidden");

            ratioTextEl.textContent = res.ratioText;
            ratioBox.classList.remove("hidden");

            res.steps.forEach(step => {
              const li = document.createElement("li");
              li.textContent = step;
              stepsList.appendChild(li);
            });
            stepsBox.classList.remove("hidden");
          } catch (err) {
            errorBox.textContent = err.message || "Unable to balance this equation.";
            errorBox.classList.remove("hidden");
          }
        });

        clearBtn.addEventListener("click", () => {
          inputEl.value = "";
          clearResults();
          inputEl.focus();
        });

        // Example buttons
        document.querySelectorAll(".example-btn").forEach(btn => {
          btn.addEventListener("click", () => {
            inputEl.value = btn.textContent.trim();
            clearResults();
            inputEl.focus();
          });
        });

        // Allow Enter (Ctrl+Enter) to trigger balance
        inputEl.addEventListener("keydown", (e) => {
          if ((e.key === "Enter" && (e.ctrlKey || e.metaKey)) || (e.key === "Enter" && !e.shiftKey)) {
            e.preventDefault();
            balanceBtn.click();
          }
        });
      });

      // Mobile menu script (simple)
      document.addEventListener("DOMContentLoaded", () => {
        const toggle = document.getElementById("mobile-menu-toggle");
        const menu = document.getElementById("mobile-menu");
        if (toggle && menu) {
          toggle.addEventListener("click", () => {
            const isHidden = menu.classList.contains("hidden");
            menu.classList.toggle("hidden", !isHidden);
            toggle.setAttribute("aria-expanded", String(isHidden));
          });
        }
      });

      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
