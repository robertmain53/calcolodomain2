<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Adjacency Matrix Calculator – Build Graph Matrices &amp; Degrees</title>
    <meta name="description" content="Interactive adjacency matrix calculator for graphs. Build adjacency matrices from edge lists, switch between directed/undirected and weighted/unweighted graphs, compute degrees, edges, density and adjacency lists with step-by-step explanations.">
    <link rel="canonical" href="https://calcdomain.com/adjacency-matrix">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .pill-toggle button { transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease; }
        .code-like { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        table.adj-table td, table.adj-table th { text-align: center; }
        table.adj-table input[type="text"] { text-align: center; }
    </style>
    
    <!-- HEAD_SCRIPTS_E_META -->
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-7MB5V1LZRN');
    </script>
    
    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">
    
    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>
    
    <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Math & Conversions",
              "item": "https://calcdomain.com/categories/math-conversions"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Core Math & Algebra",
              "item": "https://calcdomain.com/subcategories/core-math-algebra"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Graph adjacency matrix",
              "item": "https://calcdomain.com/adjacency-matrix"
            }
          ]
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is an adjacency matrix of a graph?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The adjacency matrix of a graph with n vertices is an n × n matrix A where entry a_ij records whether there is an edge from vertex i to vertex j. For simple unweighted graphs, a_ij is 1 if an edge is present and 0 otherwise. For weighted graphs, a_ij contains the weight of the edge."
              }
            },
            {
              "@type": "Question",
              "name": "How does the adjacency matrix differ for directed and undirected graphs?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For an undirected graph without loops, the adjacency matrix is symmetric: a_ij = a_ji for all i and j. For directed graphs, an edge from i to j does not imply an edge from j to i, so the matrix is not necessarily symmetric. Row sums give out-degrees and column sums give in-degrees."
              }
            },
            {
              "@type": "Question",
              "name": "What can I compute from an adjacency matrix?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "From an adjacency matrix you can compute graph properties such as the number of edges, vertex degrees, density, adjacency lists, and (via powers of the matrix) counts of walks of fixed length. The calculator on this page automatically computes degrees, edges, density and a human-readable adjacency list."
              }
            },
            {
              "@type": "Question",
              "name": "How do I build an adjacency matrix from an edge list?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "To build an adjacency matrix from an edge list, first fix an ordering of the vertices v1,…,vn. For each edge (vi, vj), set entry a_ij to 1 (or to the edge weight) and leave other entries at 0. For undirected graphs, you set both a_ij and a_ji for each undirected edge."
              }
            },
            {
              "@type": "Question",
              "name": "Can adjacency matrices represent weighted graphs?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. In a weighted graph, the adjacency matrix entry a_ij is equal to the weight of the edge from vertex i to vertex j, with 0 (or another distinguished value) indicating no edge. The calculator lets you switch between unweighted and weighted modes."
              }
            }
          ]
        },
        {
          "@type": "HowTo",
          "name": "How to construct an adjacency matrix from an edge list",
          "description": "Step-by-step procedure to build the adjacency matrix of a graph from a list of edges.",
          "step": [
            {
              "@type": "HowToStep",
              "position": 1,
              "name": "List vertices and fix an order",
              "text": "List all vertices of the graph and decide on an ordering v1,…,vn. This order defines the rows and columns of the adjacency matrix."
            },
            {
              "@type": "HowToStep",
              "position": 2,
              "name": "Initialize the matrix",
              "text": "Create an n × n table and initialize all entries to 0 (or to the neutral value you use to represent absence of an edge)."
            },
            {
              "@type": "HowToStep",
              "position": 3,
              "name": "Fill entries for each edge",
              "text": "For each edge (vi, vj) in the edge list, set a_ij to 1 for unweighted graphs or to the edge weight for weighted graphs. For undirected graphs, also set a_ji."
            },
            {
              "@type": "HowToStep",
              "position": 4,
              "name": "Check symmetry for undirected graphs",
              "text": "If the graph is undirected and simple, the resulting matrix should be symmetric with zeros on the diagonal when there are no loops."
            },
            {
              "@type": "HowToStep",
              "position": 5,
              "name": "Use the matrix for analysis",
              "text": "Use row and column sums to compute degrees, count edges, and, if needed, compute powers of the adjacency matrix to study walks and connectivity."
            }
          ]
        }
      ]
    }
    </script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- BODY_SCRIPTS_INIZIO -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a>
        <span class="mx-1 text-gray-400">›</span>
        <a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a>
        <span class="mx-1 text-gray-400">›</span>
        <a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp; Algebra</a>
        <span class="mx-1 text-gray-400">›</span>
        <span class="text-gray-700">Graph adjacency matrix</span>
      </nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            
            <h1 class="text-2xl md:text-3xl font-bold mb-4">Adjacency Matrix Calculator for Graphs</h1>
            <p class="text-gray-700 mb-2">
              This interactive tool helps you build and analyze the <strong>adjacency matrix</strong> of a graph.
              Choose the number of vertices, toggle <strong>directed vs undirected</strong> and
              <strong>weighted vs unweighted</strong>, edit the matrix or paste an edge list, and get degrees,
              edge counts, density and adjacency lists.
            </p>
            <p class="text-gray-700 mb-4">
              It is designed for students, data scientists and engineers who want a transparent,
              step-by-step companion to standard graph theory references.
            </p>

            <!-- Calculator -->
            <section aria-labelledby="adj-matrix-calculator" class="mb-8">
              <h2 id="adj-matrix-calculator" class="text-xl font-semibold mb-3">Adjacency matrix builder</h2>

              <!-- Mode & size controls -->
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1" for="adj-n">
                    Number of vertices (n)
                  </label>
                  <input id="adj-n" type="number" min="2" max="12" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" value="4">
                  <p class="text-xs text-gray-500 mt-1">Between 2 and 12 vertices.</p>
                </div>
                <div>
                  <span class="block text-sm font-medium text-gray-700 mb-1">Graph type</span>
                  <div class="pill-toggle inline-flex flex-wrap gap-2 text-xs md:text-sm">
                    <button type="button" data-adj-directed="undirected" class="adj-directed-btn px-3 py-1.5 rounded-full border border-blue-600 bg-blue-600 text-white font-medium">
                      Undirected
                    </button>
                    <button type="button" data-adj-directed="directed" class="adj-directed-btn px-3 py-1.5 rounded-full border border-gray-300 bg-white text-gray-700">
                      Directed
                    </button>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Undirected graphs have symmetric adjacency matrices when unweighted.
                  </p>
                </div>
                <div>
                  <span class="block text-sm font-medium text-gray-700 mb-1">Weights</span>
                  <div class="pill-toggle inline-flex flex-wrap gap-2 text-xs md:text-sm">
                    <button type="button" data-adj-weighted="unweighted" class="adj-weighted-btn px-3 py-1.5 rounded-full border border-blue-600 bg-blue-600 text-white font-medium">
                      Unweighted (0/1)
                    </button>
                    <button type="button" data-adj-weighted="weighted" class="adj-weighted-btn px-3 py-1.5 rounded-full border border-gray-300 bg-white text-gray-700">
                      Weighted
                    </button>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    In weighted mode, entries represent edge weights; 0 means no edge.
                  </p>
                </div>
              </div>

              <!-- Vertex labels -->
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1" for="adj-labels">
                  Vertex labels (optional, comma-separated)
                </label>
                <input id="adj-labels" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. A,B,C,D or v1,v2,v3,v4">
                <p class="text-xs text-gray-500 mt-1">
                  If empty, vertices are labeled v1, v2, …, vn. Labels are used in adjacency lists and edge parsing.
                </p>
              </div>

              <!-- Matrix controls -->
              <div class="flex flex-wrap items-center gap-3 mb-3">
                <button id="adj-build-matrix" type="button" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-800 text-sm font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Build / update matrix
                </button>
                <button id="adj-clear-matrix" type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Clear matrix
                </button>
                <button id="adj-compute" type="button" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Compute graph properties
                </button>
              </div>

              <!-- Matrix table -->
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Adjacency matrix A = (a<sub>ij</sub>)
                </label>
                <div id="adj-matrix-wrapper" class="overflow-auto border border-gray-200 rounded-md p-2 bg-gray-50">
                  <!-- table injected here -->
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  Rows correspond to <em>source</em> vertices, columns to <em>target</em> vertices.
                  For undirected graphs, entries above the diagonal are mirrored automatically.
                </p>
              </div>

              <!-- Edge list integration -->
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1" for="adj-edge-list">
                  Edge list (optional, to populate the matrix)
                </label>
                <textarea id="adj-edge-list" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Examples:
A-B, B-C, C-A
v1 v2
1-3, 2-3, 2-4"></textarea>
                <div class="flex flex-wrap items-center gap-2 mt-2">
                  <button id="adj-apply-edge-list" type="button" class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-800 text-xs font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    Apply edge list to matrix
                  </button>
                  <p class="text-xs text-gray-500">
                    Accepted formats: <span class="code-like">u v</span> or <span class="code-like">u-v</span>,
                    separated by commas or new lines. Use your vertex labels or indices (1-based).
                  </p>
                </div>
              </div>

              <p id="adj-error-message" class="text-sm text-red-600 mb-3 hidden"></p>

              <!-- Results -->
              <div id="adj-results-container" class="grid md:grid-cols-2 gap-4 mb-4 hidden">
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">Graph summary</h3>
                  <dl class="text-sm text-gray-700 space-y-1">
                    <div class="flex justify-between">
                      <dt>Vertices (n)</dt>
                      <dd id="adj-summary-n">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Edges (m)</dt>
                      <dd id="adj-summary-m">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Directed / undirected</dt>
                      <dd id="adj-summary-directed">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Weighted</dt>
                      <dd id="adj-summary-weighted">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Density</dt>
                      <dd id="adj-summary-density">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Symmetry check</dt>
                      <dd id="adj-summary-symmetry">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Connected components (undirected)</dt>
                      <dd id="adj-summary-components">–</dd>
                    </div>
                  </dl>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">Degrees</h3>
                  <div id="adj-degrees-container" class="text-sm text-gray-700 overflow-auto">
                    <!-- degrees table injected here -->
                  </div>
                </div>
              </div>

              <!-- Adjacency list & copyable matrix -->
              <div id="adj-more-results" class="border border-blue-100 bg-blue-50 rounded-lg p-4 text-sm text-gray-800 hidden">
                <h3 class="font-semibold mb-2">Adjacency list &amp; matrix (text)</h3>
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <h4 class="text-xs font-semibold text-gray-700 mb-1">Adjacency list</h4>
                    <pre id="adj-adjlist" class="bg-white border border-gray-200 rounded-md p-2 overflow-auto text-xs code-like whitespace-pre-wrap"></pre>
                  </div>
                  <div>
                    <h4 class="text-xs font-semibold text-gray-700 mb-1">Matrix rows (for copy/paste)</h4>
                    <pre id="adj-matrix-text" class="bg-white border border-gray-200 rounded-md p-2 overflow-auto text-xs code-like whitespace-pre-wrap"></pre>
                  </div>
                </div>
              </div>
            </section>

            <!-- Theory & explanations -->
            <section class="prose">
              <h2>Adjacency matrix – definition</h2>
              <p>
                Let \( G = (V, E) \) be a graph with vertices
                \( V = \{v_1, \dots, v_n\} \). The <strong>adjacency matrix</strong>
                of \(G\) is the \(n \times n\) matrix \(A = (a_{ij})\) defined by
              </p>

              <div class="formula-box text-sm">
                <p class="font-mono mb-1">
                  \( a_{ij} = \begin{cases}
                  1, &amp; \text{if there is an edge from } v_i \text{ to } v_j, \\
                  0, &amp; \text{otherwise.}
                  \end{cases} \)
                </p>
                <p class="font-mono mb-0">
                  For weighted graphs, \( a_{ij} \) is the weight of the edge from \( v_i \) to \( v_j \).
                </p>
              </div>

              <p>
                For an <strong>undirected</strong> simple graph (no loops, no multiple edges),
                the adjacency matrix is symmetric: \( a_{ij} = a_{ji} \) and \( a_{ii} = 0 \).
                For a <strong>directed</strong> graph (digraph), the matrix is not necessarily symmetric.
              </p>

              <h2>Degrees from the adjacency matrix</h2>
              <p>In the unweighted case, vertex degrees are simple row/column sums:</p>
              <ul>
                <li>For an undirected graph, the degree of vertex \(v_i\) is \( \deg(v_i) = \sum_j a_{ij} \).</li>
                <li>For a directed graph, the out-degree is \( \deg^+(v_i) = \sum_j a_{ij} \) and the in-degree is \( \deg^-(v_i) = \sum_j a_{ji} \).</li>
              </ul>

              <p>
                The calculator shows degrees in both undirected and directed modes, and for weighted graphs it
                also reports weighted degree (sum of weights).
              </p>

              <h2>Example: adjacency matrix of a triangle</h2>
              <p>
                Consider the undirected triangle on vertices \(v_1, v_2, v_3\) with edges
                \(\{v_1, v_2\}, \{v_2, v_3\}, \{v_1, v_3\}\). The adjacency matrix is
              </p>

              <div class="formula-box text-sm">
                <p class="font-mono mb-0">
                  \( A =
                  \begin{pmatrix}
                  0 &amp; 1 &amp; 1 \\
                  1 &amp; 0 &amp; 1 \\
                  1 &amp; 1 &amp; 0
                  \end{pmatrix}. \)
                </p>
              </div>

              <p>
                Row sums give degrees: each vertex has degree 2. The matrix is symmetric, as expected for
                an undirected simple graph.
              </p>

              <h2>From matrix to adjacency list and back</h2>
              <p>
                In practice, graphs may be stored either as adjacency matrices or as
                <strong>adjacency lists</strong>. The two representations are equivalent:
              </p>
              <ul>
                <li>Adjacency matrix: constant-time access to edge \((i, j)\), uses \(O(n^2)\) storage.</li>
                <li>Adjacency list: storage proportional to \(n + m\) (vertices plus edges), faster to iterate over neighbors when the graph is sparse.</li>
              </ul>
              <p>
                This calculator converts between them: edit the matrix or the edge list, and it will keep
                both views synchronized for analysis.
              </p>

              <h2 id="adjacency-matrix-faq">Adjacency matrix – frequently asked questions</h2>

              <div class="mt-4 space-y-3">
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">What is the difference between simple, multigraph, and weighted adjacency matrices?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      For a simple unweighted graph, adjacency entries are 0 or 1. For a multigraph, you can let
                      entries record the <em>number</em> of parallel edges between two vertices. For a weighted graph,
                      entries record edge weights. The calculator supports unweighted and weighted modes, but does not
                      distinguish parallel edges explicitly.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Can self-loops be represented in the adjacency matrix?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Yes. A self-loop at vertex \(v_i\) is represented by a non-zero entry on the diagonal: \(a_{ii} \neq 0\).
                      In many theoretical settings for simple graphs, diagonal entries are constrained to be 0; in others
                      (e.g., networks with self-interactions) loops are allowed and carry weights.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Why are adjacency matrices useful in linear algebra and network science?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Adjacency matrices allow you to use linear algebra and matrix operations to study graphs.
                      For example, powers of the adjacency matrix count walks of fixed length, eigenvalues and
                      eigenvectors encode connectivity and centrality properties, and many network algorithms
                      can be expressed compactly in matrix form.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">How should I label vertices when working with real-world networks?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Any consistent labeling works, but it is often convenient to map real-world identifiers
                      (user IDs, protein names, cities, etc.) to an ordered list v1,…,vn and keep a separate
                      lookup table. This calculator lets you use human-readable labels while still indexing
                      vertices internally.
                    </p>
                  </div>
                </div>
              </div>
            </section>

          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge auditspine-badge-warn">Audit: Needs review</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      <br><strong>Note:</strong> This page needs review to confirm formulas and sources.
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( a_{ij} = \begin{cases} 1, &amp; \text{if there is an edge from } v_i \text{ to } v_j, \\ 0, &amp; \text{otherwise.} \end{cases} \) For weighted graphs, \( a_{ij} \) is the weight of the edge from \( v_i \) to \( v_j \).</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( A = \begin{pmatrix} 0 &amp; 1 &amp; 1 \\ 1 &amp; 0 &amp; 1 \\ 1 &amp; 1 &amp; 0 \end{pmatrix}. \)</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><em>No sources provided in audit spec.</em></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verification pending</strong> · Last code update: 2026-01-19<br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Core Math &amp; Algebra tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a href="https://calcdomain.com/standard-form" class="text-blue-600 hover:underline">
                  Standard Form Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/percent-error-calculator" class="text-blue-600 hover:underline">
                  Percent Error Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/cohen-s-d-calculator" class="text-blue-600 hover:underline">
                  Effect Size (Cohen’s d)
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/g-test" class="text-blue-600 hover:underline">
                  G-test (Likelihood-Ratio Test)
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/foil" class="text-blue-600 hover:underline">
                  FOIL Method Calculator
                </a>
              </li>
              <li>
                <span class="text-gray-500">
                  Graph adjacency matrix – you are here
                </span>
              </li>
              <li>
                <a href="https://calcdomain.com/stem-and-leaf-plot" class="text-blue-600 hover:underline">
                  Stem-and-Leaf Plot Generator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/speed-distance-time" class="text-blue-600 hover:underline">
                  Speed, Distance, Time
                </a>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More discrete math &amp; graph tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a href="https://calcdomain.com/graph-degree-sequence" class="text-blue-600 hover:underline">
                  Degree Sequence Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/shortest-path" class="text-blue-600 hover:underline">
                  Shortest Path (Dijkstra)
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/minimum-spanning-tree" class="text-blue-600 hover:underline">
                  Minimum Spanning Tree
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/markov-chain" class="text-blue-600 hover:underline">
                  Markov Chain Transition Matrix
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/matrix-calculator" class="text-blue-600 hover:underline">
                  General Matrix Calculator
                </a>
              </li>
            </ul>
          </div>
        </aside>
        
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/coordinate-converters" class="text-gray-400 hover:text-white">Coordinate Converters</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>
    
    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>
    
    <script>
      // ---- Helpers ----
      function parseNumberLocalized(value) {
        if (value === null || value === undefined) return null;
        const normalized = String(value).replace(/\\s+/g, '').replace(',', '.');
        if (normalized === '') return null;
        const num = Number(normalized);
        return Number.isFinite(num) ? num : null;
      }

      function sanitizeLabels(n, raw) {
        if (!raw || !raw.trim()) {
          const labels = [];
          for (let i = 1; i <= n; i++) labels.push('v' + i);
          return labels;
        }
        const parts = raw.split(',').map(s => s.trim()).filter(Boolean);
        const labels = [];
        for (let i = 0; i < n; i++) {
          labels.push(parts[i] ? parts[i] : 'v' + (i + 1));
        }
        return labels;
      }

      function getDirectedMode() {
        const active = document.querySelector('.adj-directed-btn.bg-blue-600');
        return active ? active.getAttribute('data-adj-directed') : 'undirected';
      }

      function getWeightedMode() {
        const active = document.querySelector('.adj-weighted-btn.bg-blue-600');
        return active ? active.getAttribute('data-adj-weighted') : 'unweighted';
      }

      function buildMatrixTable(n, labels) {
        const wrapper = document.getElementById('adj-matrix-wrapper');
        const table = document.createElement('table');
        table.className = 'adj-table border-collapse text-xs md:text-sm';

        const thead = document.createElement('thead');
        const headerRow = document.createElement('tr');

        // Top-left corner blank
        let th = document.createElement('th');
        th.className = 'border border-gray-300 bg-gray-100 px-1 py-1';
        th.textContent = '';
        headerRow.appendChild(th);

        for (let j = 0; j < n; j++) {
          th = document.createElement('th');
          th.className = 'border border-gray-300 bg-gray-100 px-1 py-1';
          th.textContent = labels[j];
          headerRow.appendChild(th);
        }
        thead.appendChild(headerRow);
        table.appendChild(thead);

        const tbody = document.createElement('tbody');
        for (let i = 0; i < n; i++) {
          const tr = document.createElement('tr');
          const rowHead = document.createElement('th');
          rowHead.className = 'border border-gray-300 bg-gray-100 px-1 py-1';
          rowHead.textContent = labels[i];
          tr.appendChild(rowHead);

          for (let j = 0; j < n; j++) {
            const td = document.createElement('td');
            td.className = 'border border-gray-300 px-1 py-1';
            const input = document.createElement('input');
            input.type = 'text';
            input.inputMode = 'decimal';
            input.className = 'w-12 md:w-14 border border-gray-200 rounded-md px-1 py-0.5 text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500';
            input.dataset.row = String(i);
            input.dataset.col = String(j);
            if (i === j) {
              input.placeholder = '0';
            }
            td.appendChild(input);
            tr.appendChild(td);
          }
          tbody.appendChild(tr);
        }
        table.appendChild(tbody);

        wrapper.innerHTML = '';
        wrapper.appendChild(table);

        // If undirected & unweighted, mirror entries
        const inputs = wrapper.querySelectorAll('input[data-row][data-col]');
        inputs.forEach(inp => {
          inp.addEventListener('input', function () {
            if (getDirectedMode() !== 'undirected') return;
            const i = parseInt(this.dataset.row, 10);
            const j = parseInt(this.dataset.col, 10);
            if (i === j) return;
            const symmetric = wrapper.querySelector('input[data-row="' + j + '"][data-col="' + i + '"]');
            if (symmetric) {
              symmetric.value = this.value;
            }
          });
        });
      }

      function readMatrixValues() {
        const wrapper = document.getElementById('adj-matrix-wrapper');
        const inputs = wrapper.querySelectorAll('input[data-row][data-col]');
        if (!inputs.length) return null;

        const n = Math.max(
          ...Array.from(inputs).map(el => Math.max(parseInt(el.dataset.row, 10), parseInt(el.dataset.col, 10)))
        ) + 1;

        const A = [];
        for (let i = 0; i < n; i++) {
          const row = [];
          for (let j = 0; j < n; j++) {
            const el = wrapper.querySelector('input[data-row="' + i + '"][data-col="' + j + '"]');
            const v = parseNumberLocalized(el ? el.value : '');
            row.push(v === null ? 0 : v);
          }
          A.push(row);
        }
        return A;
      }

      function setMatrixValues(A) {
        const wrapper = document.getElementById('adj-matrix-wrapper');
        const n = A.length;
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < n; j++) {
            const el = wrapper.querySelector('input[data-row="' + i + '"][data-col="' + j + '"]');
            if (el) {
              el.value = A[i][j] === 0 ? '' : String(A[i][j]);
            }
          }
        }
      }

      function parseEdgeList(text, labels) {
        const edges = [];
        if (!text || !text.trim()) return edges;
        const tokens = text
          .split(/[\\n,;]+/)
          .map(t => t.trim())
          .filter(Boolean);

        const labelToIndex = new Map();
        labels.forEach((lab, idx) => {
          labelToIndex.set(lab, idx);
          labelToIndex.set(String(idx + 1), idx); // also allow numeric indices (1-based)
        });

        for (const tok of tokens) {
          let u, v;
          if (tok.includes('-')) {
            const parts = tok.split('-').map(s => s.trim()).filter(Boolean);
            if (parts.length !== 2) {
              throw new Error('Invalid edge token "' + tok + '". Use format "u-v" or "u v".');
            }
            u = parts[0];
            v = parts[1];
          } else {
            const parts = tok.split(/\\s+/).map(s => s.trim()).filter(Boolean);
            if (parts.length !== 2) {
              throw new Error('Invalid edge token "' + tok + '". Use format "u v" or "u-v".');
            }
            u = parts[0];
            v = parts[1];
          }
          const i = labelToIndex.has(u) ? labelToIndex.get(u) : null;
          const j = labelToIndex.has(v) ? labelToIndex.get(v) : null;
          if (i === null || j === null) {
            throw new Error('Edge "' + tok + '" uses unknown vertex label. Check your labels and n.');
          }
          edges.push([i, j]);
        }

        return edges;
      }

      function computeGraphProperties(A, directed, weighted, labels) {
        const n = A.length;
        const isWeighted = weighted === 'weighted';
        let edges = 0;
        let m = 0;
        let symmetric = true;

        // Build adjacency with effective 0/1 presence matrix for edge counts
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < n; j++) {
            const v = A[i][j];
            const present = v !== 0;
            if (present) {
              if (directed === 'directed') {
                m += 1;
              } else {
                if (i <= j) {
                  m += (i === j ? 1 : 0.5); // loops counted once; off-diagonal shared
                }
              }
            }
            if (A[i][j] !== A[j][i]) {
              symmetric = false;
            }
          }
        }

        // Clean integer edges
        edges = directed === 'directed' ? m : Math.round(m);

        // Degrees
        const degreeInfo = [];
        for (let i = 0; i < n; i++) {
          let deg = 0;
          let indeg = 0;
          let outdeg = 0;
          let weightedDeg = 0;
          for (let j = 0; j < n; j++) {
            const vOut = A[i][j];
            const vIn = A[j][i];
            if (directed === 'undirected') {
              if (vOut !== 0) {
                deg += 1;
                weightedDeg += Math.abs(vOut);
              }
            } else {
              if (vOut !== 0) {
                outdeg += 1;
                weightedDeg += Math.abs(vOut);
              }
              if (vIn !== 0) {
                indeg += 1;
              }
            }
          }
          degreeInfo.push({
            label: labels[i],
            degree: deg,
            indegree: indeg,
            outdegree: outdeg,
            weightedDegree: weightedDeg
          });
        }

        // Density
        let density = 0;
        if (n > 1) {
          if (directed === 'directed') {
            density = edges / (n * (n - 1));
          } else {
            density = edges / (n * (n - 1) / 2);
          }
        }

        // Connected components (treat underlying undirected graph)
        const visited = new Array(n).fill(false);
        const components = [];
        function dfs(start, comp) {
          const stack = [start];
          visited[start] = true;
          while (stack.length) {
            const v = stack.pop();
            comp.push(v);
            for (let w = 0; w < n; w++) {
              if (!visited[w] && (A[v][w] !== 0 || A[w][v] !== 0)) {
                visited[w] = true;
                stack.push(w);
              }
            }
          }
        }
        for (let i = 0; i < n; i++) {
          if (!visited[i]) {
            const comp = [];
            dfs(i, comp);
            components.push(comp);
          }
        }

        // Adjacency list
        const adjListLines = [];
        for (let i = 0; i < n; i++) {
          const neighbors = [];
          for (let j = 0; j < n; j++) {
            if (A[i][j] !== 0) {
              if (isWeighted) {
                neighbors.push(labels[j] + ' (w=' + A[i][j] + ')');
              } else {
                neighbors.push(labels[j]);
              }
            }
          }
          adjListLines.push(labels[i] + ': ' + (neighbors.length ? neighbors.join(', ') : '∅'));
        }

        // Matrix text rows
        const matrixRows = A.map(row => row.join(' '));

        return {
          n,
          edges,
          directed,
          weighted: isWeighted,
          density,
          symmetric,
          degreeInfo,
          components,
          adjListLines,
          matrixRows
        };
      }

      // ---- Mode toggles ----
      (function () {
        const dirBtns = document.querySelectorAll('.adj-directed-btn');
        const wtBtns = document.querySelectorAll('.adj-weighted-btn');

        function setDir(mode) {
          dirBtns.forEach(btn => {
            const m = btn.getAttribute('data-adj-directed');
            const active = m === mode;
            btn.classList.toggle('bg-blue-600', active);
            btn.classList.toggle('text-white', active);
            btn.classList.toggle('border-blue-600', active);
            btn.classList.toggle('bg-white', !active);
            btn.classList.toggle('text-gray-700', !active);
            btn.classList.toggle('border-gray-300', !active);
          });
        }
        function setWt(mode) {
          wtBtns.forEach(btn => {
            const m = btn.getAttribute('data-adj-weighted');
            const active = m === mode;
            btn.classList.toggle('bg-blue-600', active);
            btn.classList.toggle('text-white', active);
            btn.classList.toggle('border-blue-600', active);
            btn.classList.toggle('bg-white', !active);
            btn.classList.toggle('text-gray-700', !active);
            btn.classList.toggle('border-gray-300', !active);
          });
        }

        dirBtns.forEach(btn => {
          btn.addEventListener('click', () => setDir(btn.getAttribute('data-adj-directed')));
        });
        wtBtns.forEach(btn => {
          btn.addEventListener('click', () => setWt(btn.getAttribute('data-adj-weighted')));
        });

        setDir('undirected');
        setWt('unweighted');
      })();

      // ---- Build & clear matrix ----
      (function () {
        const btnBuild = document.getElementById('adj-build-matrix');
        const btnClear = document.getElementById('adj-clear-matrix');

        function build() {
          const nVal = parseInt(document.getElementById('adj-n').value, 10);
          let n = Number.isFinite(nVal) ? nVal : 4;
          if (n < 2) n = 2;
          if (n > 12) n = 12;
          document.getElementById('adj-n').value = String(n);
          const labels = sanitizeLabels(n, document.getElementById('adj-labels').value);
          buildMatrixTable(n, labels);
        }

        btnBuild.addEventListener('click', build);
        btnClear.addEventListener('click', function () {
          const A = readMatrixValues();
          if (!A) return;
          const n = A.length;
          const zeros = Array.from({ length: n }, () => Array.from({ length: n }, () => 0));
          setMatrixValues(zeros);
        });

        // Initial build
        build();
      })();

      // ---- Edge list apply ----
      (function () {
        const btnApply = document.getElementById('adj-apply-edge-list');
        const errorMessage = document.getElementById('adj-error-message');

        btnApply.addEventListener('click', function () {
          errorMessage.textContent = '';
          errorMessage.classList.add('hidden');

          const A = readMatrixValues();
          if (!A) {
            errorMessage.textContent = 'Please build the matrix first.';
            errorMessage.classList.remove('hidden');
            return;
          }
          const n = A.length;
          const labels = sanitizeLabels(n, document.getElementById('adj-labels').value);
          const text = document.getElementById('adj-edge-list').value;
          let edges;
          try {
            edges = parseEdgeList(text, labels);
          } catch (err) {
            errorMessage.textContent = err.message || 'Unable to parse edge list.';
            errorMessage.classList.remove('hidden');
            return;
          }

          // Reset matrix to zeros
          for (let i = 0; i < n; i++) {
            for (let j = 0; j < n; j++) {
              A[i][j] = 0;
            }
          }

          const directed = getDirectedMode();
          const weighted = getWeightedMode();
          const isWeighted = weighted === 'weighted';

          edges.forEach(([i, j]) => {
            if (isWeighted) {
              A[i][j] = 1;
              if (directed === 'undirected') {
                A[j][i] = 1;
              }
            } else {
              A[i][j] = 1;
              if (directed === 'undirected') {
                A[j][i] = 1;
              }
            }
          });

          setMatrixValues(A);
        });
      })();

      // ---- Compute properties ----
      (function () {
        const btnCompute = document.getElementById('adj-compute');
        const errorMessage = document.getElementById('adj-error-message');
        const resultsContainer = document.getElementById('adj-results-container');
        const moreResults = document.getElementById('adj-more-results');

        const summaryN = document.getElementById('adj-summary-n');
        const summaryM = document.getElementById('adj-summary-m');
        const summaryDirected = document.getElementById('adj-summary-directed');
        const summaryWeighted = document.getElementById('adj-summary-weighted');
        const summaryDensity = document.getElementById('adj-summary-density');
        const summarySymmetry = document.getElementById('adj-summary-symmetry');
        const summaryComponents = document.getElementById('adj-summary-components');

        const degreesContainer = document.getElementById('adj-degrees-container');
        const adjListPre = document.getElementById('adj-adjlist');
        const matrixTextPre = document.getElementById('adj-matrix-text');

        btnCompute.addEventListener('click', function () {
          errorMessage.textContent = '';
          errorMessage.classList.add('hidden');

          const Araw = readMatrixValues();
          if (!Araw) {
            errorMessage.textContent = 'Please build and fill the adjacency matrix first.';
            errorMessage.classList.remove('hidden');
            resultsContainer.classList.add('hidden');
            moreResults.classList.add('hidden');
            return;
          }
          const n = Araw.length;
          const labels = sanitizeLabels(n, document.getElementById('adj-labels').value);
          const directed = getDirectedMode();
          const weighted = getWeightedMode();
          const isWeighted = weighted === 'weighted';

          // In unweighted mode, coerce entries to 0/1
          const A = [];
          for (let i = 0; i < n; i++) {
            const row = [];
            for (let j = 0; j < n; j++) {
              const v = Araw[i][j];
              if (isWeighted) {
                row.push(v);
              } else {
                row.push(v !== 0 ? 1 : 0);
              }
            }
            A.push(row);
          }

          const props = computeGraphProperties(A, directed, weighted, labels);

          summaryN.textContent = props.n;
          summaryM.textContent = props.edges;
          summaryDirected.textContent = props.directed === 'directed' ? 'Directed' : 'Undirected';
          summaryWeighted.textContent = props.weighted ? 'Yes (weighted)' : 'No (unweighted)';
          summaryDensity.textContent = Number.isFinite(props.density) ? props.density.toFixed(3) : '–';
          summarySymmetry.textContent = props.symmetric ? 'Symmetric' : 'Not symmetric';

          if (props.components.length === 1) {
            summaryComponents.textContent = '1 (graph is connected in the undirected sense)';
          } else {
            const compsStr = props.components
              .map(comp => '{' + comp.map(i => labels[i]).join(', ') + '}')
              .join(', ');
            summaryComponents.textContent = props.components.length + ' components: ' + compsStr;
          }

          // Degrees table
          let html = '';
          html += '<table class="min-w-full border-collapse text-xs md:text-sm">';
          html += '<thead><tr>';
          html += '<th class="border border-gray-300 bg-gray-100 px-2 py-1">Vertex</th>';
          if (directed === 'undirected') {
            html += '<th class="border border-gray-300 bg-gray-100 px-2 py-1">Degree</th>';
          } else {
            html += '<th class="border border-gray-300 bg-gray-100 px-2 py-1">Out-degree</th>';
            html += '<th class="border border-gray-300 bg-gray-100 px-2 py-1">In-degree</th>';
          }
          if (props.weighted) {
            html += '<th class="border border-gray-300 bg-gray-100 px-2 py-1">Weighted degree</th>';
          }
          html += '</tr></thead><tbody>';

          props.degreeInfo.forEach(info => {
            html += '<tr>';
            html += '<td class="border border-gray-300 px-2 py-1">' + info.label + '</td>';
            if (directed === 'undirected') {
              html += '<td class="border border-gray-300 px-2 py-1 text-right">' + info.degree + '</td>';
            } else {
              html += '<td class="border border-gray-300 px-2 py-1 text-right">' + info.outdegree + '</td>';
              html += '<td class="border border-gray-300 px-2 py-1 text-right">' + info.indegree + '</td>';
            }
            if (props.weighted) {
              html += '<td class="border border-gray-300 px-2 py-1 text-right">' + info.weightedDegree + '</td>';
            }
            html += '</tr>';
          });

          html += '</tbody></table>';
          degreesContainer.innerHTML = html;

          // Adjacency list and matrix text
          adjListPre.textContent = props.adjListLines.join('\\n');
          matrixTextPre.textContent = props.matrixRows.join('\\n');

          resultsContainer.classList.remove('hidden');
          moreResults.classList.remove('hidden');
        });
      })();

      // Simple mobile menu toggle
      (function () {
        const toggle = document.getElementById('mobile-menu-toggle');
        const menu = document.getElementById('mobile-menu');
        if (!toggle || !menu) return;

        toggle.addEventListener('click', function () {
          const isOpen = !menu.classList.contains('hidden');
          menu.classList.toggle('hidden', isOpen);
          toggle.setAttribute('aria-expanded', String(!isOpen));
        });
      })();
    </script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>