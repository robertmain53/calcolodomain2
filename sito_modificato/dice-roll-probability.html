<!DOCTYPE html><html lang="en"><head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Dice Roll Probability Calculator – Multiple Dice, Sums &amp; Successes</title>
    <meta name="description" content="Dice probability calculator for one or many dice. Compute the chance of rolling an exact sum, at least / at most a value, or a number of successes. Shows exact probabilities, odds, and step-by-step logic.">
    <link rel="canonical" href="https://calcdomain.com/dice-roll-probability">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .badge { display: inline-flex; align-items: center; padding: 0.125rem 0.5rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
        .input-label { font-size: 0.875rem; font-weight: 500; color: #374151; }
        .mono-small { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 0.8rem; }
        .scroll-x { overflow-x: auto; }
        .pill { border-radius: 9999px; padding: 0.35rem 0.9rem; font-size: 0.8rem; }
        .pill-active { background-color: #2563eb; color: #ffffff; }
        .pill-inactive { background-color: #e5e7eb; color: #374151; }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

    <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://calcdomain.com/dice-roll-probability",
      "url": "https://calcdomain.com/dice-roll-probability",
      "name": "Dice Roll Probability Calculator – Multiple Dice, Sums & Successes",
      "description": "Dice probability calculator for one or many dice. Compute the chance of rolling an exact sum, at least / at most a value, or a number of successes. Shows exact probabilities, odds, and step-by-step logic.",
      "inLanguage": "en",
      "isPartOf": {
        "@id": "https://calcdomain.com/#website"
      },
      "dateModified": "2025-11-29"
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://calcdomain.com/dice-roll-probability#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/categories/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Core Math & Algebra",
          "item": "https://calcdomain.com/subcategories/core-math-algebra"
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "Dice roll probability",
          "item": "https://calcdomain.com/dice-roll-probability"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "@id": "https://calcdomain.com/dice-roll-probability#faq",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do you calculate the probability of a dice sum?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "To find the probability that the sum of n fair s-sided dice equals a value S, you count the number of combinations of face values that add to S and divide by the total number of outcomes s^n. For small n, you can list or convolve; for larger n, dynamic programming or generating functions are used."
          }
        },
        {
          "@type": "Question",
          "name": "What is the probability of rolling at least one 6 on multiple dice?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The probability of at least one 6 on n fair six-sided dice is 1 minus the probability of no 6 at all: 1 − (5/6)^n. More generally, use 1 − (1 − p)^n where p is the chance of success on one die."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between exact, at least, and at most for dice sums?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Exact sum means the total of the dice equals a specific value S. At least S means any total S or larger; at most S means any total S or smaller. Their probabilities are obtained by summing the exact-sum probabilities over the relevant range of totals."
          }
        },
        {
          "@type": "Question",
          "name": "How is the number of successes on dice related to the binomial distribution?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "If each die independently has probability p of being a success (for example rolling 5 or 6 on a d6, so p = 2/6), then the number of successes in n dice follows a binomial distribution. The probability of exactly k successes is C(n, k) · p^k · (1 − p)^(n − k)."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "@id": "https://calcdomain.com/dice-roll-probability#howto",
      "name": "How to compute dice roll probabilities",
      "description": "Step-by-step guide to compute the probability of dice sums and the number of successes.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Define the dice and event",
          "text": "Specify the number of dice, the number of sides, and the event you care about, such as a particular sum or a minimum number of successes."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Count total outcomes",
          "text": "For n independent fair s-sided dice, the total number of outcomes is s^n."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Count favorable outcomes",
          "text": "For sums, count all combinations of face values that produce the target sums, typically via dynamic programming. For successes, use binomial coefficients to count how many patterns have exactly k successes."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Compute probability and express it clearly",
          "text": "Divide favorable outcomes by total outcomes, simplify if possible, and express the result as a fraction, decimal, percentage, and odds like 1 in N."
        }
      ]
    }
  ]
}
    </script>


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>
<body class="bg-gray-50 text-gray-800">

    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">

      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1 text-sm">
          <li>
            <a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a>
            <span class="mx-1 text-gray-400">›</span>
          </li>
          <li>
            <a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a>
            <span class="mx-1 text-gray-400">›</span>
          </li>
          <li>
            <a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp; Algebra</a>
            <span class="mx-1 text-gray-400">›</span>
          </li>
          <li class="text-gray-700 font-medium" aria-current="page">
            Dice roll probability
          </li>
        </ol>
      </nav>

      <div class="flex flex-col lg:flex-row gap-8">

        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <!-- MAIN CONTENT START -->

            <header class="mb-6 border-b border-gray-100 pb-4">
              <div class="flex items-center justify-between gap-3 flex-wrap">
                <div>
                  <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-1">
                    Dice Roll Probability Calculator
                  </h1>
                  <p class="text-gray-600">
                    Compute the probability of sums and successes when rolling one or many dice. Supports exact, at least, at most,
                    and shows odds, percentages, and step-by-step explanations.
                  </p>
                </div>
                <span class="badge bg-blue-50 text-blue-700 border border-blue-100">
                  Core Math &amp; Algebra
                </span>
              </div>
            </header>

            <section aria-labelledby="dice-prob-calculator" class="mb-8">
              <h2 id="dice-prob-calculator" class="text-xl font-semibold mb-3">
                Interactive dice probability engine
              </h2>
              <p class="text-gray-700 mb-3">
                Choose whether you care about the <strong>sum of the dice</strong> or the <strong>number of successes</strong>
                (for example “roll 5+ on each die”), then enter your scenario.
              </p>

              <!-- Scenario selector -->
              <div class="flex flex-wrap gap-2 mb-4">
                <button type="button" id="mode-sum-btn" class="pill pill-active text-xs font-semibold">
                  Sum of dice
                </button>
                <button type="button" id="mode-success-btn" class="pill pill-inactive text-xs font-semibold">
                  Number of successes
                </button>
              </div>

              <!-- Shared dice parameters -->
              <div class="grid gap-4 md:grid-cols-3 mb-4">
                <div>
                  <label for="dice-count" class="block input-label mb-1">
                    Number of dice
                  </label>
                  <input id="dice-count" type="number" min="1" max="20" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" value="2">
                  <p class="mt-1 text-xs text-gray-500">1–15 recommended for exact sums.</p>
                </div>
                <div>
                  <label for="dice-sides" class="block input-label mb-1">
                    Sides per die
                  </label>
                  <input id="dice-sides" type="number" min="2" max="100" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" value="6">
                  <p class="mt-1 text-xs text-gray-500">6 for a standard d6, 20 for a d20, etc.</p>
                </div>
                <div>
                  <label for="dice-decimals" class="block input-label mb-1">
                    Decimal places
                  </label>
                  <select id="dice-decimals" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="2" selected="">2 decimals</option>
                    <option value="4">4 decimals</option>
                    <option value="6">6 decimals</option>
                  </select>
                </div>
              </div>

              <!-- Sum mode panel -->
              <div id="panel-sum" class="space-y-4">
                <fieldset class="border border-gray-200 rounded-md p-3">
                  <legend class="text-sm font-semibold text-gray-800 px-1">
                    Sum condition
                  </legend>
                  <div class="grid gap-3 md:grid-cols-3 mt-2">
                    <div>
                      <label for="sum-compare" class="block input-label mb-1">Type</label>
                      <select id="sum-compare" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="eq" selected="">Exactly equal to</option>
                        <option value="ge">At least</option>
                        <option value="le">At most</option>
                      </select>
                    </div>
                    <div>
                      <label for="sum-target" class="block input-label mb-1">Target sum</label>
                      <input id="sum-target" type="number" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g. 7">
                      <p class="mt-1 text-xs text-gray-500">Between min = dice × 1 and max = dice × sides.</p>
                    </div>
                    <div class="flex items-center mt-4 md:mt-6">
                      <label class="inline-flex items-center text-xs text-gray-700">
                        <input id="sum-show-table" type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2">
                        Show full sum distribution (for small dice pools)
                      </label>
                    </div>
                  </div>
                </fieldset>
              </div>

              <!-- Success mode panel -->
              <div id="panel-success" class="space-y-4 hidden">
                <fieldset class="border border-gray-200 rounded-md p-3">
                  <legend class="text-sm font-semibold text-gray-800 px-1">
                    Success condition
                  </legend>
                  <div class="grid gap-3 md:grid-cols-3 mt-2">
                    <div>
                      <label for="success-faces" class="block input-label mb-1">
                        “Success” faces per die
                      </label>
                      <input id="success-faces" type="number" min="1" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g. 1 or 2">
                      <p class="mt-1 text-xs text-gray-500">
                        For a d6, success on 6 ⇒ 1 face; on 5 or 6 ⇒ 2 faces.
                      </p>
                    </div>
                    <div>
                      <label for="success-compare" class="block input-label mb-1">Number of successes</label>
                      <select id="success-compare" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="eq" selected="">Exactly</option>
                        <option value="ge">At least</option>
                        <option value="le">At most</option>
                      </select>
                    </div>
                    <div>
                      <label for="success-k" class="block input-label mb-1">
                        Target successes (k)
                      </label>
                      <input id="success-k" type="number" min="0" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g. 1, 2, …">
                      <p class="mt-1 text-xs text-gray-500">
                        For “at least one success” set k = 1 and type = “At least”.
                      </p>
                    </div>
                  </div>
                </fieldset>
              </div>

              <!-- Action buttons -->
              <div class="flex flex-wrap items-center gap-3 mt-4">
                <button id="dice-calc-btn" type="button" class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-blue-600 text-white hover:bg-blue-700">
                  Calculate probability
                </button>
                <button id="dice-clear-btn" type="button" class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium border border-gray-300 text-gray-700 hover:bg-gray-50">
                  Clear
                </button>
                <button id="dice-example1-btn" type="button" class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium border border-gray-300 text-gray-700 hover:bg-gray-50">
                  Example: 2d6 sum = 7
                </button>
                <button id="dice-example2-btn" type="button" class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium border border-gray-300 text-gray-700 hover:bg-gray-50">
                  Example: at least one 6 on 4d6
                </button>
                <span id="dice-error" class="text-sm text-red-600 hidden"></span>
              </div>

              <!-- Results card -->
              <div id="dice-results-card" class="mt-4 border border-gray-200 rounded-md p-4 bg-gray-50 hidden text-sm space-y-3">
                <h3 class="font-semibold text-gray-900 text-base mb-1">Results</h3>

                <div>
                  <h4 class="font-semibold text-gray-800 mb-1">Main probability</h4>
                  <p id="dice-main-result" class="text-gray-800"></p>
                </div>

                <div class="grid md:grid-cols-2 gap-3">
                  <div>
                    <h4 class="font-semibold text-gray-800 mb-1">Details</h4>
                    <p id="dice-details" class="text-gray-700"></p>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-800 mb-1">Odds &amp; checks</h4>
                    <p id="dice-odds" class="text-gray-700"></p>
                  </div>
                </div>

                <div id="dice-distribution-section" class="hidden">
                  <h4 class="font-semibold text-gray-800 mb-1">Sum distribution</h4>
                  <div id="dice-distribution" class="mono-small bg-white border border-gray-200 rounded-md px-3 py-2 scroll-x whitespace-pre"></div>
                  <p class="mt-1 text-xs text-gray-500">
                    Distribution is exact for fair dice. For large pools, only the requested probability is shown to keep things fast.
                  </p>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>Dice roll probability in a nutshell</h2>
              <p>
                When you roll fair dice, each face is equally likely. For one s-sided die, the probability of any particular face is
                \(\dfrac{1}{s}\). For multiple dice, the number of possible outcomes grows quickly: rolling \(n\) independent s-sided
                dice gives \(s^n\) equally likely outcomes.
              </p>
              <p>
                To get the probability of an event (such as “sum equals 7” or “at least one 6”), you count <strong>how many outcomes make
                the event happen</strong> and divide by \(s^n\).
              </p>

              <h2>Sum of n dice: exact probabilities</h2>
              <p>
                For \(n\) fair s-sided dice, the sum \(S\) can range from \(n\) (all 1s) up to \(n\,s\) (all s). The probability that the
                sum equals a specific value \(t\) is
              </p>
              <div class="formula-box">
                <p class="font-mono">
                  \(\mathbb{P}(S = t) = \dfrac{\text{number of combinations of faces that add to } t}{s^n}\).
                </p>
              </div>
              <p>
                For small \(n\), you can count by hand or via a <strong>dynamic programming</strong> table that accumulates the number of
                ways to reach each sum as you add dice one by one. This is exactly what the calculator does internally.
              </p>

              <h3>Example: 2d6 sum of 7</h3>
              <p>
                Two standard six-sided dice (2d6) have \(6^2 = 36\) outcomes. The pairs that sum to 7 are:
                \((1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\) – six outcomes.
              </p>
              <div class="formula-box">
                <p class="font-mono">
                  \(\mathbb{P}(S = 7) = \dfrac{6}{36} = \dfrac{1}{6} \approx 16.67\%\).
                </p>
              </div>

              <h2>At least / at most a given sum</h2>
              <p>
                Sometimes you care about “sum at least 10” or “sum at most 4”. In that case:
              </p>
              <ul>
                <li>
                  \(\mathbb{P}(S \le t) = \sum_{k=n}^{t} \mathbb{P}(S = k)\)
                </li>
                <li>
                  \(\mathbb{P}(S \ge t) = \sum_{k=t}^{n s} \mathbb{P}(S = k)\)
                </li>
              </ul>
              <p>
                The calculator automatically sums over the relevant range for you and reports a single probability.
              </p>

              <h2>Successes on dice and the binomial distribution</h2>
              <p>
                Many games define a <strong>success</strong> as rolling certain faces (e.g. “5 or 6 on a d6”). If there are \(f\) success
                faces on an s-sided die, the per-die success probability is
              </p>
              <div class="formula-box">
                <p class="font-mono text-center">
                  \(p = \dfrac{f}{s}\).
                </p>
              </div>
              <p>
                If you roll \(n\) dice, each with success probability \(p\), the number of successes \(K\) follows a
                <strong>binomial distribution</strong>:
              </p>
              <div class="formula-box">
                <p class="font-mono text-center">
                  \(\mathbb{P}(K = k) = \binom{n}{k} p^k (1 - p)^{n-k}\).
                </p>
              </div>

              <h3>Example: at least one 6 on 4d6</h3>
              <p>
                For a d6, one face is a 6, so \(p = 1/6\). For 4 dice, the probability of at least one 6 is
              </p>
              <div class="formula-box">
                <p class="font-mono">
                  \(\mathbb{P}(K \ge 1) = 1 - \mathbb{P}(K = 0) = 1 - (1 - p)^4 = 1 - (5/6)^4 \approx 51.77\%\).
                </p>
              </div>

              <h2>Exact probability vs odds</h2>
              <p>
                It’s often helpful to express probability in different ways:
              </p>
              <ul>
                <li><strong>Decimal:</strong> a number between 0 and 1, like 0.25.</li>
                <li><strong>Percentage:</strong> the decimal times 100%, like 25%.</li>
                <li><strong>Odds “1 in N”:</strong> \(N \approx 1 / p\), e.g. \(p = 0.25\) ⇒ odds ≈ 1 in 4.</li>
              </ul>
              <p>
                The calculator presents all three views so you can quickly sense how rare or common an outcome is.
              </p>

              <h2 id="dice-prob-faq">Dice roll probability – FAQ</h2>

              <h3>Are dice probabilities always based on fair dice?</h3>
              <p>
                This page assumes mathematically ideal fair dice: every face has the same chance. Real physical dice can be biased, but in
                most tabletop and exam settings, the fair-die model is the standard assumption.
              </p>

              <h3>Can I use this for non-standard dice (d8, d10, d20)?</h3>
              <p>
                Yes. Just set the number of sides appropriately. A d8 has 8 sides, d10 has 10, d20 has 20, and so on. The underlying
                formulas remain the same.
              </p>

              <h3>How large can the dice pool be?</h3>
              <p>
                The calculator computes sums exactly via dynamic programming. For very large numbers of dice, the number of possible sums
                grows, so we limit the pool to moderate sizes and may skip the full distribution table in favour of the exact probability
                you asked for. For very large pools, a normal approximation to the sum is standard in statistics.
              </p>

              <h3>Can I mix different dice (e.g. d4 + d6 + d8)?</h3>
              <p>
                This particular tool assumes all dice have the same number of sides. For mixed dice, the same principles apply but the
                exact enumeration is slightly more complex. A future version of this calculator may support that directly.
              </p>

              <h3>Is this calculator suitable for RPG rules and tabletop design?</h3>
              <p>
                Yes. It is designed with game designers, GMs, and mathematically inclined players in mind. You can quickly test how house
                rules affect odds, ensuring that your mechanics are neither too punishing nor too generous.
              </p>
            </section>

            <!-- FAQ block for JS toggler -->
            <section class="mt-8" id="faq">
              <h2 class="text-xl font-semibold mb-4">Frequently Asked Questions</h2>
              <div class="space-y-3">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">How accurate is this dice probability calculator?</summary>
                  <p class="mt-2 text-sm text-gray-700">
                    For the parameters allowed, all probabilities are computed exactly using integer counts of outcomes and precise
                    binomial coefficients. Rounding is only applied for display, and you control the number of decimal places shown.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">Does this tool assume independent dice?</summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. The formulas are based on independent rolls of fair dice. If your game has mechanics that make later rolls depend
                    on earlier ones, you will need more specialised analysis.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">Can this calculator handle advantage/disadvantage style mechanics?</summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Not directly, but you can often model those mechanics in terms of maximum or minimum of multiple dice and derive
                    probabilities from the underlying single-die distribution. A dedicated “advantage/disadvantage” calculator is a
                    natural companion tool.
                  </p>
                </details>
              </div>
            </section>

            <!-- MAIN CONTENT END -->
          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge auditspine-badge-warn">Audit: Needs review</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      <br><strong>Note:</strong> This page needs review to confirm formulas and sources.
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\(\mathbb{P}(S = t) = \dfrac{\text{number of combinations of faces that add to } t}{s^n}\).</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\(\mathbb{P}(S = 7) = \dfrac{6}{36} = \dfrac{1}{6} \approx 16.67\%\).</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\(p = \dfrac{f}{s}\).</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\(\mathbb{P}(K = k) = \binom{n}{k} p^k (1 - p)^{n-k}\).</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\(\mathbb{P}(K \ge 1) = 1 - \mathbb{P}(K = 0) = 1 - (1 - p)^4 = 1 - (5/6)^4 \approx 51.77\%\).</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><em>No sources provided in audit spec.</em></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verification pending</strong> · Last code update: 2026-01-19<br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>

        <aside class="w-full lg:w-1/3">

          <div class="bg-white rounded-lg shadow-md p-5 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-3">Related probability &amp; statistics tools</h2>
            <p class="text-sm text-gray-600 mb-3">
              More tools for analysing uncertainty, randomness and game mechanics.
            </p>
            <ul class="space-y-2 text-sm">
              <li><a href="/probability-calculator" class="text-blue-600 hover:underline">Probability calculator</a></li>
              <li><a href="/statistics" class="text-blue-600 hover:underline">Statistics</a></li>
              <li><a href="/binomial-distribution" class="text-blue-600 hover:underline">Binomial distribution</a></li>
              <li><a href="/poisson-distribution" class="text-blue-600 hover:underline">Poisson distribution</a></li>
              <li><a href="/bayesian-inference" class="text-blue-600 hover:underline">Bayesian inference (binomial)</a></li>
              <li><a href="/gacha" class="text-blue-600 hover:underline">Gacha / loot box probability</a></li>
              <li><a href="/quartile" class="text-blue-600 hover:underline">Quartile</a></li>
              <li><a href="/kruskal-wallis-test" class="text-blue-600 hover:underline">Kruskal–Wallis test</a></li>
              <li><a href="/spearmans-rank-correlation" class="text-blue-600 hover:underline">Spearman’s rank correlation</a></li>
              <li><a href="/categories/math-conversions" class="text-gray-600 hover:underline">All Math &amp; Conversions tools</a></li>
            </ul>
          </div>

          <div class="bg-white rounded-lg shadow-md p-5">
            <h2 class="text-lg font-semibold text-gray-900 mb-3">Checklist for reliable dice odds</h2>
            <ol class="list-decimal list-inside text-sm text-gray-700 space-y-2">
              <li>Confirm the number of dice and sides matches your game rules.</li>
              <li>For successes, correctly count how many faces count as a “hit”.</li>
              <li>Check whether the rule uses exact, at least, or at most conditions.</li>
              <li>Assume independent, fair dice unless the rules say otherwise.</li>
              <li>Use enough decimal places for design decisions and published odds.</li>
            </ol>
          </div>

        </aside>

      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/coordinate-converters" class="text-gray-400 hover:text-white">Coordinate Converters</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <script>
      // Mobile menu toggle
      document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('mobile-menu-toggle');
        const menu = document.getElementById('mobile-menu');
        if (toggle && menu) {
          toggle.addEventListener('click', () => {
            const isHidden = menu.classList.contains('hidden');
            menu.classList.toggle('hidden', !isHidden);
            toggle.setAttribute('aria-expanded', String(isHidden));
          });
        }
      });

      // Dice probability calculator logic
      document.addEventListener('DOMContentLoaded', function () {
        const modeSumBtn = document.getElementById('mode-sum-btn');
        const modeSuccessBtn = document.getElementById('mode-success-btn');
        const panelSum = document.getElementById('panel-sum');
        const panelSuccess = document.getElementById('panel-success');

        const diceCountInput = document.getElementById('dice-count');
        const diceSidesInput = document.getElementById('dice-sides');
        const decimalsSelect = document.getElementById('dice-decimals');

        const sumCompareSelect = document.getElementById('sum-compare');
        const sumTargetInput = document.getElementById('sum-target');
        const sumShowTableCheckbox = document.getElementById('sum-show-table');

        const successFacesInput = document.getElementById('success-faces');
        const successCompareSelect = document.getElementById('success-compare');
        const successKInput = document.getElementById('success-k');

        const calcBtn = document.getElementById('dice-calc-btn');
        const clearBtn = document.getElementById('dice-clear-btn');
        const ex1Btn = document.getElementById('dice-example1-btn');
        const ex2Btn = document.getElementById('dice-example2-btn');
        const errorEl = document.getElementById('dice-error');

        const resultsCard = document.getElementById('dice-results-card');
        const mainResultEl = document.getElementById('dice-main-result');
        const detailsEl = document.getElementById('dice-details');
        const oddsEl = document.getElementById('dice-odds');
        const distSection = document.getElementById('dice-distribution-section');
        const distEl = document.getElementById('dice-distribution');

        let currentMode = 'sum'; // 'sum' or 'success'

        function setMode(mode) {
          currentMode = mode;
          const sumActive = mode === 'sum';
          modeSumBtn.classList.toggle('pill-active', sumActive);
          modeSumBtn.classList.toggle('pill-inactive', !sumActive);
          modeSuccessBtn.classList.toggle('pill-active', !sumActive);
          modeSuccessBtn.classList.toggle('pill-inactive', sumActive);

          panelSum.classList.toggle('hidden', !sumActive);
          panelSuccess.classList.toggle('hidden', sumActive);
          resetResults();
        }

        modeSumBtn.addEventListener('click', () => setMode('sum'));
        modeSuccessBtn.addEventListener('click', () => setMode('success'));

        function resetResults() {
          errorEl.textContent = '';
          errorEl.classList.add('hidden');
          resultsCard.classList.add('hidden');
          mainResultEl.textContent = '';
          detailsEl.textContent = '';
          oddsEl.textContent = '';
          distSection.classList.add('hidden');
          distEl.textContent = '';
        }

        function parsePositiveInt(inputEl, name, min, max) {
          const v = Number(inputEl.value);
          if (!Number.isInteger(v) || v < min || (max != null && v > max)) {
            throw new Error(name + ' must be an integer between ' + min + (max != null ? (' and ' + max) : '') + '.');
          }
          return v;
        }

        function formatProb(p, decimals) {
          if (p < 0) p = 0;
          if (p > 1) p = 1;
          const pct = (p * 100).toFixed(decimals);
          const decStr = p.toFixed(decimals);
          let oddsStr = 'N/A';
          if (p > 0) {
            const n = Math.round(1 / p);
            oddsStr = '≈ 1 in ' + n.toLocaleString();
          }
          return { pct, decStr, oddsStr };
        }

        function factorialBigInt(n) {
          let result = 1n;
          for (let i = 2n; i <= n; i++) {
            result *= i;
          }
          return result;
        }

        function binomialBigInt(n, k) {
          if (k < 0n || k > n) return 0n;
          if (k === 0n || k === n) return 1n;
          if (k > n - k) k = n - k;
          let num = 1n;
          let den = 1n;
          for (let i = 1n; i <= k; i++) {
            num *= (n - (k - i));
            den *= i;
          }
          return num / den;
        }

        function computeSumDistribution(nDice, sides) {
          const minSum = nDice;
          const maxSum = nDice * sides;
          const ways = new Array(maxSum + 1).fill(0n);
          ways[0] = 1n;

          for (let d = 0; d < nDice; d++) {
            const newWays = new Array(maxSum + 1).fill(0n);
            for (let s = 0; s <= maxSum; s++) {
              const count = ways[s];
              if (count === 0n) continue;
              for (let face = 1; face <= sides; face++) {
                const ns = s + face;
                if (ns <= maxSum) {
                  newWays[ns] += count;
                }
              }
            }
            for (let s = 0; s <= maxSum; s++) {
              ways[s] = newWays[s];
            }
          }
          return { ways, minSum, maxSum };
        }

        function powBigInt(base, exp) {
          let result = 1n;
          for (let i = 0n; i < exp; i++) {
            result *= base;
          }
          return result;
        }

        function computeSumProbability(nDice, sides, compare, target, showTable, decimals) {
          if (!Number.isInteger(target)) {
            throw new Error('Target sum must be an integer.');
          }
          const minSum = nDice;
          const maxSum = nDice * sides;
          if (target < minSum || target > maxSum) {
            throw new Error('Target sum must be between ' + minSum + ' and ' + maxSum + '.');
          }

          // Restrict very large DP to keep fast
          if (nDice > 15 || sides > 20) {
            throw new Error('For exact sum probabilities, please keep dice ≤ 15 and sides ≤ 20.');
          }

          const { ways, minSum: sMin, maxSum: sMax } = computeSumDistribution(nDice, sides);
          const totalOutcomes = powBigInt(BigInt(sides), BigInt(nDice));

          let favWays = 0n;
          if (compare === 'eq') {
            favWays = ways[target];
          } else if (compare === 'ge') {
            for (let s = target; s <= sMax; s++) {
              favWays += ways[s];
            }
          } else if (compare === 'le') {
            for (let s = sMin; s <= target; s++) {
              favWays += ways[s];
            }
          }

          const p = Number(favWays) / Number(totalOutcomes);

          let tableStr = '';
          if (showTable && nDice <= 6 && sides <= 12) {
            const rows = [];
            for (let s = sMin; s <= sMax; s++) {
              const w = ways[s];
              if (w === 0n) continue;
              const pp = Number(w) / Number(totalOutcomes);
              rows.push('Sum ' + s.toString().padStart(2, ' ') +
                        ': ways=' + w.toString().padStart(4, ' ') +
                        ', P=' + pp.toFixed(decimals));
            }
            tableStr = rows.join('\n');
          }

          return {
            p,
            favWays,
            totalOutcomes,
            minSum: sMin,
            maxSum: sMax,
            tableStr
          };
        }

        function computeSuccessProbability(nDice, sides, successFaces, compare, k) {
          if (successFaces <= 0 || successFaces > sides) {
            throw new Error('Success faces must be between 1 and the number of sides.');
          }
          if (k < 0 || k > nDice) {
            throw new Error('Target successes k must be between 0 and number of dice.');
          }
          const pSuccess = successFaces / sides;
          const pFail = 1 - pSuccess;

          let p = 0;
          const n = BigInt(nDice);
          if (compare === 'eq') {
            const kk = BigInt(k);
            const C = binomialBigInt(n, kk);
            p = Number(C) * Math.pow(pSuccess, k) * Math.pow(pFail, nDice - k);
          } else if (compare === 'ge') {
            for (let i = k; i <= nDice; i++) {
              const C = binomialBigInt(n, BigInt(i));
              p += Number(C) * Math.pow(pSuccess, i) * Math.pow(pFail, nDice - i);
            }
          } else if (compare === 'le') {
            for (let i = 0; i <= k; i++) {
              const C = binomialBigInt(n, BigInt(i));
              p += Number(C) * Math.pow(pSuccess, i) * Math.pow(pFail, nDice - i);
            }
          }
          return { p, pSuccess };
        }

        function calculate() {
          resetResults();
          try {
            const nDice = parsePositiveInt(diceCountInput, 'Number of dice', 1, 20);
            const sides = parsePositiveInt(diceSidesInput, 'Sides per die', 2, 100);
            const decimals = parseInt(decimalsSelect.value, 10) || 2;

            if (currentMode === 'sum') {
              const cmp = sumCompareSelect.value;
              const target = Number(sumTargetInput.value);
              if (!Number.isFinite(target)) {
                throw new Error('Please enter a valid target sum.');
              }
              const showTable = sumShowTableCheckbox.checked;

              const { p, favWays, totalOutcomes, minSum, maxSum, tableStr } =
                computeSumProbability(nDice, sides, cmp, Math.round(target), showTable, decimals);

              const { pct, decStr, oddsStr } = formatProb(p, decimals);

              let cmpText = 'sum = ' + Math.round(target);
              if (cmp === 'ge') cmpText = 'sum ≥ ' + Math.round(target);
              if (cmp === 'le') cmpText = 'sum ≤ ' + Math.round(target);

              mainResultEl.textContent =
                'P(' + nDice + 'd' + sides + ' ' + cmpText + ') = ' +
                decStr + ' (' + pct + '%).';

              detailsEl.textContent =
                'Total outcomes: ' + totalOutcomes.toLocaleString() +
                '. Favourable outcomes: ' + favWays.toLocaleString() + '.' +
                ' Valid sums range from ' + minSum + ' to ' + maxSum + '.';

              oddsEl.textContent =
                'Odds: ' + oddsStr +
                '. This probability is computed exactly using dynamic programming on the sums of ' +
                nDice + ' independent fair d' + sides + ' dice.';

              if (tableStr) {
                distSection.classList.remove('hidden');
                distEl.textContent = tableStr;
              }

            } else {
              const successFaces = parsePositiveInt(successFacesInput, 'Success faces', 1, null);
              const cmp = successCompareSelect.value;
              const k = parsePositiveInt(successKInput, 'Target successes', 0, nDice);

              const { p, pSuccess } =
                computeSuccessProbability(nDice, sides, successFaces, cmp, k);

              const { pct, decStr, oddsStr } = formatProb(p, decimals);

              let cmpText = 'K = ' + k;
              if (cmp === 'ge') cmpText = 'K ≥ ' + k;
              if (cmp === 'le') cmpText = 'K ≤ ' + k;

              mainResultEl.textContent =
                'P(' + cmpText + ' successes on ' + nDice + 'd' + sides + ') = ' +
                decStr + ' (' + pct + '%).';

              detailsEl.textContent =
                'Per-die success probability p = ' +
                pSuccess.toFixed(decimals) +
                ' (success faces ' + successFaces + ' out of ' + sides + '). ' +
                'The number of successes follows a binomial distribution with parameters n = ' +
                nDice + ' and p = ' + pSuccess.toFixed(decimals) + '.';

              oddsEl.textContent =
                'Odds: ' + oddsStr +
                '. For “at least one success”, use type = “At least” and k = 1. ' +
                'All probabilities are exact within floating-point precision.';

            }

            resultsCard.classList.remove('hidden');
          } catch (e) {
            errorEl.textContent = e.message || 'An error occurred while computing the probability.';
            errorEl.classList.remove('hidden');
          }
        }

        function clearAll() {
          diceCountInput.value = '2';
          diceSidesInput.value = '6';
          decimalsSelect.value = '2';

          sumCompareSelect.value = 'eq';
          sumTargetInput.value = '';
          sumShowTableCheckbox.checked = false;

          successFacesInput.value = '';
          successCompareSelect.value = 'eq';
          successKInput.value = '';

          setMode('sum');
          resetResults();
        }

        function loadExample1() {
          setMode('sum');
          diceCountInput.value = '2';
          diceSidesInput.value = '6';
          decimalsSelect.value = '4';
          sumCompareSelect.value = 'eq';
          sumTargetInput.value = '7';
          sumShowTableCheckbox.checked = true;
          calculate();
        }

        function loadExample2() {
          setMode('success');
          diceCountInput.value = '4';
          diceSidesInput.value = '6';
          decimalsSelect.value = '4';
          successFacesInput.value = '1'; // only face 6
          successCompareSelect.value = 'ge';
          successKInput.value = '1';
          calculate();
        }

        calcBtn.addEventListener('click', calculate);
        clearBtn.addEventListener('click', clearAll);
        ex1Btn.addEventListener('click', loadExample1);
        ex2Btn.addEventListener('click', loadExample2);

        // Quick Enter shortcut: Ctrl+Enter on any numeric field triggers calculate
        [diceCountInput, diceSidesInput, sumTargetInput, successFacesInput, successKInput].forEach(function (el) {
          el.addEventListener('keydown', function (e) {
            if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {
              e.preventDefault();
              calculate();
            }
          });
        });
      });
    </script>




</body></html>