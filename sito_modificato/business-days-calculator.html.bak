<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/business-days-calculator" />
    <title>Business Days Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Business Days Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Business Days Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Business Days Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/business-days-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Business Days Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Business Days Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Time & Date Calculators", "item": "https://calcdomain.com/subcategories/time-date"}, {"@type": "ListItem", "position": 4, "name": "Business Days Calculator", "item": "https://calcdomain.com/business-days-calculator"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/time-date" class="text-blue-600 hover:underline">Time &amp; Date Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Business Days Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Business Days Calculator
              </h1>
              <p class="text-gray-600">
                Count working days between two dates or add/subtract business
                days from a date. Customize weekends, holidays, and workweek
                patterns.
              </p>
            </header>

            <!-- Calculator Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex flex-wrap gap-2" aria-label="Calculator mode">
                <button
                  id="tab-between"
                  class="tab-btn px-3 py-2 text-sm font-medium border-b-2 border-blue-600 text-blue-600"
                  type="button"
                >
                  Between two dates
                </button>
                <button
                  id="tab-add"
                  class="tab-btn px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600"
                  type="button"
                >
                  Add / subtract business days
                </button>
              </nav>
            </div>

            <!-- Between two dates mode -->
            <section id="panel-between" aria-labelledby="tab-between">
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="start-date"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Start date</label
                  >
                  <input
                    type="date"
                    id="start-date"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label
                    for="end-date"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >End date</label
                  >
                  <input
                    type="date"
                    id="end-date"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-4 mb-4">
                <label class="inline-flex items-center text-sm text-gray-700">
                  <input
                    type="checkbox"
                    id="include-start"
                    class="mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    checked
                  />
                  Include start date if it is a working day
                </label>
              </div>
            </section>

            <!-- Add/subtract mode -->
            <section id="panel-add" class="hidden" aria-labelledby="tab-add">
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="base-date"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Start date</label
                  >
                  <input
                    type="date"
                    id="base-date"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label
                    for="offset-days"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Business days to add / subtract</label
                  >
                  <div class="flex">
                    <input
                      type="number"
                      id="offset-days"
                      class="w-full border border-gray-300 rounded-l-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      value="10"
                    />
                    <select
                      id="offset-direction"
                      class="border border-l-0 border-gray-300 rounded-r-md px-2 text-sm bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                      <option value="forward">Add</option>
                      <option value="backward">Subtract</option>
                    </select>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Only working days are counted. Weekends and holidays are
                    skipped.
                  </p>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-4 mb-4">
                <label class="inline-flex items-center text-sm text-gray-700">
                  <input
                    type="checkbox"
                    id="include-base"
                    class="mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    checked
                  />
                  Include start date if it is a working day
                </label>
              </div>
            </section>

            <!-- Weekend & workweek settings -->
            <section class="mt-4 border-t border-gray-200 pt-4">
              <h2 class="text-sm font-semibold text-gray-800 mb-2">
                Workweek &amp; weekend settings
              </h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label
                    for="weekend-pattern"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Weekend pattern</label
                  >
                  <select
                    id="weekend-pattern"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  >
                    <option value="sat-sun">
                      Saturday–Sunday (most countries)
                    </option>
                    <option value="fri-sat">
                      Friday–Saturday (e.g., some Middle Eastern countries)
                    </option>
                    <option value="sun-mon">Sunday–Monday</option>
                    <option value="none">No weekends (7-day workweek)</option>
                    <option value="custom">Custom workweek…</option>
                  </select>
                  <p class="mt-1 text-xs text-gray-500">
                    Choose which days are treated as weekends (non-working
                    days).
                  </p>
                </div>
                <div id="custom-workweek" class="hidden">
                  <span class="block text-sm font-medium text-gray-700 mb-1"
                    >Custom working days</span
                  >
                  <div class="flex flex-wrap gap-2">
                    <!-- Custom weekday toggles -->
                    <button
                      type="button"
                      data-day="0"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-blue-50 text-blue-700 font-medium"
                    >
                      Mon
                    </button>
                    <button
                      type="button"
                      data-day="1"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-blue-50 text-blue-700 font-medium"
                    >
                      Tue
                    </button>
                    <button
                      type="button"
                      data-day="2"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-blue-50 text-blue-700 font-medium"
                    >
                      Wed
                    </button>
                    <button
                      type="button"
                      data-day="3"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-blue-50 text-blue-700 font-medium"
                    >
                      Thu
                    </button>
                    <button
                      type="button"
                      data-day="4"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-blue-50 text-blue-700 font-medium"
                    >
                      Fri
                    </button>
                    <button
                      type="button"
                      data-day="5"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-gray-50 text-gray-500"
                    >
                      Sat
                    </button>
                    <button
                      type="button"
                      data-day="6"
                      class="day-toggle px-2 py-1 text-xs rounded border border-gray-300 bg-gray-50 text-gray-500"
                    >
                      Sun
                    </button>
                  </div>
                  <p class="mt-1 text-xs text-gray-500">
                    Blue = working day, gray = non-working day.
                  </p>
                </div>
              </div>
            </section>

            <!-- Holidays -->
            <section class="mt-4 border-t border-gray-200 pt-4">
              <div class="flex items-center justify-between mb-2">
                <h2 class="text-sm font-semibold text-gray-800">
                  Holidays &amp; non-working dates
                </h2>
                <span class="text-xs text-gray-500">Optional</span>
              </div>
              <div class="grid md:grid-cols-[2fr,1fr] gap-4 items-end mb-3">
                <div>
                  <label
                    for="holiday-date"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Holiday date</label
                  >
                  <input
                    type="date"
                    id="holiday-date"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label
                    for="holiday-name"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Label (optional)</label
                  >
                  <input
                    type="text"
                    id="holiday-name"
                    placeholder="e.g., New Year's Day"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>
              <div class="flex flex-wrap gap-2 mb-3">
                <button
                  id="add-holiday"
                  type="button"
                  class="inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700"
                >
                  Add holiday
                </button>
                <button
                  id="clear-holidays"
                  type="button"
                  class="inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200"
                >
                  Clear holidays
                </button>
              </div>
              <div
                id="holiday-list"
                class="text-xs text-gray-700 bg-gray-50 border border-dashed border-gray-200 rounded-md p-2 min-h-[2.5rem]"
              >
                <span class="text-gray-400">No holidays added.</span>
              </div>
              <p class="mt-1 text-xs text-gray-500">
                Holidays are treated as non-working days even if they fall on a
                weekday.
              </p>
            </section>

            <!-- Action button -->
            <div class="mt-6">
              <button
                id="calculate-btn"
                type="button"
                class="w-full md:w-auto inline-flex items-center justify-center px-5 py-2.5 text-sm font-semibold rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
              >
                Calculate
              </button>
            </div>

            <!-- Results -->
            <section id="results-section" class="mt-6 hidden">
              <h2 class="text-lg font-semibold text-gray-800 mb-2">Result</h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <p class="text-sm text-gray-600 mb-1">Business days</p>
                  <p
                    id="result-business-days"
                    class="text-3xl font-bold text-blue-600"
                  >
                    0
                  </p>
                  <p id="result-summary" class="mt-2 text-xs text-gray-600"></p>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <p class="text-sm text-gray-600 mb-1">Details</p>
                  <ul class="text-xs text-gray-700 space-y-1">
                    <li>
                      <span class="inline-block w-32">Calendar days:</span>
                      <span id="result-calendar-days" class="font-medium"
                        >0</span
                      >
                    </li>
                    <li>
                      <span class="inline-block w-32">Weekends skipped:</span>
                      <span id="result-weekends" class="font-medium">0</span>
                    </li>
                    <li>
                      <span class="inline-block w-32">Holidays skipped:</span>
                      <span id="result-holidays" class="font-medium">0</span>
                    </li>
                    <li>
                      <span class="inline-block w-32">Start date:</span>
                      <span id="result-start" class="font-medium">–</span>
                    </li>
                    <li>
                      <span class="inline-block w-32">End date:</span>
                      <span id="result-end" class="font-medium">–</span>
                    </li>
                  </ul>
                </div>
              </div>

              <!-- Mini calendar visualization -->
              <div
                id="calendar-visual"
                class="mt-4 border border-gray-200 rounded-lg p-4"
              >
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-sm font-semibold text-gray-800">
                    Calendar view
                  </h3>
                  <div
                    class="flex flex-wrap gap-2 text-[0.65rem] text-gray-600"
                  >
                    <span class="flex items-center gap-1"
                      ><span
                        class="w-3 h-3 rounded bg-emerald-100 border border-emerald-300"
                      ></span>
                      Workday</span
                    >
                    <span class="flex items-center gap-1"
                      ><span
                        class="w-3 h-3 rounded bg-gray-100 border border-gray-200"
                      ></span>
                      Weekend</span
                    >
                    <span class="flex items-center gap-1"
                      ><span
                        class="w-3 h-3 rounded bg-rose-100 border border-rose-300"
                      ></span>
                      Holiday</span
                    >
                    <span class="flex items-center gap-1"
                      ><span
                        class="w-3 h-3 rounded border border-blue-400"
                      ></span>
                      In range</span
                    >
                  </div>
                </div>
                <div
                  id="calendar-months"
                  class="grid md:grid-cols-2 gap-4"
                ></div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-8">
              <h2>How this business days calculator works</h2>
              <p>
                This tool lets you quickly calculate working days for
                scheduling, payroll, project planning, SLAs, and deadlines. It
                supports two modes:
              </p>
              <ul>
                <li>
                  <strong>Between two dates</strong> – count how many business
                  days fall between a start and end date.
                </li>
                <li>
                  <strong>Add / subtract business days</strong> – move forward
                  or backward by a given number of working days from a starting
                  date.
                </li>
              </ul>
              <p>
                You can customize which days are weekends, define a custom
                workweek, and add any number of holidays that should be treated
                as non-working days.
              </p>

              <h3>Definition of a business day</h3>
              <p>
                In this calculator, a <strong>business day</strong> (or working
                day) is any date that:
              </p>
              <ul>
                <li>
                  Is marked as a <strong>working weekday</strong> in your
                  settings, and
                </li>
                <li>Is <strong>not</strong> a weekend day, and</li>
                <li>Is <strong>not</strong> in your list of holidays.</li>
              </ul>

              <h3>Counting business days between two dates</h3>
              <p>
                Suppose you choose a start date \(S\) and an end date \(E\)
                (with \(S \le E\)). The calculator:
              </p>
              <ol>
                <li>
                  Builds the full list of calendar dates from \(S\) to \(E\)
                  (inclusive).
                </li>
                <li>
                  Optionally removes \(S\) if “include start date” is unchecked.
                </li>
                <li>
                  For each remaining date:
                  <ul>
                    <li>
                      Checks if it is a working weekday (based on your weekend
                      pattern or custom workweek).
                    </li>
                    <li>Checks if it is <em>not</em> in the holiday list.</li>
                  </ul>
                </li>
                <li>
                  Counts all dates that pass both checks as business days.
                </li>
              </ol>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  Business days formula (conceptual)
                </p>
                <p>
                  Let \(D\) be the set of all dates between \(S\) and \(E\)
                  (inclusive, or exclusive of \(S\) if you choose). Then:
                </p>
                <p>
                  \[ \text{Business days} = \left| \{ d \in D \mid d \text{ is a
                  working weekday and } d \notin H \} \right| \]
                </p>
                <p>where \(H\) is the set of holidays you entered.</p>
              </div>

              <h3>Adding or subtracting business days</h3>
              <p>
                When you add or subtract business days, the calculator walks day
                by day from the start date, skipping weekends and holidays until
                the requested number of working days has been counted.
              </p>
              <ul>
                <li>
                  If you <strong>include the start date</strong>, it is counted
                  as the first business day if it is a working day.
                </li>
                <li>
                  If you <strong>exclude the start date</strong>, counting
                  begins on the next calendar day.
                </li>
              </ul>

              <h3>Typical use cases</h3>
              <ul>
                <li>
                  Finding a <strong>project deadline</strong> that is 30
                  business days from today.
                </li>
                <li>
                  Calculating <strong>lead times</strong> or
                  <strong>service-level agreements (SLAs)</strong> in working
                  days.
                </li>
                <li>
                  Determining how many <strong>billable days</strong> fall in a
                  contract period.
                </li>
                <li>
                  Checking if a <strong>payment due date</strong> lands on a
                  weekend or holiday.
                </li>
              </ul>

              <h2>Tips for accurate results</h2>
              <ul>
                <li>
                  Always add your country’s
                  <strong>public holidays</strong> that fall within the date
                  range.
                </li>
                <li>
                  If your company has additional
                  <strong>company-wide shutdown days</strong>, add them as
                  holidays too.
                </li>
                <li>
                  Use the <strong>custom workweek</strong> option if you work
                  night shifts, rotating schedules, or non-standard weeks.
                </li>
                <li>
                  Check the <strong>calendar view</strong> to visually confirm
                  which days were counted or skipped.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-3">
                Business days calculator – FAQ
              </h2>
              <div class="space-y-3" id="faq-container">
                <div class="border border-gray-200 rounded-lg">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-4 py-2 text-left text-sm font-medium text-gray-800"
                  >
                    <span>What counts as a business day?</span>
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 text-sm text-gray-700 hidden"
                  >
                    A business day is any day that is marked as a working day in
                    your settings. By default this means Monday to Friday,
                    excluding weekends and any holidays you add. If you change
                    the weekend pattern or use a custom workweek, the definition
                    updates automatically.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-4 py-2 text-left text-sm font-medium text-gray-800"
                  >
                    <span
                      >Are the start and end dates included in the count?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 text-sm text-gray-700 hidden"
                  >
                    You can choose whether to include the start date. If the
                    checkbox is ticked and the start date is a working day, it
                    is included. The end date is always included if it is a
                    working day and falls within the range. The summary under
                    the result explains exactly what was counted.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-4 py-2 text-left text-sm font-medium text-gray-800"
                  >
                    <span>How do holidays affect the result?</span>
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 text-sm text-gray-700 hidden"
                  >
                    Any date you add to the Holidays list is treated as a
                    non-working day, even if it falls on a weekday. Holidays
                    that fall on weekends are effectively ignored because those
                    days are already non-working days under most weekend
                    patterns.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-4 py-2 text-left text-sm font-medium text-gray-800"
                  >
                    <span
                      >Can I use this for different countries and
                      workweeks?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 text-sm text-gray-700 hidden"
                  >
                    Yes. You can select common weekend patterns such as
                    Saturday–Sunday, Friday–Saturday, or Sunday–Monday. For more
                    complex schedules, use the custom workweek option to toggle
                    exactly which weekdays are working days.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    type="button"
                    class="faq-question w-full flex justify-between items-center px-4 py-2 text-left text-sm font-medium text-gray-800"
                  >
                    <span
                      >What is the difference between calendar days and business
                      days?</span
                    >
                    <span class="ml-2 text-gray-500">+</span>
                  </button>
                  <div
                    class="faq-answer px-4 pb-3 text-sm text-gray-700 hidden"
                  >
                    Calendar days count every day between two dates, including
                    weekends and holidays. Business days only count days that
                    are marked as working days in your settings and are not
                    holidays. The calculator shows both numbers so you can
                    compare them easily.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Start date End date Include start date if it is a working day</li><li>Start date Business days to add / subtract Add Subtract Only working days are counted. Weekends and holidays are skipped. Include start date if it is a working day</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Business, Days, Calculator, Start date End date Include start date if it is a working day, Start date Business days to add / subtract Add Subtract Only working days are counted. Weekends and holidays are skipped. Include start date if it is a working day.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Start date End date Include start date if it is a working day</li><li>Start date Business days to add / subtract Add Subtract Only working days are counted. Weekends and holidays are skipped. Include start date if it is a working day</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More Time &amp; Date tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="text-blue-600 hover:underline"
                  >Workdays Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="hidden"
                ></a>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Related Lifestyle &amp; Everyday calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/workdays-calculator"
                  class="text-blue-600 hover:underline"
                  >Workdays Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/time-calculator"
                  class="text-blue-600 hover:underline"
                  >Time Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hours-calculator"
                  class="text-blue-600 hover:underline"
                  >Hours Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/date-calculator"
                  class="text-blue-600 hover:underline"
                  >Date Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/days-between-dates"
                  class="text-blue-600 hover:underline"
                  >Days Between Dates</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/date-range-calculator"
                  class="text-blue-600 hover:underline"
                  >Date Range Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/working-hours-calculator"
                  class="text-blue-600 hover:underline"
                  >Working Hours Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/elapsed-time-calculator"
                  class="text-blue-600 hover:underline"
                  >Elapsed Time Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: format date as YYYY-MM-DD
      function toISODate(d) {
        return d.toISOString().slice(0, 10);
      }

      // Initialize default dates
      (function initDates() {
        const today = new Date();
        const start = new Date(today);
        const end = new Date(today);
        end.setDate(end.getDate() + 30);

        const isoToday = toISODate(today);
        const isoStart = toISODate(start);
        const isoEnd = toISODate(end);

        const startInput = document.getElementById("start-date");
        const endInput = document.getElementById("end-date");
        const baseInput = document.getElementById("base-date");

        if (startInput) startInput.value = isoStart;
        if (endInput) endInput.value = isoEnd;
        if (baseInput) baseInput.value = isoToday;
      })();

      // Tab switching
      const tabBetween = document.getElementById("tab-between");
      const tabAdd = document.getElementById("tab-add");
      const panelBetween = document.getElementById("panel-between");
      const panelAdd = document.getElementById("panel-add");

      function activateTab(tab) {
        if (tab === "between") {
          tabBetween.classList.add("border-blue-600", "text-blue-600");
          tabBetween.classList.remove("border-transparent", "text-gray-600");
          tabAdd.classList.remove("border-blue-600", "text-blue-600");
          tabAdd.classList.add("border-transparent", "text-gray-600");
          panelBetween.classList.remove("hidden");
          panelAdd.classList.add("hidden");
        } else {
          tabAdd.classList.add("border-blue-600", "text-blue-600");
          tabAdd.classList.remove("border-transparent", "text-gray-600");
          tabBetween.classList.remove("border-blue-600", "text-blue-600");
          tabBetween.classList.add("border-transparent", "text-gray-600");
          panelAdd.classList.remove("hidden");
          panelBetween.classList.add("hidden");
        }
      }

      tabBetween.addEventListener("click", () => activateTab("between"));
      tabAdd.addEventListener("click", () => activateTab("add"));

      // Weekend pattern & custom workweek
      const weekendPatternSelect = document.getElementById("weekend-pattern");
      const customWorkweekDiv = document.getElementById("custom-workweek");
      const dayToggleButtons = Array.from(
        document.querySelectorAll(".day-toggle")
      );

      function getWorkingDaysConfig() {
        const pattern = weekendPatternSelect.value;
        if (pattern === "sat-sun") {
          return [0, 1, 2, 3, 4]; // Mon-Fri
        }
        if (pattern === "fri-sat") {
          return [0, 1, 2, 3, 6]; // Sun-Thu
        }
        if (pattern === "sun-mon") {
          return [2, 3, 4, 5, 6]; // Tue-Sat
        }
        if (pattern === "none") {
          return [0, 1, 2, 3, 4, 5, 6]; // all days
        }
        // custom
        const working = [];
        dayToggleButtons.forEach((btn) => {
          if (btn.classList.contains("bg-blue-50")) {
            working.push(parseInt(btn.dataset.day, 10));
          }
        });
        return working;
      }

      weekendPatternSelect.addEventListener("change", () => {
        if (weekendPatternSelect.value === "custom") {
          customWorkweekDiv.classList.remove("hidden");
        } else {
          customWorkweekDiv.classList.add("hidden");
        }
      });

      dayToggleButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          if (btn.classList.contains("bg-blue-50")) {
            btn.classList.remove("bg-blue-50", "text-blue-700", "font-medium");
            btn.classList.add("bg-gray-50", "text-gray-500");
          } else {
            btn.classList.add("bg-blue-50", "text-blue-700", "font-medium");
            btn.classList.remove("bg-gray-50", "text-gray-500");
          }
        });
      });

      // Holidays handling
      const holidayDateInput = document.getElementById("holiday-date");
      const holidayNameInput = document.getElementById("holiday-name");
      const addHolidayBtn = document.getElementById("add-holiday");
      const clearHolidaysBtn = document.getElementById("clear-holidays");
      const holidayListDiv = document.getElementById("holiday-list");

      let holidays = []; // {date: 'YYYY-MM-DD', name: 'Label'}

      function renderHolidays() {
        holidayListDiv.innerHTML = "";
        if (!holidays.length) {
          holidayListDiv.innerHTML =
            '<span class="text-gray-400">No holidays added.</span>';
          return;
        }
        const ul = document.createElement("ul");
        ul.className = "flex flex-wrap gap-2";
        holidays.forEach((h, index) => {
          const li = document.createElement("li");
          li.className =
            "flex items-center gap-1 bg-white border border-gray-200 rounded-full px-2 py-0.5";
          const label = h.name ? `${h.name} (${h.date})` : h.date;
          li.innerHTML = `<span class="text-[0.7rem] text-gray-700">${label}</span>`;
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = "text-[0.7rem] text-gray-400 hover:text-red-500";
          btn.textContent = "×";
          btn.addEventListener("click", () => {
            holidays.splice(index, 1);
            renderHolidays();
          });
          li.appendChild(btn);
          ul.appendChild(li);
        });
        holidayListDiv.appendChild(ul);
      }

      addHolidayBtn.addEventListener("click", () => {
        const date = holidayDateInput.value;
        if (!date) {
          alert("Please select a holiday date first.");
          return;
        }
        if (holidays.some((h) => h.date === date)) {
          alert("This holiday is already in the list.");
          return;
        }
        holidays.push({ date, name: holidayNameInput.value.trim() });
        holidayNameInput.value = "";
        renderHolidays();
      });

      clearHolidaysBtn.addEventListener("click", () => {
        holidays = [];
        renderHolidays();
      });

      // Core calculation functions
      function isWorkingDay(dateObj, workingDays, holidaySet) {
        const day = dateObj.getDay(); // 0=Sunday ... 6=Saturday
        const mapped = (day + 6) % 7; // map to 0=Mon ... 6=Sun
        if (!workingDays.includes(mapped)) return false;
        const iso = toISODate(dateObj);
        if (holidaySet.has(iso)) return false;
        return true;
      }

      function countBusinessDays(
        startDate,
        endDate,
        includeStart,
        workingDays,
        holidaySet
      ) {
        if (endDate < startDate)
          return { business: 0, calendar: 0, weekends: 0, holidays: 0 };
        let current = new Date(startDate);
        let business = 0,
          weekends = 0,
          holidaysCount = 0;
        const calendar = Math.floor((endDate - startDate) / 86400000) + 1;
        if (!includeStart) {
          current.setDate(current.getDate() + 1);
        }
        while (current <= endDate) {
          const iso = toISODate(current);
          const day = current.getDay();
          const mapped = (day + 6) % 7;
          const isWeekend = !workingDays.includes(mapped);
          const isHoliday = holidaySet.has(iso);
          if (isWeekend) weekends++;
          if (isHoliday && !isWeekend) holidaysCount++;
          if (!isWeekend && !isHoliday) business++;
          current.setDate(current.getDate() + 1);
        }
        return { business, calendar, weekends, holidays: holidaysCount };
      }

      function addBusinessDays(
        baseDate,
        offset,
        includeBase,
        workingDays,
        holidaySet,
        direction
      ) {
        let current = new Date(baseDate);
        let remaining = Math.abs(offset);
        const step = direction === "backward" ? -1 : 1;

        if (!includeBase) {
          current.setDate(current.getDate() + step);
        }

        while (remaining > 0) {
          const iso = toISODate(current);
          const day = current.getDay();
          const mapped = (day + 6) % 7;
          const isWeekend = !workingDays.includes(mapped);
          const isHoliday = holidaySet.has(iso);
          if (!isWeekend && !isHoliday) {
            remaining--;
            if (remaining === 0) break;
          }
          current.setDate(current.getDate() + step);
        }
        return current;
      }

      // Calendar visualization
      const calendarMonthsDiv = document.getElementById("calendar-months");

      function buildCalendar(startDate, endDate, workingDays, holidaySet) {
        calendarMonthsDiv.innerHTML = "";
        if (!startDate || !endDate || endDate < startDate) return;

        const start = new Date(
          startDate.getFullYear(),
          startDate.getMonth(),
          1
        );
        const end = new Date(endDate.getFullYear(), endDate.getMonth(), 1);
        const months = [];
        let cursor = new Date(start);
        while (cursor <= end) {
          months.push(new Date(cursor));
          cursor.setMonth(cursor.getMonth() + 1);
        }

        const todayIso = toISODate(new Date());

        months.forEach((monthDate) => {
          const year = monthDate.getFullYear();
          const month = monthDate.getMonth();
          const firstDay = new Date(year, month, 1);
          const lastDay = new Date(year, month + 1, 0);
          const monthName = firstDay.toLocaleString("default", {
            month: "long",
            year: "numeric",
          });

          const container = document.createElement("div");
          container.className = "border border-gray-200 rounded-md p-2";

          const header = document.createElement("div");
          header.className = "flex justify-between items-center mb-1";
          header.innerHTML = `<span class="text-xs font-semibold text-gray-800">${monthName}</span>`;
          container.appendChild(header);

          const weekdaysRow = document.createElement("div");
          weekdaysRow.className =
            "calendar-grid mb-1 text-[0.65rem] text-gray-500";
          ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"].forEach((d) => {
            const cell = document.createElement("div");
            cell.className = "text-center";
            cell.textContent = d;
            weekdaysRow.appendChild(cell);
          });
          container.appendChild(weekdaysRow);

          const grid = document.createElement("div");
          grid.className = "calendar-grid";

          // Leading empty cells
          const firstWeekday = (firstDay.getDay() + 6) % 7; // 0=Mon
          for (let i = 0; i < firstWeekday; i++) {
            const empty = document.createElement("div");
            grid.appendChild(empty);
          }

          // Days
          for (let d = 1; d <= lastDay.getDate(); d++) {
            const dateObj = new Date(year, month, d);
            const iso = toISODate(dateObj);
            const cell = document.createElement("div");
            cell.className = "calendar-cell";

            const day = dateObj.getDay();
            const mapped = (day + 6) % 7;
            const isWeekend = !workingDays.includes(mapped);
            const isHoliday = holidaySet.has(iso);
            const inRange = dateObj >= startDate && dateObj <= endDate;

            if (isHoliday) {
              cell.classList.add("holiday");
            } else if (isWeekend) {
              cell.classList.add("weekend");
            } else {
              cell.classList.add("workday");
            }

            if (inRange) {
              cell.classList.add("range");
            }

            if (iso === todayIso) {
              cell.classList.add("today");
            }

            cell.textContent = d;
            grid.appendChild(cell);
          }

          container.appendChild(grid);
          calendarMonthsDiv.appendChild(container);
        });
      }

      // Main calculate handler
      const calculateBtn = document.getElementById("calculate-btn");
      const resultsSection = document.getElementById("results-section");
      const resultBusinessDays = document.getElementById(
        "result-business-days"
      );
      const resultCalendarDays = document.getElementById(
        "result-calendar-days"
      );
      const resultWeekends = document.getElementById("result-weekends");
      const resultHolidays = document.getElementById("result-holidays");
      const resultStart = document.getElementById("result-start");
      const resultEnd = document.getElementById("result-end");
      const resultSummary = document.getElementById("result-summary");

      calculateBtn.addEventListener("click", () => {
        const workingDays = getWorkingDaysConfig();
        const holidaySet = new Set(holidays.map((h) => h.date));

        const activeTab = !panelBetween.classList.contains("hidden")
          ? "between"
          : "add";

        if (activeTab === "between") {
          const startVal = document.getElementById("start-date").value;
          const endVal = document.getElementById("end-date").value;
          const includeStart = document.getElementById("include-start").checked;

          if (!startVal || !endVal) {
            alert("Please select both start and end dates.");
            return;
          }

          const startDate = new Date(startVal + "T00:00:00");
          const endDate = new Date(endVal + "T00:00:00");
          if (endDate < startDate) {
            alert("End date must be on or after the start date.");
            return;
          }

          const stats = countBusinessDays(
            startDate,
            endDate,
            includeStart,
            workingDays,
            holidaySet
          );

          resultBusinessDays.textContent = stats.business;
          resultCalendarDays.textContent = stats.calendar;
          resultWeekends.textContent = stats.weekends;
          resultHolidays.textContent = stats.holidays;
          resultStart.textContent = startVal;
          resultEnd.textContent = endVal;

          const incText = includeStart ? "including" : "excluding";
          resultSummary.textContent = `${stats.business} business day(s) between ${startVal} and ${endVal}, ${incText} the start date, with ${stats.weekends} weekend day(s) and ${stats.holidays} holiday(s) skipped.`;

          buildCalendar(startDate, endDate, workingDays, holidaySet);
          resultsSection.classList.remove("hidden");
          resultsSection.scrollIntoView({ behavior: "smooth", block: "start" });
        } else {
          const baseVal = document.getElementById("base-date").value;
          const offsetVal = parseInt(
            document.getElementById("offset-days").value,
            10
          );
          const direction = document.getElementById("offset-direction").value;
          const includeBase = document.getElementById("include-base").checked;

          if (!baseVal || isNaN(offsetVal) || offsetVal <= 0) {
            alert(
              "Please enter a valid start date and a positive number of business days."
            );
            return;
          }

          const baseDate = new Date(baseVal + "T00:00:00");
          const targetDate = addBusinessDays(
            baseDate,
            offsetVal,
            includeBase,
            workingDays,
            holidaySet,
            direction
          );

          // For stats, build a range between base and target
          const startDate = direction === "backward" ? targetDate : baseDate;
          const endDate = direction === "backward" ? baseDate : targetDate;
          const stats = countBusinessDays(
            startDate,
            endDate,
            includeBase && direction !== "backward",
            workingDays,
            holidaySet
          );

          resultBusinessDays.textContent = offsetVal;
          resultCalendarDays.textContent = stats.calendar;
          resultWeekends.textContent = stats.weekends;
          resultHolidays.textContent = stats.holidays;
          resultStart.textContent = baseVal;
          resultEnd.textContent = toISODate(targetDate);

          const dirText = direction === "forward" ? "after" : "before";
          resultSummary.textContent = `${offsetVal} business day(s) ${dirText} ${baseVal} (including start date: ${
            includeBase ? "yes" : "no"
          }) falls on ${toISODate(targetDate)}.`;

          buildCalendar(startDate, endDate, workingDays, holidaySet);
          resultsSection.classList.remove("hidden");
          resultsSection.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });

      // FAQ toggle (simple, in case global script_faq is not active)
      document
        .querySelectorAll("#faq-container .faq-question")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const answer = btn.parentElement.querySelector(".faq-answer");
            const symbol = btn.querySelector("span:last-child");
            const isHidden = answer.classList.contains("hidden");
            document
              .querySelectorAll("#faq-container .faq-answer")
              .forEach((a) => a.classList.add("hidden"));
            document
              .querySelectorAll("#faq-container .faq-question span:last-child")
              .forEach((s) => (s.textContent = "+"));
            if (isHidden) {
              answer.classList.remove("hidden");
              symbol.textContent = "−";
            } else {
              answer.classList.add("hidden");
              symbol.textContent = "+";
            }
          });
        });

      // Mobile menu script (in case mobile-menu.js not yet loaded)
      const mobileToggle = document.getElementById("mobile-menu-toggle");
      const mobileMenu = document.getElementById("mobile-menu");
      if (mobileToggle && mobileMenu) {
        mobileToggle.addEventListener("click", () => {
          const isHidden = mobileMenu.classList.contains("hidden");
          mobileMenu.classList.toggle("hidden", !isHidden);
          mobileToggle.setAttribute("aria-expanded", String(isHidden));
        });
      }

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
