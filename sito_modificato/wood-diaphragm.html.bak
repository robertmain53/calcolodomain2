<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/wood-diaphragm" />
    <title>Wood Diaphragm Calculator: [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Wood Diaphragm Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Wood Diaphragm Calculator: [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Wood Diaphragm Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/wood-diaphragm" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Wood Diaphragm Calculator: [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Wood Diaphragm Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Structural Engineering Calculators", "item": "https://calcdomain.com/subcategories/structural-engineering"}, {"@type": "ListItem", "position": 4, "name": "Wood Diaphragm Design Calculator (NDS / SDPWS)", "item": "https://calcdomain.com/wood-diaphragm"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/structural-engineering" class="text-blue-600 hover:underline">Structural Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Wood Diaphragm Design Calculator (NDS / SDPWS)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Wood Diaphragm Design Calculator (NDS / SDPWS)
              </h1>
              <p class="text-gray-700">
                Preliminary design tool for wood-sheathed diaphragms per
                NDS/SDPWS: unit shear demand, capacity, deflection,
                flexible/rigid classification, and chord forces.
              </p>
              <p class="mt-2 text-xs text-red-600 font-semibold">
                Engineering disclaimer: this tool is for education and
                preliminary sizing only. Final designs must be checked and
                sealed by a licensed structural engineer using current codes
                (NDS, SDPWS, IBC, local amendments).
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calc-section-title">
              <h2 id="calc-section-title" class="text-xl font-semibold mb-4">
                Wood Diaphragm Design
              </h2>

              <!-- Unit system toggle -->
              <div class="mb-4 flex items-center gap-3">
                <span class="text-sm font-medium text-gray-700">Units:</span>
                <button
                  id="units-us"
                  type="button"
                  class="px-3 py-1 rounded-full text-sm font-medium bg-blue-600 text-white"
                >
                  US (ft, kips)
                </button>
                <button
                  id="units-metric"
                  type="button"
                  class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700"
                >
                  Metric (m, kN)
                </button>
              </div>

              <form id="wood-diaphragm-form" class="space-y-6">
                <!-- Geometry & loading -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="length"
                      class="block text-sm font-medium text-gray-700"
                      >Diaphragm span (L)</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        step="0.01"
                        id="length"
                        class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                        value="40"
                      />
                      <span
                        id="length-unit"
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                        >ft</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Distance between lateral-force-resisting lines (span of
                      diaphragm).
                    </p>
                  </div>
                  <div>
                    <label
                      for="width"
                      class="block text-sm font-medium text-gray-700"
                      >Diaphragm width (W)</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        step="0.01"
                        id="width"
                        class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                        value="30"
                      />
                      <span
                        id="width-unit"
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                        >ft</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Plan dimension perpendicular to span.
                    </p>
                  </div>
                  <div>
                    <label
                      for="story-shear"
                      class="block text-sm font-medium text-gray-700"
                      >Story shear (V)</label
                    >
                    <div class="mt-1 flex">
                      <input
                        type="number"
                        step="0.01"
                        id="story-shear"
                        class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                        value="40"
                      />
                      <span
                        id="story-shear-unit"
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                        >kips</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Total design shear at this diaphragm level.
                    </p>
                  </div>
                  <div>
                    <label
                      for="span-condition"
                      class="block text-sm font-medium text-gray-700"
                      >Span condition</label
                    >
                    <select
                      id="span-condition"
                      class="mt-1 block w-full border rounded-md px-3 py-2 text-sm"
                    >
                      <option value="simple" selected>
                        Simple span (two lines of resistance)
                      </option>
                      <option value="cantilever">
                        Cantilever (one line of resistance)
                      </option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      Used for chord force estimation.
                    </p>
                  </div>
                </div>

                <!-- Sheathing & nailing -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Sheathing & Nailing (approximate library)
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="nailing"
                        class="block text-sm font-medium text-gray-700"
                        >Nailing schedule</label
                      >
                      <select
                        id="nailing"
                        class="mt-1 block w-full border rounded-md px-3 py-2 text-sm"
                      >
                        <option value="0">Custom / manual capacity</option>
                        <option value="350" selected>
                          7/16&quot; OSB, 6&quot; o.c. edges / 12&quot; field (≈
                          350 plf)
                        </option>
                        <option value="430">
                          15/32&quot; OSB, 4&quot; o.c. edges / 12&quot; field
                          (≈ 430 plf)
                        </option>
                        <option value="600">
                          15/32&quot; OSB, 2&quot; o.c. edges / 12&quot; field
                          (≈ 600 plf)
                        </option>
                      </select>
                      <p class="mt-1 text-xs text-gray-500">
                        Values are nominal; verify with current APA/SDPWS
                        tables.
                      </p>
                    </div>
                    <div>
                      <label
                        for="capacity"
                        class="block text-sm font-medium text-gray-700"
                        >Design unit shear capacity</label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="1"
                          id="capacity"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="350"
                        />
                        <span
                          id="capacity-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >plf</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Allowable or factored capacity, consistent with load
                        level.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Deflection parameters -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Deflection & Classification (flexible vs rigid)
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="g"
                        class="block text-sm font-medium text-gray-700"
                        >Panel shear modulus G</label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="10"
                          id="g"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="800000"
                        />
                        <span
                          id="g-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >psi</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Approximate in-plane shear modulus of sheathing (e.g.,
                        OSB/plywood).
                      </p>
                    </div>
                    <div>
                      <label
                        for="t"
                        class="block text-sm font-medium text-gray-700"
                        >Sheathing thickness t</label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="0.01"
                          id="t"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="0.4375"
                        />
                        <span
                          id="t-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >in</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Panel thickness; used in shear deflection term.
                      </p>
                    </div>
                    <div>
                      <label
                        for="nailslip"
                        class="block text-sm font-medium text-gray-700"
                        >Nail slip coefficient (C<sub>n</sub>)</label
                      >
                      <input
                        type="number"
                        step="0.0001"
                        id="nailslip"
                        class="mt-1 w-full border rounded-md px-3 py-2 text-sm"
                        value="0.0003"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Approximate slip per unit shear (in / plf). Used in
                        fastener slip term.
                      </p>
                    </div>
                    <div>
                      <label
                        for="story-drift"
                        class="block text-sm font-medium text-gray-700"
                        >Story drift (Δ<sub>story</sub>)</label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="0.01"
                          id="story-drift"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="0.8"
                        />
                        <span
                          id="story-drift-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >in</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Estimated lateral story drift at this level (for
                        classification only).
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Chord properties -->
                <div class="border-t pt-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Chord Properties (for chord force check)
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="chord-depth"
                        class="block text-sm font-medium text-gray-700"
                        >Chord section depth</label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="0.01"
                          id="chord-depth"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="11.25"
                        />
                        <span
                          id="chord-depth-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >in</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        E.g., 2x12 chord depth.
                      </p>
                    </div>
                    <div>
                      <label
                        for="chord-fb-allow"
                        class="block text-sm font-medium text-gray-700"
                        >Allowable bending stress F<sub>b,allow</sub></label
                      >
                      <div class="mt-1 flex">
                        <input
                          type="number"
                          step="10"
                          id="chord-fb-allow"
                          class="flex-1 border rounded-l-md px-3 py-2 text-sm"
                          value="1200"
                        />
                        <span
                          id="chord-fb-allow-unit"
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 bg-gray-50 text-sm text-gray-600"
                          >psi</span
                        >
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Adjusted allowable bending stress for chord member.
                      </p>
                    </div>
                  </div>
                </div>

                <div class="pt-2 flex flex-wrap gap-3">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700"
                  >
                    Calculate
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="px-4 py-2 bg-gray-100 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-200"
                  >
                    Reset
                  </button>
                </div>
              </form>
            </section>

            <!-- Results -->
            <section
              id="results-section"
              class="mt-8 hidden"
              aria-labelledby="results-title"
            >
              <h2 id="results-title" class="text-xl font-semibold mb-4">
                Results
              </h2>

              <div class="grid md:grid-cols-2 gap-4">
                <div class="p-4 rounded-lg bg-gray-50 border">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Shear Demand vs Capacity
                  </h3>
                  <p class="text-sm">
                    <span class="font-medium">Unit shear demand v:</span>
                    <span id="res-vdemand">-</span>
                  </p>
                  <p class="text-sm">
                    <span class="font-medium"
                      >Unit shear capacity v<sub>n</sub>:</span
                    >
                    <span id="res-vcap">-</span>
                  </p>
                  <p class="text-sm mt-1">
                    <span class="font-medium">Utilization ratio:</span>
                    <span id="res-vutil">-</span>
                  </p>
                  <p id="res-vstatus" class="mt-2 text-sm font-semibold"></p>
                </div>

                <div class="p-4 rounded-lg bg-gray-50 border">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Deflection & Classification
                  </h3>
                  <p class="text-sm">
                    <span class="font-medium"
                      >Estimated diaphragm deflection Δ<sub>dia</sub>:</span
                    >
                    <span id="res-defl">-</span>
                  </p>
                  <p class="text-sm">
                    <span class="font-medium"
                      >Story drift Δ<sub>story</sub>:</span
                    >
                    <span id="res-story-drift">-</span>
                  </p>
                  <p class="text-sm mt-1">
                    <span class="font-medium"
                      >Δ<sub>dia</sub> / Δ<sub>story</sub>:</span
                    >
                    <span id="res-defl-ratio">-</span>
                  </p>
                  <p class="mt-2 text-sm font-semibold">
                    Diaphragm classification:
                    <span
                      id="res-classification"
                      class="badge bg-gray-200 text-gray-800"
                      >-</span
                    >
                  </p>
                  <p class="mt-1 text-xs text-gray-500">
                    Flexible if Δ<sub>dia</sub> ≤ 0.5 Δ<sub>story</sub>
                    (screening check only).
                  </p>
                </div>

                <div class="p-4 rounded-lg bg-gray-50 border">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Chord Forces
                  </h3>
                  <p class="text-sm">
                    <span class="font-medium">Chord force T (per chord):</span>
                    <span id="res-chord-force">-</span>
                  </p>
                  <p class="text-sm">
                    <span class="font-medium"
                      >Chord bending stress f<sub>b</sub>:</span
                    >
                    <span id="res-chord-fb">-</span>
                  </p>
                  <p class="text-sm mt-1">
                    <span class="font-medium"
                      >f<sub>b</sub> / F<sub>b,allow</sub>:</span
                    >
                    <span id="res-chord-util">-</span>
                  </p>
                  <p
                    id="res-chord-status"
                    class="mt-2 text-sm font-semibold"
                  ></p>
                </div>

                <div class="p-4 rounded-lg bg-gray-50 border">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Key Assumptions
                  </h3>
                  <ul
                    class="list-disc list-inside text-xs text-gray-600 space-y-1"
                  >
                    <li>Uniform diaphragm shear distribution.</li>
                    <li>
                      Simple-span diaphragm unless cantilever is selected.
                    </li>
                    <li>
                      Approximate shear modulus and nail slip; user may
                      override.
                    </li>
                    <li>
                      Capacity values are nominal; verify with current APA/SDPWS
                      tables.
                    </li>
                  </ul>
                </div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-10">
              <h2>How the Wood Diaphragm Calculator Works</h2>
              <p>
                This tool is inspired by industry references from APA,
                WoodWorks, NEHRP and SDPWS provisions. It is meant to give a
                quick, transparent check of diaphragm unit shear, deflection and
                chord forces for wood-sheathed diaphragms in light-frame and
                engineered wood buildings.
              </p>

              <h3>1. Unit Shear Demand</h3>
              <p>
                For a diaphragm with story shear \(V\) and width \(W\), the
                average unit shear demand \(v\) is:
              </p>
              <div class="formula-box">
                <p>\[ v = \frac{V}{W} \]</p>
                <p class="text-sm text-gray-600">
                  where:<br />
                  \(V\) = story shear (kips or kN)<br />
                  \(W\) = diaphragm width (ft or m)<br />
                  \(v\) = unit shear (plf or kN/m)
                </p>
              </div>
              <p>
                The calculator converts units automatically. For US units, \(V\)
                is in kips and \(W\) in feet, giving \(v\) in kips/ft, which is
                then converted to plf.
              </p>

              <h3>2. Diaphragm Shear Capacity</h3>
              <p>
                The design unit shear capacity \(v_n\) is taken from a small
                library of common nailing schedules, or entered manually if you
                have values from APA or manufacturer tables. The utilization
                ratio is:
              </p>
              <div class="formula-box">
                <p>\[ \text{Utilization} = \frac{v}{v_n} \]</p>
              </div>
              <p>
                Values above 1.0 indicate that the selected nailing schedule is
                not adequate for the applied shear and a stronger diaphragm
                (thicker sheathing, closer nailing, blocking, etc.) is required.
              </p>

              <h3>
                3. Diaphragm Deflection and Flexible vs Rigid Classification
              </h3>
              <p>
                SDPWS provides a deflection equation for wood diaphragms that
                includes panel shear deformation and fastener slip. A simplified
                form is:
              </p>
              <div class="formula-box">
                <p>
                  \[ \Delta_{\text{dia}} \approx \frac{v L}{G t} + C_n \, v \, L
                  \]
                </p>
                <p class="text-sm text-gray-600">
                  where:<br />
                  \(\Delta_{\text{dia}}\) = diaphragm deflection at the chord
                  line<br />
                  \(v\) = unit shear (plf or kN/m)<br />
                  \(L\) = diaphragm span (ft or m)<br />
                  \(G\) = panel shear modulus (psi or MPa)<br />
                  \(t\) = panel thickness (in or mm)<br />
                  \(C_n\) = nail slip coefficient (in/plf or mm/(kN/m))
                </p>
              </div>
              <p>
                The calculator uses this expression with user-specified \(G\),
                \(t\) and \(C_n\). It then compares \(\Delta_{\text{dia}}\) to
                the story drift \(\Delta_{\text{story}}\) you provide.
              </p>
              <p>As a screening check, the diaphragm is flagged as:</p>
              <ul>
                <li>
                  <strong>Flexible</strong> if \(\Delta_{\text{dia}} \le 0.5 \,
                  \Delta_{\text{story}}\)
                </li>
                <li><strong>Rigid</strong> otherwise</li>
              </ul>
              <p>
                This is consistent with common interpretations used in practice
                but does not replace a full code-compliant analysis or the
                detailed guidance in SDPWS, IBC and WoodWorks/APA documents.
              </p>

              <h3>4. Chord Forces</h3>
              <p>
                For a simple-span diaphragm with span \(L\) and story shear
                \(V\), the maximum chord force \(T\) can be approximated as:
              </p>
              <div class="formula-box">
                <p>
                  \[ M_{\text{max}} \approx \frac{V L}{2} \quad\Rightarrow\quad
                  T \approx \frac{M_{\text{max}}}{L} = \frac{V}{2} \]
                </p>
              </div>
              <p>
                For a cantilever diaphragm, the chord force is conservatively
                taken as:
              </p>
              <div class="formula-box">
                <p>\[ T \approx V \]</p>
              </div>
              <p>
                The calculator then estimates the bending stress in the chord
                assuming a rectangular section of depth \(d\) and unit width:
              </p>
              <div class="formula-box">
                <p>\[ f_b \approx \frac{6 T}{d} \]</p>
              </div>
              <p>
                This is compared to the allowable bending stress
                \(F_{b,\text{allow}}\) you provide, giving a chord utilization
                ratio.
              </p>

              <h3>5. Typical Input Values</h3>
              <ul>
                <li>
                  <strong>G (panel shear modulus):</strong> 600,000–1,000,000
                  psi for common OSB/plywood panels.
                </li>
                <li>
                  <strong>t (thickness):</strong> 7/16&quot; (0.4375 in),
                  15/32&quot; (0.46875 in), 19/32&quot; (0.59375 in), etc.
                </li>
                <li>
                  <strong>Nail slip coefficient C<sub>n</sub>:</strong>
                  0.0002–0.0004 in/plf is typical for many systems.
                </li>
                <li>
                  <strong>Chord F<sub>b,allow</sub>:</strong> 1,000–1,600 psi
                  for many dimension lumber grades (after NDS adjustments).
                </li>
              </ul>

              <h3>Limitations and Good Practice</h3>
              <ul>
                <li>
                  This tool assumes a single-span diaphragm with uniform shear;
                  multi-span and irregular layouts require more advanced
                  analysis.
                </li>
                <li>
                  Collectors, drag struts, openings and re-entrant corners are
                  not explicitly modeled.
                </li>
                <li>
                  Overstrength, seismic load combinations and load duration
                  factors must be handled per code.
                </li>
                <li>
                  Always cross-check capacities with the latest APA and SDPWS
                  tables and consider boundary nailing, blocking and chord
                  detailing.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-10" id="faq">
              <h2 class="text-xl font-semibold mb-4">
                Wood Diaphragm Calculator FAQ
              </h2>
              <div class="space-y-3">
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can I use this for seismic diaphragm design?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    You can use the calculator to get a quick feel for diaphragm
                    unit shear, deflection and chord forces under seismic design
                    shears. However, seismic design requires additional checks
                    (overstrength, collector design, chord splices, detailing)
                    that are not fully captured here. Use this as a starting
                    point and complete the design per SDPWS, ASCE 7 and local
                    amendments.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Where do the nailing schedule capacities come from?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    The capacities in the dropdown are representative values
                    based on common APA wood structural panel diaphragm tables.
                    They are intentionally rounded and conservative. For final
                    design, always pull exact values from the current APA or
                    SDPWS tables for your specific panel grade, thickness,
                    nailing pattern, and framing conditions.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How should I choose G and the nail slip coefficient?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Panel shear modulus G and nail slip coefficients depend on
                    panel grade, thickness, fastener type and spacing. If you do
                    not have test data, you can use typical values from APA or
                    SDPWS commentary as a starting point and then perform
                    sensitivity checks. For critical projects, rely on
                    manufacturer data or project-specific testing where
                    available.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Does the calculator consider blocked vs unblocked
                    diaphragms?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Not explicitly. Blocked vs unblocked construction is
                    implicitly reflected in the unit shear capacity you select
                    or enter. If you are designing a blocked diaphragm, choose a
                    capacity corresponding to a blocked system from APA/SDPWS
                    tables. The deflection model is generic and does not
                    distinguish between blocked and unblocked beyond the effect
                    embedded in G and C<sub>n</sub>.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Wood, Diaphragm.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Structural Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/aisc-steel-beam-design"
                  class="text-blue-600 hover:underline"
                  >Steel Beam Design (AISC)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/concrete-beam-design"
                  class="text-blue-600 hover:underline"
                  >ACI 318 Concrete Beam Flexural Strength</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/wood-beam-design"
                  class="text-blue-600 hover:underline"
                  >AWC NDS Wood Beam Design</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/masonry-wall-design"
                  class="text-blue-600 hover:underline"
                  >Masonry Wall Design (ASD)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retaining-wall-stability"
                  class="text-blue-600 hover:underline"
                  >Retaining Wall Stability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/asce-7-load-combinations"
                  class="text-blue-600 hover:underline"
                  >ASCE 7-16/22 Load Combinations</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/moment-of-inertia"
                  class="text-blue-600 hover:underline"
                  >Section Moment of Inertia</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stress-and-strain"
                  class="text-blue-600 hover:underline"
                  >Stress and Strain</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bearing-capacity"
                  class="text-blue-600 hover:underline"
                  >Soil Bearing Capacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/slope-stability"
                  class="text-blue-600 hover:underline"
                  >Slope Stability (Method of Slices)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/plate-bending"
                  class="text-blue-600 hover:underline"
                  >Plate Bending (FEA)</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Unit handling
      let currentUnits = "us"; // 'us' or 'metric'

      const unitLabels = {
        us: {
          length: "ft",
          width: "ft",
          storyShear: "kips",
          capacity: "plf",
          g: "psi",
          t: "in",
          storyDrift: "in",
          chordDepth: "in",
          chordFb: "psi",
          chordForce: "kips",
          vUnit: "plf",
          defl: "in",
        },
        metric: {
          length: "m",
          width: "m",
          storyShear: "kN",
          capacity: "kN/m",
          g: "MPa",
          t: "mm",
          storyDrift: "mm",
          chordDepth: "mm",
          chordFb: "MPa",
          chordForce: "kN",
          vUnit: "kN/m",
          defl: "mm",
        },
      };

      function updateUnitLabels() {
        const labels = unitLabels[currentUnits];
        document.getElementById("length-unit").textContent = labels.length;
        document.getElementById("width-unit").textContent = labels.width;
        document.getElementById("story-shear-unit").textContent =
          labels.storyShear;
        document.getElementById("capacity-unit").textContent = labels.capacity;
        document.getElementById("g-unit").textContent = labels.g;
        document.getElementById("t-unit").textContent = labels.t;
        document.getElementById("story-drift-unit").textContent =
          labels.storyDrift;
        document.getElementById("chord-depth-unit").textContent =
          labels.chordDepth;
        document.getElementById("chord-fb-allow-unit").textContent =
          labels.chordFb;
      }

      document.getElementById("units-us").addEventListener("click", () => {
        currentUnits = "us";
        document
          .getElementById("units-us")
          .classList.add("bg-blue-600", "text-white");
        document
          .getElementById("units-us")
          .classList.remove("bg-gray-100", "text-gray-700");
        document
          .getElementById("units-metric")
          .classList.remove("bg-blue-600", "text-white");
        document
          .getElementById("units-metric")
          .classList.add("bg-gray-100", "text-gray-700");
        updateUnitLabels();
      });

      document.getElementById("units-metric").addEventListener("click", () => {
        currentUnits = "metric";
        document
          .getElementById("units-metric")
          .classList.add("bg-blue-600", "text-white");
        document
          .getElementById("units-metric")
          .classList.remove("bg-gray-100", "text-gray-700");
        document
          .getElementById("units-us")
          .classList.remove("bg-blue-600", "text-white");
        document
          .getElementById("units-us")
          .classList.add("bg-gray-100", "text-gray-700");
        updateUnitLabels();
      });

      // Sync capacity with nailing selection
      document.getElementById("nailing").addEventListener("change", (e) => {
        const val = parseFloat(e.target.value || "0");
        if (val > 0 && currentUnits === "us") {
          document.getElementById("capacity").value = val.toFixed(0);
        } else if (val > 0 && currentUnits === "metric") {
          // Rough conversion: 1 plf ≈ 0.0146 kN/m
          const kNm = val * 0.0145939;
          document.getElementById("capacity").value = kNm.toFixed(2);
        }
      });

      function parseInput(id) {
        const v = parseFloat(document.getElementById(id).value);
        return isNaN(v) ? 0 : v;
      }

      function formatNumber(val, decimals) {
        if (!isFinite(val)) return "-";
        return val.toFixed(decimals);
      }

      document.getElementById("calculate-btn").addEventListener("click", () => {
        const L = parseInput("length"); // span
        const W = parseInput("width"); // width
        const V = parseInput("story-shear"); // story shear
        const vCap = parseInput("capacity"); // capacity
        const G = parseInput("g");
        const t = parseInput("t");
        const Cn = parseInput("nailslip");
        const dStory = parseInput("story-drift");
        const spanCondition = document.getElementById("span-condition").value;
        const chordDepth = parseInput("chord-depth");
        const FbAllow = parseInput("chord-fb-allow");

        if (L <= 0 || W <= 0 || V <= 0) {
          alert(
            "Please enter positive values for span, width and story shear."
          );
          return;
        }

        // Convert everything to a consistent internal system (US base: ft, kips, plf, in, psi)
        let L_ft,
          W_ft,
          V_kip,
          vCap_plf,
          G_psi,
          t_in,
          dStory_in,
          chordDepth_in,
          FbAllow_psi;

        if (currentUnits === "us") {
          L_ft = L;
          W_ft = W;
          V_kip = V;
          vCap_plf = vCap;
          G_psi = G;
          t_in = t;
          dStory_in = dStory;
          chordDepth_in = chordDepth;
          FbAllow_psi = FbAllow;
        } else {
          // metric inputs: m, kN, kN/m, MPa, mm, mm, mm, MPa
          L_ft = L * 3.28084;
          W_ft = W * 3.28084;
          V_kip = V * 0.224809; // 1 kN ≈ 0.2248 kips
          vCap_plf = vCap / 0.0145939; // kN/m to plf
          G_psi = G * 145.038; // MPa to psi
          t_in = t * 0.0393701; // mm to in
          dStory_in = dStory * 0.0393701;
          chordDepth_in = chordDepth * 0.0393701;
          FbAllow_psi = FbAllow * 145.038;
        }

        // 1) Unit shear demand
        const v_kipPerFt = V_kip / W_ft;
        const v_plf = v_kipPerFt * 1000.0;

        // 2) Shear utilization
        const vUtil = vCap_plf > 0 ? v_plf / vCap_plf : NaN;

        // 3) Deflection (simplified)
        // Δ = v*L/(G*t) + Cn * v * L
        // v in plf, L in ft, G in psi, t in in, Cn in in/plf
        const shearDefl_in = (v_plf * L_ft) / (G_psi * t_in);
        const slipDefl_in = Cn * v_plf * L_ft;
        const deltaDia_in = shearDefl_in + slipDefl_in;
        const deflRatio = dStory_in > 0 ? deltaDia_in / dStory_in : NaN;
        const isFlexible = dStory_in > 0 && deltaDia_in <= 0.5 * dStory_in;

        // 4) Chord forces
        let T_kip;
        if (spanCondition === "simple") {
          T_kip = V_kip / 2.0;
        } else {
          T_kip = V_kip; // cantilever conservative
        }

        // Approximate bending stress in chord: fb ≈ 6T/d (assuming unit width)
        const fb_psi =
          chordDepth_in > 0 ? (6.0 * T_kip * 1000.0) / chordDepth_in : NaN;
        const chordUtil = FbAllow_psi > 0 ? fb_psi / FbAllow_psi : NaN;

        // Convert results back to display units
        const labels = unitLabels[currentUnits];
        let vDisplay,
          vCapDisplay,
          deltaDiaDisplay,
          dStoryDisplay,
          TDisplay,
          fbDisplay;

        if (currentUnits === "us") {
          vDisplay = v_plf;
          vCapDisplay = vCap_plf;
          deltaDiaDisplay = deltaDia_in;
          dStoryDisplay = dStory_in;
          TDisplay = T_kip;
          fbDisplay = fb_psi;
        } else {
          // convert to kN/m, mm, kN, MPa
          vDisplay = v_plf * 0.0145939;
          vCapDisplay = vCap_plf * 0.0145939;
          deltaDiaDisplay = deltaDia_in / 0.0393701;
          dStoryDisplay = dStory_in / 0.0393701;
          TDisplay = T_kip / 0.224809;
          fbDisplay = fb_psi / 145.038;
        }

        // Populate results
        document.getElementById("res-vdemand").textContent =
          formatNumber(vDisplay, 1) + " " + labels.vUnit;
        document.getElementById("res-vcap").textContent =
          (vCapDisplay > 0 ? formatNumber(vCapDisplay, 1) : "-") +
          " " +
          labels.vUnit;
        document.getElementById("res-vutil").textContent =
          (isFinite(vUtil) ? formatNumber(vUtil, 2) : "-") + " (v / v\u2099)";

        const vStatusEl = document.getElementById("res-vstatus");
        if (isFinite(vUtil)) {
          if (vUtil <= 1.0) {
            vStatusEl.textContent =
              "OK: diaphragm shear capacity is adequate for the applied shear.";
            vStatusEl.className = "mt-2 text-sm font-semibold text-green-700";
          } else {
            vStatusEl.textContent =
              "NG: diaphragm shear capacity is NOT adequate. Increase panel thickness, use closer nailing, blocking, or a stronger system.";
            vStatusEl.className = "mt-2 text-sm font-semibold text-red-700";
          }
        } else {
          vStatusEl.textContent =
            "Enter a valid diaphragm capacity to evaluate shear adequacy.";
          vStatusEl.className = "mt-2 text-sm font-semibold text-gray-600";
        }

        document.getElementById("res-defl").textContent =
          formatNumber(deltaDiaDisplay, 3) + " " + labels.defl;
        document.getElementById("res-story-drift").textContent =
          formatNumber(dStoryDisplay, 3) + " " + labels.defl;
        document.getElementById("res-defl-ratio").textContent =
          (isFinite(deflRatio) ? formatNumber(deflRatio, 2) : "-") +
          " (Δ_dia / Δ_story)";

        const classEl = document.getElementById("res-classification");
        if (isFinite(deflRatio)) {
          if (isFlexible) {
            classEl.textContent = "Flexible (screening)";
            classEl.className = "badge bg-green-100 text-green-800";
          } else {
            classEl.textContent = "Rigid (screening)";
            classEl.className = "badge bg-yellow-100 text-yellow-800";
          }
        } else {
          classEl.textContent = "N/A";
          classEl.className = "badge bg-gray-200 text-gray-800";
        }

        document.getElementById("res-chord-force").textContent =
          formatNumber(TDisplay, 2) + " " + labels.chordForce;
        document.getElementById("res-chord-fb").textContent =
          (isFinite(fbDisplay) ? formatNumber(fbDisplay, 1) : "-") +
          " " +
          labels.chordFb;
        document.getElementById("res-chord-util").textContent =
          (isFinite(chordUtil) ? formatNumber(chordUtil, 2) : "-") +
          " (f_b / F_b,allow)";

        const chordStatusEl = document.getElementById("res-chord-status");
        if (isFinite(chordUtil)) {
          if (chordUtil <= 1.0) {
            chordStatusEl.textContent =
              "OK: chord bending stress is within allowable limits.";
            chordStatusEl.className =
              "mt-2 text-sm font-semibold text-green-700";
          } else {
            chordStatusEl.textContent =
              "NG: chord bending stress exceeds allowable. Increase chord size, grade, or provide additional chords.";
            chordStatusEl.className = "mt-2 text-sm font-semibold text-red-700";
          }
        } else {
          chordStatusEl.textContent =
            "Enter chord depth and allowable bending stress to evaluate chord adequacy.";
          chordStatusEl.className = "mt-2 text-sm font-semibold text-gray-600";
        }

        document.getElementById("results-section").classList.remove("hidden");
      });

      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("wood-diaphragm-form").reset();
        document.getElementById("length").value = 40;
        document.getElementById("width").value = 30;
        document.getElementById("story-shear").value = 40;
        document.getElementById("nailing").value = "350";
        document.getElementById("capacity").value = 350;
        document.getElementById("g").value = 800000;
        document.getElementById("t").value = 0.4375;
        document.getElementById("nailslip").value = 0.0003;
        document.getElementById("story-drift").value = 0.8;
        document.getElementById("chord-depth").value = 11.25;
        document.getElementById("chord-fb-allow").value = 1200;
        document.getElementById("span-condition").value = "simple";
        document.getElementById("results-section").classList.add("hidden");
      });

      // Initialize labels
      updateUnitLabels();

      // Mobile menu script (simple)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          menu.classList.toggle("hidden");
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
