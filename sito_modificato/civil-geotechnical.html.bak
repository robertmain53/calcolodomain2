<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/civil-geotechnical" />
    <title>Civil Geotechnical Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Civil Geotechnical Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Civil Geotechnical Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Civil Geotechnical Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/civil-geotechnical" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Civil Geotechnical Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Civil Geotechnical Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Civil Geotechnical Design Tools & Calculators (Soil, Foundations, Slopes)",
        "description": "Civil geotechnical toolbox for practicing engineers: quick calculators for soil bearing capacity, settlement checks, earth pressure, factor of safety, and drainage, plus concise design guides and FAQs.",
        "url": "https://calcdomain.com/civil-geotechnical",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Engineering",
              "item": "https://calcdomain.com/categories/engineering"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Civil Geotechnical",
              "item": "https://calcdomain.com/civil-geotechnical"
            }
          ]
        },
        "mainEntity": {
          "@type": "FAQPage",
          "name": "Civil Geotechnical FAQ",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is geotechnical engineering in civil engineering?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Geotechnical engineering is the branch of civil engineering that deals with the behavior of soil and rock and their interaction with structures such as foundations, retaining walls, slopes, embankments, tunnels, and earth dams. It includes site investigation, laboratory testing, analysis, and design to ensure stability and serviceability."
              }
            },
            {
              "@type": "Question",
              "name": "What inputs do I need for basic geotechnical design checks?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For quick preliminary checks you typically need: unit weight of soil, cohesion and friction angle (or SPT/CPT correlations), groundwater level, footing or wall dimensions and depth, applied loads, and slope geometry. For detailed design you should always rely on a proper geotechnical investigation and the governing design code."
              }
            },
            {
              "@type": "Question",
              "name": "Are these geotechnical calculators code-compliant?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The calculators implement standard textbook equations such as Terzaghi bearing capacity, Rankine earth pressure, and 1D consolidation settlement. They are intended for preliminary sizi Eurocode 7, AASHTO, local standards) and be reviewed by a qualified geotechnical engineer."
              }
            },
            {
              "@type": "Question",
              "name": "How should I interpret the factor of safety results?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The factor of safety (FS) is the ratio of available resistance to applied load or driving force. For ultimate limit states, typical target FS values are around 2.5–3.0 for bearing capacity and 1.3–1.5 for slopes in many traditional approaches, but modern codes often use partial factors instead. Always check your local code for required safety levels."
              }
            }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Structural Engineering Calculators", "item": "https://calcdomain.com/subcategories/structural-engineering"}, {"@type": "ListItem", "position": 4, "name": "Civil Geotechnical Design Toolbox", "item": "https://calcdomain.com/civil-geotechnical"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/structural-engineering" class="text-blue-600 hover:underline">Structural Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Civil Geotechnical Design Toolbox</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold text-gray-900 mb-2">
                Civil Geotechnical Design Toolbox
              </h1>
              <p class="text-gray-700 text-sm">
                Quick, practical geotechnical calculators for civil engineers:
                bearing capacity, settlement, earth pressure, and slope
                stability checks in one place.
              </p>
            </header>

            <!-- Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex flex-wrap gap-2" aria-label="Geotechnical tools">
                <button
                  type="button"
                  data-tab="tab-bearing"
                  class="geo-tab px-3 py-2 text-xs font-medium rounded-t border border-b-0 border-gray-200 bg-white text-blue-600"
                >
                  Bearing Capacity
                </button>
                <button
                  type="button"
                  data-tab="tab-settlement"
                  class="geo-tab px-3 py-2 text-xs font-medium rounded-t border border-b-0 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Settlement
                </button>
                <button
                  type="button"
                  data-tab="tab-earthpressure"
                  class="geo-tab px-3 py-2 text-xs font-medium rounded-t border border-b-0 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Earth Pressure
                </button>
                <button
                  type="button"
                  data-tab="tab-slope"
                  class="geo-tab px-3 py-2 text-xs font-medium rounded-t border border-b-0 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Slope FS
                </button>
                <button
                  type="button"
                  data-tab="tab-drainage"
                  class="geo-tab px-3 py-2 text-xs font-medium rounded-t border border-b-0 border-transparent text-gray-600 hover:text-blue-600"
                >
                  Drainage
                </button>
              </nav>
            </div>

            <!-- Tab: Bearing Capacity -->
            <section id="tab-bearing" class="geo-tab-panel">
              <h2 class="section-title">
                Shallow Foundation Bearing Capacity (Terzaghi)
              </h2>
              <p class="text-xs text-gray-600 mb-3">
                Strip footing at depth
                <span class="font-mono">D<sub>f</sub></span> in homogeneous
                soil. Uses classic Terzaghi bearing capacity equation with
                simple shape factors.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="input-label" for="bc-footing-width"
                    >Footing width B <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="bc-footing-width"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="2"
                  />

                  <label class="input-label mt-3" for="bc-footing-depth"
                    >Embedment depth D<sub>f</sub>
                    <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="bc-footing-depth"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="1.0"
                  />

                  <label class="input-label mt-3" for="bc-unit-weight"
                    >Soil unit weight γ
                    <span class="input-unit">(kN/m³)</span></label
                  >
                  <input
                    id="bc-unit-weight"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="18"
                  />

                  <label class="input-label mt-3" for="bc-cohesion"
                    >Cohesion c' <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="bc-cohesion"
                    type="number"
                    step="1"
                    class="input-field"
                    value="20"
                  />

                  <label class="input-label mt-3" for="bc-phi"
                    >Friction angle φ'
                    <span class="input-unit">(deg)</span></label
                  >
                  <input
                    id="bc-phi"
                    type="number"
                    step="0.5"
                    class="input-field"
                    value="30"
                  />

                  <label class="input-label mt-3" for="bc-load"
                    >Applied service pressure q<sub>serv</sub>
                    <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="bc-load"
                    type="number"
                    step="1"
                    class="input-field"
                    value="150"
                  />
                </div>

                <div>
                  <label class="input-label" for="bc-gammaw"
                    >Unit weight of water γ<sub>w</sub>
                    <span class="input-unit">(kN/m³)</span></label
                  >
                  <input
                    id="bc-gammaw"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="9.81"
                  />

                  <label class="input-label mt-3" for="bc-gw-depth"
                    >Groundwater depth below footing base
                    <span class="input-unit">(m, 0 = at base)</span></label
                  >
                  <input
                    id="bc-gw-depth"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="999"
                  />

                  <label class="input-label mt-3" for="bc-sf"
                    >Target FS on bearing capacity</label
                  >
                  <input
                    id="bc-sf"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="3.0"
                  />

                  <button
                    id="bc-calc"
                    type="button"
                    class="mt-4 w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700"
                  >
                    Compute Bearing Capacity
                  </button>

                  <div
                    id="bc-result"
                    class="result-box mt-4 text-xs space-y-1"
                  ></div>
                </div>
              </div>

              <div class="formula-box text-xs">
                <p class="font-semibold mb-1">
                  Terzaghi bearing capacity (strip footing)
                </p>
                <p>
                  \( q_{ult} = c'N_c + \gamma D_f N_q + 0.5 \gamma B N_\gamma \)
                </p>
                <p class="mt-1">
                  Factors (approx.):<br />
                  \( N_q = \dfrac{e^{\pi \tan\varphi} \tan^2\left(45^\circ +
                  \dfrac{\varphi}{2}\right)}{ } \),<br />
                  \( N_c = (N_q - 1)\cot\varphi \),<br />
                  \( N_\gamma = 2 (N_q + 1) \tan\varphi \).
                </p>
                <p class="mt-1">
                  Net allowable: \( q_{allow} = \dfrac{q_{ult} - \gamma D_f}{FS}
                  \)
                </p>
              </div>
            </section>

            <!-- Tab: Settlement -->
            <section id="tab-settlement" class="geo-tab-panel hidden">
              <h2 class="section-title">
                1D Consolidation Settlement (Terzaghi)
              </h2>
              <p class="text-xs text-gray-600 mb-3">
                Primary consolidation settlement of a normally consolidated clay
                layer under vertical stress increase.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="input-label" for="st-layer-thickness"
                    >Drainage path H<sub>dr</sub>
                    <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="st-layer-thickness"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="5"
                  />

                  <label class="input-label mt-3" for="st-e0"
                    >Initial void ratio e<sub>0</sub></label
                  >
                  <input
                    id="st-e0"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="0.9"
                  />

                  <label class="input-label mt-3" for="st-cc"
                    >Compression index C<sub>c</sub></label
                  >
                  <input
                    id="st-cc"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="0.25"
                  />

                  <label class="input-label mt-3" for="st-sigma0"
                    >Initial effective vertical stress σ'<sub>0</sub>
                    <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="st-sigma0"
                    type="number"
                    step="1"
                    class="input-field"
                    value="100"
                  />

                  <label class="input-label mt-3" for="st-dsigma"
                    >Stress increase Δσ'
                    <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="st-dsigma"
                    type="number"
                    step="1"
                    class="input-field"
                    value="50"
                  />
                </div>

                <div>
                  <label class="input-label" for="st-cv"
                    >Coefficient of consolidation c<sub>v</sub>
                    <span class="input-unit">(m²/yr)</span></label
                  >
                  <input
                    id="st-cv"
                    type="number"
                    step="0.001"
                    class="input-field"
                    value="0.5"
                  />

                  <label class="input-label mt-3" for="st-time"
                    >Time t <span class="input-unit">(years)</span></label
                  >
                  <input
                    id="st-time"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="1"
                  />

                  <button
                    id="st-calc"
                    type="button"
                    class="mt-4 w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700"
                  >
                    Compute Settlement & Degree of Consolidation
                  </button>

                  <div
                    id="st-result"
                    class="result-box mt-4 text-xs space-y-1"
                  ></div>
                </div>
              </div>

              <div class="formula-box text-xs">
                <p class="font-semibold mb-1">
                  Primary consolidation settlement
                </p>
                <p>
                  \( S_c = \dfrac{C_c H}{1 + e_0}
                  \log_{10}\left(\dfrac{\sigma'_0 +
                  \Delta\sigma'}{\sigma'_0}\right) \)
                </p>
                <p class="mt-1 font-semibold">
                  Time rate of consolidation (approx. for double drainage)
                </p>
                <p>
                  \( T_v = \dfrac{c_v t}{H_{dr}^2} \), &nbsp; \( U \approx
                  \dfrac{4}{\pi} \sqrt{T_v} \) for \( U \lesssim 0.6 \)
                </p>
              </div>
            </section>

            <!-- Tab: Earth Pressure -->
            <section id="tab-earthpressure" class="geo-tab-panel hidden">
              <h2 class="section-title">Active Earth Pressure (Rankine)</h2>
              <p class="text-xs text-gray-600 mb-3">
                Vertical retaining wall with horizontal backfill and no wall
                friction. Computes active pressure coefficient, resultant force,
                and overturning moment.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="input-label" for="ep-height"
                    >Wall height H <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="ep-height"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="4"
                  />

                  <label class="input-label mt-3" for="ep-gamma"
                    >Backfill unit weight γ
                    <span class="input-unit">(kN/m³)</span></label
                  >
                  <input
                    id="ep-gamma"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="18"
                  />

                  <label class="input-label mt-3" for="ep-phi"
                    >Friction angle φ'
                    <span class="input-unit">(deg)</span></label
                  >
                  <input
                    id="ep-phi"
                    type="number"
                    step="0.5"
                    class="input-field"
                    value="30"
                  />

                  <label class="input-label mt-3" for="ep-surcharge"
                    >Uniform surcharge q
                    <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="ep-surcharge"
                    type="number"
                    step="1"
                    class="input-field"
                    value="10"
                  />
                </div>

                <div>
                  <button
                    id="ep-calc"
                    type="button"
                    class="mt-7 w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700"
                  >
                    Compute Active Earth Pressure
                  </button>

                  <div
                    id="ep-result"
                    class="result-box mt-4 text-xs space-y-1"
                  ></div>
                </div>
              </div>

              <div class="formula-box text-xs">
                <p class="font-semibold mb-1">Rankine active earth pressure</p>
                <p>
                  \( K_a = \tan^2\left(45^\circ - \dfrac{\varphi}{2}\right) \)
                </p>
                <p class="mt-1">
                  Resultant from soil weight:<br />
                  \( P_{a,\gamma} = \dfrac{1}{2} K_a \gamma H^2 \) acting at H/3
                  above base.
                </p>
                <p class="mt-1">
                  Resultant from surcharge:<br />
                  \( P_{a,q} = K_a q H \) acting at H/2 above base.
                </p>
              </div>
            </section>

            <!-- Tab: Slope Stability -->
            <section id="tab-slope" class="geo-tab-panel hidden">
              <h2 class="section-title">Infinite Slope Factor of Safety</h2>
              <p class="text-xs text-gray-600 mb-3">
                Infinite slope in soil with depth z to potential failure plane,
                using total or effective stress parameters.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="input-label" for="sl-slope-angle"
                    >Slope angle β <span class="input-unit">(deg)</span></label
                  >
                  <input
                    id="sl-slope-angle"
                    type="number"
                    step="0.5"
                    class="input-field"
                    value="30"
                  />

                  <label class="input-label mt-3" for="sl-depth"
                    >Depth to failure plane z
                    <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="sl-depth"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="3"
                  />

                  <label class="input-label mt-3" for="sl-gamma"
                    >Soil unit weight γ
                    <span class="input-unit">(kN/m³)</span></label
                  >
                  <input
                    id="sl-gamma"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="18"
                  />

                  <label class="input-label mt-3" for="sl-gammaw"
                    >Unit weight of water γ<sub>w</sub>
                    <span class="input-unit">(kN/m³)</span></label
                  >
                  <input
                    id="sl-gammaw"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="9.81"
                  />

                  <label class="input-label mt-3" for="sl-gw-depth"
                    >Groundwater depth from surface
                    <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="sl-gw-depth"
                    type="number"
                    step="0.1"
                    class="input-field"
                    value="999"
                  />
                </div>

                <div>
                  <label class="input-label" for="sl-cohesion"
                    >Cohesion c' <span class="input-unit">(kPa)</span></label
                  >
                  <input
                    id="sl-cohesion"
                    type="number"
                    step="1"
                    class="input-field"
                    value="5"
                  />

                  <label class="input-label mt-3" for="sl-phi"
                    >Friction angle φ'
                    <span class="input-unit">(deg)</span></label
                  >
                  <input
                    id="sl-phi"
                    type="number"
                    step="0.5"
                    class="input-field"
                    value="30"
                  />

                  <button
                    id="sl-calc"
                    type="button"
                    class="mt-7 w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700"
                  >
                    Compute Slope Factor of Safety
                  </button>

                  <div
                    id="sl-result"
                    class="result-box mt-4 text-xs space-y-1"
                  ></div>
                </div>
              </div>

              <div class="formula-box text-xs">
                <p class="font-semibold mb-1">
                  Infinite slope FS (effective stress)
                </p>
                <p>
                  \( FS = \dfrac{c' + (\gamma' z
                  \cos^2\beta)\tan\varphi'}{\gamma z \sin\beta \cos\beta} \)
                </p>
                <p class="mt-1">
                  where γ' is the submerged unit weight below the water table.
                </p>
              </div>
            </section>

            <!-- Tab: Drainage -->
            <section id="tab-drainage" class="geo-tab-panel hidden">
              <h2 class="section-title">
                Seepage / Drainage (Darcy Flow in Layer)
              </h2>
              <p class="text-xs text-gray-600 mb-3">
                One-dimensional steady flow through a soil layer using Darcy’s
                law. Useful for quick checks of seepage velocity and discharge.
              </p>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="input-label" for="dr-k"
                    >Hydraulic conductivity k
                    <span class="input-unit">(m/s)</span></label
                  >
                  <input
                    id="dr-k"
                    type="number"
                    step="0.000001"
                    class="input-field"
                    value="1e-5"
                  />

                  <label class="input-label mt-3" for="dr-head-loss"
                    >Head loss Δh <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="dr-head-loss"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="1.0"
                  />

                  <label class="input-label mt-3" for="dr-length"
                    >Flow length L <span class="input-unit">(m)</span></label
                  >
                  <input
                    id="dr-length"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="10"
                  />
                </div>

                <div>
                  <label class="input-label" for="dr-area"
                    >Cross-sectional area A
                    <span class="input-unit">(m²)</span></label
                  >
                  <input
                    id="dr-area"
                    type="number"
                    step="0.01"
                    class="input-field"
                    value="1.0"
                  />

                  <button
                    id="dr-calc"
                    type="button"
                    class="mt-7 w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700"
                  >
                    Compute Seepage Velocity & Discharge
                  </button>

                  <div
                    id="dr-result"
                    class="result-box mt-4 text-xs space-y-1"
                  ></div>
                </div>
              </div>

              <div class="formula-box text-xs">
                <p class="font-semibold mb-1">Darcy’s law</p>
                <p>
                  Hydraulic gradient: \( i = \dfrac{\Delta h}{L} \)<br />
                  Discharge velocity: \( v = k i \)<br />
                  Discharge: \( Q = v A \)
                </p>
              </div>
            </section>

            <!-- Explanatory content -->
            <article class="prose mt-8 text-sm">
              <h2>How to use this civil geotechnical toolbox</h2>
              <p>
                This page groups together the most common day‑to‑day checks a
                civil geotechnical engineer performs: shallow foundation bearing
                capacity, settlement, earth pressure on retaining walls,
                infinite slope stability, and seepage through soil. The
                calculators are intentionally simple and transparent so you can
                see the governing parameters and quickly test “what‑if”
                scenarios.
              </p>
              <p>
                These tools are ideal for preliminary design, sanity checks on
                software output, teaching, and exam preparation (e.g., FE/PE or
                other professional certifications). For final design, always
                follow your governing code (Eurocode 7, AASHTO, local standards)
                and a full geotechnical investigation.
              </p>

              <h3>Bearing capacity design workflow</h3>
              <ol>
                <li>
                  Estimate soil parameters from lab tests or correlations (c′,
                  φ′, γ).
                </li>
                <li>
                  Enter footing width and depth, including groundwater position.
                </li>
                <li>
                  Check the computed allowable bearing pressure against your
                  applied service pressure.
                </li>
                <li>
                  If the factor of safety is too low, increase footing size,
                  reduce load, or improve ground (e.g., compaction, replacement,
                  deep foundations).
                </li>
              </ol>

              <h3>Settlement vs. bearing capacity</h3>
              <p>
                A footing can be safe in terms of ultimate bearing capacity but
                still experience excessive settlement. Use the settlement tab to
                estimate primary consolidation in soft clays. For sands, elastic
                or empirical methods are more appropriate and are not covered in
                this simple 1D consolidation model.
              </p>

              <h3>Earth pressure and wall design</h3>
              <p>
                The Rankine active earth pressure model assumes a vertical wall,
                horizontal backfill, and no wall friction. It is conservative
                for many practical retaining walls. For more complex geometries,
                surcharges, or wall–soil interaction, Coulomb or numerical
                methods are recommended.
              </p>

              <h3>Slope stability quick check</h3>
              <p>
                The infinite slope model is a first‑order approximation for
                long, uniform slopes. It is useful to understand how
                groundwater, slope angle, and soil strength affect the factor of
                safety. For real projects, circular or non‑circular slip surface
                analyses (e.g., Bishop, Janbu, limit equilibrium or FEM) are
                standard.
              </p>

              <h3>Limitations and good practice</h3>
              <ul>
                <li>
                  Use characteristic soil parameters with appropriate partial or
                  global factors.
                </li>
                <li>
                  Account for variability in stratigraphy, groundwater, and
                  loading.
                </li>
                <li>Document assumptions clearly in your design notes.</li>
                <li>
                  Have critical designs independently checked by another
                  engineer.
                </li>
              </ul>

              <h2>FAQ: Civil geotechnical engineering basics</h2>

              <h3>What is geotechnical engineering in civil engineering?</h3>
              <p>
                Geotechnical engineering is the branch of civil engineering
                focused on soil and rock behavior and their interaction with
                structures. It covers site investigation, laboratory testing,
                analysis, and design of foundations, retaining structures,
                slopes, embankments, tunnels, and earth dams.
              </p>

              <h3>What data do I need before using these calculators?</h3>
              <p>
                At minimum you should know the soil profile, unit weights, shear
                strength parameters (c, φ), groundwater level, and the geometry
                and loads of your structure. These are typically obtained from
                boreholes, in‑situ tests (SPT, CPT), and lab tests (triaxial,
                oedometer, direct shear).
              </p>

              <h3>Can I use these tools for exam preparation?</h3>
              <p>
                Yes. The calculators implement standard textbook equations
                commonly examined in undergraduate geotechnical courses and
                professional exams. They are useful for checking hand
                calculations and building intuition about parameter sensitivity.
              </p>

              <h3>Are partial factors or LRFD included?</h3>
              <p>
                The calculators use global factors of safety by default. If you
                work under LRFD or partial factor frameworks, you can input
                factored loads and characteristic resistances, or back‑calculate
                equivalent global factors. Always align your workflow with the
                specific requirements of your code.
              </p>
            </article>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Civil, Geotechnical.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-sm font-semibold text-gray-800 mb-3">
              More Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/civil"
                  class="text-blue-600 hover:underline"
                  >Civil engineering overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/soil-compaction-proctor-test"
                  class="text-gray-500 pointer-events-none"
                  >Soil compaction (coming soon)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retaining-wall-stability"
                  class="text-gray-500 pointer-events-none"
                  >Retaining wall stability (coming soon)</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-sm font-semibold text-gray-800 mb-3">
              Related Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/bearing-capacity"
                  class="text-gray-500 pointer-events-none"
                  >Soil Bearing Capacity (coming soon)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/slope-stability"
                  class="text-gray-500 pointer-events-none"
                  >Slope Stability (coming soon)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retaining-wall-stability"
                  class="text-gray-500 pointer-events-none"
                  >Retaining Wall Design (coming soon)</a
                >
              </li>
            
              <li><a href="https://calcdomain.com/trip-cost-calculator" class="text-gray-500 pointer-events-none">Trip Cost Calculator</a></li>
</ul>
            <p class="mt-3 text-xs text-gray-500">
              Looking for more? Browse all
              <a
                href="https://calcdomain.com/categories/engineering"
                class="text-blue-600 hover:underline"
                >Engineering calculators</a
              >.
            </p>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Tab handling
      document.querySelectorAll(".geo-tab").forEach((btn) => {
        btn.addEventListener("click", () => {
          const target = btn.getAttribute("data-tab");
          document.querySelectorAll(".geo-tab").forEach((b) => {
            b.classList.remove("border-gray-200", "bg-white", "text-blue-600");
            b.classList.add("border-transparent", "text-gray-600");
          });
          btn.classList.add("border-gray-200", "bg-white", "text-blue-600");
          btn.classList.remove("border-transparent", "text-gray-600");

          document
            .querySelectorAll(".geo-tab-panel")
            .forEach((p) => p.classList.add("hidden"));
          document.getElementById(target).classList.remove("hidden");
        });
      });

      function toRad(deg) {
        return (deg * Math.PI) / 180;
      }

      // Bearing capacity calculator
      document.getElementById("bc-calc").addEventListener("click", () => {
        const B =
          parseFloat(document.getElementById("bc-footing-width").value) || 0;
        const Df =
          parseFloat(document.getElementById("bc-footing-depth").value) || 0;
        const gamma =
          parseFloat(document.getElementById("bc-unit-weight").value) || 0;
        const c = parseFloat(document.getElementById("bc-cohesion").value) || 0;
        const phiDeg = parseFloat(document.getElementById("bc-phi").value) || 0;
        const qServ = parseFloat(document.getElementById("bc-load").value) || 0;
        const gammaW =
          parseFloat(document.getElementById("bc-gammaw").value) || 0;
        const gwDepth =
          parseFloat(document.getElementById("bc-gw-depth").value) || 0;
        const FS = parseFloat(document.getElementById("bc-sf").value) || 1;

        const phi = toRad(phiDeg);
        let Nq, Nc, Ng;
        if (phiDeg === 0) {
          Nq = 1;
          Nc = 5.7;
          Ng = 0;
        } else {
          Nq =
            Math.exp(Math.PI * Math.tan(phi)) *
            Math.pow(Math.tan(Math.PI / 4 + phi / 2), 2);
          Nc = (Nq - 1) / Math.tan(phi);
          Ng = 2 * (Nq + 1) * Math.tan(phi);
        }

        // Effective unit weight at base considering groundwater
        let gammaEff = gamma;
        if (gwDepth <= 0) {
          gammaEff = gamma - gammaW;
        } else if (gwDepth < Df) {
          const satPart = Df - gwDepth;
          const dryPart = gwDepth;
          const avg = (dryPart * gamma + satPart * (gamma - gammaW)) / Df;
          gammaEff = avg;
        }

        const qUlt = c * Nc + gammaEff * Df * Nq + 0.5 * gammaEff * B * Ng;
        const qOverburden = gammaEff * Df;
        const qNetUlt = qUlt - qOverburden;
        const qAllow = qNetUlt / FS;
        const fsActual = qAllow > 0 ? qAllow / qServ : 0;

        const res = document.getElementById("bc-result");
        if (!B || !gamma || !Df) {
          res.innerHTML =
            '<span class="text-red-600">Please enter valid footing and soil parameters.</span>';
          return;
        }
        res.innerHTML = `
      <div>φ = ${phiDeg.toFixed(1)}°, N<sub>c</sub> ≈ ${Nc.toFixed(
          2
        )}, N<sub>q</sub> ≈ ${Nq.toFixed(2)}, N<sub>γ</sub> ≈ ${Ng.toFixed(
          2
        )}</div>
      <div>Effective γ at base ≈ <strong>${gammaEff.toFixed(
        2
      )} kN/m³</strong></div>
      <div>Ultimate bearing capacity q<sub>ult</sub> ≈ <strong>${qUlt.toFixed(
        1
      )} kPa</strong></div>
      <div>Net ultimate q<sub>net,ult</sub> ≈ <strong>${qNetUlt.toFixed(
        1
      )} kPa</strong></div>
      <div>Allowable (FS = ${FS.toFixed(
        2
      )}) q<sub>allow</sub> ≈ <strong>${qAllow.toFixed(1)} kPa</strong></div>
      <div>Applied q<sub>serv</sub> = ${qServ.toFixed(
        1
      )} kPa → FS(actual) ≈ <strong>${fsActual.toFixed(2)}</strong></div>
      <div class="mt-1 ${fsActual >= 1 ? "text-green-700" : "text-red-600"}">
        ${
          fsActual >= 1
            ? "OK: applied pressure is within allowable."
            : "Warning: applied pressure exceeds allowable."
        }
      </div>
    `;
      });

      // Settlement calculator
      document.getElementById("st-calc").addEventListener("click", () => {
        const Hdr =
          parseFloat(document.getElementById("st-layer-thickness").value) || 0;
        const e0 = parseFloat(document.getElementById("st-e0").value) || 0;
        const Cc = parseFloat(document.getElementById("st-cc").value) || 0;
        const sigma0 =
          parseFloat(document.getElementById("st-sigma0").value) || 0;
        const dSigma =
          parseFloat(document.getElementById("st-dsigma").value) || 0;
        const cv = parseFloat(document.getElementById("st-cv").value) || 0;
        const t = parseFloat(document.getElementById("st-time").value) || 0;

        const res = document.getElementById("st-result");
        if (!Hdr || !Cc || !sigma0 || !dSigma) {
          res.innerHTML =
            '<span class="text-red-600">Please enter valid soil and stress parameters.</span>';
          return;
        }

        const Sc =
          ((Cc * Hdr) / (1 + e0)) * Math.log10((sigma0 + dSigma) / sigma0);

        let Tv = 0,
          U = 0;
        if (cv > 0 && t > 0) {
          Tv = (cv * t) / (Hdr * Hdr);
          if (Tv <= (0.6 * 0.6) / (Math.PI * Math.PI)) {
            U = (4 / Math.PI) * Math.sqrt(Tv);
          } else {
            U = 1 - Math.exp(-1.781 * Tv);
          }
          if (U > 1) U = 1;
          if (U < 0) U = 0;
        }

        res.innerHTML = `
      <div>Primary consolidation settlement S<sub>c</sub> ≈ <strong>${Sc.toFixed(
        3
      )} m</strong></div>
      <div>Time factor T<sub>v</sub> ≈ ${Tv.toFixed(3)}</div>
      <div>Degree of consolidation U ≈ <strong>${(U * 100).toFixed(
        1
      )}%</strong></div>
      <div class="mt-1 text-gray-600">
        Final settlement (t → ∞) ≈ ${Sc.toFixed(3)} m. At t = ${t.toFixed(
          2
        )} years, estimated settlement ≈ <strong>${(Sc * U).toFixed(
          3
        )} m</strong>.
      </div>
    `;
      });

      // Earth pressure calculator
      document.getElementById("ep-calc").addEventListener("click", () => {
        const H = parseFloat(document.getElementById("ep-height").value) || 0;
        const gamma =
          parseFloat(document.getElementById("ep-gamma").value) || 0;
        const phiDeg = parseFloat(document.getElementById("ep-phi").value) || 0;
        const q =
          parseFloat(document.getElementById("ep-surcharge").value) || 0;

        const res = document.getElementById("ep-result");
        if (!H || !gamma) {
          res.innerHTML =
            '<span class="text-red-600">Please enter valid wall and soil parameters.</span>';
          return;
        }

        const Ka = Math.pow(Math.tan(toRad(45 - phiDeg / 2)), 2);
        const Pa_gamma = 0.5 * Ka * gamma * H * H;
        const Pa_q = Ka * q * H;
        const Pa_total = Pa_gamma + Pa_q;
        const z_gamma = H / 3;
        const z_q = H / 2;
        const M_gamma = Pa_gamma * z_gamma;
        const M_q = Pa_q * z_q;
        const M_total = M_gamma + M_q;

        res.innerHTML = `
      <div>K<sub>a</sub> ≈ <strong>${Ka.toFixed(3)}</strong></div>
      <div>Resultant from soil weight P<sub>a,γ</sub> ≈ <strong>${Pa_gamma.toFixed(
        1
      )} kN/m</strong> at H/3 = ${z_gamma.toFixed(2)} m</div>
      <div>Resultant from surcharge P<sub>a,q</sub> ≈ <strong>${Pa_q.toFixed(
        1
      )} kN/m</strong> at H/2 = ${z_q.toFixed(2)} m</div>
      <div>Total active thrust P<sub>a</sub> ≈ <strong>${Pa_total.toFixed(
        1
      )} kN/m</strong></div>
      <div>Overturning moment about base M<sub>o</sub> ≈ <strong>${M_total.toFixed(
        1
      )} kN·m/m</strong></div>
    `;
      });

      // Slope stability calculator
      document.getElementById("sl-calc").addEventListener("click", () => {
        const betaDeg =
          parseFloat(document.getElementById("sl-slope-angle").value) || 0;
        const z = parseFloat(document.getElementById("sl-depth").value) || 0;
        const gamma =
          parseFloat(document.getElementById("sl-gamma").value) || 0;
        const gammaW =
          parseFloat(document.getElementById("sl-gammaw").value) || 0;
        const gwDepth =
          parseFloat(document.getElementById("sl-gw-depth").value) || 0;
        const c = parseFloat(document.getElementById("sl-cohesion").value) || 0;
        const phiDeg = parseFloat(document.getElementById("sl-phi").value) || 0;

        const res = document.getElementById("sl-result");
        if (!z || !gamma) {
          res.innerHTML =
            '<span class="text-red-600">Please enter valid slope and soil parameters.</span>';
          return;
        }

        const beta = toRad(betaDeg);
        const phi = toRad(phiDeg);

        // Effective unit weight at failure plane
        let gammaEff = gamma;
        if (gwDepth <= 0) {
          gammaEff = gamma - gammaW;
        } else if (gwDepth < z) {
          const satPart = z - gwDepth;
          const dryPart = gwDepth;
          const avg = (dryPart * gamma + satPart * (gamma - gammaW)) / z;
          gammaEff = avg;
        }

        const numerator =
          c + gammaEff * z * Math.cos(beta) * Math.cos(beta) * Math.tan(phi);
        const denominator = gamma * z * Math.sin(beta) * Math.cos(beta);
        const FS = denominator > 0 ? numerator / denominator : 0;

        res.innerHTML = `
      <div>Effective γ at failure plane ≈ <strong>${gammaEff.toFixed(
        2
      )} kN/m³</strong></div>
      <div>Factor of safety FS ≈ <strong>${FS.toFixed(2)}</strong></div>
      <div class="mt-1 ${FS >= 1.3 ? "text-green-700" : "text-red-600"}">
        ${
          FS >= 1.3
            ? "Indicative result: FS is above a typical target of 1.3 for long-term slopes."
            : "Indicative result: FS is below 1.3; detailed slope stability analysis is recommended."
        }
      </div>
    `;
      });

      // Drainage / Darcy flow calculator
      document.getElementById("dr-calc").addEventListener("click", () => {
        const k = parseFloat(document.getElementById("dr-k").value) || 0;
        const dh =
          parseFloat(document.getElementById("dr-head-loss").value) || 0;
        const L = parseFloat(document.getElementById("dr-length").value) || 0;
        const A = parseFloat(document.getElementById("dr-area").value) || 0;

        const res = document.getElementById("dr-result");
        if (!k || !L || !A) {
          res.innerHTML =
            '<span class="text-red-600">Please enter valid hydraulic parameters.</span>';
          return;
        }

        const i = dh / L;
        const v = k * i;
        const Q = v * A;

        res.innerHTML = `
      <div>Hydraulic gradient i = Δh / L ≈ <strong>${i.toFixed(
        4
      )}</strong></div>
      <div>Darcy velocity v ≈ <strong>${v.toExponential(3)} m/s</strong></div>
      <div>Discharge Q ≈ <strong>${Q.toExponential(3)} m³/s</strong></div>
    `;
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
