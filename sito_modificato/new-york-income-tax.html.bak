<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/new-york-income-tax" />
    <title>New York Income Tax Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate New York Income Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="New York Income Tax Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate New York Income Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/new-york-income-tax" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="New York Income Tax Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate New York Income Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "New York Income Tax Calculator (State, NYC &amp; Yonkers)", "item": "https://calcdomain.com/new-york-income-tax"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">New York Income Tax Calculator (State, NYC &amp;amp; Yonkers)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                New York Income Tax Calculator (State, NYC &amp; Yonkers)
              </h1>
              <p class="text-gray-600">
                Estimate your New York state income tax plus New York City or
                Yonkers tax for the current tax year. See your total tax,
                marginal rate, and effective rate in one place.
              </p>
            </header>

            <section aria-label="New York income tax calculator" class="mb-8">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <div>
                    <label
                      for="ny-filing-status"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Filing status</label
                    >
                    <select
                      id="ny-filing-status"
                      class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="single">Single</option>
                      <option value="mfj">Married filing jointly</option>
                      <option value="mfs">Married filing separately</option>
                      <option value="hoh">Head of household</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="ny-income"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Taxable income (approx.)</label
                    >
                    <div class="flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="ny-income"
                        type="number"
                        min="0"
                        step="100"
                        value="85000"
                        class="flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Use your estimated New York taxable income (after
                      deductions and exemptions).
                    </p>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Residency</label
                    >
                    <select
                      id="ny-residency"
                      class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="resident">Resident</option>
                      <option value="partyear">Part‑year resident</option>
                      <option value="nonresident">
                        Nonresident (NY‑source income only)
                      </option>
                    </select>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Local tax</label
                    >
                    <select
                      id="ny-locality"
                      class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="none">No local tax (rest of NY)</option>
                      <option value="nyc">New York City resident</option>
                      <option value="yonkers">Yonkers resident</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">
                      NYC and Yonkers impose additional income taxes on
                      residents.
                    </p>
                  </div>

                  <div>
                    <label
                      for="ny-allowances"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Dependents / exemptions (simple estimate)</label
                    >
                    <input
                      id="ny-allowances"
                      type="number"
                      min="0"
                      max="10"
                      step="1"
                      value="0"
                      class="w-24 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used only for a rough adjustment. For precise results, use
                      your actual NY taxable income.
                    </p>
                  </div>

                  <button
                    id="ny-calc-btn"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    Calculate New York tax
                  </button>
                </div>

                <div class="space-y-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                    <h2 class="text-lg font-semibold mb-2">
                      Estimated New York Tax
                    </h2>
                    <div class="flex items-baseline justify-between">
                      <span class="text-sm text-gray-600"
                        >Total NY + local tax</span
                      >
                      <span
                        id="ny-total-tax"
                        class="text-2xl font-bold text-blue-700"
                        >$0</span
                      >
                    </div>
                    <div class="mt-3 grid grid-cols-2 gap-3 text-sm">
                      <div>
                        <div class="flex items-center justify-between">
                          <span class="text-gray-600">NY state tax</span>
                          <span id="ny-state-tax" class="font-semibold"
                            >$0</span
                          >
                        </div>
                        <div class="flex items-center justify-between mt-1">
                          <span class="text-gray-600">Local tax</span>
                          <span id="ny-local-tax" class="font-semibold"
                            >$0</span
                          >
                        </div>
                      </div>
                      <div>
                        <div class="flex items-center justify-between">
                          <span class="text-gray-600">Effective rate</span>
                          <span id="ny-effective-rate" class="font-semibold"
                            >0%</span
                          >
                        </div>
                        <div class="flex items-center justify-between mt-1">
                          <span class="text-gray-600">Marginal rate</span>
                          <span id="ny-marginal-rate" class="font-semibold"
                            >0%</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>

                  <div
                    class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm space-y-2"
                  >
                    <div class="flex justify-between">
                      <span class="text-gray-600">Taxable income used</span>
                      <span id="ny-taxable-used" class="font-mono">$0</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-600"
                        >Estimated take‑home (before federal & other)</span
                      >
                      <span id="ny-takehome" class="font-mono">$0</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">
                      This is a simplified estimate. It does not include every
                      credit, deduction, or special rule.
                    </p>
                  </div>
                </div>
              </div>

              <details class="mt-4">
                <summary class="text-sm text-blue-700 cursor-pointer">
                  Show detailed bracket breakdown
                </summary>
                <div
                  id="ny-bracket-breakdown"
                  class="mt-3 text-xs text-gray-700 space-y-1"
                ></div>
              </details>
            </section>

            <section class="prose">
              <h2>How this New York income tax calculator works</h2>
              <p>
                This tool estimates your New York state income tax and, if
                selected, New York City or Yonkers resident income tax. It uses
                a progressive bracket system similar to recent New York tax
                years and applies it to your
                <strong>approximate New York taxable income</strong>.
              </p>

              <h3>1. New York state income tax brackets (simplified)</h3>
              <p>
                New York uses a progressive tax system: lower portions of your
                income are taxed at lower rates, and only the income above each
                threshold is taxed at the higher rate. The calculator uses
                representative brackets for
                <strong>single filers</strong> and adjusts thresholds for other
                filing statuses.
              </p>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  Example (Single filer – illustrative brackets):
                </p>
                <ul class="list-disc ml-4">
                  <li>4.00% on the first $8,500</li>
                  <li>4.50% on $8,501 – $11,700</li>
                  <li>5.25% on $11,701 – $13,900</li>
                  <li>5.90% on $13,901 – $21,400</li>
                  <li>6.33% on $21,401 – $80,650</li>
                  <li>6.85% on $80,651 – $215,400</li>
                  <li>Higher rates apply above these levels</li>
                </ul>
                <p class="mt-2 text-gray-600">
                  The calculator applies similar tiered rates to your income and
                  sums the tax from each bracket.
                </p>
              </div>

              <h3>2. NYC and Yonkers resident income tax</h3>
              <p>
                If you select <strong>New York City</strong> or
                <strong>Yonkers</strong>, the calculator adds an approximate
                local income tax on top of your state tax:
              </p>
              <ul>
                <li>
                  <strong>NYC resident tax</strong> – progressive city income
                  tax with rates around 3–4%.
                </li>
                <li>
                  <strong>Yonkers resident tax</strong> – a surcharge on your
                  New York state tax liability.
                </li>
              </ul>
              <p>
                The tool shows state and local amounts separately so you can see
                how much each jurisdiction contributes to your total bill.
              </p>

              <h3>3. Effective vs. marginal New York tax rate</h3>
              <ul>
                <li>
                  <strong>Effective tax rate</strong> =
                  <code>total NY tax ÷ taxable income</code>. This is your
                  average tax rate.
                </li>
                <li>
                  <strong>Marginal tax rate</strong> = the rate applied to your
                  <em>last</em> dollar of income (top bracket you reach).
                </li>
              </ul>
              <p>
                Your marginal rate is what matters most when you ask “If I earn
                one more dollar, how much extra tax will I pay?”
              </p>

              <h2>Step‑by‑step: estimating your New York income tax</h2>
              <ol>
                <li>
                  <strong>Choose your filing status.</strong> This affects your
                  brackets and standard deduction.
                </li>
                <li>
                  <strong>Estimate your New York taxable income.</strong>
                  Start from your federal taxable income and adjust for New York
                  additions and subtractions (for example, NY excludes Social
                  Security benefits and some pension income).
                </li>
                <li>
                  <strong>Select residency and locality.</strong>
                  Residents are taxed on all income; nonresidents only on New
                  York‑source income.
                </li>
                <li>
                  <strong>Click “Calculate New York tax”.</strong> Review the
                  state tax, local tax, total tax, and rates.
                </li>
              </ol>

              <h2>Limitations and important notes</h2>
              <ul>
                <li>
                  This calculator is a <strong>planning tool</strong>, not a
                  filing engine.
                </li>
                <li>
                  It does <strong>not</strong> handle every credit (e.g., earned
                  income credit, child credit), itemized deduction nuance, or
                  special situations (e.g., nonresident allocation, part‑year
                  residency proration, investment income surcharges).
                </li>
                <li>
                  New York tax law and brackets change regularly. Always confirm
                  with the
                  <a
                    href="https://www.tax.ny.gov/"
                    target="_blank"
                    rel="noopener"
                    >New York State Department of Taxation and Finance</a
                  >
                  or a qualified tax professional before filing.
                </li>
              </ul>

              <h2>Frequently asked questions about New York income tax</h2>

              <h3>Who has to file a New York state income tax return?</h3>
              <p>
                You generally must file if you are a
                <strong
                  >resident, part‑year resident, or nonresident with New
                  York‑source income</strong
                >
                and your New York adjusted gross income exceeds the filing
                threshold for your status. You may also file to claim a refund
                of withholding or refundable credits even if you are below the
                threshold.
              </p>

              <h3>Does New York tax Social Security and pensions?</h3>
              <p>
                New York <strong>does not tax Social Security benefits</strong>.
                Many public pensions and up to a certain amount of private
                pension and IRA income for taxpayers age 59½ or older may also
                be excluded. This calculator does not model all of those
                exclusions individually; instead, you should enter your
                <em>already‑adjusted</em> taxable income.
              </p>

              <h3>How are NYC and Yonkers taxes calculated?</h3>
              <p>
                NYC uses its own progressive income tax brackets applied to your
                taxable income. Yonkers imposes a surcharge based on your New
                York state tax. The calculator uses representative rates to
                estimate these amounts and reports them separately from the
                state tax.
              </p>

              <h3>
                What is the difference between resident, part‑year resident, and
                nonresident?
              </h3>
              <ul>
                <li>
                  <strong>Resident</strong> – generally taxed on all income,
                  regardless of where it is earned.
                </li>
                <li>
                  <strong>Part‑year resident</strong> – taxed as a resident for
                  the part of the year you lived in NY; allocation rules apply.
                </li>
                <li>
                  <strong>Nonresident</strong> – taxed only on New York‑source
                  income (e.g., wages earned in NY, NY rental property).
                </li>
              </ul>
              <p>
                This calculator does not perform detailed allocation; for
                part‑year and nonresidents, enter the portion of your income
                that is taxable by New York.
              </p>

              <h3>Can this replace professional tax software or advice?</h3>
              <p>
                No. It is an educational estimator designed to be transparent
                and easy to use. For official calculations, complex situations,
                or filing your return, use professional tax software, the
                official New York forms and instructions, or consult a tax
                professional.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: New, York, Income, Tax.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: New, York, Income, Tax.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related tax calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/us-federal-taxes"
                  class="text-blue-600 hover:underline"
                >
                  US Federal Taxes Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                >
                  Tax Refund Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                >
                  Income Tax Calculator (US)
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                >
                  Take‑Home Pay (Payroll)
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                >
                  Sales Tax Calculator (by State)
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/property-tax"
                  class="text-blue-600 hover:underline"
                >
                  Property Tax Calculator
                </a>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More US state &amp; local tax tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/us-state-taxes"
                  class="text-blue-600 hover:underline"
                  >US State Income Tax Overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/washington-income-tax"
                  class="text-blue-600 hover:underline"
                  >Washington Income Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/california-income-tax"
                  class="text-blue-600 hover:underline"
                  >California Income Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lottery-tax"
                  class="text-blue-600 hover:underline"
                  >Lottery Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-calculator"
                  class="text-blue-600 hover:underline"
                  >Payroll Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Simplified NY state brackets (illustrative, single filer baseline) ---
      // Each entry: { upTo, rate } where upTo is upper bound for that bracket (null = no upper limit)
      const NY_BASE_BRACKETS_SINGLE = [
        { upTo: 8500, rate: 0.04 },
        { upTo: 11700, rate: 0.045 },
        { upTo: 13900, rate: 0.0525 },
        { upTo: 21400, rate: 0.059 },
        { upTo: 80650, rate: 0.0633 },
        { upTo: 215400, rate: 0.0685 },
        { upTo: 1077550, rate: 0.0965 },
        { upTo: 5000000, rate: 0.103 },
        { upTo: 25000000, rate: 0.109 },
        { upTo: null, rate: 0.109 },
      ];

      // Scaling factors for other filing statuses (very rough approximation)
      const STATUS_SCALE = {
        single: 1,
        mfj: 2, // married filing jointly
        mfs: 1, // married filing separately
        hoh: 1.5, // head of household
      };

      function buildBracketsForStatus(status) {
        const scale = STATUS_SCALE[status] || 1;
        return NY_BASE_BRACKETS_SINGLE.map((b) => ({
          upTo: b.upTo === null ? null : b.upTo * scale,
          rate: b.rate,
        }));
      }

      function computeProgressiveTax(income, brackets) {
        let remaining = income;
        let lastCap = 0;
        let tax = 0;
        let marginalRate = 0;
        const segments = [];

        for (const b of brackets) {
          if (remaining <= 0) break;
          const cap = b.upTo === null ? Infinity : b.upTo;
          const taxableInBracket = Math.max(
            0,
            Math.min(remaining, cap - lastCap)
          );
          if (taxableInBracket > 0) {
            const taxHere = taxableInBracket * b.rate;
            tax += taxHere;
            segments.push({
              from: lastCap,
              to: lastCap + taxableInBracket,
              rate: b.rate,
              tax: taxHere,
            });
            marginalRate = b.rate;
            remaining -= taxableInBracket;
            lastCap = cap;
          }
        }
        return { tax, marginalRate, segments };
      }

      // Approximate NYC resident tax brackets (single baseline)
      const NYC_BRACKETS_SINGLE = [
        { upTo: 12000, rate: 0.03078 },
        { upTo: 25000, rate: 0.03762 },
        { upTo: 50000, rate: 0.03819 },
        { upTo: null, rate: 0.03876 },
      ];

      function buildNYCBracketsForStatus(status) {
        const scale = STATUS_SCALE[status] || 1;
        return NYC_BRACKETS_SINGLE.map((b) => ({
          upTo: b.upTo === null ? null : b.upTo * scale,
          rate: b.rate,
        }));
      }

      // Yonkers resident surcharge: approximate percentage of NY state tax
      const YONKERS_SURCHARGE_RATE = 0.1675; // 16.75% of NY state tax (approx)

      function formatMoney(value) {
        if (!isFinite(value)) return "$0";
        return value.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      function formatPercent(value) {
        if (!isFinite(value)) return "0%";
        return (value * 100).toFixed(1) + "%";
      }

      function buildBracketBreakdownHTML(segments, label) {
        if (!segments || !segments.length) return "";
        let html = `<div class="mt-1 font-semibold">${label}</div>`;
        html +=
          '<table class="min-w-full text-left border border-gray-200 mt-1 mb-2"><thead><tr class="bg-gray-100"><th class="px-2 py-1 border-b text-xs">Income range</th><th class="px-2 py-1 border-b text-xs">Rate</th><th class="px-2 py-1 border-b text-xs">Tax</th></tr></thead><tbody>';
        segments.forEach((seg) => {
          html += `<tr>
        <td class="px-2 py-1 border-b text-[11px]">${formatMoney(
          seg.from
        )} – ${formatMoney(seg.to)}</td>
        <td class="px-2 py-1 border-b text-[11px]">${formatPercent(
          seg.rate
        )}</td>
        <td class="px-2 py-1 border-b text-[11px]">${formatMoney(seg.tax)}</td>
      </tr>`;
        });
        html += "</tbody></table>";
        return html;
      }

      function calculateNYTax() {
        const status = document.getElementById("ny-filing-status").value;
        const incomeInput =
          parseFloat(document.getElementById("ny-income").value) || 0;
        const residency = document.getElementById("ny-residency").value;
        const locality = document.getElementById("ny-locality").value;
        const allowances =
          parseInt(document.getElementById("ny-allowances").value, 10) || 0;

        // Simple allowance adjustment: $1,000 per dependent (very rough)
        let taxableIncome = Math.max(0, incomeInput - allowances * 1000);

        // For nonresidents/part-year, we assume user already entered NY-taxable income.
        // No further adjustment here, but we keep the field for clarity.
        const bracketsState = buildBracketsForStatus(status);
        const stateResult = computeProgressiveTax(taxableIncome, bracketsState);

        let localTax = 0;
        let localMarginalRate = 0;
        let localSegments = [];

        if (locality === "nyc") {
          const nycBrackets = buildNYCBracketsForStatus(status);
          const nycResult = computeProgressiveTax(taxableIncome, nycBrackets);
          localTax = nycResult.tax;
          localMarginalRate = nycResult.marginalRate;
          localSegments = nycResult.segments;
        } else if (locality === "yonkers") {
          localTax = stateResult.tax * YONKERS_SURCHARGE_RATE;
          localMarginalRate = stateResult.marginalRate * YONKERS_SURCHARGE_RATE;
        }

        const totalTax = stateResult.tax + localTax;
        const effectiveRate = taxableIncome > 0 ? totalTax / taxableIncome : 0;
        const marginalRate = stateResult.marginalRate + localMarginalRate;

        // Update UI
        document.getElementById("ny-state-tax").textContent = formatMoney(
          stateResult.tax
        );
        document.getElementById("ny-local-tax").textContent =
          formatMoney(localTax);
        document.getElementById("ny-total-tax").textContent =
          formatMoney(totalTax);
        document.getElementById("ny-effective-rate").textContent =
          formatPercent(effectiveRate);
        document.getElementById("ny-marginal-rate").textContent =
          formatPercent(marginalRate);
        document.getElementById("ny-taxable-used").textContent =
          formatMoney(taxableIncome);
        document.getElementById("ny-takehome").textContent = formatMoney(
          taxableIncome - totalTax
        );

        // Bracket breakdown
        let breakdownHTML = buildBracketBreakdownHTML(
          stateResult.segments,
          "New York state tax brackets used"
        );
        if (locality === "nyc") {
          breakdownHTML += buildBracketBreakdownHTML(
            localSegments,
            "NYC resident tax brackets used"
          );
        } else if (locality === "yonkers") {
          breakdownHTML += `<p class="mt-2 text-gray-700">Yonkers resident tax is estimated as ${formatPercent(
            YONKERS_SURCHARGE_RATE
          )} of your New York state tax.</p>`;
        }
        if (!breakdownHTML) {
          breakdownHTML =
            '<p class="text-gray-600">No tax due at this income level.</p>';
        }
        document.getElementById("ny-bracket-breakdown").innerHTML =
          breakdownHTML;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("ny-calc-btn");
        btn.addEventListener("click", calculateNYTax);

        // Recalculate on key changes for a smoother UX
        [
          "ny-income",
          "ny-filing-status",
          "ny-locality",
          "ny-allowances",
        ].forEach((id) => {
          const el = document.getElementById(id);
          el.addEventListener("change", calculateNYTax);
          if (el.tagName === "INPUT") {
            el.addEventListener("blur", calculateNYTax);
          }
        });

        // Initial calculation
        calculateNYTax();
      });

      // MathJax config (kept from template)
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
