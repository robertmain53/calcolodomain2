<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/mortar-calculator" rel="canonical"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Mortar Calculator - Calculate Cement, Sand &amp; Lime Mix
  </title>
  <meta content="Calculate the exact amount of cement, sand, and lime needed for your mortar mix. Get precise material estimates for brickwork, blockwork, or rendering projects." name="description"/>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
/* Custom focus state for WCAG compliance */
:focus-visible {
outline: 3px solid #3b82f6;
outline-offset: 2px;
border-radius: 2px;
}
/* Hide number input spinners for a cleaner look */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
-webkit-appearance: none;
margin: 0;
}
input[type=number] {
-moz-appearance: textfield;
}
/* ARIA-compliant error message styling */
.error-message {
color: #dc2626;
font-size: 0.875rem;
margin-top: 0.25rem;
}
input[aria-invalid="true"] {
border-color: #dc2626;
ring-color: #dc2626;
}
/* Tooltip styling */
.tooltip-container {
position: relative;
display: inline-block;
}
.tooltip-button {
background: none;
border: none;
padding: 0;
margin-left: 4px;
cursor: pointer;
color: #6b7280;
}
.tooltip-button:focus-visible, .tooltip-button:hover {
color: #2563eb;
}
.tooltip-text {
visibility: hidden;
width: 280px;
background-color: #1f2937;
color: #fff;
text-align: left;
border-radius: 6px;
padding: 8px 12px;
position: absolute;
z-index: 10;
bottom: 125%;
left: 50%;
margin-left: -140px;
opacity: 0;
transition: opacity 0.3s;
font-size: 0.875rem;
font-weight: 400;
line-height: 1.5;
}
.tooltip-text::after {
content: "";
position: absolute;
top: 100%;
left: 50%;
margin-left: -5px;
border-width: 5px;
border-style: solid;
border-color: #1f2937 transparent transparent transparent;
}
.tooltip-button:focus + .tooltip-text,
.tooltip-button:hover + .tooltip-text,
.tooltip-text:hover {
visibility: visible;
opacity: 1;
}
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#results-chart-container { display: none !important; }
}
  </style>
  <script type="application/ld+json">
   {
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Mortar Calculator - Calculate Cement, Sand & Lime Mix",
"description": "Calculate the exact amount of cement, sand, and lime needed for your mortar mix. Get precise material estimates for brickwork, blockwork, or rendering projects.",
"url": "https://calcdomain.com/mortar-calculator",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
  </script>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Construction & DIY",
      "item": "https://calcdomain.com/construction-diy"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Materials Estimation",
      "item": "https://calcdomain.com/subcategories/construction-diy-materials-estimation"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Mortar Calculator",
      "item": "https://calcdomain.com/mortar-calculator"
    }
  ]
}
  </script>
  <script type="application/ld+json">
   {
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Calculate Mortar Mix",
"description": "A step-by-step guide to calculating the required materials (cement, lime, sand) for a masonry project.",
"step": [
{"@type": "HowToStep", "name": "Select Project Type", "text": "Choose whether you are doing brickwork/blockwork or rendering/plastering."},
{"@type": "HowToStep", "name": "Enter Project Dimensions", "text": "For brickwork, enter wall length, height, and unit (brick/block) dimensions. For rendering, enter the total area and desired mortar thickness."},
{"@type": "HowToStep", "name": "Define Mortar Mix", "text": "Select a standard mortar type (e.g., Type N, S, M, O) or enter a custom ratio of cement, lime, and sand."},
{"@type": "HowToStep", "name": "Set Material & Wastage", "text": "Define your cement bag weight (e.g., 25kg) and a wastage percentage (e.g., 10%) to account for spills and cuts."},
{"@type": "HowToStep", "name": "Review Results", "text": "The calculator provides the total wet mortar volume, and the required weight (in kg) and bags for cement, lime, and sand."}
]
}
  </script>
  <script defer="" src="search.js">
  </script>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-10">
        <div class="flex flex-col lg:flex-row gap-8">
         <section class="w-full lg:w-2/3">
          <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
           <a class="hover:text-blue-600" href="https://calcdomain.com">
            Home
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/construction-diy">
            Construction
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/subcategories/construction-diy-materials-estimation">
            Materials Estimation
           </a>
           »
           <span class="text-gray-900">
            Mortar Calculator
           </span>
          </nav>
          <div class="bg-white p-6 rounded-lg shadow-md" id="print-section">
           <h1 class="text-3xl font-extrabold text-gray-900 mb-2">
            Mortar Calculator
           </h1>
           <p class="text-gray-600 mb-6">
            Calculate the precise amounts of cement, sand, and lime needed for your masonry project. This tool helps you estimate materials for brickwork, blockwork, or rendering, saving you time and reducing waste.
           </p>
           <form class="space-y-6" id="calculator-ui" onsubmit="return false;">
            <fieldset>
             <legend class="block text-sm font-medium text-gray-700 mb-2">
              1. Project Type
             </legend>
             <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
              <div class="flex items-center">
               <input checked="" class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500" id="projectBrickwork" name="projectType" type="radio" value="brickwork"/>
               <label class="ml-3 block text-sm font-medium text-gray-700" for="projectBrickwork">
                Brickwork / Blockwork
               </label>
              </div>
              <div class="flex items-center">
               <input class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500" id="projectRender" name="projectType" type="radio" value="render"/>
               <label class="ml-3 block text-sm font-medium text-gray-700" for="projectRender">
                Rendering / Plastering
               </label>
              </div>
             </div>
            </fieldset>
            <div class="space-y-6 border-t border-gray-200 pt-6" id="brickworkInputs">
             <h3 class="text-lg font-medium text-gray-900">
              2. Brickwork Dimensions
             </h3>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="wallLength">
                Total Wall Length (m)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="wallLengthError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="wallLength" min="0" step="0.1" type="number" value="10"/>
               <div aria-live="polite" class="error-message" id="wallLengthError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="wallHeight">
                Total Wall Height (m)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="wallHeightError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="wallHeight" min="0" step="0.1" type="number" value="2"/>
               <div aria-live="polite" class="error-message" id="wallHeightError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="unitLength">
                Unit Length (mm)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="unitLengthError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="unitLength" min="0" step="1" type="number" value="215"/>
               <div aria-live="polite" class="error-message" id="unitLengthError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="unitHeight">
                Unit Height (mm)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="unitHeightError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="unitHeight" min="0" step="1" type="number" value="65"/>
               <div aria-live="polite" class="error-message" id="unitHeightError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="unitDepth">
                Unit Depth (mm)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="unitDepthError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="unitDepth" min="0" step="0.1" type="number" value="102.5"/>
               <div aria-live="polite" class="error-message" id="unitDepthError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="jointThickness">
                Mortar Joint (mm)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="jointThicknessError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="jointThickness" min="0" step="1" type="number" value="10"/>
               <div aria-live="polite" class="error-message" id="jointThicknessError">
               </div>
              </div>
             </div>
            </div>
            <div class="space-y-6 border-t border-gray-200 pt-6 hidden" id="renderInputs">
             <h3 class="text-lg font-medium text-gray-900">
              2. Rendering Dimensions
             </h3>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="renderArea">
                Total Area (m²)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="renderAreaError" aria-required="false" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="renderArea" min="0" step="1" type="number" value="50"/>
               <div aria-live="polite" class="error-message" id="renderAreaError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="renderThickness">
                Mortar Thickness (mm)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="renderThicknessError" aria-required="false" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="renderThickness" min="0" step="1" type="number" value="15"/>
               <div aria-live="polite" class="error-message" id="renderThicknessError">
               </div>
              </div>
             </div>
            </div>
            <div class="space-y-6 border-t border-gray-200 pt-6">
             <h3 class="text-lg font-medium text-gray-900">
              3. Mortar Mix &amp; Materials
             </h3>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="mortarType">
                Mortar Mix Ratio
                <span class="tooltip-container">
                 <button aria-describedby="mortarTypeTooltip" aria-label="More info on Mortar Types" class="tooltip-button" type="button">
                  <svg class="w-4 h-4 inline-block" fill="currentColor" viewbox="0 0 20 20">
                   <path clip-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" fill-rule="evenodd">
                   </path>
                  </svg>
                 </button>
                 <span class="tooltip-text" id="mortarTypeTooltip" role="tooltip">
                  Ratios are Cement:Lime:Sand. Based on ASTM C270 standards. Select 'Custom' to define your own parts.
                 </span>
                </span>
               </label>
               <select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="mortarType">
                <option value="N">
                 Type N (1:1:6) - General Use
                </option>
                <option value="M">
                 Type M (1:0.25:3.5) - High Strength
                </option>
                <option value="S">
                 Type S (1:0.5:4.5) - Medium-High
                </option>
                <option value="O">
                 Type O (1:2:9) - Low Strength
                </option>
                <option value="custom">
                 Custom Ratio
                </option>
               </select>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="wastage">
                Wastage (%)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="wastageError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="wastage" min="0" step="1" type="number" value="10"/>
               <div aria-live="polite" class="error-message" id="wastageError">
               </div>
              </div>
             </div>
             <div class="hidden grid grid-cols-1 md:grid-cols-3 gap-6 p-4 bg-gray-50 rounded-md border" id="customRatioInputs">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="cementPart">
                Cement Parts
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="cementPartError" aria-required="false" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="cementPart" min="0" step="0.1" type="number" value="1"/>
               <div aria-live="polite" class="error-message" id="cementPartError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="limePart">
                Lime Parts
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="limePartError" aria-required="false" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="limePart" min="0" step="0.1" type="number" value="1"/>
               <div aria-live="polite" class="error-message" id="limePartError">
               </div>
              </div>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="sandPart">
                Sand Parts
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="sandPartError" aria-required="false" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="sandPart" min="0" step="0.1" type="number" value="6"/>
               <div aria-live="polite" class="error-message" id="sandPartError">
               </div>
              </div>
             </div>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
               <label class="block text-sm font-medium text-gray-700" for="cementBagWeight">
                Cement Bag Weight (kg)
                <span class="text-red-600">
                 *
                </span>
               </label>
               <input aria-describedby="cementBagWeightError" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="cementBagWeight" min="0" step="1" type="number" value="25"/>
               <div aria-live="polite" class="error-message" id="cementBagWeightError">
               </div>
              </div>
             </div>
            </div>
           </form>
           <div class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" id="results" style="min-height: 200px;">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">
             Results
            </h3>
            <div class="flex flex-col md:flex-row gap-6">
             <div class="w-full md:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="result-card">
               <h4>
                Total Wet Mortar
               </h4>
               <p id="totalVolumeResult">
                0.00 m³
               </p>
              </div>
              <div class="result-card">
               <h4>
                Cement Required
               </h4>
               <p id="cementResult">
                0 kg (0 bags)
               </p>
              </div>
              <div class="result-card">
               <h4>
                Lime Required
               </h4>
               <p id="limeResult">
                0 kg
               </p>
              </div>
              <div class="result-card">
               <h4>
                Sand Required
               </h4>
               <p id="sandResult">
                0 kg
               </p>
              </div>
             </div>
             <div class="w-full md:w-1/3">
              <div class="h-48" id="results-chart-container">
               <canvas aria-label="Material proportions by weight" id="resultsChart">
               </canvas>
              </div>
             </div>
            </div>
           </div>
          </div>
          <article class="bg-white p-6 rounded-lg shadow-md mt-8 prose prose-blue">
           <h2>
            Data Source &amp; Methodology
           </h2>
           <p>
            All calculations for mortar mix proportions (ratios of cement, lime, and sand) are based on the specifications provided by **ASTM C270 / C270M-19a: Standard Specification for Mortar for Unit Masonry**. This standard defines the requirements for different mortar types (M, S, N, O) based on their properties and intended use.
           </p>
           <p>
            Material volume and weight calculations use standard construction estimation formulas. Key assumptions include:
           </p>
           <ul>
            <li>
             <strong>
              Dry-to-Wet Conversion:
             </strong>
             A bulking/shrinkage factor of **1.33** is used. This means 1.33 m³ of dry materials are required to produce 1 m³ of wet, mixed mortar.
            </li>
            <li>
             <strong>
              Material Densities (approximate):
             </strong>
             <ul>
              <li>
               Portland Cement: $1500 \text{ kg/m³}$
              </li>
              <li>
               Hydrated Lime: $640 \text{ kg/m³}$
              </li>
              <li>
               Dry Building Sand: $1600 \text{ kg/m³}$
              </li>
             </ul>
            </li>
           </ul>
           All calculations are based strictly on the formulas and data provided from these sources.
           <h2>
            The Formulas Explained
           </h2>
           <p>
            The calculation is a multi-step process to determine the weight of each dry ingredient (cement, lime, sand) from your project's dimensions.
           </p>
           <h3>
            1. Calculate Total Wet Mortar Volume ($V_{wet}$)
           </h3>
           <p>
            First, we find the total volume of wet, mixed mortar your project requires.
           </p>
           <p>
            <strong>
             For Rendering / Plastering:
            </strong>
           </p>
           <p class="formula-box">
            $V_{wet} \text{ (m³)} = \text{Area (m²)} \times \text{Thickness (m)}$
           </p>
           <p>
            <strong>
             For Brickwork / Blockwork:
            </strong>
           </p>
           <p>
            We calculate the total volume of the wall and subtract the total volume of the bricks/blocks, leaving only the mortar volume.
           </p>
           <p class="formula-box">
            $V_{wall} = L_{wall} \times H_{wall} \times D_{unit}$
            <br/>
            $N_{units} = \left( \frac{L_{wall}}{L_{unit} + J} \right) \times \left( \frac{H_{wall}}{H_{unit} + J} \right)$
            <br/>
            $V_{units} = N_{units} \times (L_{unit} \times H_{unit} \times D_{unit})$
            <br/>
            $V_{wet} = V_{wall} - V_{units}$
           </p>
           <p>
            Where $J$ is the joint thickness, and all unit dimensions are converted to meters.
           </p>
           <h3>
            2. Calculate Total Dry Mix Volume ($V_{dry}$)
           </h3>
           <p>
            We apply the dry-to-wet conversion factor (bulking factor) to find the total volume of dry, unmixed ingredients needed.
           </p>
           <p class="formula-box">
            $V_{dry} = V_{wet} \times 1.33$
           </p>
           <h3>
            3. Calculate Material Weights ($W$)
           </h3>
           <p>
            Using the mortar mix ratio (e.g., 1:1:6 for Type N), we find the volume of each material and convert it to weight using its density ($\rho$).
           </p>
           <p class="formula-box">
            $P_{total} = P_{cement} + P_{lime} + P_{sand}$
            <br/>
            $W_{material} = \left( \frac{V_{dry} \times P_{material}}{P_{total}} \right) \times \rho_{material}$
           </p>
           <h3>
            4. Apply Wastage ($\%_{waste}$)
           </h3>
           <p>
            Finally, we add the specified wastage percentage to get the final amount you should purchase.
           </p>
           <p class="formula-box">
            $W_{final} = W_{material} \times \left( 1 + \frac{\%_{waste}}{100} \right)$
           </p>
           <h2>
            Glossary of Variables
           </h2>
           <ul class="list-disc list-inside">
            <li>
             <strong>
              Project Type:
             </strong>
             The type of masonry work (brickwork or rendering).
            </li>
            <li>
             <strong>
              Wall Length/Height (m):
             </strong>
             The overall dimensions of your wall.
            </li>
            <li>
             <strong>
              Unit Length/Height/Depth (mm):
             </strong>
             The dimensions of a single brick or block.
            </li>
            <li>
             <strong>
              Mortar Joint (mm):
             </strong>
             The thickness of the mortar gap between units.
            </li>
            <li>
             <strong>
              Area (m²):
             </strong>
             The total surface area to be rendered or plastered.
            </li>
            <li>
             <strong>
              Mortar Thickness (mm):
             </strong>
             The depth of the render or plaster coat.
            </li>
            <li>
             <strong>
              Mortar Mix Ratio:
             </strong>
             The proportional parts of Cement:Lime:Sand.
            </li>
            <li>
             <strong>
              Wastage (%):
             </strong>
             An allowance for material lost to spills, cuts, or over-application.
            </li>
            <li>
             <strong>
              Total Wet Mortar (m³):
             </strong>
             The final volume of mixed mortar required for the job.
            </li>
            <li>
             <strong>
              Material Required (kg):
             </strong>
             The final weight of cement, lime, and sand needed, including wastage.
            </li>
           </ul>
           <h2>
            How It Works: A Step-by-Step Example
           </h2>
           <p>
            Let's calculate the mortar for a garden wall using **Type N mortar**.
           </p>
           <p>
            <strong>
             Inputs:
            </strong>
           </p>
           <ul class="list-disc list-inside">
            <li>
             <strong>
              Project Type:
             </strong>
             Brickwork
            </li>
            <li>
             <strong>
              Wall Length:
             </strong>
             10 m
            </li>
            <li>
             <strong>
              Wall Height:
             </strong>
             2 m
            </li>
            <li>
             <strong>
              Unit (Brick) Length:
             </strong>
             215 mm (0.215 m)
            </li>
            <li>
             <strong>
              Unit (Brick) Height:
             </strong>
             65 mm (0.065 m)
            </li>
            <li>
             <strong>
              Unit (Brick) Depth:
             </strong>
             102.5 mm (0.1025 m)
            </li>
            <li>
             <strong>
              Mortar Joint:
             </strong>
             10 mm (0.01 m)
            </li>
            <li>
             <strong>
              Mortar Type:
             </strong>
             Type N (Ratio 1:1:6)
            </li>
            <li>
             <strong>
              Wastage:
             </strong>
             10%
            </li>
           </ul>
           <p>
            <strong>
             Step 1: Calculate Wall &amp; Unit Volumes
            </strong>
           </p>
           <p>
            $V_{wall} = 10 \text{ m} \times 2 \text{ m} \times 0.1025 \text{ m} = 2.05 \text{ m³}$
           </p>
           <p>
            $N_{units} = (10 / (0.215 + 0.01)) \times (2 / (0.065 + 0.01)) \approx 44.44 \times 26.67 \approx 1185 \text{ units}$
           </p>
           <p>
            $V_{units} = 1185 \times (0.215 \times 0.065 \times 0.1025) \approx 1.694 \text{ m³}$
           </p>
           <p>
            <strong>
             Step 2: Calculate Wet Mortar Volume ($V_{wet}$)
            </strong>
           </p>
           <p>
            $V_{wet} = 2.05 - 1.694 = 0.356 \text{ m³}$
           </p>
           <p>
            <strong>
             Step 3: Calculate Dry Mix Volume ($V_{dry}$)
            </strong>
           </p>
           <p>
            $V_{dry} = 0.356 \times 1.33 = 0.473 \text{ m³}$
           </p>
           <p>
            <strong>
             Step 4: Calculate Material Weights (Type N = 1:1:6, Total Parts = 8)
            </strong>
           </p>
           <p>
            $W_{cement} = ( (0.473 \times 1) / 8 ) \times 1500 \text{ kg/m³} = 88.69 \text{ kg}$
           </p>
           <p>
            $W_{lime} = ( (0.473 \times 1) / 8 ) \times 640 \text{ kg/m³} = 37.84 \text{ kg}$
           </p>
           <p>
            $W_{sand} = ( (0.473 \times 6) / 8 ) \times 1600 \text{ kg/m³} = 567.6 \text{ kg}$
           </p>
           <p>
            <strong>
             Step 5: Apply Wastage (10%)
            </strong>
           </p>
           <p>
            <strong>
             Final Cement:
            </strong>
            $88.69 \times 1.10 = \mathbf{97.56 \text{ kg}}$ (e.g., 4 x 25kg bags)
           </p>
           <p>
            <strong>
             Final Lime:
            </strong>
            $37.84 \times 1.10 = \mathbf{41.62 \text{ kg}}$
           </p>
           <p>
            <strong>
             Final Sand:
            </strong>
            $567.6 \times 1.10 = \mathbf{624.36 \text{ kg}}$ (or 0.62 tonnes)
           </p>
           <h2>
            Frequently Asked Questions (FAQ)
           </h2>
           <details>
            <summary>
             What do the mortar types (M, S, N, O) mean?
            </summary>
            <p>
             These are standard classifications from ASTM C270, ranked by compressive strength.
             <strong>
              Type M
             </strong>
             has the highest strength and is used for heavy loads or below-grade applications (e.g., foundations).
             <strong>
              Type S
             </strong>
             is medium-high strength, good for structural walls and areas with high wind or seismic activity.
             <strong>
              Type N
             </strong>
             is a medium-strength, general-purpose mortar suitable for most above-grade, non-load-bearing walls.
             <strong>
              Type O
             </strong>
             is a low-strength mortar used for interior, non-load-bearing walls and for repointing historic masonry, as its softness prevents damage to old bricks.
            </p>
           </details>
           <details>
            <summary>
             How much water do I need to add?
            </summary>
            <p>
             This calculator determines the dry materials (cement, lime, sand). The amount of water required is not fixed; it depends on the moisture content of your sand, humidity, and temperature. The best practice is to add water slowly to your dry mix until you achieve a "workable" consistency—it should be stiff enough to hold its shape but wet enough to spread easily and bond to the units.
            </p>
           </details>
           <details>
            <summary>
             What is the dry-to-wet conversion factor (bulking)?
            </summary>
            <p>
             Dry materials, especially sand, take up more volume than when they are wet and mixed. The "bulking factor" (we use 1.33, or 33%) accounts for this shrinkage. We calculate the volume of dry materials needed so that after mixing with water, you end up with the exact volume of wet mortar your project requires.
            </p>
           </details>
           <details>
            <summary>
             Can I use this calculator for repointing?
            </summary>
            <p>
             Yes. The 'Rendering / Plastering' mode is suitable for this. First, measure the total length of all the joints you need to repoint. Multiply this length by the joint depth and joint width to get the total volume. Alternatively, estimate the total surface area of the wall (e.g., 10 m²) and assume the joints make up ~20% of that (2 m²). Then, use the 'Rendering' mode with this area (2 m²) and your joint depth as the 'Mortar Thickness'. Use a low-strength mix like Type O for repointing.
            </p>
           </details>
           <details>
            <summary>
             Why is lime included in mortar?
            </summary>
            <p>
             While cement provides strength, lime provides flexibility, "workability," and breathability. A mortar with lime is less prone to cracking with temperature changes and allows moisture to escape from the wall, which is crucial for the long-term health of the masonry.
            </p>
           </details>
           <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
            <p>
             <strong>
              Tool developed by Ugo Candido.
             </strong>
             Construction methodologies reviewed by the CalcDomain Editorial Board.
             <br/>
             Last accuracy review:
             <time datetime="2025-10-31">
              October 31, 2025
             </time>
            </p>
           </div>
          </article>
         </section>
         <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-6">
           <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
            Ad Placement (300×600)
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-3">
             Why use this calculator
            </h3>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
             <li>
              Get all-in-one estimates for brickwork, blockwork, and rendering.
             </li>
             <li>
              Avoid over-buying with precise calculations including a custom wastage factor.
             </li>
             <li>
              Understand the "why" with transparent formulas and methodology (E-E-A-T).
             </li>
             <li>
              Uses authoritative ASTM C270 standard mortar types for professional results.
             </li>
            </ul>
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-4">
             Related Construction Tools
            </h3>
            <ul class="space-y-3 text-sm">
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/concrete-calculator">
               Concrete Slab Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/brick-calculator">
               Brick Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/paint-calculator">
               Paint Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/drywall-calculator">
               Drywall Calculator
              </a>
             </li>
            </ul>
           </div>
          </div>
         </aside>
        </div>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <script>
   document.addEventListener('DOMContentLoaded', () => {
// --- 1. DOM Element Cache ---
const elements = {
// Project Type Radios
projectTypeBrickwork: document.getElementById('projectBrickwork'),
projectTypeRender: document.getElementById('projectRender'),
// Input Containers
brickworkInputs: document.getElementById('brickworkInputs'),
renderInputs: document.getElementById('renderInputs'),
customRatioInputs: document.getElementById('customRatioInputs'),
// Brickwork Inputs
wallLength: document.getElementById('wallLength'),
wallHeight: document.getElementById('wallHeight'),
unitLength: document.getElementById('unitLength'),
unitHeight: document.getElementById('unitHeight'),
unitDepth: document.getElementById('unitDepth'),
jointThickness: document.getElementById('jointThickness'),
// Render Inputs
renderArea: document.getElementById('renderArea'),
renderThickness: document.getElementById('renderThickness'),
// Mix & Material Inputs
mortarType: document.getElementById('mortarType'),
wastage: document.getElementById('wastage'),
cementBagWeight: document.getElementById('cementBagWeight'),
// Custom Ratio Inputs
cementPart: document.getElementById('cementPart'),
limePart: document.getElementById('limePart'),
sandPart: document.getElementById('sandPart'),
// Result Outputs
totalVolumeResult: document.getElementById('totalVolumeResult'),
cementResult: document.getElementById('cementResult'),
limeResult: document.getElementById('limeResult'),
sandResult: document.getElementById('sandResult'),
// Chart
resultsChart: document.getElementById('resultsChart')
};

// --- 2. State & Constants ---
let chartInstance = null;
const DENSITIES = {
cement: 1500, // kg/m³
lime: 640,   // kg/m³
sand: 1600   // kg/m³
};
const DRY_TO_WET_FACTOR = 1.33;
const MORTAR_RATIOS = {
'M': { C: 1, L: 0.25, S: 3.5 },
'S': { C: 1, L: 0.5, S: 4.5 },
'N': { C: 1, L: 1, S: 6 },
'O': { C: 1, L: 2, S: 9 }
};

// --- 3. Helper Functions ---

/**
* Formats a number as a string with fixed decimal places.
* @param {number} value - The number to format.
* @param {number} [digits=2] - The number of decimal places.
* @returns {string}
*/
const fmt = (value, digits = 2) => (value || 0).toFixed(digits);

/**
* Validates an input field, shows/hides error, sets ARIA attributes.
* @param {HTMLInputElement} input - The input element.
* @param {HTMLElement} errorEl - The error message div.
* @param {string} message - The error message to show.
* @returns {boolean} - True if valid, false if invalid.
*/
function validateInput(input, errorEl, message = "Value must be greater than 0") {
const value = parseFloat(input.value);
if (isNaN(value) || value <= 0) {
errorEl.textContent = message;
input.setAttribute('aria-invalid', 'true');
return false;
}
errorEl.textContent = '';
input.setAttribute('aria-invalid', 'false');
return true;
}

/**
* Toggles visibility of input sections based on Project Type.
*/
function toggleProjectInputs() {
const projectType = document.querySelector('input[name="projectType"]:checked').value;
const isBrickwork = projectType === 'brickwork';

elements.brickworkInputs.style.display = isBrickwork ? 'block' : 'none';
elements.renderInputs.style.display = isBrickwork ? 'none' : 'block';

// Toggle aria-required for inputs based on visibility
const brickInputs = [elements.wallLength, elements.wallHeight, elements.unitLength, elements.unitHeight, elements.unitDepth, elements.jointThickness];
const renderInputs = [elements.renderArea, elements.renderThickness];

brickInputs.forEach(input => input.setAttribute('aria-required', isBrickwork));
renderInputs.forEach(input => input.setAttribute('aria-required', !isBrickwork));

// Re-run calculation when toggling
calculateMortar();
}

/**
* Toggles visibility of custom ratio fields.
*/
function toggleCustomRatio() {
const isCustom = elements.mortarType.value === 'custom';
elements.customRatioInputs.style.display = isCustom ? 'grid' : 'none';

// Toggle aria-required
const customInputs = [elements.cementPart, elements.limePart, elements.sandPart];
customInputs.forEach(input => input.setAttribute('aria-required', isCustom));

calculateMortar();
}

/**
* Renders or updates the results chart.
* @param {number} cement - Weight of cement.
* @param {number} lime - Weight of lime.
* @param {number} sand - Weight of sand.
*/
function renderChart(cement, lime, sand) {
const ctx = elements.resultsChart;
if (!ctx) return;

const data = {
labels: ['Cement', 'Lime', 'Sand'],
datasets: [{
data: [Math.max(0, cement), Math.max(0, lime), Math.max(0, sand)],
backgroundColor: ['#6b7280', '#d1d5db', '#f59e0b'], // Gray-500, Gray-300, Amber-500
borderColor: '#f9fafb', // bg-blue-50
}]
};

if (chartInstance) {
chartInstance.data = data;
chartInstance.update();
} else {
chartInstance = new Chart(ctx, {
type: 'doughnut',
data: data,
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
position: 'right',
labels: {
boxWidth: 12,
padding: 10,
font: { size: 10 }
}
},
tooltip: {
callbacks: {
label: (context) => {
const label = context.label || '';
const value = context.parsed || 0;
const total = context.chart.getDataVisibility().reduce((a, b) => a + b, 0);
const percentage = ((value / total) * 100).toFixed(1);
return ` ${label}: ${fmt(value)} kg (${percentage}%)`;
}
}
}
}
},
});
}
}

/**
* Updates all output fields in the UI.
* @param {object} results - An object containing calculated values.
*/
function updateOutputs(results) {
elements.totalVolumeResult.textContent = `${fmt(results.wetVolume, 3)} m³`;
elements.cementResult.textContent = `${fmt(results.cementWeight)} kg (${results.cementBags} bags)`;
elements.limeResult.textContent = `${fmt(results.limeWeight)} kg`;
elements.sandResult.textContent = `${fmt(results.sandWeight)} kg`;
renderChart(results.cementWeight, results.limeWeight, results.sandWeight);
}

// --- 4. Core Calculation Logic ---

function calculateMortar() {
let isValid = true;
const projectType = document.querySelector('input[name="projectType"]:checked').value;

// --- 4a. Validation ---
if (projectType === 'brickwork') {
isValid = validateInput(elements.wallLength, document.getElementById('wallLengthError')) && isValid;
isValid = validateInput(elements.wallHeight, document.getElementById('wallHeightError')) && isValid;
isValid = validateInput(elements.unitLength, document.getElementById('unitLengthError')) && isValid;
isValid = validateInput(elements.unitHeight, document.getElementById('unitHeightError')) && isValid;
isValid = validateInput(elements.unitDepth, document.getElementById('unitDepthError')) && isValid;
isValid = validateInput(elements.jointThickness, document.getElementById('jointThicknessError')) && isValid;
} else {
isValid = validateInput(elements.renderArea, document.getElementById('renderAreaError')) && isValid;
isValid = validateInput(elements.renderThickness, document.getElementById('renderThicknessError')) && isValid;
}

isValid = validateInput(elements.wastage, document.getElementById('wastageError'), "Value must be 0 or greater") && isValid;
isValid = validateInput(elements.cementBagWeight, document.getElementById('cementBagWeightError')) && isValid;

// Get ratios
let ratios;
if (elements.mortarType.value === 'custom') {
isValid = validateInput(elements.cementPart, document.getElementById('cementPartError')) && isValid;
isValid = validateInput(elements.limePart, document.getElementById('limePartError'), "Value must be 0 or greater") && isValid;
isValid = validateInput(elements.sandPart, document.getElementById('sandPartError')) && isValid;
ratios = {
C: parseFloat(elements.cementPart.value) || 0,
L: parseFloat(elements.limePart.value) || 0,
S: parseFloat(elements.sandPart.value) || 0
};
} else {
ratios = MORTAR_RATIOS[elements.mortarType.value];
}

const totalParts = ratios.C + ratios.L + ratios.S;
if (totalParts <= 0) {
isValid = false;
// Optionally show a general error
}

if (!isValid) {
updateOutputs({ wetVolume: 0, cementWeight: 0, limeWeight: 0, sandWeight: 0, cementBags: 0 });
return;
}

// --- 4b. Get Values & Convert to Meters ---
let wetVolume = 0;
if (projectType === 'brickwork') {
const wallL_m = parseFloat(elements.wallLength.value);
const wallH_m = parseFloat(elements.wallHeight.value);
const unitL_m = parseFloat(elements.unitLength.value) / 1000;
const unitH_m = parseFloat(elements.unitHeight.value) / 1000;
const unitD_m = parseFloat(elements.unitDepth.value) / 1000;
const joint_m = parseFloat(elements.jointThickness.value) / 1000;

const totalWallVolume = wallL_m * wallH_m * unitD_m;
const numUnitsL = wallL_m / (unitL_m + joint_m);
const numUnitsH = wallH_m / (unitH_m + joint_m);
const totalUnits = numUnitsL * numUnitsH;
const totalUnitVolume = totalUnits * (unitL_m * unitH_m * unitD_m);

wetVolume = totalWallVolume - totalUnitVolume;
} else {
const area_m2 = parseFloat(elements.renderArea.value);
const thickness_m = parseFloat(elements.renderThickness.value) / 1000;
wetVolume = area_m2 * thickness_m;
}

if (wetVolume < 0) wetVolume = 0;

// --- 4c. Calculate Materials ---
const dryVolume = wetVolume * DRY_TO_WET_FACTOR;
const wastageFactor = 1 + (parseFloat(elements.wastage.value) / 100);

const volCement = (dryVolume * ratios.C) / totalParts;
const volLime = (dryVolume * ratios.L) / totalParts;
const volSand = (dryVolume * ratios.S) / totalParts;

const cementWeight = volCement * DENSITIES.cement * wastageFactor;
const limeWeight = volLime * DENSITIES.lime * wastageFactor;
const sandWeight = volSand * DENSITIES.sand * wastageFactor;

const bagWeight = parseFloat(elements.cementBagWeight.value) || 25;
const cementBags = Math.ceil(cementWeight / bagWeight);

// --- 4d. Update UI ---
updateOutputs({
wetVolume,
cementWeight,
limeWeight,
sandWeight,
cementBags
});
}

// --- 5. Event Listeners ---
const allInputs = [
elements.wallLength, elements.wallHeight, elements.unitLength, elements.unitHeight,
elements.unitDepth, elements.jointThickness, elements.renderArea, elements.renderThickness,
elements.mortarType, elements.wastage, elements.cementBagWeight,
elements.cementPart, elements.limePart, elements.sandPart
];

allInputs.forEach(input => {
input.addEventListener('input', calculateMortar);
});

elements.projectTypeBrickwork.addEventListener('change', toggleProjectInputs);
elements.projectTypeRender.addEventListener('change', toggleProjectInputs);
elements.mortarType.addEventListener('change', toggleCustomRatio);

// Mobile menu toggle
document.getElementById('mobile-menu-toggle').addEventListener('click', function() {
const menu = document.getElementById('mobile-menu');
const isExpanded = this.getAttribute('aria-expanded') === 'true';
this.setAttribute('aria-expanded', !isExpanded);
menu.classList.toggle('hidden');
});

// --- 6. Initial Run ---
toggleProjectInputs(); // Sets initial visibility and runs first calculation
toggleCustomRatio();   // Sets initial custom ratio visibility
calculateMortar();     // Run on load
});
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
