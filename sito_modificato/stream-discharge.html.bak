<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/stream-discharge" />
    <title>Stream Discharge Calculator: [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Stream Discharge Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Stream Discharge Calculator: [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Stream Discharge Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/stream-discharge" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Stream Discharge Calculator: [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Stream Discharge Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Mechanical Engineering Now Tools &", "item": "https://calcdomain.com/subcategories/engineering-mechanical"}, {"@type": "ListItem", "position": 4, "name": "Stream Discharge Calculator", "item": "https://calcdomain.com/stream-discharge"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/engineering-mechanical" class="text-blue-600 hover:underline">Mechanical Engineering Now Tools &amp;</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Stream Discharge Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Stream Discharge Calculator
              </h1>
              <p class="text-gray-600">
                Estimate river and streamflow using velocity–area (mid‑section),
                simple rectangular cross‑section, or float methods. Designed for
                hydrology students, field technicians, and environmental
                scientists.
              </p>
            </header>

            <!-- Method Tabs -->
            <div class="mb-6">
              <div
                class="inline-flex rounded-md shadow-sm border border-gray-200 bg-gray-50"
                role="tablist"
              >
                <button
                  id="tab-rect"
                  type="button"
                  class="px-3 py-2 text-sm font-medium rounded-l-md bg-white text-blue-600 border-r border-gray-200"
                  data-method="rect"
                >
                  Simple Cross‑Section
                </button>
                <button
                  id="tab-mid"
                  type="button"
                  class="px-3 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 border-r border-gray-200"
                  data-method="mid"
                >
                  Mid‑Section (Velocity–Area)
                </button>
                <button
                  id="tab-float"
                  type="button"
                  class="px-3 py-2 text-sm font-medium rounded-r-md text-gray-700 hover:text-blue-600"
                  data-method="float"
                >
                  Float Method
                </button>
              </div>
            </div>

            <!-- Unit System -->
            <div class="mb-4 flex flex-wrap items-center gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Unit system</label
                >
                <select
                  id="unit-system"
                  class="border border-gray-300 rounded-md px-3 py-2 text-sm"
                >
                  <option value="si">SI (m, s, m³/s)</option>
                  <option value="us">US Customary (ft, s, cfs)</option>
                </select>
              </div>
              <p class="text-xs text-gray-500 max-w-md">
                The calculator automatically adjusts labels and keeps units
                consistent.
              </p>
            </div>

            <!-- Simple Rectangular Cross-Section Method -->
            <section id="panel-rect" data-panel="rect" class="mb-6">
              <h2 class="text-lg font-semibold mb-2">
                1. Simple Rectangular Cross‑Section
              </h2>
              <p class="text-sm text-gray-600 mb-3">
                Use this when the stream has a roughly rectangular cross‑section
                and a fairly uniform velocity.
              </p>
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Width
                    <span class="text-gray-400" id="label-width-unit">(m)</span>
                  </label>
                  <input
                    type="number"
                    id="rect-width"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 4.5"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Average depth
                    <span class="text-gray-400" id="label-depth-unit">(m)</span>
                  </label>
                  <input
                    type="number"
                    id="rect-depth"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 0.8"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Average velocity
                    <span class="text-gray-400" id="label-vel-unit">(m/s)</span>
                  </label>
                  <input
                    type="number"
                    id="rect-velocity"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 0.6"
                  />
                </div>
              </div>
              <button
                id="btn-calc-rect"
                class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
              >
                Calculate discharge
              </button>
            </section>

            <!-- Mid-Section Velocity–Area Method -->
            <section id="panel-mid" data-panel="mid" class="mb-6 hidden">
              <h2 class="text-lg font-semibold mb-2">
                2. Mid‑Section Velocity–Area Method
              </h2>
              <p class="text-sm text-gray-600 mb-3">
                Standard hydrometric method: divide the stream into vertical
                subsections, measure depth and velocity at each vertical, then
                sum the partial discharges.
              </p>

              <div class="mb-3 flex flex-wrap items-center gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Number of verticals</label
                  >
                  <input
                    type="number"
                    id="mid-n"
                    min="2"
                    max="50"
                    value="6"
                    class="w-24 border border-gray-300 rounded-md px-3 py-2 text-sm"
                  />
                </div>
                <button
                  id="btn-generate-mid"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-800 text-xs font-medium rounded-md hover:bg-gray-200"
                >
                  Generate table
                </button>
                <p class="text-xs text-gray-500">
                  Positions are measured along the cross‑section from the left
                  bank.
                </p>
              </div>

              <div class="scroll-shadow overflow-x-auto mb-3">
                <table
                  class="min-w-full text-xs border border-gray-200 bg-gray-50"
                >
                  <thead class="bg-gray-100">
                    <tr>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Vertical
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Distance from left bank
                        <span id="label-mid-x-unit">(m)</span>
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Depth <span id="label-mid-d-unit">(m)</span>
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Velocity <span id="label-mid-v-unit">(m/s)</span>
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Sub‑area <span id="label-mid-a-unit">(m²)</span>
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold input-grid-header"
                      >
                        Sub‑discharge <span id="label-mid-q-unit">(m³/s)</span>
                      </th>
                    </tr>
                  </thead>
                  <tbody id="mid-table-body" class="bg-white">
                    <!-- Rows generated by JS -->
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500 mb-3">
                For mid‑section method, the width of each subsection is half the
                distance to the adjacent verticals on either side. The
                calculator computes sub‑areas and partial discharges
                automatically.
              </p>
              <button
                id="btn-calc-mid"
                class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
              >
                Calculate discharge
              </button>
            </section>

            <!-- Float Method -->
            <section id="panel-float" data-panel="float" class="mb-6 hidden">
              <h2 class="text-lg font-semibold mb-2">3. Float Method</h2>
              <p class="text-sm text-gray-600 mb-3">
                Quick, low‑precision method using a floating object to estimate
                surface velocity. The calculator applies a correction factor to
                approximate mean velocity.
              </p>

              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Reach length
                    <span class="text-gray-400" id="label-float-L-unit"
                      >(m)</span
                    >
                  </label>
                  <input
                    type="number"
                    id="float-length"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 10"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Travel time <span class="text-gray-400">(s)</span>
                  </label>
                  <input
                    type="number"
                    id="float-time"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 12"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Correction factor k
                  </label>
                  <input
                    type="number"
                    id="float-k"
                    step="0.01"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    value="0.85"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Typical range 0.8–0.9 (mean velocity ≈ k × surface
                    velocity).
                  </p>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Average width
                    <span class="text-gray-400" id="label-float-W-unit"
                      >(m)</span
                    >
                  </label>
                  <input
                    type="number"
                    id="float-width"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 4"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Average depth
                    <span class="text-gray-400" id="label-float-D-unit"
                      >(m)</span
                    >
                  </label>
                  <input
                    type="number"
                    id="float-depth"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                    placeholder="e.g. 0.6"
                  />
                </div>
              </div>

              <button
                id="btn-calc-float"
                class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
              >
                Calculate discharge
              </button>
            </section>

            <!-- Results -->
            <section aria-live="polite" class="mb-6">
              <h2 class="text-lg font-semibold mb-2">Results</h2>
              <div
                id="results-card"
                class="border border-gray-200 rounded-md p-4 bg-gray-50"
              >
                <p id="results-main" class="text-sm text-gray-800 mb-2">
                  Enter your measurements and click “Calculate discharge” to see
                  results here.
                </p>
                <ul
                  id="results-details"
                  class="text-xs text-gray-600 space-y-1"
                ></ul>
              </div>
            </section>

            <!-- Theory & Formulas -->
            <section class="prose text-sm">
              <h2>How stream discharge is calculated</h2>
              <p>
                Stream discharge (also called streamflow) is the volume of water
                that passes a cross‑section of a river or stream per unit time.
                It is usually denoted by \(Q\) and expressed in cubic meters per
                second (m³/s) or cubic feet per second (cfs).
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Basic discharge equation</p>
                <p class="mb-1">\[ Q = A \times \bar{v} \]</p>
                <ul class="mb-0">
                  <li>\(Q\) = discharge (m³/s or ft³/s)</li>
                  <li>\(A\) = cross‑sectional area of flow (m² or ft²)</li>
                  <li>
                    \(\bar{v}\) = average velocity across the section (m/s or
                    ft/s)
                  </li>
                </ul>
              </div>

              <h3>1. Simple rectangular cross‑section</h3>
              <p>
                For a roughly rectangular channel with uniform depth and
                velocity:
              </p>
              <div class="formula-box">
                \[ A = b \times d \] \[ Q = b \times d \times \bar{v} \]
                <ul>
                  <li>\(b\) = width of the stream</li>
                  <li>\(d\) = average depth</li>
                </ul>
              </div>
              <p>
                This is appropriate for small, fairly uniform channels (e.g.,
                flumes, irrigation ditches) or for quick classroom examples.
              </p>

              <h3>2. Mid‑section velocity–area method</h3>
              <p>
                Professional hydrologists (e.g., USGS, national hydrometric
                services) typically use the velocity–area method. The
                cross‑section is divided into vertical subsections; depth and
                velocity are measured at each vertical, and the discharge is
                summed:
              </p>
              <div class="formula-box">
                <p class="font-semibold mb-1">Subsection discharge</p>
                <p class="mb-1">
                  \[ Q_i = A_i \times v_i \] \[ Q = \sum_{i=1}^{n} Q_i \]
                </p>
                <p class="font-semibold mb-1">Mid‑section area approximation</p>
                <p class="mb-0">
                  For vertical \(i\) at distance \(x_i\) from the left bank and
                  depth \(d_i\), with neighboring verticals at \(x_{i-1}\) and
                  \(x_{i+1}\): \[ w_i = \frac{x_{i+1} - x_{i-1}}{2} \] \[ A_i =
                  w_i \times d_i \]
                </p>
              </div>
              <p>
                At the end verticals, the width is taken as half the distance to
                the adjacent vertical, assuming negligible flow at the banks.
                Velocity is often measured at 0.6 depth for shallow water, or
                averaged between 0.2 and 0.8 depth for deeper water.
              </p>

              <h3>3. Float method</h3>
              <p>
                When you do not have a current meter, you can estimate discharge
                using a floating object:
              </p>
              <ol>
                <li>Measure a straight reach of length \(L\).</li>
                <li>
                  Release a float at the upstream end and measure travel time
                  \(t\).
                </li>
                <li>Compute surface velocity \(v_s = L / t\).</li>
                <li>
                  Estimate mean velocity \(\bar{v} = k \, v_s\), where \(k\) is
                  a correction factor (typically 0.8–0.9).
                </li>
                <li>
                  Estimate cross‑sectional area \(A\) from average width and
                  depth.
                </li>
                <li>Compute \(Q = A \times \bar{v}\).</li>
              </ol>
              <div class="formula-box">
                \[ v_s = \frac{L}{t}, \quad \bar{v} = k \, v_s, \quad Q = A
                \times \bar{v} \]
              </div>
              <p>
                The float method is useful for citizen science and rapid
                reconnaissance, but it is less accurate than the mid‑section
                method and should be used with caution.
              </p>

              <h3>Choosing the right method</h3>
              <ul>
                <li>
                  <strong>Simple cross‑section</strong> – small, uniform
                  channels; quick estimates.
                </li>
                <li>
                  <strong>Mid‑section velocity–area</strong> – standard method
                  for accurate discharge measurements.
                </li>
                <li>
                  <strong>Float method</strong> – when instruments are
                  unavailable; educational or reconnaissance use.
                </li>
              </ul>

              <h3>Common sources of error</h3>
              <ul>
                <li>
                  <strong>Too few verticals</strong> – under‑representing
                  variations in depth and velocity.
                </li>
                <li>
                  <strong>Poor vertical placement</strong> – missing deep pools
                  or fast thalweg zones.
                </li>
                <li>
                  <strong>Unsteady flow</strong> – water level changing during
                  the measurement.
                </li>
                <li>
                  <strong>Float snagging or wind effects</strong> – biasing
                  surface velocity.
                </li>
                <li>
                  <strong>Incorrect units</strong> – mixing meters and feet or
                  inconsistent time units.
                </li>
              </ul>

              <h3>Safety notes</h3>
              <p>
                Never enter fast, deep, or debris‑laden water. Use wading rods,
                safety lines, and personal flotation devices as appropriate, and
                follow your organization’s safety protocols.
              </p>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-lg font-semibold mb-3">Stream discharge FAQ</h2>
              <div class="space-y-3" id="faq-container">
                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 text-sm font-medium flex justify-between items-center faq-question"
                  >
                    <span>What is stream discharge?</span>
                    <span class="text-gray-400 text-xs">+</span>
                  </button>
                  <div class="px-4 pb-3 text-sm text-gray-600 hidden">
                    Stream discharge is the volume of water flowing past a
                    cross‑section of a stream per unit time. It integrates both
                    the size of the channel (area) and how fast the water is
                    moving (velocity), and is a key variable for flood analysis,
                    habitat assessment, sediment transport, and water resources
                    management.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 text-sm font-medium flex justify-between items-center faq-question"
                  >
                    <span
                      >How accurate is the float method compared to the
                      mid‑section method?</span
                    >
                    <span class="text-gray-400 text-xs">+</span>
                  </button>
                  <div class="px-4 pb-3 text-sm text-gray-600 hidden">
                    The float method is generally much less accurate. It only
                    samples surface velocity and relies on an empirical
                    correction factor to estimate mean velocity. In contrast,
                    the mid‑section method samples velocity and depth throughout
                    the cross‑section and is the standard for professional
                    discharge measurements. Use the float method for rough
                    estimates or educational purposes, not for critical design
                    or regulatory work.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 text-sm font-medium flex justify-between items-center faq-question"
                  >
                    <span
                      >How many verticals should I use in the mid‑section
                      method?</span
                    >
                    <span class="text-gray-400 text-xs">+</span>
                  </button>
                  <div class="px-4 pb-3 text-sm text-gray-600 hidden">
                    Professional guidelines often recommend at least 20–30
                    verticals, with each subsection contributing no more than
                    about 5% of the total discharge. For small streams or
                    teaching labs, 6–15 verticals are common. More verticals are
                    especially important where depth or velocity changes rapidly
                    across the channel.
                  </div>
                </div>
                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 text-sm font-medium flex justify-between items-center faq-question"
                  >
                    <span>Should I use m³/s or cfs for discharge?</span>
                    <span class="text-gray-400 text-xs">+</span>
                  </button>
                  <div class="px-4 pb-3 text-sm text-gray-600 hidden">
                    Use m³/s (cubic meters per second) if you are working in SI
                    units, which is standard in most scientific publications and
                    many countries. Use cfs (cubic feet per second) if you are
                    working with US customary units or legacy datasets. The
                    underlying physics is the same; just keep your units
                    consistent for length, area, velocity, and discharge.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Unit system SI (m, s, m³/s) US Customary (ft, s, cfs) The calculator automatically adjusts labels and keeps units consistent. 1. Simple Rectangular Cross‑Section Use this when the stream has a roughly rectangular cross‑section and a fairly uniform velocity. Width (m)</li><li>Average depth (m)</li><li>Average velocity (m/s)</li><li>Number of verticals Generate table Positions are measured along the cross‑section from the left bank. Vertical Distance from left bank (m) Depth (m) Velocity (m/s) Sub‑area (m²) Sub‑discharge (m³/s) For mid‑section method, the width of each subsection is half the distance to the adjacent verticals on either side. The calculator computes sub‑areas and partial discharges automatically. Calculate discharge 3. Float Method Quick, low‑precision method using a floating object to estimate surface velocity. The calculator applies a correction factor to approximate mean velocity. Reach length (m)</li><li>Travel time (s)</li><li>Correction factor k</li><li>Average width (m)</li><li>Average depth (m)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Stream, Discharge, Unit system SI (m, s, m³/s) US Customary (ft, s, cfs) The calculator automatically adjusts labels and keeps units consistent. 1. Simple Rectangular Cross‑Section Use this when the stream has a roughly rectangular cross‑section and a fairly uniform velocity. Width (m), Average depth (m), Average velocity (m/s), Number of verticals Generate table Positions are measured along the cross‑section from the left bank. Vertical Distance from left bank (m) Depth (m) Velocity (m/s) Sub‑area (m²) Sub‑discharge (m³/s) For mid‑section method, the width of each subsection is half the distance to the adjacent verticals on either side. The calculator computes sub‑areas and partial discharges automatically. Calculate discharge 3. Float Method Quick, low‑precision method using a floating object to estimate surface velocity. The calculator applies a correction factor to approximate mean velocity. Reach length (m), Travel time (s), Correction factor k.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Unit system SI (m, s, m³/s) US Customary (ft, s, cfs) The calculator automatically adjusts labels and keeps units consistent. 1. Simple Rectangular Cross‑Section Use this when the stream has a roughly rectangular cross‑section and a fairly uniform velocity. Width (m)</li><li>Average depth (m)</li><li>Average velocity (m/s)</li><li>Number of verticals Generate table Positions are measured along the cross‑section from the left bank. Vertical Distance from left bank (m) Depth (m) Velocity (m/s) Sub‑area (m²) Sub‑discharge (m³/s) For mid‑section method, the width of each subsection is half the distance to the adjacent verticals on either side. The calculator computes sub‑areas and partial discharges automatically. Calculate discharge 3. Float Method Quick, low‑precision method using a floating object to estimate surface velocity. The calculator applies a correction factor to approximate mean velocity. Reach length (m)</li><li>Travel time (s)</li><li>Correction factor k</li><li>Average width (m)</li><li>Average depth (m)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/stream-discharge"
                  class="text-blue-600 hover:underline"
                  >Stream Discharge</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/manning-s-equation-calculator"
                  class="text-blue-600 hover:underline"
                  >Manning's Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/darcys-law"
                  class="text-blue-600 hover:underline"
                  >Darcy's Law Groundwater Flow</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rational-method"
                  class="text-blue-600 hover:underline"
                  >Rational Method Runoff</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/time-of-concentration"
                  class="text-blue-600 hover:underline"
                  >Time of Concentration</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/detention-pond"
                  class="text-blue-600 hover:underline"
                  >Detention Pond Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/river-discharge"
                  class="text-blue-600 hover:underline"
                  >River Discharge (if available)</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Popular Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reynolds-number"
                  class="text-blue-600 hover:underline"
                  >Reynolds Number</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bernoulli-equation"
                  class="text-blue-600 hover:underline"
                  >Bernoulli's Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hazen-williams"
                  class="text-blue-600 hover:underline"
                  >Pipe Flow (Hazen–Williams)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/darcy-weisbach"
                  class="text-blue-600 hover:underline"
                  >Pipe Flow (Darcy–Weisbach)</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: format number
      function fmt(x, decimals = 3) {
        if (isNaN(x) || !isFinite(x)) return "—";
        return Number(x).toFixed(decimals);
      }

      // Unit handling
      const unitSystemEl = document.getElementById("unit-system");
      const labels = {
        si: {
          width: "(m)",
          depth: "(m)",
          vel: "(m/s)",
          area: "(m²)",
          q: "(m³/s)",
          L: "(m)",
          W: "(m)",
          D: "(m)",
        },
        us: {
          width: "(ft)",
          depth: "(ft)",
          vel: "(ft/s)",
          area: "(ft²)",
          q: "(ft³/s)",
          L: "(ft)",
          W: "(ft)",
          D: "(ft)",
        },
      };

      function updateUnitLabels() {
        const u = unitSystemEl.value;
        document.getElementById("label-width-unit").textContent =
          labels[u].width;
        document.getElementById("label-depth-unit").textContent =
          labels[u].depth;
        document.getElementById("label-vel-unit").textContent = labels[u].vel;

        document.getElementById("label-mid-x-unit").textContent =
          labels[u].width;
        document.getElementById("label-mid-d-unit").textContent =
          labels[u].depth;
        document.getElementById("label-mid-v-unit").textContent = labels[u].vel;
        document.getElementById("label-mid-a-unit").textContent =
          labels[u].area;
        document.getElementById("label-mid-q-unit").textContent = labels[u].q;

        document.getElementById("label-float-L-unit").textContent = labels[u].L;
        document.getElementById("label-float-W-unit").textContent = labels[u].W;
        document.getElementById("label-float-D-unit").textContent = labels[u].D;
      }

      unitSystemEl.addEventListener("change", updateUnitLabels);
      updateUnitLabels();

      // Tabs
      const tabs = document.querySelectorAll("[data-method]");
      const panels = document.querySelectorAll("[data-panel]");
      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const method = tab.getAttribute("data-method");
          tabs.forEach((t) => {
            t.classList.remove("bg-white", "text-blue-600");
            t.classList.add("text-gray-700");
          });
          tab.classList.add("bg-white", "text-blue-600");
          panels.forEach((p) => {
            p.classList.toggle(
              "hidden",
              p.getAttribute("data-panel") !== method
            );
          });
        });
      });

      // Results helpers
      const resultsMain = document.getElementById("results-main");
      const resultsDetails = document.getElementById("results-details");

      function showResult(summary, details = []) {
        resultsMain.textContent = summary;
        resultsDetails.innerHTML = "";
        details.forEach((d) => {
          const li = document.createElement("li");
          li.textContent = d;
          resultsDetails.appendChild(li);
        });
      }

      function showError(msg) {
        showResult(msg, []);
      }

      // Rectangular method
      document.getElementById("btn-calc-rect").addEventListener("click", () => {
        const b = parseFloat(document.getElementById("rect-width").value);
        const d = parseFloat(document.getElementById("rect-depth").value);
        const v = parseFloat(document.getElementById("rect-velocity").value);
        if ([b, d, v].some((x) => isNaN(x) || x <= 0)) {
          showError(
            "Please enter positive values for width, depth, and velocity for the simple cross‑section method."
          );
          return;
        }
        const A = b * d;
        const Q = A * v;
        const u = unitSystemEl.value;
        const qUnit = u === "si" ? "m³/s" : "ft³/s";
        const aUnit = u === "si" ? "m²" : "ft²";
        showResult(
          `Estimated discharge Q ≈ ${fmt(
            Q,
            3
          )} ${qUnit} (simple rectangular cross‑section).`,
          [
            `Cross‑sectional area A = width × depth = ${fmt(b, 3)} × ${fmt(
              d,
              3
            )} = ${fmt(A, 3)} ${aUnit}.`,
            `Average velocity v = ${fmt(v, 3)} ${u === "si" ? "m/s" : "ft/s"}.`,
            `Discharge Q = A × v = ${fmt(A, 3)} × ${fmt(v, 3)} = ${fmt(
              Q,
              3
            )} ${qUnit}.`,
          ]
        );
      });

      // Mid-section table generation
      const midTableBody = document.getElementById("mid-table-body");
      function generateMidTable(n) {
        midTableBody.innerHTML = "";
        const count = Math.max(2, Math.min(50, n || 6));
        const widthGuess = 10;
        for (let i = 0; i < count; i++) {
          const tr = document.createElement("tr");
          tr.className = i % 2 === 0 ? "bg-white" : "bg-gray-50";
          const tdIndex = document.createElement("td");
          tdIndex.className = "px-2 py-1 text-gray-700";
          tdIndex.textContent = i + 1;

          const tdX = document.createElement("td");
          const xInput = document.createElement("input");
          xInput.type = "number";
          xInput.className = "table-input";
          xInput.value = fmt((widthGuess / (count - 1)) * i, 2);
          tdX.appendChild(xInput);

          const tdD = document.createElement("td");
          const dInput = document.createElement("input");
          dInput.type = "number";
          dInput.className = "table-input";
          tdD.appendChild(dInput);

          const tdV = document.createElement("td");
          const vInput = document.createElement("input");
          vInput.type = "number";
          vInput.className = "table-input";
          tdV.appendChild(vInput);

          const tdA = document.createElement("td");
          tdA.className = "px-2 py-1 text-gray-500 text-right";
          tdA.textContent = "—";

          const tdQ = document.createElement("td");
          tdQ.className = "px-2 py-1 text-gray-500 text-right";
          tdQ.textContent = "—";

          tr.appendChild(tdIndex);
          tr.appendChild(tdX);
          tr.appendChild(tdD);
          tr.appendChild(tdV);
          tr.appendChild(tdA);
          tr.appendChild(tdQ);
          midTableBody.appendChild(tr);
        }
      }

      document
        .getElementById("btn-generate-mid")
        .addEventListener("click", () => {
          const n = parseInt(document.getElementById("mid-n").value, 10);
          generateMidTable(n);
        });

      // Initialize default table
      generateMidTable(6);

      // Mid-section calculation
      document.getElementById("btn-calc-mid").addEventListener("click", () => {
        const rows = Array.from(midTableBody.querySelectorAll("tr"));
        if (rows.length < 2) {
          showError(
            "Please generate at least two verticals for the mid‑section method."
          );
          return;
        }
        const x = [],
          d = [],
          v = [];
        for (const row of rows) {
          const inputs = row.querySelectorAll("input");
          const xi = parseFloat(inputs[0].value);
          const di = parseFloat(inputs[1].value);
          const vi = parseFloat(inputs[2].value);
          if ([xi, di, vi].some((val) => isNaN(val) || val < 0)) {
            showError(
              "Please enter non‑negative values for distance, depth, and velocity at all verticals."
            );
            return;
          }
          x.push(xi);
          d.push(di);
          v.push(vi);
        }
        // Ensure x is strictly increasing
        for (let i = 1; i < x.length; i++) {
          if (x[i] <= x[i - 1]) {
            showError(
              "Distances from the left bank must increase from one vertical to the next."
            );
            return;
          }
        }

        const A_sub = [];
        const Q_sub = [];
        let Q_total = 0;
        let A_total = 0;

        for (let i = 0; i < x.length; i++) {
          let w;
          if (i === 0) {
            w = (x[1] - x[0]) / 2;
          } else if (i === x.length - 1) {
            w = (x[x.length - 1] - x[x.length - 2]) / 2;
          } else {
            w = (x[i + 1] - x[i - 1]) / 2;
          }
          const Ai = w * d[i];
          const Qi = Ai * v[i];
          A_sub.push(Ai);
          Q_sub.push(Qi);
          A_total += Ai;
          Q_total += Qi;

          // Update table cells
          const row = rows[i];
          row.children[4].textContent = isNaN(Ai) ? "—" : fmt(Ai, 3);
          row.children[5].textContent = isNaN(Qi) ? "—" : fmt(Qi, 3);
        }

        const u = unitSystemEl.value;
        const qUnit = u === "si" ? "m³/s" : "ft³/s";
        const aUnit = u === "si" ? "m²" : "ft²";
        const vUnit = u === "si" ? "m/s" : "ft/s";
        const widthTotal = x[x.length - 1] - x[0];
        const vMean = Q_total / (A_total || NaN);

        showResult(
          `Estimated discharge Q ≈ ${fmt(
            Q_total,
            3
          )} ${qUnit} using the mid‑section velocity–area method.`,
          [
            `Number of verticals: ${x.length}.`,
            `Total width spanned by measurements ≈ ${fmt(widthTotal, 3)} ${
              u === "si" ? "m" : "ft"
            }.`,
            `Total wetted area A ≈ ${fmt(A_total, 3)} ${aUnit}.`,
            `Section‑average velocity v̄ ≈ ${fmt(vMean, 3)} ${vUnit}.`,
            `Discharge Q = Σ(Aᵢ × vᵢ) ≈ ${fmt(Q_total, 3)} ${qUnit}.`,
          ]
        );
      });

      // Float method
      document
        .getElementById("btn-calc-float")
        .addEventListener("click", () => {
          const L = parseFloat(document.getElementById("float-length").value);
          const t = parseFloat(document.getElementById("float-time").value);
          const k = parseFloat(document.getElementById("float-k").value);
          const W = parseFloat(document.getElementById("float-width").value);
          const D = parseFloat(document.getElementById("float-depth").value);

          if ([L, t, k, W, D].some((x) => isNaN(x) || x <= 0)) {
            showError(
              "Please enter positive values for reach length, time, correction factor, width, and depth for the float method."
            );
            return;
          }

          const vSurface = L / t;
          const vMean = k * vSurface;
          const A = W * D;
          const Q = A * vMean;

          const u = unitSystemEl.value;
          const lenUnit = u === "si" ? "m" : "ft";
          const vUnit = u === "si" ? "m/s" : "ft/s";
          const aUnit = u === "si" ? "m²" : "ft²";
          const qUnit = u === "si" ? "m³/s" : "ft³/s";

          showResult(
            `Estimated discharge Q ≈ ${fmt(
              Q,
              3
            )} ${qUnit} using the float method.`,
            [
              `Reach length L = ${fmt(L, 3)} ${lenUnit}, travel time t = ${fmt(
                t,
                2
              )} s.`,
              `Surface velocity vₛ = L / t = ${fmt(vSurface, 3)} ${vUnit}.`,
              `Mean velocity v̄ = k × vₛ = ${fmt(k, 2)} × ${fmt(
                vSurface,
                3
              )} = ${fmt(vMean, 3)} ${vUnit}.`,
              `Cross‑sectional area A = width × depth = ${fmt(W, 3)} × ${fmt(
                D,
                3
              )} = ${fmt(A, 3)} ${aUnit}.`,
              `Discharge Q = A × v̄ = ${fmt(A, 3)} × ${fmt(vMean, 3)} = ${fmt(
                Q,
                3
              )} ${qUnit}.`,
            ]
          );
        });

      document
        .querySelectorAll("#faq-container .faq-question")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const answer = btn.nextElementSibling;
            const sign = btn.querySelector("span:last-child");
            const isHidden = answer.classList.contains("hidden");
            answer.classList.toggle("hidden", !isHidden);
            sign.textContent = isHidden ? "−" : "+";
          });
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
