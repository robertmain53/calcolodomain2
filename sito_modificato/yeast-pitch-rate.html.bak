<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/yeast-pitch-rate" />
    <title>Yeast Pitch Rate Calculator: [Insider 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Yeast Pitch Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Yeast Pitch Rate Calculator: [Insider 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Yeast Pitch Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/yeast-pitch-rate" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Yeast Pitch Rate Calculator: [Insider 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Yeast Pitch Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Hobbies Calculators", "item": "https://calcdomain.com/subcategories/hobbies"}, {"@type": "ListItem", "position": 4, "name": "Yeast Pitch Rate & Starter Calculator", "item": "https://calcdomain.com/yeast-pitch-rate"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/hobbies" class="text-blue-600 hover:underline">Hobbies Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Yeast Pitch Rate &amp; Starter Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Yeast Pitch Rate & Starter Calculator
              </h1>
              <p class="text-gray-600">
                Estimate required yeast cells, packs, and starter size for ales
                and lagers. Includes liquid vs. dry yeast, viability, stir plate
                vs. intermittent shaking, and multi-step starters.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Yeast Pitch Rate Calculator
              </h2>

              <div class="grid md:grid-cols-2 gap-6">
                <!-- Batch & Style -->
                <div class="space-y-4">
                  <div>
                    <label
                      for="batch-volume"
                      class="block text-sm font-medium text-gray-700"
                      >Batch volume</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <input
                        type="number"
                        id="batch-volume"
                        class="flex-1 min-w-0 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                        value="20"
                        min="1"
                        step="0.1"
                      />
                      <select
                        id="volume-unit"
                        class="border-l-0 rounded-r-md border-gray-300 bg-gray-50 text-sm px-2"
                      >
                        <option value="L">L</option>
                        <option value="gal">US gal</option>
                      </select>
                    </div>
                  </div>

                  <div>
                    <label
                      for="og"
                      class="block text-sm font-medium text-gray-700"
                      >Original gravity (OG)</label
                    >
                    <input
                      type="number"
                      id="og"
                      class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                      value="1.050"
                      min="1.000"
                      max="1.200"
                      step="0.001"
                    />
                    <p class="text-xs text-gray-500 mt-1">Example: 1.050</p>
                  </div>

                  <div>
                    <label
                      for="beer-style"
                      class="block text-sm font-medium text-gray-700"
                      >Fermentation type</label
                    >
                    <select
                      id="beer-style"
                      class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                    >
                      <option value="ale">Ale (0.75 M cells/mL/°P)</option>
                      <option value="lager">Lager (1.5 M cells/mL/°P)</option>
                      <option value="hybrid">
                        Hybrid / Kölsch (1.0 M cells/mL/°P)
                      </option>
                      <option value="custom">Custom pitch rate</option>
                    </select>
                  </div>

                  <div id="custom-pitch-wrapper" class="hidden">
                    <label
                      for="custom-pitch"
                      class="block text-sm font-medium text-gray-700"
                      >Custom pitch rate</label
                    >
                    <div class="mt-1 flex items-center space-x-2">
                      <input
                        type="number"
                        id="custom-pitch"
                        class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                        value="0.75"
                        min="0.1"
                        max="3"
                        step="0.05"
                      />
                      <span class="text-xs text-gray-500"
                        >million cells/mL/°P</span
                      >
                    </div>
                  </div>
                </div>

                <!-- Yeast Source -->
                <div class="space-y-4">
                  <fieldset>
                    <legend
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Yeast type
                    </legend>
                    <div class="flex flex-wrap gap-3 text-sm">
                      <label class="inline-flex items-center">
                        <input
                          type="radio"
                          name="yeast-type"
                          value="liquid"
                          class="text-blue-600 focus:ring-blue-500"
                          checked
                        />
                        <span class="ml-1">Liquid</span>
                      </label>
                      <label class="inline-flex items-center">
                        <input
                          type="radio"
                          name="yeast-type"
                          value="dry"
                          class="text-blue-600 focus:ring-blue-500"
                        />
                        <span class="ml-1">Dry</span>
                      </label>
                      <label class="inline-flex items-center">
                        <input
                          type="radio"
                          name="yeast-type"
                          value="slurry"
                          class="text-blue-600 focus:ring-blue-500"
                        />
                        <span class="ml-1">Harvested slurry</span>
                      </label>
                    </div>
                  </fieldset>

                  <div id="liquid-yeast-fields" class="space-y-3">
                    <div>
                      <label
                        for="cells-per-pack"
                        class="block text-sm font-medium text-gray-700"
                        >Cells per pack (liquid)</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="cells-per-pack"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="100"
                          min="10"
                          max="300"
                          step="10"
                        />
                        <span class="text-xs text-gray-500">billion cells</span>
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Typical: 100 B (older packs) to 200 B (PurePitch, etc.).
                      </p>
                    </div>

                    <div>
                      <label
                        for="pack-age"
                        class="block text-sm font-medium text-gray-700"
                        >Yeast age</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="pack-age"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="30"
                          min="0"
                          max="365"
                          step="1"
                        />
                        <span class="text-xs text-gray-500"
                          >days since manufacture</span
                        >
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Viability is estimated from age; adjust manually if you
                        have lab data.
                      </p>
                    </div>

                    <div>
                      <label
                        for="packs-owned"
                        class="block text-sm font-medium text-gray-700"
                        >Packs on hand</label
                      >
                      <input
                        type="number"
                        id="packs-owned"
                        class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                        value="1"
                        min="0"
                        step="1"
                      />
                    </div>
                  </div>

                  <div id="dry-yeast-fields" class="space-y-3 hidden">
                    <div>
                      <label
                        for="dry-cells-per-gram"
                        class="block text-sm font-medium text-gray-700"
                        >Cells per gram (dry)</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="dry-cells-per-gram"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="20"
                          min="10"
                          max="25"
                          step="1"
                        />
                        <span class="text-xs text-gray-500"
                          >billion cells/g</span
                        >
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Many dry yeasts are 18–20 B cells per gram.
                      </p>
                    </div>

                    <div>
                      <label
                        for="dry-pack-size"
                        class="block text-sm font-medium text-gray-700"
                        >Pack size</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="dry-pack-size"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="11.5"
                          min="5"
                          max="20"
                          step="0.1"
                        />
                        <span class="text-xs text-gray-500">g per pack</span>
                      </div>
                    </div>

                    <div>
                      <label
                        for="dry-packs-owned"
                        class="block text-sm font-medium text-gray-700"
                        >Packs on hand</label
                      >
                      <input
                        type="number"
                        id="dry-packs-owned"
                        class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                        value="1"
                        min="0"
                        step="1"
                      />
                    </div>
                  </div>

                  <div id="slurry-fields" class="space-y-3 hidden">
                    <div>
                      <label
                        for="slurry-density"
                        class="block text-sm font-medium text-gray-700"
                        >Slurry density</label
                      >
                      <select
                        id="slurry-density"
                        class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                      >
                        <option value="0.75">Thin (0.75 B cells/mL)</option>
                        <option value="1.0" selected>
                          Medium (1.0 B cells/mL)
                        </option>
                        <option value="1.5">Thick (1.5 B cells/mL)</option>
                      </select>
                    </div>

                    <div>
                      <label
                        for="slurry-viability"
                        class="block text-sm font-medium text-gray-700"
                        >Estimated viability</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="slurry-viability"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="90"
                          min="10"
                          max="100"
                          step="1"
                        />
                        <span class="text-xs text-gray-500">%</span>
                      </div>
                    </div>

                    <div>
                      <label
                        for="slurry-volume"
                        class="block text-sm font-medium text-gray-700"
                        >Slurry available</label
                      >
                      <div class="mt-1 flex items-center space-x-2">
                        <input
                          type="number"
                          id="slurry-volume"
                          class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                          value="100"
                          min="0"
                          step="10"
                        />
                        <span class="text-xs text-gray-500">mL</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Starter options -->
              <div class="mt-6 border-t pt-4">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="text-lg font-semibold">Starter options</h3>
                  <label class="inline-flex items-center text-sm">
                    <input
                      type="checkbox"
                      id="use-starter"
                      class="text-blue-600 focus:ring-blue-500"
                      checked
                    />
                    <span class="ml-1">Plan a starter</span>
                  </label>
                </div>

                <div id="starter-config" class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="starter-method"
                      class="block text-sm font-medium text-gray-700"
                      >Starter method</label
                    >
                    <select
                      id="starter-method"
                      class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                    >
                      <option value="stir">Stir plate (high growth)</option>
                      <option value="shaken">Intermittent shaking</option>
                      <option value="still">Still (no agitation)</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="starter-volume"
                      class="block text-sm font-medium text-gray-700"
                      >Starter volume (single step)</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <input
                        type="number"
                        id="starter-volume"
                        class="flex-1 min-w-0 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                        value="1.5"
                        min="0.25"
                        max="5"
                        step="0.1"
                      />
                      <select
                        id="starter-volume-unit"
                        class="border-l-0 rounded-r-md border-gray-300 bg-gray-50 text-sm px-2"
                      >
                        <option value="L">L</option>
                        <option value="mL">mL</option>
                      </select>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      For multi-step starters, see the growth table below.
                    </p>
                  </div>
                </div>
              </div>

              <div class="mt-6 flex flex-wrap gap-3">
                <button
                  id="calculate-btn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                >
                  Calculate pitch rate
                </button>
                <button
                  id="reset-btn"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mt-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-4">
                Results
              </h2>

              <div id="results-summary" class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-blue-800 mb-2">
                    Pitching overview
                  </h3>
                  <ul
                    class="text-sm text-blue-900 space-y-1"
                    id="overview-list"
                  >
                    <li>
                      Target pitch rate:
                      <span class="font-semibold" id="res-target-rate">–</span>
                    </li>
                    <li>
                      Wort volume (mL):
                      <span class="font-semibold" id="res-volume-ml">–</span>
                    </li>
                    <li>
                      Wort gravity (°P):
                      <span class="font-semibold" id="res-plato">–</span>
                    </li>
                    <li>
                      Required cells:
                      <span class="font-semibold" id="res-required-cells"
                        >–</span
                      >
                    </li>
                  </ul>
                </div>

                <div class="bg-green-50 border border-green-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-green-800 mb-2">
                    Yeast & starter plan
                  </h3>
                  <ul
                    class="text-sm text-green-900 space-y-1"
                    id="yeast-plan-list"
                  >
                    <li>
                      Available viable cells:
                      <span class="font-semibold" id="res-available-cells"
                        >–</span
                      >
                    </li>
                    <li>
                      Deficit / surplus:
                      <span class="font-semibold" id="res-deficit">–</span>
                    </li>
                    <li id="res-packs-line">
                      Recommended packs:
                      <span class="font-semibold" id="res-packs">–</span>
                    </li>
                    <li id="res-starter-line">
                      Suggested starter:
                      <span class="font-semibold" id="res-starter">–</span>
                    </li>
                  </ul>
                </div>
              </div>

              <div id="warnings" class="space-y-2 text-sm"></div>

              <details class="mt-4">
                <summary
                  class="cursor-pointer text-sm font-semibold text-gray-700"
                >
                  Show detailed calculations
                </summary>
                <div class="mt-3 text-sm text-gray-700 space-y-2">
                  <p>OG to °Plato: <span id="detail-plato">–</span></p>
                  <p>
                    Cells required (million) = pitch rate × volume (mL) × °P.
                  </p>
                  <p>
                    Viability model for liquid yeast:
                    <span class="font-mono"
                      >viability ≈ 0.96<sup>age_in_days/10</sup></span
                    >
                    (capped between 10–100%).
                  </p>
                </div>
              </details>
            </section>

            <!-- Starter growth helper -->
            <section class="mt-10">
              <h2 class="text-xl font-semibold mb-3">
                Starter Growth Estimates
              </h2>
              <p class="text-sm text-gray-700 mb-3">
                Use this table to plan multi-step starters. Enter your starting
                cells and see approximate growth for different starter sizes and
                methods.
              </p>

              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label
                    for="growth-start-cells"
                    class="block text-sm font-medium text-gray-700"
                    >Starting cells</label
                  >
                  <div class="mt-1 flex items-center space-x-2">
                    <input
                      type="number"
                      id="growth-start-cells"
                      class="flex-1 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                      value="100"
                      min="10"
                      max="500"
                      step="10"
                    />
                    <span class="text-xs text-gray-500">billion</span>
                  </div>
                </div>
                <div>
                  <label
                    for="growth-starter-volume"
                    class="block text-sm font-medium text-gray-700"
                    >Starter volume</label
                  >
                  <div class="mt-1 flex rounded-md shadow-sm">
                    <input
                      type="number"
                      id="growth-starter-volume"
                      class="flex-1 min-w-0 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                      value="1.0"
                      min="0.25"
                      max="5"
                      step="0.1"
                    />
                    <span
                      class="inline-flex items-center px-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-xs text-gray-500"
                      >L</span
                    >
                  </div>
                </div>
                <div>
                  <label
                    for="growth-method"
                    class="block text-sm font-medium text-gray-700"
                    >Method</label
                  >
                  <select
                    id="growth-method"
                    class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm px-3 py-2"
                  >
                    <option value="stir">Stir plate</option>
                    <option value="shaken">Intermittent shaking</option>
                    <option value="still">Still</option>
                  </select>
                </div>
              </div>

              <button
                id="growth-calc-btn"
                class="mb-3 inline-flex items-center px-3 py-2 bg-indigo-600 text-white text-xs font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1"
              >
                Estimate starter growth
              </button>

              <div
                id="growth-results"
                class="text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg p-3 hidden"
              >
                <p>
                  Estimated final cells:
                  <span class="font-semibold" id="growth-final-cells">–</span>
                </p>
                <p>
                  Growth factor:
                  <span class="font-semibold" id="growth-factor">–</span>×
                </p>
                <p class="text-xs text-gray-500 mt-1">
                  These are approximate values based on typical lab and homebrew
                  data; actual growth depends on oxygen, nutrients, and yeast
                  health.
                </p>
              </div>
            </section>

            <!-- Explanatory Content -->
            <section class="mt-10 prose">
              <h2>How this yeast pitch rate calculator works</h2>
              <p>
                This tool estimates how many yeast cells you need for a healthy
                fermentation and helps you decide whether to pitch more packs or
                build a starter. It is inspired by professional guidelines
                (Wyeast, White Labs, Lallemand) and popular homebrew
                calculators, but exposes the assumptions so you can adjust them
                for your system.
              </p>

              <h3>1. Pitch rate formulas</h3>
              <p>
                Pitch rate is usually expressed in million cells per milliliter
                per degree Plato:
              </p>
              <div class="formula-box">
                <p>
                  <strong>Cells required (million)</strong> = Pitch rate (M
                  cells/mL/°P) × Wort volume (mL) × °Plato
                </p>
              </div>
              <p>Typical targets:</p>
              <ul>
                <li><strong>Ales:</strong> 0.75 M cells/mL/°P</li>
                <li><strong>Lagers:</strong> 1.5 M cells/mL/°P</li>
                <li>
                  <strong>Hybrid / Kölsch:</strong> around 1.0 M cells/mL/°P
                </li>
              </ul>

              <h3>2. Converting OG to °Plato</h3>
              <p>
                We convert specific gravity (OG) to degrees Plato using a
                standard polynomial approximation:
              </p>
              <div class="formula-box">
                <p>
                  °P ≈ −616.868 + 1111.14 × SG − 630.272 × SG² + 135.997 × SG³
                </p>
              </div>
              <p>For example, OG 1.050 is roughly 12.3 °P.</p>

              <h3>3. Liquid yeast viability model</h3>
              <p>
                Liquid yeast loses viability over time. Manufacturers publish
                typical curves; here we use a simple exponential model:
              </p>
              <div class="formula-box">
                <p>Viability ≈ 0.96<sup>age_in_days / 10</sup></p>
                <p>
                  Viability is capped between 10% and 100% to avoid unrealistic
                  extremes.
                </p>
              </div>
              <p>
                You can override this indirectly by changing the “cells per
                pack” or by adjusting the age if you know your yeast was stored
                especially well or poorly.
              </p>

              <h3>4. Dry yeast assumptions</h3>
              <p>
                Dry yeast is more stable and usually has very high viability.
                Manufacturers often quote around 18–20 billion cells per gram.
                This calculator lets you set:
              </p>
              <ul>
                <li><strong>Cells per gram</strong> (default 20 B/g)</li>
                <li><strong>Pack size</strong> (default 11.5 g)</li>
              </ul>
              <p>
                For dry yeast, most experts recommend
                <strong>not</strong> making a starter. Instead, rehydrate (if
                recommended) and pitch enough packs to hit your target rate.
              </p>

              <h3>5. Harvested slurry</h3>
              <p>
                For harvested yeast, we estimate cells based on slurry density
                and viability:
              </p>
              <div class="formula-box">
                <p>
                  Cells (billion) = Slurry volume (mL) × Density (B cells/mL) ×
                  Viability (%) / 100
                </p>
              </div>
              <p>Typical density ranges:</p>
              <ul>
                <li>Thin slurry: ~0.75 B cells/mL</li>
                <li>Medium slurry: ~1.0 B cells/mL</li>
                <li>Thick slurry: ~1.5 B cells/mL</li>
              </ul>

              <h3>6. Starter growth model</h3>
              <p>
                Yeast growth in a starter depends on the ratio of cells to wort
                volume, oxygenation, nutrients, and agitation. Instead of a
                single fixed factor, we use a simple empirical model:
              </p>
              <div class="formula-box">
                <p>
                  Growth factor ≈ 1 + k × (starter_volume_L / (cells_in_billion
                  / 100))
                </p>
                <p>where k depends on the method:</p>
                <ul>
                  <li>Stir plate: k ≈ 1.4</li>
                  <li>Intermittent shaking: k ≈ 1.0</li>
                  <li>Still: k ≈ 0.6</li>
                </ul>
              </div>
              <p>
                This yields growth factors in the same ballpark as popular
                calculators: a 1–2 L stir-plate starter from a single pack often
                reaches 200–300 B cells.
              </p>

              <h2>Practical brewing tips</h2>

              <h3>When you can skip a starter</h3>
              <ul>
                <li>
                  Small ales (≤ 1.050 OG) with fresh liquid yeast packs (200 B
                  cells) in 19–23 L batches.
                </li>
                <li>
                  Most standard ales when using enough dry yeast packs at
                  manufacturer-recommended rates.
                </li>
              </ul>

              <h3>When you should use a starter</h3>
              <ul>
                <li>Lagers, especially above 1.050 OG.</li>
                <li>High-gravity beers (1.065+).</li>
                <li>
                  Older liquid yeast packs or harvested slurry with uncertain
                  viability.
                </li>
              </ul>

              <h3>Common underpitching symptoms</h3>
              <ul>
                <li>Lag time &gt; 24 hours before visible fermentation.</li>
                <li>Stalled or incomplete attenuation.</li>
                <li>
                  Solvent-like fusel alcohols, harsh heat, or excessive fruity
                  esters (when not desired).
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>Is it possible to overpitch?</h3>
              <p>
                Yes, but it is less common in homebrewing. Very high pitch rates
                can reduce ester formation and lead to bland beers, and in
                extreme cases may affect flocculation. For most homebrew
                scenarios, being slightly above the target rate is safer than
                being far below it.
              </p>

              <h3>How accurate are these numbers?</h3>
              <p>
                All pitch rate calculators rely on assumptions about cells per
                pack, viability, and growth. This tool makes those assumptions
                visible and editable. For critical production batches, lab cell
                counts (e.g., methylene blue or flow cytometry) are recommended.
              </p>

              <h3>Can I use this for mixed cultures or kveik?</h3>
              <p>
                You can, but recommended pitch rates may be very different. Many
                kveik strains are intentionally underpitched to encourage ester
                production. For mixed cultures and sour beers, follow the lab’s
                specific guidance rather than generic ale/lager targets.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Batch volume L US gal Original gravity (OG) Example: 1.050 Fermentation type Ale (0.75 M cells/mL/°P) Lager (1.5 M cells/mL/°P) Hybrid / Kölsch (1.0 M cells/mL/°P) Custom pitch rate Custom pitch rate million cells/mL/°P Yeast type Liquid</li><li>Dry</li><li>Harvested slurry</li><li>Cells per pack (liquid) billion cells Typical: 100 B (older packs) to 200 B (PurePitch, etc.). Yeast age days since manufacture Viability is estimated from age; adjust manually if you have lab data. Packs on hand Cells per gram (dry) billion cells/g Many dry yeasts are 18–20 B cells per gram. Pack size g per pack Packs on hand Slurry density Thin (0.75 B cells/mL) Medium (1.0 B cells/mL) Thick (1.5 B cells/mL) Estimated viability % Slurry available mL Starter options Plan a starter</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Yeast, Pitch, Rate, Batch volume L US gal Original gravity (OG) Example: 1.050 Fermentation type Ale (0.75 M cells/mL/°P) Lager (1.5 M cells/mL/°P) Hybrid / Kölsch (1.0 M cells/mL/°P) Custom pitch rate Custom pitch rate million cells/mL/°P Yeast type Liquid, Dry, Harvested slurry, Cells per pack (liquid) billion cells Typical: 100 B (older packs) to 200 B (PurePitch, etc.). Yeast age days since manufacture Viability is estimated from age; adjust manually if you have lab data. Packs on hand Cells per gram (dry) billion cells/g Many dry yeasts are 18–20 B cells per gram. Pack size g per pack Packs on hand Slurry density Thin (0.75 B cells/mL) Medium (1.0 B cells/mL) Thick (1.5 B cells/mL) Estimated viability % Slurry available mL Starter options Plan a starter.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Batch volume L US gal Original gravity (OG) Example: 1.050 Fermentation type Ale (0.75 M cells/mL/°P) Lager (1.5 M cells/mL/°P) Hybrid / Kölsch (1.0 M cells/mL/°P) Custom pitch rate Custom pitch rate million cells/mL/°P Yeast type Liquid</li><li>Dry</li><li>Harvested slurry</li><li>Cells per pack (liquid) billion cells Typical: 100 B (older packs) to 200 B (PurePitch, etc.). Yeast age days since manufacture Viability is estimated from age; adjust manually if you have lab data. Packs on hand Cells per gram (dry) billion cells/g Many dry yeasts are 18–20 B cells per gram. Pack size g per pack Packs on hand Slurry density Thin (0.75 B cells/mL) Medium (1.0 B cells/mL) Thick (1.5 B cells/mL) Estimated viability % Slurry available mL Starter options Plan a starter</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related brewing tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/yeast-starter"
                  class="flex items-center justify-between group"
                >
                  <span class="text-blue-600 group-hover:underline"
                    >Yeast Starter (if available)</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/abv"
                  class="flex items-center justify-between group"
                >
                  <span class="text-blue-600 group-hover:underline"
                    >Homebrew ABV Calculator</span
                  >
                  <span
                    class="badge bg-gray-100 text-gray-700 border border-gray-200"
                    >ABV</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ibu"
                  class="flex items-center justify-between group"
                >
                  <span class="text-blue-600 group-hover:underline"
                    >IBU (Bitterness) Calculator</span
                  >
                  <span
                    class="badge bg-gray-100 text-gray-700 border border-gray-200"
                    >Hops</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/priming-sugar"
                  class="flex items-center justify-between group"
                >
                  <span class="text-blue-600 group-hover:underline"
                    >Priming Sugar Calculator</span
                  >
                  <span
                    class="badge bg-gray-100 text-gray-700 border border-gray-200"
                    >Bottling</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/srm"
                  class="flex items-center justify-between group"
                >
                  <span class="text-blue-600 group-hover:underline"
                    >Beer Color (SRM)</span
                  >
                  <span
                    class="badge bg-gray-100 text-gray-700 border border-gray-200"
                    >Color</span
                  >
                </a>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Lifestyle & Everyday tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/cooking-calculator"
                  class="text-blue-600 hover:underline"
                  >Cooking Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/party-drink"
                  class="text-blue-600 hover:underline"
                  >Party Drink Planner</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/travel-budget"
                  class="text-blue-600 hover:underline"
                  >Travel Budget Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/coffee-cost"
                  class="text-blue-600 hover:underline"
                  >Coffee Cost Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/recipe-scaler"
                  class="text-blue-600 hover:underline"
                  >Recipe Multiplier / Scaler</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function sgToPlato(sg) {
        const s = sg;
        return -616.868 + 1111.14 * s - 630.272 * s * s + 135.997 * s * s * s;
      }

      function clamp(val, min, max) {
        return Math.min(Math.max(val, min), max);
      }

      function formatBillionCells(billions) {
        if (!isFinite(billions)) return "–";
        if (billions >= 1000) return (billions / 1000).toFixed(2) + " trillion";
        if (billions >= 100) return billions.toFixed(0) + " B";
        return billions.toFixed(1) + " B";
      }

      function formatMillionCells(millions) {
        if (!isFinite(millions)) return "–";
        if (millions >= 1000) return (millions / 1000).toFixed(1) + " B";
        return millions.toFixed(0) + " M";
      }

      function getPitchRate(beerStyle, customRate) {
        switch (beerStyle) {
          case "ale":
            return 0.75;
          case "lager":
            return 1.5;
          case "hybrid":
            return 1.0;
          case "custom":
            return customRate || 0.75;
          default:
            return 0.75;
        }
      }

      function estimateLiquidViability(ageDays) {
        const v = Math.pow(0.96, ageDays / 10) * 100;
        return clamp(v, 10, 100);
      }

      function estimateStarterGrowth(startCellsB, volumeL, method) {
        if (startCellsB <= 0 || volumeL <= 0)
          return { finalCellsB: startCellsB, factor: 1 };
        const cellsPer100B = startCellsB / 100;
        let k;
        switch (method) {
          case "stir":
            k = 1.4;
            break;
          case "shaken":
            k = 1.0;
            break;
          case "still":
            k = 0.6;
            break;
          default:
            k = 1.0;
        }
        let factor = 1 + k * (volumeL / cellsPer100B);
        factor = clamp(factor, 1, 6); // avoid absurd growth
        return { finalCellsB: startCellsB * factor, factor };
      }

      function updateYeastTypeVisibility() {
        const type =
          document.querySelector('input[name="yeast-type"]:checked')?.value ||
          "liquid";
        document
          .getElementById("liquid-yeast-fields")
          .classList.toggle("hidden", type !== "liquid");
        document
          .getElementById("dry-yeast-fields")
          .classList.toggle("hidden", type !== "dry");
        document
          .getElementById("slurry-fields")
          .classList.toggle("hidden", type !== "slurry");
      }

      function updateCustomPitchVisibility() {
        const style = document.getElementById("beer-style").value;
        document
          .getElementById("custom-pitch-wrapper")
          .classList.toggle("hidden", style !== "custom");
      }

      function calculatePitch() {
        const warningsEl = document.getElementById("warnings");
        warningsEl.innerHTML = "";

        const batchVolume =
          parseFloat(document.getElementById("batch-volume").value) || 0;
        const volumeUnit = document.getElementById("volume-unit").value;
        const og = parseFloat(document.getElementById("og").value) || 1.0;
        const beerStyle = document.getElementById("beer-style").value;
        const customPitch =
          parseFloat(document.getElementById("custom-pitch").value) || 0.75;
        const yeastType =
          document.querySelector('input[name="yeast-type"]:checked')?.value ||
          "liquid";
        const useStarter = document.getElementById("use-starter").checked;
        const starterMethod = document.getElementById("starter-method").value;
        let starterVolume =
          parseFloat(document.getElementById("starter-volume").value) || 0;
        const starterVolumeUnit = document.getElementById(
          "starter-volume-unit"
        ).value;

        if (starterVolumeUnit === "mL") starterVolume / 1000; // convert to L

        if (batchVolume <= 0 || og < 1.0) {
          warningsEl.innerHTML =
            '<p class="text-sm text-red-600">Please enter a valid batch volume and original gravity.</p>';
          return;
        }

        // Volume to mL
        let volumeL = batchVolume;
        if (volumeUnit === "gal") {
          volumeL = batchVolume * 3.78541;
        }
        const volumeMl = volumeL * 1000;

        // OG to Plato
        const plato = sgToPlato(og);
        const pitchRate = getPitchRate(beerStyle, customPitch);

        // Required cells
        const requiredCellsMillion = pitchRate * volumeMl * plato;
        const requiredCellsBillion = requiredCellsMillion / 1000;

        // Available cells based on yeast type
        let availableCellsBillion = 0;
        let packsNeeded = 0;
        let packsOwnedText = "";
        let yeastSummary = "";

        if (yeastType === "liquid") {
          const cellsPerPackB =
            parseFloat(document.getElementById("cells-per-pack").value) || 100;
          const ageDays =
            parseFloat(document.getElementById("pack-age").value) || 0;
          const packsOwned =
            parseFloat(document.getElementById("packs-owned").value) || 0;
          const viability = estimateLiquidViability(ageDays);
          availableCellsBillion =
            cellsPerPackB * packsOwned * (viability / 100);
          packsNeeded = Math.ceil(
            requiredCellsBillion / (cellsPerPackB * (viability / 100))
          );
          packsOwnedText = `${packsOwned.toFixed(
            0
          )} pack(s) on hand, ~${viability.toFixed(0)}% viable.`;
          yeastSummary = `Liquid yeast: ${cellsPerPackB.toFixed(
            0
          )} B/pack, age ${ageDays.toFixed(0)} days.`;
        } else if (yeastType === "dry") {
          const cellsPerGramB =
            parseFloat(document.getElementById("dry-cells-per-gram").value) ||
            20;
          const packSizeG =
            parseFloat(document.getElementById("dry-pack-size").value) || 11.5;
          const packsOwned =
            parseFloat(document.getElementById("dry-packs-owned").value) || 0;
          const cellsPerPackB = cellsPerGramB * packSizeG;
          availableCellsBillion = cellsPerPackB * packsOwned;
          packsNeeded = Math.ceil(requiredCellsBillion / cellsPerPackB);
          packsOwnedText = `${packsOwned.toFixed(0)} pack(s) on hand.`;
          yeastSummary = `Dry yeast: ${cellsPerGramB.toFixed(
            0
          )} B/g, ${packSizeG.toFixed(1)} g/pack.`;
        } else if (yeastType === "slurry") {
          const densityBperMl =
            parseFloat(document.getElementById("slurry-density").value) || 1.0;
          const viability =
            parseFloat(document.getElementById("slurry-viability").value) || 90;
          const slurryVolumeMl =
            parseFloat(document.getElementById("slurry-volume").value) || 0;
          availableCellsBillion =
            densityBperMl * slurryVolumeMl * (viability / 100);
          packsNeeded = 0;
          packsOwnedText = `${slurryVolumeMl.toFixed(
            0
          )} mL slurry at ~${viability.toFixed(0)}% viability.`;
          yeastSummary = `Harvested slurry: ${densityBperMl.toFixed(2)} B/mL.`;
        }

        // Starter growth
        let starterText = "No starter planned.";
        if (useStarter && starterVolume > 0 && availableCellsBillion > 0) {
          const growth = estimateStarterGrowth(
            availableCellsBillion,
            starterVolume,
            starterMethod
          );
          const afterStarterB = growth.finalCellsB;
          const deficitAfterStarterB = requiredCellsBillion - afterStarterB;
          if (deficitAfterStarterB <= 0) {
            starterText = `~${formatBillionCells(
              afterStarterB
            )} after ${starterVolume.toFixed(
              2
            )} L ${starterMethod} starter (growth ×${growth.factor.toFixed(
              1
            )}). This meets or exceeds the target.`;
          } else {
            starterText = `~${formatBillionCells(
              afterStarterB
            )} after ${starterVolume.toFixed(
              2
            )} L ${starterMethod} starter (growth ×${growth.factor.toFixed(
              1
            )}). Still short by ~${formatBillionCells(
              deficitAfterStarterB
            )}. Consider a larger or multi-step starter.`;
          }
        } else if (useStarter && availableCellsBillion <= 0) {
          starterText =
            "Starter enabled, but no initial cells specified. Add packs or slurry first.";
        }

        const deficitBillion = requiredCellsBillion - availableCellsBillion;
        const deficitText =
          deficitBillion > 0
            ? `Short by ~${formatBillionCells(deficitBillion)} before starter.`
            : `Surplus of ~${formatBillionCells(
                -deficitBillion
              )} before starter.`;

        // Update UI
        document.getElementById("res-target-rate").textContent =
          pitchRate.toFixed(2) + " M cells/mL/°P";
        document.getElementById("res-volume-ml").textContent =
          volumeMl.toFixed(0) + " mL";
        document.getElementById("res-plato").textContent =
          plato.toFixed(1) + " °P";
        document.getElementById("res-required-cells").textContent =
          formatMillionCells(requiredCellsMillion);

        document.getElementById("res-available-cells").textContent =
          formatBillionCells(availableCellsBillion);
        document.getElementById("res-deficit").textContent = deficitText;

        const packsLine = document.getElementById("res-packs-line");
        if (yeastType === "slurry") {
          packsLine.classList.add("hidden");
        } else {
          packsLine.classList.remove("hidden");
          document.getElementById("res-packs").textContent =
            packsNeeded > 0
              ? `${packsNeeded} pack(s) recommended. ${packsOwnedText}`
              : packsOwnedText;
        }

        document
          .getElementById("res-starter-line")
          .classList.toggle("hidden", !useStarter);
        document.getElementById("res-starter").textContent = starterText;

        document.getElementById("detail-plato").textContent = `${og.toFixed(
          3
        )} SG ≈ ${plato.toFixed(2)} °P`;
        const overviewList = document.getElementById("overview-list");
        if (overviewList) {
          const extra = document.createElement("li");
          extra.textContent = yeastSummary;
          extra.className = "mt-1 text-xs text-blue-700";
          // Remove previous extra if exists
          const existingExtras = overviewList.querySelectorAll(".mt-1.text-xs");
          existingExtras.forEach((e) => e.remove());
          overviewList.appendChild(extra);
        }

        // Warnings
        const warn = [];
        if (yeastType === "dry" && useStarter) {
          warn.push(
            "Most manufacturers do not recommend making starters with dry yeast. Consider pitching additional packs instead."
          );
        }
        if (
          deficitBillion > 0 &&
          !useStarter &&
          (yeastType === "liquid" || yeastType === "slurry")
        ) {
          warn.push(
            "You are significantly under the target pitch rate. Consider adding more yeast or planning a starter."
          );
        }
        if (plato >= 18) {
          warn.push(
            "High gravity wort detected (≥ 18 °P). High pitch rates and oxygenation are especially important."
          );
        }
        if (warn.length) {
          warningsEl.innerHTML = warn
            .map(
              (w) =>
                `<p class="text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded px-3 py-2">${w}</p>`
            )
            .join("");
        }
      }

      function resetForm() {
        document.getElementById("batch-volume").value = 20;
        document.getElementById("volume-unit").value = "L";
        document.getElementById("og").value = 1.05;
        document.getElementById("beer-style").value = "ale";
        document.getElementById("custom-pitch").value = 0.75;
        document.querySelector(
          'input[name="yeast-type"][value="liquid"]'
        ).checked = true;
        document.getElementById("cells-per-pack").value = 100;
        document.getElementById("pack-age").value = 30;
        document.getElementById("packs-owned").value = 1;
        document.getElementById("dry-cells-per-gram").value = 20;
        document.getElementById("dry-pack-size").value = 11.5;
        document.getElementById("dry-packs-owned").value = 1;
        document.getElementById("slurry-density").value = "1.0";
        document.getElementById("slurry-viability").value = 90;
        document.getElementById("slurry-volume").value = 100;
        document.getElementById("use-starter").checked = true;
        document.getElementById("starter-method").value = "stir";
        document.getElementById("starter-volume").value = 1.5;
        document.getElementById("starter-volume-unit").value = "L";
        document.getElementById("warnings").innerHTML = "";
        updateYeastTypeVisibility();
        updateCustomPitchVisibility();
        calculatePitch();
      }

      function calculateGrowthHelper() {
        const startCellsB =
          parseFloat(document.getElementById("growth-start-cells").value) || 0;
        const volumeL =
          parseFloat(document.getElementById("growth-starter-volume").value) ||
          0;
        const method = document.getElementById("growth-method").value;
        const res = estimateStarterGrowth(startCellsB, volumeL, method);
        document.getElementById("growth-final-cells").textContent =
          formatBillionCells(res.finalCellsB);
        document.getElementById("growth-factor").textContent =
          res.factor.toFixed(2);
        document.getElementById("growth-results").classList.remove("hidden");
      }

      document.addEventListener("DOMContentLoaded", function () {
        updateYeastTypeVisibility();
        updateCustomPitchVisibility();
        calculatePitch();

        document.getElementById("beer-style").addEventListener("change", () => {
          updateCustomPitchVisibility();
          calculatePitch();
        });

        document.querySelectorAll('input[name="yeast-type"]').forEach((r) => {
          r.addEventListener("change", () => {
            updateYeastTypeVisibility();
            calculatePitch();
          });
        });

        document
          .getElementById("calculate-btn")
          .addEventListener("click", (e) => {
            e.preventDefault();
            calculatePitch();
          });

        document.getElementById("reset-btn").addEventListener("click", (e) => {
          e.preventDefault();
          resetForm();
        });

        document
          .getElementById("use-starter")
          .addEventListener("change", () => {
            calculatePitch();
          });

        document
          .getElementById("growth-calc-btn")
          .addEventListener("click", (e) => {
            e.preventDefault();
            calculateGrowthHelper();
          });
      });

      // Mobile menu script (simple)
      document.addEventListener("DOMContentLoaded", function () {
        const toggle = document.getElementById("mobile-menu-toggle");
        const menu = document.getElementById("mobile-menu");
        if (toggle && menu) {
          toggle.addEventListener("click", () => {
            const isHidden = menu.classList.contains("hidden");
            menu.classList.toggle("hidden", !isHidden);
            toggle.setAttribute("aria-expanded", String(isHidden));
          });
        }
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
