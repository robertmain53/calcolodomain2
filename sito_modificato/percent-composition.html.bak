<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/percent-composition" />
    <title>Percent Composition Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Percent Composition Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Percent Composition Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Percent Composition Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/percent-composition" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Percent Composition Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Percent Composition Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Percent Composition Calculator – By Mass and From Formula",
        "url": "https://calcdomain.com/percent-composition",
        "description": "Percent composition calculator for chemistry. Enter a chemical formula or element masses to get percent by mass, empirical formula, and worked step‑by‑step solutions.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Math & Conversions",
              "item": "https://calcdomain.com/categories/math-conversions"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Generale",
              "item": "https://calcdomain.com/subcategories/core-math-algebra"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Percent Composition Calculator",
              "item": "https://calcdomain.com/percent-composition"
            }
          ]
        },
        "mainEntity": {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is percent composition in chemistry?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Percent composition is the percentage by mass of each element in a compound. It tells you how much of the compound’s total mass comes from each type of atom."
              }
            },
            {
              "@type": "Question",
              "name": "How do you calculate percent composition from a chemical formula?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "1) Determine the molar mass of each element in the formula. 2) Add them to get the molar mass of the compound. 3) For each element, divide its total mass contribution by the molar mass of the compound and multiply by 100%."
              }
            },
            {
              "@type": "Question",
              "name": "Can you get an empirical formula from percent composition?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. Treat the percentages as grams, convert each element to moles, divide by the smallest mole value to get a mole ratio, and round to whole numbers to obtain the empirical formula."
              }
            },
            {
              "@teptedAnswer": {
                "@type": "Answer",
                "text": "Percent composition is always expressed as a percentage by mass (% by mass). The underlying masses can be in grams, kilograms, or any mass unit as long as the same unit is used for all components."
              }
            }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Chemistry Calculators", "item": "https://calcdomain.com/subcategories/chemistry"}, {"@type": "ListItem", "position": 4, "name": "Percent Composition Calculator", "item": "https://calcdomain.com/percent-composition"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/chemistry" class="text-blue-600 hover:underline">Chemistry Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Percent Composition Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Percent Composition Calculator
              </h1>
              <p class="text-gray-600">
                Compute percent composition by mass from a chemical formula or
                from experimental mass data. Automatically get step‑by‑step work
                and optional empirical formula.
              </p>
            </header>

            <!-- Mode Tabs -->
            <div class="mb-4 border-b border-gray-200">
              <nav class="flex flex-wrap gap-2" aria-label="Calculator mode">
                <button
                  id="tab-formula"
                  class="px-3 py-2 text-sm font-medium border-b-2 border-blue-600 text-blue-600 focus:outline-none"
                  type="button"
                >
                  From chemical formula
                </button>
                <button
                  id="tab-mass"
                  class="px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-blue-600 focus:outline-none"
                  type="button"
                >
                  From masses / experimental data
                </button>
              </nav>
            </div>

            <!-- Formula Mode -->
            <section id="panel-formula" aria-labelledby="tab-formula">
              <div class="space-y-4">
                <div>
                  <label
                    for="formula-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Chemical formula</label
                  >
                  <input
                    id="formula-input"
                    type="text"
                    placeholder="e.g. H2O, C6H12O6, Fe2(SO4)3"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <p class="mt-1 text-xs text-gray-500">
                    Supports parentheses and nested groups. Use standard element
                    symbols with correct capitalization (e.g. NaCl, not NACL).
                  </p>
                </div>

                <div class="flex flex-wrap gap-4 items-center">
                  <div class="flex items-center space-x-2">
                    <input
                      id="include-empirical"
                      type="checkbox"
                      class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                    />
                    <label for="include-empirical" class="text-sm text-gray-700"
                      >Also compute empirical formula</label
                    >
                  </div>
                  <div class="flex items-center space-x-2">
                    <input
                      id="round-decimals"
                      type="number"
                      min="0"
                      max="6"
                      value="2"
                      class="w-16 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                    />
                    <span class="text-sm text-gray-700">decimal places</span>
                  </div>
                </div>

                <button
                  id="btn-calc-formula"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Calculate percent composition
                </button>
              </div>

              <div
                id="formula-error"
                class="mt-4 hidden text-sm text-red-600"
              ></div>

              <div id="formula-results" class="mt-6 hidden">
                <h2 class="text-lg font-semibold mb-2">Results</h2>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-3">
                    <h3 class="text-sm font-semibold text-gray-700 mb-1">
                      Compound summary
                    </h3>
                    <p class="text-sm text-gray-700">
                      <span class="font-medium">Formula:</span>
                      <span id="res-formula-display"></span>
                    </p>
                    <p class="text-sm text-gray-700">
                      <span class="font-medium">Molar mass:</span>
                      <span id="res-molar-mass"></span> g/mol
                    </p>
                    <p
                      id="res-empirical-wrapper"
                      class="text-sm text-gray-700 mt-1 hidden"
                    >
                      <span class="font-medium">Empirical formula:</span>
                      <span id="res-empirical"></span>
                    </p>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-3">
                    <h3 class="text-sm font-semibold text-gray-700 mb-1">
                      Quick stats
                    </h3>
                    <p class="text-sm text-gray-700">
                      <span class="font-medium">Distinct elements:</span>
                      <span id="res-element-count"></span>
                    </p>
                    <p class="text-sm text-gray-700">
                      <span class="font-medium">Most abundant by mass:</span>
                      <span id="res-most-abundant"></span>
                    </p>
                  </div>
                </div>

                <div class="mt-4 overflow-x-auto scrollbar-thin">
                  <table class="min-w-full text-sm border border-gray-200">
                    <thead class="bg-gray-100">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold border-b border-gray-200"
                        >
                          Element
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          Subscript
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          Atomic mass (g/mol)
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          Mass in 1 mol (g)
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          % by mass
                        </th>
                      </tr>
                    </thead>
                    <tbody id="formula-table-body"></tbody>
                  </table>
                </div>

                <details class="mt-4">
                  <summary
                    class="cursor-pointer text-sm font-semibold text-gray-800"
                  >
                    Show step‑by‑step solution
                  </summary>
                  <div
                    id="formula-steps"
                    class="mt-2 text-sm text-gray-700 space-y-2"
                  ></div>
                </details>
              </div>
            </section>

            <!-- Mass Mode -->
            <section id="panel-mass" class="hidden" aria-labelledby="tab-mass">
              <div class="space-y-4">
                <p class="text-sm text-gray-700">
                  Enter each component’s name (or element symbol) and its mass.
                  The calculator will normalize the data and compute percent by
                  mass.
                </p>

                <div id="mass-rows" class="space-y-2">
                  <!-- rows injected by JS -->
                </div>

                <button
                  id="btn-add-row"
                  type="button"
                  class="text-xs text-blue-600 hover:underline mt-1"
                >
                  + Add another component
                </button>

                <div class="flex flex-wrap gap-4 items-center mt-2">
                  <div class="flex items-center space-x-2">
                    <label for="mass-decimals" class="text-sm text-gray-700"
                      >Decimal places</label
                    >
                    <input
                      id="mass-decimals"
                      type="number"
                      min="0"
                      max="6"
                      value="2"
                      class="w-16 border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                    />
                  </div>
                </div>

                <button
                  id="btn-calc-mass"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Calculate percent composition
                </button>
              </div>

              <div
                id="mass-error"
                class="mt-4 hidden text-sm text-red-600"
              ></div>

              <div id="mass-results" class="mt-6 hidden">
                <h2 class="text-lg font-semibold mb-2">Results</h2>
                <div
                  class="bg-gray-50 border border-gray-200 rounded-md p-3 mb-3"
                >
                  <p class="text-sm text-gray-700">
                    <span class="font-medium">Total mass:</span>
                    <span id="mass-total"></span>
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    All percentages are normalized so they sum to 100% (within
                    rounding).
                  </p>
                </div>

                <div class="overflow-x-auto scrollbar-thin">
                  <table class="min-w-full text-sm border border-gray-200">
                    <thead class="bg-gray-100">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold border-b border-gray-200"
                        >
                          Component
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          Mass
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold border-b border-gray-200"
                        >
                          % by mass
                        </th>
                      </tr>
                    </thead>
                    <tbody id="mass-table-body"></tbody>
                  </table>
                </div>

                <details class="mt-4">
                  <summary
                    class="cursor-pointer text-sm font-semibold text-gray-800"
                  >
                    Show calculation steps
                  </summary>
                  <div
                    id="mass-steps"
                    class="mt-2 text-sm text-gray-700 space-y-2"
                  ></div>
                </details>
              </div>
            </section>

            <!-- Explanatory Content -->
            <section class="prose mt-8">
              <h2>What is percent composition?</h2>
              <p>
                In chemistry, <strong>percent composition</strong> (or percent
                by mass) tells you what fraction of a compound’s mass comes from
                each element. For example, water (H<sub>2</sub>O) is about 11.2%
                hydrogen and 88.8% oxygen by mass.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Percent composition formula</p>
                <p>For an element \(E\) in a compound:</p>
                <p>
                  \[ \%E = \frac{\text{mass of }E\text{ in 1 mol of
                  compound}}{\text{molar mass of compound}} \times 100\% \]
                </p>
              </div>

              <h3>How to calculate percent composition from a formula</h3>
              <ol>
                <li>
                  <strong>Write the chemical formula</strong> (e.g.
                  C<sub>6</sub>H<sub>12</sub>O<sub>6</sub>).
                </li>
                <li>
                  <strong>Count the atoms</strong> of each element (C: 6, H: 12,
                  O: 6).
                </li>
                <li>
                  <strong>Multiply</strong> each atom count by its atomic mass
                  (from the periodic table).
                </li>
                <li>
                  <strong>Add</strong> these contributions to get the molar mass
                  of the compound.
                </li>
                <li>
                  <strong>Divide</strong> each element’s mass contribution by
                  the total molar mass and multiply by 100%.
                </li>
              </ol>

              <h3>Example: percent composition of water (H₂O)</h3>
              <ul>
                <li>
                  Atomic masses (approx.): H = 1.008 g/mol, O = 16.00 g/mol
                </li>
                <li>Mass of H in 1 mol H₂O: \(2 \times 1.008 = 2.016\) g</li>
                <li>Mass of O in 1 mol H₂O: \(1 \times 16.00 = 16.00\) g</li>
                <li>Molar mass of H₂O: \(2.016 + 16.00 = 18.016\) g/mol</li>
              </ul>
              <p>
                \[ \%H = \frac{2.016}{18.016} \times 100\% \approx 11.2\% \] \[
                \%O = \frac{16.00}{18.016} \times 100\% \approx 88.8\% \]
              </p>

              <h3>From percent composition to empirical formula</h3>
              <p>
                You can also go in the opposite direction: use percent
                composition data to find an empirical formula.
              </p>
              <ol>
                <li>
                  Assume you have <strong>100 g</strong> of the compound, so
                  percentages become grams.
                </li>
                <li>
                  Convert each element’s mass to <strong>moles</strong> using
                  its atomic mass.
                </li>
                <li>
                  Divide all mole values by the <strong>smallest</strong> mole
                  value to get a ratio.
                </li>
                <li>
                  Round to the nearest whole numbers (or multiply to clear
                  simple fractions) to get subscripts.
                </li>
              </ol>

              <h3>Common uses of percent composition</h3>
              <ul>
                <li>
                  Checking if experimental data matches a proposed formula.
                </li>
                <li>
                  Determining empirical formulas from combustion analysis.
                </li>
                <li>
                  Comparing how “oxygen‑rich” or “carbon‑rich” different
                  compounds are.
                </li>
                <li>
                  Quality control in industrial and pharmaceutical chemistry.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-3">
                Percent composition – FAQ
              </h2>
              <div class="space-y-3" id="faq-container">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What is percent composition in chemistry?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Percent composition is the percentage by mass of each
                    element in a compound. It tells you how much of the
                    compound’s total mass comes from each type of atom and
                    always adds up to 100% (within rounding).
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How do I calculate percent composition from a formula?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    1) Find the molar mass of the compound by summing all atomic
                    contributions. 2) For each element, multiply its subscript
                    by its atomic mass to get its mass in one mole. 3) Divide
                    that mass by the total molar mass and multiply by 100%. The
                    calculator automates these steps for you.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can this calculator handle parentheses and polyatomic ions?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. You can enter formulas like Fe2(SO4)3, Ca(OH)2, or
                    Al2(SO4)3. The parser expands parentheses and applies
                    subscripts correctly, then computes percent composition for
                    each element.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What if my experimental masses don’t add up to exactly 100%?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    That is normal due to measurement error and rounding. The
                    mass‑based mode first sums all masses, then divides each by
                    the total and multiplies by 100%. This normalization ensures
                    the reported percentages sum to 100% (within rounding).
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Percent, Composition.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; Algebra Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/molar-mass"
                  class="text-blue-600 hover:underline"
                  >Molar Mass Calculator</a
                >
                <span class="text-xs text-gray-500"
                  >(use with percent composition)</span
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stoichiometry"
                  class="text-blue-600 hover:underline"
                  >Stoichiometry Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/limiting-reactant"
                  class="text-blue-600 hover:underline"
                  >Limiting Reactant</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molarity"
                  class="text-blue-600 hover:underline"
                  >Molarity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/empirical-formula"
                  class="text-blue-600 hover:underline"
                  >Empirical Formula (from % composition)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percent-error"
                  class="text-blue-600 hover:underline"
                  >Percent Error</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/scientific-notation"
                  class="text-blue-600 hover:underline"
                  >Scientific Notation</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Math &amp; Conversions
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-blue-600 hover:underline"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ratio"
                  class="text-blue-600 hover:underline"
                  >Ratio Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/weighted-average"
                  class="text-blue-600 hover:underline"
                  >Weighted Average</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mean-calculator-median-mode"
                  class="text-blue-600 hover:underline"
                  >Mean, Median, Mode</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Atomic mass table (selected common elements, extendable) ---
      const ATOMIC_MASS = {
        H: 1.008,
        He: 4.0026,
        Li: 6.94,
        Be: 9.0122,
        B: 10.81,
        C: 12.011,
        N: 14.007,
        O: 15.999,
        F: 18.998,
        Ne: 20.18,
        Na: 22.99,
        Mg: 24.305,
        Al: 26.982,
        Si: 28.085,
        P: 30.974,
        S: 32.06,
        Cl: 35.45,
        Ar: 39.948,
        K: 39.098,
        Ca: 40.078,
        Sc: 44.956,
        Ti: 47.867,
        V: 50.942,
        Cr: 51.996,
        Mn: 54.938,
        Fe: 55.845,
        Co: 58.933,
        Ni: 58.693,
        Cu: 63.546,
        Zn: 65.38,
        Ga: 69.723,
        Ge: 72.63,
        As: 74.922,
        Se: 78.971,
        Br: 79.904,
        Kr: 83.798,
        Rb: 85.468,
        Sr: 87.62,
        Y: 88.906,
        Zr: 91.224,
        Nb: 92.906,
        Mo: 95.95,
        Tc: 98,
        Ru: 101.07,
        Rh: 102.91,
        Pd: 106.42,
        Ag: 107.87,
        Cd: 112.41,
        In: 114.82,
        Sn: 118.71,
        Sb: 121.76,
        Te: 127.6,
        I: 126.9,
        Xe: 131.29,
        Cs: 132.91,
        Ba: 137.33,
        La: 138.91,
        Ce: 140.12,
        Pr: 140.91,
        Nd: 144.24,
        Sm: 150.36,
        Eu: 151.96,
        Gd: 157.25,
        Tb: 158.93,
        Dy: 162.5,
        Ho: 164.93,
        Er: 167.26,
        Tm: 168.93,
        Yb: 173.05,
        Lu: 174.97,
        Hf: 178.49,
        Ta: 180.95,
        W: 183.84,
        Re: 186.21,
        Os: 190.23,
        Ir: 192.22,
        Pt: 195.08,
        Au: 196.97,
        Hg: 200.59,
        Tl: 204.38,
        Pb: 207.2,
        Bi: 208.98,
      };

      // --- Formula parser: supports nested parentheses, e.g. Fe2(SO4)3 ---
      function parseFormula(formula) {
        if (!formula || typeof formula !== "string")
          throw new Error("Please enter a chemical formula.");
        const cleaned = formula.replace(/\s+/g, "");
        if (!cleaned) throw new Error("Please enter a chemical formula.");

        let i = 0;
        function parseGroup() {
          const counts = {};
          while (i < cleaned.length) {
            const ch = cleaned[i];

            if (ch === "(") {
              i++;
              const inner = parseGroup();
              if (cleaned[i] !== ")")
                throw new Error('Unmatched "(" in formula.');
              i++;
              const mult = readNumber() || 1;
              for (const el in inner) {
                counts[el] = (counts[el] || 0) + inner[el] * mult;
              }
            } else if (ch === ")") {
              break;
            } else if (/[A-Z]/.test(ch)) {
              let symbol = ch;
              i++;
              if (i < cleaned.length && /[a-z]/.test(cleaned[i])) {
                symbol += cleaned[i];
                i++;
              }
              const mult = readNumber() || 1;
              counts[symbol] = (counts[symbol] || 0) + mult;
            } else {
              throw new Error('Unexpected character "' + ch + '" in formula.');
            }
          }
          return counts;
        }

        function readNumber() {
          let numStr = "";
          while (i < cleaned.length && /[0-9]/.test(cleaned[i])) {
            numStr += cleaned[i++];
          }
          return numStr ? parseInt(numStr, 10) : null;
        }

        const result = parseGroup();
        if (i !== cleaned.length) {
          throw new Error(
            "Could not parse entire formula. Check for mismatched parentheses or typos."
          );
        }
        return result;
      }

      function computePercentComposition(counts) {
        const elements = Object.keys(counts);
        if (!elements.length) throw new Error("No elements found in formula.");

        let molarMass = 0;
        const details = [];

        for (const el of elements) {
          const n = counts[el];
          const mass = ATOMIC_MASS[el];
          if (!mass) throw new Error('Unknown element symbol "' + el + '".');
          const contrib = n * mass;
          molarMass += contrib;
          details.push({
            element: el,
            subscript: n,
            atomicMass: mass,
            massContribution: contrib,
          });
        }

        for (const row of details) {
          row.percent = (row.massContribution / molarMass) * 100;
        }

        return { molarMass, details };
      }

      function gcd(a, b) {
        a = Math.abs(a);
        b = Math.abs(b);
        while (b > 1e-12) {
          const t = b;
          b = a % b;
          a = t;
        }
        return a;
      }

      function empiricalFromCounts(counts) {
        const elements = Object.keys(counts);
        if (!elements.length) return null;

        const moles = elements.map((el) => counts[el]);
        const minMol = Math.min(...moles);
        const ratios = moles.map((m) => m / minMol);

        const scaled = ratios.map((r) => Math.round(r * 4) / 4);
        const ints = scaled.map((r) => Math.round(r));
        const maxDen = 4;
        let lcm = 1;

        function lcm2(a, b) {
          return (a * b) / gcd(a, b);
        }

        for (const r of scaled) {
          const frac = r - Math.floor(r);
          if (Math.abs(frac) < 1e-6) continue;
          if (Math.abs(frac - 0.5) < 1e-6) lcm = lcm2(lcm, 2);
          else if (Math.abs(frac - 0.25) < 1e-6 || Math.abs(frac - 0.75) < 1e-6)
            lcm = lcm2(lcm, 4);
        }

        const final = scaled.map((r) => Math.round(r * lcm));
        const g = final.reduce((acc, v) => gcd(acc, v), final[0]);
        const normalized = final.map((v) => v / g);

        const empiricalCounts = {};
        elements.forEach((el, idx) => {
          empiricalCounts[el] = normalized[idx];
        });
        return empiricalCounts;
      }

      function countsToFormula(counts) {
        return Object.keys(counts)
          .sort()
          .map((el) => el + (counts[el] === 1 ? "" : counts[el]))
          .join("");
      }

      // --- UI helpers ---
      function setHidden(id, hidden) {
        const el = document.getElementById(id);
        if (!el) return;
        el.classList.toggle("hidden", hidden);
      }

      function formatNumber(value, decimals) {
        return Number(value).toFixed(decimals);
      }

      // --- Mode switching ---
      const tabFormula = document.getElementById("tab-formula");
      const tabMass = document.getElementById("tab-mass");
      const panelFormula = document.getElementById("panel-formula");
      const panelMass = document.getElementById("panel-mass");

      tabFormula.addEventListener("click", () => {
        tabFormula.classList.add("border-blue-600", "text-blue-600");
        tabFormula.classList.remove("border-transparent", "text-gray-600");
        tabMass.classList.add("border-transparent", "text-gray-600");
        tabMass.classList.remove("border-blue-600", "text-blue-600");
        panelFormula.classList.remove("hidden");
        panelMass.classList.add("hidden");
      });

      tabMass.addEventListener("click", () => {
        tabMass.classList.add("border-blue-600", "text-blue-600");
        tabMass.classList.remove("border-transparent", "text-gray-600");
        tabFormula.classList.add("border-transparent", "text-gray-600");
        tabFormula.classList.remove("border-blue-600", "text-blue-600");
        panelMass.classList.remove("hidden");
        panelFormula.classList.add("hidden");
      });

      // --- Formula mode logic ---
      document
        .getElementById("btn-calc-formula")
        .addEventListener("click", () => {
          const formula = document.getElementById("formula-input").value.trim();
          const decimals = Math.min(
            6,
            Math.max(
              0,
              parseInt(document.getElementById("round-decimals").value, 10) || 2
            )
          );
          const includeEmpirical =
            document.getElementById("include-empirical").checked;
          const errorEl = document.getElementById("formula-error");
          errorEl.textContent = "";
          setHidden("formula-error", true);
          setHidden("formula-results", true);

          try {
            const counts = parseFormula(formula);
            const { molarMass, details } = computePercentComposition(counts);

            // Fill summary
            document.getElementById("res-formula-display").textContent =
              formula.replace(/\s+/g, "");
            document.getElementById("res-molar-mass").textContent =
              formatNumber(molarMass, decimals);
            document.getElementById("res-element-count").textContent =
              details.length.toString();

            const most = [...details].sort((a, b) => b.percent - a.percent)[0];
            document.getElementById("res-most-abundant").textContent = most
              ? `${most.element} (${formatNumber(most.percent, decimals)}%)`
              : "—";

            // Empirical formula
            const empWrapper = document.getElementById("res-empirical-wrapper");
            if (includeEmpirical) {
              const empCounts = empiricalFromCounts(counts);
              const empFormula = countsToFormula(empCounts);
              document.getElementById("res-empirical").textContent = empFormula;
              empWrapper.classList.remove("hidden");
            } else {
              empWrapper.classList.add("hidden");
            }

            // Table
            const tbody = document.getElementById("formula-table-body");
            tbody.innerHTML = "";
            details.sort((a, b) => a.element.localeCompare(b.element));
            for (const row of details) {
              const tr = document.createElement("tr");
              tr.innerHTML = `
          <td class="px-3 py-2 border-b border-gray-200">${row.element}</td>
          <td class="px-3 py-2 border-b border-gray-200 text-right">${
            row.subscript
          }</td>
          <td class="px-3 py-2 border-b border-gray-200 text-right">${formatNumber(
            row.atomicMass,
            3
          )}</td>
          <td class="px-3 py-2 border-b border-gray-200 text-right">${formatNumber(
            row.massContribution,
            decimals
          )}</td>
          <td class="px-3 py-2 border-b border-gray-200 text-right">${formatNumber(
            row.percent,
            decimals
          )}</td>
        `;
              tbody.appendChild(tr);
            }

            // Steps
            const stepsEl = document.getElementById("formula-steps");
            const listItems = details
              .map(
                (row) =>
                  `${row.element}: ${row.subscript} × ${row.atomicMass.toFixed(
                    3
                  )} = ${row.massContribution.toFixed(decimals)} g`
              )
              .join("<br>");
            stepsEl.innerHTML = `
        <p><strong>1.</strong> Parse the formula and count atoms of each element.</p>
        <p><strong>2.</strong> Multiply each element’s subscript by its atomic mass:</p>
        <p class="ml-4">${listItems}</p>
        <p><strong>3.</strong> Add all contributions to get the molar mass of the compound:
          <br><span class="ml-4">Molar mass = ${details
            .map((r) => r.massContribution.toFixed(decimals))
            .join(" + ")} = ${molarMass.toFixed(decimals)} g/mol</span>
        </p>
        <p><strong>4.</strong> For each element, divide its mass contribution by the molar mass and multiply by 100%:</p>
        <p class="ml-4">
          ${details
            .map(
              (r) =>
                `%${r.element} = (${r.massContribution.toFixed(
                  decimals
                )} / ${molarMass.toFixed(
                  decimals
                )}) × 100% = ${r.percent.toFixed(decimals)}%`
            )
            .join("<br>")}
        </p>
      `;

            setHidden("formula-results", false);
          } catch (err) {
            errorEl.textContent =
              err.message ||
              "Could not compute percent composition. Please check your input.";
            setHidden("formula-error", false);
          }
        });

      // --- Mass mode logic ---
      const massRowsContainer = document.getElementById("mass-rows");
      const btnAddRow = document.getElementById("btn-add-row");

      function createMassRow(index) {
        const row = document.createElement("div");
        row.className = "flex flex-wrap gap-2 items-center";
        row.dataset.index = index;
        row.innerHTML = `
      <input type="text" placeholder="Element / component" class="flex-1 min-w-[120px] border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 mass-name" />
      <input type="number" step="any" min="0" placeholder="Mass" class="w-28 border border-gray-300 rounded-md px-2 py-1 text-sm text-right focus:outline-none focus:ring-1 focus:ring-blue-500 mass-value" />
      <button type="button" class="text-xs text-red-600 hover:underline mass-remove">Remove</button>
    `;
        return row;
      }

      function ensureMassRows(count) {
        while (massRowsContainer.children.length < count) {
          massRowsContainer.appendChild(
            createMassRow(massRowsContainer.children.length + 1)
          );
        }
      }

      // Initialize with 3 rows
      ensureMassRows(3);

      btnAddRow.addEventListener("click", () => {
        massRowsContainer.appendChild(
          createMassRow(massRowsContainer.children.length + 1)
        );
      });

      massRowsContainer.addEventListener("click", (e) => {
        if (e.target.classList.contains("mass-remove")) {
          if (massRowsContainer.children.length <= 1) return;
          const row = e.target.closest("div[data-index]");
          if (row) row.remove();
        }
      });

      document.getElementById("btn-calc-mass").addEventListener("click", () => {
        const decimals = Math.min(
          6,
          Math.max(
            0,
            parseInt(document.getElementById("mass-decimals").value, 10) || 2
          )
        );
        const errorEl = document.getElementById("mass-error");
        errorEl.textContent = "";
        setHidden("mass-error", true);
        setHidden("mass-results", true);

        const rows = Array.from(massRowsContainer.children);
        const components = [];

        for (const row of rows) {
          const name =
            row.querySelector(".mass-name").value.trim() ||
            "Component " + (components.length + 1);
          const valStr = row.querySelector(".mass-value").value.trim();
          if (!valStr) continue;
          const mass = parseFloat(valStr);
          if (!isFinite(mass) || mass < 0) {
            errorEl.textContent = "Mass values must be non‑negative numbers.";
            setHidden("mass-error", false);
            return;
          }
          components.push({ name, mass });
        }

        if (components.length < 1) {
          errorEl.textContent = "Enter at least one non‑zero mass value.";
          setHidden("mass-error", false);
          return;
        }

        const totalMass = components.reduce((sum, c) => sum + c.mass, 0);
        if (totalMass <= 0) {
          errorEl.textContent = "Total mass must be greater than zero.";
          setHidden("mass-error", false);
          return;
        }

        components.forEach((c) => {
          c.percent = (c.mass / totalMass) * 100;
        });

        document.getElementById("mass-total").textContent = formatNumber(
          totalMass,
          decimals
        );

        const tbody = document.getElementById("mass-table-body");
        tbody.innerHTML = "";
        components.forEach((c) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-3 py-2 border-b border-gray-200">${c.name}</td>
        <td class="px-3 py-2 border-b border-gray-200 text-right">${formatNumber(
          c.mass,
          decimals
        )}</td>
        <td class="px-3 py-2 border-b border-gray-200 text-right">${formatNumber(
          c.percent,
          decimals
        )}</td>
      `;
          tbody.appendChild(tr);
        });

        const stepsEl = document.getElementById("mass-steps");
        stepsEl.innerHTML = `
      <p><strong>1.</strong> Add all component masses to get the total mass:
        <br><span class="ml-4">Total mass = ${components
          .map((c) => c.mass.toFixed(decimals))
          .join(" + ")} = ${totalMass.toFixed(decimals)}</span>
      </p>
      <p><strong>2.</strong> For each component, divide its mass by the total mass and multiply by 100%:</p>
      <p class="ml-4">
        ${components
          .map(
            (c) =>
              `%${c.name} = (${c.mass.toFixed(decimals)} / ${totalMass.toFixed(
                decimals
              )}) × 100% = ${c.percent.toFixed(decimals)}%`
          )
          .join("<br>")}
      </p>
    `;

        setHidden("mass-results", false);
      });

      // MathJax config
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
