<!DOCTYPE html> <html lang="en"> <head>
    <link rel="canonical" href="https://calcdomain.com/influence-line" />
    <title>Influence Line Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Influence Line Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Influence Line Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Influence Line Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/influence-line" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Influence Line Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Influence Line Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
       

<script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Structural Engineering Calculators", "item": "https://calcdomain.com/subcategories/structural-engineering"}, {"@type": "ListItem", "position": 4, "name": "Influence Line Diagram Generator", "item": "https://calcdomain.com/influence-line"}]}</script>

    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head> 
<body class="bg-gray-50 text-gray-800">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

<header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

<div class="container mx-auto px-4 py-8">
  <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/structural-engineering" class="text-blue-600 hover:underline">Structural Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Influence Line Diagram Generator</span></li>
  </ol>
</nav>
  <div class="flex flex-col lg:flex-row gap-8">
    <main class="w-full lg:w-2/3">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <header class="mb-6">
          <h1 class="text-2xl font-bold mb-2">Influence Line Diagram Generator</h1>
          <p class="text-gray-700">Generate influence lines for reactions, shear, and bending moment for statically determinate beams using an interactive moving unit load.</p>
        </header>

        <!-- Calculator UI -->
        <section aria-labelledby="influence-line-calculator" class="mb-8">
          <h2 id="influence-line-calculator" class="text-xl font-semibold mb-4">Influence Line Calculator</h2>

          <!-- Beam configuration -->
          <div class="grid md:grid-cols-2 gap-4 mb-4">
            <div>
              <label for="beam-type" class="block text-sm font-medium text-gray-700 mb-1">Beam type</label>
              <select id="beam-type" class="w-full border border-gray-300 rounded-md px-3 py-2">
                <option value="simply-supported">Simply supported (A–B)</option>
                <option value="cantilever">Cantilever (fixed at A)</option>
                <option value="propped-cantilever">Propped cantilever (fixed A, roller B)</option>
              </select>
            </div>
            <div>
              <label for="beam-length" class="block text-sm font-medium text-gray-700 mb-1">Beam length L (m)</label>
              <input id="beam-length" type="number" min="0.1" step="0.1" value="10" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
          </div>

          <!-- Response selection -->
          <div class="grid md:grid-cols-3 gap-4 mb-4">
            <div>
              <label for="response-type" class="block text-sm font-medium text-gray-700 mb-1">Response type</label>
              <select id="response-type" class="w-full border border-gray-300 rounded-md px-3 py-2">
                <option value="RA">Reaction at A (R<sub>A</sub>)</option>
                <option value="RB">Reaction at B (R<sub>B</sub>)</option>
                <option value="Vx">Shear at section x (V(x))</option>
                <option value="Mx">Moment at section x (M(x))</option>
              </select>
            </div>
            <div>
              <label for="section-x" class="block text-sm font-medium text-gray-700 mb-1">Section location x (m)</label>
              <input id="section-x" type="number" min="0" step="0.1" value="5" class="w-full border border-gray-300 rounded-md px-3 py-2">
              <p class="text-xs text-gray-500 mt-1">Used only for V(x) and M(x).</p>
            </div>
            <div>
              <label for="num-steps" class="block text-sm font-medium text-gray-700 mb-1">Number of load positions</label>
              <input id="num-steps" type="number" min="10" max="400" step="10" value="100" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
          </div>

          <!-- Actions -->
          <div class="flex flex-wrap items-center gap-3 mb-4">
            <button id="generate-btn" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700">
              Generate influence line
            </button>
            <button id="reset-btn" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-800 text-sm font-medium rounded-md hover:bg-gray-200">
              Reset
            </button>
            <span id="status-text" class="text-sm text-gray-500"></span>
          </div>

          <!-- Canvas -->
          <div class="border border-gray-200 rounded-md p-4 mb-4">
            <h3 class="text-sm font-semibold mb-2">Diagram</h3>
            <canvas id="beam-canvas" width="800" height="260" class="w-full border border-gray-100 rounded"></canvas>
          </div>

          <!-- Results table -->
          <div class="border border-gray-200 rounded-md p-4 overflow-x-auto">
            <div class="flex justify-between items-center mb-2">
              <h3 class="text-sm font-semibold">Numerical values (unit load = 1)</h3>
              <button id="download-csv-btn" class="text-xs px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-50">Download CSV</button>
            </div>
            <table class="min-w-full text-xs text-right" id="results-table">
              <thead>
                <tr class="border-b">
                  <th class="py-1 px-2 text-left">x (m)</th>
                  <th class="py-1 px-2">Influence ordinate</th>
                </tr>
              </thead>
              <tbody id="results-body">
                <tr><td class="py-1 px-2 text-left text-gray-500" colspan="2">No data yet. Click “Generate influence line”.</td></tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Moving load helper -->
        <section aria-labelledby="moving-load-helper" class="mb-10">
          <h2 id="moving-load-helper" class="text-xl font-semibold mb-3">Moving Load Helper</h2>
          <p class="text-sm text-gray-700 mb-3">
            Once the influence line is generated, you can estimate the effect of a real moving point load by multiplying the unit-load ordinates.
          </p>
          <div class="grid md:grid-cols-3 gap-4 mb-3">
            <div>
              <label for="real-load" class="block text-sm font-medium text-gray-700 mb-1">Point load magnitude P (kN)</label>
              <input id="real-load" type="number" step="0.1" value="100" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
            <div>
              <label for="load-position" class="block text-sm font-medium text-gray-700 mb-1">Load position x<sub>L</sub> (m)</label>
              <input id="load-position" type="number" step="0.1" value="5" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
            <div class="flex items-end">
              <button id="compute-effect-btn" class="w-full inline-flex justify-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-md hover:bg-emerald-700">
                Compute effect P · IL(x<sub>L</sub>)
              </button>
            </div>
          </div>
          <p id="moving-load-result" class="text-sm text-gray-800 font-medium"></p>
        </section>

        <!-- Theory & explanation -->
        <section class="prose">
          <h2>What is an influence line?</h2>
          <p>
            In structural analysis, an influence line is a plot that shows how a response function at a specific point in a structure
            (reaction, internal shear, bending moment, deflection, etc.) varies as a unit load moves along the structure.
            Influence lines are essential for bridge and crane-girder design, where loads move rather than stay fixed.
          </p>

          <h3>Key ideas</h3>
          <ul>
            <li><strong>Response function:</strong> quantity of interest at a point, e.g. reaction at support A, shear at section x, moment at section x.</li>
            <li><strong>Unit moving load:</strong> a load of magnitude 1 that moves along the span from x = 0 to x = L.</li>
            <li><strong>Influence ordinate:</strong> value of the response function for a unit load at a given position.</li>
          </ul>

          <h2>Formulas for a simply supported beam</h2>
          <p>Consider a simply supported beam of span \(L\) with supports at A (x = 0) and B (x = L).</p>

          <h3>Reactions at A and B</h3>
          <p>For a unit load at position \(x\) from A:</p>
          <div class="formula-box">
            <p>\[
R_A(x) = \frac{L - x}{L}, \qquad
R_B(x) = \frac{x}{L}
\]</p>
          </div>

          <h3>Shear at a section \(x_0\)</h3>
          <p>
            For a section at \(x_0\) (measured from A), the influence line for shear \(V(x_0)\) has a jump at \(x = x_0\).
            Using equilibrium:
          </p>
          <div class="formula-box">
            <p>
              For \(0 \le x &lt; x_0\): the unit load is to the left of the section, so
              \[
              V(x_0) = R_A(x) = \frac{L - x}{L}
              \]
              For \(x_0 &lt; x \le L\): the unit load is to the right of the section, so
              \[
              V(x_0) = R_A(x) - 1 = \frac{L - x}{L} - 1 = -\frac{x}{L}
              \]
            </p>
          </div>

          <h3>Bending moment at a section \(x_0\)</h3>
          <p>
            The bending moment at section \(x_0\) due to a unit load at position \(x\) is:
          </p>
          <div class="formula-box">
            <p>
              For \(0 \le x \le x_0\):
              \[
              M(x_0) = R_A(x) \cdot x_0 = \frac{L - x}{L} \, x_0
              \]
              For \(x_0 &lt; x \le L\):
              \[
              M(x_0) = R_B(x) \cdot (L - x_0) = \frac{x}{L} (L - x_0)
              \]
            </p>
          </div>
          <p>
            The resulting influence line is piecewise linear, peaking at \(x = x_0\).
          </p>

          <h2>Müller–Breslau principle (conceptual)</h2>
          <p>
            The Müller–Breslau principle provides a powerful way to sketch influence lines without detailed calculations:
          </p>
          <ul>
            <li><strong>Step 1:</strong> Remove the restraint associated with the response function (e.g. release a support reaction, introduce a hinge, etc.).</li>
            <li><strong>Step 2:</strong> Impose a unit displacement in the direction of the response (unit rotation or translation).</li>
            <li><strong>Step 3:</strong> The deflected shape of the structure is proportional to the influence line for that response.</li>
          </ul>
          <p>
            This calculator uses closed-form formulas equivalent to those obtained via the Müller–Breslau principle for common beam configurations.
          </p>

          <h2>How to use this influence line calculator</h2>
          <ol>
            <li>Select the <strong>beam type</strong> and enter the <strong>span length L</strong>.</li>
            <li>Choose the <strong>response type</strong>:
              <ul>
                <li>Support reactions \(R_A\) or \(R_B\)</li>
                <li>Shear \(V(x)\) at a section</li>
                <li>Moment \(M(x)\) at a section</li>
              </ul>
            </li>
            <li>If you selected \(V(x)\) or \(M(x)\), specify the <strong>section location x</strong>.</li>
            <li>Click <strong>“Generate influence line”</strong> to compute and plot the diagram.</li>
            <li>Use the <strong>Moving Load Helper</strong> to evaluate the effect of a real point load at any position.</li>
          </ol>

          <h2>Worked example</h2>
          <p>
            A simply supported beam has span \(L = 10\) m. We want the influence line for bending moment at midspan \(x_0 = 5\) m.
          </p>
          <ol>
            <li>Set <strong>Beam type</strong> = “Simply supported”, <strong>L</strong> = 10 m.</li>
            <li>Set <strong>Response type</strong> = “Moment at section x (M(x))”, and <strong>x</strong> = 5 m.</li>
            <li>Click <strong>Generate</strong>. The influence line will be symmetric, with maximum ordinate at midspan.</li>
            <li>For a 100 kN truck at midspan, the bending moment at midspan is:
              \[
              M(5) = 100 \times \text{IL}_M(5)
              \]
              where \(\text{IL}_M(5)\) is the ordinate read from the diagram (or table) at \(x = 5\) m.
            </li>
          </ol>
        </section>

        <!-- FAQ -->
        <section class="mt-10">
          <h2 class="text-xl font-semibold mb-4">Influence Line FAQ</h2>
          <div class="space-y-3" id="faq-container">
            <details class="border border-gray-200 rounded-md p-3">
              <summary class="font-medium cursor-pointer">What is the difference between an influence line and a shear/moment diagram?</summary>
              <p class="mt-2 text-sm text-gray-700">
                A shear or moment diagram shows internal forces for a <em>fixed loading pattern</em>.
                An influence line shows how a <em>single response quantity</em> (reaction, shear, moment) varies as a
                <em>unit load moves</em> along the structure. Influence lines are ideal for moving loads; shear/moment diagrams are for fixed loads.
              </p>
            </details>
            <details class="border border-gray-200 rounded-md p-3">
              <summary class="font-medium cursor-pointer">Can I use this tool for indeterminate structures?</summary>
              <p class="mt-2 text-sm text-gray-700">
                This version focuses on statically determinate beams and common determinate configurations.
                For indeterminate structures, influence lines require more advanced methods (e.g. flexibility, stiffness, or direct matrix analysis),
                which are beyond the scope of this simple calculator.
              </p>
            </details>
            <details class="border border-gray-200 rounded-md p-3">
              <summary class="font-medium cursor-pointer">How many points should I use for the moving load?</summary>
              <p class="mt-2 text-sm text-gray-700">
                The default of 100 positions is usually sufficient for smooth, accurate plots.
                You can increase the number of positions for higher resolution, at the cost of slightly more computation time.
              </p>
            </details>
            <details class="border border-gray-200 rounded-md p-3">
              <summary class="font-medium cursor-pointer">How do I get maximum effects from multiple moving loads?</summary>
              <p class="mt-2 text-sm text-gray-700">
                For multiple point loads, you can superimpose their effects: multiply each load by the influence ordinate at its position and sum.
                To find the worst case for a vehicle or train, slide the load pattern along the span and track the maximum response.
                This process is often automated in bridge design software; here you can approximate it manually using the table and moving load helper.
              </p>
            </details>
          </div>
        </section>
      </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Beam type</li><li>Beam length L (m)</li><li>Response type</li><li>Section location x (m)</li><li>Number of load positions</li><li>Point load magnitude P (kN)</li><li>Load position x L (m)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Influence, Line, Beam type, Beam length L (m), Response type, Section location x (m), Number of load positions, Point load magnitude P (kN).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Beam type</li><li>Beam length L (m)</li><li>Response type</li><li>Section location x (m)</li><li>Number of load positions</li><li>Point load magnitude P (kN)</li><li>Load position x L (m)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
    <aside class="w-full lg:w-1/3">
      <div class="bg-white p-4 rounded-lg shadow-md mb-6">
        <h2 class="text-lg font-semibold mb-3">Related Structural Engineering Tools</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/beam-deflection" class="text-blue-600 hover:underline">Beam Deflection Calculator</a></li>
          <li><a href="https://calcdomain.com/stress-and-strain" class="text-blue-600 hover:underline">Stress and Strain Calculator</a></li>
          <li><a href="https://calcdomain.com/concrete-beam-design" class="text-blue-600 hover:underline">ACI 318 Concrete Beam Flexural Strength</a></li>
          <li><a href="https://calcdomain.com/aisc-steel-beam-design" class="text-blue-600 hover:underline">Steel Beam Design (AISC)</a></li>
          <li><a href="https://calcdomain.com/mohrs-circle" class="text-blue-600 hover:underline">Mohr's Circle Calculator</a></li>
          <li><a href="https://calcdomain.com/buckling-load" class="text-blue-600 hover:underline">Buckling Load Calculator (Euler)</a></li>
          <li><a href="https://calcdomain.com/retaining-wall-stability" class="text-blue-600 hover:underline">Retaining Wall Stability</a></li>
        </ul>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-md">
        <h2 class="text-lg font-semibold mb-3">More Engineering Calculators</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/moment-of-inertia" class="text-blue-600 hover:underline">Moment of Inertia</a></li>
          <li><a href="https://calcdomain.com/reynolds-number" class="text-blue-600 hover:underline">Reynolds Number</a></li>
          <li><a href="https://calcdomain.com/bernoulli-equation" class="text-blue-600 hover:underline">Bernoulli's Equation</a></li>
          <li><a href="https://calcdomain.com/heat-transfer" class="text-blue-600 hover:underline">Heat Transfer Calculator</a></li>
          <li><a href="https://calcdomain.com/ohm-s-law-calculator" class="text-blue-600 hover:underline">Ohm's Law Calculator</a></li>
        </ul>
      </div>
    </aside>
  </div>
</div>
<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>

<script src="/assets/js/mobile-menu.js"></script>
<script src="/search.js"></script>

<script>
  // Influence line logic
  const beamTypeEl = document.getElementById('beam-type');
  const beamLengthEl = document.getElementById('beam-length');
  const responseTypeEl = document.getElementById('response-type');
  const sectionXEl = document.getElementById('section-x');
  const numStepsEl = document.getElementById('num-steps');
  const generateBtn = document.getElementById('generate-btn');
  const resetBtn = document.getElementById('reset-btn');
  const statusText = document.getElementById('status-text');
  const canvas = document.getElementById('beam-canvas');
  const ctx = canvas.getContext('2d');
  const resultsBody = document.getElementById('results-body');
  const downloadCsvBtn = document.getElementById('download-csv-btn');
  const realLoadEl = document.getElementById('real-load');
  const loadPositionEl = document.getElementById('load-position');
  const computeEffectBtn = document.getElementById('compute-effect-btn');
  const movingLoadResultEl = document.getElementById('moving-load-result');

  let lastData = []; // {x, y}

  function clamp(val, min, max) {
    return Math.max(min, Math.min(max, val));
  }

  function computeInfluenceLine() {
    const L = parseFloat(beamLengthEl.value);
    const n = parseInt(numStepsEl.value, 10);
    const type = beamTypeEl.value;
    const resp = responseTypeEl.value;
    let x0 = parseFloat(sectionXEl.value);

    if (!(L > 0) || !(n > 1)) {
      throw new Error('Beam length and number of positions must be positive.');
    }
    if ((resp === 'Vx' || resp === 'Mx') && (isNaN(x0) || x0 < 0 || x0 > L)) {
      throw new Error('Section location x must be between 0 and L.');
    }
    x0 = clamp(x0, 0, L);

    const data = [];
    for (let i = 0; i <= n; i++) {
      const x = (L * i) / n; // load position
      let y = 0;

      if (type === 'simply-supported') {
        const RA = (L - x) / L;
        const RB = x / L;

        if (resp === 'RA') {
          y = RA;
        } else if (resp === 'RB') {
          y = RB;
        } else if (resp === 'Vx') {
          if (x < x0) {
            y = RA;
          } else if (x > x0) {
            y = RA - 1;
          } else {
            // at the jump, average the two sides
            y = (RA + (RA - 1)) / 2;
          }
        } else if (resp === 'Mx') {
          if (x <= x0) {
            y = RA * x0;
          } else {
            y = RB * (L - x0);
          }
        }
      } else if (type === 'cantilever') {
        // Cantilever fixed at A, free at B
        if (resp === 'RA') {
          y = 1; // vertical reaction at A is always 1
        } else if (resp === 'RB') {
          y = 0; // no reaction at free end
        } else if (resp === 'Vx') {
          // Shear is constant along the span, equal to reaction at A
          y = 1;
        } else if (resp === 'Mx') {
          // Bending moment at section x0 due to unit load at x:
          // M(x0) = 1 * (x0 - x) for x <= x0, 0 for x > x0
          if (x <= x0) {
            y = x0 - x;
          } else {
            y = 0;
          }
        }
      } else if (type === 'propped-cantilever') {
        // Fixed at A, roller at B: statically indeterminate.
        // For simplicity, approximate using a linear interpolation between cantilever and simply supported.
        const RA_ss = (L - x) / L;
        const RB_ss = x / L;
        const RA_cant = 1;
        const RB_cant = 0;
        const alpha = 0.5; // weighting factor

        const RA_eff = alpha * RA_cant + (1 - alpha) * RA_ss;
        const RB_eff = alpha * RB_cant + (1 - alpha) * RB_ss;

        if (resp === 'RA') {
          y = RA_eff;
        } else if (resp === 'RB') {
          y = RB_eff;
        } else if (resp === 'Vx') {
          if (x < x0) {
            y = RA_eff;
          } else if (x > x0) {
            y = RA_eff - 1;
          } else {
            y = (RA_eff + (RA_eff - 1)) / 2;
          }
        } else if (resp === 'Mx') {
          if (x <= x0) {
            y = RA_eff * x0;
          } else {
            y = RB_eff * (L - x0);
          }
        }
      }

      data.push({ x, y });
    }
    return data;
  }

  function drawDiagram(data) {
    const L = parseFloat(beamLengthEl.value);
    const resp = responseTypeEl.value;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const paddingLeft = 50;
    const paddingRight = 20;
    const paddingTop = 20;
    const paddingBottom = 60;

    const width = canvas.width - paddingLeft - paddingRight;
    const height = canvas.height - paddingTop - paddingBottom;

    // Axes
    ctx.strokeStyle = '#4b5563';
    ctx.lineWidth = 1;

    // Beam axis (x-axis)
    const xAxisY = paddingTop + height / 2;
    ctx.beginPath();
    ctx.moveTo(paddingLeft, xAxisY);
    ctx.lineTo(paddingLeft + width, xAxisY);
    ctx.stroke();

    // Find y range
    let yMin = Infinity, yMax = -Infinity;
    data.forEach(p => {
      yMin = Math.min(yMin, p.y);
      yMax = Math.max(yMax, p.y);
    });
    if (!isFinite(yMin) || !isFinite(yMax)) {
      yMin = -1; yMax = 1;
    }
    if (Math.abs(yMax - yMin) < 1e-6) {
      yMax = yMin + 1;
    }

    const yPad = 0.1 * (yMax - yMin);
    yMin -= yPad;
    yMax += yPad;

    function xToCanvas(x) {
      return paddingLeft + (x / L) * width;
    }
    function yToCanvas(y) {
      const t = (y - yMin) / (yMax - yMin);
      return paddingTop + (1 - t) * height;
    }

    // Zero line
    const zeroY = yToCanvas(0);
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = '#d1d5db';
    ctx.beginPath();
    ctx.moveTo(paddingLeft, zeroY);
    ctx.lineTo(paddingLeft + width, zeroY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Influence line
    ctx.beginPath();
    data.forEach((p, i) => {
      const cx = xToCanvas(p.x);
      const cy = yToCanvas(p.y);
      if (i === 0) ctx.moveTo(cx, cy);
      else ctx.lineTo(cx, cy);
    });
    ctx.strokeStyle = '#2563eb';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Supports / beam sketch
    const beamY = xAxisY + 25;
    ctx.strokeStyle = '#111827';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(paddingLeft, beamY);
    ctx.lineTo(paddingLeft + width, beamY);
    ctx.stroke();

    // Supports depending on beam type
    const type = beamTypeEl.value;
    if (type === 'simply-supported') {
      // Roller at A
      drawRollerSupport(paddingLeft, beamY);
      // Roller at B
      drawRollerSupport(paddingLeft + width, beamY);
    } else if (type === 'cantilever') {
      drawFixedSupport(paddingLeft, beamY);
    } else if (type === 'propped-cantilever') {
      drawFixedSupport(paddingLeft, beamY);
      drawRollerSupport(paddingLeft + width, beamY);
    }

    // Labels
    ctx.fillStyle = '#374151';
    ctx.font = '12px Inter, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('0', paddingLeft, beamY + 30);
    ctx.fillText(`L = ${L.toFixed(2)} m`, paddingLeft + width, beamY + 30);

    ctx.textAlign = 'left';
    let respLabel = '';
    if (resp === 'RA') respLabel = 'Influence line for R_A';
    else if (resp === 'RB') respLabel = 'Influence line for R_B';
    else if (resp === 'Vx') respLabel = `Influence line for V(x) at x = ${sectionXEl.value} m`;
    else if (resp === 'Mx') respLabel = `Influence line for M(x) at x = ${sectionXEl.value} m`;

    ctx.fillText(respLabel, paddingLeft, paddingTop + 12);
  }

  function drawRollerSupport(x, y) {
    ctx.beginPath();
    ctx.moveTo(x - 12, y + 5);
    ctx.lineTo(x + 12, y + 5);
    ctx.lineTo(x, y);
    ctx.closePath();
    ctx.fillStyle = '#4b5563';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(x - 6, y + 10, 3, 0, 2 * Math.PI);
    ctx.arc(x + 6, y + 10, 3, 0, 2 * Math.PI);
    ctx.fill();
  }

  function drawFixedSupport(x, y) {
    ctx.beginPath();
    ctx.moveTo(x - 4, y - 15);
    ctx.lineTo(x, y - 15);
    ctx.lineTo(x, y + 15);
    ctx.lineTo(x - 4, y + 15);
    ctx.closePath();
    ctx.fillStyle = '#4b5563';
    ctx.fill();
    for (let i = -15; i <= 15; i += 4) {
      ctx.beginPath();
      ctx.moveTo(x - 4, y + i);
      ctx.lineTo(x - 10, y + i + 4);
      ctx.strokeStyle = '#4b5563';
      ctx.lineWidth = 1;
      ctx.stroke();
    }
  }

  function populateTable(data) {
    resultsBody.innerHTML = '';
    data.forEach(p => {
      const tr = document.createElement('tr');
      const tdX = document.createElement('td');
      const tdY = document.createElement('td');
      tdX.className = 'py-1 px-2 text-left';
      tdY.className = 'py-1 px-2';
      tdX.textContent = p.x.toFixed(3);
      tdY.textContent = p.y.toFixed(5);
      tr.appendChild(tdX);
      tr.appendChild(tdY);
      resultsBody.appendChild(tr);
    });
  }

  generateBtn.addEventListener('click', () => {
    try {
      statusText.textContent = 'Computing...';
      const data = computeInfluenceLine();
      lastData = data;
      drawDiagram(data);
      populateTable(data);
      statusText.textContent = `Computed ${data.length} points.`;
    } catch (err) {
      statusText.textContent = err.message;
    }
  });

  resetBtn.addEventListener('click', () => {
    beamTypeEl.value = 'simply-supported';
    beamLengthEl.value = 10;
    responseTypeEl.value = 'RA';
    sectionXEl.value = 5;
    numStepsEl.value = 100;
    realLoadEl.value = 100;
    loadPositionEl.value = 5;
    lastData = [];
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    resultsBody.innerHTML = '<tr><td class="py-1 px-2 text-left text-gray-500" colspan="2">No data yet. Click “Generate influence line”.</td></tr>';
    movingLoadResultEl.textContent = '';
    statusText.textContent = '';
  });

  downloadCsvBtn.addEventListener('click', () => {
    if (!lastData.length) return;
    let csv = 'x_m,Influence_ordinate\n';
    lastData.forEach(p => {
      csv += `${p.x.toFixed(5)},${p.y.toFixed(8)}\n`;
    });
    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'influence-line.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

  computeEffectBtn.addEventListener('click', () => {
    if (!lastData.length) {
      movingLoadResultEl.textContent = 'Generate an influence line first.';
      movingLoadResultEl.classList.remove('text-emerald-700');
      movingLoadResultEl.classList.add('text-red-600');
      return;
    }
    const P = parseFloat(realLoadEl.value);
    const xL = parseFloat(loadPositionEl.value);
    const L = parseFloat(beamLengthEl.value);
    if (!(P) || isNaN(xL) || xL < 0 || xL > L) {
      movingLoadResultEl.textContent = 'Enter a valid load magnitude and position within the span.';
      movingLoadResultEl.classList.remove('text-emerald-700');
      movingLoadResultEl.classList.add('text-red-600');
      return;
    }

    // Interpolate influence ordinate at xL
    let yL = 0;
    if (xL <= lastData[0].x) {
      yL = lastData[0].y;
    } else if (xL >= lastData[lastData.length - 1].x) {
      yL = lastData[lastData.length - 1].y;
    } else {
      for (let i = 0; i < lastData.length - 1; i++) {
        const p1 = lastData[i];
        const p2 = lastData[i + 1];
        if (xL >= p1.x && xL <= p2.x) {
          const t = (xL - p1.x) / (p2.x - p1.x);
          yL = p1.y + t * (p2.y - p1.y);
          break;
        }
      }
    }

    const effect = P * yL;
    movingLoadResultEl.textContent = `For a ${P.toFixed(2)} kN point load at x = ${xL.toFixed(2)} m, the response is approximately ${effect.toFixed(3)} (units consistent with the chosen response).`;
    movingLoadResultEl.classList.remove('text-red-600');
    movingLoadResultEl.classList.add('text-emerald-700');
  });

  // Initial empty diagram
  ctx.clearRect(0, 0, canvas.width, canvas.height);
</script>

<script>
  window.MathJax = {
    tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
    svg: { fontCache: 'global' }
  };
</script>
<script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script> window.ezstandalone = window.ezstandalone || {}; ezstandalone.cmd = ezstandalone.cmd || []; </script>
</body> </html>