<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/marginal-tax-rate-calculator" />
    <title>Marginal Tax Rate Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Marginal Tax Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Marginal Tax Rate Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Marginal Tax Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/marginal-tax-rate-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Marginal Tax Rate Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Marginal Tax Rate Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "Marginal Tax Rate Calculator (2024-2025)", "item": "https://calcdomain.com/marginal-tax-rate-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Marginal Tax Rate Calculator (2024-2025)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <section aria-labelledby="calculator-title">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4"
              >
                <div>
                  <h1
                    id="calculator-title"
                    class="text-2xl md:text-3xl font-bold text-gray-900"
                  >
                    Marginal Tax Rate Calculator (2024-2025)
                  </h1>
                  <p class="text-gray-600 mt-1">
                    See your federal and state tax brackets, marginal rate,
                    effective tax rate, and after-tax income in one view.
                  </p>
                </div>
                <div class="flex flex-wrap gap-2">
                  <span
                    class="results-badge bg-blue-50 text-blue-700 border border-blue-200"
                    >US Federal</span
                  >
                  <span
                    class="results-badge bg-green-50 text-green-700 border border-green-200"
                    >Optional State</span
                  >
                  <span
                    class="results-badge bg-purple-50 text-purple-700 border border-purple-200"
                    >2024–2025</span
                  >
                </div>
              </div>

              <form id="marginal-tax-form" class="space-y-4" novalidate>
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="tax-year"
                      class="block text-sm font-medium text-gray-700"
                      >Tax year</label
                    >
                    <select
                      id="tax-year"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="2024" selected>2024</option>
                      <option value="2025">2025</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="filing-status"
                      class="block text-sm font-medium text-gray-700"
                      >Filing status</label
                    >
                    <select
                      id="filing-status"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="single">Single</option>
                      <option value="mfj">Married filing jointly</option>
                      <option value="mfs">Married filing separately</option>
                      <option value="hoh">Head of household</option>
                    </select>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="income-type"
                      class="block text-sm font-medium text-gray-700"
                      >Income type</label
                    >
                    <select
                      id="income-type"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="gross" selected>
                        Gross income (before deductions)
                      </option>
                      <option value="taxable">
                        Taxable income (after deductions)
                      </option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      Choose “taxable income” if you already know it from your
                      tax return.
                    </p>
                  </div>
                  <div>
                    <label
                      for="gross-income"
                      class="block text-sm font-medium text-gray-700"
                    >
                      Annual income (USD)
                    </label>
                    <input
                      type="number"
                      id="gross-income"
                      inputmode="decimal"
                      min="0"
                      step="100"
                      placeholder="e.g. 85000"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>

                <div id="deduction-row" class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700"
                      >Deductions</label
                    >
                    <div class="mt-1 flex items-center gap-3">
                      <label
                        class="inline-flex items-center text-sm text-gray-700"
                      >
                        <input
                          type="radio"
                          name="deduction-type"
                          value="standard"
                          class="h-4 w-4 text-blue-600 border-gray-300"
                          checked
                        />
                        <span class="ml-1">Standard deduction</span>
                      </label>
                      <label
                        class="inline-flex items-center text-sm text-gray-700"
                      >
                        <input
                          type="radio"
                          name="deduction-type"
                          value="itemized"
                          class="h-4 w-4 text-blue-600 border-gray-300"
                        />
                        <span class="ml-1">Itemized</span>
                      </label>
                    </div>
                    <p
                      id="standard-deduction-label"
                      class="mt-1 text-xs text-gray-500"
                    >
                      Standard deduction will be applied automatically based on
                      year and filing status.
                    </p>
                  </div>
                  <div id="itemized-wrapper" class="hidden">
                    <label
                      for="itemized-deductions"
                      class="block text-sm font-medium text-gray-700"
                      >Itemized deductions (USD)</label
                    >
                    <input
                      type="number"
                      id="itemized-deductions"
                      inputmode="decimal"
                      min="0"
                      step="100"
                      placeholder="e.g. 18000"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    />
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="state-select"
                      class="block text-sm font-medium text-gray-700"
                      >State (optional)</label
                    >
                    <select
                      id="state-select"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    >
                      <option value="">No state tax / skip</option>
                      <option value="avg5">Low-tax state (~5%)</option>
                      <option value="avg7">Medium-tax state (~7%)</option>
                      <option value="avg10">High-tax state (~10%)</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      This uses a simple flat estimate for state income tax to
                      show combined marginal and effective rates.
                    </p>
                  </div>
                  <div>
                    <label
                      for="additional-income"
                      class="block text-sm font-medium text-gray-700"
                      >Test an extra $ of income</label
                    >
                    <input
                      type="number"
                      id="additional-income"
                      inputmode="decimal"
                      min="0"
                      step="100"
                      placeholder="e.g. 1000"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    />
                    <p class="mt-1 text-xs text-gray-500">
                      See how much tax you’d pay on an extra bonus, raise, or
                      side income.
                    </p>
                  </div>
                </div>

                <div class="flex flex-wrap items-center gap-3 pt-2">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="inline-flex items-center justify-center px-5 py-2.5 border border-transparent text-sm font-semibold rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    Calculate marginal tax rate
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="text-sm text-gray-600 hover:text-gray-800 underline"
                  >
                    Reset
                  </button>
                  <p id="error-message" class="text-sm text-red-600 hidden"></p>
                </div>
              </form>
            </section>

            <section
              id="results-section"
              class="mt-8 hidden"
              aria-live="polite"
            >
              <h2 class="text-xl font-semibold text-gray-900 mb-3">
                Your 2024–2025 tax snapshot
              </h2>
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="border rounded-lg p-4 bg-blue-50 border-blue-100">
                  <div
                    class="text-xs uppercase tracking-wide text-blue-700 font-semibold mb-1"
                  >
                    Federal marginal rate
                  </div>
                  <div
                    id="federal-marginal-rate"
                    class="text-2xl font-bold text-blue-900"
                  >
                    —
                  </div>
                  <p
                    class="mt-1 text-xs text-blue-800"
                    id="federal-marginal-label"
                  ></p>
                </div>
                <div class="border rounded-lg p-4 bg-green-50 border-green-100">
                  <div
                    class="text-xs uppercase tracking-wide text-green-700 font-semibold mb-1"
                  >
                    Effective tax rate
                  </div>
                  <div
                    id="effective-rate"
                    class="text-2xl font-bold text-green-900"
                  >
                    —
                  </div>
                  <p class="mt-1 text-xs text-green-800">
                    Total tax ÷ gross income.
                  </p>
                </div>
                <div
                  class="border rounded-lg p-4 bg-purple-50 border-purple-100"
                >
                  <div
                    class="text-xs uppercase tracking-wide text-purple-700 font-semibold mb-1"
                  >
                    After-tax income
                  </div>
                  <div
                    id="after-tax-income"
                    class="text-2xl font-bold text-purple-900"
                  >
                    —
                  </div>
                  <p class="mt-1 text-xs text-purple-800">
                    Approximate take-home before payroll taxes.
                  </p>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="border rounded-lg p-4 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Federal tax breakdown
                  </h3>
                  <dl class="text-sm text-gray-700 space-y-1">
                    <div class="flex justify-between">
                      <dt>Tax year</dt>
                      <dd id="summary-year" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Filing status</dt>
                      <dd id="summary-status" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Gross income</dt>
                      <dd id="summary-gross" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Deductions used</dt>
                      <dd id="summary-deductions" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Taxable income</dt>
                      <dd
                        id="summary-taxable"
                        class="font-semibold text-gray-900"
                      ></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Total federal income tax</dt>
                      <dd
                        id="summary-federal-tax"
                        class="font-semibold text-gray-900"
                      ></dd>
                    </div>
                  </dl>
                </div>
                <div class="border rounded-lg p-4 bg-gray-50">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    State & combined (approximate)
                  </h3>
                  <dl class="text-sm text-gray-700 space-y-1">
                    <div class="flex justify-between">
                      <dt>State selection</dt>
                      <dd id="summary-state" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Estimated state tax</dt>
                      <dd id="summary-state-tax" class="font-medium"></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Combined marginal rate</dt>
                      <dd
                        id="summary-combined-marginal"
                        class="font-semibold text-gray-900"
                      ></dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Combined effective rate</dt>
                      <dd
                        id="summary-combined-effective"
                        class="font-semibold text-gray-900"
                      ></dd>
                    </div>
                  </dl>
                  <p class="mt-2 text-xs text-gray-500">
                    State values are simplified averages for planning only.
                    Check your state’s official tax tables for precise numbers.
                  </p>
                </div>
              </div>

              <div
                id="extra-income-card"
                class="border rounded-lg p-4 bg-amber-50 border-amber-100 mb-4 hidden"
              >
                <h3 class="text-sm font-semibold text-amber-900 mb-1">
                  Tax on your extra income
                </h3>
                <p class="text-sm text-amber-900 mb-1">
                  If you earn an additional
                  <span id="extra-income-amount" class="font-semibold"></span>,
                  you would pay approximately
                  <span id="extra-income-tax" class="font-semibold"></span> in
                  federal income tax.
                </p>
                <p class="text-xs text-amber-800">
                  That’s an effective marginal rate of
                  <span id="extra-income-rate" class="font-semibold"></span> on
                  that extra amount.
                </p>
              </div>

              <details class="mt-4 border rounded-lg">
                <summary
                  class="px-4 py-3 cursor-pointer select-none text-sm font-semibold text-gray-800 bg-gray-50 border-b"
                >
                  View detailed federal tax bracket calculation
                </summary>
                <div class="p-4 overflow-x-auto">
                  <table
                    class="min-w-full text-sm text-left text-gray-700 table-sticky"
                  >
                    <thead>
                      <tr>
                        <th class="px-3 py-2 border-b font-semibold">
                          Bracket
                        </th>
                        <th class="px-3 py-2 border-b font-semibold">
                          Taxable income in bracket
                        </th>
                        <th class="px-3 py-2 border-b font-semibold">Rate</th>
                        <th class="px-3 py-2 border-b font-semibold">
                          Tax from bracket
                        </th>
                      </tr>
                    </thead>
                    <tbody id="bracket-breakdown-body">
                      <!-- Filled dynamically -->
                    </tbody>
                  </table>
                </div>
              </details>
            </section>

            <section class="prose mt-10">
              <h2>How this marginal tax rate calculator works</h2>
              <p>
                This marginal tax rate calculator uses the latest available U.S.
                federal income tax brackets for the
                <strong>2024 and 2025 tax years</strong>. It estimates:
              </p>
              <ul>
                <li>
                  Your <strong>taxable income</strong> (if you start from gross
                  income).
                </li>
                <li>
                  Your <strong>federal marginal tax rate</strong> and the
                  bracket you fall into.
                </li>
                <li>
                  Your <strong>effective tax rate</strong> (total tax ÷ gross
                  income).
                </li>
                <li>
                  Approximate <strong>state tax</strong> and combined
                  marginal/effective rates.
                </li>
                <li>
                  The tax cost of an
                  <strong>extra amount of income</strong> (bonus, raise, side
                  gig).
                </li>
              </ul>

              <h3>1. Federal tax brackets used</h3>
              <p>
                The calculator applies the progressive U.S. tax system. Your
                income is split across brackets, and each slice is taxed at its
                own rate. Only the top slice is taxed at your
                <strong>marginal rate</strong>.
              </p>
              <p>
                For example, for a Single filer in 2024, the federal brackets
                are approximately:
              </p>
              <div class="formula-box text-sm">
                <table class="min-w-full text-left">
                  <thead>
                    <tr>
                      <th class="pr-4 py-1">Bracket</th>
                      <th class="pr-4 py-1">Taxable income range</th>
                      <th class="py-1">Rate</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="pr-4 py-0.5">1</td>
                      <td class="pr-4 py-0.5">$0 – $11,600</td>
                      <td class="py-0.5">10%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">2</td>
                      <td class="pr-4 py-0.5">$11,601 – $47,150</td>
                      <td class="py-0.5">12%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">3</td>
                      <td class="pr-4 py-0.5">$47,151 – $100,525</td>
                      <td class="py-0.5">22%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">4</td>
                      <td class="pr-4 py-0.5">$100,526 – $191,950</td>
                      <td class="py-0.5">24%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">5</td>
                      <td class="pr-4 py-0.5">$191,951 – $243,725</td>
                      <td class="py-0.5">32%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">6</td>
                      <td class="pr-4 py-0.5">$243,726 – $609,350</td>
                      <td class="py-0.5">35%</td>
                    </tr>
                    <tr>
                      <td class="pr-4 py-0.5">7</td>
                      <td class="pr-4 py-0.5">$609,351 and above</td>
                      <td class="py-0.5">37%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p>
                The calculator uses similar tables for all filing statuses and
                for 2025 (adjusted for inflation).
              </p>

              <h3>2. From gross income to taxable income</h3>
              <p>
                If you select <strong>Gross income</strong>, the calculator:
              </p>
              <ol>
                <li>Starts with your annual gross income.</li>
                <li>
                  Subtracts either the <strong>standard deduction</strong> for
                  your filing status and year, or your
                  <strong>itemized deductions</strong> if you enter them.
                </li>
                <li>
                  The result is your <strong>taxable income</strong>, which is
                  used to find your tax bracket.
                </li>
              </ol>
              <p>
                If you already know your taxable income from your tax return,
                choose <strong>Taxable income</strong> and the calculator will
                skip the deduction step.
              </p>

              <h3>3. Marginal vs effective tax rate</h3>
              <p>
                In a progressive tax system, different parts of your income are
                taxed at different rates. Two key concepts:
              </p>
              <ul>
                <li>
                  <strong>Marginal tax rate</strong> – the rate on your
                  <em>next</em> dollar of income (your highest bracket).
                </li>
                <li>
                  <strong>Effective tax rate</strong> – your total tax divided
                  by your total income.
                </li>
              </ul>
              <div class="formula-box">
                <p class="font-mono text-sm">
                  Effective tax rate = (Total income tax) ÷ (Gross income)
                </p>
              </div>
              <p>
                The effective rate is always lower than the marginal rate
                because the lower portions of your income are taxed at lower
                bracket rates.
              </p>

              <h3>4. Extra income: how much tax will I pay?</h3>
              <p>
                The “Test an extra $ of income” field lets you see how much
                federal tax you’d pay on an additional amount (for example, a
                <strong>bonus</strong> or <strong>raise</strong>).
              </p>
              <p>The calculator:</p>
              <ol>
                <li>Computes your tax on your current income.</li>
                <li>Adds the extra income and recomputes tax.</li>
                <li>
                  Shows the <strong>difference</strong> as the tax on that extra
                  amount and the implied marginal rate.
                </li>
              </ol>

              <h3>5. State and combined tax rates (simplified)</h3>
              <p>
                State income tax systems vary widely. To keep this tool fast and
                easy to use, the state dropdown uses
                <strong>flat average rates</strong>:
              </p>
              <ul>
                <li>Low-tax state: about <strong>5%</strong></li>
                <li>Medium-tax state: about <strong>7%</strong></li>
                <li>High-tax state: about <strong>10%</strong></li>
              </ul>
              <p>
                These are <strong>planning estimates only</strong>. For exact
                state tax, use a dedicated state tax calculator or your state’s
                official tables.
              </p>

              <h2>FAQ: Marginal tax rate explained</h2>

              <h3>What is a marginal tax rate?</h3>
              <p>
                Your marginal tax rate is the percentage of tax you pay on the
                <strong>last dollar</strong> of your taxable income. It tells
                you how much tax you’ll pay on an additional dollar of income,
                assuming nothing else changes.
              </p>

              <h3>Does my whole income get taxed at my marginal rate?</h3>
              <p>
                No. Only the portion of your income that falls into your highest
                tax bracket is taxed at your marginal rate. The rest is taxed at
                the lower bracket rates. This is why moving into a higher
                bracket does <strong>not</strong>
                suddenly make all of your income taxed at that higher rate.
              </p>

              <h3>Why is my effective tax rate lower than my marginal rate?</h3>
              <p>
                Because your income is spread across multiple brackets. Some of
                it is taxed at 10%, some at 12%, some at 22%, etc. When you
                average all those slices together (total tax ÷ total income),
                you get a lower effective rate.
              </p>

              <h3>Which taxes are included in this calculator?</h3>
              <p>
                This tool focuses on
                <strong>U.S. federal income tax</strong> and a simplified
                estimate of <strong>state income tax</strong>. It does
                <strong>not</strong> include:
              </p>
              <ul>
                <li>Social Security and Medicare (FICA) payroll taxes.</li>
                <li>Local city or county income taxes.</li>
                <li>Special surtaxes, AMT, NIIT, or self-employment tax.</li>
              </ul>

              <h3>Is this calculator suitable for tax filing?</h3>
              <p>
                No. This marginal tax rate calculator is for
                <strong>education and planning</strong> only. It does not handle
                every credit, deduction, or special situation. For filing your
                return, use professional tax software or work with a qualified
                tax professional.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Marginal, Tax, Rate, Calculator, Tax year 2024 2025 Filing status Single Married filing jointly Married filing separately Head of household Income type Gross income (before deductions) Taxable income (after deductions) Choose “taxable income” if you already know it from your tax return. Annual income (USD), Deductions Standard deduction, Itemized.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2024 2025 Filing status Single Married filing jointly Married filing separately Head of household Income type Gross income (before deductions) Taxable income (after deductions) Choose “taxable income” if you already know it from your tax return. Annual income (USD)</li><li>Deductions Standard deduction</li><li>Itemized</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Marginal, Tax, Rate, Calculator, Tax year 2024 2025 Filing status Single Married filing jointly Married filing separately Head of household Income type Gross income (before deductions) Taxable income (after deductions) Choose “taxable income” if you already know it from your tax return. Annual income (USD), Deductions Standard deduction, Itemized.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2024 2025 Filing status Single Married filing jointly Married filing separately Head of household Income type Gross income (before deductions) Taxable income (after deductions) Choose “taxable income” if you already know it from your tax return. Annual income (USD)</li><li>Deductions Standard deduction</li><li>Itemized</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More tax & income tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                  >Take-Home Pay (Payroll) Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Income Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-bracket-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Bracket Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/self-employment-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Self-Employment Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-calculator"
                  class="text-blue-600 hover:underline"
                  >Payroll Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/estate-tax"
                  class="text-blue-600 hover:underline"
                  >Estate Tax Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Finance categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/taxes"
                  class="text-blue-600 hover:underline"
                  >Taxes</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-income-and-payroll"
                  class="text-blue-600 hover:underline"
                  >Income & Payroll</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-investing-and-growth"
                  class="text-blue-600 hover:underline"
                  >Investing & Growth</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-mortgages-and-home"
                  class="text-blue-600 hover:underline"
                  >Mortgages & Home</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-business-ratios-and-valuation"
                  class="text-blue-600 hover:underline"
                  >Business Ratios & Valuation</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Simplified federal tax bracket data (approximate, for demo/planning only) ---
      // Amounts are taxable income thresholds for 2024 and 2025.
      const FEDERAL_BRACKETS = {
        2024: {
          single: [
            { upTo: 11600, rate: 0.1 },
            { upTo: 47150, rate: 0.12 },
            { upTo: 100525, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243725, rate: 0.32 },
            { upTo: 609350, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          mfj: [
            { upTo: 23200, rate: 0.1 },
            { upTo: 94300, rate: 0.12 },
            { upTo: 201050, rate: 0.22 },
            { upTo: 383900, rate: 0.24 },
            { upTo: 487450, rate: 0.32 },
            { upTo: 731200, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          mfs: [
            { upTo: 11600, rate: 0.1 },
            { upTo: 47150, rate: 0.12 },
            { upTo: 100525, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243725, rate: 0.32 },
            { upTo: 365600, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          hoh: [
            { upTo: 16550, rate: 0.1 },
            { upTo: 63100, rate: 0.12 },
            { upTo: 100500, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243700, rate: 0.32 },
            { upTo: 609350, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
        },
        2025: {
          // For illustration, we reuse 2024 brackets; in production, update with actual IRS 2025 tables.
          single: [
            { upTo: 11600, rate: 0.1 },
            { upTo: 47150, rate: 0.12 },
            { upTo: 100525, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243725, rate: 0.32 },
            { upTo: 609350, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          mfj: [
            { upTo: 23200, rate: 0.1 },
            { upTo: 94300, rate: 0.12 },
            { upTo: 201050, rate: 0.22 },
            { upTo: 383900, rate: 0.24 },
            { upTo: 487450, rate: 0.32 },
            { upTo: 731200, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          mfs: [
            { upTo: 11600, rate: 0.1 },
            { upTo: 47150, rate: 0.12 },
            { upTo: 100525, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243725, rate: 0.32 },
            { upTo: 365600, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
          hoh: [
            { upTo: 16550, rate: 0.1 },
            { upTo: 63100, rate: 0.12 },
            { upTo: 100500, rate: 0.22 },
            { upTo: 191950, rate: 0.24 },
            { upTo: 243700, rate: 0.32 },
            { upTo: 609350, rate: 0.35 },
            { upTo: Infinity, rate: 0.37 },
          ],
        },
      };

      const STANDARD_DEDUCTION = {
        2024: {
          single: 14600,
          mfj: 29200,
          mfs: 14600,
          hoh: 21900,
        },
        2025: {
          // Placeholder: reuse 2024; update when official 2025 values are available.
          single: 14600,
          mfj: 29200,
          mfs: 14600,
          hoh: 21900,
        },
      };

      function formatCurrency(value) {
        if (!isFinite(value)) return "—";
        return value.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      function formatPercent(value) {
        if (!isFinite(value)) return "—";
        return (value * 100).toFixed(1) + "%";
      }

      function getStatusLabel(status) {
        switch (status) {
          case "single":
            return "Single";
          case "mfj":
            return "Married filing jointly";
          case "mfs":
            return "Married filing separately";
          case "hoh":
            return "Head of household";
          default:
            return status;
        }
      }

      function getStateLabel(code) {
        switch (code) {
          case "avg5":
            return "Low-tax state (~5%)";
          case "avg7":
            return "Medium-tax state (~7%)";
          case "avg10":
            return "High-tax state (~10%)";
          default:
            return "No state tax / not selected";
        }
      }

      function getStateRate(code) {
        switch (code) {
          case "avg5":
            return 0.05;
          case "avg7":
            return 0.07;
          case "avg10":
            return 0.1;
          default:
            return 0;
        }
      }

      function computeFederalTax(year, status, taxableIncome) {
        const brackets = FEDERAL_BRACKETS[year][status];
        let remaining = Math.max(0, taxableIncome);
        let lastLimit = 0;
        let totalTax = 0;
        let marginalRate = 0;
        const breakdown = [];

        for (const bracket of brackets) {
          if (remaining <= 0) break;
          const bracketCap = bracket.upTo;
          const taxableInBracket = Math.max(
            0,
            Math.min(remaining, bracketCap - lastLimit)
          );
          if (taxableInBracket > 0) {
            const taxHere = taxableInBracket * bracket.rate;
            totalTax += taxHere;
            breakdown.push({
              from: lastLimit,
              to: bracketCap,
              amount: taxableInBracket,
              rate: bracket.rate,
              tax: taxHere,
            });
            marginalRate = bracket.rate;
            remaining -= taxableInBracket;
            lastLimit = bracketCap;
          }
        }

        return { totalTax, marginalRate, breakdown };
      }

      function calculate() {
        const year = document.getElementById("tax-year").value;
        const status = document.getElementById("filing-status").value;
        const incomeType = document.getElementById("income-type").value;
        const grossIncome = parseFloat(
          document.getElementById("gross-income").value
        );
        const deductionType =
          document.querySelector('input[name="deduction-type"]:checked')
            ?.value || "standard";
        const itemized = parseFloat(
          document.getElementById("itemized-deductions").value
        );
        const stateCode = document.getElementById("state-select").value;
        const extraIncome = parseFloat(
          document.getElementById("additional-income").value
        );

        const errorEl = document.getElementById("error-message");
        errorEl.classList.add("hidden");
        errorEl.textContent = "";

        if (isNaN(grossIncome) || grossIncome < 0) {
          errorEl.textContent = "Please enter a valid income amount.";
          errorEl.classList.remove("hidden");
          return;
        }

        let taxableIncome;
        let deductionsUsed = 0;
        let deductionLabel = "";

        if (incomeType === "taxable") {
          taxableIncome = grossIncome;
          deductionLabel = "N/A (taxable income entered directly)";
        } else {
          if (deductionType === "standard") {
            deductionsUsed = STANDARD_DEDUCTION[year][status] || 0;
            deductionLabel = `Standard deduction: ${formatCurrency(
              deductionsUsed
            )}`;
          } else {
            deductionsUsed = isNaN(itemized) ? 0 : Math.max(0, itemized);
            deductionLabel = `Itemized deductions: ${formatCurrency(
              deductionsUsed
            )}`;
          }
          taxableIncome = Math.max(0, grossIncome - deductionsUsed);
        }

        const {
          totalTax: federalTax,
          marginalRate,
          breakdown,
        } = computeFederalTax(year, status, taxableIncome);

        const stateRate = getStateRate(stateCode);
        const stateTax = taxableIncome * stateRate;
        const totalTax = federalTax + stateTax;

        const effectiveRate = grossIncome > 0 ? totalTax / grossIncome : 0;
        const effectiveFederalRate =
          grossIncome > 0 ? federalTax / grossIncome : 0;
        const combinedMarginalRate = marginalRate + stateRate;

        // Update summary cards
        document.getElementById("results-section").classList.remove("hidden");
        document.getElementById("federal-marginal-rate").textContent =
          formatPercent(marginalRate);
        document.getElementById(
          "federal-marginal-label"
        ).textContent = `Top federal bracket on your taxable income in ${year}.`;

        document.getElementById("effective-rate").textContent =
          formatPercent(effectiveFederalRate);
        document.getElementById("after-tax-income").textContent =
          formatCurrency(grossIncome - totalTax);

        // Summary details
        document.getElementById("summary-year").textContent = year;
        document.getElementById("summary-status").textContent =
          getStatusLabel(status);
        document.getElementById("summary-gross").textContent =
          formatCurrency(grossIncome);
        document.getElementById("summary-deductions").textContent =
          deductionLabel;
        document.getElementById("summary-taxable").textContent =
          formatCurrency(taxableIncome);
        document.getElementById("summary-federal-tax").textContent =
          formatCurrency(federalTax);

        document.getElementById("summary-state").textContent =
          getStateLabel(stateCode);
        document.getElementById("summary-state-tax").textContent =
          formatCurrency(stateTax);
        document.getElementById("summary-combined-marginal").textContent =
          formatPercent(combinedMarginalRate);
        document.getElementById("summary-combined-effective").textContent =
          formatPercent(effectiveRate);

        // Extra income analysis
        const extraCard = document.getElementById("extra-income-card");
        if (!isNaN(extraIncome) && extraIncome > 0) {
          const taxableIncome2 = taxableIncome + extraIncome;
          const { totalTax: federalTax2 } = computeFederalTax(
            year,
            status,
            taxableIncome2
          );
          const extraFederalTax = federalTax2 - federalTax;
          const extraRate = extraFederalTax / extraIncome;

          document.getElementById("extra-income-amount").textContent =
            formatCurrency(extraIncome);
          document.getElementById("extra-income-tax").textContent =
            formatCurrency(extraFederalTax);
          document.getElementById("extra-income-rate").textContent =
            formatPercent(extraRate);
          extraCard.classList.remove("hidden");
        } else {
          extraCard.classList.add("hidden");
        }

        // Bracket breakdown table
        const tbody = document.getElementById("bracket-breakdown-body");
        tbody.innerHTML = "";
        breakdown.forEach((row, idx) => {
          const tr = document.createElement("tr");
          const label =
            idx === breakdown.length - 1
              ? "Current bracket"
              : `Bracket ${idx + 1}`;
          tr.innerHTML = `
        <td class="px-3 py-1 border-b">${label}</td>
        <td class="px-3 py-1 border-b">${formatCurrency(row.amount)}</td>
        <td class="px-3 py-1 border-b">${formatPercent(row.rate)}</td>
        <td class="px-3 py-1 border-b">${formatCurrency(row.tax)}</td>
      `;
          tbody.appendChild(tr);
        });
      }

      document.addEventListener("DOMContentLoaded", function () {
        const incomeTypeEl = document.getElementById("income-type");
        const deductionRadios = document.querySelectorAll(
          'input[name="deduction-type"]'
        );
        const itemizedWrapper = document.getElementById("itemized-wrapper");
        const deductionRow = document.getElementById("deduction-row");
        const calculateBtn = document.getElementById("calculate-btn");
        const resetBtn = document.getElementById("reset-btn");

        function updateDeductionVisibility() {
          const incomeType = incomeTypeEl.value;
          if (incomeType === "taxable") {
            deductionRow.classList.add("hidden");
          } else {
            deductionRow.classList.remove("hidden");
          }
        }

        function updateItemizedVisibility() {
          const selected =
            document.querySelector('input[name="deduction-type"]:checked')
              ?.value || "standard";
          if (selected === "itemized") {
            itemizedWrapper.classList.remove("hidden");
          } else {
            itemizedWrapper.classList.add("hidden");
          }
        }

        incomeTypeEl.addEventListener("change", updateDeductionVisibility);
        deductionRadios.forEach((r) =>
          r.addEventListener("change", updateItemizedVisibility)
        );

        calculateBtn.addEventListener("click", calculate);

        resetBtn.addEventListener("click", function () {
          document.getElementById("marginal-tax-form").reset();
          document.getElementById("results-section").classList.add("hidden");
          document.getElementById("error-message").classList.add("hidden");
          document.getElementById("error-message").textContent = "";
          updateDeductionVisibility();
          updateItemizedVisibility();
        });

        updateDeductionVisibility();
        updateItemizedVisibility();
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
