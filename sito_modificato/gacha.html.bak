<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/gacha" />
    <title>Gacha Calculator Guide [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Gacha Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Gacha Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Gacha Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/gacha" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Gacha Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Gacha Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "Gacha / Loot Box Probability Calculator", "item": "https://calcdomain.com/gacha"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Gacha / Loot Box Probability Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Gacha / Loot Box Probability Calculator
              </h1>
              <p class="text-gray-600">
                Model your chances in gacha games: compute odds of getting a
                character, expected copies, pity probability, and run pull
                simulations.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="gacha-calculator-heading" class="mb-8">
              <h2
                id="gacha-calculator-heading"
                class="text-xl font-semibold mb-4"
              >
                Gacha Probability Calculator
              </h2>

              <!-- Mode Tabs -->
              <div class="mb-4 border-b border-gray-200">
                <nav class="flex space-x-4" aria-label="Calculation mode">
                  <button
                    id="mode-basic"
                    type="button"
                    class="py-2 px-3 text-sm font-medium border-b-2 border-blue-600 text-blue-600 focus:outline-none"
                  >
                    Basic odds
                  </button>
                  <button
                    id="mode-pity"
                    type="button"
                    class="py-2 px-3 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent focus:outline-none"
                  >
                    With pity
                  </button>
                  <button
                    id="mode-sim"
                    type="button"
                    class="py-2 px-3 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent focus:outline-none"
                  >
                    Simulation
                  </button>
                </nav>
              </div>

              <!-- Shared: banner & budget -->
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="probability-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Per-pull chance of target item (%)
                  </label>
                  <input
                    id="probability-input"
                    type="number"
                    min="0"
                    max="100"
                    step="0.0001"
                    value="0.6"
                    class="w-full border border-gray-300 rounded-md px-3 py-2"
                    aria-describedby="probability-help"
                  />
                  <p id="probability-help" class="text-xs text-gray-500 mt-1">
                    Example: 0.6% for a 5★ rate-up, 1.5% for a general 5★ pool.
                  </p>
                </div>
                <div>
                  <label
                    for="pulls-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Planned pulls (tickets / rolls)
                  </label>
                  <input
                    id="pulls-input"
                    type="number"
                    min="1"
                    step="1"
                    value="90"
                    class="w-full border border-gray-300 rounded-md px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    You can also use the budget helper below to convert currency
                    to pulls.
                  </p>
                </div>
              </div>

              <details class="mb-4">
                <summary
                  class="cursor-pointer text-sm font-medium text-blue-600"
                >
                  Budget helper (optional)
                </summary>
                <div class="mt-3 grid md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="currency-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Total currency (gems, primogems, stones…)
                    </label>
                    <input
                      id="currency-input"
                      type="number"
                      min="0"
                      step="1"
                      value="14400"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      for="cost-per-pull-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Cost per pull (currency)
                    </label>
                    <input
                      id="cost-per-pull-input"
                      type="number"
                      min="1"
                      step="1"
                      value="160"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                  </div>
                  <div class="flex items-end">
                    <button
                      id="apply-budget-btn"
                      type="button"
                      class="w-full inline-flex justify-center items-center px-3 py-2 border border-blue-600 text-blue-600 rounded-md text-sm font-medium hover:bg-blue-50"
                    >
                      Convert to pulls
                    </button>
                  </div>
                </div>
                <p class="text-xs text-gray-500 mt-2">
                  Example: 14,400 primogems / 160 per pull ≈ 90 pulls.
                </p>
              </details>

              <!-- Pity options -->
              <div id="pity-section" class="mb-4 hidden">
                <h3 class="text-sm font-semibold mb-2">
                  Pity system (hard pity approximation)
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="pity-threshold-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Hard pity threshold (pulls)
                    </label>
                    <input
                      id="pity-threshold-input"
                      type="number"
                      min="1"
                      step="1"
                      value="90"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      After this many pulls without success, the next pull is
                      guaranteed.
                    </p>
                  </div>
                  <div>
                    <label
                      for="current-pity-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Current pity count
                    </label>
                    <input
                      id="current-pity-input"
                      type="number"
                      min="0"
                      step="1"
                      value="0"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      How many pulls since your last copy on this banner.
                    </p>
                  </div>
                  <div>
                    <label
                      for="max-copies-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Target copies (for expectation)
                    </label>
                    <input
                      id="max-copies-input"
                      type="number"
                      min="1"
                      step="1"
                      value="1"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used for expected copies and simulation summaries.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Simulation options -->
              <div id="sim-section" class="mb-4 hidden">
                <h3 class="text-sm font-semibold mb-2">
                  Monte Carlo simulation
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="sim-runs-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Number of simulated players
                    </label>
                    <input
                      id="sim-runs-input"
                      type="number"
                      min="100"
                      step="100"
                      value="5000"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Higher = smoother results, but slower.
                    </p>
                  </div>
                  <div>
                    <label
                      for="sim-target-copies-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Target copies
                    </label>
                    <input
                      id="sim-target-copies-input"
                      type="number"
                      min="1"
                      step="1"
                      value="1"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      for="sim-seed-input"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Random seed (optional)
                    </label>
                    <input
                      id="sim-seed-input"
                      type="number"
                      step="1"
                      class="w-full border border-gray-300 rounded-md px-3 py-2"
                      placeholder="Leave blank for random"
                    />
                  </div>
                </div>
              </div>

              <!-- Action buttons -->
              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calculate-btn"
                  type="button"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
                >
                  Calculate
                </button>
                <button
                  id="reset-btn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50"
                >
                  Reset
                </button>
                <p id="error-msg" class="text-sm text-red-600"></p>
              </div>

              <!-- Results -->
              <section aria-labelledby="results-heading" class="space-y-4">
                <h3 id="results-heading" class="text-lg font-semibold">
                  Results
                </h3>

                <div class="grid md:grid-cols-2 gap-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                    <h4 class="text-sm font-semibold text-blue-800 mb-2">
                      Key probabilities
                    </h4>
                    <p class="text-sm text-gray-700">
                      Chance of at least one copy:
                      <span
                        id="prob-at-least-one"
                        class="font-semibold text-blue-700"
                        >–</span
                      >
                    </p>
                    <p class="text-sm text-gray-700">
                      Chance of zero copies:
                      <span id="prob-zero" class="font-semibold text-blue-700"
                        >–</span
                      >
                    </p>
                    <p class="text-sm text-gray-700">
                      Expected number of copies:
                      <span
                        id="expected-copies"
                        class="font-semibold text-blue-700"
                        >–</span
                      >
                    </p>
                    <p
                      id="pity-hit-prob-row"
                      class="text-sm text-gray-700 hidden"
                    >
                      Chance of hitting hard pity at least once:
                      <span
                        id="prob-hit-pity"
                        class="font-semibold text-blue-700"
                        >–</span
                      >
                    </p>
                  </div>

                  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <h4 class="text-sm font-semibold text-gray-800 mb-2">
                      Simulation summary
                    </h4>
                    <p class="text-sm text-gray-700">
                      Simulated players:
                      <span id="sim-players" class="font-semibold">–</span>
                    </p>
                    <p class="text-sm text-gray-700">
                      % who reached target copies:
                      <span id="sim-success-rate" class="font-semibold">–</span>
                    </p>
                    <p class="text-sm text-gray-700">
                      Average copies per player:
                      <span id="sim-avg-copies" class="font-semibold">–</span>
                    </p>
                    <p class="text-sm text-gray-700">
                      Median copies:
                      <span id="sim-median-copies" class="font-semibold"
                        >–</span
                      >
                    </p>
                  </div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-4">
                  <h4 class="text-sm font-semibold text-gray-800 mb-2">
                    Interpretation
                  </h4>
                  <p id="interpretation-text" class="text-sm text-gray-700">
                    Enter your banner rates and pulls, then click “Calculate” to
                    see your odds.
                  </p>
                </div>
              </section>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this gacha probability calculator works</h2>
              <p>
                This tool models gacha / loot box systems using basic
                probability theory. You can use it for games like Genshin
                Impact, Honkai: Star Rail, Fate/Grand Order, Arknights, and
                other gacha-style titles with banners, rate-ups, and pity.
              </p>

              <h3>1. Basic independent pulls (no pity)</h3>
              <p>
                If each pull has a fixed probability \(p\) of giving your target
                item and you do \(n\) independent pulls:
              </p>
              <div class="formula-box">
                <p><strong>Probability of at least one copy</strong></p>
                <p>\[ P(\text{at least 1}) = 1 - (1 - p)^n \]</p>
                <p><strong>Probability of zero copies</strong></p>
                <p>\[ P(\text{0 copies}) = (1 - p)^n \]</p>
                <p><strong>Expected number of copies</strong></p>
                <p>\[ \mathbb{E}[\text{copies}] = n \cdot p \]</p>
              </div>
              <p>
                Example: if the 5★ rate-up is \(p = 0.006\) (0.6%) and you do
                \(n = 90\) pulls:
              </p>
              <ul>
                <li>
                  \(P(\text{at least 1}) = 1 - (1 - 0.006)^{90} \approx 41.7\%\)
                </li>
                <li>\(\mathbb{E}[\text{copies}] = 90 \cdot 0.006 = 0.54\)</li>
              </ul>

              <h3>2. Approximating hard pity</h3>
              <p>
                Many gacha games guarantee a high-rarity item after a certain
                number of pulls without success (hard pity). This calculator
                approximates hard pity by assuming:
              </p>
              <ul>
                <li>Each pull before pity has probability \(p\) of success.</li>
                <li>
                  If you reach the pity threshold without success, the next pull
                  is guaranteed.
                </li>
              </ul>
              <p>
                If your current pity count is \(c\), you will hit pity after at
                most \((\text{threshold} - c)\) additional failed pulls. The
                tool then combines:
              </p>
              <ul>
                <li>Probability of getting at least one copy before pity.</li>
                <li>
                  Probability of failing all those pulls and being saved by
                  pity.
                </li>
              </ul>

              <h3>3. Monte Carlo simulation</h3>
              <p>
                Even when we know the exact formulas, simulations help build
                intuition. The simulation mode:
              </p>
              <ul>
                <li>
                  Generates many “virtual players” with your chosen number of
                  pulls.
                </li>
                <li>
                  For each player, simulates pulls with probability \(p\) and
                  optional hard pity.
                </li>
                <li>
                  Counts how many copies each player gets and how many reach
                  your target copies.
                </li>
              </ul>
              <p>
                This shows how often people get lucky or unlucky compared with
                the average.
              </p>

              <h2>Practical tips for gacha players</h2>
              <h3>Set a budget in pulls, not just money</h3>
              <p>
                Think in terms of total pulls you can afford on a banner. Use
                the budget helper to convert your gems or tickets into pulls,
                then check the probability of success. If the chance is lower
                than you’re comfortable with, consider saving for a future
                banner.
              </p>

              <h3>Understand that “pity” doesn’t erase bad luck</h3>
              <p>
                Pity systems protect you from extreme bad luck, but they don’t
                guarantee early wins. You can still be below average and only
                get your target at or near pity.
              </p>

              <h3>Gacha, loot boxes, and responsible play</h3>
              <p>
                Gacha mechanics are designed to be engaging and can feel similar
                to gambling. To stay in control:
              </p>
              <ul>
                <li>Decide a hard spending limit before you start pulling.</li>
                <li>
                  Remember that even a 90% chance still means 1 in 10 players
                  will miss.
                </li>
                <li>
                  Consider free-to-play or low-spend goals instead of chasing
                  every banner.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>
                How do you calculate the chance of getting a character in a
                gacha game?
              </h3>
              <p>
                If the per-pull probability of the character is \(p\) and you do
                \(n\) independent pulls, the chance of getting at least one copy
                is:
              </p>
              <div class="formula-box">
                \[ P(\text{at least 1}) = 1 - (1 - p)^n \]
              </div>
              <p>
                This assumes no pity and constant rates. The calculator uses
                this formula in “Basic odds” mode.
              </p>

              <h3>How many pulls do I need for a 90% chance?</h3>
              <p>
                Rearranging the formula above, the number of pulls \(n\) needed
                for a target probability \(P\) is:
              </p>
              <div class="formula-box">
                \[ n = \frac{\ln(1 - P)}{\ln(1 - p)} \]
              </div>
              <p>Example: for \(p = 0.006\) (0.6%) and \(P = 0.9\) (90%):</p>
              <p>
                \[ n \approx \frac{\ln(0.1)}{\ln(0.994)} \approx 383 \text{
                pulls} \]
              </p>

              <h3>
                Does this calculator support multiple rarities or 50/50
                mechanics?
              </h3>
              <p>
                This version focuses on a single target item or rarity at a
                time, with an optional hard pity. To approximate 50/50 systems,
                you can:
              </p>
              <ul>
                <li>
                  Multiply the base 5★ rate by the chance it’s the featured
                  unit.
                </li>
                <li>Adjust the per-pull probability \(p\) accordingly.</li>
              </ul>

              <h3>Is gacha the same as gambling?</h3>
              <p>
                Gacha and loot boxes share many features with gambling: random
                rewards, variable reinforcement, and often real-money purchases.
                Legal classification varies by country, but from a probability
                perspective they behave like gambling systems. Use tools like
                this to understand your odds and avoid overspending.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Per-pull chance of target item (%)</li><li>Planned pulls (tickets / rolls)</li><li>Total currency (gems, primogems, stones…)</li><li>Cost per pull (currency)</li><li>Hard pity threshold (pulls)</li><li>Current pity count</li><li>Target copies (for expectation)</li><li>Number of simulated players</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Gacha, Per-pull chance of target item (%), Planned pulls (tickets / rolls), Total currency (gems, primogems, stones…), Cost per pull (currency), Hard pity threshold (pulls), Current pity count, Target copies (for expectation).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Per-pull chance of target item (%)</li><li>Planned pulls (tickets / rolls)</li><li>Total currency (gems, primogems, stones…)</li><li>Cost per pull (currency)</li><li>Hard pity threshold (pulls)</li><li>Current pity count</li><li>Target copies (for expectation)</li><li>Number of simulated players</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; Probability Tools
            </h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/probability"
                  class="text-blue-600 hover:underline"
                  >Probability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/binomial-distribution"
                  class="text-blue-600 hover:underline"
                  >Binomial Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/expected-value"
                  class="text-blue-600 hover:underline"
                  >Expected Value (via Probability tools)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lottery-odds"
                  class="text-blue-600 hover:underline"
                  >Lottery Odds</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mean-calculator-median-mode"
                  class="text-blue-600 hover:underline"
                  >Mean, Median, Mode</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/combination-and-permutation"
                  class="text-blue-600 hover:underline"
                  >Combination &amp; Permutation</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">You might also like</h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/z-score"
                  class="text-blue-600 hover:underline"
                  >Z-Score Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/confidence-interval"
                  class="text-blue-600 hover:underline"
                  >Confidence Interval</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sample-size"
                  class="text-blue-600 hover:underline"
                  >Sample Size Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/normal-distribution"
                  class="text-blue-600 hover:underline"
                  >Normal Distribution</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: clamp and parse
      function parsePercentToProb(value) {
        const v = Number(value);
        if (!isFinite(v) || v <= 0) return 0;
        return Math.min(Math.max(v, 0), 100) / 100;
      }

      function parseNonNegativeInt(value) {
        const v = Math.floor(Number(value));
        return isFinite(v) && v >= 0 ? v : 0;
      }

      function parsePositiveInt(value) {
        const v = Math.floor(Number(value));
        return isFinite(v) && v > 0 ? v : 0;
      }

      function formatPercent(prob) {
        if (!isFinite(prob)) return "–";
        const pct = prob * 100;
        if (pct === 0) return "0%";
        if (pct < 0.01) return pct.toExponential(2) + "%";
        if (pct < 0.1) return pct.toFixed(3) + "%";
        if (pct < 1) return pct.toFixed(2) + "%";
        if (pct < 100) return pct.toFixed(1) + "%";
        return "100%";
      }

      function formatNumber(x, digits = 3) {
        if (!isFinite(x)) return "–";
        if (x === 0) return "0";
        if (Math.abs(x) >= 1e5 || Math.abs(x) < 1e-3) return x.toExponential(2);
        return x
          .toFixed(digits)
          .replace(/\.0+$/, "")
          .replace(/(\.\d*?)0+$/, "$1");
      }

      // Mode handling
      const modeBasicBtn = document.getElementById("mode-basic");
      const modePityBtn = document.getElementById("mode-pity");
      const modeSimBtn = document.getElementById("mode-sim");
      const pitySection = document.getElementById("pity-section");
      const simSection = document.getElementById("sim-section");
      const pityHitProbRow = document.getElementById("pity-hit-prob-row");

      let currentMode = "basic";

      function setMode(mode) {
        currentMode = mode;
        // Reset tab styles
        [modeBasicBtn, modePityBtn, modeSimBtn].forEach((btn) => {
          btn.classList.remove("text-blue-600", "border-blue-600");
          btn.classList.add("text-gray-500", "border-transparent");
        });
        pitySection.classList.add("hidden");
        simSection.classList.add("hidden");
        pityHitProbRow.classList.add("hidden");

        if (mode === "basic") {
          modeBasicBtn.classList.add("text-blue-600", "border-blue-600");
          modeBasicBtn.classList.remove("text-gray-500", "border-transparent");
        } else if (mode === "pity") {
          modePityBtn.classList.add("text-blue-600", "border-blue-600");
          modePityBtn.classList.remove("text-gray-500", "border-transparent");
          pitySection.classList.remove("hidden");
          pityHitProbRow.classList.remove("hidden");
        } else if (mode === "sim") {
          modeSimBtn.classList.add("text-blue-600", "border-blue-600");
          modeSimBtn.classList.remove("text-gray-500", "border-transparent");
          simSection.classList.remove("hidden");
          pityHitProbRow.classList.remove("hidden");
        }
      }

      modeBasicBtn.addEventListener("click", () => setMode("basic"));
      modePityBtn.addEventListener("click", () => setMode("pity"));
      modeSimBtn.addEventListener("click", () => setMode("sim"));

      // Budget helper
      document
        .getElementById("apply-budget-btn")
        .addEventListener("click", () => {
          const currency = parseNonNegativeInt(
            document.getElementById("currency-input").value
          );
          const costPerPull = parsePositiveInt(
            document.getElementById("cost-per-pull-input").value
          );
          const errorMsg = document.getElementById("error-msg");
          if (currency <= 0 || costPerPull <= 0) {
            errorMsg.textContent =
              "Enter a valid currency amount and cost per pull.";
            return;
          }
          const pulls = Math.floor(currency / costPerPull);
          if (pulls <= 0) {
            errorMsg.textContent = "Budget is not enough for a single pull.";
            return;
          }
          document.getElementById("pulls-input").value = pulls;
          errorMsg.textContent = "";
        });

      // Core calculations
      function calcBasic(p, n) {
        const probZero = Math.pow(1 - p, n);
        const probAtLeastOne = 1 - probZero;
        const expectedCopies = n * p;
        return { probZero, probAtLeastOne, expectedCopies };
      }

      function calcWithPity(p, n, threshold, currentPity) {
        // Effective max pulls before guaranteed pity
        const remainingToPity = Math.max(threshold - currentPity, 0);
        const pullsBeforePity = Math.min(n, remainingToPity);
        const basic = calcBasic(p, pullsBeforePity);
        let probHitPity = 0;
        if (n > remainingToPity && remainingToPity > 0) {
          // You have enough pulls to reach pity
          probHitPity = Math.pow(1 - p, remainingToPity);
        }
        // If you hit pity, you get at least one copy
        const probAtLeastOne = basic.probAtLeastOne + probHitPity * 1; // guaranteed
        const probZero = 1 - probAtLeastOne;
        // Expected copies: basic expectation + probability of pity copy
        const expectedCopies = basic.expectedCopies + probHitPity;
        return { probZero, probAtLeastOne, expectedCopies, probHitPity };
      }

      // Simple seeded RNG (Mulberry32)
      function mulberry32(seed) {
        return function () {
          let t = (seed += 0x6d2b79f5);
          t = Math.imul(t ^ (t >>> 15), t | 1);
          t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
          return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
        };
      }

      function runSimulation(
        p,
        n,
        threshold,
        currentPity,
        targetCopies,
        runs,
        seed
      ) {
        const rng = seed ? mulberry32(seed) : Math.random;
        const copiesArr = new Array(runs);
        let successCount = 0;
        for (let i = 0; i < runs; i++) {
          let pityCount = currentPity;
          let copies = 0;
          for (let pull = 0; pull < n; pull++) {
            if (pityCount >= threshold) {
              // Hard pity triggers
              copies += 1;
              pityCount = 0;
            } else {
              const r = rng();
              if (r < p) {
                copies += 1;
                pityCount = 0;
              } else {
                pityCount += 1;
              }
            }
          }
          copiesArr[i] = copies;
          if (copies >= targetCopies) successCount++;
        }
        copiesArr.sort((a, b) => a - b);
        const sum = copiesArr.reduce((acc, v) => acc + v, 0);
        const avg = sum / runs;
        const median = copiesArr[Math.floor(runs / 2)];
        const successRate = successCount / runs;
        return { avg, median, successRate, copiesArr };
      }

      // Main calculate handler
      document.getElementById("calculate-btn").addEventListener("click", () => {
        const errorMsg = document.getElementById("error-msg");
        errorMsg.textContent = "";

        const p = parsePercentToProb(
          document.getElementById("probability-input").value
        );
        const n = parsePositiveInt(
          document.getElementById("pulls-input").value
        );

        if (p <= 0 || p > 1) {
          errorMsg.textContent =
            "Enter a valid per-pull probability between 0 and 100%.";
          return;
        }
        if (n <= 0 || n > 1000000) {
          errorMsg.textContent =
            "Enter a reasonable number of pulls (1 to 1,000,000).";
          return;
        }

        let probZero,
          probAtLeastOne,
          expectedCopies,
          probHitPity = 0;

        if (currentMode === "basic") {
          const res = calcBasic(p, n);
          probZero = res.probZero;
          probAtLeastOne = res.probAtLeastOne;
          expectedCopies = res.expectedCopies;
          pityHitProbRow.classList.add("hidden");
        } else {
          const threshold = parsePositiveInt(
            document.getElementById("pity-threshold-input").value
          );
          const currentPity = parseNonNegativeInt(
            document.getElementById("current-pity-input").value
          );
          if (threshold <= 0) {
            errorMsg.textContent = "Enter a valid pity threshold (> 0).";
            return;
          }
          if (currentPity >= threshold) {
            errorMsg.textContent =
              "Current pity must be less than the pity threshold.";
            return;
          }
          const res = calcWithPity(p, n, threshold, currentPity);
          probZero = res.probZero;
          probAtLeastOne = Math.min(res.probAtLeastOne, 1);
          expectedCopies = res.expectedCopies;
          probHitPity = res.probHitPity;
          pityHitProbRow.classList.remove("hidden");
        }

        // Update theoretical results
        document.getElementById("prob-at-least-one").textContent =
          formatPercent(probAtLeastOne);
        document.getElementById("prob-zero").textContent =
          formatPercent(probZero);
        document.getElementById("expected-copies").textContent = formatNumber(
          expectedCopies,
          3
        );
        if (!pityHitProbRow.classList.contains("hidden")) {
          document.getElementById("prob-hit-pity").textContent =
            formatPercent(probHitPity);
        }

        // Interpretation text
        const pullsStr = n === 1 ? "1 pull" : n + " pulls";
        let interp = `With a per-pull chance of ${formatPercent(
          p
        )} and ${pullsStr}, `;
        interp += `your chance of getting at least one copy is about ${formatPercent(
          probAtLeastOne
        )}, `;
        interp += `and on average you would expect around ${formatNumber(
          expectedCopies,
          2
        )} copies.`;
        if (currentMode !== "basic") {
          interp += ` The model also estimates a ${formatPercent(
            probHitPity
          )} chance that you will hit hard pity at least once.`;
        }
        document.getElementById("interpretation-text").textContent = interp;

        // Simulation (if mode is sim)
        let simPlayers = 0,
          simSuccessRate = NaN,
          simAvg = NaN,
          simMedian = NaN;
        if (currentMode === "sim") {
          const runs = parsePositiveInt(
            document.getElementById("sim-runs-input").value
          );
          const targetCopies = parsePositiveInt(
            document.getElementById("sim-target-copies-input").value
          );
          const threshold = parsePositiveInt(
            document.getElementById("pity-threshold-input").value
          );
          const currentPity = parseNonNegativeInt(
            document.getElementById("current-pity-input").value
          );
          if (runs <= 0 || runs > 200000) {
            errorMsg.textContent =
              "Enter a reasonable number of simulations (100 to 200,000).";
            return;
          }
          const seedVal = document
            .getElementById("sim-seed-input")
            .value.trim();
          const seed = seedVal === "" ? null : parseInt(seedVal, 10) || null;
          const simRes = runSimulation(
            p,
            n,
            threshold,
            currentPity,
            targetCopies,
            runs,
            seed
          );
          simPlayers = runs;
          simSuccessRate = simRes.successRate;
          simAvg = simRes.avg;
          simMedian = simRes.median;

          // Refine interpretation with simulation
          const simPct = formatPercent(simSuccessRate);
          const extra = ` In ${runs.toLocaleString()} simulated players, about ${simPct} reached at least ${targetCopies} copy/copies.`;
          document.getElementById("interpretation-text").textContent += extra;
        }

        // Update simulation summary (even if not sim mode, show theoretical placeholder)
        document.getElementById("sim-players").textContent = simPlayers
          ? simPlayers.toLocaleString()
          : "–";
        document.getElementById("sim-success-rate").textContent = isFinite(
          simSuccessRate
        )
          ? formatPercent(simSuccessRate)
          : "–";
        document.getElementById("sim-avg-copies").textContent = isFinite(simAvg)
          ? formatNumber(simAvg, 3)
          : "–";
        document.getElementById("sim-median-copies").textContent = isFinite(
          simMedian
        )
          ? formatNumber(simMedian, 3)
          : "–";
      });

      // Reset handler
      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("probability-input").value = 0.6;
        document.getElementById("pulls-input").value = 90;
        document.getElementById("currency-input").value = 14400;
        document.getElementById("cost-per-pull-input").value = 160;
        document.getElementById("pity-threshold-input").value = 90;
        document.getElementById("current-pity-input").value = 0;
        document.getElementById("max-copies-input").value = 1;
        document.getElementById("sim-runs-input").value = 5000;
        document.getElementById("sim-target-copies-input").value = 1;
        document.getElementById("sim-seed-input").value = "";
        document.getElementById("error-msg").textContent = "";
        document.getElementById("prob-at-least-one").textContent = "–";
        document.getElementById("prob-zero").textContent = "–";
        document.getElementById("expected-copies").textContent = "–";
        document.getElementById("prob-hit-pity").textContent = "–";
        document.getElementById("sim-players").textContent = "–";
        document.getElementById("sim-success-rate").textContent = "–";
        document.getElementById("sim-avg-copies").textContent = "–";
        document.getElementById("sim-median-copies").textContent = "–";
        document.getElementById("interpretation-text").textContent =
          "Enter your banner rates and pulls, then click “Calculate” to see your odds.";
      });

      // Initialize default mode
      setMode("basic");

      // Mobile menu script (simple toggle)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          const isHidden = menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !isHidden);
          this.setAttribute("aria-expanded", String(isHidden));
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
