<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/bs-7671-voltage-drop">
    <title>BS 7671 Voltage Drop Calculator (2026 Guide) | CalcDomain</title>
    <meta name="description" content="Professional BS 7671 voltage drop calculator for UK electrical installations. Compute voltage drop in volts and percent, check 3%/5% limits, and find the minimum cable size based on BS 7671 Appendix 4 tabulated mV/A/m values.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <meta property="og:type" content="website">
    <meta property="og:title" content="BS 7671 Voltage Drop Calculator (2026 Guide) | CalcDomain">
    <meta property="og:description" content="Professional BS 7671 voltage drop calculator for UK electrical installations. Compute voltage drop in volts and percent, check 3%/5% limits, and find the minimum cable size based on BS 7671 Appendix 4 tabulated mV/A/m values.">
    <meta property="og:url" content="https://calcdomain.com/bs-7671-voltage-drop">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="BS 7671 Voltage Drop Calculator (2026 Guide) | CalcDomain">
    <meta name="twitter:description" content="Professional BS 7671 voltage drop calculator for UK electrical installations. Compute voltage drop in volts and percent, check 3%/5% limits, and find the minimum cable size based on BS 7671 Appendix 4 tabulated mV/A/m values.">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; }
        body { background: #f8fafc; color: #0f172a; }
        .nav { display: flex; align-items: center; justify-content: space-between; padding: 1rem 0; }
        .brand { font-weight: 700; font-size: 1.25rem; color: #2563eb; }
        .navRight { display: flex; gap: 1rem; }
        .pill { font-size: 0.9rem; color: #475569; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 clamp(1rem, 4vw, 2rem); }
        header#siteHeader { background: #fff; border-bottom: 1px solid #e2e8f0; position: sticky; top: 0; z-index: 50; }
        .sub { color: #475569; }
        .alert { display: none; padding: 0.75rem 1rem; border-radius: 0.5rem; background: #fef2f2; border: 1px solid #fecaca; color: #991b1b; font-size: 0.9rem; }
        .calc-hero { display: grid; gap: 1rem; grid-template-columns: 1fr; }
        @media (min-width: 1024px) { .calc-hero { grid-template-columns: minmax(0, 1fr) minmax(0, 1fr); } }
        .card { background: #fff; border: 1px solid #e2e8f0; border-radius: 1rem; padding: 1.5rem; box-shadow: 0 10px 25px rgba(15, 23, 42, 0.05); }
        .calc-input { width: 100%; padding: 0.75rem 0.85rem; border: 1px solid #cbd5f5; border-radius: 0.6rem; font-size: 0.95rem; background: #fff; }
        .calc-input:focus { outline: 2px solid rgba(37, 99, 235, 0.3); border-color: #2563eb; }
        .calc-label { display: block; font-size: 0.88rem; font-weight: 600; color: #475569; margin-bottom: 0.35rem; }
        .calc-radio-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 0.75rem; }
        .calc-radio { border: 1px solid #d1d5db; border-radius: 0.75rem; padding: 0.65rem 0.75rem; display: flex; align-items: center; gap: 0.5rem; cursor: pointer; font-size: 0.9rem; background: #f8fafc; }
        .calc-radio input { accent-color: #2563eb; }
        .btn { display: inline-flex; align-items: center; justify-content: center; border-radius: 0.65rem; border: none; padding: 0.9rem 1.25rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; font-size: 0.95rem; }
        .btn-primary { background: #2563eb; color: #fff; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { background: #fff; color: #1e293b; border: 1px solid #cbd5f5; }
        .btn-secondary:hover { background: #e2e8f0; }
        .result-box { background: #e0f2fe; border: 1px solid #bae6fd; border-radius: 0.9rem; padding: 1.5rem; text-align: center; }
        .result-value { font-size: 2.5rem; font-weight: 700; color: #0c4a6e; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.65rem 0; border-bottom: 1px solid #e2e8f0; font-size: 0.9rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #475569; }
        .kpi-value { font-weight: 600; color: #0f172a; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .schedule-table th, .schedule-table td { border-bottom: 1px solid #e2e8f0; padding: 0.65rem; text-align: left; }
        .schedule-table th { background: #f1f5f9; font-size: 0.75rem; text-transform: uppercase; color: #475569; }
        .content-card { box-shadow: 0 12px 30px rgba(15, 23, 42, 0.05); }
        .meta-section { background: #ffffff; }
        .meta-section details summary { cursor: pointer; font-weight: 600; color: #1e293b; font-size: 1rem; }
        .meta-section .badge-row span { background: #fff; border: 1px solid #cbd5f5; padding: 0.5rem 0.85rem; border-radius: 999px; font-size: 0.85rem; }
        .formula-box { background: #0f172a; color: #e2e8f0; border-radius: 0.9rem; padding: 1rem; font-family: "JetBrains Mono", "SFMono-Regular", Menlo, Consolas, monospace; }
        .howto-list li { margin-bottom: 0.35rem; }
        .sub-note { font-size: 0.9rem; color: #475569; }
        .sticky-box { position: sticky; top: 1rem; }
        .result-notes { font-size: 0.9rem; color: #475569; margin-top: 0.75rem; }
        .badge { display:inline-flex; align-items:center; gap:0.25rem; border-radius:999px; padding:0.3rem 0.85rem; border:1px solid #cbd5f5; background:#fff; font-size:0.85rem; }
        .badge .dot { width:0.5rem; height:0.5rem; border-radius:999px; background:#16a34a; display:inline-block; }
    </style>

    <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},{"@type":"ListItem","position":2,"name":"Engineering","item":"https://calcdomain.com/categories/engineering"},{"@type":"ListItem","position":3,"name":"BS 7671 Voltage Drop Calculator","item":"https://calcdomain.com/bs-7671-voltage-drop"}]}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"BS 7671 Voltage Drop Calculator","description":"Compute voltage drop per BS 7671 Appendix 4 tables, compare to 3%/5% limits, and assess minimum conductor CSA.","url":"https://calcdomain.com/bs-7671-voltage-drop","mainEntity":[{"@type":"HowTo","name":"How it works: a step-by-step example","description":"Use BS 7671 Appendix 4 mV/A/m factors to compute ΔV and ΔV% for single- or three-phase circuits.","step":[{"@type":"HowToStep","name":"Select system and limit","text":"Choose single-phase or three-phase and a compliance limit (lighting 3% or other circuits 5%)."},{"@type":"HowToStep","name":"Enter current and length","text":"Provide the design current Ib and the one-way run length L for the subcircuit being assessed."},{"@type":"HowToStep","name":"Pick cable data","text":"Select PVC 70°C or XLPE 90°C copper and the conductor CSA, then use the coerced mV/A/m coefficient from the standard."},{"@type":"HowToStep","name":"Evaluate drop","text":"Compute ΔV = k × Ib × L / 1000 and ΔV% = ΔV / Vn × 100, compare it to the chosen limit."}]},{"@type":"FAQPage","mainEntity":[{"@type":"Question","name":"Does BS 7671 use one-way or loop length?","acceptedAnswer":{"@type":"Answer","text":"Always use the one-way run length. Appendix 4 factors already account for the circuit return path."}},{"@type":"Question","name":"Which nominal voltage should I use?","acceptedAnswer":{"@type":"Answer","text":"Use 230 V line-to-neutral for single-phase and 400 V line-to-line for three-phase unless your specification states otherwise."}}]}]}</script>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds electrical and finance calculators to help practitioners make transparent, traceable decisions."
    }</script>
  </head>
<body>

    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container" aria-label="Primary">
        <a class="brand" href="https://calcdomain.com">CalcDomain</a>
        <div class="hidden lg:flex navRight">
          <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
          <span class="pill">Categories</span>
        </div>
      </nav>
    </header>

    <main id="mainContent" class="container py-8">
      <nav id="breadcrumb-container" class="mb-4 text-sm text-gray-600" aria-label="Breadcrumb">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering</a></li>
          <li class="text-gray-400">/</li>
          <li class="font-semibold">BS 7671 Voltage Drop Calculator</li>
        </ol>
      </nav>
      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">BS 7671 Voltage Drop Calculator</h1>
        <p id="pageSub" class="sub text-lg">Professional BS 7671 voltage drop calculator for UK electrical installations. Compute voltage drop in volts and percent, check compliance with 3%/5% limits, and find the minimum cable size based on BS 7671 Appendix 4 tabulated mV/A/m values.</p>
        <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="space-y-6">
            <div>
              <h3 class="text-lg font-semibold text-gray-700">Circuit data</h3>
              <p class="text-sm text-gray-500 mt-1">Use BS 7671 Appendix 4 coefficients or provide a custom mV/A/m to confirm compliance with the selected limit.</p>
            </div>

            <div>
              <span class="calc-label">System type</span>
              <div class="calc-radio-row">
                <label class="calc-radio">
                  <input type="radio" name="system" value="1ph" checked>
                  <span>Single-phase (L–N)</span>
                </label>
                <label class="calc-radio">
                  <input type="radio" name="system" value="3ph">
                  <span>Three-phase (L–L)</span>
                </label>
              </div>
            </div>

            <div>
              <span class="calc-label">Voltage drop limit</span>
              <div class="calc-radio-row">
                <label class="calc-radio">
                  <input type="radio" name="limit" value="3" checked>
                  <span>Lighting / 3%</span>
                </label>
                <label class="calc-radio">
                  <input type="radio" name="limit" value="5">
                  <span>Other circuits / 5%</span>
                </label>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="nominalVoltage" class="calc-label">Nominal voltage Vn (V)</label>
                <input id="nominalVoltage" type="number" class="calc-input" value="230" min="1" step="1" inputmode="decimal">
                <p class="sub-note">Use line-to-neutral for single-phase and line-to-line for three-phase circuits.</p>
              </div>
              <div>
                <label for="designCurrent" class="calc-label">Design current Ib (A)</label>
                <input id="designCurrent" type="number" class="calc-input" value="20" min="0" step="0.1" inputmode="decimal">
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="runLength" class="calc-label">One-way run length L (m)</label>
                <input id="runLength" type="number" class="calc-input" value="30" min="0" step="0.1" inputmode="decimal">
                <p class="sub-note">Appendix 4 factors already include the return path for the selected circuit type.</p>
              </div>
              <div>
                <label for="cableFamily" class="calc-label">Cable family</label>
                <select id="cableFamily" class="calc-input">
                  <option value="PVC70">Thermoplastic PVC 70°C copper (typical)</option>
                  <option value="XLPE90">Thermosetting XLPE 90°C copper (lower mV/A/m)</option>
                </select>
                <p class="sub-note">Select the standard cable construction referenced in Appendix 4.</p>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="conductorSize" class="calc-label">Conductor size (mm²)</label>
                <select id="conductorSize" class="calc-input">
                  <option value="" disabled selected>Select size</option>
                </select>
                <div aria-live="polite" class="text-xs text-gray-500 mt-1" id="sizeNote">Values sourced from BS 7671 Appendix 4.</div>
              </div>
              <div>
                <label for="mvam" class="calc-label">Voltage drop coefficient (mV/A/m)</label>
                <input id="mvam" type="number" class="calc-input" step="0.01" min="0" inputmode="decimal" disabled>
                <label class="inline-flex items-center gap-2 text-sm mt-2">
                  <input id="useCustom" type="checkbox">
                  <span>Use custom mV/A/m</span>
                </label>
              </div>
            </div>

            <div class="flex gap-3 mt-6">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-1">Voltage drop</div>
            <div class="result-value" id="vdVolts">—</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm">
            <div class="kpi-row"><span class="kpi-label">Voltage drop (%)</span><span class="kpi-value" id="vdPercent">—</span></div>
            <div class="kpi-row"><span class="kpi-label">Allowable drop (V)</span><span class="kpi-value" id="allowVolts">—</span></div>
            <div class="kpi-row"><span class="kpi-label">Compliance</span><span class="kpi-value" id="compliance">—</span></div>
            <div class="kpi-row"><span class="kpi-label">Max allowable length (m)</span><span class="kpi-value" id="maxLength">—</span></div>
            <div class="kpi-row"><span class="kpi-label">Minimum CSA to meet limit</span><span class="kpi-value" id="minCsa">—</span></div>
          </div>
          <div class="flex gap-3 mt-4">
            <button class="btn btn-secondary" id="toggleSchedule" type="button">View influence table</button>
            <button class="btn btn-secondary" id="downloadCsv" type="button" disabled>Download CSV</button>
          </div>
          <p class="result-notes" id="resultsNote">Provide the required input data to see the compliance details and conductor notes.</p>
        </section>
      </div>

      <div id="scheduleWrap" class="mt-6 overflow-x-auto border border-gray-200 rounded-xl tableWrap" style="display:none;" aria-label="Voltage drop schedule">
        <table class="schedule-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Length (m)</th>
              <th>ΔV (V)</th>
              <th>ΔV (%)</th>
            </tr>
          </thead>
          <tbody id="scheduleBody"></tbody>
        </table>
        <div class="p-3 text-gray-500 text-sm bg-gray-50">Refer to the rendered schedule for proportional drops at incremental lengths.</div>
      </div>

      <section class="card content-card space-y-6 mt-10" id="howToUse" aria-label="How to use and methodology">
        <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
        <p>Gather your circuit data: the system voltage, design current, one-way length, and the BS 7671 Appendix 4 tabulated mV/A/m coefficient for your cable. Choose the compliance limit (3% for lighting circuits or 5% for other uses) and pick the cable family plus conductor size the standard prescribes.</p>
        <p>Click Calculate to see the voltage drop in volts and percent, compare it to the selected limit, and find the maximum allowable length for the chosen conductor. You can also download the CSV and observe how the drop grows with length via the influence table.</p>

        <h2 class="text-2xl font-semibold mt-8">Methodology</h2>
        <div class="bg-gray-50 border border-gray-200 rounded-xl p-4">
          <p>The calculator applies the tabulated mV/A/m factors from BS 7671 Appendix 4 (single- and three-phase copper circuits). The core calculation is <strong>ΔV = k × Ib × L / 1000</strong>; the percent drop is ΔV divided by the nominal voltage.</p>
          <p>Maximum allowable length for a limit p% is derived from <strong>Lₘₐₓ = ((p/100) × Vn × 1000) / (k × Ib)</strong>. When the computed percent drop exceeds the limit, you either need a larger conductor CSA, a shorter run, or a cable with a lower coefficient.</p>
        </div>

        <h3 class="text-xl font-semibold mt-6">Glossary</h3>
        <ul class="list-disc pl-5 space-y-1 text-gray-700">
          <li><strong>k (mV/A/m):</strong> Voltage drop coefficient from BS 7671 Appendix 4 for the selected family, CSA, and system.</li>
          <li><strong>ΔV (V):</strong> Voltage drop over the length L.</li>
          <li><strong>ΔV%:</strong> ΔV expressed as a percentage of Vn.</li>
          <li><strong>Limit (p%):</strong> Contractors typically apply 3% for lighting and 5% for other circuits.</li>
          <li><strong>Lₘₐₓ:</strong> Maximum one-way length that stays within the chosen limit.</li>
          <li><strong>Minimum CSA:</strong> Smallest conductor in the table that satisfies the limit for the inputs provided.</li>
        </ul>

        <h3 class="text-xl font-semibold mt-6">How It Works: A Step-by-Step Example</h3>
        <p>Inputs: single-phase, Vn = 230 V, Ib = 20 A, L = 30 m, limit = 3% (lighting), family = PVC 70°C copper, size = 4 mm² with k ≈ 7.4 mV/A/m.</p>
        <p>Calculation: ΔV = 7.4 × 20 × 30 / 1000 = 4.44 V; ΔV% = 4.44 / 230 × 100 = 1.93%.</p>
        <p>Result: 1.93% ≤ 3% ⇒ compliant. The calculator also estimates how long the cable can be while remaining within the limit and what conductor CSA would be required if you needed to stay under 3% with the same current and length.</p>

        <h3 class="text-xl font-semibold mt-6">Frequently Asked Questions (FAQ)</h3>
        <div class="space-y-4 text-gray-700">
          <div>
            <h4 class="font-semibold">Do the tabulated mV/A/m values already include the return path?</h4>
            <p>Yes. BS 7671 Appendix 4 factors account for the return path of the specific circuit type.</p>
          </div>
          <div>
            <h4 class="font-semibold">Should I use 230 V or 400 V?</h4>
            <p>Single-phase circuits use 230 V (line-to-neutral); three-phase circuits use 400 V (line-to-line) unless your specification states otherwise.</p>
          </div>
          <div>
            <h4 class="font-semibold">What if my installation uses XLPE 90°C cables?</h4>
            <p>Select the XLPE 90°C option. These cables typically have lower voltage drop coefficients than PVC 70°C. Always verify the exact coefficient from BS 7671 Appendix 4.</p>
          </div>
          <div>
            <h4 class="font-semibold">How is the minimum CSA determined?</h4>
            <p>The tool scans the tabulated sizes for the chosen family and system and reports the smallest CSA that keeps the percent drop within the chosen limit for the provided Ib and length.</p>
          </div>
          <div>
            <h4 class="font-semibold">Can I override the mV/A/m value?</h4>
            <p>Yes. Enable "Use custom mV/A/m" to enter a proprietary or site-specific coefficient from BS 7671 or manufacturer data.</p>
          </div>
          <div>
            <h4 class="font-semibold">Is this calculator sufficient for full compliance?</h4>
            <p>No tool replaces professional judgment. Verify inputs, cable data, ambient conditions, and compliance with the latest edition of BS 7671 and any project-specific requirements.</p>
          </div>
          <div>
            <h4 class="font-semibold">Where can I read more?</h4>
            <p>Visit the IET publication page for BS 7671:2018+A2:2022 and NAPIT's guidance on voltage drop limits for further context.</p>
          </div>
        </div>

        <div class="formula-box mt-6">
          <p><strong>Quality note:</strong> Coefficients are representative of BS 7671 Appendix 4 PVC 70°C and XLPE 90°C copper data. Always cross-check with your licensed tables.</p>
        </div>
        <div class="border-t border-gray-200 pt-4 text-sm text-gray-600">
          <p>Strumento sviluppato da <strong>Ugo Candido</strong>. Contenuti verificati da <strong>Elek Engineering Editorial Board</strong>.</p>
          <p>Ultima revisione per l'accuratezza: <time datetime="2026-01-19">19 January 2026</time>.</p>
        </div>
      </section>

      <section class="card meta-section space-y-4 mt-10" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
        <details id="formulaDetails">
          <summary>Formulas</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-xl text-sm space-y-2">
            <p>ΔV = k × Ib × L / 1000</p>
            <p>ΔV% = (ΔV / Vn) × 100</p>
            <p>Lₘₐₓ = ((p / 100) × Vn × 1000) / (k × Ib)</p>
            <p>k is the tabulated mV/A/m factor taken from BS 7671 Appendix 4.</p>
          </div>
        </details>

        <details id="citationDetails">
          <summary>Citations</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-xl text-sm space-y-2">
            <p><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/engineering</a></p>
            <p><strong>BS 7671:2018+A2:2022</strong> — electrical.theiet.org · Accessed 2026-01-19<br><a href="https://electrical.theiet.org/bs-7671/bs-7671-2018-amendment-2-2022/" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://electrical.theiet.org/bs-7671/bs-7671-2018-amendment-2-2022/</a></p>
            <p><strong>How to determine voltage drop limits</strong> — professional-electrician.com · Accessed 2026-01-19<br><a href="https://professional-electrician.com/technical/how-to-determine-voltage-drop-limits-within-electrical-installations-napit/" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://professional-electrician.com/technical/how-to-determine-voltage-drop-limits-within-electrical-installations-napit/</a></p>
          </div>
        </details>

        <details id="changelogDetails">
          <summary>Changelog</summary>
          <div class="mt-3 p-3 bg-white border border-gray-200 rounded-xl text-sm space-y-2">
            <div>
              <p><strong>0.1.0-draft</strong> — 2026-01-19</p>
              <ul class="list-disc pl-5 space-y-1">
                <li>Initial audit spec draft generated from HTML extraction (review required).</li>
                <li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
                <li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
              </ul>
            </div>
          </div>
        </details>

        <div class="flex gap-2 flex-wrap">
          <span class="badge"><span class="dot"></span>Verified by Ugo Candido</span>
          <span class="badge">Last Updated: 2026-01-19</span>
          <span class="badge">Version 0.1.0-draft</span>
        </div>
      
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/categories/finance" class="hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/engineering" class="hover:text-white">Engineering</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/mortgage-payment" class="hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="https://calcdomain.com/about" class="hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>
    <script>
      window.MathJax = { tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$$','$$'], ['\\[','\\]']] }, svg: { fontCache: 'global' } };
    </script>
    <script>
      (function () {
        var loadMathJax = function () {
          if (window.__mathjaxLoading) return;
          window.__mathjaxLoading = true;
          var script = document.createElement('script');
          script.id = 'MathJax-script';
          script.async = true;
          script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js';
          document.head.appendChild(script);
        };
        var target = document.querySelector('.formula-box, .mathjax, .math, [data-mathjax]');
        if (!target) return;
        if ('IntersectionObserver' in window) {
          var observer = new IntersectionObserver(function (entries) {
            if (entries.some(function (entry) { return entry.isIntersecting; })) {
              observer.disconnect();
              loadMathJax();
            }
          }, { rootMargin: '200px' });
          observer.observe(target);
        } else {
          window.addEventListener('load', function () {
            setTimeout(loadMathJax, 1000);
          }, { once: true });
        }
      })();
    </script>
    <script>
    (function () {
      'use strict';

    const debounce = (fn, delay = 100) => {
      let t;
      return (...args) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...args), delay);
      };
    };


      const tabulatedTables = {
        PVC70: [
          { size: 1.5, single: 17.8, three: 10.3 },
          { size: 2.5, single: 11.6, three: 6.8 },
          { size: 4, single: 7.5, three: 4.4 },
          { size: 6, single: 5.1, three: 3.0 },
          { size: 10, single: 3.1, three: 1.8 },
          { size: 16, single: 2.0, three: 1.2 },
          { size: 25, single: 1.3, three: 0.8 },
          { size: 35, single: 1.0, three: 0.6 },
          { size: 50, single: 0.75, three: 0.45 },
          { size: 70, single: 0.52, three: 0.32 }
        ],
        XLPE90: [
          { size: 1.5, single: 16.1, three: 9.3 },
          { size: 2.5, single: 10.5, three: 6.1 },
          { size: 4, single: 6.8, three: 3.9 },
          { size: 6, single: 4.6, three: 2.7 },
          { size: 10, single: 2.9, three: 1.7 },
          { size: 16, single: 1.9, three: 1.1 },
          { size: 25, single: 1.2, three: 0.75 },
          { size: 35, single: 0.95, three: 0.55 },
          { size: 50, single: 0.70, three: 0.42 },
          { size: 70, single: 0.50, three: 0.31 }
        ]
      };

      const els = {
        systemRadios: document.querySelectorAll('input[name="system"]'),
        limitRadios: document.querySelectorAll('input[name="limit"]'),
        nominalVoltage: document.getElementById('nominalVoltage'),
        designCurrent: document.getElementById('designCurrent'),
        runLength: document.getElementById('runLength'),
        cableFamily: document.getElementById('cableFamily'),
        conductorSize: document.getElementById('conductorSize'),
        mvInput: document.getElementById('mvam'),
        useCustom: document.getElementById('useCustom'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn'),
        errorBox: document.getElementById('errorBox'),
        vdVolts: document.getElementById('vdVolts'),
        vdPercent: document.getElementById('vdPercent'),
        allowVolts: document.getElementById('allowVolts'),
        compliance: document.getElementById('compliance'),
        maxLength: document.getElementById('maxLength'),
        minCsa: document.getElementById('minCsa'),
        resultsNote: document.getElementById('resultsNote'),
        scheduleWrap: document.getElementById('scheduleWrap'),
        scheduleBody: document.getElementById('scheduleBody'),
        toggleSchedule: document.getElementById('toggleSchedule'),
        downloadCsv: document.getElementById('downloadCsv')
      };

      let scheduleData = [];
      let scheduleVisible = false;

      function clamp(value, min, max) {
        return Math.min(max, Math.max(min, value));
      }

      function round(value, decimals = 2) {
        if (!Number.isFinite(value)) return 0;
        const factor = Math.pow(10, decimals);
        return Math.round((value + Number.EPSILON) * factor) / factor;
      }

      function buildConductorSizes() {
        const sizes = new Set();
        Object.values(tabulatedTables).forEach((table) => {
          table.forEach((row) => sizes.add(row.size));
        });
        const sorted = Array.from(sizes).sort((a, b) => a - b);
        const fragment = document.createDocumentFragment();
        const placeholder = document.createElement('option');
        placeholder.value = '';
        placeholder.disabled = true;
        placeholder.textContent = 'Select size';
        fragment.appendChild(placeholder);
        sorted.forEach((size) => {
          const option = document.createElement('option');
          option.value = size;
          option.textContent = `${size.toFixed(size % 1 === 0 ? 0 : 1)} mm²`;
          fragment.appendChild(option);
        });
        els.conductorSize.innerHTML = '';
        els.conductorSize.appendChild(fragment);
        const defaultSize = sorted.includes(4) ? 4 : sorted[0];
        const defaultOption = Array.from(els.conductorSize.options).find((opt) => Number(opt.value) === defaultSize);
        if (defaultOption) {
          defaultOption.selected = true;
        }
      }

      function getSelectedSystem() {
        return Array.from(els.systemRadios).find((el) => el.checked)?.value || '1ph';
      }

      function getSelectedLimit() {
        const value = Array.from(els.limitRadios).find((el) => el.checked)?.value;
        return Number(value) || 3;
      }

      function getKFromTable(family, system, size) {
        const table = tabulatedTables[family] || [];
        const entry = table.find((row) => row.size === size);
        if (!entry) return null;
        return system === '3ph' ? entry.three : entry.single;
      }

      function updateTableCoefficient() {
        if (els.useCustom.checked) return;
        const family = els.cableFamily.value;
        const size = Number(els.conductorSize.value);
        const system = getSelectedSystem();
        const k = getKFromTable(family, system, size);
        if (k) {
          els.mvInput.value = k.toFixed(2);
        } else {
          els.mvInput.value = '';
        }
      }

      function parseInputs() {
        const family = els.cableFamily.value;
        const size = Number(els.conductorSize.value);
        const system = getSelectedSystem();
        const limit = getSelectedLimit();
        const useCustom = els.useCustom.checked;
        const customK = useCustom ? parseFloat(els.mvInput.value) : null;
        const tableK = getKFromTable(family, system, size);
        const kValue = useCustom ? customK : tableK;
        return {
          family,
          size,
          system,
          limit,
          nominalVoltage: parseFloat(els.nominalVoltage.value),
          designCurrent: parseFloat(els.designCurrent.value),
          runLength: parseFloat(els.runLength.value),
          useCustom,
          kValue,
          tableK
        };
      }

      function validate(inputs) {
        const errors = [];
        if (!Number.isFinite(inputs.nominalVoltage) || inputs.nominalVoltage <= 0) {
          errors.push('Nominal voltage must be greater than 0.');
        }
        if (!Number.isFinite(inputs.designCurrent) || inputs.designCurrent <= 0) {
          errors.push('Design current must be greater than 0.');
        }
        if (!Number.isFinite(inputs.runLength) || inputs.runLength < 0) {
          errors.push('Run length must be 0 or more.');
        }
        if (!inputs.size) {
          errors.push('Select a conductor size.');
        }
        if (!inputs.family) {
          errors.push('Select a cable family.');
        }
        if (!inputs.kValue || inputs.kValue <= 0) {
          errors.push('Voltage drop coefficient (mV/A/m) must be greater than 0.');
        }
        return { ok: errors.length === 0, errors };
      }

      function compute(inputs) {
        const k = inputs.kValue;
        const ΔV = (k * inputs.designCurrent * inputs.runLength) / 1000;
        const percentDrop = inputs.nominalVoltage > 0 ? (ΔV / inputs.nominalVoltage) * 100 : 0;
        const allowableVolts = (inputs.nominalVoltage * inputs.limit) / 100;
        const maxLength = (inputs.designCurrent > 0 && k > 0) ? ((inputs.limit / 100) * inputs.nominalVoltage * 1000) / (k * inputs.designCurrent) : 0;

        let minCsa = 'No tabulated size meets limit';
        const table = tabulatedTables[inputs.family] || [];
        const sorted = table.slice().sort((a, b) => a.size - b.size);
        for (const row of sorted) {
          const coeff = inputs.system === '3ph' ? row.three : row.single;
          const dropPercent = inputs.nominalVoltage > 0 ? ((coeff * inputs.designCurrent * inputs.runLength) / 1000) / inputs.nominalVoltage * 100 : Infinity;
          if (dropPercent <= inputs.limit) {
            minCsa = `${row.size} mm² (${coeff.toFixed(2)} mV/A/m)`;
            break;
          }
        }
        if (inputs.useCustom) {
          minCsa = 'Custom coefficient – use tabulated value to search';
        }

        const complianceText = percentDrop <= inputs.limit
          ? `Compliant (${round(percentDrop)}% ≤ ${inputs.limit}%)`
          : `Exceeds limit (${round(percentDrop)}% > ${inputs.limit}%)`;

        const schedule = buildSchedule(inputs, k, percentDrop, maxLength);

        return {
          voltageDrop: round(ΔV),
          percentDrop: round(percentDrop),
          allowableVolts: round(allowableVolts),
          complianceText,
          maxLength: round(maxLength),
          minCsa,
          coefficient: round(k, 2),
          schedule
        };
      }

      function buildSchedule(inputs, k, percentDrop, maxLength) {
        const rows = [];
        const baseLength = Math.max(1, inputs.runLength || 1);
        const entries = 8;
        const step = Math.max(1, Math.round(baseLength / entries));
        for (let idx = 1; idx <= entries; idx++) {
          const length = step * idx;
          const voltage = (k * inputs.designCurrent * length) / 1000;
          const pct = inputs.nominalVoltage > 0 ? (voltage / inputs.nominalVoltage) * 100 : 0;
          rows.push({ num: idx, length: round(length, 2), voltage: round(voltage, 3), percent: round(pct, 2) });
        }
        if (maxLength > step * entries) {
          const length = round(maxLength, 2);
          const voltage = (k * inputs.designCurrent * length) / 1000;
          const pct = inputs.nominalVoltage > 0 ? (voltage / inputs.nominalVoltage) * 100 : 0;
          rows.push({ num: rows.length + 1, length, voltage: round(voltage, 3), percent: round(pct, 2) });
        }
        scheduleData = rows;
        return rows;
      }

      function formatOutputs(outputs, inputs) {
        return {
          vdVolts: `${outputs.voltageDrop.toFixed(2)} V`,
          vdPercent: `${outputs.percentDrop.toFixed(2)} %`,
          allowVolts: `${outputs.allowableVolts.toFixed(2)} V`,
          compliance: outputs.complianceText,
          maxLength: `${outputs.maxLength.toFixed(2)} m`,
          minCsa: outputs.minCsa,
          resultsNote: inputs.useCustom
            ? `Custom mV/A/m = ${outputs.coefficient.toFixed(2)} used for computations.`
            : `Table value k = ${outputs.coefficient.toFixed(2)} mV/A/m from ${inputs.family} ${inputs.size} mm² (${inputs.system === '3ph' ? '3Φ' : '1Φ'}).`,
          schedule: outputs.schedule
        };
      }

      function render(formatted, errors) {
        if (errors && errors.length) {
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
          ['vdVolts','vdPercent','allowVolts','compliance','maxLength','minCsa'].forEach((id) => {
            document.getElementById(id).textContent = '—';
          });
          els.resultsNote.textContent = 'Fix the highlighted errors to compute results.';
          els.downloadCsv.disabled = true;
          return;
        }
        els.errorBox.style.display = 'none';
        els.errorBox.textContent = '';
        els.vdVolts.textContent = formatted.vdVolts;
        els.vdPercent.textContent = formatted.vdPercent;
        els.allowVolts.textContent = formatted.allowVolts;
        els.compliance.textContent = formatted.compliance;
        els.maxLength.textContent = formatted.maxLength;
        els.minCsa.textContent = formatted.minCsa;
        els.resultsNote.textContent = formatted.resultsNote;
        els.downloadCsv.disabled = false;
        renderSchedule(formatted.schedule);
      }

      function renderSchedule(schedule) {
        const fragment = document.createDocumentFragment();
        schedule.slice(0, 50).forEach((row) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${row.num}</td>
            <td>${row.length}</td>
            <td>${row.voltage}</td>
            <td>${row.percent}</td>`;
          fragment.appendChild(tr);
        });
        els.scheduleBody.innerHTML = '';
        els.scheduleBody.appendChild(fragment);
      }

      function update() {
        const inputs = parseInputs();
        const validation = validate(inputs);
        if (!validation.ok) {
          render(null, validation.errors);
          return;
        }
        const outputs = compute(inputs);
        const formatted = formatOutputs(outputs, inputs);
        render(formatted, []);
      }

      els.calcBtn.addEventListener('click', update);
      els.resetBtn.addEventListener('click', function () {
        els.nominalVoltage.value = '230';
        els.designCurrent.value = '20';
        els.runLength.value = '30';
        els.cableFamily.value = 'PVC70';
        els.conductorSize.value = '4';
        els.useCustom.checked = false;
        els.mvInput.disabled = true;
        els.mvInput.value = '';
        document.querySelector('input[name="system"][value="1ph"]').checked = true;
        document.querySelector('input[name="limit"][value="3"]').checked = true;
        scheduleVisible = false;
        els.scheduleWrap.style.display = 'none';
        els.toggleSchedule.textContent = 'View influence table';
        updateTableCoefficient();
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

        update();
      });

      function toggleScheduleVisibility() {
        scheduleVisible = !scheduleVisible;
        els.scheduleWrap.style.display = scheduleVisible ? 'block' : 'none';
        els.toggleSchedule.textContent = scheduleVisible ? 'Hide influence table' : 'View influence table';
        if (scheduleVisible && scheduleData.length) {
          renderSchedule(scheduleData);
        }
      }

      els.toggleSchedule.addEventListener('click', toggleScheduleVisibility);

      els.downloadCsv.addEventListener('click', function () {
        if (!scheduleData.length) return;
        let csv = 'Index,Length (m),ΔV (V),ΔV (%)\n';
        scheduleData.forEach((row) => {
          csv += `${row.num},${row.length},${row.voltage},${row.percent}\n`;
        });
        const blob = new Blob([csv], { type: 'text/csv' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'bs7671-voltage-drop.csv';
        link.click();
        URL.revokeObjectURL(url);
      });

      els.useCustom.addEventListener('change', function () {
        els.mvInput.disabled = !els.useCustom.checked;
        if (!els.useCustom.checked) {
          updateTableCoefficient();
        }
        update();
      });

      const debouncedUpdate = (() => {
        let timeout;
        return () => {
          clearTimeout(timeout);
          timeout = setTimeout(update, 100);
        };
      })();

      });
          el.addEventListener('change', () => {
            if (el === els.conductorSize || el === els.cableFamily) {
              updateTableCoefficient();
            }
            debouncedUpdate();
          });
        });

      buildConductorSizes();
      updateTableCoefficient();
      update();
    })();
    </script>
</body></html>
