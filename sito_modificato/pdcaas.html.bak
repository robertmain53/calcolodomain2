<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/pdcaas" />
    <title>Pdcaas Calculator Guide Now [Bold 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Pdcaas Calculator Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." /> />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Pdcaas Calculator Guide Now [Bold 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Pdcaas Calculator Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/pdcaas" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Pdcaas Calculator Guide Now [Bold 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Pdcaas Calculator Guide fast with our bold tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Health & Fitness Calculators", "item": "https://calcdomain.com/categories/health-fitness"}, {"@type": "ListItem", "position": 3, "name": "Diet & Nutrition Calculators", "item": "https://calcdomain.com/subcategories/diet-nutrition"}, {"@type": "ListItem", "position": 4, "name": "PDCAAS Calculator (Protein Digestibility Corrected Amino\n                    Acid Score)", "item": "https://calcdomain.com/pdcaas"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">PDCAAS Calculator (Protein Digestibility Corrected Amino
                    Acid Score)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <section aria-labelledby="pdcaas-calculator-heading">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4"
              >
                <div>
                  <h1
                    id="pdcaas-calculator-heading"
                    class="text-2xl font-bold mb-1"
                  >
                    PDCAAS Calculator (Protein Digestibility Corrected Amino
                    Acid Score)
                  </h1>
                  <p class="text-gray-600 text-sm">
                    Estimate protein quality for foods and blends using amino
                    acid profile and digestibility.
                  </p>
                </div>
                <div class="flex flex-wrap gap-2 text-xs">
                  <span class="badge bg-blue-100 text-blue-700"
                    >Diet &amp; Nutrition</span
                  >
                  <span class="badge bg-green-100 text-green-700"
                    >Protein Quality</span
                  >
                  <span class="badge bg-purple-100 text-purple-700"
                    >PDCAAS</span
                  >
                </div>
              </div>

              <!-- Mode selector -->
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Mode</label
                >
                <div class="flex flex-wrap gap-2">
                  <button
                    type="button"
                    id="mode-single"
                    class="px-3 py-1 text-sm rounded-full border border-blue-500 text-blue-600 bg-blue-50 font-medium"
                  >
                    Single protein
                  </button>
                  <button
                    type="button"
                    id="mode-blend"
                    class="px-3 py-1 text-sm rounded-full border border-gray-300 text-gray-700 bg-white"
                  >
                    Protein blend
                  </button>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  Single protein: one food or isolate. Blend: mix of multiple
                  protein sources (e.g., rice + pea).
                </p>
              </div>

              <!-- Reference pattern selector -->
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="reference-pattern"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Reference amino acid pattern</label
                  >
                  <select
                    id="reference-pattern"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                  >
                    <option value="faon3">
                      FAO/WHO/UNU 2007 (children ≥3y &amp; adults)
                    </option>
                    <option value="faon1">FAO/WHO/UNU 2007 (1–2 years)</option>
                    <option value="faon6">
                      FAO/WHO/UNU 2007 (6–12 months)
                    </option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Values in mg of amino acid per g of reference protein.
                  </p>
                </div>
                <div>
                  <label
                    for="digestibility"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >True protein digestibility (%)</label
                  >
                  <input
                    id="digestibility"
                    type="number"
                    min="0"
                    max="100"
                    step="0.1"
                    value="95"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Typical values: 90–98% for animal proteins, 70–95% for plant
                    proteins.
                  </p>
                </div>
              </div>

              <!-- Blend controls -->
              <div
                id="blend-controls"
                class="mb-4 hidden border border-dashed border-gray-300 rounded-md p-3 bg-gray-50"
              >
                <div class="flex items-center justify-between mb-2">
                  <h2 class="text-sm font-semibold text-gray-800">
                    Protein sources in blend
                  </h2>
                  <button
                    type="button"
                    id="add-source"
                    class="text-xs px-2 py-1 rounded-md bg-blue-600 text-white"
                  >
                    + Add source
                  </button>
                </div>
                <p class="text-xs text-gray-600 mb-2">
                  Specify the percentage of total protein contributed by each
                  source. The calculator will normalize if the sum ≠ 100%.
                </p>
                <div id="sources-container" class="space-y-2"></div>
              </div>

              <!-- Amino acid input table -->
              <div class="table-scroll mb-4">
                <table class="min-w-full text-xs border border-gray-200">
                  <thead class="bg-gray-100">
                    <tr>
                      <th
                        class="px-2 py-2 text-left font-semibold text-gray-700 border-b border-gray-200"
                      >
                        Indispensable amino acid
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold text-gray-700 border-b border-gray-200"
                      >
                        Content<br />(mg / g protein)
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold text-gray-700 border-b border-gray-200"
                      >
                        Reference<br />(mg / g)
                      </th>
                      <th
                        class="px-2 py-2 text-left font-semibold text-gray-700 border-b border-gray-200"
                      >
                        Ratio<br />(test / ref)
                      </th>
                    </tr>
                  </thead>
                  <tbody id="aa-table-body" class="divide-y divide-gray-100">
                    <!-- Rows injected by JS -->
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500 mb-4">
                Enter amino acid content per gram of protein (not per 100 g of
                food). If you only have values per 100 g of food, divide by
                grams of protein per 100 g.
              </p>

              <!-- Actions -->
              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calculate-btn"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700"
                >
                  Calculate PDCAAS
                </button>
                <button
                  id="reset-btn"
                  type="button"
                  class="px-3 py-2 bg-gray-100 text-gray-700 text-xs rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
                <span id="input-warning" class="text-xs text-red-600 hidden"
                  >Please enter at least one non-zero amino acid value.</span
                >
              </div>

              <!-- Results -->
              <section aria-labelledby="results-heading" class="mb-6">
                <h2 id="results-heading" class="text-lg font-semibold mb-2">
                  Results
                </h2>
                <div class="grid md:grid-cols-3 gap-4 mb-3">
                  <div class="p-3 rounded-md bg-blue-50 border border-blue-100">
                    <div class="text-xs text-gray-600 mb-1">PDCAAS (0–1.0)</div>
                    <div
                      id="pdcaas-value"
                      class="text-2xl font-bold text-blue-700"
                    >
                      –
                    </div>
                  </div>
                  <div
                    class="p-3 rounded-md bg-green-50 border border-green-100"
                  >
                    <div class="text-xs text-gray-600 mb-1">PDCAAS (%)</div>
                    <div
                      id="pdcaas-percent"
                      class="text-2xl font-bold text-green-700"
                    >
                      –
                    </div>
                  </div>
                  <div
                    class="p-3 rounded-md bg-purple-50 border border-purple-100"
                  >
                    <div class="text-xs text-gray-600 mb-1">
                      Limiting amino acid
                    </div>
                    <div
                      id="limiting-aa"
                      class="text-sm font-semibold text-purple-800"
                    >
                      –
                    </div>
                    <div
                      id="limiting-aa-ratio"
                      class="text-xs text-purple-700 mt-1"
                    >
                      Ratio: –
                    </div>
                  </div>
                </div>

                <div class="text-sm text-gray-700 mb-2">
                  <p id="interpretation-text" class="mb-1">
                    Enter data and click “Calculate PDCAAS” to see an
                    interpretation of protein quality.
                  </p>
                </div>

                <div class="formula-box text-sm text-gray-800">
                  <p class="font-semibold mb-1">Formula</p>
                  <p class="mb-1">
                    <strong>Step 1 – Amino acid score (AAS):</strong>
                  </p>
                  <p class="mb-1">For each indispensable amino acid \(i\):</p>
                  <p class="mb-1">
                    \(\text{ratio}_i = \dfrac{\text{mg of amino acid } i \text{
                    per g test protein}}{\text{mg of amino acid } i \text{ per g
                    reference protein}}\)
                  </p>
                  <p class="mb-1">
                    The <strong>amino acid score</strong> is the minimum of all
                    ratios:
                  </p>
                  <p class="mb-1">\(\text{AAS} = \min(\text{ratio}_i)\)</p>
                  <p class="mb-1">
                    <strong>Step 2 – Apply digestibility:</strong>
                  </p>
                  <p class="mb-1">
                    \(\text{PDCAAS}_\text{raw} = \text{AAS} \times
                    \dfrac{\text{digestibility (\%)}}{100}\)
                  </p>
                  <p class="mb-0">
                    <strong>Step 3 – Truncate at 1.0:</strong> \(\text{PDCAAS} =
                    \min(1.0, \text{PDCAAS}_\text{raw})\)
                  </p>
                </div>
              </section>
            </section>

            <section class="prose mt-8">
              <h2>What is PDCAAS?</h2>
              <p>
                PDCAAS stands for
                <strong>Protein Digestibility Corrected Amino Acid Score</strong
                >. It is a widely used method to rate the
                <strong>quality of dietary protein</strong> on a scale from 0 to
                1.0, based on:
              </p>
              <ul>
                <li>
                  how well the protein’s
                  <strong>essential amino acid profile</strong> matches human
                  requirements, and
                </li>
                <li>
                  how much of that protein is actually
                  <strong>digested and absorbed</strong> (true digestibility).
                </li>
              </ul>
              <p>
                A PDCAAS of <strong>1.0</strong> means the protein provides all
                indispensable amino acids in sufficient amounts after accounting
                for digestibility. This is the maximum score (values above 1.0
                are truncated).
              </p>

              <h2>Typical PDCAAS values for common proteins</h2>
              <div class="table-scroll">
                <table class="min-w-full text-sm border border-gray-200">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="px-3 py-2 text-left border-b border-gray-200">
                        Protein source
                      </th>
                      <th class="px-3 py-2 text-left border-b border-gray-200">
                        Approx. PDCAAS
                      </th>
                      <th class="px-3 py-2 text-left border-b border-gray-200">
                        Notes
                      </th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-100">
                    <tr>
                      <td class="px-3 py-2">Egg, milk, whey, casein</td>
                      <td class="px-3 py-2">1.0</td>
                      <td class="px-3 py-2">
                        Complete amino acid profile, very high digestibility.
                      </td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Soy protein isolate</td>
                      <td class="px-3 py-2">~1.0</td>
                      <td class="px-3 py-2">
                        Plant protein with PDCAAS comparable to animal proteins.
                      </td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Beef, poultry, fish</td>
                      <td class="px-3 py-2">0.9–1.0</td>
                      <td class="px-3 py-2">High-quality animal proteins.</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Pea protein</td>
                      <td class="px-3 py-2">~0.7–0.9</td>
                      <td class="px-3 py-2">
                        Often limited by methionine + cysteine.
                      </td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Wheat protein (gluten)</td>
                      <td class="px-3 py-2">~0.4–0.5</td>
                      <td class="px-3 py-2">
                        Low in lysine; digestibility varies with processing.
                      </td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Rice protein</td>
                      <td class="px-3 py-2">~0.5–0.7</td>
                      <td class="px-3 py-2">
                        Limited in lysine; often combined with legumes.
                      </td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Mixed plant protein blends</td>
                      <td class="px-3 py-2">0.8–1.0</td>
                      <td class="px-3 py-2">
                        Complementary amino acid profiles can reach PDCAAS 1.0.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="text-xs text-gray-500">
                Values are approximate and depend on variety, processing, and
                measurement methods. For labeling or clinical use, rely on lab
                analyses and official reference data.
              </p>

              <h2>How this PDCAAS calculator works</h2>
              <p>
                This tool follows the standard PDCAAS methodology in three
                steps:
              </p>
              <ol>
                <li>
                  <strong>Normalize amino acids per gram of protein</strong>
                  (mg/g protein).
                </li>
                <li>
                  <strong>Compare to a reference pattern</strong> (FAO/WHO/UNU
                  2007) for the chosen age group.
                </li>
                <li>
                  <strong>Apply true protein digestibility</strong> and truncate
                  the final score at 1.0.
                </li>
              </ol>
              <p>
                For blends, the calculator first computes a
                <strong>weighted average amino acid profile</strong> based on
                the percentage of total protein from each source, then applies
                the same PDCAAS steps.
              </p>

              <h3>Reference amino acid patterns used</h3>
              <p>
                The reference values (mg amino acid per g reference protein) are
                based on FAO/WHO/UNU recommendations:
              </p>
              <ul>
                <li>
                  <strong>6–12 months</strong>: highest requirements per gram of
                  protein.
                </li>
                <li>
                  <strong>1–2 years</strong>: slightly lower than infants.
                </li>
                <li>
                  <strong>≥3 years &amp; adults</strong>: used for most adult
                  applications and labeling.
                </li>
              </ul>
              <p>
                Choosing a pattern with
                <strong>higher requirements</strong> (e.g., infants) will
                generally yield a <strong>lower PDCAAS</strong> for the same
                protein, because the benchmark is stricter.
              </p>

              <h2>Interpreting your PDCAAS result</h2>
              <ul>
                <li>
                  <strong>0.9–1.0</strong>: very high-quality protein; fully
                  adequate for the chosen reference pattern.
                </li>
                <li>
                  <strong>0.7–0.89</strong>: good quality; may be slightly
                  limited in one amino acid.
                </li>
                <li>
                  <strong>0.4–0.69</strong>: moderate quality; useful in mixed
                  diets or blends.
                </li>
                <li>
                  <strong>&lt;0.4</strong>: low quality as a sole protein
                  source; usually needs complementation.
                </li>
              </ul>
              <p>
                Remember that PDCAAS is <strong>one metric</strong>. Total
                protein intake, energy intake, overall diet quality, and
                individual health status are also important.
              </p>

              <h2>Limitations of PDCAAS</h2>
              <ul>
                <li>
                  Scores are <strong>truncated at 1.0</strong>, so proteins
                  better than the reference pattern still show as 1.0.
                </li>
                <li>
                  Uses <strong>overall fecal protein digestibility</strong>, not
                  amino-acid–specific ileal digestibility (as in DIAAS), which
                  may underestimate or overestimate some proteins.
                </li>
                <li>
                  Does not account for
                  <strong>anti-nutritional factors</strong> or processing
                  effects beyond their impact on digestibility.
                </li>
                <li>
                  Assumes the reference pattern is appropriate for the
                  population being considered.
                </li>
              </ul>
              <p>
                For research or regulatory work, consult the latest FAO/WHO
                reports and peer-reviewed literature on protein quality
                assessment.
              </p>

              <h2>Practical tips for using this calculator</h2>
              <ul>
                <li>
                  Use <strong>lab analyses</strong> or authoritative food
                  composition tables for amino acid values whenever possible.
                </li>
                <li>
                  If you only know amino acids per 100 g of food and grams of
                  protein per 100 g, convert to mg/g protein by dividing amino
                  acid (mg/100 g food) by protein (g/100 g food).
                </li>
                <li>
                  For <strong>plant-based formulations</strong>, experiment with
                  different blend ratios to see how PDCAAS changes and which
                  amino acid becomes limiting.
                </li>
                <li>
                  Use realistic digestibility values; if unknown, base them on
                  similar foods reported in the literature.
                </li>
              </ul>

              <h2>Disclaimer</h2>
              <p>
                This calculator is for
                <strong>educational and formulation support</strong> only. It
                does not replace laboratory testing, regulatory guidance, or
                personalized advice from a qualified dietitian, nutritionist, or
                physician. For clinical nutrition, infant formulas, or product
                labeling, always rely on validated analytical data and
                applicable regulations.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Pdcaas.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More Diet &amp; Nutrition tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/carb-calculator"
                  class="text-blue-600 hover:underline"
                  >Carb Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-intake-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Intake Planner</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fat-intake"
                  class="text-blue-600 hover:underline"
                  >Fat Intake Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fiber"
                  class="text-blue-600 hover:underline"
                  >Fiber Intake Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calorie"
                  class="text-blue-600 hover:underline"
                  >Calorie Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tdee"
                  class="text-blue-600 hover:underline"
                  >TDEE (Total Daily Energy Expenditure)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/macro"
                  class="text-blue-600 hover:underline"
                  >Macro Split Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/recipe-nutrition-calculator"
                  class="text-blue-600 hover:underline"
                  >Recipe Nutrition Analyzer</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/water-intake"
                  class="text-blue-600 hover:underline"
                  >Water Intake Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Health &amp; Fitness highlights
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-blue-600 hover:underline"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/body-fat"
                  class="text-blue-600 hover:underline"
                  >Body Fat Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmr"
                  class="text-blue-600 hover:underline"
                  >BMR (Basal Metabolic Rate)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heart-rate-calculator"
                  class="text-blue-600 hover:underline"
                  >Heart Rate Zones</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/exercise"
                  class="text-blue-600 hover:underline"
                  >Exercise Calories Burned</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Reference amino acid patterns (mg/g protein) based on FAO/WHO/UNU
      const referencePatterns = {
        faon3: {
          // ≥3 years & adults
          name: "FAO/WHO/UNU 2007 (≥3y & adults)",
          data: {
            Histidine: 15,
            Isoleucine: 30,
            Leucine: 59,
            Lysine: 45,
            "Methionine + Cysteine": 22,
            "Phenylalanine + Tyrosine": 38,
            Threonine: 23,
            Tryptophan: 6,
            Valine: 39,
          },
        },
        faon1: {
          // 1–2 years
          name: "FAO/WHO/UNU 2007 (1–2 years)",
          data: {
            Histidine: 18,
            Isoleucine: 31,
            Leucine: 63,
            Lysine: 52,
            "Methionine + Cysteine": 25,
            "Phenylalanine + Tyrosine": 46,
            Threonine: 27,
            Tryptophan: 7,
            Valine: 43,
          },
        },
        faon6: {
          // 6–12 months
          name: "FAO/WHO/UNU 2007 (6–12 months)",
          data: {
            Histidine: 26,
            Isoleucine: 46,
            Leucine: 93,
            Lysine: 66,
            "Methionine + Cysteine": 42,
            "Phenylalanine + Tyrosine": 72,
            Threonine: 43,
            Tryptophan: 17,
            Valine: 55,
          },
        },
      };

      const aminoAcids = [
        "Histidine",
        "Isoleucine",
        "Leucine",
        "Lysine",
        "Methionine + Cysteine",
        "Phenylalanine + Tyrosine",
        "Threonine",
        "Tryptophan",
        "Valine",
      ];

      const aaTableBody = document.getElementById("aa-table-body");
      const referenceSelect = document.getElementById("reference-pattern");
      const digestibilityInput = document.getElementById("digestibility");
      const calculateBtn = document.getElementById("calculate-btn");
      const resetBtn = document.getElementById("reset-btn");
      const pdcaasValueEl = document.getElementById("pdcaas-value");
      const pdcaasPercentEl = document.getElementById("pdcaas-percent");
      const limitingAaEl = document.getElementById("limiting-aa");
      const limitingAaRatioEl = document.getElementById("limiting-aa-ratio");
      const interpretationTextEl = document.getElementById(
        "interpretation-text"
      );
      const inputWarningEl = document.getElementById("input-warning");

      const modeSingleBtn = document.getElementById("mode-single");
      const modeBlendBtn = document.getElementById("mode-blend");
      const blendControls = document.getElementById("blend-controls");
      const sourcesContainer = document.getElementById("sources-container");
      const addSourceBtn = document.getElementById("add-source");

      let currentMode = "single"; // 'single' or 'blend'
      let sources = []; // for blend mode

      function createTableRows() {
        aaTableBody.innerHTML = "";
        const ref = referencePatterns[referenceSelect.value].data;
        aminoAcids.forEach((aa, index) => {
          const tr = document.createElement("tr");

          const nameTd = document.createElement("td");
          nameTd.className = "px-2 py-2 text-gray-800";
          nameTd.textContent = aa;

          const inputTd = document.createElement("td");
          inputTd.className = "px-2 py-2";
          const input = document.createElement("input");
          input.type = "number";
          input.min = "0";
          input.step = "0.1";
          input.className =
            "w-24 border border-gray-300 rounded-md px-2 py-1 text-xs aa-input";
          input.dataset.aa = aa;
          inputTd.appendChild(input);

          const refTd = document.createElement("td");
          refTd.className = "px-2 py-2 text-gray-700";
          refTd.textContent = ref[aa] != null ? ref[aa].toFixed(1) : "–";
          refTd.dataset.aaRef = aa;

          const ratioTd = document.createElement("td");
          ratioTd.className = "px-2 py-2 text-gray-700";
          ratioTd.id = `ratio-${index}`;
          ratioTd.textContent = "–";

          tr.appendChild(nameTd);
          tr.appendChild(inputTd);
          tr.appendChild(refTd);
          tr.appendChild(ratioTd);
          aaTableBody.appendChild(tr);
        });
      }

      function updateReferenceColumn() {
        const ref = referencePatterns[referenceSelect.value].data;
        const refCells = aaTableBody.querySelectorAll("td[data-aa-ref]");
        refCells.forEach((cell) => {
          const aa = cell.dataset.aaRef;
          cell.textContent = ref[aa] != null ? ref[aa].toFixed(1) : "–";
        });
      }

      function getSingleProteinProfile() {
        const inputs = aaTableBody.querySelectorAll(".aa-input");
        const profile = {};
        inputs.forEach((input) => {
          const aa = input.dataset.aa;
          const val = parseFloat(input.value);
          profile[aa] = isNaN(val) ? 0 : val;
        });
        return profile;
      }

      function setSingleProteinProfile(profile) {
        const inputs = aaTableBody.querySelectorAll(".aa-input");
        inputs.forEach((input) => {
          const aa = input.dataset.aa;
          if (profile[aa] != null) {
            input.value = profile[aa];
          } else {
            input.value = "";
          }
        });
      }

      function computeBlendProfile() {
        if (sources.length === 0) return null;

        // Sum of weights
        let totalWeight = sources.reduce((sum, s) => sum + (s.weight || 0), 0);
        if (totalWeight <= 0) return null;

        // Normalize weights to 1
        const normalized = sources.map((s) => ({
          profile: s.profile,
          weight: (s.weight || 0) / totalWeight,
        }));

        const blendProfile = {};
        aminoAcids.forEach((aa) => {
          let sum = 0;
          normalized.forEach((s) => {
            const val = s.profile[aa] != null ? s.profile[aa] : 0;
            sum += val * s.weight;
          });
          blendProfile[aa] = sum;
        });

        return blendProfile;
      }

      function computeBlendDigestibility() {
        if (sources.length === 0) return null;
        let totalWeight = sources.reduce((sum, s) => sum + (s.weight || 0), 0);
        if (totalWeight <= 0) return null;
        let sum = 0;
        sources.forEach((s) => {
          const d = s.digestibility != null ? s.digestibility : 0;
          sum += d * (s.weight || 0);
        });
        return sum / totalWeight;
      }

      function calculatePdcaas() {
        inputWarningEl.classList.add("hidden");

        let profile;
        let digestibility;

        if (currentMode === "single") {
          profile = getSingleProteinProfile();
          digestibility = parseFloat(digestibilityInput.value);
        } else {
          // Blend mode: compute from sources
          const blendProfile = computeBlendProfile();
          const blendDigest = computeBlendDigestibility();
          if (!blendProfile || isNaN(blendDigest)) {
            inputWarningEl.textContent =
              "Please add at least one protein source with valid data.";
            inputWarningEl.classList.remove("hidden");
            return;
          }
          profile = blendProfile;
          digestibility = blendDigest;
          // Show effective digestibility in the main field
          digestibilityInput.value = blendDigest.toFixed(1);
          setSingleProteinProfile(blendProfile);
        }

        if (isNaN(digestibility) || digestibility <= 0) {
          inputWarningEl.textContent =
            "Please enter a valid digestibility percentage.";
          inputWarningEl.classList.remove("hidden");
          return;
        }

        const ref = referencePatterns[referenceSelect.value].data;
        let limitingAa = null;
        let limitingRatio = Infinity;
        let anyNonZero = false;

        aminoAcids.forEach((aa, index) => {
          const testVal = profile[aa] != null ? profile[aa] : 0;
          const refVal = ref[aa];
          let ratioCell = document.getElementById(`ratio-${index}`);

          if (!refVal || refVal <= 0) {
            ratioCell.textContent = "–";
            return;
          }

          if (testVal > 0) anyNonZero = true;

          const ratio = testVal / refVal;
          if (isFinite(ratio)) {
            ratioCell.textContent = ratio.toFixed(2);
            if (ratio < limitingRatio) {
              limitingRatio = ratio;
              limitingAa = aa;
            }
          } else {
            ratioCell.textContent = "–";
          }
        });

        if (!anyNonZero) {
          inputWarningEl.textContent =
            "Please enter at least one non-zero amino acid value.";
          inputWarningEl.classList.remove("hidden");
          return;
        }

        if (!isFinite(limitingRatio) || limitingRatio === Infinity) {
          inputWarningEl.textContent =
            "Unable to compute PDCAAS with the current inputs.";
          inputWarningEl.classList.remove("hidden");
          return;
        }

        const aas = limitingRatio;
        const pdcaasRaw = aas * (digestibility / 100);
        const pdcaas = Math.min(1, Math.max(0, pdcaasRaw));

        pdcaasValueEl.textContent = pdcaas.toFixed(2);
        pdcaasPercentEl.textContent = (pdcaas * 100).toFixed(0) + "%";
        limitingAaEl.textContent = limitingAa || "–";
        limitingAaRatioEl.textContent = "Ratio: " + aas.toFixed(2);

        let interpretation;
        if (pdcaas >= 0.95) {
          interpretation =
            "This protein scores very high on PDCAAS and can be considered a complete, high-quality protein for the selected reference pattern.";
        } else if (pdcaas >= 0.8) {
          interpretation =
            "This is a high-quality protein with only mild limitation in one or more amino acids.";
        } else if (pdcaas >= 0.6) {
          interpretation =
            "This protein has moderate quality. It is best used in combination with other proteins to cover amino acid needs.";
        } else {
          interpretation =
            "This protein has low PDCAAS and is not suitable as a sole protein source for the selected reference pattern.";
        }

        if (currentMode === "blend") {
          interpretation +=
            " Because you are using a blend, consider adjusting the proportions of each source to improve the limiting amino acid.";
        }

        interpretationTextEl.textContent = interpretation;
      }

      function resetAll() {
        const inputs = aaTableBody.querySelectorAll(".aa-input");
        inputs.forEach((input) => (input.value = ""));
        digestibilityInput.value = "95";
        pdcaasValueEl.textContent = "–";
        pdcaasPercentEl.textContent = "–";
        limitingAaEl.textContent = "–";
        limitingAaRatioEl.textContent = "Ratio: –";
        interpretationTextEl.textContent =
          "Enter data and click “Calculate PDCAAS” to see an interpretation of protein quality.";
        inputWarningEl.classList.add("hidden");
        const ratioCells = aaTableBody.querySelectorAll('[id^="ratio-"]');
        ratioCells.forEach((cell) => (cell.textContent = "–"));
        if (currentMode === "blend") {
          sources = [];
          sourcesContainer.innerHTML = "";
        }
      }

      function setMode(mode) {
        currentMode = mode;
        if (mode === "single") {
          modeSingleBtn.classList.add(
            "border-blue-500",
            "text-blue-600",
            "bg-blue-50",
            "font-medium"
          );
          modeSingleBtn.classList.remove(
            "border-gray-300",
            "text-gray-700",
            "bg-white"
          );
          modeBlendBtn.classList.remove(
            "border-blue-500",
            "text-blue-600",
            "bg-blue-50",
            "font-medium"
          );
          modeBlendBtn.classList.add(
            "border-gray-300",
            "text-gray-700",
            "bg-white"
          );
          blendControls.classList.add("hidden");
        } else {
          modeBlendBtn.classList.add(
            "border-blue-500",
            "text-blue-600",
            "bg-blue-50",
            "font-medium"
          );
          modeBlendBtn.classList.remove(
            "border-gray-300",
            "text-gray-700",
            "bg-white"
          );
          modeSingleBtn.classList.remove(
            "border-blue-500",
            "text-blue-600",
            "bg-blue-50",
            "font-medium"
          );
          modeSingleBtn.classList.add(
            "border-gray-300",
            "text-gray-700",
            "bg-white"
          );
          blendControls.classList.remove("hidden");
          if (sources.length === 0) {
            addSource(); // add initial source
          }
        }
        resetAll();
      }

      function addSource(initial = {}) {
        const index = sources.length;
        const source = {
          name: initial.name || `Source ${index + 1}`,
          weight: initial.weight != null ? initial.weight : 50,
          digestibility:
            initial.digestibility != null ? initial.digestibility : 90,
          profile: initial.profile || {},
        };
        sources.push(source);

        const wrapper = document.createElement("div");
        wrapper.className = "border border-gray-200 rounded-md p-2 bg-white";
        wrapper.dataset.index = index;

        const header = document.createElement("div");
        header.className = "flex items-center justify-between mb-2";

        const nameInput = document.createElement("input");
        nameInput.type = "text";
        nameInput.value = source.name;
        nameInput.className =
          "text-xs font-semibold text-gray-800 border border-gray-200 rounded px-2 py-1 flex-1 mr-2";
        nameInput.addEventListener("input", () => {
          source.name = nameInput.value;
        });

        const removeBtn = document.createElement("button");
        removeBtn.type = "button";
        removeBtn.className = "text-xs text-red-600";
        removeBtn.textContent = "Remove";
        removeBtn.addEventListener("click", () => {
          sources = sources.filter((_, i) => i !== index);
          wrapper.remove();
        });

        header.appendChild(nameInput);
        header.appendChild(removeBtn);

        const row = document.createElement("div");
        row.className = "grid grid-cols-2 gap-2 mb-2";

        const weightDiv = document.createElement("div");
        const weightLabel = document.createElement("label");
        weightLabel.className = "block text-[11px] text-gray-600 mb-0.5";
        weightLabel.textContent = "Share of total protein (%)";
        const weightInput = document.createElement("input");
        weightInput.type = "number";
        weightInput.min = "0";
        weightInput.step = "0.1";
        weightInput.value = source.weight;
        weightInput.className =
          "w-full border border-gray-300 rounded-md px-2 py-1 text-xs";
        weightInput.addEventListener("input", () => {
          const val = parseFloat(weightInput.value);
          source.weight = isNaN(val) ? 0 : val;
        });
        weightDiv.appendChild(weightLabel);
        weightDiv.appendChild(weightInput);

        const digestDiv = document.createElement("div");
        const digestLabel = document.createElement("label");
        digestLabel.className = "block text-[11px] text-gray-600 mb-0.5";
        digestLabel.textContent = "Digestibility (%)";
        const digestInput = document.createElement("input");
        digestInput.type = "number";
        digestInput.min = "0";
        digestInput.max = "100";
        digestInput.step = "0.1";
        digestInput.value = source.digestibility;
        digestInput.className =
          "w-full border border-gray-300 rounded-md px-2 py-1 text-xs";
        digestInput.addEventListener("input", () => {
          const val = parseFloat(digestInput.value);
          source.digestibility = isNaN(val) ? 0 : val;
        });
        digestDiv.appendChild(digestLabel);
        digestDiv.appendChild(digestInput);

        row.appendChild(weightDiv);
        row.appendChild(digestDiv);

        const aaHint = document.createElement("p");
        aaHint.className = "text-[11px] text-gray-500 mb-1";
        aaHint.textContent =
          "Enter amino acids for this source below, then click “Use as current profile” to copy into the main table.";

        const useBtn = document.createElement("button");
        useBtn.type = "button";
        useBtn.className = "text-[11px] text-blue-600 underline";
        useBtn.textContent = "Use current table as this source profile";
        useBtn.addEventListener("click", () => {
          source.profile = getSingleProteinProfile();
        });

        wrapper.appendChild(header);
        wrapper.appendChild(row);
        wrapper.appendChild(aaHint);
        wrapper.appendChild(useBtn);

        sourcesContainer.appendChild(wrapper);
      }

      // Event listeners
      referenceSelect.addEventListener("change", () => {
        updateReferenceColumn();
        resetAll();
      });

      calculateBtn.addEventListener("click", calculatePdcaas);
      resetBtn.addEventListener("click", resetAll);

      modeSingleBtn.addEventListener("click", () => setMode("single"));
      modeBlendBtn.addEventListener("click", () => setMode("blend"));
      addSourceBtn.addEventListener("click", () => addSource());

      // Initialize
      createTableRows();
      setMode("single");
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
