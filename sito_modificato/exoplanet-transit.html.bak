<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/exoplanet-transit" />
    <title>Exoplanet Transit Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Exoplanet Transit Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Exoplanet Transit Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Exoplanet Transit Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/exoplanet-transit" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Exoplanet Transit Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Exoplanet Transit Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Exoplanet Transit Calculator", "item": "https://calcdomain.com/exoplanet-transit"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Exoplanet Transit Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl md:text-3xl font-bold mb-2">
              Exoplanet Transit Calculator
            </h1>
            <p class="text-gray-700 mb-4">
              Explore how exoplanet transits dim a star&rsquo;s light. Adjust
              star and planet properties to see transit depth, duration, and a
              synthetic light curve.
            </p>

            <!-- Calculator Tabs -->
            <div class="mb-6 border-b border-gray-200">
              <nav
                class="flex flex-wrap -mb-px text-sm font-medium"
                aria-label="Exoplanet transit modes"
              >
                <button
                  id="tab-forward"
                  class="mr-4 pb-2 border-b-2 border-blue-600 text-blue-600 focus:outline-none"
                  type="button"
                >
                  Forward model (star + planet → transit)
                </button>
                <button
                  id="tab-inverse"
                  class="mr-4 pb-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 focus:outline-none"
                  type="button"
                >
                  Inverse (depth → planet radius)
                </button>
              </nav>
            </div>

            <!-- Forward Model Panel -->
            <section id="panel-forward">
              <h2 class="text-xl font-semibold mb-3">
                1. Star &amp; Planet Parameters
              </h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <!-- Star radius -->
                <div>
                  <label
                    for="starRadius"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Star radius
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="starRadius"
                      type="number"
                      step="0.01"
                      min="0.01"
                      value="1"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="starRadiusUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="rsun" selected>R☉</option>
                      <option value="rjup">R♃ (Jupiter)</option>
                      <option value="rearth">R⊕ (Earth)</option>
                    </select>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    R☉ = solar radius, R♃ = Jupiter radius, R⊕ = Earth radius.
                  </p>
                </div>

                <!-- Planet radius -->
                <div>
                  <label
                    for="planetRadius"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Planet radius
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="planetRadius"
                      type="number"
                      step="0.01"
                      min="0.01"
                      value="1"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="planetRadiusUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="rjup" selected>R♃ (Jupiter)</option>
                      <option value="rearth">R⊕ (Earth)</option>
                      <option value="rsun">R☉</option>
                    </select>
                  </div>
                </div>

                <!-- Orbital period -->
                <div>
                  <label
                    for="period"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Orbital period
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="period"
                      type="number"
                      step="0.01"
                      min="0.01"
                      value="3.5"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="periodUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="days" selected>days</option>
                      <option value="hours">hours</option>
                    </select>
                  </div>
                </div>

                <!-- Semi-major axis -->
                <div>
                  <label
                    for="semiMajorAxis"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Orbital distance (semi-major axis)
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="semiMajorAxis"
                      type="number"
                      step="0.001"
                      min="0.001"
                      value="0.04"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="semiMajorAxisUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="au" selected>AU</option>
                      <option value="rsun">R☉</option>
                    </select>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    If you change a, the period is not automatically updated
                    (and vice versa).
                  </p>
                </div>

                <!-- Impact parameter -->
                <div>
                  <label
                    for="impactParameter"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Impact parameter b (0 = central transit)
                  </label>
                  <div class="flex items-center space-x-3">
                    <input
                      id="impactParameter"
                      type="range"
                      min="0"
                      max="0.99"
                      step="0.01"
                      value="0"
                      class="w-full"
                    />
                    <span
                      id="impactParameterValue"
                      class="slider-output text-sm text-gray-700"
                      >0.00</span
                    >
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    b is the sky-projected distance between star and planet
                    centers in units of star radii.
                  </p>
                </div>

                <!-- Inclination -->
                <div>
                  <label
                    for="inclination"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Orbital inclination i (deg)
                  </label>
                  <div class="flex items-center space-x-3">
                    <input
                      id="inclination"
                      type="range"
                      min="80"
                      max="90"
                      step="0.1"
                      value="90"
                      class="w-full"
                    />
                    <span
                      id="inclinationValue"
                      class="slider-output text-sm text-gray-700"
                      >90.0°</span
                    >
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    90° = edge-on. For simplicity, b is used directly in the
                    duration formula.
                  </p>
                </div>
              </div>

              <button
                id="computeForward"
                type="button"
                class="w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700 transition-colors mb-4"
              >
                Compute transit properties
              </button>

              <div id="forwardResults" class="grid md:grid-cols-2 gap-4 mb-6">
                <div class="bg-blue-50 border border-blue-100 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-blue-800">
                    Transit depth
                  </h3>
                  <p class="text-2xl font-bold text-blue-900">
                    <span id="depthPercent">–</span> %
                  </p>
                  <p class="text-xs text-blue-800 mt-1">
                    Relative flux drop: <span id="depthPpm">–</span> ppm
                  </p>
                </div>
                <div class="bg-indigo-50 border border-indigo-100 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-indigo-800">
                    Transit duration
                  </h3>
                  <p class="text-2xl font-bold text-indigo-900">
                    <span id="durationHours">–</span> h
                  </p>
                  <p class="text-xs text-indigo-800 mt-1">
                    In minutes: <span id="durationMinutes">–</span> min
                  </p>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-gray-800">
                    Scaled system
                  </h3>
                  <p class="text-sm text-gray-800">
                    Rp/R★ = <span id="ratioRpRs">–</span><br />
                    a/R★ = <span id="ratioARs">–</span>
                  </p>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-gray-800">
                    Transit probability (approx.)
                  </h3>
                  <p class="text-2xl font-bold text-gray-900">
                    <span id="transitProb">–</span> %
                  </p>
                  <p class="text-xs text-gray-600 mt-1">
                    Geometric probability ≈ (R★ + Rp) / a
                  </p>
                </div>
              </div>

              <h2 class="text-xl font-semibold mb-3">
                2. Synthetic Light Curve
              </h2>
              <p class="text-sm text-gray-600 mb-2">
                The plot shows relative brightness vs. orbital phase for a
                simple box-shaped transit model (no limb darkening).
              </p>
              <div class="bg-gray-50 border border-gray-200 rounded p-4 mb-6">
                <canvas
                  id="lightcurveCanvas"
                  class="lightcurve-canvas"
                ></canvas>
                <p class="text-xs text-gray-500 mt-2">
                  Phase 0 corresponds to mid-transit. Out-of-transit flux is
                  normalized to 1.0.
                </p>
              </div>
            </section>

            <!-- Inverse Panel -->
            <section id="panel-inverse" class="hidden">
              <h2 class="text-xl font-semibold mb-3">
                Infer Planet Radius from Transit Depth
              </h2>
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="invStarRadius"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Star radius
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="invStarRadius"
                      type="number"
                      step="0.01"
                      min="0.01"
                      value="1"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="invStarRadiusUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="rsun" selected>R☉</option>
                      <option value="rjup">R♃</option>
                      <option value="rearth">R⊕</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label
                    for="invDepth"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Measured transit depth
                  </label>
                  <div class="flex items-center space-x-2">
                    <input
                      id="invDepth"
                      type="number"
                      step="0.0001"
                      min="0.000001"
                      value="0.01"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                    <select
                      id="invDepthUnit"
                      class="border border-gray-300 rounded px-2 py-2 text-sm"
                    >
                      <option value="fraction">fraction</option>
                      <option value="percent" selected>%</option>
                      <option value="ppm">ppm</option>
                    </select>
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Example: 1% = 0.01; 10,000 ppm = 1%.
                  </p>
                </div>
              </div>

              <button
                id="computeInverse"
                type="button"
                class="w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700 transition-colors mb-4"
              >
                Estimate planet radius
              </button>

              <div id="inverseResults" class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="bg-blue-50 border border-blue-100 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-blue-800">
                    Planet radius
                  </h3>
                  <p class="text-lg font-bold text-blue-900">
                    <span id="invRpRjup">–</span> R♃
                  </p>
                  <p class="text-xs text-blue-800 mt-1">
                    In Earth radii: <span id="invRpRearth">–</span> R⊕
                  </p>
                </div>
                <div class="bg-indigo-50 border border-indigo-100 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-indigo-800">
                    Radius ratio
                  </h3>
                  <p class="text-lg font-bold text-indigo-900">
                    Rp/R★ = <span id="invRatioRpRs">–</span>
                  </p>
                  <p class="text-xs text-indigo-800 mt-1">Depth ≈ (Rp/R★)²</p>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded p-3">
                  <h3 class="font-semibold text-sm mb-2 text-gray-800">
                    Depth (normalized)
                  </h3>
                  <p class="text-lg font-bold text-gray-900">
                    <span id="invDepthFraction">–</span> (fraction)
                  </p>
                  <p class="text-xs text-gray-600 mt-1">
                    = <span id="invDepthPercentOut">–</span> % =
                    <span id="invDepthPpmOut">–</span> ppm
                  </p>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>How the exoplanet transit calculator works</h2>
              <p>
                This tool implements the standard analytic approximations used
                in introductory exoplanet transit modeling. It is designed for
                students, educators, and enthusiasts who want to connect the
                physical parameters of a star–planet system to observable
                quantities like transit depth and duration.
              </p>

              <h3>Transit depth: how much light is blocked?</h3>
              <p>
                For a central transit and ignoring stellar limb darkening, the
                fractional loss of light (transit depth) is simply the area
                ratio of the planet to the star:
              </p>
              <div class="formula-box">
                <p>
                  \( \text{depth} \approx \left(\dfrac{R_p}{R_\star}\right)^2 \)
                </p>
                <p>
                  where \(R_p\) is the planet radius and \(R_\star\) is the
                  stellar radius.
                </p>
              </div>
              <p>
                The calculator converts your chosen units (solar, Jupiter, or
                Earth radii) into meters internally, computes \(R_p/R_\star\),
                and then reports:
              </p>
              <ul>
                <li>Depth as a fraction of the star&rsquo;s flux.</li>
                <li>Depth in percent (%).</li>
                <li>
                  Depth in parts per million (ppm), commonly used in space
                  missions like Kepler and TESS.
                </li>
              </ul>

              <h3>Transit duration: how long does the dip last?</h3>
              <p>
                For a circular orbit and a small planet, the total transit
                duration (first to fourth contact) can be approximated by:
              </p>
              <div class="formula-box">
                <p>
                  \( T \approx \dfrac{P}{\pi} \arcsin \left( \dfrac{R_\star}{a}
                  \dfrac{\sqrt{(1 + k)^2 - b^2}}{\sin i} \right) \)
                </p>
                <p>where:</p>
                <ul>
                  <li>\(P\) = orbital period,</li>
                  <li>\(a\) = semi-major axis (orbital distance),</li>
                  <li>\(k = R_p / R_\star\) = radius ratio,</li>
                  <li>\(b\) = impact parameter (0 for a central transit),</li>
                  <li>\(i\) = orbital inclination (90° for edge-on).</li>
                </ul>
              </div>
              <p>
                The calculator uses this expression, with your chosen values of
                \(P\), \(a\), \(R_\star\), \(R_p\), and \(b\), to estimate the
                duration in hours and minutes. For very small arguments of the
                arcsine, the formula reduces to:
              </p>
              <div class="formula-box">
                <p>
                  \( T \approx \dfrac{P}{\pi} \dfrac{R_\star}{a} \sqrt{(1 + k)^2
                  - b^2} \)
                </p>
              </div>

              <h3>Geometric transit probability</h3>
              <p>
                Only a small fraction of planetary systems are aligned so that
                we see transits from Earth. For circular orbits, the probability
                that a randomly oriented system will transit is approximately:
              </p>
              <div class="formula-box">
                <p>\( P_\text{transit} \approx \dfrac{R_\star + R_p}{a} \)</p>
              </div>
              <p>
                The tool reports this probability as a percentage, assuming your
                chosen values of \(R_\star\), \(R_p\), and \(a\).
              </p>

              <h3>Light-curve model used</h3>
              <p>
                The plotted light curve is a simple &ldquo;box&rdquo; model:
              </p>
              <ul>
                <li>Out-of-transit flux is normalized to 1.0.</li>
                <li>
                  During transit, the flux is constant at \(1 - \text{depth}\).
                </li>
                <li>
                  Ingress and egress are not explicitly modeled; the edges are
                  sharp.
                </li>
              </ul>
              <p>
                This is sufficient to visualize how changing the planet radius
                or impact parameter affects the depth and duration. Professional
                analyses use more sophisticated models that include limb
                darkening and finite integration times.
              </p>

              <h3>Inverse mode: from depth to planet size</h3>
              <p>
                If you already have a measured transit depth (for example, from
                a light curve), you can use the inverse mode to estimate the
                planet radius:
              </p>
              <div class="formula-box">
                <p>\( R_p \approx R_\star \sqrt{\text{depth}} \)</p>
              </div>
              <p>The calculator:</p>
              <ul>
                <li>
                  Normalizes your depth (fraction, %, or ppm) to a fraction.
                </li>
                <li>Computes \(R_p\) in the same units as the star radius.</li>
                <li>
                  Converts the result into Jupiter and Earth radii for
                  intuition.
                </li>
              </ul>

              <h2>Typical transit depths for different planet types</h2>
              <p>
                To build intuition, here are order-of-magnitude transit depths
                for planets orbiting a Sun-like star:
              </p>
              <table class="min-w-full text-sm border border-gray-200 mb-4">
                <thead class="bg-gray-100">
                  <tr>
                    <th class="px-3 py-2 text-left border-b">Planet type</th>
                    <th class="px-3 py-2 text-left border-b">
                      Radius (approx.)
                    </th>
                    <th class="px-3 py-2 text-left border-b">
                      Depth (fraction)
                    </th>
                    <th class="px-3 py-2 text-left border-b">Depth (%)</th>
                    <th class="px-3 py-2 text-left border-b">Depth (ppm)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-b">
                    <td class="px-3 py-2">Hot Jupiter</td>
                    <td class="px-3 py-2">1 R♃ ≈ 0.1 R☉</td>
                    <td class="px-3 py-2">0.01</td>
                    <td class="px-3 py-2">1%</td>
                    <td class="px-3 py-2">10,000 ppm</td>
                  </tr>
                  <tr class="border-b">
                    <td class="px-3 py-2">Neptune-size</td>
                    <td class="px-3 py-2">0.35 R♃</td>
                    <td class="px-3 py-2">~0.0012</td>
                    <td class="px-3 py-2">0.12%</td>
                    <td class="px-3 py-2">1,200 ppm</td>
                  </tr>
                  <tr class="border-b">
                    <td class="px-3 py-2">Super-Earth</td>
                    <td class="px-3 py-2">2 R⊕</td>
                    <td class="px-3 py-2">~0.0003</td>
                    <td class="px-3 py-2">0.03%</td>
                    <td class="px-3 py-2">300 ppm</td>
                  </tr>
                  <tr>
                    <td class="px-3 py-2">Earth-size</td>
                    <td class="px-3 py-2">1 R⊕</td>
                    <td class="px-3 py-2">~0.000084</td>
                    <td class="px-3 py-2">0.0084%</td>
                    <td class="px-3 py-2">84 ppm</td>
                  </tr>
                </tbody>
              </table>

              <h2>FAQ</h2>

              <h3>What assumptions does this calculator make?</h3>
              <p>The model assumes:</p>
              <ul>
                <li>Circular orbits.</li>
                <li>Single planet, single star.</li>
                <li>No limb darkening (uniform stellar disk).</li>
                <li>Small planet compared to the star.</li>
                <li>
                  Impact parameter b is supplied directly and used in the
                  duration formula.
                </li>
              </ul>

              <h3>Can I use this for real data analysis?</h3>
              <p>
                It is best used for back-of-the-envelope estimates, classroom
                demonstrations, and planning. For precision modeling of real
                light curves, astronomers use specialized software (e.g.,
                <em>batman</em>, <em>PyTransit</em>) that includes limb
                darkening, eccentric orbits, finite integration time, and noise
                modeling.
              </p>

              <h3>How do period and semi-major axis relate?</h3>
              <p>
                For a planet of negligible mass orbiting a star of mass
                \(M_\star\), Kepler&rsquo;s third law gives:
              </p>
              <div class="formula-box">
                <p>\( P^2 = \dfrac{4\pi^2}{G M_\star} a^3 \)</p>
              </div>
              <p>
                In this calculator, period and semi-major axis are independent
                inputs so that you can experiment freely. For a self-consistent
                physical system, you would choose \(P\) and \(a\) that satisfy
                Kepler&rsquo;s law for the assumed stellar mass.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Star radius</li><li>Planet radius</li><li>Orbital period</li><li>Orbital distance (semi-major axis)</li><li>Impact parameter b (0 = central transit)</li><li>Orbital inclination i (deg)</li><li>Star radius</li><li>Measured transit depth</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Exoplanet, Transit, Star radius, Planet radius, Orbital period, Orbital distance (semi-major axis), Impact parameter b (0 = central transit), Orbital inclination i (deg).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Star radius</li><li>Planet radius</li><li>Orbital period</li><li>Orbital distance (semi-major axis)</li><li>Impact parameter b (0 = central transit)</li><li>Orbital inclination i (deg)</li><li>Star radius</li><li>Measured transit depth</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Science Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/solar-position"
                  class="text-blue-600 hover:underline"
                >
                  Solar Position Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/luminosity"
                  class="text-blue-600 hover:underline"
                >
                  Stellar Luminosity Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/satellite-orbit"
                  class="text-blue-600 hover:underline"
                >
                  Satellite Orbit Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hubble-s-law-calculator"
                  class="text-blue-600 hover:underline"
                >
                  Hubble&rsquo;s Law Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/redshift"
                  class="text-blue-600 hover:underline"
                >
                  Astronomical Redshift Calculator
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/planck-s-law-calculator"
                  class="text-blue-600 hover:underline"
                >
                  Blackbody Radiation (Planck&rsquo;s Law)
                </a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lorentz-factor"
                  class="text-blue-600 hover:underline"
                >
                  Special Relativity (Lorentz Factor)
                </a>
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Explore More Science Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/categories/science"
                  class="text-blue-600 hover:underline"
                  >Science Category Overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/physics"
                  class="text-blue-600 hover:underline"
                  >Physics Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/chemistry"
                  class="text-blue-600 hover:underline"
                  >Chemistry Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/life-and-earth-sciences"
                  class="text-blue-600 hover:underline"
                  >Life &amp; Earth Sciences</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/periodic-table"
                  class="text-blue-600 hover:underline"
                  >Element Information</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Physical constants and unit conversions
      const R_SUN = 6.957e8; // meters
      const R_JUP = 6.9911e7; // meters
      const R_EARTH = 6.371e6; // meters
      const AU = 1.495978707e11; // meters
      const DAY = 86400; // seconds

      function radiusToMeters(value, unit) {
        const v = Number(value);
        if (!isFinite(v) || v <= 0) return NaN;
        switch (unit) {
          case "rsun":
            return v * R_SUN;
          case "rjup":
            return v * R_JUP;
          case "rearth":
            return v * R_EARTH;
          default:
            return NaN;
        }
      }

      function semiMajorAxisToMeters(value, unit) {
        const v = Number(value);
        if (!isFinite(v) || v <= 0) return NaN;
        switch (unit) {
          case "au":
            return v * AU;
          case "rsun":
            return v * R_SUN;
          default:
            return NaN;
        }
      }

      function periodToSeconds(value, unit) {
        const v = Number(value);
        if (!isFinite(v) || v <= 0) return NaN;
        switch (unit) {
          case "days":
            return v * DAY;
          case "hours":
            return v * 3600;
          default:
            return NaN;
        }
      }

      function formatNumber(x, digits = 3) {
        if (!isFinite(x)) return "–";
        if (Math.abs(x) >= 1e4 || (Math.abs(x) > 0 && Math.abs(x) < 1e-3)) {
          return x.toExponential(digits);
        }
        return x.toFixed(digits);
      }

      // Tab switching
      const tabForward = document.getElementById("tab-forward");
      const tabInverse = document.getElementById("tab-inverse");
      const panelForward = document.getElementById("panel-forward");
      const panelInverse = document.getElementById("panel-inverse");

      tabForward.addEventListener("click", () => {
        tabForward.classList.add("border-blue-600", "text-blue-600");
        tabForward.classList.remove("border-transparent", "text-gray-500");
        tabInverse.classList.remove("border-blue-600", "text-blue-600");
        tabInverse.classList.add("border-transparent", "text-gray-500");
        panelForward.classList.remove("hidden");
        panelInverse.classList.add("hidden");
      });

      tabInverse.addEventListener("click", () => {
        tabInverse.classList.add("border-blue-600", "text-blue-600");
        tabInverse.classList.remove("border-transparent", "text-gray-500");
        tabForward.classList.remove("border-blue-600", "text-blue-600");
        tabForward.classList.add("border-transparent", "text-gray-500");
        panelInverse.classList.remove("hidden");
        panelForward.classList.add("hidden");
      });

      // Slider labels
      const impactSlider = document.getElementById("impactParameter");
      const impactValue = document.getElementById("impactParameterValue");
      impactSlider.addEventListener("input", () => {
        impactValue.textContent = Number(impactSlider.value).toFixed(2);
      });
      impactValue.textContent = Number(impactSlider.value).toFixed(2);

      const incSlider = document.getElementById("inclination");
      const incValue = document.getElementById("inclinationValue");
      incSlider.addEventListener("input", () => {
        incValue.textContent = Number(incSlider.value).toFixed(1) + "°";
      });
      incValue.textContent = Number(incSlider.value).toFixed(1) + "°";

      // Light curve drawing
      const canvas = document.getElementById("lightcurveCanvas");
      const ctx = canvas.getContext("2d");

      function resizeCanvas() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * window.devicePixelRatio;
        canvas.height = rect.height * window.devicePixelRatio;
        ctx.setTransform(
          window.devicePixelRatio,
          0,
          0,
          window.devicePixelRatio,
          0,
          0
        );
      }
      window.addEventListener("resize", () => {
        resizeCanvas();
        // Redraw with last known values if available
        drawLightcurve(lastDepthFraction, lastDurationPhase);
      });
      resizeCanvas();

      let lastDepthFraction = 0.01;
      let lastDurationPhase = 0.1;

      function drawLightcurve(depthFraction, durationPhase) {
        if (!isFinite(depthFraction) || depthFraction <= 0)
          depthFraction = 0.01;
        if (!isFinite(durationPhase) || durationPhase <= 0) durationPhase = 0.1;

        lastDepthFraction = depthFraction;
        lastDurationPhase = durationPhase;

        const w = canvas.width / window.devicePixelRatio;
        const h = canvas.height / window.devicePixelRatio;

        ctx.clearRect(0, 0, w, h);

        // Axes margins
        const marginLeft = 40;
        const marginRight = 10;
        const marginTop = 10;
        const marginBottom = 30;

        const plotW = w - marginLeft - marginRight;
        const plotH = h - marginTop - marginBottom;

        // Draw axes
        ctx.strokeStyle = "#9ca3af";
        ctx.lineWidth = 1;
        ctx.beginPath();
        // x-axis
        ctx.moveTo(marginLeft, marginTop + plotH);
        ctx.lineTo(marginLeft + plotW, marginTop + plotH);
        // y-axis
        ctx.moveTo(marginLeft, marginTop);
        ctx.lineTo(marginLeft, marginTop + plotH);
        ctx.stroke();

        // Labels
        ctx.fillStyle = "#4b5563";
        ctx.font = "12px Inter, system-ui, sans-serif";
        ctx.textAlign = "center";
        ctx.fillText("Orbital phase", marginLeft + plotW / 2, h - 8);
        ctx.save();
        ctx.translate(12, marginTop + plotH / 2);
        ctx.rotate(-Math.PI / 2);
        ctx.fillText("Relative flux", 0, 0);
        ctx.restore();

        // Tick marks on x (phase -0.5 to 0.5)
        ctx.textAlign = "center";
        ctx.textBaseline = "top";
        const xTicks = [-0.5, -0.25, 0, 0.25, 0.5];
        xTicks.forEach((t) => {
          const x = marginLeft + ((t + 0.5) / 1.0) * plotW;
          ctx.strokeStyle = "#e5e7eb";
          ctx.beginPath();
          ctx.moveTo(x, marginTop);
          ctx.lineTo(x, marginTop + plotH);
          ctx.stroke();
          ctx.fillStyle = "#6b7280";
          ctx.fillText(t.toFixed(2), x, marginTop + plotH + 4);
        });

        // y ticks (flux 1 and 1-depth)
        const fluxMin = 1 - depthFraction * 1.2;
        const fluxMax = 1 + depthFraction * 0.2;
        function fluxToY(f) {
          const t = (f - fluxMin) / (fluxMax - fluxMin);
          return marginTop + (1 - t) * plotH;
        }

        ctx.textAlign = "right";
        ctx.textBaseline = "middle";
        [1, 1 - depthFraction].forEach((f) => {
          const y = fluxToY(f);
          ctx.strokeStyle = "#e5e7eb";
          ctx.beginPath();
          ctx.moveTo(marginLeft, y);
          ctx.lineTo(marginLeft + plotW, y);
          ctx.stroke();
          ctx.fillStyle = "#6b7280";
          ctx.fillText(f.toFixed(4), marginLeft - 4, y);
        });

        // Transit model: box between -durationPhase/2 and +durationPhase/2
        const n = 400;
        ctx.beginPath();
        for (let i = 0; i < n; i++) {
          const phase = -0.5 + i / (n - 1);
          let flux = 1.0;
          if (Math.abs(phase) <= durationPhase / 2) {
            flux = 1 - depthFraction;
          }
          const x = marginLeft + ((phase + 0.5) / 1.0) * plotW;
          const y = fluxToY(flux);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.strokeStyle = "#2563eb";
        ctx.lineWidth = 2;
        ctx.stroke();
      }

      // Forward computation
      document
        .getElementById("computeForward")
        .addEventListener("click", () => {
          const Rs = radiusToMeters(
            document.getElementById("starRadius").value,
            document.getElementById("starRadiusUnit").value
          );
          const Rp = radiusToMeters(
            document.getElementById("planetRadius").value,
            document.getElementById("planetRadiusUnit").value
          );
          const P = periodToSeconds(
            document.getElementById("period").value,
            document.getElementById("periodUnit").value
          );
          const a = semiMajorAxisToMeters(
            document.getElementById("semiMajorAxis").value,
            document.getElementById("semiMajorAxisUnit").value
          );
          const b = Number(document.getElementById("impactParameter").value);
          const iDeg = Number(document.getElementById("inclination").value);
          const iRad = (iDeg * Math.PI) / 180;

          if (![Rs, Rp, P, a].every((v) => isFinite(v) && v > 0)) {
            alert(
              "Please enter positive numeric values for star radius, planet radius, period, and semi-major axis."
            );
            return;
          }

          const k = Rp / Rs;
          const depthFraction = k * k;
          const depthPercent = depthFraction * 100;
          const depthPpm = depthFraction * 1e6;

          // a/Rs
          const aOverRs = a / Rs;

          // Transit duration using standard approximation
          let arg =
            ((Rs / a) * Math.sqrt(Math.max(0, (1 + k) * (1 + k) - b * b))) /
            Math.max(Math.sin(iRad), 1e-6);
          arg = Math.min(Math.max(arg, -1), 1); // clamp for asin
          const T = (P / Math.PI) * Math.asin(arg); // seconds
          const T_hours = T / 3600;
          const T_minutes = T / 60;

          // Geometric transit probability
          const transitProb = ((Rs + Rp) / a) * 100;

          document.getElementById("depthPercent").textContent = formatNumber(
            depthPercent,
            3
          );
          document.getElementById("depthPpm").textContent = formatNumber(
            depthPpm,
            1
          );
          document.getElementById("durationHours").textContent = formatNumber(
            T_hours,
            3
          );
          document.getElementById("durationMinutes").textContent = formatNumber(
            T_minutes,
            1
          );
          document.getElementById("ratioRpRs").textContent = formatNumber(k, 4);
          document.getElementById("ratioARs").textContent = formatNumber(
            aOverRs,
            2
          );
          document.getElementById("transitProb").textContent = formatNumber(
            transitProb,
            2
          );

          // Duration in phase units: T / P
          const durationPhase = Math.min(0.9, Math.max(0.001, T / P));
          drawLightcurve(depthFraction, durationPhase);
        });

      // Initial light curve
      drawLightcurve(0.01, 0.1);

      // Inverse computation
      document
        .getElementById("computeInverse")
        .addEventListener("click", () => {
          const Rs = radiusToMeters(
            document.getElementById("invStarRadius").value,
            document.getElementById("invStarRadiusUnit").value
          );
          if (!isFinite(Rs) || Rs <= 0) {
            alert("Please enter a positive numeric star radius.");
            return;
          }

          let depthInput = Number(document.getElementById("invDepth").value);
          const depthUnit = document.getElementById("invDepthUnit").value;
          if (!isFinite(depthInput) || depthInput <= 0) {
            alert("Please enter a positive numeric transit depth.");
            return;
          }

          // Normalize depth to fraction
          let depthFraction;
          if (depthUnit === "fraction") {
            depthFraction = depthInput;
          } else if (depthUnit === "percent") {
            depthFraction = depthInput / 100;
          } else if (depthUnit === "ppm") {
            depthFraction = depthInput / 1e6;
          }

          if (!isFinite(depthFraction) || depthFraction <= 0) {
            alert("Transit depth must be positive.");
            return;
          }

          const k = Math.sqrt(depthFraction);
          const Rp = k * Rs; // meters

          const RpRjup = Rp / R_JUP;
          const RpRearth = Rp / R_EARTH;

          document.getElementById("invRpRjup").textContent = formatNumber(
            RpRjup,
            3
          );
          document.getElementById("invRpRearth").textContent = formatNumber(
            RpRearth,
            3
          );
          document.getElementById("invRatioRpRs").textContent = formatNumber(
            k,
            4
          );
          document.getElementById("invDepthFraction").textContent =
            formatNumber(depthFraction, 6);
          document.getElementById("invDepthPercent").textContent = formatNumber(
            depthFraction * 100,
            4
          );
          document.getElementById("invDepthPpmOut").textContent = formatNumber(
            depthFraction * 1e6,
            1
          );
        });

      // Mobile menu script (simple)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const isHidden = menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !isHidden);
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", isHidden ? "true" : "false");
        });

      // MathJax config
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
