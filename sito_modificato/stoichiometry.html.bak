<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/stoichiometry" />
    <title>Stoichiometry Calculator: Urgent [Urgent 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Stoichiometry Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Stoichiometry Calculator: Urgent [Urgent 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Stoichiometry Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/stoichiometry" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Stoichiometry Calculator: Urgent [Urgent 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Stoichiometry Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Stoichiometry Calculator – Moles, Mass, Limiting Reactant & Yield",
        "url": "https://calcdomain.com/stoichiometry",
        "description": "Free stoichiometry calculator: convert between mass, moles, and molecules, find the limiting reactant, and compute theoretical and percent yield from a balanced chemical equation.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Science",
              "item": "https://calcdomain.com/categories/science"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Science",
              "item": "https://calcdomain.com/science"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Stoichiometry Calculator",
              "item": "https://calcdomain.com/stoichiometry"
            }
          ]
        },
        "mainEntity": [
          {
            "@type": "HowTo",
            "name": "How to use the stoichiometry calculator",
            "step": [
              {
                "@type": "HowToStep",
                "name": "Enter a balanced equation",
                "text": "Type a balanced chemical equation in the Equation box, for example: 2 H2 + O2 -> 2 H2O. Coefficients are required for correct stoichiometry."
              },
              {
                "@type": "HowToStep",
                "name": "Specify known reactant amount",
                "text": "In the Reactants table, enter the mass or moles of at least one reactant. You can mix units; the calculator converts everything to moles."
              },
              {
                "@type": "HowToStep",
                "name": "Optionally enter product yield",
                "text": "In the Products table, enter the actual mass or moles obtained for one product if you want the percent yield."
              },
              {
                "@type": "HowToStep",
                "name": "Run the calculation",
                "text": "Click Calculate. The tool finds the limiting reactant, theoretical yields for all products, leftover excess reactants, and percent yield if applicable."
              }
            ]
          },
          {
            "@type": "FAQPage",
            "mainEntity": [
              {
                "@type": "Question",
                "name": "What is stoichiometry?",
                "acceptedAnswer": {
                  "@type": "Answets in a chemical reaction. It uses the balanced chemical equation to relate moles, mass, and sometimes volume of substances that react and form products."
                }
              },
              {
                "@type": "Question",
                "name": "How do I know which reactant is limiting?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "To find the limiting reactant, convert each reactant amount to moles, divide by its stoichiometric coefficient, and compare the results. The smallest value corresponds to the limiting reactant. The calculator automates this and reports the limiting and excess reactants."
                }
              },
              {
                "@type": "Question",
                "name": "Can this calculator handle unbalanced equations?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "No. Stoichiometric calculations require a balanced chemical equation. If your equation is not balanced, first use a chemical equation balancer, then paste the balanced equation into this stoichiometry calculator."
                }
              },
              {
                "@type": "Question",
                "name": "What units can I use in the stoichiometry calculator?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "You can enter amounts in moles, grams, kilograms, milligrams, or number of particles (molecules or atoms). The calculator converts everything to moles internally using the molar mass you provide for each species."
                }
              },
              {
                "@type": "Question",
                "name": "How is percent yield calculated?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Percent yield is calculated as actual yield divided by theoretical yield, multiplied by 100. Theoretical yield is the maximum amount of product predicted by stoichiometry from the limiting reactant. Actual yield is what you obtained in the lab."
                }
              }
            ]
          }
        ]
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Chemistry Calculators", "item": "https://calcdomain.com/subcategories/chemistry"}, {"@type": "ListItem", "position": 4, "name": "Stoichiometry Calculator", "item": "https://calcdomain.com/stoichiometry"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/chemistry" class="text-blue-600 hover:underline">Chemistry Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Stoichiometry Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Stoichiometry Calculator
              </h1>
              <p class="text-gray-600">
                Convert between mass, moles, and particles, find the limiting
                reactant, and compute theoretical and percent yield from any
                balanced chemical equation.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="stoich-calculator-heading" class="mb-8">
              <h2
                id="stoich-calculator-heading"
                class="text-xl font-semibold mb-3"
              >
                Interactive Stoichiometry Solver
              </h2>

              <!-- Equation input -->
              <div class="mb-4">
                <label
                  for="equation-input"
                  class="block text-sm font-medium text-gray-700 mb-1"
                >
                  Balanced chemical equation
                </label>
                <div class="flex flex-col md:flex-row gap-2">
                  <input
                    id="equation-input"
                    type="text"
                    placeholder="e.g. 2 H2 + O2 -> 2 H2O"
                    class="flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <button
                    id="parse-equation-btn"
                    type="button"
                    class="px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
                  >
                    Parse equation
                  </button>
                </div>
                <p class="mt-1 text-xs text-gray-500">
                  Use format: coefficients + formula, reactants and products
                  separated by <code>+</code>, arrow as <code>-&gt;</code> or
                  <code>=&gt;</code>. Equation must already be balanced.
                </p>
              </div>

              <!-- Parsed species preview -->
              <div
                id="species-summary"
                class="hidden mb-4 text-xs text-gray-700 bg-gray-50 border border-gray-200 rounded-md p-3"
              >
                <div class="flex flex-wrap gap-2 items-center">
                  <span class="badge bg-blue-100 text-blue-700"
                    >Reactants:</span
                  >
                  <span id="reactant-list" class="mr-4"></span>
                  <span class="badge bg-green-100 text-green-700"
                    >Products:</span
                  >
                  <span id="product-list"></span>
                </div>
              </div>

              <!-- Tabs: Reactants / Products / Settings -->
              <div class="mb-4 border-b border-gray-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                  <button
                    type="button"
                    data-tab="reactants"
                    class="stoich-tab border-b-2 border-blue-600 text-blue-600 py-2 px-3 text-sm font-medium"
                  >
                    Reactants
                  </button>
                  <button
                    type="button"
                    data-tab="products"
                    class="stoich-tab border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-3 text-sm font-medium"
                  >
                    Products
                  </button>
                  <button
                    type="button"
                    data-tab="settings"
                    class="stoich-tab border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-3 text-sm font-medium"
                  >
                    Settings
                  </button>
                </nav>
              </div>

              <!-- Reactants table -->
              <div id="tab-reactants" class="stoich-tab-panel">
                <p class="text-xs text-gray-500 mb-2">
                  Enter the amount of one or more reactants. You can mix units;
                  the calculator converts everything to moles.
                </p>
                <div
                  id="reactants-table-wrapper"
                  class="overflow-x-auto scrollbar-thin"
                >
                  <table
                    class="min-w-full text-xs border border-gray-200 rounded-md"
                  >
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Reactant
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Coeff.
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Molar mass (g/mol)
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Known amount
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Unit
                        </th>
                      </tr>
                    </thead>
                    <tbody id="reactants-tbody">
                      <!-- Filled dynamically -->
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Products table -->
              <div id="tab-products" class="stoich-tab-panel hidden">
                <p class="text-xs text-gray-500 mb-2">
                  Optionally enter the actual amount of a product to compute
                  percent yield.
                </p>
                <div
                  id="products-table-wrapper"
                  class="overflow-x-auto scrollbar-thin"
                >
                  <table
                    class="min-w-full text-xs border border-gray-200 rounded-md"
                  >
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Product
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Coeff.
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Molar mass (g/mol)
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Actual amount
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Unit
                        </th>
                      </tr>
                    </thead>
                    <tbody id="products-tbody">
                      <!-- Filled dynamically -->
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Settings -->
              <div id="tab-settings" class="stoich-tab-panel hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Avogadro's number</label
                    >
                    <input
                      id="avogadro-input"
                      type="number"
                      step="1e16"
                      value="6.02214076e23"
                      class="w-full border border-gray-300 rounded-md px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <p class="mt-1 text-xs text-gray-500">
                      Used when converting between moles and particles
                      (molecules, atoms).
                    </p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Significant figures</label
                    >
                    <input
                      id="sigfigs-input"
                      type="number"
                      min="2"
                      max="8"
                      value="4"
                      class="w-24 border border-gray-300 rounded-md px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <p class="mt-1 text-xs text-gray-500">
                      Controls rounding of results.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Action buttons -->
              <div class="mt-4 flex flex-wrap gap-2">
                <button
                  id="calculate-btn"
                  type="button"
                  class="px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  Calculate stoichiometry
                </button>
                <button
                  id="clear-btn"
                  type="button"
                  class="px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Clear all
                </button>
                <button
                  id="example-btn"
                  type="button"
                  class="px-3 py-2 bg-indigo-50 text-indigo-700 text-sm font-medium rounded-md hover:bg-indigo-100"
                >
                  Load example
                </button>
              </div>

              <!-- Error box -->
              <div
                id="error-box"
                class="hidden mt-3 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md px-3 py-2"
              ></div>
            </section>

            <!-- Results -->
            <section aria-labelledby="stoich-results-heading" class="mb-10">
              <h2
                id="stoich-results-heading"
                class="text-xl font-semibold mb-3"
              >
                Results
              </h2>
              <div id="results-container" class="space-y-4 text-sm">
                <p class="text-gray-500 text-sm">
                  Enter an equation and reactant amounts, then click
                  <span class="font-semibold">Calculate stoichiometry</span> to
                  see limiting reactant, theoretical yields, and percent yield.
                </p>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>What is stoichiometry?</h2>
              <p>
                Stoichiometry is the part of chemistry that tells you
                <strong>how much</strong> of each substance reacts or is
                produced in a chemical reaction. It uses the
                <strong>coefficients</strong> in a balanced chemical equation to
                relate moles, mass, and sometimes volume of reactants and
                products.
              </p>

              <div class="formula-box text-sm">
                For a general reaction:
                <div class="mt-1 mb-2 font-mono">
                  \( aA + bB \rightarrow cC + dD \)
                </div>
                the mole ratios are:
                <div class="font-mono">
                  \(\dfrac{n_A}{a} = \dfrac{n_B}{b} = \dfrac{n_C}{c} =
                  \dfrac{n_D}{d}\)
                </div>
              </div>

              <h2>Core stoichiometry formulas</h2>

              <h3>1. Mass ↔ moles</h3>
              <div class="formula-box text-sm">
                <div class="font-mono mb-1">n = \(\dfrac{m}{M}\)</div>
                where:
                <ul class="mb-0">
                  <li><strong>n</strong> = amount of substance (mol)</li>
                  <li><strong>m</strong> = mass (g)</li>
                  <li><strong>M</strong> = molar mass (g/mol)</li>
                </ul>
              </div>

              <h3>2. Moles ↔ particles (molecules, atoms)</h3>
              <div class="formula-box text-sm">
                <div class="font-mono mb-1">N = n &times; \(N_A\)</div>
                where:
                <ul class="mb-0">
                  <li><strong>N</strong> = number of particles</li>
                  <li><strong>n</strong> = moles</li>
                  <li>
                    <strong>\(N_A\)</strong> = Avogadro's number ≈ \(6.022
                    \times 10^{23}\) mol\(^{-1}\)
                  </li>
                </ul>
              </div>

              <h3>3. Limiting reactant test</h3>
              <p>
                For each reactant \(i\) with amount \(n_i\) and coefficient
                \(\nu_i\), compute:
              </p>
              <div class="formula-box text-sm">
                <div class="font-mono">\(\dfrac{n_i}{\nu_i}\)</div>
              </div>
              <p>
                The reactant with the <strong>smallest</strong> value of \(n_i /
                \nu_i\) is the <strong>limiting reactant</strong>.
              </p>

              <h3>4. Theoretical yield</h3>
              <p>
                Once you know the limiting reactant (L) and its moles \(n_L\),
                the theoretical moles of a product \(P\) with coefficient
                \(\nu_P\) are:
              </p>
              <div class="formula-box text-sm">
                <div class="font-mono">
                  \(n_P^{(theor)} = n_L \times \dfrac{\nu_P}{\nu_L}\)
                </div>
              </div>
              <p>
                Convert to mass with \(m_P^{(theor)} = n_P^{(theor)} \times
                M_P\).
              </p>

              <h3>5. Percent yield</h3>
              <div class="formula-box text-sm">
                <div class="font-mono">
                  \(\%\text{yield} = \dfrac{\text{actual
                  yield}}{\text{theoretical yield}} \times 100\%\)
                </div>
              </div>

              <h2>Worked example</h2>
              <p>Consider the combustion of hydrogen:</p>
              <div class="formula-box text-sm font-mono">
                2 H\(_2\) + O\(_2\) → 2 H\(_2\)O
              </div>
              <p>
                Suppose you have <strong>4.00 g H\(_2\)</strong> and
                <strong>32.0 g O\(_2\)</strong>. Which reactant is limiting and
                how much water is produced?
              </p>
              <ol>
                <li>
                  Convert to moles (molar masses: H\(_2\) ≈ 2.016 g/mol, O\(_2\)
                  ≈ 32.00 g/mol):
                  <ul>
                    <li>\(n_{H_2} = 4.00 / 2.016 ≈ 1.98\) mol</li>
                    <li>\(n_{O_2} = 32.0 / 32.00 = 1.00\) mol</li>
                  </ul>
                </li>
                <li>
                  Compute \(n / \nu\):
                  <ul>
                    <li>H\(_2\): \(1.98 / 2 ≈ 0.99\)</li>
                    <li>O\(_2\): \(1.00 / 1 = 1.00\)</li>
                  </ul>
                  So H\(_2\) is slightly limiting.
                </li>
                <li>
                  Theoretical moles of H\(_2\)O:
                  <div class="formula-box text-sm font-mono">
                    \(n_{H_2O}^{(theor)} = n_{H_2} \times \dfrac{2}{2} = 1.98\)
                    mol
                  </div>
                </li>
                <li>
                  Mass of H\(_2\)O (M ≈ 18.02 g/mol):
                  <div class="formula-box text-sm font-mono">
                    \(m_{H_2O}^{(theor)} = 1.98 \times 18.02 ≈ 35.7\) g
                  </div>
                </li>
              </ol>
              <p>
                If the actual water collected was 30.0 g, the percent yield
                would be:
              </p>
              <div class="formula-box text-sm font-mono">
                \(\%\text{yield} = \dfrac{30.0}{35.7} \times 100\% ≈ 84.0\%\)
              </div>

              <h2>Tips for using this stoichiometry calculator effectively</h2>
              <ul>
                <li>
                  Always <strong>balance the equation first</strong>. Use a
                  chemical equation balancer if needed.
                </li>
                <li>
                  Double-check <strong>molar masses</strong> from a periodic
                  table or reliable source.
                </li>
                <li>
                  Enter at least one reactant amount; more reactants give a more
                  realistic limiting-reactant analysis.
                </li>
                <li>
                  Use the <strong>percent yield</strong> feature to compare your
                  lab results with theory.
                </li>
              </ul>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Balanced chemical equation</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Stoichiometry, Balanced chemical equation.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Balanced chemical equation</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Science Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/chemical-equation-balancer"
                  class="text-blue-600 hover:underline"
                  >Chemical Equation Balancer</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molar-mass"
                  class="text-blue-600 hover:underline"
                  >Molar Mass Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percent-yield"
                  class="text-blue-600 hover:underline"
                  >Percent Yield (via Stoichiometry)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/empirical-formula"
                  class="text-blue-600 hover:underline"
                  >Empirical Formula Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molarity"
                  class="text-blue-600 hover:underline"
                  >Molarity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percent-composition"
                  class="text-blue-600 hover:underline"
                  >Percent Composition</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ideal-gas-law"
                  class="text-blue-600 hover:underline"
                  >Ideal Gas Law</a
                >
              </li>
            
              <li><a href="https://calcdomain.com/van-t-hoff-factor-calculator" class="text-blue-600 hover:underline">Van ’t Hoff Factor Calculator</a></li>

              <li><a href="https://calcdomain.com/electronegativity-difference" class="text-blue-600 hover:underline">Electronegativity Difference Calculator</a></li>

              <li><a href="https://calcdomain.com/born-haber-cycle" class="text-blue-600 hover:underline">Born-Haber Cycle Calculator (Crystal Lattice Energy)</a></li>
</ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Explore Science</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/chemistry"
                  class="text-blue-600 hover:underline"
                  >Chemistry Calculators</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/biology"
                  class="text-blue-600 hover:underline"
                  >Biology & Genetics</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/physics"
                  class="text-blue-600 hover:underline"
                  >Physics & Mechanics</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/life-and-earth-sciences"
                  class="text-blue-600 hover:underline"
                  >Life & Earth Sciences</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/categories/science"
                  class="text-blue-600 hover:underline"
                  >All Science Tools</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Utility functions ---
      function parseEquation(equation) {
        // Normalize arrow
        equation = equation.replace(/>/g, '->').replace(//g, '->');
        const parts = equation.split('->');
        if (parts.length !== 2) throw new Error('Equation must contain a single arrow (->).');
        const [left, right] = parts.map(p => p.trim());
        if (!left || !right) throw new Error('Both reactant and product sides must be non-empty.');

        function parseSide(side) {
          const species = [];
          const tokens = side.split('+');
          for (let token of tokens) {
            token = token.trim();
            if (!token) continue;
            const match = token.match(/^(\d*\.?\d+)?\s*([A-Za-z0-9()]+)$/);
            if (!match) throw new Error('Cannot parse term: "' + token + '". Use like "2 H2O" or "H2O".');
            const coeff = match[1] ? parseFloat(match[1]) : 1;
            const formula = match[2];
            species.push({ coeff, formula });
          }
          if (!species.length) throw new Error('Side "' + side + '" has no valid species.');
          return species;
        }

        const reactants = parseSide(left);
        const products = parseSide(right);
        return { reactants, products };
      }

      function createRow(species, type) {
        const tr = document.createElement('tr');
        tr.className = 'border-t border-gray-100';

        const nameTd = document.createElement('td');
        nameTd.className = 'px-2 py-1 whitespace-nowrap';
        nameTd.textContent = species.formula;
        tr.appendChild(nameTd);

        const coeffTd = document.createElement('td');
        coeffTd.className = 'px-2 py-1 text-center';
        coeffTd.textContent = species.coeff;
        tr.appendChild(coeffTd);

        const mmTd = document.createElement('td');
        mmTd.className = 'px-2 py-1';
        const mmInput = document.createElement('input');
        mmInput.type = 'number';
        mmInput.step = '0.001';
        mmInput.min = '0';
        mmInput.placeholder = 'e.g. 18.015';
        mmInput.className = 'w-28 border border-gray-300 rounded-md px-1 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500';
        mmInput.dataset.role = 'molar-mass';
        mmTd.appendChild(mmInput);
        tr.appendChild(mmTd);

        const amtTd = document.createElement('td');
        amtTd.className = 'px-2 py-1';
        const amtInput = document.createElement('input');
        amtInput.type = 'number';
        amtInput.step = 'any';
        amtInput.min = '0';
        amtInput.placeholder = type === 'reactant' ? 'known amount' : 'actual amount';
        amtInput.className = 'w-28 border border-gray-300 rounded-md px-1 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500';
        amtInput.dataset.role = type === 'reactant' ? 'known-amount' : 'actual-amount';
        amtTd.appendChild(amtInput);
        tr.appendChild(amtTd);

        const unitTd = document.createElement('td');
        unitTd.className = 'px-2 py-1';
        const select = document.createElement('select');
        select.className = 'border border-gray-300 rounded-md px-1 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500';
        select.dataset.role = 'unit';
        ['mol','g','kg','mg','particles'].forEach(u => {
          const opt = document.createElement('option');
          opt.value = u;
          opt.textContent = u;
          select.appendChild(opt);
        });
        unitTd.appendChild(select);
        tr.appendChild(unitTd);

        tr.dataset.formula = species.formula;
        tr.dataset.coeff = species.coeff;
        tr.dataset.type = type;
        return tr;
      }

      function showError(msg) {
        const box = document.getElementById('error-box');
        box.textContent = msg;
        box.classList.remove('hidden');
      }

      function clearError() {
        const box = document.getElementById('error-box');
        box.textContent = '';
        box.classList.add('hidden');
      }

      function formatNumber(value, sigfigs) {
        if (!isFinite(value)) return '—';
        if (value === 0) return '0';
        const abs = Math.abs(value);
        if (abs >= 1e4 || abs < 1e-3) {
          return value.toExponential(sigfigs - 1);
        }
        return parseFloat(value.toPrecision(sigfigs)).toString();
      }

      // --- Tab handling ---
      document.querySelectorAll('.stoich-tab').forEach(btn => {
        btn.addEventListener('click', () => {
          const tab = btn.dataset.tab;
          document.querySelectorAll('.stoich-tab').forEach(b => {
            b.classList.remove('border-blue-600','text-blue-600');
            b.classList.add('border-transparent','text-gray-500');
          });
          btn.classList.add('border-blue-600','text-blue-600');
          btn.classList.remove('border-transparent','text-gray-500');

          document.querySelectorAll('.stoich-tab-panel').forEach(panel => {
            panel.classList.add('hidden');
          });
          document.getElementById('tab-' + tab).classList.remove('hidden');
        });
      });

      // --- Equation parsing and table population ---
      document.getElementById('parse-equation-btn').addEventListener('click', () => {
        clearError();
        const eq = document.getElementById('equation-input').value.trim();
        if (!eq) {
          showError('Please enter a balanced chemical equation first.');
          return;
        }
        let parsed;
        try {
          parsed = parseEquation(eq);
        } catch (e) {
          showError(e.message);
          return;
        }

        const reactantsTbody = document.getElementById('reactants-tbody');
        const productsTbody = document.getElementById('products-tbody');
        reactantsTbody.innerHTML = '';
        productsTbody.innerHTML = '';

        parsed.reactants.forEach(sp => {
          reactantsTbody.appendChild(createRow(sp, 'reactant'));
        });
        parsed.products.forEach(sp => {
          productsTbody.appendChild(createRow(sp, 'product'));
        });

        // Update summary
        document.getElementById('reactant-list').textContent = parsed.reactants.map(s => s.coeff + ' ' + s.formula).join(', ');
        document.getElementById('product-list').textContent = parsed.products.map(s => s.coeff + ' ' + s.formula).join(', ');
        document.getElementById('species-summary').classList.remove('hidden');

        // Clear previous results
        document.getElementById('results-container').innerHTML =
          '<p class="text-gray-500 text-sm">Equation parsed. Enter reactant amounts and click <span class="font-semibold">Calculate stoichiometry</span>.</p>';
      });

      // --- Example loader ---
      document.getElementById('example-btn').addEventListener('click', () => {
        clearError();
        const eqInput = document.getElementById('equation-input');
        eqInput.value = '2 H2 + O2 -> 2 H2O';
        document.getElementById('parse-equation-btn').click();

        // Pre-fill example data
        const reactantsTbody = document.getElementById('reactants-tbody').children;
        for (const row of reactantsTbody) {
          const formula = row.dataset.formula;
          const mmInput = row.querySelector('input[data-role="molar-mass"]');
          const amtInput = row.querySelector('input[data-role="known-amount"]');
          const unitSelect = row.querySelector('select[data-role="unit"]');
          if (formula === 'H2') {
            mmInput.value = 2.016;
            amtInput.value = 4.00;
            unitSelect.value = 'g';
          } else if (formula === 'O2') {
            mmInput.value = 32.00;
            amtInput.value = 32.0;
            unitSelect.value = 'g';
          }
        }
        const productsTbody = document.getElementById('products-tbody').children;
        for (const row of productsTbody) {
          if (row.dataset.formula === 'H2O') {
            const mmInput = row.querySelector('input[data-role="molar-mass"]');
            mmInput.value = 18.02;
          }
        }
      });

      // --- Clear button ---
      document.getElementById('clear-btn').addEventListener('click', () => {
        clearError();
        document.getElementById('equation-input').value = '';
        document.getElementById('reactants-tbody').innerHTML = '';
        document.getElementById('products-tbody').innerHTML = '';
        document.getElementById('species-summary').classList.add('hidden');
        document.getElementById('results-container').innerHTML =
          '<p class="text-gray-500 text-sm">Enter an equation and reactant amounts, then click <span class="font-semibold">Calculate stoichiometry</span> to see limiting reactant, theoretical yields, and percent yield.</p>';
      });

      // --- Main calculation ---
      document.getElementById('calculate-btn').addEventListener('click', () => {
        clearError();
        const sigfigs = parseInt(document.getElementById('sigfigs-input').value, 10) || 4;
        const avogadro = parseFloat(document.getElementById('avogadro-input').value) || 6.02214076e23;

        const reactantRows = Array.from(document.querySelectorAll('#reactants-tbody tr'));
        const productRows = Array.from(document.querySelectorAll('#products-tbody tr'));

        if (!reactantRows.length || !productRows.length) {
          showError('Please parse a balanced equation first.');
          return;
        }

        // Collect reactant data
        const reactants = [];
        for (const row of reactantRows) {
          const formula = row.dataset.formula;
          const coeff = parseFloat(row.dataset.coeff);
          const mm = parseFloat(row.querySelector('input[data-role="molar-mass"]').value);
          const amtInput = row.querySelector('input[data-role="known-amount"]');
          const amtVal = amtInput.value.trim();
          const unit = row.querySelector('select[data-role="unit"]').value;

          if (!isFinite(mm) || mm <= 0) {
            showError('Please enter a positive molar mass for reactant ' + formula + '.');
            return;
          }

          let n = null;
          if (amtVal !== '') {
            const amt = parseFloat(amtVal);
            if (!isFinite(amt) || amt < 0) {
              showError('Invalid amount for reactant ' + formula + '.');
              return;
            }
            if (unit === 'mol') {
              n = amt;
            } else if (unit === 'g') {
              n = amt / mm;
            } else if (unit === 'kg') {
              n = (amt * 1000) / mm;
            } else if (unit === 'mg') {
              n = (amt / 1000) / mm;
            } else if (unit === 'particles') {
              n = amt / avogadro;
            }
          }

          reactants.push({ formula, coeff, mm, nInput: n });
        }

        if (!reactants.some(r => r.nInput !== null)) {
          showError('Enter the amount of at least one reactant.');
          return;
        }

        // Determine limiting reactant
        const ratios = [];
        for (const r of reactants) {
          if (r.nInput !== null) {
            ratios.push({ formula: r.formula, value: r.nInput / r.coeff, reactant: r });
          }
        }
        if (!ratios.length) {
          showError('Could not compute limiting reactant. Check reactant inputs.');
          return;
        }
        ratios.sort((a, b) => a.value - b.value);
        const limiting = ratios[0].reactant;
        const nLimiting = limiting.nInput;
        const baseRatio = nLimiting / limiting.coeff;

        // Compute theoretical moles for all species
        const reactantResults = reactants.map(r => {
          const nTheo = baseRatio * r.coeff;
          const nConsumed = Math.min(r.nInput ?? nTheo, nTheo);
          const nLeft = (r.nInput ?? nTheo) - nConsumed;
          return { ...r, nTheo, nConsumed, nLeft };
        });

        const products = [];
        for (const row of productRows) {
          const formula = row.dataset.formula;
          const coeff = parseFloat(row.dataset.coeff);
          const mm = parseFloat(row.querySelector('input[data-role="molar-mass"]').value);
          const amtInput = row.querySelector('input[data-role="actual-amount"]');
          const amtVal = amtInput.value.trim();
          const unit = row.querySelector('select[data-role="unit"]').value;

          if (!isFinite(mm) || mm <= 0) {
            showError('Please enter a positive molar mass for product ' + formula + '.');
            return;
          }

          const nTheo = baseRatio * coeff;

          let nActual = null;
          if (amtVal !== '') {
            const amt = parseFloat(amtVal);
            if (!isFinite(amt) || amt < 0) {
              showError('Invalid actual amount for product ' + formula + '.');
              return;
            }
            if (unit === 'mol') {
              nActual = amt;
            } else if (unit === 'g') {
              nActual = amt / mm;
            } else if (unit === 'kg') {
              nActual = (amt * 1000) / mm;
            } else if (unit === 'mg') {
              nActual = (amt / 1000) / mm;
            } else if (unit === 'particles') {
              nActual = amt / avogadro;
            }
          }

          products.push({ formula, coeff, mm, nTheo, nActual });
        }

        // Build results HTML
        const results = [];

        // Summary
        results.push(`
          <div class="bg-blue-50 border border-blue-100 rounded-md p-3 text-sm">
            <p class="mb-1"><span class="font-semibold">Limiting reactant:</span> <span class="text-blue-800">${limiting.formula}</span></p>
            <p class="mb-0 text-xs text-blue-900">Based on the smallest value of n/coeff among reactants with known amounts.</p>
          </div>
        `);

        // Reactant table
        let reactantTable = `
          <div>
            <h3 class="font-semibold mt-3 mb-1">Reactants</h3>
            <div class="overflow-x-auto scrollbar-thin">
              <table class="min-w-full text-xs border border-gray-200 rounded-md">
                <thead class="bg-gray-50">
                  <tr>
                    <th class="px-2 py-1 text-left">Reactant</th>
                    <th class="px-2 py-1 text-right">Input (mol)</th>
                    <th class="px-2 py-1 text-right">Consumed (mol)</th>
                    <th class="px-2 py-1 text-right">Leftover (mol)</th>
                    <th class="px-2 py-1 text-right">Leftover (g)</th>
                  </tr>
                </thead>
                <tbody>
        `;
        reactantResults.forEach(r => {
          const leftoverMass = r.nLeft * r.mm;
          reactantTable += `
            <tr class="border-t border-gray-100">
              <td class="px-2 py-1">${r.formula}${r.formula === limiting.formula ? ' <span class="badge bg-blue-100 text-blue-700 ml-1">limiting</span>' : ''}</td>
              <td class="px-2 py-1 text-right">${r.nInput !== null ? formatNumber(r.nInput, sigfigs) : '—'}</td>
              <td class="px-2 py-1 text-right">${formatNumber(r.nConsumed, sigfigs)}</td>
              <td class="px-2 py-1 text-right">${formatNumber(r.nLeft, sigfigs)}</td>
              <td class="px-2 py-1 text-right">${formatNumber(leftoverMass, sigfigs)}</td>
            </tr>
          `;
        });
        reactantTable += `
                </tbody>
              </table>
            </div>
          </div>
        `;
        results.push(reactantTable);

        // Product table
        let productTable = `
          <div>
            <h3 class="font-semibold mt-3 mb-1">Products</h3>
            <div class="overflow-x-auto scrollbar-thin">
              <table class="min-w-full text-xs border border-gray-200 rounded-md">
                <thead class="bg-gray-50">
                  <tr>
                    <th class="px-2 py-1 text-left">Product</th>
                    <th class="px-2 py-1 text-right">Theoretical (mol)</th>
                    <th class="px-2 py-1 text-right">Theoretical (g)</th>
                    <th class="px-2 py-1 text-right">Actual (mol)</th>
                    <th class="px-2 py-1 text-right">Percent yield (%)</th>
                  </tr>
                </thead>
                <tbody>
        `;
        products.forEach(p => {
          const mTheo = p.nTheo * p.mm;
          let pct = null;
          if (p.nActual !== null && p.nTheo > 0) {
            pct = (p.nActual / p.nTheo) * 100;
          }
          productTable += `
            <tr class="border-t border-gray-100">
              <td class="px-2 py-1">${p.formula}</td>
              <td class="px-2 py-1 text-right">${formatNumber(p.nTheo, sigfigs)}</td>
              <td class="px-2 py-1 text-right">${formatNumber(mTheo, sigfigs)}</td>
              <td class="px-2 py-1 text-right">${p.nActual !== null ? formatNumber(p.nActual, sigfigs) : '—'}</td>
              <td class="px-2 py-1 text-right">${pct !== null ? formatNumber(pct, sigfigs) : '—'}</td>
            </tr>
          `;
        });
        productTable += `
                </tbody>
              </table>
            </div>
          </div>
        `;
        results.push(productTable);

        document.getElementById('results-container').innerHTML = results.join('\n');
      });

      // Mobile menu script (simple toggle)
      document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
        const menu = document.getElementById('mobile-menu');
        const expanded = menu.classList.contains('hidden') ? 'true' : 'false';
        menu.classList.toggle('hidden');
        document.getElementById('mobile-menu-toggle').setAttribute('aria-expanded', expanded);
      });

      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
