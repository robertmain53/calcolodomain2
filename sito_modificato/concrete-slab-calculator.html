<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/concrete-slab-calculator">





  <!-- Meta & Icons -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project Layout &amp; Design — Concrete Slab Calculator</title>
  <meta name="description" content="Calculate concrete volume, bag counts, weight, rebar/mesh, and cost for slab-on-ground projects. Mobile-first, WCAG-compliant calculator for contractors and homeowners.">
  
  <meta name="author" content="Ugo Candido">
  <link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg">
  <link rel="shortcut icon" href="https://calcdomain.com/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png">
  <link rel="manifest" href="https://calcdomain.com/site.webmanifest">

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- MathJax for LaTeX -->
  <script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <!-- Chart.js (for a small results breakdown) -->
  <script defer="" src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Critical styles -->
  <style>
    :root { --brand:#1d4ed8; --ink:#111827; --muted:#6b7280; --surface:#ffffff; --bg:#f9fafb; }
    html {scroll-behavior: smooth;}
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--ink); }
    .prose { max-width: 70ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 0.75rem; }
    .prose h3 { font-size: 1.125rem; font-weight: 700; margin-top: 1.25rem; margin-bottom: 0.5rem; }
    .prose p, .prose li { line-height: 1.7; }
    .formula-box { background:#f3f4f6;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;overflow:auto }
    /* Focus styles (WCAG) */
    :focus-visible { outline: 3px solid #2563eb; outline-offset: 2px; border-radius: 6px; }
    /* Touch target min size */
    .tap { min-height: 48px; min-width: 48px; }
    /* Prevent CLS in results */
    #results { min-height: 340px; }
    /* Table */
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 0.65rem; }
    thead th { background:#f3f4f6; color:#374151; text-align:left; font-size: 0.875rem; }
    tbody td { border-top: 1px solid #e5e7eb; font-size: 0.95rem; }
    /* Print */
    @media print {
      header, footer, .no-print { display: none !important; }
      #print-section { display:block; }
    }
  </style>

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Concrete Slab Calculator",
  "url": "https://calcdomain.com/concrete-slab-calculator",
  "inLanguage": "en",
  "description": "Compute concrete volume, bag counts, weight, reinforcement, and cost for slab-on-ground projects.",
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Construction & DIY",
      "item": "https://calcdomain.com/categories/construction-diy"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Construction Diy Materials Estimation",
      "item": "https://calcdomain.com/subcategories/construction-diy-materials-estimation"
    }
  ]
}
</script>

  <!-- JSON-LD: HowTo -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to calculate concrete for a slab",
  "description": "Step-by-step guide to calculate volume, weight, bags, and cost.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Enter slab dimensions",
      "text": "Provide length, width, and thickness."
    },
    {
      "@type": "HowToStep",
      "name": "Choose units and waste",
      "text": "Select imperial or metric and add a waste allowance."
    },
    {
      "@type": "HowToStep",
      "name": "Add cost & reinforcement",
      "text": "Optionally set concrete cost and reinforcement grid to estimate bars/mesh."
    },
    {
      "@type": "HowToStep",
      "name": "Review results",
      "text": "See volume, weight, bag counts, ready-mix yards/m³, and cost."
    }
  ]
}
</script>

  <!-- JSON-LD: FAQ -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How much concrete do I need for a slab?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Multiply length × width × thickness (convert thickness to feet or meters). Add 5–10% waste."
      }
    },
    {
      "@type": "Question",
      "name": "What waste factor should I use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Common practice is 5–10% for small pads and 3–5% for larger, simpler pours."
      }
    },
    {
      "@type": "Question",
      "name": "How many 80-lb bags make 1 cubic yard?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "About 45 bags of 80 lb mix per cubic yard (based on typical yield)."
      }
    },
    {
      "@type": "Question",
      "name": "Do I need rebar or wire mesh?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "For slab-on-ground, welded wire reinforcement or deformed bars at regular spacing help control cracking. Follow local codes and a licensed engineer."
      }
    },
    {
      "@type": "Question",
      "name": "What concrete strength should I use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Most residential slabs use 3000–4000 psi (20–28 MPa), but climate, exposure, and loads may require different specs per ACI and local code."
      }
    },
    {
      "@type": "Question",
      "name": "How much does ready-mix cost?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Varies by region and mix; enter your local cost per cubic yard or per cubic meter to estimate."
      }
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body class="text-gray-900">
  <!-- Header (non-sticky by requirement) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a class="text-2xl font-bold text-blue-700" href="https://calcdomain.com">CalcDomain</a>
      
      </section>
    </div>
  
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[V = L \times W \times T\]</div>
  <pre class="auditspine-mono">V = L \times W \times T</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[T_\text{ft} = \begin{cases} \frac{T_\text{in}}{12} &amp; \text{(imperial)}\\[4pt] \frac{T_\text{cm}}{100} &amp; \text{(metric)} \end{cases} \quad V_\text{yd}^3 = \frac{V_\text{ft}^3}{27} \quad V_{\text{m}^3} = V_\text{m}^3\]</div>
  <pre class="auditspine-mono">T_\text{ft} = \begin{cases} \frac{T_\text{in}}{12} &amp; \text{(imperial)}\\[4pt] \frac{T_\text{cm}}{100} &amp; \text{(metric)} \end{cases} \quad V_\text{yd}^3 = \frac{V_\text{ft}^3}{27} \quad V_{\text{m}^3} = V_\text{m}^3</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[V_\text{net} = V \times \left(1 + \frac{w}{100}\right)\]</div>
  <pre class="auditspine-mono">V_\text{net} = V \times \left(1 + \frac{w}{100}\right)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Bags}_{80} \approx 45 \times V_\text{yd}^3 \quad \text{Bags}_{60} \approx 60 \times V_\text{yd}^3 \quad \text{Bags}_{40} \approx 90 \times V_\text{yd}^3\]</div>
  <pre class="auditspine-mono">\text{Bags}_{80} \approx 45 \times V_\text{yd}^3 \quad \text{Bags}_{60} \approx 60 \times V_\text{yd}^3 \quad \text{Bags}_{40} \approx 90 \times V_\text{yd}^3</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Weight} \approx \rho \times V_\text{net} \quad \text{with } \rho \approx \begin{cases} 150\ \text{lb/ft}^3 &amp; \text{(2400 kg/m}^3) \end{cases}\]</div>
  <pre class="auditspine-mono">\text{Weight} \approx \rho \times V_\text{net} \quad \text{with } \rho \approx \begin{cases} 150\ \text{lb/ft}^3 &amp; \text{(2400 kg/m}^3) \end{cases}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ V = L \times W \times T \] \[ T_\text{ft} = \begin{cases} \frac{T_\text{in}}{12} &amp; \text{(imperial)}\\[4pt] \frac{T_\text{cm}}{100} &amp; \text{(metric)} \end{cases} \quad V_\text{yd}^3 = \frac{V_\text{ft}^3}{27} \quad V_{\text{m}^3} = V_\text{m}^3 \] \[ V_\text{net} = V \times \left(1 + \frac{w}{100}\right) \] \[ \text{Bags}_{80} \approx 45 \times V_\text{yd}^3 \quad \text{Bags}_{60} \approx 60 \times V_\text{yd}^3 \quad \text{Bags}_{40} \approx 90 \times V_\text{yd}^3 \] \[ \text{Weight} \approx \rho \times V_\text{net} \quad \text{with } \rho \approx \begin{cases} 150\ \text{lb/ft}^3 &amp; \text{(2400 kg/m}^3) \end{cases} \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NRMCA — National Ready Mixed Concrete Association</strong> — nrmca.org · Accessed 2026-01-19<br><a href="https://www.nrmca.org/" target="_blank" rel="nofollow noopener">https://www.nrmca.org/</a></li>
<li><strong>ACI — American Concrete Institute</strong> — concrete.org · Accessed 2026-01-19<br><a href="https://www.concrete.org/" target="_blank" rel="nofollow noopener">https://www.concrete.org/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>

  <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>



























  <!-- Defer all logic -->
  <script defer="">
  (function(){
    const $ = (id) => document.getElementById(id);
    const els = {
      units: $('units'), length: $('length'), width: $('width'),
      thickness: $('thickness'), thUnit: $('thUnit'), waste: $('waste'),
      cost: $('cost'), reinforcement: $('reinforcement'),
      outVolume: $('outVolume'), outVolumeAlt: $('outVolumeAlt'),
      outCost: $('outCost'), outBags: $('outBags'), outWeight: $('outWeight'),
      outReinf: $('outReinf'), outOrder: $('outOrder'), log: $('log'),
      costUnitLabel: $('costUnitLabel')
    };

    // Tooltip toggles (accessible)
    document.querySelectorAll('button[data-tooltip]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.classList.toggle('hidden', expanded);
      });
      btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); btn.click(); } });
    });

    // Validation (on blur)
    const validators = {
      length: v => v>0 || 'Enter a positive length.',
      width: v => v>0 || 'Enter a positive width.',
      thickness: v => v>0 || 'Enter a positive thickness.'
    };
    ['length','width','thickness'].forEach(id=>{
      const input = els[id];
      const err = document.getElementById('err-'+(id==='thickness'?'th':'length'===id?'length':'width'));
      input.addEventListener('blur', ()=>{
        const v = parseFloat(input.value);
        const res = validators[id](v);
        if(res !== true){
          err.textContent = res;
          err.classList.remove('hidden');
          input.setAttribute('aria-invalid','true');
        }else{
          err.textContent = '';
          err.classList.add('hidden');
          input.removeAttribute('aria-invalid');
        }
        compute();
      });
      input.addEventListener('input', compute);
    });

    // Defaults for demo
    els.units.value = 'imperial';
    els.length.value = 20;
    els.width.value = 12;
    els.thickness.value = 4;
    els.thUnit.value = 'in';
    els.waste.value = 7;
    els.cost.value = 140;

    let chart = null;

    function toNumber(v){ const n = parseFloat(v); return isFinite(n) ? n : 0; }
    function round(n, d=2){ const p = Math.pow(10,d); return Math.round(n*p)/p; }

    function compute(){
      // Inputs
      const units = els.units.value; // imperial|metric
      const L = toNumber(els.length.value);
      const W = toNumber(els.width.value);
      const wastePct = Math.max(0, toNumber(els.waste.value));
      const cost = Math.max(0, toNumber(els.cost.value));
      const reinf = els.reinforcement.value;

      // Thickness normalization
      let T_m, T_ft;
      if(units==='imperial'){
        // Inputs for L/W assumed in ft; T in in/cm per selector
        if(els.thUnit.value==='in'){ T_ft = toNumber(els.thickness.value)/12; }
        else { T_ft = toNumber(els.thickness.value)/30.48; } // cm -> ft
        T_m = T_ft * 0.3048;
      }else{
        // metric: L/W in m; T in in/cm per selector
        if(els.thUnit.value==='cm'){ T_m = toNumber(els.thickness.value)/100; }
        else { T_m = toNumber(els.thickness.value)*0.0254; } // in -> m
        T_ft = T_m / 0.3048;
      }

      // Volumes (gross)
      const V_ft3 = L>0 && W>0 && T_ft>0 ? (units==='imperial' ? L*W*T_ft : (L/0.3048)*(W/0.3048)*T_ft) : 0;
      const V_yd3 = V_ft3/27;
      const V_m3  = V_ft3*0.0283168466;

      // Waste applied
      const factor = 1 + (wastePct/100);
      const V_yd3_net = V_yd3 * factor;
      const V_m3_net  = V_m3  * factor;

      // Cost label & estimate (user can leave blank)
      els.costUnitLabel.textContent = units==='imperial' ? '(per yd³)' : '(per m³)';
      const estCost = cost>0 ? (units==='imperial' ? V_yd3_net*cost : V_m3_net*cost) : 0;

      // Weight (fresh density ~150 lb/ft³ = 2400 kg/m³)
      const weight_lb = V_ft3 * 150 * factor;
      const weight_kg = V_m3  * 2400 * factor;

      // Bag approximations (yard-basis industry rules of thumb)
      // 80 lb ~ 0.022 yd³; 60 lb ~ 0.017 yd³; 40 lb ~ 0.011 yd³ (approx)
      const bags80 = Math.ceil((V_yd3) / 0.022);
      const bags60 = Math.ceil((V_yd3) / 0.017);
      const bags40 = Math.ceil((V_yd3) / 0.011);

      // Ready-mix order suggestion (round up to 0.25 yd³ or 0.1 m³)
      const order_yd3 = Math.ceil(V_yd3_net*4)/4;
      const order_m3  = Math.ceil(V_m3_net*10)/10;

      // Reinforcement rough estimate (coverage)
      // Mesh 6x6 sheet ~ 5x10 ft nominal coverage (50 ft²) before overlaps.
      // #4 @ 18 in EW: ~0.67 bars/ft each way. Lengths ~ spacing grid count × span.
      let reinfText = '—';
      const area_ft2 = V_ft3>0 ? (units==='imperial' ? L*W : (L/0.3048)*(W/0.3048)) : 0;
      if(area_ft2>0){
        if(reinf==='mesh6x6w2.9'){
          const sheets = Math.ceil(area_ft2 / 45); // assume ~10% overlap -> 45 ft² effective
          reinfText = `${sheets} welded-wire sheets (approx.)`;
        } else if(reinf==='rebar4_18in' || reinf==='rebar4_12in') {
          const spacing_in = reinf==='rebar4_18in' ? 18 : 12;
          const L_ft = (units==='imperial' ? L : L/0.3048);
          const W_ft = (units==='imperial' ? W : W/0.3048);
          const nX = Math.ceil((W_ft*12)/spacing_in)+1;
          const nY = Math.ceil((L_ft*12)/spacing_in)+1;
          const totalLen_ft = nX*L_ft + nY*W_ft;
          const totalLen_m = totalLen_ft*0.3048;
          reinfText = `${Math.ceil(totalLen_ft/20)} pcs #4 (20-ft) ≈ ${Math.ceil(totalLen_m/6)} pcs (6-m)`;
        }
      }

      // Outputs
      els.outVolume.textContent = units==='imperial'
        ? `${round(V_yd3_net,2)} yd³`
        : `${round(V_m3_net,2)} m³`;
      els.outVolumeAlt.textContent = units==='imperial'
        ? `${round(V_m3_net,2)} m³`
        : `${round(V_yd3_net,2)} yd³`;

      els.outCost.textContent = estCost>0
        ? (new Intl.NumberFormat(undefined,{style:'currency',currency:'USD'}).format(estCost))
        : '—';

      els.outBags.textContent = `${bags40} / ${bags60} / ${bags80} bags`;
      els.outWeight.textContent = units==='imperial'
        ? `${round(weight_lb/2000,2)} tons (${round(weight_lb,0)} lb)`
        : `${round(weight_kg/1000,2)} t (${round(weight_kg,0)} kg)`;
      els.outReinf.textContent = reinfText;
      els.outOrder.textContent = units==='imperial'
        ? `${round(order_yd3,2)} yd³ (order)`
        : `${round(order_m3,2)} m³ (order)`;

      // Log
      const lines = [];
      lines.push(`Gross volume: ${round(V_ft3,2)} ft³ (${round(V_yd3,2)} yd³ / ${round(V_m3,2)} m³)`);
      lines.push(`Waste factor: +${wastePct}% -> Net volume used in outputs`);
      if(estCost>0){ lines.push(`Cost basis: ${units==='imperial' ? '$/yd³' : '$/m³'} = ${cost}`); }
      lines.push(`Bag factors (approx.): 40 lb=~0.011 yd³, 60 lb=~0.017 yd³, 80 lb=~0.022 yd³`);
      lines.push(`Density used: 150 lb/ft³ (≈2400 kg/m³)`);
      els.log.innerHTML = lines.map(s=>`<div>• ${s}</div>`).join('');

      // Chart
      const ctx = document.getElementById('resultsChart');
      const costConcrete = Math.max(estCost, 0);
      // Simple visualization: concrete vs waste fraction value (not price separated)
      const wasteValue = (units==='imperial' ? V_yd3* (wastePct/100) : V_m3*(wastePct/100)) * (cost>0 ? cost : 1);
      const data = {
        labels: ['Concrete', 'Waste allowance'],
        datasets: [{ data: [costConcrete || 1, wasteValue || 1] }]
      };
      if(!chart){
        chart = new Chart(ctx, { type:'doughnut', data, options:{ plugins:{ legend:{ position:'bottom' } }, responsive:true, maintainAspectRatio:false } });
      } else {
        chart.data = data; chart.update();
      }
    }

    // Recompute on inputs
    ['units','length','width','thickness','thUnit','waste','cost','reinforcement'].forEach(id=>{
      const el = els[id];
      el.addEventListener('input', compute);
      el.addEventListener('change', compute);
    });

    // Unit switching UX (swap defaults for thickness unit label)
    els.units.addEventListener('change', ()=>{
      if(els.units.value==='metric'){
        // If thickness was in inches, convert its numeric value to cm for continuity
        if(els.thUnit.value==='in'){
          const vIn = toNumber(els.thickness.value);
          els.thickness.value = vIn>0 ? round(vIn*2.54,2) : els.thickness.value;
          els.thUnit.value = 'cm';
        }
      } else {
        if(els.thUnit.value==='cm'){
          const vCm = toNumber(els.thickness.value);
          els.thickness.value = vCm>0 ? round(vCm/2.54,2) : els.thickness.value;
          els.thUnit.value = 'in';
        }
      }
      compute();
    });

    // Initial compute
    window.addEventListener('DOMContentLoaded', compute);
  })();
  </script>


</body></html>