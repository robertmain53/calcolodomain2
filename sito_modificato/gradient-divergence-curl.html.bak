<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/gradient-divergence-curl" />
    <title>Gradient Divergence Curl (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Gradient Divergence Curl Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Gradient Divergence Curl (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Gradient Divergence Curl Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/gradient-divergence-curl" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Gradient Divergence Curl (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Gradient Divergence Curl Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "Gradient, Divergence, and Curl Calculator", "item": "https://calcdomain.com/gradient-divergence-curl"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Gradient, Divergence, and Curl Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Gradient, Divergence, and Curl Calculator
              </h1>
              <p class="text-gray-700 mb-3">
                Enter a scalar or vector field in 2D or 3D and instantly compute
                its gradient, divergence, and curl with symbolic formulas and
                numeric evaluation at a point.
              </p>
              <div class="flex flex-wrap gap-2 text-xs text-gray-600">
                <span class="badge bg-blue-100 text-blue-700"
                  >Vector calculus</span
                >
                <span class="badge bg-green-100 text-green-700"
                  >Step-by-step</span
                >
                <span class="badge bg-purple-100 text-purple-700"
                  >2D &amp; 3D</span
                >
              </div>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-3">
                Interactive Vector Calculus Tool
              </h2>

              <div class="space-y-4">
                <!-- Dimension and field type -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Dimension</label
                    >
                    <div class="flex gap-2">
                      <button
                        type="button"
                        data-dim="2"
                        class="dim-btn px-3 py-1.5 rounded border border-blue-500 text-blue-600 text-sm font-medium bg-blue-50"
                      >
                        2D (x, y)
                      </button>
                      <button
                        type="button"
                        data-dim="3"
                        class="dim-btn px-3 py-1.5 rounded border border-gray-300 text-gray-700 text-sm font-medium bg-white"
                      >
                        3D (x, y, z)
                      </button>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Field type</label
                    >
                    <div class="flex gap-2">
                      <button
                        type="button"
                        data-field="scalar"
                        class="field-btn px-3 py-1.5 rounded border border-blue-500 text-blue-600 text-sm font-medium bg-blue-50"
                      >
                        Scalar field f
                      </button>
                      <button
                        type="button"
                        data-field="vector"
                        class="field-btn px-3 py-1.5 rounded border border-gray-300 text-gray-700 text-sm font-medium bg-white"
                      >
                        Vector field F
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Input fields -->
                <div id="scalar-field-container">
                  <label
                    for="scalar-field"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Scalar field f(x, y, z)</label
                  >
                  <input
                    id="scalar-field"
                    type="text"
                    class="code-input w-full border border-gray-300 rounded px-3 py-2 text-sm"
                    placeholder="e.g. x^2 + y^2 + z^2 or exp(x*y) + z"
                    value="x^2 + y^2 + z^2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Use <code>^</code> for powers, <code>sin()</code>,
                    <code>cos()</code>, <code>exp()</code>, <code>ln()</code>,
                    etc. Variables: x, y, z.
                  </p>
                </div>

                <div id="vector-field-container" class="hidden">
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Vector field F(x, y, z)</label
                  >
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                    <input
                      id="Fx"
                      type="text"
                      class="code-input w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      placeholder="F₁(x,y,z), e.g. y*z"
                      value="y*z"
                    />
                    <input
                      id="Fy"
                      type="text"
                      class="code-input w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      placeholder="F₂(x,y,z), e.g. x*z"
                      value="x*z"
                    />
                    <input
                      id="Fz"
                      type="text"
                      class="code-input w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      placeholder="F₃(x,y,z), e.g. x*y"
                      value="x*y"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    For 2D fields, leave the third component blank or 0.
                  </p>
                </div>

                <!-- Evaluation point -->
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Evaluate at point (optional)</label
                  >
                  <div class="grid grid-cols-3 gap-2 max-w-xs">
                    <input
                      id="x0"
                      type="number"
                      step="any"
                      class="w-full border border-gray-300 rounded px-2 py-1.5 text-sm"
                      placeholder="x₀"
                      value="1"
                    />
                    <input
                      id="y0"
                      type="number"
                      step="any"
                      class="w-full border border-gray-300 rounded px-2 py-1.5 text-sm"
                      placeholder="y₀"
                      value="2"
                    />
                    <input
                      id="z0"
                      type="number"
                      step="any"
                      class="w-full border border-gray-300 rounded px-2 py-1.5 text-sm dim-3-only"
                      placeholder="z₀"
                      value="3"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Leave blank to skip numeric evaluation.
                  </p>
                </div>

                <!-- Actions -->
                <div class="flex flex-wrap gap-2 items-center">
                  <button
                    id="compute-btn"
                    type="button"
                    class="px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded hover:bg-blue-700"
                  >
                    Compute
                  </button>
                  <button
                    id="clear-btn"
                    type="button"
                    class="px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200"
                  >
                    Clear
                  </button>
                  <span id="status-msg" class="text-xs text-gray-500"></span>
                </div>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-10">
              <h2 id="results-heading" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="results-container" class="space-y-4">
                <p class="text-sm text-gray-500">
                  Enter a field and click “Compute” to see gradient, divergence,
                  and curl. Results will appear here with both symbolic
                  expressions and numeric values at the chosen point.
                </p>
              </div>
            </section>

            <!-- Theory and explanations -->
            <section class="prose">
              <h2>Gradient, divergence, and curl: definitions</h2>
              <p>
                Gradient, divergence, and curl are the three core differential
                operators in vector calculus. They describe how scalar and
                vector fields change in space.
              </p>

              <h3>Gradient of a scalar field</h3>
              <p>
                For a scalar field \( f(x,y,z) \), the
                <strong>gradient</strong> is a vector field defined by
              </p>
              <div class="formula-box">
                \[ \nabla f = \left( \frac{\partial f}{\partial x},
                \frac{\partial f}{\partial y}, \frac{\partial f}{\partial z}
                \right). \]
              </div>
              <ul>
                <li>
                  \(\nabla f\) points in the direction of
                  <strong>steepest increase</strong> of \(f\).
                </li>
                <li>
                  \(\|\nabla f\|\) is the
                  <strong>maximum rate of change</strong> of \(f\) at that
                  point.
                </li>
                <li>
                  Level surfaces \(f(x,y,z)=\text{const}\) are always
                  <strong>orthogonal</strong> to \(\nabla f\).
                </li>
              </ul>

              <h3>Divergence of a vector field</h3>
              <p>
                For a vector field \( \mathbf{F}(x,y,z) = (F_1, F_2, F_3) \),
                the <strong>divergence</strong> is a scalar field
              </p>
              <div class="formula-box">
                \[ \nabla \cdot \mathbf{F} = \frac{\partial F_1}{\partial x} +
                \frac{\partial F_2}{\partial y} + \frac{\partial F_3}{\partial
                z}. \]
              </div>
              <ul>
                <li>
                  Physically, divergence measures
                  <strong>net outflow per unit volume</strong> at a point.
                </li>
                <li>
                  \(\nabla \cdot \mathbf{F} &gt; 0\): the point behaves like a
                  <strong>source</strong>.
                </li>
                <li>
                  \(\nabla \cdot \mathbf{F} &lt; 0\): the point behaves like a
                  <strong>sink</strong>.
                </li>
                <li>
                  \(\nabla \cdot \mathbf{F} = 0\): the field is
                  <strong>divergence-free</strong> (locally volume-preserving),
                  e.g. incompressible fluid flow or magnetic fields.
                </li>
              </ul>

              <h3>Curl of a vector field</h3>
              <p>
                For a vector field \( \mathbf{F}(x,y,z) = (F_1, F_2, F_3) \),
                the <strong>curl</strong> is another vector field
              </p>
              <div class="formula-box">
                \[ \nabla \times \mathbf{F} = \left( \frac{\partial
                F_3}{\partial y} - \frac{\partial F_2}{\partial z},
                \frac{\partial F_1}{\partial z} - \frac{\partial F_3}{\partial
                x}, \frac{\partial F_2}{\partial x} - \frac{\partial
                F_1}{\partial y} \right). \]
              </div>
              <ul>
                <li>
                  Curl measures the <strong>local rotation</strong> or “swirl”
                  of the vector field.
                </li>
                <li>
                  The direction of \(\nabla \times \mathbf{F}\) is the
                  <strong>axis of rotation</strong> (right-hand rule).
                </li>
                <li>
                  The magnitude \(\|\nabla \times \mathbf{F}\|\) is proportional
                  to the <strong>angular speed</strong> of that rotation.
                </li>
                <li>
                  If \(\nabla \times \mathbf{F} = \mathbf{0}\), the field is
                  called <strong>irrotational</strong>.
                </li>
              </ul>

              <h2>2D vs 3D formulas</h2>
              <p>
                In 2D, we usually work with variables \(x, y\) and treat the
                field as living in the plane.
              </p>

              <h3>2D gradient</h3>
              <div class="formula-box">
                \[ f(x,y) \quad\Rightarrow\quad \nabla f = \left( \frac{\partial
                f}{\partial x}, \frac{\partial f}{\partial y} ). \]
              </div>

              <h3>2D divergence</h3>
              <div class="formula-box">
                \[ \mathbf{F}(x,y) = (P(x,y), Q(x,y)) \quad\Rightarrow\quad
                \nabla \cdot \mathbf{F} = \frac{\partial P}{\partial x} +
                \frac{\partial Q}{\partial y}. \]
              </div>

              <h3>2D curl (scalar “out of plane”)</h3>
              <p>
                In 2D, the curl of a planar vector field is a scalar
                representing the component of the 3D curl in the
                \(z\)-direction:
              </p>
              <div class="formula-box">
                \[ \mathbf{F}(x,y) = (P(x,y), Q(x,y)) \quad\Rightarrow\quad
                \text{curl}_z(\mathbf{F}) = \frac{\partial Q}{\partial x} -
                \frac{\partial P}{\partial y}. \]
              </div>
              <p>
                This scalar is often interpreted as the
                <strong>vorticity</strong> perpendicular to the plane.
              </p>

              <h2>Worked examples</h2>

              <h3>Example 1: Gradient of a quadratic potential</h3>
              <p>Let \( f(x,y,z) = x^2 + y^2 + z^2 \). Then</p>
              <div class="formula-box">
                \[ \frac{\partial f}{\partial x} = 2x,\quad \frac{\partial
                f}{\partial y} = 2y,\quad \frac{\partial f}{\partial z} = 2z, \]
                \[ \nabla f = (2x, 2y, 2z). \]
              </div>
              <p>At the point \((1,2,3)\),</p>
              <div class="formula-box">\[ \nabla f(1,2,3) = (2, 4, 6). \]</div>
              <p>
                The gradient points radially outward and grows linearly with
                distance from the origin.
              </p>

              <h3>Example 2: Divergence and curl of a radial field</h3>
              <p>
                Consider the vector field \( \mathbf{F}(x,y,z) = (x, y, z) \).
              </p>
              <p><strong>Divergence:</strong></p>
              <div class="formula-box">
                \[ \nabla \cdot \mathbf{F} = \frac{\partial x}{\partial x} +
                \frac{\partial y}{\partial y} + \frac{\partial z}{\partial z} =
                1 + 1 + 1 = 3. \]
              </div>
              <p>
                The divergence is constant and positive: the field behaves like
                a uniform source everywhere.
              </p>

              <p><strong>Curl:</strong></p>
              <div class="formula-box">
                \[ \nabla \times \mathbf{F} = \left( \frac{\partial z}{\partial
                y} - \frac{\partial y}{\partial z}, \frac{\partial x}{\partial
                z} - \frac{\partial z}{\partial x}, \frac{\partial y}{\partial
                x} - \frac{\partial x}{\partial y} \right) = (0 - 0,\; 0 - 0,\;
                0 - 0) = (0,0,0). \]
              </div>
              <p>
                The field has <strong>zero curl</strong>: it has no local
                rotation, only radial expansion.
              </p>

              <h3>Example 3: Pure rotation field</h3>
              <p>
                Take the 2D vector field \( \mathbf{F}(x,y) = (-y, x) \), which
                represents rotation around the origin.
              </p>
              <p><strong>Divergence:</strong></p>
              <div class="formula-box">
                \[ \nabla \cdot \mathbf{F} = \frac{\partial (-y)}{\partial x} +
                \frac{\partial x}{\partial y} = 0 + 0 = 0. \]
              </div>
              <p>There are no sources or sinks: the flow is incompressible.</p>

              <p><strong>2D curl (out-of-plane component):</strong></p>
              <div class="formula-box">
                \[ \text{curl}_z(\mathbf{F}) = \frac{\partial Q}{\partial x} -
                \frac{\partial P}{\partial y} = \frac{\partial x}{\partial x} -
                \frac{\partial (-y)}{\partial y} = 1 - (-1) = 2. \]
              </div>
              <p>
                The curl is a positive constant, indicating uniform
                counterclockwise rotation.
              </p>

              <h2>Key vector calculus identities</h2>
              <p>
                Some important identities involving gradient, divergence, and
                curl:
              </p>
              <ul>
                <li>
                  <strong>Gradient of a scalar multiple:</strong> \(\nabla (af)
                  = a \nabla f\) for constant \(a\).
                </li>
                <li>
                  <strong>Divergence of a gradient (Laplacian):</strong>
                  \(\nabla \cdot (\nabla f) = \nabla^2 f\).
                </li>
                <li>
                  <strong>Curl of a gradient:</strong> \(\nabla \times (\nabla
                  f) = \mathbf{0}\) (gradients are irrotational).
                </li>
                <li>
                  <strong>Divergence of a curl:</strong> \(\nabla \cdot (\nabla
                  \times \mathbf{F}) = 0\) (curls are divergence-free).
                </li>
              </ul>
              <p>
                These identities underpin many results in physics, such as
                Maxwell’s equations in electromagnetism and the Navier–Stokes
                equations in fluid dynamics.
              </p>

              <h2 id="faq" class="mt-8">FAQ</h2>

              <h3>How do I enter functions in this calculator?</h3>
              <p>Use standard programming-style syntax:</p>
              <ul>
                <li>
                  Powers: <code>x^2</code>, <code>y^3</code>,
                  <code>(x^2 + y^2)^(1/2)</code>
                </li>
                <li>
                  Functions: <code>sin(x)</code>, <code>cos(y)</code>,
                  <code>tan(z)</code>, <code>exp(x*y)</code>,
                  <code>ln(x)</code>, <code>sqrt(x^2 + y^2)</code>
                </li>
                <li>Constants: <code>pi</code>, <code>e</code></li>
              </ul>

              <h3>When should I use gradient vs divergence vs curl?</h3>
              <ul>
                <li>
                  Use the <strong>gradient</strong> when you have a scalar field
                  (e.g. temperature, potential) and want the direction and rate
                  of steepest change.
                </li>
                <li>
                  Use <strong>divergence</strong> when you have a vector field
                  (e.g. fluid velocity, electric field) and want to detect
                  sources and sinks.
                </li>
                <li>
                  Use <strong>curl</strong> when you have a vector field and
                  want to measure local rotation or vorticity.
                </li>
              </ul>

              <h3>What is the Laplacian and how is it related?</h3>
              <p>
                The <strong>Laplacian</strong> of a scalar field is defined as
              </p>
              <div class="formula-box">
                \[ \nabla^2 f = \nabla \cdot (\nabla f) = \frac{\partial^2
                f}{\partial x^2} + \frac{\partial^2 f}{\partial y^2} +
                \frac{\partial^2 f}{\partial z^2}. \]
              </div>
              <p>
                It measures how \(f\) compares to its average value in a small
                neighborhood and appears in diffusion, heat conduction, and wave
                equations.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Gradient, Divergence, Curl.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; Algebra Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/derivative"
                  class="text-blue-600 hover:underline"
                  >Derivative Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/integral"
                  class="text-blue-600 hover:underline"
                  >Integral Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/limit"
                  class="text-blue-600 hover:underline"
                  >Limit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/vector"
                  class="text-blue-600 hover:underline"
                  >Vector Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-algebra"
                  class="text-blue-600 hover:underline"
                  >Linear Algebra Toolkit</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/gradient-divergence-curl"
                  class="text-blue-600 hover:underline font-semibold"
                  >Gradient, Divergence, and Curl</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/differential-equation-solver"
                  class="text-blue-600 hover:underline"
                  >Differential Equation Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pythagorean-theorem"
                  class="text-blue-600 hover:underline"
                  >Pythagorean Theorem</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-regression"
                  class="text-blue-600 hover:underline"
                  >Linear Regression</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Explore Math &amp; Conversions
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/subcategories/core-math-algebra"
                  class="text-blue-600 hover:underline"
                  >Core Math &amp; Algebra</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subcategories/geometry"
                  class="text-blue-600 hover:underline"
                  >Geometry</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subcategories/math-conversions-measurement-unit-conversions"
                  class="text-blue-600 hover:underline"
                  >Measurement Unit Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/probability"
                  class="text-blue-600 hover:underline"
                  >Probability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/statistics"
                  class="text-blue-600 hover:underline"
                  >Statistics Toolkit</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <!-- Math + parsing engine: math.js -->
    <script src="https://cdn.jsdelivr.net/npm/mathjs@11/lib/browser/math.js"></script>

    <script>
      // UI state
      let currentDim = 3;
      let currentFieldType = "scalar";

      const dimButtons = document.querySelectorAll(".dim-btn");
      const fieldButtons = document.querySelectorAll(".field-btn");
      const scalarContainer = document.getElementById("scalar-field-container");
      const vectorContainer = document.getElementById("vector-field-container");
      const dim3OnlyInputs = document.querySelectorAll(".dim-3-only");
      const statusMsg = document.getElementById("status-msg");
      const resultsContainer = document.getElementById("results-container");

      dimButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          currentDim = parseInt(btn.dataset.dim, 10);
          dimButtons.forEach((b) => {
            const active = parseInt(b.dataset.dim, 10) === currentDim;
            b.className =
              "dim-btn px-3 py-1.5 rounded border text-sm font-medium " +
              (active
                ? "border-blue-500 text-blue-600 bg-blue-50"
                : "border-gray-300 text-gray-700 bg-white");
          });
          dim3OnlyInputs.forEach((inp) => {
            inp.disabled = currentDim === 2;
            inp.classList.toggle("bg-gray-100", currentDim === 2);
          });
        });
      });

      fieldButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          currentFieldType = btn.dataset.field;
          fieldButtons.forEach((b) => {
            const active = b.dataset.field === currentFieldType;
            b.className =
              "field-btn px-3 py-1.5 rounded border text-sm font-medium " +
              (active
                ? "border-blue-500 text-blue-600 bg-blue-50"
                : "border-gray-300 text-gray-700 bg-white");
          });
          if (currentFieldType === "scalar") {
            scalarContainer.classList.remove("hidden");
            vectorContainer.classList.add("hidden");
          } else {
            scalarContainer.classList.add("hidden");
            vectorContainer.classList.remove("hidden");
          }
          clearResults();
        });
      });

      document.getElementById("clear-btn").addEventListener("click", () => {
        document.getElementById("scalar-field").value = "";
        document.getElementById("Fx").value = "";
        document.getElementById("Fy").value = "";
        document.getElementById("Fz").value = "";
        document.getElementById("x0").value = "";
        document.getElementById("y0").value = "";
        document.getElementById("z0").value = "";
        clearResults();
        statusMsg.textContent = "";
      });

      function clearResults() {
        resultsContainer.innerHTML =
          '<p class="text-sm text-gray-500">Enter a field and click “Compute” to see gradient, divergence, and curl. Results will appear here with both symbolic expressions and numeric values at the chosen point.</p>';
      }

      // Helper: safe parse with math.js
      function parseExpression(expr) {
        try {
          return math.parse(expr);
        } catch (e) {
          throw new Error("Could not parse expression: " + expr);
        }
      }

      // Compute partial derivative as a math.js node
      function partialDerivative(node, variable) {
        try {
          return math.derivative(node, variable);
        } catch (e) {
          throw new Error(
            "Could not differentiate with respect to " +
              variable +
              ". Check your input."
          );
        }
      }

      // Evaluate node at point
      function evalAt(node, scope) {
        try {
          return node.evaluate(scope);
        } catch (e) {
          throw new Error(
            "Could not evaluate expression at the given point. Check that the point is valid."
          );
        }
      }

      function formatNode(node) {
        return node ? node.toString({ parenthesis: "auto" }) : "0";
      }

      function hasPoint() {
        const x0 = document.getElementById("x0").value;
        const y0 = document.getElementById("y0").value;
        const z0 = document.getElementById("z0").value;
        if (currentDim === 2) {
          return x0 !== "" && y0 !== "";
        }
        return x0 !== "" && y0 !== "" && z0 !== "";
      }

      function getScope() {
        const x0 = parseFloat(document.getElementById("x0").value);
        const y0 = parseFloat(document.getElementById("y0").value);
        const z0 = parseFloat(document.getElementById("z0").value);
        const scope = { x: x0, y: y0 };
        if (currentDim === 3) scope.z = z0;
        return scope;
      }

      document.getElementById("compute-btn").addEventListener("click", () => {
        statusMsg.textContent = "Computing...";
        resultsContainer.innerHTML = "";
        setTimeout(() => {
          try {
            if (currentFieldType === "scalar") {
              computeScalarField();
            } else {
              computeVectorField();
            }
            statusMsg.textContent = "Done.";
          } catch (err) {
            statusMsg.textContent = "Error.";
            resultsContainer.innerHTML =
              '<div class="text-sm text-red-600 bg-red-50 border border-red-200 rounded p-3">' +
              "<strong>Computation error:</strong> " +
              err.message +
              "</div>";
          }
        }, 10);
      });

      function computeScalarField() {
        const exprStr = document.getElementById("scalar-field").value.trim();
        if (!exprStr) {
          throw new Error("Please enter a scalar field f(x,y,z).");
        }
        const node = parseExpression(exprStr);

        const df_dx = partialDerivative(node, "x");
        const df_dy = partialDerivative(node, "y");
        const df_dz = currentDim === 3 ? partialDerivative(node, "z") : null;

        let html = "";

        html += '<div class="border border-gray-200 rounded p-3 mb-3">';
        html +=
          '<h3 class="font-semibold mb-1 text-sm">Input scalar field</h3>';
        html +=
          '<div class="formula-box text-sm">f(x,y' +
          (currentDim === 3 ? ",z" : "") +
          ") = " +
          math.escape(exprStr) +
          "</div>";
        html += "</div>";

        html +=
          '<div class="border border-blue-100 bg-blue-50 rounded p-3 mb-3">';
        html += '<h3 class="font-semibold mb-1 text-sm">Gradient ∇f</h3>';
        html += '<div class="formula-box text-sm">';
        if (currentDim === 2) {
          html += "∇f(x,y) = ( ∂f/∂x , ∂f/∂y )<br>";
          html += "∂f/∂x = " + math.escape(formatNode(df_dx)) + "<br>";
          html += "∂f/∂y = " + math.escape(formatNode(df_dy)) + "<br>";
          html +=
            "∇f(x,y) = ( " +
            math.escape(formatNode(df_dx)) +
            " , " +
            math.escape(formatNode(df_dy)) +
            " )";
        } else {
          html += "∇f(x,y,z) = ( ∂f/∂x , ∂f/∂y , ∂f/∂z )<br>";
          html += "∂f/∂x = " + math.escape(formatNode(df_dx)) + "<br>";
          html += "∂f/∂y = " + math.escape(formatNode(df_dy)) + "<br>";
          html += "∂f/∂z = " + math.escape(formatNode(df_dz)) + "<br>";
          html +=
            "∇f(x,y,z) = ( " +
            math.escape(formatNode(df_dx)) +
            " , " +
            math.escape(formatNode(df_dy)) +
            " , " +
            math.escape(formatNode(df_dz)) +
            " )";
        }
        html += "</div>";

        if (hasPoint()) {
          const scope = getScope();
          const gx = evalAt(df_dx, scope);
          const gy = evalAt(df_dy, scope);
          const gz = currentDim === 3 ? evalAt(df_dz, scope) : null;
          html += '<p class="text-sm mt-1">At point ';
          html +=
            currentDim === 2
              ? "(x₀,y₀) = (" + scope.x + ", " + scope.y + "):"
              : "(x₀,y₀,z₀) = (" +
                scope.x +
                ", " +
                scope.y +
                ", " +
                scope.z +
                "):";
          html += "</p>";
          html += '<div class="formula-box text-sm">';
          if (currentDim === 2) {
            html += "∇f(x₀,y₀) ≈ ( " + gx + " , " + gy + " )";
          } else {
            html += "∇f(x₀,y₀,z₀) ≈ ( " + gx + " , " + gy + " , " + gz + " )";
          }
          html += "</div>";
        }
        html += "</div>";

        resultsContainer.innerHTML = html;
      }

      function computeVectorField() {
        const FxStr = document.getElementById("Fx").value.trim() || "0";
        const FyStr = document.getElementById("Fy").value.trim() || "0";
        const FzStr =
          currentDim === 3
            ? document.getElementById("Fz").value.trim() || "0"
            : "0";

        const FxNode = parseExpression(FxStr);
        const FyNode = parseExpression(FyStr);
        const FzNode = parseExpression(FzStr);

        // Divergence
        const dFx_dx = partialDerivative(FxNode, "x");
        const dFy_dy = partialDerivative(FyNode, "y");
        const dFz_dz = currentDim === 3 ? partialDerivative(FzNode, "z") : null;

        let divNode;
        if (currentDim === 2) {
          divNode = math.simplify(
            math.parse(
              "(" + dFx_dx.toString() + ")+(" + dFy_dy.toString() + ")"
            )
          );
        } else {
          divNode = math.simplify(
            math.parse(
              "(" +
                dFx_dx.toString() +
                ")+(" +
                dFy_dy.toString() +
                ")+(" +
                dFz_dz.toString() +
                ")"
            )
          );
        }

        // Curl
        let curlXNode, curlYNode, curlZNode;
        if (currentDim === 2) {
          // 2D curl is scalar (z-component)
          const dQ_dx = partialDerivative(FyNode, "x");
          const dP_dy = partialDerivative(FxNode, "y");
          curlZNode = math.simplify(
            math.parse("(" + dQ_dx.toString() + ")-(" + dP_dy.toString() + ")")
          );
        } else {
          const dFz_dy = partialDerivative(FzNode, "y");
          const dFy_dz = partialDerivative(FyNode, "z");
          const dFx_dz = partialDerivative(FxNode, "z");
          const dFz_dx = partialDerivative(FzNode, "x");
          const dFy_dx = partialDerivative(FyNode, "x");
          const dFx_dy = partialDerivative(FxNode, "y");

          curlXNode = math.simplify(
            math.parse(
              "(" + dFz_dy.toString() + ")-(" + dFy_dz.toString() + ")"
            )
          );
          curlYNode = math.simplify(
            math.parse(
              "(" + dFx_dz.toString() + ")-(" + dFz_dx.toString() + ")"
            )
          );
          curlZNode = math.simplify(
            math.parse(
              "(" + dFy_dx.toString() + ")-(" + dFx_dy.toString() + ")"
            )
          );
        }

        let html = "";

        html += '<div class="border border-gray-200 rounded p-3 mb-3">';
        html +=
          '<h3 class="font-semibold mb-1 text-sm">Input vector field</h3>';
        html += '<div class="formula-box text-sm">';
        if (currentDim === 2) {
          html +=
            "F(x,y) = ( " +
            math.escape(FxStr) +
            " , " +
            math.escape(FyStr) +
            " )";
        } else {
          html +=
            "F(x,y,z) = ( " +
            math.escape(FxStr) +
            " , " +
            math.escape(FyStr) +
            " , " +
            math.escape(FzStr) +
            " )";
        }
        html += "</div>";
        html += "</div>";

        // Divergence section
        html +=
          '<div class="border border-green-100 bg-green-50 rounded p-3 mb-3">';
        html += '<h3 class="font-semibold mb-1 text-sm">Divergence ∇·F</h3>';
        html += '<div class="formula-box text-sm">';
        if (currentDim === 2) {
          html += "∇·F = ∂F₁/∂x + ∂F₂/∂y<br>";
          html += "∂F₁/∂x = " + math.escape(formatNode(dFx_dx)) + "<br>";
          html += "∂F₂/∂y = " + math.escape(formatNode(dFy_dy)) + "<br>";
        } else {
          html += "∇·F = ∂F₁/∂x + ∂F₂/∂y + ∂F₃/∂z<br>";
          html += "∂F₁/∂x = " + math.escape(formatNode(dFx_dx)) + "<br>";
          html += "∂F₂/∂y = " + math.escape(formatNode(dFy_dy)) + "<br>";
          html += "∂F₃/∂z = " + math.escape(formatNode(dFz_dz)) + "<br>";
        }
        html +=
          "<strong>∇·F = " + math.escape(formatNode(divNode)) + "</strong>";
        html += "</div>";

        if (hasPoint()) {
          const scope = getScope();
          const divVal = evalAt(divNode, scope);
          html +=
            '<p class="text-sm mt-1">At the chosen point, divergence is approximately:</p>';
          html += '<div class="formula-box text-sm">∇·F ≈ ' + divVal + "</div>";
        }
        html += "</div>";

        // Curl section
        html +=
          '<div class="border border-purple-100 bg-purple-50 rounded p-3 mb-3">';
        html += '<h3 class="font-semibold mb-1 text-sm">Curl ∇×F</h3>';
        html += '<div class="formula-box text-sm">';
        if (currentDim === 2) {
          html += "In 2D, curl is the out-of-plane z-component:<br>";
          html += "curl_z(F) = ∂F₂/∂x - ∂F₁/∂y<br>";
          const dQ_dx = partialDerivative(FyNode, "x");
          const dP_dy = partialDerivative(FxNode, "y");
          html += "∂F₂/∂x = " + math.escape(formatNode(dQ_dx)) + "<br>";
          html += "∂F₁/∂y = " + math.escape(formatNode(dP_dy)) + "<br>";
          html +=
            "<strong>curl_z(F) = " +
            math.escape(formatNode(curlZNode)) +
            "</strong>";
        } else {
          html +=
            "∇×F = ( ∂F₃/∂y - ∂F₂/∂z , ∂F₁/∂z - ∂F₃/∂x , ∂F₂/∂x - ∂F₁/∂y )<br>";
          html += "curl₁ = " + math.escape(formatNode(curlXNode)) + "<br>";
          html += "curl₂ = " + math.escape(formatNode(curlYNode)) + "<br>";
          html += "curl₃ = " + math.escape(formatNode(curlZNode)) + "<br>";
          html +=
            "<strong>∇×F = ( " +
            math.escape(formatNode(curlXNode)) +
            " , " +
            math.escape(formatNode(curlYNode)) +
            " , " +
            math.escape(formatNode(curlZNode)) +
            " )</strong>";
        }
        html += "</div>";

        if (hasPoint()) {
          const scope = getScope();
          if (currentDim === 2) {
            const curlVal = evalAt(curlZNode, scope);
            html +=
              '<p class="text-sm mt-1">At the chosen point, 2D curl (z-component) is approximately:</p>';
            html +=
              '<div class="formula-box text-sm">curl_z(F) ≈ ' +
              curlVal +
              "</div>";
          } else {
            const cx = evalAt(curlXNode, scope);
            const cy = evalAt(curlYNode, scope);
            const cz = evalAt(curlZNode, scope);
            html +=
              '<p class="text-sm mt-1">At the chosen point, curl is approximately:</p>';
            html +=
              '<div class="formula-box text-sm">∇×F ≈ ( ' +
              cx +
              " , " +
              cy +
              " , " +
              cz +
              " )</div>";
          }
        }
        html += "</div>";

        resultsContainer.innerHTML = html;
      }

      // Mobile menu toggle
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const isHidden = menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !isHidden);
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", isHidden ? "true" : "false");
        });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
