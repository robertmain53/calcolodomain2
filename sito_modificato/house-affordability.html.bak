<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/house-affordability" />
    <title>House Affordability Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate House Affordability Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="House Affordability Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate House Affordability Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/house-affordability" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="House Affordability Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate House Affordability Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Mortgages & Home Financing Calculators", "item": "https://calcdomain.com/subcategories/finance-mortgages-and-home"}, {"@type": "ListItem", "position": 4, "name": "House Affordability Calculator", "item": "https://calcdomain.com/house-affordability"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-mortgages-and-home" class="text-blue-600 hover:underline">Mortgages &amp; Home Financing Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">House Affordability Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl md:text-3xl font-bold mb-2">
              House Affordability Calculator
            </h1>
            <p class="text-gray-700 mb-4">
              Estimate how much house you can afford using lender-style
              debt-to-income rules or your own custom budget. See a full payment
              breakdown and compare scenarios side by side.
            </p>

            <div class="grid md:grid-cols-2 gap-4 mb-6">
              <div class="p-3 bg-blue-50 border border-blue-100 rounded-lg">
                <p class="text-sm font-semibold text-blue-800 mb-1">Mode</p>
                <div class="flex gap-2">
                  <button
                    id="mode-lender"
                    class="flex-1 px-3 py-2 text-sm font-medium rounded border border-blue-600 bg-blue-600 text-white"
                  >
                    Lender guidelines
                  </button>
                  <button
                    id="mode-budget"
                    class="flex-1 px-3 py-2 text-sm font-medium rounded border border-gray-300 text-gray-700 bg-white"
                  >
                    Custom budget
                  </button>
                </div>
                <p class="mt-2 text-xs text-blue-900" id="mode-help">
                  Uses typical 28/36 DTI rules to estimate your maximum home
                  price.
                </p>
              </div>
              <div
                class="p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm"
              >
                <p class="font-semibold mb-1">Quick summary</p>
                <ul class="space-y-1 text-gray-700">
                  <li>
                    • Uses full PITI+HOA payment, not just principal &amp;
                    interest
                  </li>
                  <li>• Adjustable front-end &amp; back-end DTI limits</li>
                  <li>
                    • Compare up to 3 scenarios (rate, term, down payment)
                  </li>
                </ul>
              </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-6 mb-8">
              <!-- Left: Inputs -->
              <section aria-label="Inputs" class="space-y-4">
                <h2 class="text-xl font-semibold mb-2">Your profile</h2>

                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="income-monthly"
                    >Gross monthly income</label
                  >
                  <div class="flex items-center gap-2">
                    <span class="text-gray-500">$</span>
                    <input
                      id="income-monthly"
                      type="number"
                      min="0"
                      step="100"
                      value="8000"
                      class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Before taxes and deductions. Include co-borrower income if
                    applicable.
                  </p>
                </div>

                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="debts-monthly"
                    >Total monthly debt payments</label
                  >
                  <div class="flex items-center gap-2">
                    <span class="text-gray-500">$</span>
                    <input
                      id="debts-monthly"
                      type="number"
                      min="0"
                      step="50"
                      value="600"
                      class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Minimum payments for credit cards, auto, student loans,
                    personal loans, etc. (exclude current rent).
                  </p>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="front-dti"
                      >Max housing DTI (front-end)</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="front-dti"
                        type="number"
                        min="10"
                        max="40"
                        step="1"
                        value="28"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">%</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Typical guideline: 28% of gross income.
                    </p>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="back-dti"
                      >Max total DTI (back-end)</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="back-dti"
                        type="number"
                        min="20"
                        max="55"
                        step="1"
                        value="36"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">%</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Conventional: 36%; many programs allow up to 43–50%.
                    </p>
                  </div>
                </div>

                <hr class="my-4" />

                <h2 class="text-xl font-semibold mb-2">Property &amp; loan</h2>

                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="down-payment"
                    >Down payment</label
                  >
                  <div class="flex gap-2 mb-1">
                    <div class="flex-1 flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="down-payment"
                        type="number"
                        min="0"
                        step="1000"
                        value="60000"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                    </div>
                    <div class="flex items-center gap-2">
                      <input
                        id="down-percent"
                        type="number"
                        min="0"
                        max="100"
                        step="1"
                        value="20"
                        class="w-20 border rounded px-2 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">%</span>
                    </div>
                  </div>
                  <p class="text-xs text-gray-500">
                    You can edit either the dollar amount or the percentage.
                  </p>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="rate"
                      >Interest rate (APR)</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="rate"
                        type="number"
                        min="0"
                        max="20"
                        step="0.125"
                        value="6.5"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">%</span>
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="term"
                      >Loan term</label
                    >
                    <select
                      id="term"
                      class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    >
                      <option value="30">30 years (360 months)</option>
                      <option value="25">25 years (300 months)</option>
                      <option value="20">20 years (240 months)</option>
                      <option value="15">15 years (180 months)</option>
                      <option value="10">10 years (120 months)</option>
                    </select>
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="tax-rate"
                      >Property tax rate</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="tax-rate"
                        type="number"
                        min="0"
                        max="10"
                        step="0.05"
                        value="1.2"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">% / year</span>
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="insurance-rate"
                      >Homeowners insurance</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="insurance-rate"
                        type="number"
                        min="0"
                        max="5"
                        step="0.05"
                        value="0.5"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">% / year</span>
                    </div>
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="hoa"
                      >HOA dues (monthly)</label
                    >
                    <div class="flex items-center gap-2">
                      <span class="text-gray-500">$</span>
                      <input
                        id="hoa"
                        type="number"
                        min="0"
                        step="10"
                        value="0"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="pmi-rate"
                      >PMI rate (if &lt; 20% down)</label
                    >
                    <div class="flex items-center gap-2">
                      <input
                        id="pmi-rate"
                        type="number"
                        min="0"
                        max="3"
                        step="0.05"
                        value="0.7"
                        class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      />
                      <span class="text-gray-600 text-sm">% / year</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Private mortgage insurance estimate. Set to 0% to ignore
                      PMI.
                    </p>
                  </div>
                </div>

                <div id="budget-row" class="mt-4 hidden">
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="budget-housing"
                    >Target housing budget (monthly)</label
                  >
                  <div class="flex items-center gap-2">
                    <span class="text-gray-500">$</span>
                    <input
                      id="budget-housing"
                      type="number"
                      min="0"
                      step="50"
                      value="2200"
                      class="w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    />
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Use this in custom budget mode to cap your monthly housing
                    payment.
                  </p>
                </div>

                <button
                  id="calc-btn"
                  class="mt-4 w-full inline-flex justify-center items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Calculate affordability
                </button>
              </section>

              <!-- Right: Results -->
              <section aria-label="Results" class="space-y-4">
                <h2 class="text-xl font-semibold mb-2">Results</h2>

                <div class="p-4 border rounded-lg bg-gray-50">
                  <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">
                    Maximum home price
                  </p>
                  <p
                    id="result-home-price"
                    class="text-2xl font-bold text-blue-700 result-number"
                  >
                    $0
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    Based on your income, debts, down payment, and selected
                    assumptions.
                  </p>
                </div>

                <div class="grid grid-cols-2 gap-3 text-sm">
                  <div class="p-3 border rounded-lg bg-white">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Estimated loan amount
                    </p>
                    <p
                      id="result-loan-amount"
                      class="text-lg font-semibold result-number"
                    >
                      $0
                    </p>
                  </div>
                  <div class="p-3 border rounded-lg bg-white">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Required down payment
                    </p>
                    <p
                      id="result-down-needed"
                      class="text-lg font-semibold result-number"
                    >
                      $0
                    </p>
                  </div>
                </div>

                <div class="p-4 border rounded-lg bg-white text-sm">
                  <p class="text-xs uppercase tracking-wide text-gray-500 mb-2">
                    Estimated monthly payment (PITI + HOA)
                  </p>
                  <p
                    id="result-monthly-total"
                    class="text-xl font-semibold mb-2 result-number"
                  >
                    $0
                  </p>
                  <div
                    class="grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-700"
                  >
                    <div class="flex justify-between">
                      <span>Principal &amp; interest:</span
                      ><span id="result-pi" class="result-number">$0</span>
                    </div>
                    <div class="flex justify-between">
                      <span>Property tax:</span
                      ><span id="result-tax" class="result-number">$0</span>
                    </div>
                    <div class="flex justify-between">
                      <span>Homeowners insurance:</span
                      ><span id="result-ins" class="result-number">$0</span>
                    </div>
                    <div class="flex justify-between">
                      <span>PMI:</span
                      ><span id="result-pmi" class="result-number">$0</span>
                    </div>
                    <div class="flex justify-between">
                      <span>HOA dues:</span
                      ><span id="result-hoa" class="result-number">$0</span>
                    </div>
                  </div>
                </div>

                <div class="p-4 border rounded-lg bg-white text-sm">
                  <p class="text-xs uppercase tracking-wide text-gray-500 mb-2">
                    Debt-to-income ratios
                  </p>
                  <div class="flex justify-between items-center mb-1">
                    <span>Housing DTI (front-end):</span>
                    <span
                      id="result-front-dti"
                      class="font-semibold result-number"
                      >0%</span
                    >
                  </div>
                  <div class="flex justify-between items-center mb-1">
                    <span>Total DTI (back-end):</span>
                    <span
                      id="result-back-dti"
                      class="font-semibold result-number"
                      >0%</span
                    >
                  </div>
                  <p
                    id="result-dti-note"
                    class="text-xs mt-2 text-gray-600"
                  ></p>
                </div>

                <div
                  class="p-3 border rounded-lg bg-yellow-50 text-xs text-yellow-900"
                >
                  <p class="font-semibold mb-1">Tip</p>
                  <p id="tip-text">
                    Try lowering the interest rate or increasing your down
                    payment to see how much more house you could afford.
                  </p>
                </div>
              </section>
            </div>

            <section class="mb-8">
              <h2 class="text-xl font-semibold mb-3">Scenario comparison</h2>
              <p class="text-sm text-gray-700 mb-3">
                Quickly compare how different interest rates, terms, or down
                payments change your maximum affordable home price.
              </p>
              <div class="overflow-x-auto">
                <table
                  class="min-w-full text-xs md:text-sm border border-gray-200 rounded-lg overflow-hidden"
                >
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="px-3 py-2 text-left font-semibold">
                        Scenario
                      </th>
                      <th class="px-3 py-2 text-right font-semibold">Rate</th>
                      <th class="px-3 py-2 text-right font-semibold">Term</th>
                      <th class="px-3 py-2 text-right font-semibold">Down %</th>
                      <th class="px-3 py-2 text-right font-semibold">
                        Home price
                      </th>
                      <th class="px-3 py-2 text-right font-semibold">
                        Monthly PITI+HOA
                      </th>
                    </tr>
                  </thead>
                  <tbody id="scenario-body">
                    <tr class="border-t">
                      <td class="px-3 py-2">Current inputs</td>
                      <td class="px-3 py-2 text-right" id="sc-rate-1">–</td>
                      <td class="px-3 py-2 text-right" id="sc-term-1">–</td>
                      <td class="px-3 py-2 text-right" id="sc-down-1">–</td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-price-1"
                      >
                        $0
                      </td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-pay-1"
                      >
                        $0
                      </td>
                    </tr>
                    <tr class="border-t bg-white">
                      <td class="px-3 py-2">+0.5% higher rate</td>
                      <td class="px-3 py-2 text-right" id="sc-rate-2">–</td>
                      <td class="px-3 py-2 text-right" id="sc-term-2">–</td>
                      <td class="px-3 py-2 text-right" id="sc-down-2">–</td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-price-2"
                      >
                        $0
                      </td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-pay-2"
                      >
                        $0
                      </td>
                    </tr>
                    <tr class="border-t">
                      <td class="px-3 py-2">+5% more down</td>
                      <td class="px-3 py-2 text-right" id="sc-rate-3">–</td>
                      <td class="px-3 py-2 text-right" id="sc-term-3">–</td>
                      <td class="px-3 py-2 text-right" id="sc-down-3">–</td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-price-3"
                      >
                        $0
                      </td>
                      <td
                        class="px-3 py-2 text-right result-number"
                        id="sc-pay-3"
                      >
                        $0
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <section class="prose">
              <h2>How this house affordability calculator works</h2>
              <p>
                This tool estimates the maximum home price you can reasonably
                afford by combining:
              </p>
              <ul>
                <li>Your gross monthly income</li>
                <li>Your existing monthly debt payments</li>
                <li>Down payment amount and loan terms</li>
                <li>
                  Estimated property taxes, homeowners insurance, PMI, and HOA
                  dues
                </li>
              </ul>
              <p>
                It then applies lender-style
                <strong>debt-to-income (DTI) limits</strong> or your own custom
                budget to find the highest home price that still fits within
                those constraints.
              </p>

              <h3>Key formulas</h3>
              <div class="formula-box text-sm">
                <p><strong>1. Monthly income and DTI limits</strong></p>
                <p>
                  Let \( I \) be gross monthly income and \( D \) be total
                  monthly debt payments (excluding the new mortgage).
                </p>
                <p>Maximum housing payment from front-end DTI:</p>
                <p>
                  \[ P_{\text{housing,max}} = I \times \frac{\text{front DTI
                  \%}}{100} \]
                </p>
                <p>Maximum housing payment from back-end DTI:</p>
                <p>
                  \[ P_{\text{housing,max,back}} = I \times \frac{\text{back DTI
                  \%}}{100} - D \]
                </p>
                <p>
                  The calculator uses the <strong>lower</strong> of these two
                  values.
                </p>
              </div>

              <div class="formula-box text-sm">
                <p>
                  <strong
                    >2. Mortgage payment (principal &amp; interest)</strong
                  >
                </p>
                <p>
                  For a loan amount \( L \), monthly interest rate \( r \), and
                  term \( n \) months, the standard amortizing payment is:
                </p>
                <p>
                  \[ P_{\text{PI}} = L \times \frac{r(1 + r)^n}{(1 + r)^n - 1}
                  \]
                </p>
              </div>

              <div class="formula-box text-sm">
                <p><strong>3. Taxes, insurance, PMI, and HOA</strong></p>
                <p>If the home price is \( H \):</p>
                <ul>
                  <li>Annual property tax = \( H \times \text{tax rate} \)</li>
                  <li>
                    Annual insurance = \( H \times \text{insurance rate} \)
                  </li>
                  <li>
                    Annual PMI (if down &lt; 20%) = \( L \times \text{PMI rate}
                    \)
                  </li>
                </ul>
                <p>
                  Monthly amounts are each divided by 12, then added to HOA
                  dues:
                </p>
                <p>
                  \[ P_{\text{total}} = P_{\text{PI}} + \frac{\text{taxes} +
                  \text{insurance} + \text{PMI}}{12} + \text{HOA} \]
                </p>
              </div>

              <div class="formula-box text-sm">
                <p><strong>4. Debt-to-income ratios</strong></p>
                <p>Housing DTI (front-end):</p>
                <p>
                  \[ \text{Front DTI} = \frac{P_{\text{total}}}{I} \times 100\%
                  \]
                </p>
                <p>Total DTI (back-end):</p>
                <p>
                  \[ \text{Back DTI} = \frac{P_{\text{total}} + D}{I} \times
                  100\% \]
                </p>
              </div>

              <h2>Understanding lender guidelines vs. your budget</h2>
              <p>The calculator supports two modes:</p>
              <ul>
                <li>
                  <strong>Lender guidelines:</strong> Uses front-end and
                  back-end DTI limits (e.g., 28/36) similar to what many lenders
                  use for pre-approval.
                </li>
                <li>
                  <strong>Custom budget:</strong> Lets you specify a maximum
                  monthly housing payment regardless of DTI rules.
                </li>
              </ul>
              <p>
                Both approaches are useful: lender guidelines tell you what you
                might qualify for, while your own budget tells you what will
                feel comfortable in real life.
              </p>

              <h3>Typical DTI benchmarks</h3>
              <ul>
                <li>
                  <strong>Front-end DTI (housing only):</strong> 28% is a common
                  conventional guideline.
                </li>
                <li>
                  <strong>Back-end DTI (all debts):</strong> 36% is
                  conservative; many programs allow 43–50%.
                </li>
                <li>
                  <strong>Conservative personal budget:</strong> Many financial
                  planners suggest keeping total housing at or below 25–30% of
                  take-home pay.
                </li>
              </ul>

              <h2>How to choose realistic assumptions</h2>
              <h3>1. Income</h3>
              <p>
                Use your <strong>stable, verifiable income</strong>: base
                salary, regular bonuses, and consistent side income. Avoid
                counting temporary or highly variable income unless a lender
                would accept it.
              </p>

              <h3>2. Debts</h3>
              <p>Include minimum monthly payments for:</p>
              <ul>
                <li>Credit cards</li>
                <li>Auto loans and leases</li>
                <li>Student loans</li>
                <li>Personal loans</li>
                <li>Child support or alimony</li>
              </ul>

              <h3>3. Down payment</h3>
              <p>Your down payment affects:</p>
              <ul>
                <li>
                  The loan amount (and therefore principal &amp; interest)
                </li>
                <li>
                  Whether you pay PMI (often required if &lt; 20% down on
                  conventional loans)
                </li>
                <li>Your interest rate and available loan programs</li>
              </ul>

              <h3>4. Property taxes and insurance</h3>
              <p>These vary widely by location. To get better estimates:</p>
              <ul>
                <li>Look up tax rates for the specific city or county.</li>
                <li>
                  Get sample insurance quotes for your price range and property
                  type.
                </li>
              </ul>

              <h2>Interpreting your results</h2>
              <ul>
                <li>
                  If your <strong>front-end DTI</strong> is below your target
                  but <strong>back-end DTI</strong> is high, your non-housing
                  debts are limiting your affordability.
                </li>
                <li>
                  If both DTIs are low, you may be able to afford more house—but
                  consider future goals like retirement, kids, or job changes.
                </li>
                <li>
                  If DTIs are above 43–45%, you may struggle to qualify for many
                  mortgage programs or may feel “house poor.”
                </li>
              </ul>

              <h2>Ways to increase how much house you can afford</h2>
              <ul>
                <li>
                  Pay down high-interest debts to lower your back-end DTI.
                </li>
                <li>
                  Increase your down payment to reduce the loan amount and
                  possibly eliminate PMI.
                </li>
                <li>
                  Improve your credit score to qualify for a lower interest
                  rate.
                </li>
                <li>
                  Consider a slightly longer commute or different neighborhood
                  with lower property taxes.
                </li>
                <li>
                  Choose a longer loan term (e.g., 30 years instead of 15) to
                  reduce the monthly payment—while understanding you’ll pay more
                  interest over time.
                </li>
              </ul>

              <h2>Limitations and next steps</h2>
              <p>
                This calculator is for
                <strong>educational and planning purposes only</strong>. Actual
                lender decisions depend on:
              </p>
              <ul>
                <li>Credit history and credit scores</li>
                <li>Loan type (conventional, FHA, VA, USDA, jumbo)</li>
                <li>Reserves and savings</li>
                <li>
                  Property type and occupancy (primary residence vs. investment)
                </li>
              </ul>
              <p>
                Use this tool to define a comfortable price range, then speak
                with a qualified mortgage professional for a personalized
                pre-approval.
              </p>
            </section>

            <section class="prose">
              <h2>Frequently asked questions</h2>

              <h3>
                Is it better to focus on the maximum I qualify for or a lower,
                comfortable payment?
              </h3>
              <p>
                Qualifying for a certain amount doesn’t mean it’s wise to borrow
                that much. Many buyers choose a home price that keeps their
                budget flexible for savings, travel, and unexpected expenses,
                even if a lender would approve more.
              </p>

              <h3>
                How accurate are the property tax and insurance estimates?
              </h3>
              <p>
                The percentages in this calculator are averages. In some
                high-tax areas, property taxes can exceed 2–3% of the home’s
                value per year; in others they may be below 1%. Insurance also
                varies by region and risk (e.g., flood, wildfire). For serious
                planning, replace the defaults with local estimates.
              </p>

              <h3>What about adjustable-rate mortgages (ARMs)?</h3>
              <p>
                This calculator assumes a fixed interest rate. If you’re
                considering an ARM, you can enter the initial rate, but remember
                that your payment could rise later. Many buyers base
                affordability on a higher “stress test” rate to stay safe.
              </p>

              <h3>Can I use this for investment properties?</h3>
              <p>
                You can, but investment loans often have different underwriting
                rules, higher required down payments, and higher interest rates.
                You should also factor in expected rent and vacancy. For a pure
                investment analysis, pair this tool with a rental property or
                cash-flow calculator.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: House, Affordability.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More mortgage &amp; home tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rent-vs-buy"
                  class="text-blue-600 hover:underline"
                  >Rent vs. Buy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-refinance"
                  class="text-blue-600 hover:underline"
                  >Mortgage Refinance Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/biweekly-mortgage"
                  class="text-blue-600 hover:underline"
                  >Biweekly Mortgage Payments</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/closing-costs"
                  class="text-blue-600 hover:underline"
                  >Closing Costs Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payoff"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/down-payment"
                  class="text-blue-600 hover:underline"
                  >Down Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/70-rule"
                  class="text-blue-600 hover:underline"
                  >70% Rule (House Flipping)</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Finance categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/finance-mortgages-and-home"
                  class="text-blue-600 hover:underline"
                  >Mortgages &amp; Home Financing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-loans-and-debt"
                  class="text-blue-600 hover:underline"
                  >Loans &amp; Debt</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-investing-and-growth"
                  class="text-blue-600 hover:underline"
                  >Investing &amp; Compound Growth</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-income-and-payroll"
                  class="text-blue-600 hover:underline"
                  >Income, Payroll &amp; Cost of Living</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/taxes"
                  class="text-blue-600 hover:underline"
                  >Taxes</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-retirement-and-pensions"
                  class="text-blue-600 hover:underline"
                  >Retirement &amp; Pensions</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      function fmtMoney(value) {
        if (!isFinite(value)) return "$0";
        const v = Math.round(value);
        return v.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      function fmtPercent(value) {
        if (!isFinite(value)) return "0%";
        return value.toFixed(1).replace(/\.0$/, "") + "%";
      }

      function calcMonthlyPI(loanAmount, annualRate, years) {
        const n = years * 12;
        const r = annualRate / 100 / 12;
        if (loanAmount <= 0 || n <= 0) return 0;
        if (r === 0) return loanAmount / n;
        const factor = Math.pow(1 + r, n);
        return (loanAmount * (r * factor)) / (factor - 1);
      }

      function solveMaxHomePrice(
        maxHousingPayment,
        downPercent,
        taxRate,
        insRate,
        pmiRate,
        hoa,
        rate,
        termYears
      ) {
        if (maxHousingPayment <= 0) return 0;
        const maxIter = 40;
        const tol = 1;
        let low = 0;
        let high = 2_000_000;

        for (let i = 0; i < maxIter; i++) {
          const mid = (low + high) / 2;
          const down = mid * (downPercent / 100);
          const loan = Math.max(mid - down, 0);
          const pi = calcMonthlyPI(loan, rate, termYears);
          const tax = (mid * (taxRate / 100)) / 12;
          const ins = (mid * (insRate / 100)) / 12;
          const pmi =
            downPercent < 20 && pmiRate > 0 ? (loan * (pmiRate / 100)) / 12 : 0;
          const total = pi + tax + ins + pmi + hoa;

          if (Math.abs(total - maxHousingPayment) < tol) {
            return mid;
          }
          if (total > maxHousingPayment) {
            high = mid;
          } else {
            low = mid;
          }
        }
        return low;
      }

      function updateDownSync(fromPercentChange) {
        const priceEl = document.getElementById("result-home-price");
        const downEl = document.getElementById("down-payment");
        const pctEl = document.getElementById("down-percent");

        const displayedPrice = parseFloat(priceEl.dataset.raw || "0");
        let pct = parseFloat(pctEl.value) || 0;
        let down = parseFloat(downEl.value) || 0;

        if (fromPercentChange && displayedPrice > 0) {
          down = (displayedPrice * pct) / 100;
          downEl.value = Math.round(down);
        } else if (!fromPercentChange && displayedPrice > 0) {
          pct = (down / displayedPrice) * 100;
          pctEl.value = Math.round(pct);
        }
      }

      function recalc() {
        const income =
          parseFloat(document.getElementById("income-monthly").value) || 0;
        const debts =
          parseFloat(document.getElementById("debts-monthly").value) || 0;
        const frontDTI =
          parseFloat(document.getElementById("front-dti").value) || 0;
        const backDTI =
          parseFloat(document.getElementById("back-dti").value) || 0;
        const downAmount =
          parseFloat(document.getElementById("down-payment").value) || 0;
        const downPercentInput =
          parseFloat(document.getElementById("down-percent").value) || 0;
        const rate = parseFloat(document.getElementById("rate").value) || 0;
        const termYears =
          parseFloat(document.getElementById("term").value) || 30;
        const taxRate =
          parseFloat(document.getElementById("tax-rate").value) || 0;
        const insRate =
          parseFloat(document.getElementById("insurance-rate").value) || 0;
        const hoa = parseFloat(document.getElementById("hoa").value) || 0;
        const pmiRate =
          parseFloat(document.getElementById("pmi-rate").value) || 0;
        const budgetHousing =
          parseFloat(document.getElementById("budget-housing").value) || 0;

        const mode = document.body.dataset.mode || "lender";

        let maxHousingFromFront = income * (frontDTI / 100);
        let maxHousingFromBack = income * (backDTI / 100) - debts;
        if (maxHousingFromBack < 0) maxHousingFromBack = 0;

        let maxHousingPayment;
        if (mode === "lender") {
          maxHousingPayment = Math.min(maxHousingFromFront, maxHousingFromBack);
        } else {
          maxHousingPayment =
            budgetHousing > 0 ? budgetHousing : maxHousingFromFront;
        }

        if (maxHousingPayment <= 0 || income <= 0) {
          renderResults(
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            income,
            debts,
            maxHousingPayment,
            frontDTI,
            backDTI
          );
          updateScenarios(0, 0, 0, 0, 0, 0, rate, termYears, downPercentInput);
          return;
        }

        let downPercent = downPercentInput;
        if (downPercent <= 0) {
          const assumedPrice = downAmount * 5;
          if (assumedPrice > 0) {
            downPercent = (downAmount / assumedPrice) * 100;
          } else {
            downPercent = 20;
          }
        }

        const homePrice = solveMaxHomePrice(
          maxHousingPayment,
          downPercent,
          taxRate,
          insRate,
          pmiRate,
          hoa,
          rate,
          termYears
        );
        const downNeeded = homePrice * (downPercent / 100);
        const loanAmount = Math.max(homePrice - downNeeded, 0);

        const pi = calcMonthlyPI(loanAmount, rate, termYears);
        const tax = (homePrice * (taxRate / 100)) / 12;
        const ins = (homePrice * (insRate / 100)) / 12;
        const pmi =
          downPercent < 20 && pmiRate > 0
            ? (loanAmount * (pmiRate / 100)) / 12
            : 0;
        const total = pi + tax + ins + pmi + hoa;

        const frontActual = income > 0 ? (total / income) * 100 : 0;
        const backActual = income > 0 ? ((total + debts) / income) * 100 : 0;

        renderResults(
          homePrice,
          loanAmount,
          downNeeded,
          total,
          pi,
          tax,
          ins,
          pmi,
          income,
          debts,
          maxHousingPayment,
          frontActual,
          backActual,
          hoa,
          frontDTI,
          backDTI
        );
        updateScenarios(
          homePrice,
          total,
          loanAmount,
          taxRate,
          insRate,
          hoa,
          rate,
          termYears,
          downPercent
        );
      }

      function renderResults(
        homePrice,
        loanAmount,
        downNeeded,
        total,
        pi,
        tax,
        ins,
        pmi,
        income,
        debts,
        maxHousingPayment,
        frontActual,
        backActual,
        hoa,
        frontDTI,
        backDTI
      ) {
        const homeEl = document.getElementById("result-home-price");
        homeEl.textContent = fmtMoney(homePrice);
        homeEl.dataset.raw = homePrice.toString();

        document.getElementById("result-loan-amount").textContent =
          fmtMoney(loanAmount);
        document.getElementById("result-down-needed").textContent =
          fmtMoney(downNeeded);
        document.getElementById("result-monthly-total").textContent =
          fmtMoney(total);
        document.getElementById("result-pi").textContent = fmtMoney(pi);
        document.getElementById("result-tax").textContent = fmtMoney(tax);
        document.getElementById("result-ins").textContent = fmtMoney(ins);
        document.getElementById("result-pmi").textContent = fmtMoney(pmi);
        document.getElementById("result-hoa").textContent = fmtMoney(hoa);

        document.getElementById("result-front-dti").textContent = fmtPercent(
          frontActual || 0
        );
        document.getElementById("result-back-dti").textContent = fmtPercent(
          backActual || 0
        );

        const noteEl = document.getElementById("result-dti-note");
        if (!income || !total) {
          noteEl.textContent =
            "Enter your income and other details to see DTI ratios.";
        } else {
          const withinFront = frontActual <= frontDTI + 0.1;
          const withinBack = backActual <= backDTI + 0.1;
          if (withinFront && withinBack) {
            noteEl.textContent =
              "Both housing and total DTI are within your selected limits.";
          } else if (!withinFront && withinBack) {
            noteEl.textContent =
              "Housing DTI exceeds your front-end limit; consider a lower price or larger down payment.";
          } else if (withinFront && !withinBack) {
            noteEl.textContent =
              "Total DTI exceeds your back-end limit; paying down other debts could increase affordability.";
          } else {
            noteEl.textContent =
              "Both housing and total DTI exceed your selected limits. Try reducing price, rate, or debts.";
          }
        }

        const tipEl = document.getElementById("tip-text");
        if (homePrice <= 0) {
          tipEl.textContent =
            "Check that your income, DTI limits, and budget are set to realistic values.";
        } else if (pmi > 0) {
          tipEl.textContent =
            "You are estimated to pay PMI. Increasing your down payment to 20% could remove this cost.";
        } else if (hoa > 0) {
          tipEl.textContent =
            "HOA dues are part of your housing payment. A lower-HOA property could increase your maximum price.";
        } else if (debts > income * 0.3) {
          tipEl.textContent =
            "Your non-housing debts are a large share of income. Paying them down can significantly increase affordability.";
        } else {
          tipEl.textContent =
            "Experiment with different rates, terms, and down payments to see how they affect your maximum home price.";
        }
      }

      function updateScenarios(
        homePrice,
        total,
        loanAmount,
        taxRate,
        insRate,
        hoa,
        rate,
        termYears,
        downPercent
      ) {
        const price1 = homePrice;
        const total1 = total;
        document.getElementById("sc-rate-1").textContent =
          rate.toFixed(3).replace(/0+$/, "").replace(/\.$/, "") + "%";
        document.getElementById("sc-term-1").textContent = termYears + " yr";
        document.getElementById("sc-down-1").textContent =
          downPercent.toFixed(1).replace(/\.0$/, "") + "%";
        document.getElementById("sc-price-1").textContent = fmtMoney(price1);
        document.getElementById("sc-pay-1").textContent = fmtMoney(total1);

        const rate2 = rate + 0.5;
        const price2 = solveMaxHomePrice(
          total1 || 0,
          downPercent,
          taxRate,
          insRate,
          0.7,
          hoa,
          rate2,
          termYears
        );
        const loan2 = price2 * (1 - downPercent / 100);
        const pi2 = calcMonthlyPI(loan2, rate2, termYears);
        const tax2 = (price2 * (taxRate / 100)) / 12;
        const ins2 = (price2 * (insRate / 100)) / 12;
        const pmi2 = downPercent < 20 ? (loan2 * (0.7 / 100)) / 12 : 0;
        const total2 = pi2 + tax2 + ins2 + pmi2 + hoa;

        document.getElementById("sc-rate-2").textContent =
          rate2.toFixed(3).replace(/0+$/, "").replace(/\.$/, "") + "%";
        document.getElementById("sc-term-2").textContent = termYears + " yr";
        document.getElementById("sc-down-2").textContent =
          downPercent.toFixed(1).replace(/\.0$/, "") + "%";
        document.getElementById("sc-price-2").textContent = fmtMoney(price2);
        document.getElementById("sc-pay-2").textContent = fmtMoney(total2);

        const down3 = Math.min(downPercent + 5, 100);
        const price3 = solveMaxHomePrice(
          total1 || 0,
          down3,
          taxRate,
          insRate,
          0.7,
          hoa,
          rate,
          termYears
        );
        const loan3 = price3 * (1 - down3 / 100);
        const pi3 = calcMonthlyPI(loan3, rate, termYears);
        const tax3 = (price3 * (taxRate / 100)) / 12;
        const ins3 = (price3 * (insRate / 100)) / 12;
        const pmi3 = down3 < 20 ? (loan3 * (0.7 / 100)) / 12 : 0;
        const total3 = pi3 + tax3 + ins3 + pmi3 + hoa;

        document.getElementById("sc-rate-3").textContent =
          rate.toFixed(3).replace(/0+$/, "").replace(/\.$/, "") + "%";
        document.getElementById("sc-term-3").textContent = termYears + " yr";
        document.getElementById("sc-down-3").textContent =
          down3.toFixed(1).replace(/\.0$/, "") + "%";
        document.getElementById("sc-price-3").textContent = fmtMoney(price3);
        document.getElementById("sc-pay-3").textContent = fmtMoney(total3);
      }

      document.addEventListener("DOMContentLoaded", function () {
        document.body.dataset.mode = "lender";

        document
          .getElementById("mode-lender")
          .addEventListener("click", function () {
            document.body.dataset.mode = "lender";
            this.classList.add("bg-blue-600", "text-white", "border-blue-600");
            document
              .getElementById("mode-budget")
              .classList.remove("bg-blue-600", "text-white", "border-blue-600");
            document
              .getElementById("mode-budget")
              .classList.add("border-gray-300", "text-gray-700", "bg-white");
            document.getElementById("budget-row").classList.add("hidden");
            document.getElementById("mode-help").textContent =
              "Uses typical 28/36 DTI rules to estimate your maximum home price.";
            recalc();
          });

        document
          .getElementById("mode-budget")
          .addEventListener("click", function () {
            document.body.dataset.mode = "budget";
            this.classList.add("bg-blue-600", "text-white", "border-blue-600");
            document
              .getElementById("mode-lender")
              .classList.remove("bg-blue-600", "text-white", "border-blue-600");
            document
              .getElementById("mode-lender")
              .classList.add("border-gray-300", "text-gray-700", "bg-white");
            document.getElementById("budget-row").classList.remove("hidden");
            document.getElementById("mode-help").textContent =
              "Uses your custom monthly housing budget as the cap, regardless of DTI rules.";
            recalc();
          });

        document
          .getElementById("calc-btn")
          .addEventListener("click", function (e) {
            e.preventDefault();
            recalc();
          });

        [
          "income-monthly",
          "debts-monthly",
          "front-dti",
          "back-dti",
          "rate",
          "term",
          "tax-rate",
          "insurance-rate",
          "hoa",
          "pmi-rate",
          "budget-housing",
          "down-payment",
          "down-percent",
        ].forEach((id) => {
          const el = document.getElementById(id);
          if (!el) return;
          el.addEventListener("input", function () {
            if (id === "down-percent") {
              updateDownSync(true);
            } else if (id === "down-payment") {
              updateDownSync(false);
            }
            recalc();
          });
          el.addEventListener("change", recalc);
        });

        recalc();
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
