<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bollinger-bands" />
    <title>Bollinger Bands Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Bollinger Bands Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bollinger Bands Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Bollinger Bands Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/bollinger-bands" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bollinger Bands Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bollinger Bands Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Stocks, Options &amp; Trading", "item": "https://calcdomain.com/subcategories/finance-stocks-options-and-trading"}, {"@type": "ListItem", "position": 4, "name": "Bollinger Bands Calculator", "item": "https://calcdomain.com/bollinger-bands"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-stocks-options-and-trading" class="text-blue-600 hover:underline">Stocks, Options &amp;amp; Trading</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Bollinger Bands Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <section aria-labelledby="bb-calculator-heading">
              <div class="flex items-start justify-between gap-4 mb-4">
                <div>
                  <h1
                    id="bb-calculator-heading"
                    class="text-2xl font-bold mb-1"
                  >
                    Bollinger Bands Calculator
                  </h1>
                  <p class="text-gray-600 text-sm">
                    Compute upper and lower Bollinger Bands from your price
                    data, visualize them on a chart, and inspect detailed
                    signals.
                  </p>
                </div>
                <span
                  class="hidden sm:inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-50 text-blue-700 border border-blue-100"
                  >Trading &amp; Technical Analysis</span
                >
              </div>

              <!-- Calculator Controls -->
              <div class="grid lg:grid-cols-3 gap-6 mb-6">
                <!-- Left: Parameters -->
                <div class="lg:col-span-1 space-y-4">
                  <div>
                    <label
                      for="period"
                      class="block text-sm font-medium text-gray-700"
                      >Period (N)</label
                    >
                    <input
                      type="number"
                      id="period"
                      min="2"
                      value="20"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Typical default is 20 periods.
                    </p>
                  </div>

                  <div>
                    <label
                      for="stdDev"
                      class="block text-sm font-medium text-gray-700"
                      >Standard deviations (K)</label
                    >
                    <input
                      type="number"
                      id="stdDev"
                      min="0.1"
                      step="0.1"
                      value="2"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Common setting is 2.0.
                    </p>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700"
                      >Moving average type</label
                    >
                    <select
                      id="maType"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    >
                      <option value="sma">Simple Moving Average (SMA)</option>
                      <option value="ema">
                        Exponential Moving Average (EMA)
                      </option>
                    </select>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700"
                      >Price type</label
                    >
                    <select
                      id="priceType"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    >
                      <option value="close">Close (single price series)</option>
                      <option value="typical">Typical Price (H+L+C)/3</option>
                      <option value="weighted">
                        Weighted Close (H+L+2C)/4
                      </option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">
                      For Typical/Weighted, enter data as H,L,C per line.
                    </p>
                  </div>

                  <div>
                    <label class="block text-sm font-medium text-gray-700"
                      >Timeframe</label
                    >
                    <select
                      id="timeframe"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"
                    >
                      <option value="Daily">Daily</option>
                      <option value="Hourly">Hourly</option>
                      <option value="4H">4H</option>
                      <option value="Weekly">Weekly</option>
                      <option value="Custom">Custom</option>
                    </select>
                  </div>

                  <button
                    id="calculateBtn"
                    class="w-full inline-flex justify-center items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"
                  >
                    Calculate Bollinger Bands
                  </button>

                  <button
                    id="loadSampleBtn"
                    type="button"
                    class="w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
                  >
                    Load sample data
                  </button>

                  <p id="errorMsg" class="text-xs text-red-600 mt-1 hidden"></p>
                </div>

                <!-- Right: Data input & quick stats -->
                <div class="lg:col-span-2 space-y-4">
                  <div>
                    <label
                      for="priceInput"
                      class="block text-sm font-medium text-gray-700"
                      >Price data</label
                    >
                    <textarea
                      id="priceInput"
                      rows="8"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 text-xs font-mono"
                      placeholder="Enter one value per line for Close prices (e.g. 101.5).&#10;For Typical/Weighted price, enter: high,low,close (comma or space separated) per line."
                    ></textarea>
                    <p class="text-xs text-gray-500 mt-1">
                      Minimum: N data points. More data gives a smoother band.
                    </p>
                  </div>

                  <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-xs">
                    <div class="p-2 rounded border bg-gray-50">
                      <div class="text-gray-500">Last close</div>
                      <div
                        id="statLastClose"
                        class="font-semibold text-gray-900"
                      >
                        –
                      </div>
                    </div>
                    <div class="p-2 rounded border bg-gray-50">
                      <div class="text-gray-500">Last middle band</div>
                      <div id="statLastMid" class="font-semibold text-gray-900">
                        –
                      </div>
                    </div>
                    <div class="p-2 rounded border bg-gray-50">
                      <div class="text-gray-500">Last upper band</div>
                      <div
                        id="statLastUpper"
                        class="font-semibold text-gray-900"
                      >
                        –
                      </div>
                    </div>
                    <div class="p-2 rounded border bg-gray-50">
                      <div class="text-gray-500">Last lower band</div>
                      <div
                        id="statLastLower"
                        class="font-semibold text-gray-900"
                      >
                        –
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Chart -->
              <div class="mb-6">
                <h2 class="text-lg font-semibold mb-2">
                  Bollinger Bands Chart
                </h2>
                <p class="text-xs text-gray-500 mb-2">
                  Price, middle band, and upper/lower bands plotted over time.
                  Hover to inspect values.
                </p>
                <div class="bg-gray-50 border rounded-lg p-3">
                  <canvas
                    id="bbChart"
                    aria-label="Bollinger Bands chart"
                    role="img"
                  ></canvas>
                </div>
              </div>

              <!-- Table -->
              <div>
                <div class="flex items-center justify-between mb-2">
                  <h2 class="text-lg font-semibold">Detailed values</h2>
                  <button
                    id="downloadCsvBtn"
                    type="button"
                    class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"
                  >
                    Download CSV
                  </button>
                </div>
                <div class="table-scroll border rounded-lg">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-100 sticky top-0">
                      <tr>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Index
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Price
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Middle
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Upper
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Lower
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          Band width
                        </th>
                        <th
                          class="px-2 py-1 text-right font-semibold text-gray-700"
                        >
                          %B
                        </th>
                        <th
                          class="px-2 py-1 text-left font-semibold text-gray-700"
                        >
                          Signal
                        </th>
                      </tr>
                    </thead>
                    <tbody id="bbTableBody" class="divide-y divide-gray-100">
                      <!-- rows injected by JS -->
                    </tbody>
                  </table>
                </div>
              </div>
            </section>

            <section class="prose mt-8">
              <h2>What are Bollinger Bands?</h2>
              <p>
                Bollinger Bands are a popular technical analysis indicator
                created by John Bollinger. They consist of:
              </p>
              <ul>
                <li>
                  <strong>Middle band</strong>: a moving average of price
                  (usually a 20-period SMA).
                </li>
                <li>
                  <strong>Upper band</strong>: middle band plus K standard
                  deviations of price.
                </li>
                <li>
                  <strong>Lower band</strong>: middle band minus K standard
                  deviations of price.
                </li>
              </ul>
              <p>
                The bands expand when volatility increases and contract when
                volatility falls. Traders use them to identify relative high and
                low prices, volatility squeezes, and potential breakout or
                mean-reversion opportunities.
              </p>

              <h2>Formulas for Bollinger Bands</h2>
              <div class="formula-box text-sm">
                <p><strong>1. Moving average (middle band)</strong></p>
                <p>For a simple moving average (SMA) over \(N\) periods:</p>
                <p>\[ \text{SMA}_t = \frac{1}{N} \sum_{i=0}^{N-1} P_{t-i} \]</p>
                <p>For an exponential moving average (EMA):</p>
                <p>
                  \[ \alpha = \frac{2}{N+1}, \quad \text{EMA}_t = \alpha P_t +
                  (1-\alpha)\,\text{EMA}_{t-1} \]
                </p>

                <p class="mt-3">
                  <strong>2. Standard deviation of price</strong>
                </p>
                <p>
                  \[ \sigma_t = \sqrt{\frac{1}{N} \sum_{i=0}^{N-1} (P_{t-i} -
                  \text{MA}_t)^2} \]
                </p>

                <p class="mt-3"><strong>3. Upper and lower bands</strong></p>
                <p>\[ \text{Upper}_t = \text{MA}_t + K \cdot \sigma_t \]</p>
                <p>\[ \text{Lower}_t = \text{MA}_t - K \cdot \sigma_t \]</p>

                <p class="mt-3"><strong>4. Band width</strong></p>
                <p>
                  \[ \text{BandWidth}_t = \frac{\text{Upper}_t -
                  \text{Lower}_t}{\text{MA}_t} \]
                </p>

                <p class="mt-3"><strong>5. %B indicator</strong></p>
                <p>
                  \[ \%B_t = \frac{P_t - \text{Lower}_t}{\text{Upper}_t -
                  \text{Lower}_t} \]
                </p>
                <p>
                  Values near 0 mean price is near the lower band; values near 1
                  mean price is near the upper band.
                </p>
              </div>

              <h2>How to use this Bollinger Bands calculator</h2>
              <ol>
                <li>
                  <strong>Collect your price data.</strong> Export closing
                  prices from your broker or charting platform. For typical or
                  weighted price, export high, low, and close.
                </li>
                <li>
                  <strong>Paste the data.</strong> Enter one value per line for
                  Close, or <code>high,low,close</code> per line for
                  Typical/Weighted price.
                </li>
                <li>
                  <strong>Set period and deviations.</strong> 20 periods and 2
                  standard deviations are the classic settings used by John
                  Bollinger.
                </li>
                <li>
                  <strong>Choose SMA or EMA.</strong> SMA is standard; EMA
                  reacts faster to recent price changes.
                </li>
                <li>
                  <strong>Click “Calculate”.</strong> The tool computes the
                  middle, upper, and lower bands, band width, and %B for each
                  bar.
                </li>
                <li>
                  <strong>Study the chart and table.</strong> Look for touches
                  or breaks of the bands, squeezes (narrow bands), and
                  expansions (wide bands).
                </li>
              </ol>

              <h2>Interpreting Bollinger Bands in trading</h2>
              <h3>1. Relative highs and lows</h3>
              <ul>
                <li>
                  Price near the <strong>upper band</strong> = relatively high
                  vs. recent average.
                </li>
                <li>
                  Price near the <strong>lower band</strong> = relatively low
                  vs. recent average.
                </li>
                <li>
                  Price around the <strong>middle band</strong> = near its
                  recent mean.
                </li>
              </ul>
              <p>
                This does <em>not</em> automatically mean “sell at the upper
                band” or “buy at the lower band”. In strong trends, price can
                “walk the band” and stay near one side for a long time.
              </p>

              <h3>2. Bollinger Band squeeze</h3>
              <p>
                A <strong>squeeze</strong> occurs when band width becomes
                unusually small. It signals low volatility and often precedes a
                strong move. However, the bands do not predict the direction of
                the breakout.
              </p>
              <ul>
                <li>
                  Very low band width + breakout above upper band → possible
                  bullish continuation or reversal.
                </li>
                <li>
                  Very low band width + breakout below lower band → possible
                  bearish continuation or reversal.
                </li>
              </ul>

              <h3>3. Mean reversion vs. trend following</h3>
              <p>Traders use Bollinger Bands in two main ways:</p>
              <ul>
                <li>
                  <strong>Mean reversion</strong>: fade moves to the bands,
                  expecting price to revert toward the middle band.
                </li>
                <li>
                  <strong>Trend following</strong>: trade in the direction of
                  band breaks, especially after a squeeze.
                </li>
              </ul>
              <p>
                In practice, Bollinger Bands are usually combined with other
                tools (trend filters, volume, RSI, MACD, price action) to reduce
                false signals.
              </p>

              <h2>Best practices & common mistakes</h2>
              <ul>
                <li>
                  <strong>Be consistent with parameters.</strong> If you
                  backtest with 20, 2.0, don’t trade live with 10, 3.0.
                </li>
                <li>
                  <strong>Adjust to your timeframe.</strong> Intraday traders
                  may use shorter periods (e.g., 20 bars on a 5‑minute chart).
                </li>
                <li>
                  <strong>Don’t treat bands as hard support/resistance.</strong>
                  They are statistical envelopes, not guaranteed reversal zones.
                </li>
                <li>
                  <strong>Watch volatility regime changes.</strong> A transition
                  from wide to narrow bands (and vice versa) often marks a
                  change in market behavior.
                </li>
                <li>
                  <strong>Risk management first.</strong> Always define position
                  size, stop-loss, and maximum risk per trade.
                </li>
              </ul>

              <h2>FAQ</h2>
              <h3>What settings should I use for Bollinger Bands?</h3>
              <p>
                The classic settings are a 20-period simple moving average and 2
                standard deviations. Many traders start with these and only
                adjust after careful testing on their specific market and
                timeframe.
              </p>

              <h3>Can I use Bollinger Bands on crypto, forex, or stocks?</h3>
              <p>
                Yes. Bollinger Bands are price- and volatility-based, so they
                can be applied to any liquid market: stocks, ETFs, forex,
                crypto, commodities, and indices.
              </p>

              <h3>Are Bollinger Bands better with SMA or EMA?</h3>
              <p>
                SMA is the original choice and is more common. EMA reacts faster
                to recent price changes and may be preferred by short-term
                traders. This calculator lets you compare both.
              </p>

              <h3>
                Is this Bollinger Bands calculator suitable for backtesting?
              </h3>
              <p>
                It’s ideal for quick analysis and strategy prototyping. For
                full-scale backtesting on thousands of bars, you’ll usually
                export data and implement your rules in a dedicated backtesting
                platform, but you can still use this tool to verify formulas and
                spot-check signals.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bollinger, Bands.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More investment calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/portfolio-standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Portfolio Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sharpe-ratio"
                  class="text-blue-600 hover:underline"
                  >Sharpe Ratio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/value-at-risk"
                  class="text-blue-600 hover:underline"
                  >Value at Risk (VaR)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/macd"
                  class="text-blue-600 hover:underline"
                  >MACD Indicator Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rsi"
                  class="text-blue-600 hover:underline"
                  >Relative Strength Index (RSI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/asset-allocation"
                  class="text-blue-600 hover:underline"
                  >Asset Allocation Planner</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Tips for using this tool</h2>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>
                Use at least 2–3× the period length in data (e.g., 60+ bars for
                a 20‑period band).
              </li>
              <li>
                Try both Close and Typical Price to see how it affects the
                bands.
              </li>
              <li>
                Export the CSV and compare with your broker’s platform to
                validate signals.
              </li>
              <li>
                Combine Bollinger Bands with volume and trend filters for more
                robust strategies.
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
      // Utility: parse price input
      function parsePriceInput(priceType) {
        const raw = document.getElementById("priceInput").value.trim();
        if (!raw) return [];

        const lines = raw
          .split(/[\r\n]+/)
          .map((l) => l.trim())
          .filter(Boolean);
        const prices = [];

        for (const line of lines) {
          if (priceType === "close") {
            const num = parseFloat(line.replace(",", "."));
            if (!isNaN(num)) prices.push(num);
          } else {
            // Expect high,low,close
            const parts = line
              .split(/[\s,;]+/)
              .map((p) => p.trim())
              .filter(Boolean);
            if (parts.length < 3) continue;
            const h = parseFloat(parts[0].replace(",", "."));
            const l = parseFloat(parts[1].replace(",", "."));
            const c = parseFloat(parts[2].replace(",", "."));
            if ([h, l, c].some((v) => isNaN(v))) continue;
            if (priceType === "typical") {
              prices.push((h + l + c) / 3);
            } else {
              prices.push((h + l + 2 * c) / 4);
            }
          }
        }
        return prices;
      }

      function sma(values, period) {
        const result = new Array(values.length).fill(null);
        let sum = 0;
        for (let i = 0; i < values.length; i++) {
          sum += values[i];
          if (i >= period) sum -= values[i - period];
          if (i >= period - 1) {
            result[i] = sum / period;
          }
        }
        return result;
      }

      function ema(values, period) {
        const result = new Array(values.length).fill(null);
        const alpha = 2 / (period + 1);
        let prev = null;
        for (let i = 0; i < values.length; i++) {
          if (i === 0) {
            prev = values[i];
          } else {
            prev = alpha * values[i] + (1 - alpha) * prev;
          }
          if (i >= period - 1) {
            result[i] = prev;
          }
        }
        return result;
      }

      function rollingStd(values, ma, period) {
        const result = new Array(values.length).fill(null);
        for (let i = period - 1; i < values.length; i++) {
          const mean = ma[i];
          let sumSq = 0;
          for (let j = i - period + 1; j <= i; j++) {
            const diff = values[j] - mean;
            sumSq += diff * diff;
          }
          result[i] = Math.sqrt(sumSq / period);
        }
        return result;
      }

      let chartInstance = null;

      function updateChart(labels, prices, mid, upper, lower) {
        const ctx = document.getElementById("bbChart").getContext("2d");
        const dataLabels = labels.map((_, idx) => idx + 1);

        if (chartInstance) {
          chartInstance.destroy();
        }

        chartInstance = new Chart(ctx, {
          type: "line",
          data: {
            labels: dataLabels,
            datasets: [
              {
                label: "Price",
                data: prices,
                borderColor: "#111827",
                backgroundColor: "rgba(17,24,39,0.05)",
                tension: 0.2,
                pointRadius: 0,
                borderWidth: 1.5,
              },
              {
                label: "Middle band",
                data: mid,
                borderColor: "#2563eb",
                backgroundColor: "transparent",
                tension: 0.2,
                pointRadius: 0,
                borderWidth: 1.5,
              },
              {
                label: "Upper band",
                data: upper,
                borderColor: "#16a34a",
                backgroundColor: "transparent",
                tension: 0.2,
                pointRadius: 0,
                borderWidth: 1,
              },
              {
                label: "Lower band",
                data: lower,
                borderColor: "#dc2626",
                backgroundColor: "transparent",
                tension: 0.2,
                pointRadius: 0,
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
              mode: "index",
              intersect: false,
            },
            plugins: {
              legend: {
                position: "top",
                labels: { boxWidth: 12, usePointStyle: true },
              },
              tooltip: {
                callbacks: {
                  title: (items) => "Bar " + items[0].label,
                },
              },
            },
            scales: {
              x: {
                display: true,
                title: { display: true, text: "Bar index" },
                ticks: { maxTicksLimit: 10 },
              },
              y: {
                display: true,
                title: { display: true, text: "Price" },
              },
            },
          },
        });
      }

      function formatNumber(num, decimals = 4) {
        if (num === null || num === undefined || isNaN(num)) return "–";
        return Number(num).toFixed(decimals);
      }

      function detectSignal(price, upper, lower) {
        if (upper == null || lower == null) return "";
        if (price > upper) return "Close above upper band";
        if (price < lower) return "Close below lower band";
        if (price === upper) return "Touch upper band";
        if (price === lower) return "Touch lower band";
        return "";
      }

      function calculateBollinger() {
        const period = parseInt(document.getElementById("period").value, 10);
        const stdDevMult = parseFloat(document.getElementById("stdDev").value);
        const maType = document.getElementById("maType").value;
        const priceType = document.getElementById("priceType").value;
        const errorEl = document.getElementById("errorMsg");
        errorEl.classList.add("hidden");
        errorEl.textContent = "";

        if (!period || period < 2) {
          errorEl.textContent = "Period must be at least 2.";
          errorEl.classList.remove("hidden");
          return;
        }

        const prices = parsePriceInput(priceType);
        if (prices.length < period) {
          errorEl.textContent = `You need at least ${period} valid data points. Found ${prices.length}.`;
          errorEl.classList.remove("hidden");
          return;
        }

        const ma = maType === "sma" ? sma(prices, period) : ema(prices, period);
        const std = rollingStd(prices, ma, period);

        const upper = prices.map((_, i) =>
          ma[i] != null && std[i] != null ? ma[i] + stdDevMult * std[i] : null
        );
        const lower = prices.map((_, i) =>
          ma[i] != null && std[i] != null ? ma[i] - stdDevMult * std[i] : null
        );

        const bandwidth = prices.map((_, i) => {
          if (
            ma[i] == null ||
            upper[i] == null ||
            lower[i] == null ||
            ma[i] === 0
          )
            return null;
          return (upper[i] - lower[i]) / ma[i];
        });

        const pctB = prices.map((p, i) => {
          if (upper[i] == null || lower[i] == null || upper[i] === lower[i])
            return null;
          return (p - lower[i]) / (upper[i] - lower[i]);
        });

        // Update stats
        const lastIdx = prices.length - 1;
        document.getElementById("statLastClose").textContent = formatNumber(
          prices[lastIdx],
          4
        );
        document.getElementById("statLastMid").textContent = formatNumber(
          ma[lastIdx],
          4
        );
        document.getElementById("statLastUpper").textContent = formatNumber(
          upper[lastIdx],
          4
        );
        document.getElementById("statLastLower").textContent = formatNumber(
          lower[lastIdx],
          4
        );

        // Update table
        const tbody = document.getElementById("bbTableBody");
        tbody.innerHTML = "";
        for (let i = 0; i < prices.length; i++) {
          const tr = document.createElement("tr");
          const signal = detectSignal(prices[i], upper[i], lower[i]);
          const pctBVal = pctB[i] != null ? pctB[i] * 100 : null;

          tr.innerHTML = `
        <td class="px-2 py-1 text-gray-600">${i + 1}</td>
        <td class="px-2 py-1 text-right">${formatNumber(prices[i], 4)}</td>
        <td class="px-2 py-1 text-right">${formatNumber(ma[i], 4)}</td>
        <td class="px-2 py-1 text-right">${formatNumber(upper[i], 4)}</td>
        <td class="px-2 py-1 text-right">${formatNumber(lower[i], 4)}</td>
        <td class="px-2 py-1 text-right">${formatNumber(bandwidth[i], 4)}</td>
        <td class="px-2 py-1 text-right">${
          pctBVal == null ? "–" : pctBVal.toFixed(2)
        }</td>
        <td class="px-2 py-1 text-left">
          ${
            signal
              ? `<span class="badge ${
                  signal.includes("above")
                    ? "bg-green-100 text-green-700"
                    : "bg-red-100 text-red-700"
                }">${signal}</span>`
              : ""
          }
        </td>
      `;
          tbody.appendChild(tr);
        }

        // Update chart
        updateChart(prices, prices, ma, upper, lower);

        // Store for CSV export
        window.__bbData = { prices, ma, upper, lower, bandwidth, pctB };
      }

      function downloadCsv() {
        const data = window.__bbData;
        if (!data || !data.prices || data.prices.length === 0) return;

        const { prices, ma, upper, lower, bandwidth, pctB } = data;
        let csv = "Index,Price,Middle,Upper,Lower,BandWidth,PercentB\n";
        for (let i = 0; i < prices.length; i++) {
          const row = [
            i + 1,
            prices[i],
            ma[i] != null ? ma[i] : "",
            upper[i] != null ? upper[i] : "",
            lower[i] != null ? lower[i] : "",
            bandwidth[i] != null ? bandwidth[i] : "",
            pctB[i] != null ? pctB[i] : "",
          ];
          csv += row.join(",") + "\n";
        }

        const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "bollinger-bands.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      function loadSampleData() {
        // Simple synthetic uptrend with noise
        const values = [];
        let price = 100;
        for (let i = 0; i < 60; i++) {
          const noise = (Math.random() - 0.5) * 2;
          price += 0.3 + noise;
          values.push(price.toFixed(2));
        }
        document.getElementById("priceInput").value = values.join("\n");
      }

      document
        .getElementById("calculateBtn")
        .addEventListener("click", calculateBollinger);
      document
        .getElementById("downloadCsvBtn")
        .addEventListener("click", downloadCsv);
      document.getElementById("loadSampleBtn").addEventListener("click", () => {
        loadSampleData();
        calculateBollinger();
      });

      // Initialize with sample data on first load
      window.addEventListener("DOMContentLoaded", () => {
        loadSampleData();
        calculateBollinger();
      });

      // Mobile menu script (minimal, matches site behavior)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          const expanded = this.getAttribute("aria-expanded") === "true";
          this.setAttribute("aria-expanded", String(!expanded));
          menu.classList.toggle("hidden");
        });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
