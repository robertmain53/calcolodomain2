<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/uml-diagram-generator" />
    <title>Uml Diagram Generator Calculator: [Urgent 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Uml Diagram Generator Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Uml Diagram Generator Calculator: [Urgent 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Uml Diagram Generator Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/uml-diagram-generator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Uml Diagram Generator Calculator: [Urgent 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Uml Diagram Generator Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "UML Diagram Generator", "item": "https://calcdomain.com/uml-diagram-generator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">UML Diagram Generator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                UML Diagram Generator
              </h1>
              <p class="text-gray-600">
                Generate UML class, sequence, use case, and state diagrams from
                simple text. Perfect for quick architecture sketches,
                documentation, and teaching.
              </p>
            </header>

            <!-- Tool UI -->
            <section aria-label="UML Diagram Generator" class="mb-8">
              <div class="flex flex-col md:flex-row md:items-center gap-3 mb-4">
                <div class="flex-1 flex flex-wrap gap-3 items-center">
                  <label
                    class="text-sm font-medium text-gray-700"
                    for="diagram-type"
                    >Diagram type</label
                  >
                  <select
                    id="diagram-type"
                    class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="class">Class diagram</option>
                    <option value="sequence">Sequence diagram</option>
                    <option value="usecase">Use case diagram</option>
                    <option value="state">State diagram</option>
                  </select>

                  <label
                    class="text-sm font-medium text-gray-700"
                    for="layout-direction"
                    >Layout</label
                  >
                  <select
                    id="layout-direction"
                    class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="lr">Left → Right</option>
                    <option value="tb">Top → Bottom</option>
                  </select>
                </div>
                <div class="flex flex-wrap gap-2">
                  <button
                    id="btn-example-class"
                    type="button"
                    class="text-xs md:text-sm px-3 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50"
                  >
                    Class example
                  </button>
                  <button
                    id="btn-example-sequence"
                    type="button"
                    class="text-xs md:text-sm px-3 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50"
                  >
                    Sequence example
                  </button>
                  <button
                    id="btn-clear"
                    type="button"
                    class="text-xs md:text-sm px-3 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50"
                  >
                    Clear
                  </button>
                </div>
              </div>

              <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-3">
                <div>
                  <div class="flex items-center justify-between mb-1">
                    <label
                      for="uml-input"
                      class="text-sm font-medium text-gray-700"
                      >UML description</label
                    >
                    <span class="text-xs text-gray-500"
                      >Supports a simple PlantUML-like syntax</span
                    >
                  </div>
                  <textarea
                    id="uml-input"
                    rows="14"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm font-mono resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"
                    spellcheck="false"
                  ></textarea>
                  <p
                    id="uml-error"
                    class="mt-1 text-xs text-red-600 hidden"
                  ></p>
                </div>

                <div class="flex flex-col">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-sm font-medium text-gray-700"
                      >Diagram preview</span
                    >
                    <div class="flex gap-2">
                      <button
                        id="btn-zoom-out"
                        type="button"
                        class="px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50"
                      >
                        −
                      </button>
                      <button
                        id="btn-zoom-reset"
                        type="button"
                        class="px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50"
                      >
                        100%
                      </button>
                      <button
                        id="btn-zoom-in"
                        type="button"
                        class="px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50"
                      >
                        +
                      </button>
                    </div>
                  </div>
                  <div
                    id="uml-canvas-wrapper"
                    class="relative flex-1 min-h-[260px] border border-gray-200 rounded-md overflow-hidden bg-white"
                  >
                    <div
                      id="uml-canvas"
                      class="w-full h-full overflow-auto uml-grid"
                    >
                      <svg
                        id="uml-svg"
                        xmlns="http://www.w3.org/2000/svg"
                        class="w-full h-full"
                      >
                        <defs>
                          <marker
                            id="arrowhead"
                            markerWidth="10"
                            markerHeight="7"
                            refX="10"
                            refY="3.5"
                            orient="auto"
                          >
                            <polygon points="0 0, 10 3.5, 0 7" fill="#4b5563" />
                          </marker>
                        </defs>
                      </svg>
                    </div>
                    <div
                      id="uml-empty-state"
                      class="absolute inset-0 flex items-center justify-center pointer-events-none"
                    >
                      <p class="text-xs text-gray-400 text-center px-4">
                        Type a UML description on the left and click “Render
                        diagram” to see it here.
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="flex flex-wrap items-center justify-between gap-3 mt-3"
              >
                <div class="flex gap-2">
                  <button
                    id="btn-render"
                    type="button"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    Render diagram
                  </button>
                  <button
                    id="btn-copy-text"
                    type="button"
                    class="inline-flex items-center px-3 py-2 border border-gray-300 text-sm rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Copy text
                  </button>
                </div>
                <div class="flex gap-2">
                  <button
                    id="btn-export-png"
                    type="button"
                    class="inline-flex items-center px-3 py-2 border border-gray-300 text-sm rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Export PNG
                  </button>
                  <button
                    id="btn-export-svg"
                    type="button"
                    class="inline-flex items-center px-3 py-2 border border-gray-300 text-sm rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Export SVG
                  </button>
                </div>
              </div>
            </section>

            <!-- How it works & syntax -->
            <section class="prose text-sm md:text-base">
              <h2>How to use this UML diagram generator</h2>
              <p>
                This tool is designed for fast, lightweight UML diagrams.
                Instead of dragging shapes around, you describe your model in
                text and the generator lays it out automatically.
              </p>

              <h3>1. Choose a diagram type</h3>
              <p>
                Use the <strong>Diagram type</strong> dropdown to switch
                between:
              </p>
              <ul>
                <li>
                  <strong>Class diagram</strong> – classes, attributes, methods,
                  and relationships.
                </li>
                <li>
                  <strong>Sequence diagram</strong> – participants and messages
                  over time.
                </li>
                <li>
                  <strong>Use case diagram</strong> – actors and use cases.
                </li>
                <li>
                  <strong>State diagram</strong> – states and transitions.
                </li>
              </ul>

              <h3>2. Describe your diagram in text</h3>
              <p>
                Paste or type your description in the editor. The syntax is
                intentionally simple and inspired by PlantUML and yUML, but more
                forgiving.
              </p>

              <h3>Class diagram syntax</h3>
              <div class="formula-box text-sm">
                <pre><code># Classes
class User {
  +id: int
  +name: string
  +login()
}

class Order {
  +id: int
  +total: decimal
}

# Relationships
User -> Order : places
Order --> User : belongs to
User --|&gt; Admin
</code></pre>
              </div>
              <ul>
                <li><code>class Name { ... }</code> defines a class.</li>
                <li>
                  Inside braces, each line is an <em>attribute</em> or
                  <em>method</em>.
                </li>
                <li>
                  Use <code>ClassA -&gt; ClassB : label</code> for associations,
                  <code>--|&gt;</code> for inheritance.
                </li>
              </ul>

              <h3>Sequence diagram syntax</h3>
              <div class="formula-box text-sm">
                <pre><code># Participants
participant User
participant API
participant DB

# Messages
User -&gt; API : login(email, password)
API -&gt; DB : query user
DB --&gt; API : user found
API --&gt; User : login success
</code></pre>
              </div>

              <h3>Use case diagram syntax</h3>
              <div class="formula-box text-sm">
                <pre><code>actor Customer
actor Admin

usecase "Place Order"
usecase "Manage Products"

Customer -&gt; "Place Order"
Admin -&gt; "Manage Products"
</code></pre>
              </div>

              <h3>State diagram syntax</h3>
              <div class="formula-box text-sm">
                <pre><code>state Idle
state Loading
state Error
state Success

Idle -&gt; Loading : fetch()
Loading -&gt; Success : ok
Loading -&gt; Error : fail
Error -&gt; Idle : retry()
</code></pre>
              </div>

              <h3>3. Render, adjust, and export</h3>
              <ol>
                <li>
                  Click <strong>Render diagram</strong> to update the preview.
                </li>
                <li>
                  Use the <strong>Layout</strong> dropdown and zoom controls to
                  adjust the view.
                </li>
                <li>
                  Export as <strong>PNG</strong> or <strong>SVG</strong> for
                  documentation, wikis, or slide decks.
                </li>
              </ol>

              <h2>Why use a text-based UML generator?</h2>
              <p>
                Compared with heavy visual tools like draw.io, Lucidchart, or
                SmartDraw, a text-based UML generator is:
              </p>
              <ul>
                <li>
                  <strong>Faster for iteration</strong> – edit a few lines
                  instead of dragging dozens of boxes.
                </li>
                <li>
                  <strong>Version-control friendly</strong> – store the source
                  text in Git alongside your code.
                </li>
                <li>
                  <strong>Consistent</strong> – automatic layout avoids
                  misaligned shapes and overlapping arrows.
                </li>
                <li>
                  <strong>Lightweight</strong> – runs entirely in the browser,
                  no login or account required.
                </li>
              </ul>

              <h2>Tips for clean UML diagrams</h2>
              <ul>
                <li>
                  <strong>Keep names short and meaningful</strong> – e.g.
                  <code>OrderService</code> instead of
                  <code>ServiceForHandlingOrders</code>.
                </li>
                <li>
                  <strong>Group related elements</strong> together in the text;
                  the layout engine will usually place them near each other.
                </li>
                <li>
                  <strong>Limit relationships</strong> – too many arrows can
                  make diagrams hard to read. Focus on the most important ones.
                </li>
                <li>
                  <strong>Use multiple diagrams</strong> – one class diagram per
                  bounded context is often clearer than a single huge diagram.
                </li>
              </ul>

              <h2>Frequently asked questions</h2>
              <h3>Does this support full PlantUML syntax?</h3>
              <p>
                No. This generator intentionally supports a
                <strong>subset</strong> of PlantUML-like syntax that covers the
                most common UML needs (classes, relationships, participants,
                messages, states). If a line is not recognized, it will be
                ignored or flagged in the error panel.
              </p>

              <h3>Can I use this for professional documentation?</h3>
              <p>
                Yes. The output SVG and PNG files are suitable for architecture
                docs, ADRs, wikis, and slide decks. For very large enterprise
                diagrams you may still prefer a dedicated modeling tool, but for
                most day‑to‑day diagrams this generator is more than enough.
              </p>

              <h3>Is there a limit on diagram size?</h3>
              <p>
                There is no hard limit, but very large diagrams with hundreds of
                nodes may become slow to render in the browser. In that case,
                consider splitting the model into several smaller diagrams.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Uml, Diagram, Generator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/regex-tester"
                  class="text-blue-600 hover:underline"
                  >Regular Expression (regex) tester</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/url-encoder-decoder"
                  class="text-blue-600 hover:underline"
                  >URL encoder/decoder</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/api-latency"
                  class="text-blue-600 hover:underline"
                  >API latency &amp; throughput</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/caching-strategy"
                  class="text-blue-600 hover:underline"
                  >Caching strategy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/function-point"
                  class="text-blue-600 hover:underline"
                  >Function point analysis</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cyclomatic-complexity"
                  class="text-blue-600 hover:underline"
                  >Cyclomatic complexity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/a-search-calculator"
                  class="text-blue-600 hover:underline"
                  >A* search algorithm</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/uml-diagram-generator"
                  class="text-blue-600 hover:underline font-semibold"
                  >UML diagram generator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Category</h2>
            <p class="text-sm text-gray-700 mb-2">
              <a
                href="https://calcdomain.com/categories/engineering"
                class="text-blue-600 hover:underline"
                >Engineering</a
              >
            </p>
            <p class="text-xs text-gray-500">
              Explore calculators for structural design, mechanical systems,
              electrical engineering, and software architecture.
            </p>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Basic UML parser & renderer (client-side only, no external services)

      const inputEl = document.getElementById("uml-input");
      const errorEl = document.getElementById("uml-error");
      const svgEl = document.getElementById("uml-svg");
      const emptyStateEl = document.getElementById("uml-empty-state");
      const diagramTypeEl = document.getElementById("diagram-type");
      const layoutDirEl = document.getElementById("layout-direction");

      const btnRender = document.getElementById("btn-render");
      const btnExampleClass = document.getElementById("btn-example-class");
      const btnExampleSequence = document.getElementById(
        "btn-example-sequence"
      );
      const btnClear = document.getElementById("btn-clear");
      const btnCopyText = document.getElementById("btn-copy-text");
      const btnExportPNG = document.getElementById("btn-export-png");
      const btnExportSVG = document.getElementById("btn-export-svg");

      const btnZoomIn = document.getElementById("btn-zoom-in");
      const btnZoomOut = document.getElementById("btn-zoom-out");
      const btnZoomReset = document.getElementById("btn-zoom-reset");
      const canvasEl = document.getElementById("uml-canvas");

      let currentScale = 1;

      function setZoom(scale) {
        currentScale = Math.min(3, Math.max(0.3, scale));
        svgEl.style.transformOrigin = "0 0";
        svgEl.style.transform = "scale(" + currentScale + ")";
        btnZoomReset.textContent = Math.round(currentScale * 100) + "%";
      }

      btnZoomIn.addEventListener("click", () => setZoom(currentScale * 1.2));
      btnZoomOut.addEventListener("click", () => setZoom(currentScale / 1.2));
      btnZoomReset.addEventListener("click", () => setZoom(1));

      function clearSvg() {
        while (svgEl.firstChild) {
          svgEl.removeChild(svgEl.firstChild);
        }
        const defs = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "defs"
        );
        const marker = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "marker"
        );
        marker.setAttribute("id", "arrowhead");
        marker.setAttribute("markerWidth", "10");
        marker.setAttribute("markerHeight", "7");
        marker.setAttribute("refX", "10");
        marker.setAttribute("refY", "3.5");
        marker.setAttribute("orient", "auto");
        const poly = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "polygon"
        );
        poly.setAttribute("points", "0 0, 10 3.5, 0 7");
        poly.setAttribute("fill", "#4b5563");
        marker.appendChild(poly);
        defs.appendChild(marker);
        svgEl.appendChild(defs);
      }

      function showError(msg) {
        if (!msg) {
          errorEl.textContent = "";
          errorEl.classList.add("hidden");
        } else {
          errorEl.textContent = msg;
          errorEl.classList.remove("hidden");
        }
      }

      function parseLines() {
        const raw = inputEl.value.split("\n");
        return raw
          .map((l) => l.trim())
          .filter(
            (l) => l.length > 0 && !l.startsWith("//") && !l.startsWith("#")
          );
      }

      // Simple layout helpers
      function layoutLinear(nodes, direction) {
        const spacingX = 200;
        const spacingY = 120;
        nodes.forEach((n, i) => {
          if (direction === "lr") {
            n.x = 40 + i * spacingX;
            n.y = 60;
          } else {
            n.x = 60;
            n.y = 40 + i * spacingY;
          }
        });
      }

      function layoutGrid(nodes) {
        const cols = Math.ceil(Math.sqrt(nodes.length));
        const spacingX = 220;
        const spacingY = 140;
        nodes.forEach((n, i) => {
          const col = i % cols;
          const row = Math.floor(i / cols);
          n.x = 40 + col * spacingX;
          n.y = 60 + row * spacingY;
        });
      }

      // Class diagram parsing
      function parseClassDiagram(lines) {
        const classes = {};
        const relations = [];

        let currentClass = null;

        lines.forEach((line) => {
          if (line.startsWith("class ")) {
            const match = line.match(/^class\s+([A-Za-z0-9_]+)\s*(\{)?/);
            if (match) {
              currentClass = match[1];
              if (!classes[currentClass]) {
                classes[currentClass] = { name: currentClass, members: [] };
              }
            }
            return;
          }
          if (line === "}") {
            currentClass = null;
            return;
          }
          // relationship: A -> B : label
          const relMatch = line.match(
            /^([A-Za-z0-9_"]+)\s*([\-\.]+[|]?>)\s*([A-Za-z0-9_"]+)\s*(?::\s*(.+))?$/
          );
          if (relMatch) {
            const from = relMatch[1].replace(/"/g, "");
            const arrow = relMatch[2];
            const to = relMatch[3].replace(/"/g, "");
            const label = relMatch[4] || "";
            relations.push({ from, to, arrow, label });
            if (!classes[from]) classes[from] = { name: from, members: [] };
            if (!classes[to]) classes[to] = { name: to, members: [] };
            return;
          }
          // member inside class
          if (currentClass) {
            classes[currentClass].members.push(line);
          }
        });

        return { classes: Object.values(classes), relations };
      }

      function renderClassDiagram() {
        const lines = parseLines();
        const { classes, relations } = parseClassDiagram(lines);
        if (classes.length === 0) {
          showError(
            'No classes or relationships found. Start with "class User { ... }" or "A -> B : relation".'
          );
          return;
        }
        showError("");
        clearSvg();
        emptyStateEl.classList.add("hidden");

        const direction = layoutDirEl.value;
        layoutGrid(classes);

        // draw classes
        const nodeMap = {};
        classes.forEach((cls) => {
          const group = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "g"
          );
          group.classList.add("uml-node");

          const width = 160;
          const headerHeight = 26;
          const memberHeight = Math.max(26, cls.members.length * 18 + 10);
          const totalHeight = headerHeight + memberHeight;

          const rect = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "rect"
          );
          rect.setAttribute("x", cls.x);
          rect.setAttribute("y", cls.y);
          rect.setAttribute("width", width);
          rect.setAttribute("height", totalHeight);
          rect.setAttribute("rx", 6);
          rect.setAttribute("ry", 6);
          rect.setAttribute("fill", "#ffffff");
          rect.setAttribute("stroke", "#4b5563");
          rect.setAttribute("stroke-width", "1.2");
          group.appendChild(rect);

          const line = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          line.setAttribute("x1", cls.x);
          line.setAttribute("y1", cls.y + headerHeight);
          line.setAttribute("x2", cls.x + width);
          line.setAttribute("y2", cls.y + headerHeight);
          line.setAttribute("stroke", "#e5e7eb");
          group.appendChild(line);

          const title = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          title.setAttribute("x", cls.x + width / 2);
          title.setAttribute("y", cls.y + 17);
          title.setAttribute("text-anchor", "middle");
          title.setAttribute("font-size", "12");
          title.setAttribute("font-weight", "600");
          title.textContent = cls.name;
          group.appendChild(title);

          cls.members.forEach((m, idx) => {
            const t = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "text"
            );
            t.setAttribute("x", cls.x + 6);
            t.setAttribute("y", cls.y + headerHeight + 16 + idx * 16);
            t.setAttribute("font-size", "11");
            t.textContent = m;
            group.appendChild(t);
          });

          svgEl.appendChild(group);
          nodeMap[cls.name] = { x: cls.x, y: cls.y, w: width, h: totalHeight };
        });

        // draw relations
        relations.forEach((rel) => {
          const from = nodeMap[rel.from];
          const to = nodeMap[rel.to];
          if (!from || !to) return;

          const fromX = from.x + from.w;
          const fromY = from.y + from.h / 2;
          const toX = to.x;
          const toY = to.y + to.h / 2;

          const path = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          path.setAttribute("x1", fromX);
          path.setAttribute("y1", fromY);
          path.setAttribute("x2", toX);
          path.setAttribute("y2", toY);
          path.setAttribute("class", "uml-connector");
          svgEl.appendChild(path);

          if (rel.label) {
            const label = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "text"
            );
            label.setAttribute("x", (fromX + toX) / 2);
            label.setAttribute("y", (fromY + toY) / 2 - 4);
            label.setAttribute("font-size", "11");
            label.setAttribute("text-anchor", "middle");
            label.textContent = rel.label;
            svgEl.appendChild(label);
          }
        });

        // adjust viewBox
        const bbox = svgEl.getBBox();
        svgEl.setAttribute(
          "viewBox",
          `${bbox.x - 20} ${bbox.y - 20} ${bbox.width + 40} ${bbox.height + 40}`
        );
        setZoom(currentScale);
      }

      // Sequence diagram parsing & rendering
      function parseSequenceDiagram(lines) {
        const participants = [];
        const messages = [];

        lines.forEach((line) => {
          if (line.startsWith("participant ")) {
            const name = line.replace("participant", "").trim();
            if (name && !participants.includes(name)) participants.push(name);
            return;
          }
          const msgMatch = line.match(
            /^([A-Za-z0-9_"]+)\s*([\-\.]+>)\s*([A-Za-z0-9_"]+)\s*:\s*(.+)$/
          );
          if (msgMatch) {
            const from = msgMatch[1].replace(/"/g, "");
            const to = msgMatch[3].replace(/"/g, "");
            const label = msgMatch[4];
            if (!participants.includes(from)) participants.push(from);
            if (!participants.includes(to)) participants.push(to);
            messages.push({ from, to, label });
          }
        });

        return { participants, messages };
      }

      function renderSequenceDiagram() {
        const lines = parseLines();
        const { participants, messages } = parseSequenceDiagram(lines);
        if (participants.length === 0 || messages.length === 0) {
          showError(
            'No participants or messages found. Use "participant User" and "User -> API : call()".'
          );
          return;
        }
        showError("");
        clearSvg();
        emptyStateEl.classList.add("hidden");

        const spacingX = 160;
        const lifelineTop = 40;
        const lifelineBottom = 260;

        const positions = {};
        participants.forEach((p, idx) => {
          const x = 60 + idx * spacingX;
          positions[p] = x;

          const rect = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "rect"
          );
          rect.setAttribute("x", x - 40);
          rect.setAttribute("y", 10);
          rect.setAttribute("width", 80);
          rect.setAttribute("height", 24);
          rect.setAttribute("rx", 6);
          rect.setAttribute("ry", 6);
          rect.setAttribute("fill", "#ffffff");
          rect.setAttribute("stroke", "#4b5563");
          rect.setAttribute("stroke-width", "1.2");
          svgEl.appendChild(rect);

          const text = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          text.setAttribute("x", x);
          text.setAttribute("y", 26);
          text.setAttribute("font-size", "12");
          text.setAttribute("font-weight", "600");
          text.setAttribute("text-anchor", "middle");
          text.textContent = p;
          svgEl.appendChild(text);

          const line = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          line.setAttribute("x1", x);
          line.setAttribute("y1", lifelineTop);
          line.setAttribute("x2", x);
          line.setAttribute("y2", lifelineBottom);
          line.setAttribute("stroke", "#9ca3af");
          line.setAttribute("stroke-dasharray", "4 4");
          svgEl.appendChild(line);
        });

        messages.forEach((m, idx) => {
          const fromX = positions[m.from];
          const toX = positions[m.to];
          if (fromX == null || toX == null) return;
          const y = lifelineTop + 30 + idx * 40;

          const line = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          line.setAttribute("x1", fromX);
          line.setAttribute("y1", y);
          line.setAttribute("x2", toX);
          line.setAttribute("y2", y);
          line.setAttribute("class", "uml-connector");
          svgEl.appendChild(line);

          const label = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          label.setAttribute("x", (fromX + toX) / 2);
          label.setAttribute("y", y - 6);
          label.setAttribute("font-size", "11");
          label.setAttribute("text-anchor", "middle");
          label.textContent = m.label;
          svgEl.appendChild(label);
        });

        const bbox = svgEl.getBBox();
        svgEl.setAttribute(
          "viewBox",
          `${bbox.x - 20} ${bbox.y - 20} ${bbox.width + 40} ${bbox.height + 40}`
        );
        setZoom(currentScale);
      }

      // Use case diagram parsing & rendering
      function parseUseCaseDiagram(lines) {
        const actors = [];
        const usecases = [];
        const links = [];

        lines.forEach((line) => {
          if (line.startsWith("actor ")) {
            const name = line.replace("actor", "").trim().replace(/"/g, "");
            if (name && !actors.includes(name)) actors.push(name);
            return;
          }
          if (line.startsWith("usecase ")) {
            const name = line
              .replace("usecase", "")
              .trim()
              .replace(/^"|"$/g, "");
            if (name && !usecases.includes(name)) usecases.push(name);
            return;
          }
          const linkMatch = line.match(
            /^([A-Za-z0-9_"]+)\s*-\>\s*(".*"|[A-Za-z0-9_]+)$/
          );
          if (linkMatch) {
            const from = linkMatch[1].replace(/"/g, "");
            const to = linkMatch[2].replace(/"/g, "");
            links.push({ from, to });
            if (!actors.includes(from) && !usecases.includes(from))
              actors.push(from);
            if (!actors.includes(to) && !usecases.includes(to))
              usecases.push(to);
          }
        });

        return { actors, usecases, links };
      }

      function renderUseCaseDiagram() {
        const lines = parseLines();
        const { actors, usecases, links } = parseUseCaseDiagram(lines);
        if (actors.length === 0 || usecases.length === 0) {
          showError(
            'No actors or use cases found. Use "actor User" and \'usecase "Place Order"\'.'
          );
          return;
        }
        showError("");
        clearSvg();
        emptyStateEl.classList.add("hidden");

        const positions = {};

        actors.forEach((a, idx) => {
          const x = 80;
          const y = 60 + idx * 120;
          positions[a] = { x, y };

          const head = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "circle"
          );
          head.setAttribute("cx", x);
          head.setAttribute("cy", y - 20);
          head.setAttribute("r", 10);
          head.setAttribute("fill", "#ffffff");
          head.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(head);

          const body = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          body.setAttribute("x1", x);
          body.setAttribute("y1", y - 10);
          body.setAttribute("x2", x);
          body.setAttribute("y2", y + 20);
          body.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(body);

          const arms = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          arms.setAttribute("x1", x - 15);
          arms.setAttribute("y1", y);
          arms.setAttribute("x2", x + 15);
          arms.setAttribute("y2", y);
          arms.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(arms);

          const legs1 = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          legs1.setAttribute("x1", x);
          legs1.setAttribute("y1", y + 20);
          legs1.setAttribute("x2", x - 12);
          legs1.setAttribute("y2", y + 40);
          legs1.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(legs1);

          const legs2 = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          legs2.setAttribute("x1", x);
          legs2.setAttribute("y1", y + 20);
          legs2.setAttribute("x2", x + 12);
          legs2.setAttribute("y2", y + 40);
          legs2.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(legs2);

          const label = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          label.setAttribute("x", x);
          label.setAttribute("y", y + 56);
          label.setAttribute("font-size", "11");
          label.setAttribute("text-anchor", "middle");
          label.textContent = a;
          svgEl.appendChild(label);
        });

        usecases.forEach((u, idx) => {
          const x = 320;
          const y = 60 + idx * 120;
          positions[u] = { x, y };

          const ellipse = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "ellipse"
          );
          ellipse.setAttribute("cx", x);
          ellipse.setAttribute("cy", y);
          ellipse.setAttribute("rx", 80);
          ellipse.setAttribute("ry", 30);
          ellipse.setAttribute("fill", "#ffffff");
          ellipse.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(ellipse);

          const label = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          label.setAttribute("x", x);
          label.setAttribute("y", y + 4);
          label.setAttribute("font-size", "11");
          label.setAttribute("text-anchor", "middle");
          label.textContent = u;
          svgEl.appendChild(label);
        });

        links.forEach((l) => {
          const from = positions[l.from];
          const to = positions[l.to];
          if (!from || !to) return;
          const line = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          line.setAttribute("x1", from.x + 40);
          line.setAttribute("y1", from.y + 10);
          line.setAttribute("x2", to.x - 80);
          line.setAttribute("y2", to.y);
          line.setAttribute("class", "uml-connector");
          svgEl.appendChild(line);
        });

        const bbox = svgEl.getBBox();
        svgEl.setAttribute(
          "viewBox",
          `${bbox.x - 20} ${bbox.y - 20} ${bbox.width + 40} ${bbox.height + 40}`
        );
        setZoom(currentScale);
      }

      // State diagram parsing & rendering
      function parseStateDiagram(lines) {
        const states = new Set();
        const transitions = [];

        lines.forEach((line) => {
          if (line.startsWith("state ")) {
            const name = line.replace("state", "").trim();
            if (name) states.add(name);
            return;
          }
          const trMatch = line.match(
            /^([A-Za-z0-9_"]+)\s*-\>\s*([A-Za-z0-9_"]+)\s*(?::\s*(.+))?$/
          );
          if (trMatch) {
            const from = trMatch[1].replace(/"/g, "");
            const to = trMatch[2].replace(/"/g, "");
            const label = trMatch[3] || "";
            states.add(from);
            states.add(to);
            transitions.push({ from, to, label });
          }
        });

        return { states: Array.from(states), transitions };
      }

      function renderStateDiagram() {
        const lines = parseLines();
        const { states, transitions } = parseStateDiagram(lines);
        if (states.length === 0 || transitions.length === 0) {
          showError(
            'No states or transitions found. Use "state Idle" and "Idle -> Loading : event".'
          );
          return;
        }
        showError("");
        clearSvg();
        emptyStateEl.classList.add("hidden");

        const nodes = states.map((s) => ({ name: s }));
        layoutGrid(nodes);
        const pos = {};
        nodes.forEach((n) => (pos[n.name] = { x: n.x, y: n.y }));

        nodes.forEach((n) => {
          const p = pos[n.name];
          const rect = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "rect"
          );
          rect.setAttribute("x", p.x);
          rect.setAttribute("y", p.y);
          rect.setAttribute("width", 120);
          rect.setAttribute("height", 40);
          rect.setAttribute("rx", 20);
          rect.setAttribute("ry", 20);
          rect.setAttribute("fill", "#ffffff");
          rect.setAttribute("stroke", "#4b5563");
          svgEl.appendChild(rect);

          const label = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          label.setAttribute("x", p.x + 60);
          label.setAttribute("y", p.y + 24);
          label.setAttribute("font-size", "12");
          label.setAttribute("text-anchor", "middle");
          label.textContent = n.name;
          svgEl.appendChild(label);
        });

        transitions.forEach((t) => {
          const from = pos[t.from];
          const to = pos[t.to];
          if (!from || !to) return;
          const fromX = from.x + 120;
          const fromY = from.y + 20;
          const toX = to.x;
          const toY = to.y + 20;

          const line = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "line"
          );
          line.setAttribute("x1", fromX);
          line.setAttribute("y1", fromY);
          line.setAttribute("x2", toX);
          line.setAttribute("y2", toY);
          line.setAttribute("class", "uml-connector");
          svgEl.appendChild(line);

          if (t.label) {
            const label = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "text"
            );
            label.setAttribute("x", (fromX + toX) / 2);
            label.setAttribute("y", (fromY + toY) / 2 - 4);
            label.setAttribute("font-size", "11");
            label.setAttribute("text-anchor", "middle");
            label.textContent = t.label;
            svgEl.appendChild(label);
          }
        });

        const bbox = svgEl.getBBox();
        svgEl.setAttribute(
          "viewBox",
          `${bbox.x - 20} ${bbox.y - 20} ${bbox.width + 40} ${bbox.height + 40}`
        );
        setZoom(currentScale);
      }

      function renderDiagram() {
        const type = diagramTypeEl.value;
        if (!inputEl.value.trim()) {
          showError("Enter a UML description first, or load an example.");
          return;
        }
        try {
          if (type === "class") {
            renderClassDiagram();
          } else if (type === "sequence") {
            renderSequenceDiagram();
          } else if (type === "usecase") {
            renderUseCaseDiagram();
          } else if (type === "state") {
            renderStateDiagram();
          }
        } catch (e) {
          console.error(e);
          showError(
            "An error occurred while rendering the diagram. Please check your syntax."
          );
        }
      }

      btnRender.addEventListener("click", renderDiagram);

      btnExampleClass.addEventListener("click", () => {
        diagramTypeEl.value = "class";
        inputEl.value = `# Example: E‑commerce domain (class diagram)
class User {
  +id: int
  +email: string
  +register()
  +login()
}

class Order {
  +id: int
  +total: decimal
  +status: OrderStatus
  +place()
}

class Product {
  +id: int
  +name: string
  +price: decimal
}

class OrderItem {
  +quantity: int
  +subtotal(): decimal
}

User -> Order : places
Order -> OrderItem : contains
OrderItem -> Product : refers to
Order --|> Entity
User --|> Entity`;
        renderDiagram();
      });

      btnExampleSequence.addEventListener("click", () => {
        diagramTypeEl.value = "sequence";
        inputEl.value = `# Example: Login flow (sequence diagram)
participant User
participant WebApp
participant AuthService
participant DB

User -> WebApp : submit credentials
WebApp -> AuthService : POST /login
AuthService -> DB : findUser(email)
DB --> AuthService : user + passwordHash
AuthService --> WebApp : token / error
WebApp --> User : redirect or show error`;
        renderDiagram();
      });

      btnClear.addEventListener("click", () => {
        inputEl.value = "";
        showError("");
        clearSvg();
        emptyStateEl.classList.remove("hidden");
      });

      btnCopyText.addEventListener("click", async () => {
        try {
          await navigator.clipboard.writeText(inputEl.value);
          btnCopyText.textContent = "Copied!";
          setTimeout(() => (btnCopyText.textContent = "Copy text"), 1200);
        } catch {
          btnCopyText.textContent = "Copy failed";
          setTimeout(() => (btnCopyText.textContent = "Copy text"), 1200);
        }
      });

      function download(filename, href) {
        const a = document.createElement("a");
        a.href = href;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      }

      btnExportSVG.addEventListener("click", () => {
        const serializer = new XMLSerializer();
        const source = serializer.serializeToString(svgEl);
        const blob = new Blob([source], {
          type: "image/svg+xml;charset=utf-8",
        });
        const url = URL.createObjectURL(blob);
        download("uml-diagram.svg", url);
        URL.revokeObjectURL(url);
      });

      btnExportPNG.addEventListener("click", () => {
        const serializer = new XMLSerializer();
        const source = serializer.serializeToString(svgEl);
        const svgBlob = new Blob([source], {
          type: "image/svg+xml;charset=utf-8",
        });
        const url = URL.createObjectURL(svgBlob);

        const img = new Image();
        img.onload = function () {
          const bbox = svgEl.getBBox();
          const scale = 2;
          const canvas = document.createElement("canvas");
          canvas.width = (bbox.width + 40) * scale;
          canvas.height = (bbox.height + 40) * scale;
          const ctx = canvas.getContext("2d");
          ctx.fillStyle = "#ffffff";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
          URL.revokeObjectURL(url);
          canvas.toBlob((blob) => {
            const pngUrl = URL.createObjectURL(blob);
            download("uml-diagram.png", pngUrl);
            URL.revokeObjectURL(pngUrl);
          });
        };
        img.src = url;
      });

      // Initial content
      inputEl.value = `# Quick start: class diagram
class User {
  +id: int
  +email: string
  +login()
}

class Session {
  +token: string
  +expiresAt: datetime
}

User -> Session : creates`;

      // Render initial preview
      renderDiagram();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
