<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="canonical" href="https://calcdomain.com/bs-7671-cable-sizing">
    <title>BS 7671 Cable Sizing Calculator | CalcDomain</title>
    <meta charset="utf-8">
    <meta name="description" content="Professional BS 7671 Cable Sizing Calculator for UK electrical design. Compute Iz, voltage drop, and adiabatic short-circuit checks using IET Wiring Regulations factors.">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta property="og:type" content="website">
    <meta property="og:title" content="BS 7671 Cable Sizing Calculator | CalcDomain">
    <meta property="og:description" content="Professional BS 7671 Cable Sizing Calculator for UK electrical design. Compute Iz, voltage drop, and adiabatic short-circuit checks using IET Wiring Regulations factors.">
    <meta property="og:url" content="https://calcdomain.com/bs-7671-cable-sizing">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="BS 7671 Cable Sizing Calculator | CalcDomain">
    <meta name="twitter:description" content="Professional BS 7671 Cable Sizing Calculator for UK electrical design. Compute Iz, voltage drop, and adiabatic short-circuit checks using IET Wiring Regulations factors.">
    <meta name="author" content="Ugo Candido">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --primary-color: #2563eb; --surface-color: #ffffff; --muted: #64748b; --border: #e5e7eb; --bg: #f8fafc; }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: #0f172a;
            line-height: 1.6;
        }
        .container {
            max-width: 1120px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 clamp(1rem, 2vw, 1.5rem);
        }
        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }
        .brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .navRight {
            display: flex;
            gap: 0.75rem;
        }
        .pill {
            font-size: 0.95rem;
            color: #1f2937;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            border: 1px solid #d1d5db;
            background: #fff;
        }
        header .nav {
            padding: 0.8rem 0;
        }
        .calc-hero {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 1024px) {
            .calc-hero {
                grid-template-columns: minmax(0, 1fr) minmax(0, 360px);
            }
        }
        .card {
            background: #fff;
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 1px 4px rgba(15, 23, 42, 0.08);
        }
        .sticky-box {
            position: sticky;
            top: 1.5rem;
        }
        .calc-input,
        .calc-select {
            width: 100%;
            padding: 0.65rem 0.9rem;
            border: 1px solid #cbd5f5;
            border-radius: 0.75rem;
            font-size: 0.95rem;
            background: #fff;
        }
        .calc-select {
            appearance: none;
            background-image: url('data:image/svg+xml,%3Csvg fill="%23474d66" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M5.23 7.21L10 11.5l4.77-4.29a.75.75 0 1 1 1.06 1.06l-5.3 4.78a.75.75 0 0 1-1.06 0L4.18 8.27a.75.75 0 0 1 1.05-1.06z"/%3E%3C/svg%3E');
            background-repeat: no-repeat;
            background-position: right 0.9rem center;
            background-size: 1rem;
        }
        .calc-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: #475569;
        }
        .alert {
            display: none;
            background: #fef2f2;
            border-left: 4px solid #dc2626;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: #991b1b;
            font-size: 0.9rem;
        }
        .btn {
            border: none;
            border-radius: 0.75rem;
            padding: 0.85rem 1rem;
            font-weight: 700;
            cursor: pointer;
            font-size: 0.95rem;
            transition: background 0.2s ease;
        }
        .btn.btn-primary {
            background: var(--primary-color);
            color: #fff;
        }
        .btn.btn-primary:hover {
            background: #1d4ed8;
        }
        .btn.btn-secondary {
            background: #fff;
            border: 1px solid #cbd5f5;
            color: #1f2937;
        }
        .mode-toggle {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .mode-toggle label {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.5rem 0.9rem;
            border: 1px solid #cbd5f5;
            border-radius: 999px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .mode-toggle input[type="radio"] {
            accent-color: var(--primary-color);
        }
        .result-box {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 1px solid #bfdbfe;
            border-radius: 1rem;
            padding: 1.25rem;
            text-align: center;
        }
        .result-box .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1e40af;
            margin-top: 0.25rem;
        }
        .kpi-row {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            padding: 0.65rem 0;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.9rem;
        }
        .kpi-row:last-child {
            border-bottom: none;
        }
        .kpi-label {
            color: #475569;
        }
        .kpi-value {
            font-weight: 700;
            color: #0f172a;
            text-align: right;
        }
        .result-notes {
            margin-top: 1.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            background: #f8fafc;
            padding: 1rem;
            font-size: 0.9rem;
            color: #475569;
        }
        .content-card h2 {
            margin-top: 0;
        }
        .content-card h3 {
            margin-bottom: 0.35rem;
        }
        .glossary-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
            padding-left: 1rem;
        }
        .faq-item {
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .faq-item h3 {
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }
        .formula-box {
            background: #f1f5f9;
            border: 1px solid #d1d5db;
            border-radius: 0.75rem;
            padding: 1rem;
            font-family: 'Segoe UI Mono', 'Menlo', monospace;
            overflow-x: auto;
            font-size: 0.9rem;
        }
        .meta-section details summary {
            font-weight: 600;
            cursor: pointer;
            outline: none;
        }
        .meta-section details div {
            margin-top: 0.75rem;
        }
        .badge-row {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            align-items: center;
        }
        .badge {
            border: 1px solid #cbd5f5;
            border-radius: 999px;
            padding: 0.25rem 0.85rem;
            background: #fff;
            font-size: 0.85rem;
            color: #0f172a;
        }
        footer.site-footer {
            background: #0f172a;
            color: #f8fafc;
            padding: 3rem 0;
            margin-top: 3rem;
        }
        footer h3,
        footer h4 {
            color: #fff;
        }
        footer a {
            color: #cbd5f5;
        }
        .sub {
            font-size: 1.125rem;
            color: #475569;
            margin: 0;
        }
        .input-grid {
            display: grid;
            grid-template-columns: repeat(1, minmax(0, 1fr));
            gap: 1rem;
        }
        .input-grid.cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .input-grid.cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }
        .optional-section {
            border: 1px dashed #cbd5f5;
            border-radius: 0.75rem;
            padding: 1rem;
            background: #f8fafc;
        }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "BS 7671 Cable Sizing Calculator",
        "description": "Interactive BS 7671 cable sizing calculator for UK electrical design. Computes required current capacity (Iz), voltage drop, and adiabatic short-circuit checks.",
        "url": "https://calcdomain.com/bs-7671-cable-sizing",
        "inLanguage": "en-GB",
        "mainEntity": [
            {
                "@type": "HowTo",
                "name": "BS 7671 Cable Sizing — Worked Example",
                "description": "Determine the minimum tabulated capacity (Iz), verify voltage drop, and perform the adiabatic short-circuit check.",
                "step": [
                    { "@type": "HowToStep", "name": "Collect inputs", "text": "Design current Ib, correction factors (Ca, Cg, Ci, Cf), system voltage, length, and mV/A/m from BS 7671 Appendix 4." },
                    { "@type": "HowToStep", "name": "Compute Iz", "text": "Calculate Iz_min = Ib / (Ca × Cg × Ci × Cf)." },
                    { "@type": "HowToStep", "name": "Select cable", "text": "Choose a cable whose tabulated capacity It ≥ Iz_min for the installation method." },
                    { "@type": "HowToStep", "name": "Voltage drop check", "text": "Compute ΔV = Ib × m × L / 1000 and verify ΔV ≤ allowed percentage of nominal voltage." },
                    { "@type": "HowToStep", "name": "Adiabatic check", "text": "For fault current I_sc and disconnection time t, calculate S_min = I_sc × √t / k and ensure CSA ≥ S_min." }
                ]
            },
            {
                "@type": "FAQPage",
                "mainEntity": [
                    { "@type": "Question", "name": "Does this tool include BS 7671 tables?", "acceptedAnswer": { "@type": "Answer", "text": "No. BS 7671 tables are copyrighted by the IET. Enter tabulated values from your licensed copy." } },
                    { "@type": "Question", "name": "Which standard is used?", "acceptedAnswer": { "@type": "Answer", "text": "Calculations follow BS 7671:2018+A2:2022 methodology for Iz, voltage drop, and the adiabatic equation." } },
                    { "@type": "Question", "name": "Is the voltage drop formula single- or three-phase?", "acceptedAnswer": { "@type": "Answer", "text": "Use the mV/A/m coefficient from Appendix 4 appropriate to your cable type and system." } },
                    { "@type": "Question", "name": "What k-factor should I use?", "acceptedAnswer": { "@type": "Answer", "text": "Use the k value from BS 7671 depending on conductor material and insulation. Confirm the exact value from the standard." } },
                    { "@type": "Question", "name": "How are correction factors applied?", "acceptedAnswer": { "@type": "Answer", "text": "The effective capacity is It × (Ca × Cg × Ci × Cf). Equivalently, Iz_min = Ib / (Ca × Cg × Ci × Cf)." } },
                    { "@type": "Question", "name": "Can this replace a qualified engineer?", "acceptedAnswer": { "@type": "Answer", "text": "No. This tool assists competent persons. Final selection and compliance remain the responsibility of a qualified designer." } }
                ]
            }
        ],
        "reviewedBy": { "@type": "Person", "name": "Ugo Candido" },
        "dateModified": "2026-01-19"
    }</script>
</head>
<body class="bg-gray-50 text-gray-800">
    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="nav container" aria-label="Primary">
            <a class="brand" href="https://calcdomain.com">CalcDomain</a>
            <div class="flex-1 hidden md:flex justify-center">
                <div class="relative w-full max-w-lg">
                    <input id="search-input" type="search" class="calc-input" placeholder="Search calculators..." aria-label="Search calculators">
                    <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-80 overflow-y-auto hidden border border-gray-200"></div>
                </div>
            </div>
            <div class="navRight hidden md:flex">
                <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
                <span class="pill">Categories</span>
            </div>
            <button id="mobile-menu-toggle" class="md:hidden" type="button" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </nav>
        <nav id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200" aria-label="Mobile menu">
            <div class="p-4">
                <input id="mobile-search-input" type="search" class="calc-input" placeholder="Search calculators..." aria-label="Search calculators">
            </div>
            <div class="px-4 pb-4 space-y-2">
                <a href="https://calcdomain.com/search" class="block text-gray-700">Advanced Search</a>
                <a href="https://calcdomain.com/#categories" class="block text-gray-700">Categories</a>
            </div>
        </nav>
    </header>
    <main id="mainContent" class="container py-10">
        <nav id="breadcrumb-container" class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
            <ol class="flex flex-wrap items-center gap-1">
                <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
                <li class="text-gray-400">/</li>
                <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering</a></li>
                <li class="text-gray-400">/</li>
                <li class="font-semibold">BS 7671 Cable Sizing Calculator</li>
            </ol>
        </nav>
        <div class="space-y-2">
            <h1 id="pageTitle" class="text-3xl font-bold">BS 7671 Cable Sizing Calculator</h1>
            <p id="pageSub" class="sub">
                Professional BS 7671 Cable Sizing Calculator for UK electrical design. Compute required tabulated capacity (Iz), voltage drop, and adiabatic short-circuit checks using IET factors.
            </p>
            <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>
        </div>
        <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
            <section class="card" id="inputsCard" aria-label="Calculator inputs">
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-700">Design data</h3>
                        <p class="text-sm text-gray-500 mt-1">Apply correction factors and table data taken directly from BS 7671:2018+A2:2022.</p>
                    </div>
                    <div class="form-group">
                        <span class="calc-label">Calculator mode</span>
                        <div class="mode-toggle" role="radiogroup" aria-label="Calculator mode">
                            <label>
                                <input type="radio" name="mode" value="sizing" checked>
                                Sizing (Iz only)
                            </label>
                            <label>
                                <input type="radio" name="mode" value="verify">
                                Verify cable
                            </label>
                            <label>
                                <input type="radio" name="mode" value="full">
                                Full check
                            </label>
                        </div>
                    </div>
                    <div class="input-grid cols-2">
                        <div class="form-group">
                            <label class="calc-label" for="systemPhase">System</label>
                            <select id="systemPhase" class="calc-select">
                                <option value="1" selected>Single-phase (230 V)</option>
                                <option value="3">Three-phase (400 V)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="calc-label" for="ib">Design current (Ib)</label>
                            <input id="ib" type="number" inputmode="decimal" class="calc-input" placeholder="e.g., 32" value="32">
                        </div>
                        <div class="form-group" style="grid-column: span 2;">
                            <label class="calc-label" for="in">Protective device rating (In)</label>
                            <input id="in" type="number" inputmode="decimal" class="calc-input" placeholder="Optional">
                        </div>
                    </div>
                    <div class="space-y-2">
                        <p class="calc-label">Correction factors</p>
                        <div class="input-grid cols-3">
                            <div class="form-group">
                                <label class="calc-label" for="ca">Ambient temperature factor (Ca)</label>
                                <input id="ca" type="number" step="0.01" class="calc-input" value="1">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="cg">Grouping factor (Cg)</label>
                                <input id="cg" type="number" step="0.01" class="calc-input" value="1">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="ci">Thermal insulation factor (Ci)</label>
                                <input id="ci" type="number" step="0.01" class="calc-input" value="1">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="cf">Other factor (Cf)</label>
                                <input id="cf" type="number" step="0.01" class="calc-input" value="1">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label class="calc-label" for="fTotal">Total factor (automatic)</label>
                                <input id="fTotal" type="text" class="calc-input" value="1.00" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="optional-section" id="verifyBlock" style="display: none;">
                        <h4 class="font-semibold text-gray-700">Verification inputs</h4>
                        <p class="text-sm text-gray-500">Enter tabulated values from BS 7671 tables for the chosen cable and installation method.</p>
                        <div class="input-grid cols-3 mt-4">
                            <div class="form-group">
                                <label class="calc-label" for="itab">Tabulated current capacity (It)</label>
                                <input id="itab" type="number" step="0.01" class="calc-input" placeholder="e.g., 40">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="csa">Conductor CSA (mm²)</label>
                                <input id="csa" type="number" step="0.01" class="calc-input" placeholder="e.g., 6">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="mvam">Voltage drop coefficient (mV/A/m)</label>
                                <input id="mvam" type="number" step="0.1" class="calc-input" placeholder="e.g., 18">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="length">Circuit length (m)</label>
                                <input id="length" type="number" step="0.1" class="calc-input" placeholder="e.g., 30">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="pf">Power factor (pf)</label>
                                <input id="pf" type="number" step="0.01" class="calc-input" value="1">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="vdLimit">Max voltage drop (%)</label>
                                <select id="vdLimit" class="calc-select">
                                    <option value="3">3% (lighting)</option>
                                    <option value="5" selected>5% (other)</option>
                                    <option value="2">2% (custom)</option>
                                    <option value="4">4% (custom)</option>
                                    <option value="6">6% (custom)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="optional-section" id="scBlock" style="display: none;">
                        <h4 class="font-semibold text-gray-700">Short-circuit (adiabatic) inputs</h4>
                        <div class="input-grid cols-3 mt-4">
                            <div class="form-group">
                                <label class="calc-label" for="isc">Fault current I_sc (kA)</label>
                                <input id="isc" type="number" step="0.01" class="calc-input" placeholder="e.g., 6">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="tclear">Disconnection time (s)</label>
                                <input id="tclear" type="number" step="0.01" class="calc-input" placeholder="e.g., 0.4">
                            </div>
                            <div class="form-group">
                                <label class="calc-label" for="kfactor">k factor</label>
                                <select id="kfactor" class="calc-select">
                                    <option value="115">Cu / PVC (70°C) — 115</option>
                                    <option value="143" selected>Cu / XLPE (90°C) — 143</option>
                                    <option value="76">Al / PVC (70°C) — 76</option>
                                    <option value="94">Al / XLPE (90°C) — 94</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-3 flex-wrap">
                        <button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
                        <button class="btn btn-secondary btnSecondary" id="resetBtn" type="button">Reset</button>
                    </div>
                </div>
                <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
            </section>
            <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
                <div class="result-box">
                    <div class="text-xs font-semibold uppercase tracking-wider text-gray-500">Correction factor (Ca × Cg × Ci × Cf)</div>
                    <div class="result-value" id="resFactor">1.00</div>
                </div>
                <div class="bg-white border border-gray-200 rounded-lg p-4 mt-4">
                    <div class="kpi-row">
                        <span class="kpi-label">Minimum tabulated capacity (Iz_min)</span>
                        <span class="kpi-value" id="resIz">—</span>
                    </div>
                    <div class="kpi-row">
                        <span class="kpi-label">Thermal compliance (Ib ≤ In ≤ Iz)</span>
                        <span class="kpi-value" id="resThermal">—</span>
                    </div>
                    <div class="kpi-row">
                        <span class="kpi-label">Voltage drop ΔV and %</span>
                        <span class="kpi-value" id="resVd">—</span>
                    </div>
                    <div class="kpi-row">
                        <span class="kpi-label">Max allowable length</span>
                        <span class="kpi-value" id="resLmax">—</span>
                    </div>
                    <div class="kpi-row">
                        <span class="kpi-label">Adiabatic S_min</span>
                        <span class="kpi-value" id="resSmin">—</span>
                    </div>
                    <div class="kpi-row">
                        <span class="kpi-label">Adiabatic check (CSA)</span>
                        <span class="kpi-value" id="resAdiabatic">—</span>
                    </div>
                </div>
                <div class="result-notes" aria-live="polite" id="resNotes">Provide table values to complete verification.</div>
            </section>
        </div>
        <section class="card content-card space-y-6 mt-8" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>Collect the design current, installation corrections, and tabulated parameters from BS 7671:2018+A2:2022. Choose the appropriate calculator mode—Sizing, Verify cable, or Full check—based on how many verification steps you want to perform.</p>
            <p>After clicking Calculate, the tool will update Iz_min, verify your protective device rating, estimate voltage drop, and compute the adiabatic requirement when you provide short-circuit data. Always confirm the results against licensed tables and manufacturer guidance.</p>
            <div>
                <h3 class="text-lg font-semibold">Step-by-step</h3>
                <ol class="list-decimal pl-5 space-y-1 text-gray-700">
                    <li>Gather design current Ib, correction factors (Ca, Cg, Ci, Cf), and protective device rating In.</li>
                    <li>Use the calculator to compute Iz_min = Ib / (Ca × Cg × Ci × Cf) and ensure the chosen cable meets that capacity.</li>
                    <li>Add tabulated data (It), cable CSA, and the mV/A/m coefficient to verify thermal limits and voltage drop.</li>
                    <li>Enter circuit length, power factor, and voltage drop limit to check %ΔV against the nominal voltage.</li>
                    <li>For adiabatic checks, provide fault current I_sc, disconnection time t, and the k factor from BS 7671.</li>
                </ol>
            </div>
            <div>
                <h3 class="text-lg font-semibold">Authoritative methodology</h3>
                <p>Standards reference: IET Wiring Regulations BS 7671:2018+A2:2022 (18th Edition, Amendment 2). This calculator applies the official Iz, voltage drop, and adiabatic formulas; users must source tabulated values (It, mV/A/m, k) from their licensed copy of BS 7671 or manufacturer data.</p>
            </div>
            <div>
                <h3 class="text-lg font-semibold">Glossary of variables</h3>
                <ul class="glossary-list text-sm text-gray-700">
                    <li><strong>Ib</strong> — Design load current (A).</li>
                    <li><strong>In</strong> — Protective device rating (A).</li>
                    <li><strong>Iz</strong> — Cable current-carrying capacity under conditions (A).</li>
                    <li><strong>Iz_min</strong> — Minimum required tabulated capacity before applying factors (A).</li>
                    <li><strong>Ca</strong> — Ambient temperature correction (≤ 1.0).</li>
                    <li><strong>Cg</strong> — Grouping correction (≤ 1.0).</li>
                    <li><strong>Ci</strong> — Thermal insulation correction (≤ 1.0).</li>
                    <li><strong>Cf</strong> — Additional special conditions correction.</li>
                    <li><strong>m</strong> — Voltage drop coefficient (mV/A/m) from Appendix 4.</li>
                    <li><strong>L</strong> — Circuit conductor length (m).</li>
                    <li><strong>I_sc</strong> — Prospective fault current (kA).</li>
                    <li><strong>k</strong> — Adiabatic material/insulation factor (A·s<sup>0.5</sup>/mm²).</li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-semibold">Worked example</h3>
                <p>For a single-phase 230 V lighting circuit with Ib = 32 A and a grouped installation (Ca = 1.00, Cg = 0.80, Ci = 1.00, Cf = 1.00), the total correction factor F equals 0.80 and Iz_min = 40 A. Choose a cable with It ≥ 40 A. If the cable length is 30 m with m = 18 mV/A/m, ΔV equals 17.28 V (≈7.5 % of 230 V), so the drop exceeds a 5 % limit and you would need a larger conductor or shorter run. For I_sc = 6 kA, t = 0.4 s, and k = 143 (Cu/XLPE), S_min ≈ 26.3 mm², so the chosen CSA must meet or exceed that value.</p>
            </div>
            <div>
                <h3 class="text-lg font-semibold">Frequently Asked Questions</h3>
                <div class="faq-item">
                    <h3>Does this calculator include the BS 7671 tables?</h3>
                    <p>No. Those tables are copyrighted by the IET. Enter table values from your licensed copy.</p>
                </div>
                <div class="faq-item">
                    <h3>Which correction factors should I use?</h3>
                    <p>Use the factors that match your installation method and conditions from BS 7671 (ambient, grouping, thermal insulation, etc.). Include any additional derating as Cf.</p>
                </div>
                <div class="faq-item">
                    <h3>How do I select the correct mV/A/m value?</h3>
                    <p>Appendix 4 provides mV/A/m values by conductor construction and system arrangement. Pick the row that matches the cable type and whether it is single- or three-phase.</p>
                </div>
                <div class="faq-item">
                    <h3>What is the relationship between Ib, In, and Iz?</h3>
                    <p>Ensure Ib ≤ In ≤ Iz. The protective device rating must be at least the design current and no larger than the cable’s capacity.</p>
                </div>
                <div class="faq-item">
                    <h3>Do I need to consider installation method and temperature rise?</h3>
                    <p>Yes. Installation conditions, ambient temperature, and any thermal insulation reduce cable capacity and are captured through Ca, Cg, Ci, and Cf.</p>
                </div>
                <div class="faq-item">
                    <h3>Is the adiabatic check for the line conductor or CPC?</h3>
                    <p>The adiabatic equation verifies the conductor that must withstand the fault current; designers often use it for the CPC but may apply it to line conductors for worst-case scenarios.</p>
                </div>
                <div class="faq-item">
                    <h3>Does power factor affect voltage drop?</h3>
                    <p>The mV/A/m coefficient already accounts for R and X. If your load has a significant reactive component, select the appropriate table entry or use manufacturer data that reflects that power factor.</p>
                </div>
            </div>
        </section>
        <section class="card meta-section space-y-4 mt-8" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <div class="badge-row">
                <span class="badge">Verified by Ugo Candido</span>
                <span class="badge">Last Updated: 2026-01-19</span>
                <span class="badge">Version 0.1.0-draft</span>
            </div>
            <details id="formulaDetails">
                <summary>Formulas</summary>
                <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                    <p><strong>Minimum tabulated capacity:</strong> Iz_min = Ib / (Ca × Cg × Ci × Cf).</p>
                    <p><strong>Thermal compliance:</strong> Ib ≤ In ≤ Iz.</p>
                    <p><strong>Voltage drop:</strong> ΔV = I × m × L / 1000 and %ΔV = 100 × ΔV / V_n.</p>
                    <p><strong>Adiabatic short-circuit:</strong> S_min = I_sc × √t / k (I_sc in amps, t in seconds).</p>
                    <div class="formula-box mt-4">
                        <p>Example: F = 1.00 × 0.80 × 1.00 × 1.00 = 0.80 → Iz_min = 32 / 0.80 = 40 A.</p>
                        <p>ΔV = 32 × 18 × 30 / 1000 = 17.28 V → 7.5 % of 230 V.</p>
                        <p>S_min = 6000 × √0.4 / 143 ≈ 26.3 mm².</p>
                    </div>
                </div>
            </details>
            <details id="citationDetails">
                <summary>Citations</summary>
                <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                    <p><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="noopener">https://calcdomain.com/engineering</a></p>
                    <p><strong>Official IET page</strong> — electrical.theiet.org · Accessed 2026-01-19<br><a href="https://electrical.theiet.org/bs-7671/" target="_blank" rel="noopener">https://electrical.theiet.org/bs-7671/</a></p>
                </div>
            </details>
            <details id="changelogDetails">
                <summary>Changelog</summary>
                <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm space-y-2">
                    <p><strong>Version:</strong> 0.1.0-draft · 2026-01-19</p>
                    <ul class="pl-5 list-disc">
                        <li>Initial audit spec draft generated from the extractor.</li>
                        <li>Verify formulas match the calculator engine and convert text-only formulas to LaTeX when possible.</li>
                        <li>Confirm sources are authoritative and relevant to the methodology.</li>
                    </ul>
                </div>
            </details>
        
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
    </main>
    <footer id="siteFooter" class="site-footer">
        <div class="container">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3>CalcDomain</h3>
                    <p>Your trusted source for transparent, practical calculators. Fast, accurate models for every decision.</p>
                </div>
                <div>
                    <h4>Categories</h4>
                    <ul class="space-y-2">
                        <li><a href="https://calcdomain.com/categories/finance">Finance</a></li>
                        <li><a href="https://calcdomain.com/categories/health-fitness">Health &amp; Fitness</a></li>
                        <li><a href="https://calcdomain.com/categories/math-conversions">Math &amp; Conversions</a></li>
                        <li><a href="https://calcdomain.com/categories/lifestyle-everyday">Lifestyle &amp; Everyday</a></li>
                        <li><a href="https://calcdomain.com/categories/construction-diy">Construction &amp; DIY</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Popular Tools</h4>
                    <ul class="space-y-2">
                        <li><a href="https://calcdomain.com/mortgage-payment">Mortgage Calculator</a></li>
                        <li><a href="https://calcdomain.com/percentage-calculator">Percentage Calculator</a></li>
                        <li><a href="https://calcdomain.com/bmi-calculator">BMI Calculator</a></li>
                        <li><a href="https://calcdomain.com/auto-loan-calculator">Auto Loan Calculator</a></li>
                        <li><a href="https://calcdomain.com/house-affordability">House Affordability</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Support</h4>
                    <ul class="space-y-2">
                        <li><a href="https://calcdomain.com/about">About Us</a></li>
                        <li><a href="https://calcdomain.com/contact">Contact</a></li>
                        <li><a href="https://calcdomain.com/privacy">Privacy Policy</a></li>
                        <li><a href="https://calcdomain.com/terms">Terms of Service</a></li>
                        <li><a href="https://calcdomain.com/sitemap.xml">Site Map</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-300">
                <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone.</p>
            </div>
        </div>
    </footer>
    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>
    <script>
        window.MathJax = {
            tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$$','$$'], ['\\[','\\]']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script>
        (function() {
            'use strict';
            const debounce = (fn, delay = 100) => {
                let timer;
                return (...args) => {
                    clearTimeout(timer);
                    timer = setTimeout(() => fn(...args), delay);
                };
            };

            const els = {
                modeRadios: document.querySelectorAll('input[name="mode"]'),
                systemPhase: document.getElementById('systemPhase'),
                ib: document.getElementById('ib'),
                in: document.getElementById('in'),
                ca: document.getElementById('ca'),
                cg: document.getElementById('cg'),
                ci: document.getElementById('ci'),
                cf: document.getElementById('cf'),
                fTotal: document.getElementById('fTotal'),
                itab: document.getElementById('itab'),
                csa: document.getElementById('csa'),
                mvam: document.getElementById('mvam'),
                length: document.getElementById('length'),
                pf: document.getElementById('pf'),
                vdLimit: document.getElementById('vdLimit'),
                isc: document.getElementById('isc'),
                tclear: document.getElementById('tclear'),
                kfactor: document.getElementById('kfactor'),
                verifyBlock: document.getElementById('verifyBlock'),
                scBlock: document.getElementById('scBlock'),
                calcBtn: document.getElementById('calcBtn'),
                resetBtn: document.getElementById('resetBtn'),
                errorBox: document.getElementById('errorBox'),
                resFactor: document.getElementById('resFactor'),
                resIz: document.getElementById('resIz'),
                resThermal: document.getElementById('resThermal'),
                resVd: document.getElementById('resVd'),
                resLmax: document.getElementById('resLmax'),
                resSmin: document.getElementById('resSmin'),
                resAdiabatic: document.getElementById('resAdiabatic'),
                resNotes: document.getElementById('resNotes')
            };

            const defaults = {
                mode: 'sizing',
                systemPhase: '1',
                ib: '32',
                in: '',
                ca: '1',
                cg: '1',
                ci: '1',
                cf: '1',
                itab: '',
                csa: '',
                mvam: '',
                length: '',
                pf: '1',
                vdLimit: '5',
                isc: '',
                tclear: '',
                kfactor: '143'
            };

            const getSelectedMode = () => {
                const checked = document.querySelector('input[name="mode"]:checked');
                return checked ? checked.value : defaults.mode;
            };

            function setDefaultValues() {
                els.modeRadios.forEach(radio => {
                    radio.checked = radio.value === defaults.mode;
                });
                els.systemPhase.value = defaults.systemPhase;
                els.ib.value = defaults.ib;
                els.in.value = defaults.in;
                els.ca.value = defaults.ca;
                els.cg.value = defaults.cg;
                els.ci.value = defaults.ci;
                els.cf.value = defaults.cf;
                els.fTotal.value = '1.00';
                els.itab.value = defaults.itab;
                els.csa.value = defaults.csa;
                els.mvam.value = defaults.mvam;
                els.length.value = defaults.length;
                els.pf.value = defaults.pf;
                els.vdLimit.value = defaults.vdLimit;
                els.isc.value = defaults.isc;
                els.tclear.value = defaults.tclear;
                els.kfactor.value = defaults.kfactor;
            }

            function parseInputs() {
                const toNumber = value => parseFloat(value);
                return {
                    mode: getSelectedMode(),
                    systemPhase: els.systemPhase.value,
                    ib: toNumber(els.ib.value),
                    in: toNumber(els.in.value),
                    ca: toNumber(els.ca.value),
                    cg: toNumber(els.cg.value),
                    ci: toNumber(els.ci.value),
                    cf: toNumber(els.cf.value),
                    itab: toNumber(els.itab.value),
                    csa: toNumber(els.csa.value),
                    mvam: toNumber(els.mvam.value),
                    length: toNumber(els.length.value),
                    pf: toNumber(els.pf.value),
                    vdLimit: toNumber(els.vdLimit.value),
                    isc: toNumber(els.isc.value),
                    tclear: toNumber(els.tclear.value),
                    kfactor: toNumber(els.kfactor.value)
                };
            }

            function validate(inputs) {
                const errors = [];
                if (!Number.isFinite(inputs.ib) || inputs.ib <= 0) {
                    errors.push('Design current (Ib) must be greater than 0.');
                }
                if (!Number.isFinite(inputs.ca) || inputs.ca <= 0) {
                    errors.push('Ambient factor (Ca) must be greater than 0.');
                }
                if (!Number.isFinite(inputs.cg) || inputs.cg <= 0) {
                    errors.push('Grouping factor (Cg) must be greater than 0.');
                }
                if (!Number.isFinite(inputs.ci) || inputs.ci <= 0) {
                    errors.push('Thermal insulation factor (Ci) must be greater than 0.');
                }
                if (!Number.isFinite(inputs.cf) || inputs.cf <= 0) {
                    errors.push('Other factor (Cf) must be greater than 0.');
                }
                if (!Number.isFinite(inputs.pf) || inputs.pf <= 0) {
                    errors.push('Power factor must be greater than 0.');
                }
                if (!Number.isFinite(inputs.vdLimit) || inputs.vdLimit <= 0) {
                    errors.push('Voltage drop limit must be selected.');
                }
                if (inputs.mode === 'verify' || inputs.mode === 'full') {
                    if (!Number.isFinite(inputs.itab) || inputs.itab <= 0) {
                        errors.push('Tabulated capacity (It) is required for verification.');
                    }
                    if (!Number.isFinite(inputs.csa) || inputs.csa <= 0) {
                        errors.push('Cable CSA is required for verification.');
                    }
                    if (!Number.isFinite(inputs.mvam) || inputs.mvam <= 0) {
                        errors.push('Voltage drop coefficient (mV/A/m) is required for verification.');
                    }
                    if (!Number.isFinite(inputs.length) || inputs.length <= 0) {
                        errors.push('Circuit length is required for verification.');
                    }
                }
                if (inputs.mode === 'full') {
                    if (!Number.isFinite(inputs.isc) || inputs.isc <= 0) {
                        errors.push('Fault current (I_sc) is required for the adiabatic check.');
                    }
                    if (!Number.isFinite(inputs.tclear) || inputs.tclear <= 0) {
                        errors.push('Disconnection time (t) is required for the adiabatic check.');
                    }
                    if (!Number.isFinite(inputs.kfactor) || inputs.kfactor <= 0) {
                        errors.push('k factor is required for the adiabatic check.');
                    }
                }
                if (inputs.systemPhase !== '1' && inputs.systemPhase !== '3') {
                    errors.push('System selection is invalid.');
                }
                return { ok: errors.length === 0, errors };
            }

            function compute(inputs) {
                const factor = inputs.ca * inputs.cg * inputs.ci * inputs.cf;
                if (!Number.isFinite(factor) || factor <= 0) {
                    return null;
                }
                const izMin = inputs.ib / factor;
                const nominalVoltage = inputs.systemPhase === '3' ? 400 : 230;
                const hasVoltageInputs = inputs.ib > 0 && inputs.mvam > 0 && inputs.length > 0;
                const deltaV = hasVoltageInputs ? inputs.ib * inputs.mvam * inputs.length * inputs.pf / 1000 : null;
                const deltaVPercent = hasVoltageInputs ? (deltaV / nominalVoltage) * 100 : null;
                const hasLimit = hasVoltageInputs && inputs.vdLimit > 0;
                const maxLength = hasLimit
                    ? (inputs.vdLimit / 100 * nominalVoltage * 1000) / (inputs.ib * inputs.mvam * inputs.pf)
                    : null;
                const hasScData = inputs.isc > 0 && inputs.tclear > 0 && inputs.kfactor > 0;
                const sMin = hasScData ? inputs.isc * 1000 * Math.sqrt(inputs.tclear) / inputs.kfactor : null;
                const hasIn = Number.isFinite(inputs.in);
                const thermalPass = hasIn && Number.isFinite(izMin) && inputs.in >= inputs.ib && inputs.in <= izMin;
                return {
                    factor,
                    izMin,
                    deltaV,
                    deltaVPercent,
                    maxLength,
                    deltaVLimit: inputs.vdLimit,
                    sMin,
                    thermalData: { available: hasIn, pass: thermalPass },
                    itab: Number.isFinite(inputs.itab) ? inputs.itab : null,
                    csa: Number.isFinite(inputs.csa) ? inputs.csa : null,
                    mode: inputs.mode
                };
            }

            function formatOutputs(outputs) {
                const formatted = {
                    factor: Number.isFinite(outputs.factor) ? outputs.factor.toFixed(2) : '—',
                    iz: Number.isFinite(outputs.izMin) ? `${outputs.izMin.toFixed(2)} A` : '—',
                    thermal: outputs.thermalData.available
                        ? (outputs.thermalData.pass ? 'Ib ≤ In ≤ Iz — PASS' : 'Ib ≤ In ≤ Iz — FAIL')
                        : 'Add protective device rating (In) to verify thermal compliance.',
                    voltageDrop: Number.isFinite(outputs.deltaV) && Number.isFinite(outputs.deltaVPercent)
                        ? `${outputs.deltaV.toFixed(2)} V (${outputs.deltaVPercent.toFixed(2)}%)`
                        : 'Add mV/A/m, length, and design current to compute ΔV.',
                    maxLength: Number.isFinite(outputs.maxLength)
                        ? `${outputs.maxLength.toFixed(1)} m @ ${outputs.deltaVLimit}% limit`
                        : 'Provide run length and limit to estimate allowable span.',
                    sMin: Number.isFinite(outputs.sMin)
                        ? `${outputs.sMin.toFixed(2)} mm²`
                        : 'Enter short-circuit data to calculate S_min.',
                    adiabatic: (Number.isFinite(outputs.sMin) && Number.isFinite(outputs.csa))
                        ? (outputs.csa >= outputs.sMin ? 'CSA ≥ S_min — PASS' : 'CSA < S_min — FAIL')
                        : 'Provide conductor CSA and fault values for adiabatic check.'
                };
                const notes = [];
                if (Number.isFinite(outputs.itab) && Number.isFinite(outputs.izMin)) {
                    const status = outputs.itab >= outputs.izMin ? 'meets or exceeds' : 'falls below';
                    notes.push(`Tabulated capacity It = ${outputs.itab.toFixed(2)} A ${status} Iz_min.`);
                } else if (Number.isFinite(outputs.itab)) {
                    notes.push(`Tabulated capacity It = ${outputs.itab.toFixed(2)} A.`);
                }
                if (outputs.mode === 'sizing') {
                    notes.push('Switch to Verify or Full mode to complete protective device, voltage drop, and adiabatic checks.');
                } else if (outputs.mode === 'verify') {
                    notes.push('Provide short-circuit data in Full mode to evaluate the adiabatic requirement.');
                }
                notes.push('Confirm all findings with licensed BS 7671 tables and a qualified engineer.');
                formatted.notes = notes.join(' ');
                return formatted;
            }

            function renderResults(formatted) {
                els.resFactor.textContent = formatted.factor;
                els.fTotal.value = formatted.factor;
                els.resIz.textContent = formatted.iz;
                els.resThermal.textContent = formatted.thermal;
                els.resVd.textContent = formatted.voltageDrop;
                els.resLmax.textContent = formatted.maxLength;
                els.resSmin.textContent = formatted.sMin;
                els.resAdiabatic.textContent = formatted.adiabatic;
                els.resNotes.textContent = formatted.notes;
            }

            function renderEmptyResults(message) {
                const blank = {
                    factor: '—',
                    iz: '—',
                    thermal: 'Enter protective device rating (In) to verify thermal compliance.',
                    voltageDrop: 'Add mV/A/m, length, and design current to compute ΔV.',
                    maxLength: 'Provide run length and limit to estimate allowable span.',
                    sMin: 'Enter short-circuit data to calculate S_min.',
                    adiabatic: 'Provide conductor CSA and fault values for adiabatic check.',
                    notes: message || 'Awaiting valid inputs to compute results.'
                };
                renderResults(blank);
            }

            function renderError(errors) {
                if (!errors || errors.length === 0) {
                    els.errorBox.style.display = 'none';
                    els.errorBox.textContent = '';
                    return;
                }
                els.errorBox.style.display = 'block';
                els.errorBox.textContent = errors.join(' ');
            }

            function updateModeVisibility(mode) {
                els.verifyBlock.style.display = (mode === 'verify' || mode === 'full') ? 'block' : 'none';
                els.scBlock.style.display = mode === 'full' ? 'block' : 'none';
            }

            function update() {
                const inputs = parseInputs();
                const validation = validate(inputs);
                if (!validation.ok) {
                    renderError(validation.errors);
                    renderEmptyResults('Correct the highlighted errors above before recalculating.');
                    return;
                }
                renderError([]);
                const outputs = compute(inputs);
                if (!outputs) {
                    renderError(['Unable to compute results with the provided inputs.']);
                    renderEmptyResults('Adjust inputs to produce a valid result.');
                    return;
                }
                const formatted = formatOutputs(outputs);
                renderResults(formatted);
            }

            element.addEventListener('change', debouncedUpdate);
            });
            els.modeRadios.forEach(radio => {
                radio.addEventListener('change', () => {
                    updateModeVisibility(radio.value);
                    debouncedUpdate();
                });
            });
            els.calcBtn.addEventListener('click', () => {
                updateModeVisibility(getSelectedMode());
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

                update();
            });
            els.resetBtn.addEventListener('click', () => {
                setDefaultValues();
                updateModeVisibility(defaults.mode);
                update();
            });

            setDefaultValues();
            updateModeVisibility(defaults.mode);
            update();
        })();
    </script>
</body>
</html>
