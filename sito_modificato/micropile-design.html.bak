<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/micropile-design" />
    <title>Micropile Design Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Micropile Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Micropile Design Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Micropile Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/micropile-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Micropile Design Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Micropile Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Structural Engineering Calculators", "item": "https://calcdomain.com/subcategories/structural-engineering"}, {"@type": "ListItem", "position": 4, "name": "Micropile Design Calculator (Axial Compression)", "item": "https://calcdomain.com/micropile-design"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/structural-engineering" class="text-blue-600 hover:underline">Structural Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Micropile Design Calculator (Axial Compression)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-2xl font-bold mb-2">
              Micropile Design Calculator (Axial Compression)
            </h1>
            <p class="text-gray-700 mb-4">
              Quickly estimate axial capacity, required bond length, and
              utilization for a single micropile in compression. Based on common
              FHWA-style methods for grout–ground bond and structural capacity
              checks.
            </p>

            <div class="mb-6">
              <div class="flex flex-wrap gap-2 text-xs text-gray-600">
                <span class="px-2 py-1 bg-blue-50 text-blue-700 rounded-full"
                  >Micropiles</span
                >
                <span class="px-2 py-1 bg-blue-50 text-blue-700 rounded-full"
                  >Axial Capacity</span
                >
                <span class="px-2 py-1 bg-blue-50 text-blue-700 rounded-full"
                  >Bond Length</span
                >
                <span class="px-2 py-1 bg-blue-50 text-blue-700 rounded-full"
                  >FHWA-style</span
                >
              </div>
            </div>

            <!-- Calculator Form -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-3">
                Micropile Design Inputs
              </h2>

              <div class="mb-4">
                <label
                  class="inline-flex items-center space-x-2 text-sm font-medium text-gray-700"
                >
                  <span>Design method:</span>
                  <select
                    id="designMethod"
                    class="border border-gray-300 rounded px-2 py-1 text-sm"
                  >
                    <option value="fs" selected>
                      Allowable stress design (Factor of Safety)
                    </option>
                    <option value="phi">LRFD (Resistance factor &phi;)</option>
                  </select>
                </label>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="unitSystem"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Unit system</label
                  >
                  <select
                    id="unitSystem"
                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  >
                    <option value="metric" selected>Metric (kN, m, MPa)</option>
                    <option value="us">US Customary (kips, ft, ksi)</option>
                  </select>
                </div>
                <div>
                  <label
                    for="loadType"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Input load as</label
                  >
                  <select
                    id="loadType"
                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  >
                    <option value="service" selected>
                      Service / unfactored load
                    </option>
                    <option value="factored">Factored design load</option>
                  </select>
                </div>
              </div>

              <div class="input-grid mb-6">
                <!-- Loads & safety -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3
                    class="font-semibold mb-2 text-gray-800 text-sm uppercase tracking-wide"
                  >
                    Loads &amp; Safety
                  </h3>

                  <label class="block mb-3">
                    <span
                      id="labelDesignLoad"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Service axial load (kN)</span
                    >
                    <input
                      type="number"
                      id="designLoad"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="1000"
                      step="any"
                    />
                    <span class="text-xs text-gray-500"
                      >Compression load per micropile.</span
                    >
                  </label>

                  <label class="block mb-3" id="fsRow">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Factor of safety, FS</span
                    >
                    <input
                      type="number"
                      id="fs"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="2.0"
                      step="0.1"
                      min="1.1"
                    />
                    <span class="text-xs text-gray-500"
                      >Typical range 1.5–3.0 for axial compression.</span
                    >
                  </label>

                  <label class="block mb-3 hidden" id="phiRow">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Resistance factor, &phi;</span
                    >
                    <input
                      type="number"
                      id="phi"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="0.5"
                      step="0.05"
                      min="0.1"
                      max="1"
                    />
                    <span class="text-xs text-gray-500"
                      >Typical LRFD &phi; for micropiles is 0.4–0.6 (check
                      code).</span
                    >
                  </label>

                  <label class="block mb-1">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Load factor (if service load given)</span
                    >
                    <input
                      type="number"
                      id="gammaLoad"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="1.5"
                      step="0.05"
                      min="1"
                    />
                  </label>
                  <span class="text-xs text-gray-500"
                    >Used only if you input service load but design in
                    LRFD.</span
                  >
                </div>

                <!-- Geometry & materials -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3
                    class="font-semibold mb-2 text-gray-800 text-sm uppercase tracking-wide"
                  >
                    Geometry &amp; Materials
                  </h3>

                  <label class="block mb-3">
                    <span
                      id="labelDiameter"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Pile diameter (mm)</span
                    >
                    <input
                      type="number"
                      id="pileDiameter"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="300"
                      step="1"
                      min="50"
                    />
                    <span class="text-xs text-gray-500"
                      >Outside diameter of grout column.</span
                    >
                  </label>

                  <label class="block mb-3">
                    <span
                      id="labelSteelArea"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Steel area (cm²)</span
                    >
                    <input
                      type="number"
                      id="steelArea"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="20"
                      step="0.1"
                      min="0"
                    />
                    <span class="text-xs text-gray-500"
                      >Total steel area (bars or casing) in cross-section.</span
                    >
                  </label>

                  <label class="block mb-3">
                    <span
                      id="labelFy"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Steel yield strength f<sub>y</sub> (MPa)</span
                    >
                    <input
                      type="number"
                      id="fy"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="500"
                      step="10"
                      min="100"
                    />
                  </label>

                  <label class="block mb-1">
                    <span
                      id="labelFcg"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Grout compressive strength f'<sub>cg</sub> (MPa)</span
                    >
                    <input
                      type="number"
                      id="fcg"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="35"
                      step="1"
                      min="10"
                    />
                  </label>
                  <span class="text-xs text-gray-500"
                    >Used to estimate grout contribution to structural
                    capacity.</span
                  >
                </div>

                <!-- Bond & length -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3
                    class="font-semibold mb-2 text-gray-800 text-sm uppercase tracking-wide"
                  >
                    Bond &amp; Length
                  </h3>

                  <label class="block mb-3">
                    <span
                      id="labelBondStrength"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Grout–ground bond strength (kPa)</span
                    >
                    <input
                      type="number"
                      id="bondStrength"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="300"
                      step="10"
                      min="10"
                    />
                    <span class="text-xs text-gray-500"
                      >Typical design values 100–600 kPa depending on ground and
                      testing.</span
                    >
                  </label>

                  <label class="block mb-3">
                    <span
                      id="labelBondLength"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Bonded length in bearing stratum (m)</span
                    >
                    <input
                      type="number"
                      id="bondLength"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="8"
                      step="0.1"
                      min="0.5"
                    />
                  </label>

                  <label class="block mb-1">
                    <span
                      id="labelUnbondedLength"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Unbonded length (m)</span
                    >
                    <input
                      type="number"
                      id="unbondedLength"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="4"
                      step="0.1"
                      min="0"
                    />
                  </label>
                  <span class="text-xs text-gray-500"
                    >Used only for reporting total pile length.</span
                  >
                </div>

                <!-- Reduction factors -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3
                    class="font-semibold mb-2 text-gray-800 text-sm uppercase tracking-wide"
                  >
                    Resistance Factors
                  </h3>

                  <label class="block mb-3">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Geotechnical reduction factor (α<sub>g</sub>)</span
                    >
                    <input
                      type="number"
                      id="alphaG"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="1.0"
                      step="0.05"
                      min="0.1"
                      max="1.5"
                    />
                    <span class="text-xs text-gray-500"
                      >For ASD, this acts as a reduction on bond capacity. For
                      LRFD, keep at 1.0 and adjust &phi; as needed.</span
                    >
                  </label>

                  <label class="block mb-3">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Structural reduction factor (α<sub>s</sub>)</span
                    >
                    <input
                      type="number"
                      id="alphaS"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="1.0"
                      step="0.05"
                      min="0.1"
                      max="1.5"
                    />
                    <span class="text-xs text-gray-500"
                      >Accounts for corrosion, construction tolerances,
                      etc.</span
                    >
                  </label>

                  <label class="block mb-1">
                    <span class="block text-sm font-medium text-gray-700 mb-1"
                      >Grout contribution factor (η<sub>g</sub>)</span
                    >
                    <input
                      type="number"
                      id="etaGrout"
                      class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                      value="0.3"
                      step="0.05"
                      min="0"
                      max="1"
                    />
                  </label>
                  <span class="text-xs text-gray-500"
                    >Fraction of grout compressive capacity mobilized in axial
                    compression (simplified).</span
                  >
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3 mb-4">
                <button
                  id="calcButton"
                  class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded shadow-sm"
                >
                  Calculate Micropile Capacity
                </button>
                <button
                  id="resetButton"
                  class="text-sm text-gray-600 hover:text-gray-800 underline"
                >
                  Reset to defaults
                </button>
                <span id="calcError" class="text-sm text-red-600"></span>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-10">
              <h2 id="results-heading" class="text-xl font-semibold mb-3">
                Micropile Design Results
              </h2>

              <div id="resultsContainer" class="grid md:grid-cols-2 gap-4">
                <!-- Summary -->
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <h3 class="font-semibold mb-2 text-gray-800">
                    Capacity Summary
                  </h3>
                  <dl class="text-sm text-gray-800 space-y-1">
                    <div class="flex justify-between">
                      <dt>Design method</dt>
                      <dd id="resDesignMethod" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Input design load</dt>
                      <dd id="resDesignLoad" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Required ultimate load</dt>
                      <dd id="resRequiredUltimate" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Geotechnical capacity</dt>
                      <dd id="resGeoCap" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Structural capacity</dt>
                      <dd id="resStructCap" class="font-medium">—</dd>
                    </div>
                    <div
                      class="flex justify-between border-t border-gray-200 pt-2 mt-2"
                    >
                      <dt>Controlling capacity</dt>
                      <dd
                        id="resControlCap"
                        class="font-semibold text-blue-700"
                      >
                        —
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Utilization ratio</dt>
                      <dd id="resUtilization" class="font-semibold">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Status</dt>
                      <dd id="resStatus" class="font-semibold">—</dd>
                    </div>
                  </dl>
                </div>

                <!-- Bond length & geometry -->
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                  <h3 class="font-semibold mb-2 text-gray-800">
                    Bond Length &amp; Geometry
                  </h3>
                  <dl class="text-sm text-gray-800 space-y-1">
                    <div class="flex justify-between">
                      <dt>Unit system</dt>
                      <dd id="resUnitSystem" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Pile diameter</dt>
                      <dd id="resDiameter" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Steel area</dt>
                      <dd id="resSteelArea" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Bond strength</dt>
                      <dd id="resBondStrength" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Provided bond length</dt>
                      <dd id="resBondLength" class="font-medium">—</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Required bond length</dt>
                      <dd
                        id="resReqBondLength"
                        class="font-semibold text-blue-700"
                      >
                        —
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Bond length margin</dt>
                      <dd id="resBondMargin" class="font-semibold">—</dd>
                    </div>
                    <div
                      class="flex justify-between border-t border-gray-200 pt-2 mt-2"
                    >
                      <dt>Total pile length</dt>
                      <dd id="resTotalLength" class="font-medium">—</dd>
                    </div>
                  </dl>
                </div>
              </div>

              <p class="mt-3 text-xs text-gray-500">
                Note: This tool provides preliminary sizing only. Always verify
                design with project-specific subsurface data, load testing, and
                applicable standards (e.g., FHWA micropile manuals, AASHTO LRFD,
                local codes).
              </p>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>Micropile Design Basics</h2>
              <p>
                Micropiles (also called minipiles) are small-diameter, drilled
                and grouted piles that transfer load through a combination of
                grout–ground bond and structural capacity of steel and grout.
                They are widely used for underpinning, seismic retrofit, and
                deep foundations in restricted-access sites.
              </p>

              <h3>Axial capacity components</h3>
              <p>
                For a single micropile in compression, two main resistances are
                checked:
              </p>
              <ul>
                <li>
                  <strong>Geotechnical (bond) capacity</strong> – shear
                  resistance along the grout–ground interface.
                </li>
                <li>
                  <strong>Structural capacity</strong> – axial strength of the
                  steel and grout section.
                </li>
              </ul>

              <div class="formula-box">
                <p class="font-semibold mb-1">
                  1. Geotechnical (bond) capacity
                </p>
                <p>The ultimate bond capacity is approximated as:</p>
                <p>\( Q_{g,ult} = \alpha_g \, q_b \, \pi \, d \, L_b \)</p>
                <ul>
                  <li>\( q_b \) = grout–ground bond strength</li>
                  <li>\( d \) = pile diameter</li>
                  <li>\( L_b \) = bonded length in competent stratum</li>
                  <li>
                    \( \alpha_g \) = geotechnical reduction factor
                    (construction, variability, etc.)
                  </li>
                </ul>
              </div>

              <div class="formula-box">
                <p class="font-semibold mb-1">2. Structural capacity</p>
                <p>
                  A simplified axial compression capacity can be written as:
                </p>
                <p>
                  \( Q_{s,ult} = \alpha_s \left( A_s f_y + \eta_g A_g f'_{cg}
                  \right) \)
                </p>
                <ul>
                  <li>\( A_s \) = steel area</li>
                  <li>\( f_y \) = steel yield strength</li>
                  <li>\( A_g \) = grout area (gross area minus steel area)</li>
                  <li>\( f'_{cg} \) = grout compressive strength</li>
                  <li>
                    \( \eta_g \) = fraction of grout strength mobilized in axial
                    compression
                  </li>
                  <li>
                    \( \alpha_s \) = structural reduction factor (corrosion,
                    imperfections)
                  </li>
                </ul>
              </div>

              <div class="formula-box">
                <p class="font-semibold mb-1">3. Required bond length</p>
                <p>
                  Rearranging the bond capacity equation for a target ultimate
                  load \( Q_{ult,req} \):
                </p>
                <p>
                  \( L_{b,req} = \dfrac{Q_{ult,req}}{\alpha_g \, q_b \, \pi \,
                  d} \)
                </p>
              </div>

              <h3>Allowable stress vs LRFD</h3>
              <ul>
                <li>
                  <strong>Allowable stress design (ASD)</strong>:
                  <ul>
                    <li>Compute ultimate capacities \( Q_{ult} \).</li>
                    <li>Allowable capacity \( Q_{allow} = Q_{ult} / FS \).</li>
                    <li>Check \( Q_{allow} \geq Q_{service} \).</li>
                  </ul>
                </li>
                <li>
                  <strong>LRFD</strong>:
                  <ul>
                    <li>Compute ultimate capacities \( Q_{ult} \).</li>
                    <li>Design resistance \( R_n = \phi Q_{ult} \).</li>
                    <li>Check \( R_n \geq Q_{factored} \).</li>
                  </ul>
                </li>
              </ul>

              <h2>How to interpret the results</h2>
              <ul>
                <li>
                  <strong>Controlling capacity</strong> – the smaller of
                  geotechnical and structural capacities.
                </li>
                <li>
                  <strong>Utilization ratio</strong> – ratio of required
                  ultimate load to controlling capacity.
                </li>
                <li>
                  <strong>Required bond length</strong> – minimum bonded length
                  to carry the design load.
                </li>
                <li>
                  <strong>Bond length margin</strong> – positive value means
                  your provided bond length is sufficient.
                </li>
              </ul>

              <p>
                If utilization is greater than 1.0 or the bond length margin is
                negative, you can:
              </p>
              <ul>
                <li>Increase pile diameter or bonded length.</li>
                <li>Increase steel area or use higher-strength steel.</li>
                <li>
                  Improve bond strength (e.g., rougher borehole, better grout,
                  different stratum).
                </li>
                <li>
                  Reduce the load assigned to each micropile by adding more
                  piles.
                </li>
              </ul>

              <h2>Engineering notes & limitations</h2>
              <ul>
                <li>
                  This tool is intended for preliminary sizing and educational
                  use.
                </li>
                <li>
                  It does not account for group effects, buckling in weak
                  strata, lateral loads, seismic demands, or detailed corrosion
                  allowances.
                </li>
                <li>
                  Bond strength values should be based on local experience, load
                  testing, or guidance from micropile manuals (e.g., FHWA, state
                  DOT documents).
                </li>
                <li>
                  Always perform a full design per the governing code (e.g.,
                  AASHTO LRFD, EN 1997, local standards) and project
                  specifications.
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>Can I use this calculator for tension micropiles?</h3>
              <p>
                The same bond equations apply in principle, but uplift design
                often uses different safety factors, bond strengths, and
                detailing (e.g., corrosion protection, anchorage). This tool
                does not explicitly check tension or cyclic loading; treat any
                tension use as preliminary only.
              </p>

              <h3>What bond strength should I use?</h3>
              <p>
                Bond strength depends strongly on ground type, drilling method,
                and grout. Typical design values range from about 100–200 kPa in
                weak soils to 400–800 kPa or more in competent rock, but you
                should always refer to project-specific test data or
                authoritative manuals.
              </p>

              <h3>How many micropiles do I need?</h3>
              <p>
                Once you have the allowable or design capacity of a single
                micropile, divide the total load on the foundation element by
                that capacity (including load factors and safety factors) and
                round up to the next whole number. Then check group effects,
                spacing, and cap stiffness in a full foundation analysis.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Design method: Allowable stress design (Factor of Safety) LRFD (Resistance factor &phi;)</li><li>Unit system Metric (kN, m, MPa) US Customary (kips, ft, ksi) Input load as Service / unfactored load Factored design load Loads &amp; Safety Service axial load (kN) Compression load per micropile.</li><li>Factor of safety, FS Typical range 1.5–3.0 for axial compression.</li><li>Resistance factor, &phi; Typical LRFD &phi; for micropiles is 0.4–0.6 (check code).</li><li>Load factor (if service load given)</li><li>Pile diameter (mm) Outside diameter of grout column.</li><li>Steel area (cm²) Total steel area (bars or casing) in cross-section.</li><li>Steel yield strength f y (MPa)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Micropile, Design, Design method: Allowable stress design (Factor of Safety) LRFD (Resistance factor &phi;), Unit system Metric (kN, m, MPa) US Customary (kips, ft, ksi) Input load as Service / unfactored load Factored design load Loads &amp; Safety Service axial load (kN) Compression load per micropile., Factor of safety, FS Typical range 1.5–3.0 for axial compression., Resistance factor, &phi; Typical LRFD &phi; for micropiles is 0.4–0.6 (check code)., Load factor (if service load given), Pile diameter (mm) Outside diameter of grout column..</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Design method: Allowable stress design (Factor of Safety) LRFD (Resistance factor &phi;)</li><li>Unit system Metric (kN, m, MPa) US Customary (kips, ft, ksi) Input load as Service / unfactored load Factored design load Loads &amp; Safety Service axial load (kN) Compression load per micropile.</li><li>Factor of safety, FS Typical range 1.5–3.0 for axial compression.</li><li>Resistance factor, &phi; Typical LRFD &phi; for micropiles is 0.4–0.6 (check code).</li><li>Load factor (if service load given)</li><li>Pile diameter (mm) Outside diameter of grout column.</li><li>Steel area (cm²) Total steel area (bars or casing) in cross-section.</li><li>Steel yield strength f y (MPa)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Structural Engineering Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/soil-nail-design"
                  class="text-blue-600 hover:underline"
                  >Soil Nail Wall Design</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pile-capacity"
                  class="text-blue-600 hover:underline"
                  >Pile Capacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retaining-wall-stability"
                  class="text-blue-600 hover:underline"
                  >Retaining Wall Stability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bearing-capacity"
                  class="text-blue-600 hover:underline"
                  >Soil Bearing Capacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/eurocode-7-pile-capacity"
                  class="text-blue-600 hover:underline"
                  >Eurocode 7 Pile Capacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stress-and-strain"
                  class="text-blue-600 hover:underline"
                  >Stress and Strain</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/aisc-steel-column-design"
                  class="text-blue-600 hover:underline"
                  >Steel Column Design (AISC)</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/moment-of-inertia"
                  class="text-blue-600 hover:underline"
                  >Moment of Inertia</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bernoulli-equation"
                  class="text-blue-600 hover:underline"
                  >Bernoulli's Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reynolds-number"
                  class="text-blue-600 hover:underline"
                  >Reynolds Number</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/heat-transfer"
                  class="text-blue-600 hover:underline"
                  >Heat Transfer</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/aci-318"
                  class="text-blue-600 hover:underline"
                  >ACI 318 Concrete Design</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/civil"
                  class="text-blue-600 hover:underline"
                  >Civil Engineering Suite</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: format with units
      function fmt(value, unit, decimals = 1) {
        if (value === null || isNaN(value)) return "—";
        return value.toFixed(decimals) + " " + unit;
      }

      function calculateMicropile() {
        const errEl = document.getElementById("calcError");
        errEl.textContent = "";

        const unitSystem = document.getElementById("unitSystem").value;
        const designMethod = document.getElementById("designMethod").value;
        const loadType = document.getElementById("loadType").value;

        let designLoad = parseFloat(
          document.getElementById("designLoad").value
        ); // service or factored
        const FS = parseFloat(document.getElementById("fs").value);
        const phi = parseFloat(document.getElementById("phi").value);
        const gammaLoad = parseFloat(
          document.getElementById("gammaLoad").value
        );

        let d = parseFloat(document.getElementById("pileDiameter").value); // mm or in
        let As = parseFloat(document.getElementById("steelArea").value); // cm2 or in2
        let fy = parseFloat(document.getElementById("fy").value); // MPa or ksi
        let fcg = parseFloat(document.getElementById("fcg").value); // MPa or ksi

        let qb = parseFloat(document.getElementById("bondStrength").value); // kPa or psi
        let Lb = parseFloat(document.getElementById("bondLength").value); // m or ft
        let Lu = parseFloat(document.getElementById("unbondedLength").value); // m or ft

        const alphaG = parseFloat(document.getElementById("alphaG").value);
        const alphaS = parseFloat(document.getElementById("alphaS").value);
        const etaGrout = parseFloat(document.getElementById("etaGrout").value);

        // Basic validation
        const inputs = [designLoad, d, As, fy, fcg, qb, Lb];
        if (inputs.some((v) => isNaN(v) || v <= 0)) {
          errEl.textContent =
            "Please enter positive numeric values for all required fields.";
          return;
        }
        if (designMethod === "fs" && (isNaN(FS) || FS <= 1)) {
          errEl.textContent = "Factor of safety must be greater than 1.";
          return;
        }
        if (designMethod === "phi" && (isNaN(phi) || phi <= 0 || phi > 1)) {
          errEl.textContent = "Resistance factor φ must be between 0 and 1.";
          return;
        }

        // Convert everything to consistent base units internally:
        // Use SI: kN, m, MPa, kPa
        let load_kN, d_m, As_m2, fy_MPa, fcg_MPa, qb_kPa, Lb_m, Lu_m;

        if (unitSystem === "metric") {
          load_kN = designLoad;
          d_m = d / 1000.0;
          As_m2 = As / 1e4; // cm2 to m2
          fy_MPa = fy;
          fcg_MPa = fcg;
          qb_kPa = qb;
          Lb_m = Lb;
          Lu_m = isNaN(Lu) ? 0 : Lu;
        } else {
          // US: kips, ft, in, in2, ksi, psi
          // Convert to SI
          load_kN = designLoad * 4.44822; // 1 kip = 4.44822 kN
          d_m = d * 0.0254; // in to m
          As_m2 = As * 0.00064516; // in2 to m2
          fy_MPa = fy * 6.89476; // ksi to MPa
          fcg_MPa = fcg * 6.89476; // ksi to MPa
          qb_kPa = qb * 6.89476; // psi to kPa
          Lb_m = Lb * 0.3048; // ft to m
          Lu_m = isNaN(Lu) ? 0 : Lu * 0.3048;
        }

        // Determine required ultimate load
        let Q_req_ult_kN;
        let designLabel;
        if (designMethod === "fs") {
          // ASD: designLoad is service; ultimate = service * FS
          if (loadType === "factored") {
            // If user mistakenly inputs factored, treat as service approx
            Q_req_ult_kN = designLoad * FS;
          } else {
            Q_req_ult_kN = load_kN * FS;
          }
          designLabel = `ASD (FS = ${FS.toFixed(2)})`;
        } else {
          // LRFD: designLoad is factored; ultimate = factored / φ
          let factored_kN;
          if (loadType === "service") {
            factored_kN = load_kN * gammaLoad;
          } else {
            factored_kN = load_kN;
          }
          Q_req_ult_kN = factored_kN / phi;
          designLabel = `LRFD (φ = ${phi.toFixed(2)})`;
        }

        // Geotechnical capacity (ultimate)
        const perimeter_m = Math.PI * d_m;
        const Q_geo_ult_kN = (alphaG * qb_kPa * perimeter_m * Lb_m) / 1000.0; // kPa*m2 = kN

        // Structural capacity (ultimate)
        const Ag_m2 = Math.max((Math.PI * d_m * d_m) / 4.0 - As_m2, 0);
        const Q_steel_kN = As_m2 * fy_MPa; // MPa * m2 = MN = 1000 kN
        const Q_steel_kN_adj = Q_steel_kN; // already in kN? Wait: 1 MPa = 1 N/mm2 = 1e6 N/m2; As in m2 => N = MPa*m2*1e6? Simpler: use consistent: MPa * m2 = MN; 1 MN = 1000 kN
        const Q_steel_kN_final = alphaS * Q_steel_kN_adj * 1000.0; // convert MN to kN

        const Q_grout_kN = etaGrout * Ag_m2 * fcg_MPa * 1000.0; // MPa*m2 => MN => kN
        const Q_struct_ult_kN = Q_steel_kN_final + Q_grout_kN;

        // Controlling capacity
        const Q_control_ult_kN = Math.min(Q_geo_ult_kN, Q_struct_ult_kN);

        // Utilization
        const utilization = Q_req_ult_kN / Q_control_ult_kN;

        // Required bond length for required ultimate load
        const Lb_req_m =
          (Q_req_ult_kN * 1000.0) / (alphaG * qb_kPa * perimeter_m); // invert Q_geo formula
        const bondMargin_m = Lb_m - Lb_req_m;
        const totalLength_m = Lb_m + Lu_m;

        // Convert outputs back to selected units
        let unitLoad, unitLength, unitStress, unitBond;
        let designLoadOut,
          requiredUltOut,
          geoCapOut,
          structCapOut,
          controlCapOut;
        let diameterOut,
          steelAreaOut,
          bondStrengthOut,
          bondLengthOut,
          reqBondLengthOut,
          bondMarginOut,
          totalLengthOut;

        if (unitSystem === "metric") {
          unitLoad = "kN";
          unitLength = "m";
          unitStress = "MPa";
          unitBond = "kPa";

          designLoadOut = fmt(load_kN, "kN", 1);
          requiredUltOut = fmt(Q_req_ult_kN, "kN", 1);
          geoCapOut = fmt(Q_geo_ult_kN, "kN", 1);
          structCapOut = fmt(Q_struct_ult_kN, "kN", 1);
          controlCapOut = fmt(Q_control_ult_kN, "kN", 1);

          diameterOut = fmt(d_m * 1000.0, "mm", 0);
          steelAreaOut = fmt(As_m2 * 1e4, "cm²", 1);
          bondStrengthOut = fmt(qb_kPa, "kPa", 0);
          bondLengthOut = fmt(Lb_m, "m", 2);
          reqBondLengthOut = fmt(Lb_req_m, "m", 2);
          bondMarginOut = fmt(bondMargin_m, "m", 2);
          totalLengthOut = fmt(totalLength_m, "m", 2);
        } else {
          unitLoad = "kips";
          unitLength = "ft";
          unitStress = "ksi";
          unitBond = "psi";

          const load_kips = load_kN / 4.44822;
          const Q_req_ult_kips = Q_req_ult_kN / 4.44822;
          const Q_geo_ult_kips = Q_geo_ult_kN / 4.44822;
          const Q_struct_ult_kips = Q_struct_ult_kN / 4.44822;
          const Q_control_ult_kips = Q_control_ult_kN / 4.44822;

          designLoadOut = fmt(load_kips, "kips", 2);
          requiredUltOut = fmt(Q_req_ult_kips, "kips", 2);
          geoCapOut = fmt(Q_geo_ult_kips, "kips", 2);
          structCapOut = fmt(Q_struct_ult_kips, "kips", 2);
          controlCapOut = fmt(Q_control_ult_kips, "kips", 2);

          const d_in = d_m / 0.0254;
          const As_in2 = As_m2 / 0.00064516;
          const qb_psi = qb_kPa / 6.89476;
          const Lb_ft = Lb_m / 0.3048;
          const Lb_req_ft = Lb_req_m / 0.3048;
          const bondMargin_ft = bondMargin_m / 0.3048;
          const totalLength_ft = totalLength_m / 0.3048;

          diameterOut = fmt(d_in, "in", 2);
          steelAreaOut = fmt(As_in2, "in²", 2);
          bondStrengthOut = fmt(qb_psi, "psi", 1);
          bondLengthOut = fmt(Lb_ft, "ft", 2);
          reqBondLengthOut = fmt(Lb_req_ft, "ft", 2);
          bondMarginOut = fmt(bondMargin_ft, "ft", 2);
          totalLengthOut = fmt(totalLength_ft, "ft", 2);
        }

        // Status text
        let statusText = "OK";
        let statusClass = "text-green-700";
        if (utilization > 1.0) {
          statusText = "Overstressed";
          statusClass = "text-red-700";
        } else if (utilization > 0.9) {
          statusText = "Near capacity";
          statusClass = "text-amber-700";
        }

        // Update DOM
        document.getElementById("resDesignMethod").textContent = designLabel;
        document.getElementById("resDesignLoad").textContent = designLoadOut;
        document.getElementById("resRequiredUltimate").textContent =
          requiredUltOut;
        document.getElementById("resGeoCap").textContent = geoCapOut;
        document.getElementById("resStructCap").textContent = structCapOut;
        document.getElementById("resControlCap").textContent = controlCapOut;
        document.getElementById("resUtilization").textContent =
          (utilization * 100).toFixed(1) + " %";
        const statusEl = document.getElementById("resStatus");
        statusEl.textContent = statusText;
        statusEl.className = "font-semibold " + statusClass;

        document.getElementById("resUnitSystem").textContent =
          unitSystem === "metric"
            ? "Metric (kN, m, MPa)"
            : "US (kips, ft, ksi)";
        document.getElementById("resDiameter").textContent = diameterOut;
        document.getElementById("resSteelArea").textContent = steelAreaOut;
        document.getElementById("resBondStrength").textContent =
          bondStrengthOut;
        document.getElementById("resBondLength").textContent = bondLengthOut;
        document.getElementById("resReqBondLength").textContent =
          reqBondLengthOut;
        document.getElementById("resBondMargin").textContent = bondMarginOut;
        document.getElementById("resTotalLength").textContent = totalLengthOut;
      }

      function resetMicropileForm() {
        document.getElementById("unitSystem").value = "metric";
        document.getElementById("designMethod").value = "fs";
        document.getElementById("loadType").value = "service";
        document.getElementById("designLoad").value = 1000;
        document.getElementById("fs").value = 2.0;
        document.getElementById("phi").value = 0.5;
        document.getElementById("gammaLoad").value = 1.5;
        document.getElementById("pileDiameter").value = 300;
        document.getElementById("steelArea").value = 20;
        document.getElementById("fy").value = 500;
        document.getElementById("fcg").value = 35;
        document.getElementById("bondStrength").value = 300;
        document.getElementById("bondLength").value = 8;
        document.getElementById("unbondedLength").value = 4;
        document.getElementById("alphaG").value = 1.0;
        document.getElementById("alphaS").value = 1.0;
        document.getElementById("etaGrout").value = 0.3;
        document.getElementById("calcError").textContent = "";
        updateUnitLabels();
        updateDesignMethodVisibility();
        calculateMicropile();
      }

      function updateUnitLabels() {
        const unitSystem = document.getElementById("unitSystem").value;
        if (unitSystem === "metric") {
          document.getElementById("labelDesignLoad").textContent =
            "Service axial load (kN)";
          document.getElementById("labelDiameter").textContent =
            "Pile diameter (mm)";
          document.getElementById("labelSteelArea").textContent =
            "Steel area (cm²)";
          document.getElementById("labelFy").textContent =
            "Steel yield strength f\u2097 (MPa)";
          document.getElementById("labelFcg").textContent =
            "Grout compressive strength f'\u2090\u2098 (MPa)";
          document.getElementById("labelBondStrength").textContent =
            "Grout–ground bond strength (kPa)";
          document.getElementById("labelBondLength").textContent =
            "Bonded length in bearing stratum (m)";
          document.getElementById("labelUnbondedLength").textContent =
            "Unbonded length (m)";
        } else {
          document.getElementById("labelDesignLoad").textContent =
            "Service axial load (kips)";
          document.getElementById("labelDiameter").textContent =
            "Pile diameter (in)";
          document.getElementById("labelSteelArea").textContent =
            "Steel area (in²)";
          document.getElementById("labelFy").textContent =
            "Steel yield strength f\u2097 (ksi)";
          document.getElementById("labelFcg").textContent =
            "Grout compressive strength f'\u2090\u2098 (ksi)";
          document.getElementById("labelBondStrength").textContent =
            "Grout–ground bond strength (psi)";
          document.getElementById("labelBondLength").textContent =
            "Bonded length in bearing stratum (ft)";
          document.getElementById("labelUnbondedLength").textContent =
            "Unbonded length (ft)";
        }
      }

      function updateDesignMethodVisibility() {
        const method = document.getElementById("designMethod").value;
        const fsRow = document.getElementById("fsRow");
        const phiRow = document.getElementById("phiRow");
        if (method === "fs") {
          fsRow.classList.remove("hidden");
          phiRow.classList.add("hidden");
        } else {
          fsRow.classList.add("hidden");
          phiRow.classList.remove("hidden");
        }
      }

      document
        .getElementById("calcButton")
        .addEventListener("click", calculateMicropile);
      document
        .getElementById("resetButton")
        .addEventListener("click", function (e) {
          e.preventDefault();
          resetMicropileForm();
        });
      document
        .getElementById("unitSystem")
        .addEventListener("change", function () {
          updateUnitLabels();
          calculateMicropile();
        });
      document
        .getElementById("designMethod")
        .addEventListener("change", function () {
          updateDesignMethodVisibility();
          calculateMicropile();
        });
      document
        .getElementById("loadType")
        .addEventListener("change", calculateMicropile);

      // Initial setup
      updateUnitLabels();
      updateDesignMethodVisibility();
      calculateMicropile();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
