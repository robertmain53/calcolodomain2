<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Heptagon Calculator – area, perimeter, side, circumradius & apothem</title>
    <meta name="description" content="Free heptagon calculator for regular 7-sided polygons. Enter side, circumradius, apothem or area and get all the other properties: perimeter, area, interior angles, circumradius, apothem. With formulas and examples.">
    <link rel="canonical" href="https://calcdomain.com/heptagon-calculator">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .badge { display: inline-block; background: #eff6ff; color: #1d4ed8; padding: 0.2rem 0.6rem; border-radius: 9999px; font-size: .7rem; font-weight: 500; }
        .results-grid { display: grid; gap: 1rem; }
        @media (min-width: 768px) {
          .results-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
    </style>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA" />

    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

    <script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Math & Conversions",
              "item": "https://calcdomain.com/math-conversions"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Heptagon Calculator",
              "item": "https://calcdomain.com/heptagon-calculator"
            }
          ]
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is a regular heptagon?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "A regular heptagon is a 7-sided polygon with all sides equal and all interior angles equal. This calculator assumes a regular heptagon."
              }
            },
            {
              "@type": "Question",
              "name": "What is the area formula for a heptagon?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For a regular heptagon, the area is A = (7/4) × a² × cot(π/7), where a is the side length."
              }
            },
            {
              "@type": "Question",
              "name": "Can I calculate a heptagon from the circumradius?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. Since a regular heptagon can be inscribed in a circle, the side can be found from the circumradius using a = 2R × sin(π/7). This calculator supports that."
              }
            }
          ]
        }
      ]
    }
    </script>
</head>
<body class="bg-gray-50 text-gray-800">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
         crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off" />
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex items-center space-x-2">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li>/</li>
          <li><a href="https://calcdomain.com/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a></li>
          <li>/</li>
          <li class="text-gray-500" aria-current="page">Heptagon Calculator</li>
        </ol>
      </nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">Heptagon Calculator</h1>
              <p class="text-gray-600">Calculate everything about a <strong>regular heptagon</strong> (7-sided polygon): area, perimeter, side length, circumradius, apothem and interior angles. Choose what you already know and the tool will compute the rest.</p>
              <p class="mt-2"><span class="badge">Regular heptagon</span> <span class="badge">All key properties</span> <span class="badge">Formula-based</span></p>
            </header>

            <section id="heptagon-calculator" class="mb-8">
              <div class="grid gap-4 md:grid-cols-3">
                <div>
                  <label for="input-mode" class="block text-sm font-medium text-gray-700 mb-1">I know</label>
                  <select id="input-mode" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                    <option value="side" selected>Side length</option>
                    <option value="circumradius">Circumradius (R)</option>
                    <option value="apothem">Apothem (inradius)</option>
                    <option value="area">Area</option>
                  </select>
                </div>
                <div>
                  <label for="unit" class="block text-sm font-medium text-gray-700 mb-1">Unit</label>
                  <select id="unit" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                    <option value="m" selected>meters (m)</option>
                    <option value="cm">centimeters (cm)</option>
                    <option value="mm">millimeters (mm)</option>
                    <option value="in">inches (in)</option>
                    <option value="ft">feet (ft)</option>
                  </select>
                </div>
                <div>
                  <label for="precision" class="block text-sm font-medium text-gray-700 mb-1">Decimals</label>
                  <select id="precision" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                    <option value="2" selected>2 decimals</option>
                    <option value="3">3 decimals</option>
                    <option value="4">4 decimals</option>
                    <option value="6">6 decimals</option>
                  </select>
                </div>
              </div>

              <div id="input-field" class="mt-6 space-y-4">
                <div>
                  <label for="side" class="block text-sm font-medium text-gray-700 mb-1">Side length (a)</label>
                  <input type="number" id="side" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 5" min="0" step="any">
                </div>
              </div>

              <div class="mt-6 flex flex-wrap gap-3">
                <button id="calc-btn" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                  Calculate heptagon
                </button>
                <button id="reset-btn" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">
                  Reset
                </button>
              </div>

              <div id="result-panel" class="mt-6 bg-blue-50 border border-blue-100 rounded-md p-4 hidden">
                <p class="text-sm text-gray-500 mb-3">Results</p>
                <div class="results-grid">
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Side length (a)</p>
                    <p id="res-side" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Perimeter (P)</p>
                    <p id="res-perimeter" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Area (A)</p>
                    <p id="res-area" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Circumradius (R)</p>
                    <p id="res-circumradius" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Apothem (r)</p>
                    <p id="res-apothem" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Interior angle</p>
                    <p id="res-int-angle" class="text-lg font-semibold text-blue-700"></p>
                  </div>
                </div>
                <p id="res-note" class="text-xs text-gray-500 mt-4">Formulas used: P = 7a, A = (7/4)a²cot(π/7), R = a / (2 sin(π/7)), r = a / (2 tan(π/7)), interior = 5π/7 (≈128.571°)</p>
              </div>
            </section>

            <section class="prose">
              <h2>Heptagon formulas (regular)</h2>
              <p>For a <strong>regular heptagon</strong> (7 equal sides) the key formulas are:</p>

              <div class="formula-box">
                <h3 class="font-semibold mb-2">1. Perimeter</h3>
                <p>\( P = 7a \)</p>
                <p>where \( a \) is the side length.</p>
              </div>

              <div class="formula-box">
                <h3 class="font-semibold mb-2">2. Area</h3>
                <p>\( A = \frac{7}{4} a^2 \cot\left(\frac{\pi}{7}\right) \)</p>
              </div>

              <div class="formula-box">
                <h3 class="font-semibold mb-2">3. Circumradius (R)</h3>
                <p>\( R = \frac{a}{2 \sin(\pi/7)} \)</p>
              </div>

              <div class="formula-box">
                <h3 class="font-semibold mb-2">4. Apothem / Inradius (r)</h3>
                <p>\( r = \frac{a}{2 \tan(\pi/7)} \)</p>
              </div>

              <div class="formula-box">
                <h3 class="font-semibold mb-2">5. Interior angle</h3>
                <p>\( \text{Interior angle} = \frac{(n-2) \times 180^\circ}{n} = \frac{5 \times 180^\circ}{7} \approx 128.571^\circ \)</p>
              </div>

              <p>These come from the general regular polygon formulas with \( n = 7 \). Because 7 is prime, values like \( \sin(\pi/7) \) and \( \cot(\pi/7) \) are not “nice” numbers, so tools like this are especially handy.</p>
            </section>

            <section class="prose mt-10">
              <h2>Example</h2>
              <p><strong>Example:</strong> Find the area and perimeter of a regular heptagon with side 10 cm.</p>
              <ol>
                <li>Perimeter: \( P = 7 \times 10 = 70 \text{ cm} \)</li>
                <li>Area: \( A = \frac{7}{4} \times 10^2 \times \cot(\pi/7) = \frac{7}{4} \times 100 \times \cot(\pi/7) \approx 700 \times 0.4815746 \approx 337.10 \text{ cm}^2 \)</li>
              </ol>
              <p>The calculator performs this sequence for any unit you choose.</p>
            </section>

            <section class="mt-10" aria-labelledby="faq">
              <h2 id="faq" class="text-xl font-semibold mb-4">Heptagon Calculator – FAQ</h2>
              <div id="faq-container" class="space-y-4">
                <div class="border rounded-md">
                  <button class="w-full text-left px-4 py-3 flex justify-between items-center" data-faq-btn>
                    <span class="font-medium">Does this work for non-regular heptagons?</span>
                    <span aria-hidden="true">+</span>
                  </button>
                  <div class="px-4 pb-4 hidden" data-faq-panel>
                    <p>No – this page is for regular heptagons (7 equal sides, 7 equal angles). For arbitrary 7-sided polygons you’d need coordinates or side+angle data.</p>
                  </div>
                </div>
                <div class="border rounded-md">
                  <button class="w-full text-left px-4 py-3 flex justify-between items-center" data-faq-btn>
                    <span class="font-medium">What unit should I enter?</span>
                    <span aria-hidden="true">+</span>
                  </button>
                  <div class="px-4 pb-4 hidden" data-faq-panel>
                    <p>Any linear unit (m, cm, mm, in, ft). The calculator labels area with squared units (e.g. cm²) and lengths with the same unit you chose.</p>
                  </div>
                </div>
                <div class="border rounded-md">
                  <button class="w-full text-left px-4 py-3 flex justify-between items-center" data-faq-btn>
                    <span class="font-medium">Why is the formula so “ugly”?</span>
                    <span aria-hidden="true">+</span>
                  </button>
                  <div class="px-4 pb-4 hidden" data-faq-panel>
                    <p>Because 7 is not a “constructible” polygon like 3, 4, 5, 6 or 8. Trig functions of π/7 don’t simplify nicely, so calculators are the best way to get precise values.</p>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-4">Related polygon &amp; geometry tools</h2>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/polygon-calculator" class="text-blue-600 hover:underline">Regular Polygon Calculator</a></li>
              <li><a href="https://calcdomain.com/hexagon-calculator" class="text-blue-600 hover:underline">Hexagon Calculator</a></li>
              <li><a href="https://calcdomain.com/octagon-calculator" class="text-blue-600 hover:underline">Octagon Calculator</a></li>
              <li><a href="https://calcdomain.com/area" class="text-blue-600 hover:underline">Area Calculator</a></li>
              <li><a href="https://calcdomain.com/circle-calculator" class="text-blue-600 hover:underline">Circle Calculator</a></li>
            </ul>
          </div>

          <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-4">When to use a heptagon</h2>
            <p class="text-sm text-gray-600">Heptagons appear in geometry problems, tiling studies, some mechanical design sketches and in art/architecture patterns. This tool gives you exact values so you don’t have to approximate trig constants every time.</p>
          </div>
        </aside>
        
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
              <li><a href="https://calcdomain.com/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
              <li><a href="https://calcdomain.com/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
              <li><a href="https://calcdomain.com/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/script_menu.js" defer></script>
    <script src="/assets/js/script_faq.js" defer></script>
    <script src="search.js" defer></script>

    <script>
      const inputModeSelect = document.getElementById('input-mode');
      const inputFieldContainer = document.getElementById('input-field');
      const calcBtn = document.getElementById('calc-btn');
      const resetBtn = document.getElementById('reset-btn');
      const resultPanel = document.getElementById('result-panel');
      const unitSelect = document.getElementById('unit');
      const precisionSelect = document.getElementById('precision');

      const resSide = document.getElementById('res-side');
      const resPerimeter = document.getElementById('res-perimeter');
      const resArea = document.getElementById('res-area');
      const resCircumradius = document.getElementById('res-circumradius');
      const resApothem = document.getElementById('res-apothem');
      const resIntAngle = document.getElementById('res-int-angle');

      const N = 7;
      const PI = Math.PI;
      const sinPiOver7 = Math.sin(PI / 7);
      const tanPiOver7 = Math.tan(PI / 7);
      const cotPiOver7 = 1 / tanPiOver7;

      function renderInput(mode) {
        if (mode === 'side') {
          inputFieldContainer.innerHTML = `
            <div>
              <label for="side" class="block text-sm font-medium text-gray-700 mb-1">Side length (a)</label>
              <input type="number" id="side" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 5" min="0" step="any">
            </div>
          `;
        } else if (mode === 'circumradius') {
          inputFieldContainer.innerHTML = `
            <div>
              <label for="circumradius" class="block text-sm font-medium text-gray-700 mb-1">Circumradius (R)</label>
              <input type="number" id="circumradius" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 10" min="0" step="any">
              <p class="text-xs text-gray-400 mt-1">Radius of the circumscribed circle.</p>
            </div>
          `;
        } else if (mode === 'apothem') {
          inputFieldContainer.innerHTML = `
            <div>
              <label for="apothem" class="block text-sm font-medium text-gray-700 mb-1">Apothem (r)</label>
              <input type="number" id="apothem" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 8" min="0" step="any">
              <p class="text-xs text-gray-400 mt-1">Distance from center to a side.</p>
            </div>
          `;
        } else if (mode === 'area') {
          inputFieldContainer.innerHTML = `
            <div>
              <label for="area" class="block text-sm font-medium text-gray-700 mb-1">Area (A)</label>
              <input type="number" id="area" class="w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 50" min="0" step="any">
              <p class="text-xs text-gray-400 mt-1">Area of the heptagon in squared selected unit.</p>
            </div>
          `;
        }
      }

      inputModeSelect.addEventListener('change', (e) => {
        renderInput(e.target.value);
        resultPanel.classList.add('hidden');
      });

      function calculateHeptagon() {
        const mode = inputModeSelect.value;
        const prec = parseInt(precisionSelect.value, 10);
        let a = null; // side in chosen unit

        if (mode === 'side') {
          const val = parseFloat(document.getElementById('side')?.value);
          if (isNaN(val) || val <= 0) return null;
          a = val;
        } else if (mode === 'circumradius') {
          const R = parseFloat(document.getElementById('circumradius')?.value);
          if (isNaN(R) || R <= 0) return null;
          a = 2 * R * sinPiOver7;
        } else if (mode === 'apothem') {
          const r = parseFloat(document.getElementById('apothem')?.value);
          if (isNaN(r) || r <= 0) return null;
          a = 2 * r * tanPiOver7;
        } else if (mode === 'area') {
          const A = parseFloat(document.getElementById('area')?.value);
          if (isNaN(A) || A <= 0) return null;
          // A = (7/4) a^2 cot(pi/7) -> a = sqrt( 4A / (7 cot(pi/7)) )
          a = Math.sqrt((4 * A) / (N * cotPiOver7));
        }

        const P = N * a;
        const A = (N / 4) * a * a * cotPiOver7;
        const R = a / (2 * sinPiOver7);
        const r = a / (2 * tanPiOver7);
        const interiorAngle = ((N - 2) * 180) / N; // degrees

        return {
          a, P, A, R, r, interiorAngle, prec
        };
      }

      calcBtn.addEventListener('click', () => {
        const res = calculateHeptagon();
        const unit = unitSelect.value;
        if (!res) {
          resultPanel.classList.remove('hidden');
          resSide.textContent = 'Enter a valid positive number.';
          resPerimeter.textContent = '';
          resArea.textContent = '';
          resCircumradius.textContent = '';
          resApothem.textContent = '';
          resIntAngle.textContent = '';
          return;
        }

        const { a, P, A, R, r, interiorAngle, prec } = res;

        resultPanel.classList.remove('hidden');
        resSide.textContent = `${a.toLocaleString(undefined, { maximumFractionDigits: prec })} ${unit}`;
        resPerimeter.textContent = `${P.toLocaleString(undefined, { maximumFractionDigits: prec })} ${unit}`;
        resArea.textContent = `${A.toLocaleString(undefined, { maximumFractionDigits: prec })} ${unit}²`;
        resCircumradius.textContent = `${R.toLocaleString(undefined, { maximumFractionDigits: prec })} ${unit}`;
        resApothem.textContent = `${r.toLocaleString(undefined, { maximumFractionDigits: prec })} ${unit}`;
        resIntAngle.textContent = `${interiorAngle.toLocaleString(undefined, { maximumFractionDigits: 3 })} °`;
      });

      resetBtn.addEventListener('click', () => {
        inputModeSelect.value = 'side';
        unitSelect.value = 'm';
        precisionSelect.value = '2';
        renderInput('side');
        resultPanel.classList.add('hidden');
      });

      // init
      renderInput('side');

      // FAQ fallback toggle (in case global script missing)
      document.querySelectorAll('[data-faq-btn]').forEach(btn => {
        btn.addEventListener('click', () => {
          const panel = btn.parentElement.querySelector('[data-faq-panel]');
          panel.classList.toggle('hidden');
        });
      });
    </script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</body>
</html>
