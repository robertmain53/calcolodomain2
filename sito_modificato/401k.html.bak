<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/401k" />
    
    
    <title>401k Calculator Guide [Unmissable 2024] | CalcDomain</title>
    <meta name="description" content="Calculate 401k Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." /> />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    `1k Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate 401k Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/401k" />
    <meta name="twitter:card" content="summary" />
    `1k Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate 401k Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "FinancialProduct",
        "name": "401(k) Calculator",
        "description": "Interactive 401(k) calculator that projects retirement savings with employer match, Roth vs. traditional contributions, fees, and inflation. Includes year-by-year schedule and tax impact.",
        "url": "https://calcdomain.com/401k",
        "category": "https://schema.org/DefinedContributionPlan",
        "provider": {
          "@type": "Organization",
          "name": "CalcDomain",
          "url": "https://calcdomain.com"
        }
      }</script>
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Retirement Calculators", "item": "https://calcdomain.com/subcategories/finance-retirement"}, {"@type": "ListItem", "position": 4, "name": "401(k) Calculator", "item": "https://calcdomain.com/401k"}]}</script>
    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-retirement" class="text-blue-600 hover:underline">Retirement Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">401(k) Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                401(k) Calculator
              </h1>
              <p class="text-gray-700">
                Project your 401(k) balance with employer match, Roth vs.
                traditional contributions, fees, and inflation. See how much you
                could have at retirement and what that means in today’s dollars.
              </p>
            </header>

            <section aria-label="401k calculator" class="space-y-6">
              <!-- Tabs for Simple / Advanced -->
              <div class="flex border-b border-gray-200 mb-4">
                <button
                  id="tab-simple"
                  class="px-4 py-2 text-sm font-medium border-b-2 tab-active"
                >
                  Simple
                </button>
                <button
                  id="tab-advanced"
                  class="px-4 py-2 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-blue-600"
                >
                  Advanced
                </button>
              </div>

              <form id="k401-form" class="space-y-6">
                <!-- SIMPLE INPUTS -->
                <div id="simple-inputs" class="space-y-4">
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="current-age"
                        >Current age</label
                      >
                      <input
                        type="number"
                        id="current-age"
                        class="w-full border rounded-md px-3 py-2"
                        min="18"
                        max="70"
                        value="30"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="retirement-age"
                        >Retirement age</label
                      >
                      <input
                        type="number"
                        id="retirement-age"
                        class="w-full border rounded-md px-3 py-2"
                        min="40"
                        max="75"
                        value="67"
                      />
                    </div>
                  </div>

                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="current-balance"
                        >Current 401(k) balance ($)</label
                      >
                      <input
                        type="number"
                        id="current-balance"
                        class="w-full border rounded-md px-3 py-2"
                        min="0"
                        step="100"
                        value="50000"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="annual-salary"
                        >Annual salary ($)</label
                      >
                      <input
                        type="number"
                        id="annual-salary"
                        class="w-full border rounded-md px-3 py-2"
                        min="0"
                        step="1000"
                        value="80000"
                      />
                    </div>
                  </div>

                  <div class="grid md:grid-cols-2 gap-4 items-center">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="employee-percent"
                        >Your contribution (% of salary)</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="employee-percent"
                          min="0"
                          max="30"
                          step="1"
                          value="10"
                          class="w-full"
                        />
                        <span
                          id="employee-percent-val"
                          class="slider-value text-sm font-medium"
                          >10%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="employer-match-percent"
                        >Employer match (% of salary)</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="employer-match-percent"
                          min="0"
                          max="10"
                          step="0.5"
                          value="4"
                          class="w-full"
                        />
                        <span
                          id="employer-match-percent-val"
                          class="slider-value text-sm font-medium"
                          >4%</span
                        >
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Assumes match up to your contribution, capped at this %
                        of salary.
                      </p>
                    </div>
                  </div>

                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="expected-return"
                        >Expected annual investment return (before fees)</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="expected-return"
                          min="0"
                          max="12"
                          step="0.5"
                          value="7"
                          class="w-full"
                        />
                        <span
                          id="expected-return-val"
                          class="slider-value text-sm font-medium"
                          >7%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="annual-fees"
                        >Annual fees (expense ratio, admin)</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="annual-fees"
                          min="0"
                          max="2"
                          step="0.1"
                          value="0.5"
                          class="w-full"
                        />
                        <span
                          id="annual-fees-val"
                          class="slider-value text-sm font-medium"
                          >0.5%</span
                        >
                      </div>
                    </div>
                  </div>

                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="inflation-rate"
                        >Inflation rate</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="inflation-rate"
                          min="0"
                          max="6"
                          step="0.25"
                          value="2.5"
                          class="w-full"
                        />
                        <span
                          id="inflation-rate-val"
                          class="slider-value text-sm font-medium"
                          >2.5%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="retirement-tax-rate"
                        >Estimated tax rate in retirement (traditional
                        401(k))</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="retirement-tax-rate"
                          min="0"
                          max="40"
                          step="1"
                          value="22"
                          class="w-full"
                        />
                        <span
                          id="retirement-tax-rate-val"
                          class="slider-value text-sm font-medium"
                          >22%</span
                        >
                      </div>
                    </div>
                  </div>

                  <div>
                    <label class="block text-sm font-medium mb-1"
                      >Contribution type</label
                    >
                    <div class="flex flex-wrap gap-4 text-sm">
                      <label class="inline-flex items-center gap-2">
                        <input
                          type="radio"
                          name="contribution-type"
                          value="traditional"
                          checked
                          class="text-blue-600"
                        />
                        <span>Traditional 401(k)</span>
                      </label>
                      <label class="inline-flex items-center gap-2">
                        <input
                          type="radio"
                          name="contribution-type"
                          value="roth"
                          class="text-blue-600"
                        />
                        <span>Roth 401(k)</span>
                      </label>
                      <label class="inline-flex items-center gap-2">
                        <input
                          type="radio"
                          name="contribution-type"
                          value="split"
                          class="text-blue-600"
                        />
                        <span>50% Traditional / 50% Roth</span>
                      </label>
                    </div>
                  </div>
                </div>

                <!-- ADVANCED INPUTS -->
                <div id="advanced-inputs" class="space-y-4 hidden">
                  <p class="text-sm text-gray-600">
                    Fine-tune assumptions. Defaults are reasonable for many
                    savers.
                  </p>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="salary-growth-rate"
                        >Annual salary growth</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="salary-growth-rate"
                          min="0"
                          max="8"
                          step="0.25"
                          value="3"
                          class="w-full"
                        />
                        <span
                          id="salary-growth-rate-val"
                          class="slider-value text-sm font-medium"
                          >3%</span
                        >
                      </div>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="employee-percent-increase"
                        >Increase contribution % each year</label
                      >
                      <div class="flex items-center gap-2">
                        <input
                          type="range"
                          id="employee-percent-increase"
                          min="0"
                          max="2"
                          step="0.1"
                          value="0"
                          class="w-full"
                        />
                        <span
                          id="employee-percent-increase-val"
                          class="slider-value text-sm font-medium"
                          >0.0%/yr</span
                        >
                      </div>
                    </div>
                  </div>

                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="match-cap-percent"
                        >Employer match cap (% of salary)</label
                      >
                      <input
                        type="number"
                        id="match-cap-percent"
                        class="w-full border rounded-md px-3 py-2"
                        min="0"
                        max="10"
                        step="0.5"
                        value="4"
                      />
                      <p class="text-xs text-gray-500 mt-1">
                        Typical formula: 100% match on first 3–4% of pay, or 50%
                        on first 6%.
                      </p>
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium mb-1"
                        for="employee-catchup"
                        >Age 50+ catch-up contributions ($/year)</label
                      >
                      <input
                        type="number"
                        id="employee-catchup"
                        class="w-full border rounded-md px-3 py-2"
                        min="0"
                        step="500"
                        value="0"
                      />
                      <p class="text-xs text-gray-500 mt-1">
                        For 2025, IRS catch-up limit is $7,500 (subject to
                        change).
                      </p>
                    </div>
                  </div>

                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="annual-contribution-limit"
                      >Annual IRS contribution limit ($)</label
                    >
                    <input
                      type="number"
                      id="annual-contribution-limit"
                      class="w-full border rounded-md px-3 py-2"
                      min="10000"
                      step="500"
                      value="23000"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Not including employer match. The calculator enforces this
                      limit on your contributions.
                    </p>
                  </div>
                </div>

                <div class="flex flex-wrap items-center gap-4 pt-2">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="px-5 py-2.5 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700"
                  >
                    Calculate 401(k) Projection
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="px-4 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50"
                  >
                    Reset
                  </button>
                  <p id="error-msg" class="text-sm text-red-600"></p>
                </div>
              </form>

              <!-- RESULTS -->
              <section id="results-section" class="mt-6 space-y-4 hidden">
                <h2 class="text-xl font-semibold">Results</h2>
                <div class="grid md:grid-cols-3 gap-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-blue-700 font-semibold mb-1"
                    >
                      Total at retirement (nominal)
                    </p>
                    <p
                      id="result-total-nominal"
                      class="text-xl font-bold text-blue-900"
                    >
                      $0
                    </p>
                    <p class="text-xs text-blue-700 mt-1">
                      Before taxes and inflation.
                    </p>
                  </div>
                  <div
                    class="bg-emerald-50 border border-emerald-100 rounded-lg p-4"
                  >
                    <p
                      class="text-xs uppercase tracking-wide text-emerald-700 font-semibold mb-1"
                    >
                      After-tax value (traditional)
                    </p>
                    <p
                      id="result-after-tax"
                      class="text-xl font-bold text-emerald-900"
                    >
                      $0
                    </p>
                    <p class="text-xs text-emerald-700 mt-1">
                      Assumes retirement tax rate you entered.
                    </p>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-700 font-semibold mb-1"
                    >
                      In today’s dollars
                    </p>
                    <p id="result-real" class="text-xl font-bold text-gray-900">
                      $0
                    </p>
                    <p class="text-xs text-gray-600 mt-1">
                      Adjusted for inflation.
                    </p>
                  </div>
                </div>

                <div class="grid md:grid-cols-3 gap-4">
                  <div class="bg-white border border-gray-200 rounded-lg p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1"
                    >
                      Your total contributions
                    </p>
                    <p
                      id="result-employee-total"
                      class="text-lg font-semibold text-gray-900"
                    >
                      $0
                    </p>
                  </div>
                  <div class="bg-white border border-gray-200 rounded-lg p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1"
                    >
                      Employer contributions
                    </p>
                    <p
                      id="result-employer-total"
                      class="text-lg font-semibold text-gray-900"
                    >
                      $0
                    </p>
                  </div>
                  <div class="bg-white border border-gray-200 rounded-lg p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1"
                    >
                      Growth from investment returns
                    </p>
                    <p
                      id="result-growth"
                      class="text-lg font-semibold text-gray-900"
                    >
                      $0
                    </p>
                  </div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-4">
                  <p class="text-sm font-medium mb-1">
                    Estimated sustainable annual withdrawal (4% rule)
                  </p>
                  <p
                    id="result-withdrawal"
                    class="text-lg font-semibold text-gray-900"
                  >
                    $0 / year
                  </p>
                  <p class="text-xs text-gray-600 mt-1">
                    Rough rule of thumb: withdrawing ~4% of your portfolio per
                    year may be sustainable over a 30-year retirement, but this
                    is not a guarantee.
                  </p>
                </div>

                <details class="mt-2">
                  <summary
                    class="cursor-pointer text-sm text-blue-700 hover:underline"
                  >
                    Show year‑by‑year projection
                  </summary>
                  <div class="scroll-table mt-3">
                    <table
                      class="min-w-full text-xs border border-gray-200 rounded-md overflow-hidden"
                    >
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="px-2 py-1 border-b text-left">Age</th>
                          <th class="px-2 py-1 border-b text-right">Salary</th>
                          <th class="px-2 py-1 border-b text-right">
                            Your contrib
                          </th>
                          <th class="px-2 py-1 border-b text-right">
                            Employer
                          </th>
                          <th class="px-2 py-1 border-b text-right">
                            End balance
                          </th>
                        </tr>
                      </thead>
                      <tbody id="projection-tbody"></tbody>
                    </table>
                  </div>
                </details>
              </section>
            </section>

            <section class="prose mt-10">
              <h2>How this 401(k) calculator works</h2>
              <p>
                This 401(k) calculator estimates how much you could accumulate
                by retirement based on your current balance, contributions,
                employer match, investment returns, fees, and inflation. It is
                designed to be transparent: you can see the year‑by‑year
                schedule and adjust advanced assumptions like salary growth and
                IRS limits.
              </p>

              <h3>1. Annual contributions</h3>
              <p>For each year until retirement, the calculator estimates:</p>
              <ul>
                <li>
                  <strong>Your contribution</strong> = salary × your
                  contribution % (capped by the IRS annual limit you enter, plus
                  optional catch‑up after age 50).
                </li>
                <li>
                  <strong>Employer match</strong> = min(your contribution %,
                  employer match cap) × salary, limited by the employer match %
                  and match cap you specify.
                </li>
              </ul>
              <div class="formula-box text-sm">
                <p><strong>Your contribution (year t)</strong></p>
                <p>
                  \( C_{\text{you},t} = \min\big( s_t \times p_{\text{you},t},
                  \text{IRS limit}_t \big) \)
                </p>
                <p><strong>Employer match (year t)</strong></p>
                <p>
                  \( C_{\text{er},t} = s_t \times \min(p_{\text{you},t},
                  p_{\text{match cap}}) \)
                </p>
                <p>
                  where \( s_t \) is salary in year t and \( p \) values are
                  percentages expressed as decimals.
                </p>
              </div>

              <h3>2. Investment growth and fees</h3>
              <p>
                The calculator compounds your 401(k) balance annually using a
                net return equal to your expected return minus annual fees:
              </p>
              <div class="formula-box text-sm">
                <p><strong>Net annual return</strong></p>
                <p>\( r_{\text{net}} = r_{\text{gross}} - f \)</p>
                <p><strong>End‑of‑year balance</strong></p>
                <p>
                  \( B_{t+1} = (B_t + C_{\text{you},t} + C_{\text{er},t}) \times
                  (1 + r_{\text{net}}) \)
                </p>
              </div>
              <p>
                Even small fees (for example 0.5–1.0% per year) can
                significantly reduce your ending balance over decades, which is
                why this input is explicit.
              </p>

              <h3>3. Inflation and “today’s dollars”</h3>
              <p>
                To show the purchasing power of your future 401(k), the
                calculator discounts the nominal balance by your inflation
                assumption:
              </p>
              <div class="formula-box text-sm">
                <p>
                  \( B_{\text{real}} = \dfrac{B_{\text{nominal}}}{(1 + i)^n} \)
                </p>
                <p>
                  where \( i \) is the annual inflation rate and \( n \) is the
                  number of years until retirement.
                </p>
              </div>

              <h3>4. Traditional vs. Roth 401(k)</h3>
              <p>
                The <strong>contribution type</strong> setting affects how the
                calculator displays after‑tax values:
              </p>
              <ul>
                <li>
                  <strong>Traditional 401(k)</strong> – contributions are
                  pre‑tax; withdrawals are taxed at the retirement tax rate you
                  enter. The calculator multiplies the final balance by (1 − tax
                  rate) to estimate after‑tax value.
                </li>
                <li>
                  <strong>Roth 401(k)</strong> – contributions are after‑tax;
                  qualified withdrawals are tax‑free. The calculator treats the
                  full balance as after‑tax.
                </li>
                <li>
                  <strong>50% Traditional / 50% Roth</strong> – assumes half of
                  your contributions are traditional and half are Roth, and
                  blends the after‑tax value accordingly.
                </li>
              </ul>

              <h3>5. Sustainable withdrawal estimate</h3>
              <p>
                As a rough planning aid, the calculator applies the commonly
                cited “4% rule”:
              </p>
              <div class="formula-box text-sm">
                <p>
                  \( \text{Annual withdrawal} \approx 0.04 \times
                  B_{\text{after‑tax}} \)
                </p>
              </div>
              <p>
                This is not a guarantee; actual safe withdrawal rates depend on
                market returns, inflation, and your time horizon.
              </p>

              <h2>Interpreting your 401(k) results</h2>
              <h3>Am I on track for retirement?</h3>
              <p>
                Compare the estimated sustainable annual withdrawal to your
                expected spending in retirement. If the withdrawal covers only a
                small portion of your target budget, you may need to:
              </p>
              <ul>
                <li>
                  Increase your contribution rate (especially up to the full
                  employer match).
                </li>
                <li>Work longer or delay retirement.</li>
                <li>
                  Adjust your investment mix (for example, more stocks for
                  higher expected return, with higher risk).
                </li>
                <li>
                  Save in additional accounts (IRAs, taxable brokerage, HSA,
                  etc.).
                </li>
              </ul>

              <h3>How much should I contribute to my 401(k)?</h3>
              <p>
                Many planners suggest aiming for
                <strong>10–15% of gross income</strong> toward retirement across
                all accounts. At a minimum, try to contribute enough to receive
                the <strong>full employer match</strong>, since that is
                effectively a guaranteed return.
              </p>

              <h3>Traditional vs. Roth 401(k): which is better?</h3>
              <ul>
                <li>
                  <strong>Traditional 401(k)</strong> may be better if you are
                  in a high tax bracket now and expect to be in a lower bracket
                  in retirement.
                </li>
                <li>
                  <strong>Roth 401(k)</strong> may be better if you are early in
                  your career, in a relatively low tax bracket, or expect higher
                  taxes in the future.
                </li>
                <li>
                  A <strong>mix of both</strong> can provide tax diversification
                  and flexibility later.
                </li>
              </ul>

              <h2>Limitations and important notes</h2>
              <ul>
                <li>
                  This tool uses
                  <strong>constant average annual returns</strong>; real markets
                  are volatile and unpredictable.
                </li>
                <li>
                  It does not model required minimum distributions (RMDs), early
                  withdrawal penalties, or Social Security benefits.
                </li>
                <li>
                  IRS contribution limits and tax rules change over time; always
                  verify current limits with the IRS or a qualified
                  professional.
                </li>
                <li>
                  This calculator is for
                  <strong>education and planning</strong>, not personalized
                  investment or tax advice.
                </li>
              </ul>
            </section>

            <section class="prose mt-10" id="faq">
              <h2>401(k) FAQ</h2>

              <h3>How much should I contribute to my 401(k)?</h3>
              <p>
                At a minimum, contribute enough to receive the full employer
                match. If your employer matches 100% of the first 4% of pay, try
                to contribute at least 4%. If possible, aim for 10–15% of your
                income across all retirement accounts. Use the calculator to see
                how different contribution rates change your projected balance.
              </p>

              <h3>What is a good 401(k) balance by age?</h3>
              <p>Rough benchmarks sometimes used by planners are:</p>
              <ul>
                <li>Age 30: ~1× your annual salary</li>
                <li>Age 40: ~3× salary</li>
                <li>Age 50: ~6× salary</li>
                <li>Age 60: ~8× salary</li>
                <li>Retirement: ~10× salary or more</li>
              </ul>
              <p>
                These are only guidelines. Your target depends on your
                lifestyle, other savings, and whether you expect income from
                pensions, Social Security, or part‑time work.
              </p>

              <h3>
                What is the difference between traditional and Roth 401(k)?
              </h3>
              <p>
                Traditional 401(k) contributions are made pre‑tax, lowering your
                taxable income today; withdrawals are taxed later. Roth 401(k)
                contributions are made after tax, but qualified withdrawals are
                tax‑free. The calculator lets you compare after‑tax values under
                different assumptions.
              </p>

              <h3>How are 401(k) withdrawals taxed?</h3>
              <p>
                Traditional 401(k) withdrawals are taxed as ordinary income.
                Roth 401(k) withdrawals are generally tax‑free if you meet the
                age and holding requirements. Early withdrawals (before age 59½)
                may incur penalties and additional taxes; this calculator does
                not model those penalties.
              </p>

              <h3>How do fees affect my 401(k)?</h3>
              <p>
                Annual fees reduce your net return. For example, if your
                investments earn 7% before fees and your plan charges 1% per
                year, your net return is 6%. Over 30+ years, that difference can
                reduce your ending balance by tens or hundreds of thousands of
                dollars. Use the “Annual fees” slider to see the impact.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Current age Retirement age Current 401(k) balance ($) Annual salary ($) Your contribution (% of salary) 10% Employer match (% of salary) 4% Assumes match up to your contribution, capped at this % of salary. Expected annual investment return (before fees) 7% Annual fees (expense ratio, admin) 0.5% Inflation rate 2.5% Estimated tax rate in retirement (traditional 401(k)) 22% Contribution type Traditional 401(k)</li><li>Roth 401(k)</li><li>50% Traditional / 50% Roth</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: 401K, Current age Retirement age Current 401(k) balance ($) Annual salary ($) Your contribution (% of salary) 10% Employer match (% of salary) 4% Assumes match up to your contribution, capped at this % of salary. Expected annual investment return (before fees) 7% Annual fees (expense ratio, admin) 0.5% Inflation rate 2.5% Estimated tax rate in retirement (traditional 401(k)) 22% Contribution type Traditional 401(k), Roth 401(k), 50% Traditional / 50% Roth.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Current age Retirement age Current 401(k) balance ($) Annual salary ($) Your contribution (% of salary) 10% Employer match (% of salary) 4% Assumes match up to your contribution, capped at this % of salary. Expected annual investment return (before fees) 7% Annual fees (expense ratio, admin) 0.5% Inflation rate 2.5% Estimated tax rate in retirement (traditional 401(k)) 22% Contribution type Traditional 401(k)</li><li>Roth 401(k)</li><li>50% Traditional / 50% Roth</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More retirement tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/retirement"
                  class="text-blue-600 hover:underline"
                  >Retirement Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pension"
                  class="text-blue-600 hover:underline"
                  >Pension Calculator (DB &amp; DC)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roth-ira"
                  class="text-blue-600 hover:underline"
                  >Roth IRA Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ira"
                  class="text-blue-600 hover:underline"
                  >Traditional IRA Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rmd"
                  class="text-blue-600 hover:underline"
                  >RMD (Required Minimum Distribution)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/social-security"
                  class="text-blue-600 hover:underline"
                  >Social Security Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rrsp"
                  class="text-blue-600 hover:underline"
                  >RRSP (Canada) Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/529-plan"
                  class="text-blue-600 hover:underline"
                  >College Savings (529 Plan)</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Popular finance calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/net-worth"
                  class="text-blue-600 hover:underline"
                  >Net Worth Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/50-30-20-budget"
                  class="text-blue-600 hover:underline"
                  >50/30/20 Budget</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/inflation"
                  class="text-blue-600 hover:underline"
                  >Inflation Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility: format currency
      function fmtCurrency(value) {
        if (!isFinite(value)) return "$0";
        return value.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      // Slider value mirrors
      function bindSlider(id, labelId, suffix) {
        const el = document.getElementById(id);
        const label = document.getElementById(labelId);
        if (!el || !label) return;
        const update = () => {
          label.textContent = el.value + suffix;
        };
        el.addEventListener("input", update);
        update();
      }

      bindSlider("employee-percent", "employee-percent-val", "%");
      bindSlider("employer-match-percent", "employer-match-percent-val", "%");
      bindSlider("expected-return", "expected-return-val", "%");
      bindSlider("annual-fees", "annual-fees-val", "%");
      bindSlider("inflation-rate", "inflation-rate-val", "%");
      bindSlider("retirement-tax-rate", "retirement-tax-rate-val", "%");
      bindSlider("salary-growth-rate", "salary-growth-rate-val", "%");
      bindSlider(
        "employee-percent-increase",
        "employee-percent-increase-val",
        "%/yr"
      );

      // Tabs
      const tabSimple = document.getElementById("tab-simple");
      const tabAdvanced = document.getElementById("tab-advanced");
      const simpleInputs = document.getElementById("simple-inputs");
      const advancedInputs = document.getElementById("advanced-inputs");

      function activateTab(tab) {
        if (tab === "simple") {
          tabSimple.classList.add("tab-active");
          tabSimple.classList.remove("text-gray-500");
          tabAdvanced.classList.remove("tab-active");
          tabAdvanced.classList.add("text-gray-500");
          advancedInputs.classList.add("hidden");
          simpleInputs.classList.remove("hidden");
        } else {
          tabAdvanced.classList.add("tab-active");
          tabAdvanced.classList.remove("text-gray-500");
          tabSimple.classList.remove("tab-active");
          tabSimple.classList.add("text-gray-500");
          advancedInputs.classList.remove("hidden");
          simpleInputs.classList.remove("hidden");
        }
      }

      tabSimple.addEventListener("click", () => activateTab("simple"));
      tabAdvanced.addEventListener("click", () => activateTab("advanced"));

      // Core calculation
      function calculate401k() {
        const errorMsg = document.getElementById("error-msg");
        errorMsg.textContent = "";

        const currentAge =
          parseFloat(document.getElementById("current-age").value) || 0;
        const retirementAge =
          parseFloat(document.getElementById("retirement-age").value) || 0;
        if (retirementAge <= currentAge) {
          errorMsg.textContent =
            "Retirement age must be greater than current age.";
          return null;
        }
        const years = Math.floor(retirementAge - currentAge);

        const currentBalance = Math.max(
          0,
          parseFloat(document.getElementById("current-balance").value) || 0
        );
        let salary = Math.max(
          0,
          parseFloat(document.getElementById("annual-salary").value) || 0
        );

        let employeePercent =
          Math.max(
            0,
            parseFloat(document.getElementById("employee-percent").value) || 0
          ) / 100;
        const employerMatchPercent =
          Math.max(
            0,
            parseFloat(
              document.getElementById("employer-match-percent").value
            ) || 0
          ) / 100;

        const expectedReturn =
          (parseFloat(document.getElementById("expected-return").value) || 0) /
          100;
        const annualFees =
          (parseFloat(document.getElementById("annual-fees").value) || 0) / 100;
        const inflationRate =
          (parseFloat(document.getElementById("inflation-rate").value) || 0) /
          100;
        const retirementTaxRate =
          (parseFloat(document.getElementById("retirement-tax-rate").value) ||
            0) / 100;

        const salaryGrowthRate =
          (parseFloat(document.getElementById("salary-growth-rate").value) ||
            0) / 100;
        const employeePercentIncrease =
          (parseFloat(
            document.getElementById("employee-percent-increase").value
          ) || 0) / 100;
        const matchCapPercent =
          (parseFloat(document.getElementById("match-cap-percent").value) ||
            employerMatchPercent * 100) / 100;
        const employeeCatchup = Math.max(
          0,
          parseFloat(document.getElementById("employee-catchup").value) || 0
        );
        const annualContributionLimit = Math.max(
          0,
          parseFloat(
            document.getElementById("annual-contribution-limit").value
          ) || 23000
        );

        const contribType =
          document.querySelector('input[name="contribution-type"]:checked')
            ?.value || "traditional";

        const netReturn = Math.max(-0.99, expectedReturn - annualFees);

        let balance = currentBalance;
        let totalEmployee = 0;
        let totalEmployer = 0;
        const projection = [];

        for (let i = 0; i < years; i++) {
          const age = currentAge + i;

          // Employee contribution before IRS cap
          let employeeContrib = salary * employeePercent;

          // Apply IRS limit + catch-up if age >= 50
          let limit = annualContributionLimit;
          if (age >= 50) limit += employeeCatchup;
          if (employeeContrib > limit) employeeContrib = limit;

          // Employer match: up to min(employeePercent, matchCapPercent) of salary, capped by employerMatchPercent
          const effectiveMatchPercent = Math.min(
            employeePercent,
            matchCapPercent,
            employerMatchPercent
          );
          const employerContrib = salary * effectiveMatchPercent;

          totalEmployee += employeeContrib;
          totalEmployer += employerContrib;

          balance =
            (balance + employeeContrib + employerContrib) * (1 + netReturn);

          projection.push({
            age: Math.round(age + 1),
            salary,
            employeeContrib,
            employerContrib,
            balance,
          });

          // Update salary and employeePercent for next year
          salary *= 1 + salaryGrowthRate;
          employeePercent *= 1 + employeePercentIncrease;
        }

        const totalNominal = balance;
        const realFactor = Math.pow(1 + inflationRate, years);
        const totalReal =
          realFactor > 0 ? totalNominal / realFactor : totalNominal;

        // After-tax value depending on contribution type
        let afterTax;
        if (contribType === "traditional") {
          afterTax = totalNominal * (1 - retirementTaxRate);
        } else if (contribType === "roth") {
          afterTax = totalNominal; // already after-tax
        } else {
          // 50/50 split
          const traditionalPart = 0.5 * totalNominal * (1 - retirementTaxRate);
          const rothPart = 0.5 * totalNominal;
          afterTax = traditionalPart + rothPart;
        }

        const growth = totalNominal - totalEmployee - totalEmployer;
        const withdrawal = afterTax * 0.04;

        return {
          years,
          totalNominal,
          totalReal,
          afterTax,
          totalEmployee,
          totalEmployer,
          growth,
          withdrawal,
          projection,
        };
      }

      function renderResults(res) {
        if (!res) return;
        document.getElementById("results-section").classList.remove("hidden");
        document.getElementById("result-total-nominal").textContent =
          fmtCurrency(res.totalNominal);
        document.getElementById("result-after-tax").textContent = fmtCurrency(
          res.afterTax
        );
        document.getElementById("result-real").textContent = fmtCurrency(
          res.totalReal
        );
        document.getElementById("result-employee-total").textContent =
          fmtCurrency(res.totalEmployee);
        document.getElementById("result-employer-total").textContent =
          fmtCurrency(res.totalEmployer);
        document.getElementById("result-growth").textContent = fmtCurrency(
          res.growth
        );
        document.getElementById("result-withdrawal").textContent =
          fmtCurrency(res.withdrawal) + " / year";

        const tbody = document.getElementById("projection-tbody");
        tbody.innerHTML = "";
        res.projection.forEach((row) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-2 py-1 border-b text-left">${row.age}</td>
        <td class="px-2 py-1 border-b text-right">${fmtCurrency(
          row.salary
        )}</td>
        <td class="px-2 py-1 border-b text-right">${fmtCurrency(
          row.employeeContrib
        )}</td>
        <td class="px-2 py-1 border-b text-right">${fmtCurrency(
          row.employerContrib
        )}</td>
        <td class="px-2 py-1 border-b text-right">${fmtCurrency(
          row.balance
        )}</td>
      `;
          tbody.appendChild(tr);
        });
      }

      document.getElementById("calculate-btn").addEventListener("click", () => {
        const res = calculate401k();
        renderResults(res);
      });

      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("k401-form").reset();
        // Re-sync sliders
        bindSlider("employee-percent", "employee-percent-val", "%");
        bindSlider("employer-match-percent", "employer-match-percent-val", "%");
        bindSlider("expected-return", "expected-return-val", "%");
        bindSlider("annual-fees", "annual-fees-val", "%");
        bindSlider("inflation-rate", "inflation-rate-val", "%");
        bindSlider("retirement-tax-rate", "retirement-tax-rate-val", "%");
        bindSlider("salary-growth-rate", "salary-growth-rate-val", "%");
        bindSlider(
          "employee-percent-increase",
          "employee-percent-increase-val",
          "%/yr"
        );
        document.getElementById("results-section").classList.add("hidden");
        document.getElementById("error-msg").textContent = "";
      });

      // Auto-calc on load with defaults
      window.addEventListener("DOMContentLoaded", () => {
        const res = calculate401k();
        renderResults(res);
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
