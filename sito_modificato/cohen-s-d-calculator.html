<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Cohen’s d Calculator – Effect Size for Two Means</title>
    <meta name="description" content="Cohen’s d calculator for effect size between two means. Supports independent samples, one-sample and paired designs, with pooled SD, Hedges’ g, interpretation (small, medium, large), and step-by-step working.">
    <link rel="canonical" href="https://calcdomain.com/cohen-s-d-calculator">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
    </style>
    
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

    <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/categories/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Core Math Algebra",
          "item": "https://calcdomain.com/subcategories/core-math-algebra"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is Cohen’s d?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Cohen’s d is a standardized measure of effect size for the difference between two means. It expresses the mean difference in units of standard deviation, so that d = 0.5 means the groups differ by half a standard deviation. Cohen’s d is widely used in psychology, education, medicine and the social sciences."
          }
        },
        {
          "@type": "Question",
          "name": "How do you calculate Cohen’s d for two independent groups?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For two independent groups with means M1 and M2, standard deviations s1 and s2, and sample sizes n1 and n2, Cohen’s d is commonly defined as d = (M1 − M2) / s_pooled, where s_pooled = sqrt(((n1 − 1)s1² + (n2 − 1)s2²) / (n1 + n2 − 2)). The pooled standard deviation s_pooled assumes homogeneity of variance across groups."
          }
        },
        {
          "@type": "Question",
          "name": "How do you interpret the magnitude of Cohen’s d?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Cohen’s conventional benchmarks are d ≈ 0.2 (small), 0.5 (medium), and 0.8 (large). These are only rough guidelines: what counts as a small or large effect depends on the field, the type of outcome, and the practical or clinical relevance of the difference."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between Cohen’s d and Hedges’ g?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Hedges’ g is a small-sample bias-corrected version of Cohen’s d. It multiplies d by a correction factor J that depends on the degrees of freedom, making g slightly smaller than d when sample sizes are small. For large samples the difference between d and g is negligible."
          }
        },
        {
          "@type": "Question",
          "name": "Can Cohen’s d be used for paired or repeated-measures designs?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. For paired or repeated-measures designs you typically compute Cohen’s d using the mean of the difference scores divided by the standard deviation of those difference scores. This reflects the within-subject variability rather than the variability between independent subjects."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to calculate Cohen’s d for two independent groups",
      "description": "Step-by-step procedure to compute Cohen’s d effect size for the difference between two independent group means.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Collect summary statistics",
          "text": "Obtain the sample size, mean and standard deviation for each group: n1, M1, s1 and n2, M2, s2."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Compute the pooled standard deviation",
          "text": "Calculate the pooled standard deviation s_pooled = sqrt(((n1 − 1)s1² + (n2 − 1)s2²) / (n1 + n2 − 2)), which combines the two sample variances under the assumption of equal population variances."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Compute the mean difference",
          "text": "Subtract the two means, for example M1 − M2, taking care to keep the direction of the comparison consistent with your research question."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Divide by the pooled standard deviation",
          "text": "Calculate Cohen’s d = (M1 − M2) / s_pooled. The result is a standardized effect size measured in standard deviation units."
        },
        {
          "@type": "HowToStep",
          "position": 5,
          "name": "Classify the effect size",
          "text": "Optionally, compare the resulting d value to conventional benchmarks (e.g., 0.2 small, 0.5 medium, 0.8 large) while also considering the practical or clinical relevance of the effect in your specific field."
        }
      ]
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800">

    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/math-conversions" class="hover:text-blue-600">Math & Conversions</a> &raquo; <a href="https://calcdomain.com/subcategories/core-math-algebra" class="hover:text-blue-600">Core Math Algebra</a></nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            
            <h1 class="text-2xl md:text-3xl font-bold mb-4">Cohen’s d Calculator (Effect Size)</h1>
            <p class="text-gray-700 mb-4">
              This Cohen’s d calculator computes standardized effect sizes for the difference between means.
              It supports <strong>independent samples</strong>, <strong>one-sample</strong>, and
              <strong>paired / repeated-measures</strong> designs, with pooled standard deviation, Hedges’ g
              bias correction, and interpretation (small, medium, large).
            </p>

            <!-- Calculator -->
            <section aria-labelledby="cohen-d-calculator" class="mb-8">
              <h2 id="cohen-d-calculator" class="text-xl font-semibold mb-3">Calculate Cohen’s d</h2>

              <!-- Design selector -->
              <div class="mb-4">
                <span class="block text-sm font-medium text-gray-700 mb-1">Study design</span>
                <div class="inline-flex flex-wrap gap-2 text-sm">
                  <button type="button" data-design="independent" class="design-btn px-3 py-1.5 rounded-full border border-blue-600 bg-blue-600 text-white font-medium">
                    Two independent groups
                  </button>
                  <button type="button" data-design="one-sample" class="design-btn px-3 py-1.5 rounded-full border border-gray-300 bg-white text-gray-700">
                    One-sample vs known value
                  </button>
                  <button type="button" data-design="paired" class="design-btn px-3 py-1.5 rounded-full border border-gray-300 bg-white text-gray-700">
                    Paired / repeated measures
                  </button>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  All calculations assume numeric summary statistics (means, standard deviations, sample sizes).
                </p>
              </div>

              <!-- Independent groups form -->
              <div id="form-independent" class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <h3 class="text-sm font-semibold text-gray-800 mb-2">Group 1</h3>
                    <label class="block text-xs text-gray-700 mb-1" for="ind-m1">Mean (M₁)</label>
                    <input id="ind-m1" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 75.2">
                    <label class="block text-xs text-gray-700 mb-1" for="ind-sd1">Standard deviation (s₁)</label>
                    <input id="ind-sd1" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 10.5">
                    <label class="block text-xs text-gray-700 mb-1" for="ind-n1">Sample size (n₁)</label>
                    <input id="ind-n1" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 32">
                  </div>
                  <div>
                    <h3 class="text-sm font-semibold text-gray-800 mb-2">Group 2</h3>
                    <label class="block text-xs text-gray-700 mb-1" for="ind-m2">Mean (M₂)</label>
                    <input id="ind-m2" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 68.4">
                    <label class="block text-xs text-gray-700 mb-1" for="ind-sd2">Standard deviation (s₂)</label>
                    <input id="ind-sd2" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 11.3">
                    <label class="block text-xs text-gray-700 mb-1" for="ind-n2">Sample size (n₂)</label>
                    <input id="ind-n2" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 29">
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="ind-direction">
                      Direction of effect (numerator)
                    </label>
                    <select id="ind-direction" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option value="m1-m2">d = (M₁ − M₂) / SD</option>
                      <option value="m2-m1">d = (M₂ − M₁) / SD</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" for="ind-standardizer">
                      Standardizer (denominator)
                    </label>
                    <select id="ind-standardizer" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option value="pooled">Pooled SD (Cohen’s d)</option>
                      <option value="group1">Group 1 SD (Glass’s Δ₁)</option>
                      <option value="group2">Group 2 SD (Glass’s Δ₂)</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- One-sample form -->
              <div id="form-one-sample" class="space-y-4 hidden">
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-xs text-gray-700 mb-1" for="one-m">Sample mean (M)</label>
                    <input id="one-m" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 102.3">
                    <label class="block text-xs text-gray-700 mb-1" for="one-sd">Standard deviation (s)</label>
                    <input id="one-sd" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 15.8">
                  </div>
                  <div>
                    <label class="block text-xs text-gray-700 mb-1" for="one-mu">Reference / null mean (μ₀)</label>
                    <input id="one-mu" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 100">
                    <label class="block text-xs text-gray-700 mb-1" for="one-n">Sample size (n)</label>
                    <input id="one-n" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 40">
                  </div>
                </div>
                <p class="text-xs text-gray-500">
                  For one-sample designs, Cohen’s d is computed as (M − μ₀) / s, with degrees of freedom df = n − 1.
                </p>
              </div>

              <!-- Paired form -->
              <div id="form-paired" class="space-y-4 hidden">
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-xs text-gray-700 mb-1" for="paired-md">
                      Mean of difference scores (M<sub>diff</sub>)
                    </label>
                    <input id="paired-md" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 4.6">
                    <label class="block text-xs text-gray-700 mb-1" for="paired-sd">
                      SD of difference scores (s<sub>diff</sub>)
                    </label>
                    <input id="paired-sd" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 8.1">
                  </div>
                  <div>
                    <label class="block text-xs text-gray-700 mb-1" for="paired-n">Number of pairs (n)</label>
                    <input id="paired-n" type="text" inputmode="decimal" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 28">
                    <p class="text-xs text-gray-500 mt-2">
                      Use the mean and SD of within-subject differences (post − pre, treatment − control, etc.).
                    </p>
                  </div>
                </div>
              </div>

              <!-- Context note -->
              <div class="mt-3">
                <label class="block text-xs text-gray-700 mb-1" for="context-note">
                  Outcome / context (optional)
                </label>
                <input id="context-note" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. test scores, symptom severity, satisfaction rating…">
              </div>

              <!-- Buttons -->
              <div class="flex flex-wrap items-center gap-3 mt-4 mb-3">
                <button id="btn-cohen-calc" type="button" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Calculate effect size
                </button>
                <button id="btn-cohen-clear" type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Clear
                </button>
                <p class="text-xs text-gray-500">
                  You can use either dot or comma as decimal separator. All sizes must be positive.
                </p>
              </div>

              <p id="cohen-error-message" class="text-sm text-red-600 mb-3 hidden"></p>

              <!-- Results -->
              <div id="cohen-results-container" class="grid md:grid-cols-2 gap-4 mb-4 hidden">
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">Effect size</h3>
                  <p class="text-xs text-gray-500 mb-1">
                    Cohen’s d and Hedges’ g (bias-corrected). Sign indicates direction of the effect.
                  </p>
                  <p class="text-3xl font-bold text-blue-600 mb-1">
                    d = <span id="cohen-d-main">0.00</span>
                  </p>
                  <p class="text-sm text-gray-700 mb-1">
                    Hedges’ g = <span id="cohen-g-main">0.00</span>
                  </p>
                  <p class="text-xs text-gray-500">
                    Interpretation: <span id="cohen-interpretation" class="font-medium text-gray-800">–</span>
                  </p>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-700 mb-2">Details</h3>
                  <dl class="text-sm text-gray-700 space-y-1">
                    <div class="flex justify-between">
                      <dt>Design</dt>
                      <dd id="cohen-design-label">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Standardizer</dt>
                      <dd id="cohen-standardizer-label">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Degrees of freedom (df)</dt>
                      <dd id="cohen-df">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Mean difference</dt>
                      <dd id="cohen-mean-diff">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Standard deviation used</dt>
                      <dd id="cohen-sd-used">–</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Correction factor J</dt>
                      <dd id="cohen-j-factor">–</dd>
                    </div>
                  </dl>
                </div>
              </div>

              <!-- Step-by-step explanation -->
              <div id="cohen-steps-container" class="border border-blue-100 bg-blue-50 rounded-lg p-4 text-sm text-gray-800 hidden">
                <h3 class="font-semibold mb-2">Step-by-step calculation</h3>
                <ol class="list-decimal list-inside space-y-1" id="cohen-steps-list">
                  <!-- Filled dynamically -->
                </ol>
              </div>
            </section>

            <!-- Theory & explanations -->
            <section class="prose">
              <h2>Cohen’s d effect size – definition and formula</h2>
              <p>
                <strong>Cohen’s d</strong> is a standardized measure of the difference between two means. It tells you
                how many standard deviations apart the groups are, which makes the effect size comparable across
                different scales, tests and outcomes.
              </p>

              <h3>Two independent groups (classic Cohen’s d)</h3>
              <p>
                For two independent groups with means \( M_1 \) and \( M_2 \), standard deviations \( s_1 \) and \( s_2 \),
                and sample sizes \( n_1 \) and \( n_2 \), the most common definition is:
              </p>

              <div class="formula-box text-sm">
                <p class="mb-2 font-mono">
                  \( d = \dfrac{M_1 - M_2}{s_{\text{pooled}}} \)
                </p>
                <p class="font-mono mb-0">
                  \( s_{\text{pooled}} = \sqrt{\dfrac{(n_1 - 1)s_1^2 + (n_2 - 1)s_2^2}{n_1 + n_2 - 2}} \)
                </p>
              </div>

              <p>
                The pooled standard deviation \( s_{\text{pooled}} \) combines the variability of the two groups and
                assumes equal population variances. The direction of the effect depends on whether you compute
                \( M_1 - M_2 \) or \( M_2 - M_1 \); the calculator lets you choose this explicitly.
              </p>

              <h3>One-sample and paired designs</h3>
              <p>
                For a <strong>one-sample</strong> design, you compare the sample mean \( M \) to a known or hypothesized
                mean \( \mu_0 \):
              </p>

              <div class="formula-box text-sm">
                <p class="font-mono mb-0">
                  \( d = \dfrac{M - \mu_0}{s} \)
                </p>
              </div>

              <p>
                For <strong>paired / repeated-measures</strong> designs, Cohen’s d is usually defined in terms of the
                difference scores (for example, post − pre):
              </p>

              <div class="formula-box text-sm">
                <p class="font-mono mb-0">
                  \( d = \dfrac{\overline{D}}{s_D} \)
                </p>
                <ul class="list-disc pl-4 mb-0">
                  <li>\( \overline{D} \) = mean of the difference scores</li>
                  <li>\( s_D \) = standard deviation of the difference scores</li>
                </ul>
              </div>

              <h3>Hedges’ g (bias-corrected d)</h3>
              <p>
                In small samples, Cohen’s d slightly overestimates the population effect size. A common correction is
                <strong>Hedges’ g</strong>, which multiplies d by a factor \( J \) that depends on the degrees of freedom:
              </p>

              <div class="formula-box text-sm">
                <p class="font-mono mb-2">
                  \( g = J \cdot d \)
                </p>
                <p class="font-mono mb-0">
                  \( J = 1 - \dfrac{3}{4\text{df} - 1} \)
                </p>
              </div>

              <p>
                For large df, \( J \) is very close to 1, so \( g \approx d \). For small samples, the correction can
                noticeably reduce the estimate.
              </p>

              <h2>Interpreting Cohen’s d (small, medium, large)</h2>
              <p>
                Cohen suggested conventional benchmarks:
              </p>
              <ul>
                <li><strong>d ≈ 0.2</strong> – small effect</li>
                <li><strong>d ≈ 0.5</strong> – medium effect</li>
                <li><strong>d ≈ 0.8</strong> – large effect</li>
              </ul>

              <p>
                These are <strong>rules of thumb</strong>, not universal standards. In some fields, even d = 0.2 may be
                practically or clinically important; in others, an effect of d = 0.5 might be considered modest.
                Always interpret effect sizes in the context of:
              </p>
              <ul>
                <li>the outcome scale and units,</li>
                <li>costs and benefits of the intervention,</li>
                <li>baseline risk or prevalence,</li>
                <li>typical effect sizes in your research area.</li>
              </ul>

              <h2>Cohen’s d vs other effect sizes</h2>
              <ul>
                <li>
                  <strong>Standardized mean difference (SMD)</strong>: Cohen’s d and Hedges’ g are both SMDs. Meta-analyses
                  often prefer Hedges’ g because of the small-sample correction.
                </li>
                <li>
                  <strong>Correlation coefficient (r)</strong>: For bivariate relationships, r (or r²) is often easier to interpret.
                  Roughly, d ≈ 0.2 corresponds to r ≈ 0.1, d ≈ 0.5 to r ≈ 0.24, and d ≈ 0.8 to r ≈ 0.37.
                </li>
                <li>
                  <strong>Odds ratios, risk ratios</strong>: For binary outcomes, effect sizes are usually expressed as
                  odds ratios or risk ratios. There are approximate transformations between d and these measures, but they
                  rely on additional assumptions.
                </li>
              </ul>

              <h2 id="cohen-d-faq">Cohen’s d – frequently asked questions</h2>

              <div class="mt-4 space-y-3">
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Should I use the pooled SD or one group’s SD?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      The classical Cohen’s d for independent groups uses the pooled SD, assuming equal variances.
                      However, when the control group is clearly the more stable reference, some authors recommend
                      using the control group’s SD (Glass’s Δ). The choice should reflect your design, variance
                      assumptions and reporting standards in your field.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Can I compute Cohen’s d from a t statistic?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      Yes. For many designs you can express d as a function of the t statistic and sample sizes.
                      This calculator focuses on summary statistics (means, SDs, n) because they are easier to
                      interpret, but when only t and n are available (for example, in published studies), formulas
                      based on t are an efficient alternative.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">What happens if the SD is very small or zero?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      If the standard deviation used in the denominator is extremely small, Cohen’s d can become very large,
                      which may not be realistic or robust. If the SD is zero, d is undefined because there is no variability.
                      In practice, such situations suggest data or measurement problems that should be investigated.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Is a statistically significant difference always a large effect?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      No. Statistical significance depends on both the effect size and the sample size. With very large samples,
                      even tiny effects (small d) can be highly significant, while with small samples, a practically important
                      effect might not reach significance. That is why effect sizes such as Cohen’s d are essential alongside p-values.
                    </p>
                  </div>
                </div>
              </div>
            </section>

          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( d = \dfrac{M_1 - M_2}{s_{\text{pooled}}} \) \( s_{\text{pooled}} = \sqrt{\dfrac{(n_1 - 1)s_1^2 + (n_2 - 1)s_2^2}{n_1 + n_2 - 2}} \)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( d = \dfrac{M - \mu_0}{s} \)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( d = \dfrac{\overline{D}}{s_D} \) \( \overline{D} \) = mean of the difference scores \( s_D \) = standard deviation of the difference scores</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\( g = J \cdot d \) \( J = 1 - \dfrac{3}{4\text{df} - 1} \)</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Core Math &amp; Algebra tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a href="https://calcdomain.com/standard-form" class="text-blue-600 hover:underline">
                  Standard Form Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/percent-error-calculator" class="text-blue-600 hover:underline">
                  Percent Error Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/g-test" class="text-blue-600 hover:underline">
                  G-Test (Likelihood-Ratio Test)
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/friedman-test" class="text-blue-600 hover:underline">
                  Friedman Test Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/stem-and-leaf-plot" class="text-blue-600 hover:underline">
                  Stem and Leaf Plot Generator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/bisection-method" class="text-blue-600 hover:underline">
                  Bisection Method Solver
                </a>
              </li>
              <li>
                <span class="text-gray-500">
                  Effect Size (Cohen’s d) – you are here
                </span>
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More statistics calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a href="https://calcdomain.com/t-test" class="text-blue-600 hover:underline">
                  t-test Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/z-score" class="text-blue-600 hover:underline">
                  Z-Score Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/confidence-interval" class="text-blue-600 hover:underline">
                  Confidence Interval Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/standard-error" class="text-blue-600 hover:underline">
                  Standard Error Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/sample-size" class="text-blue-600 hover:underline">
                  Sample Size Calculator
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/correlation-coefficient" class="text-blue-600 hover:underline">
                  Correlation Coefficient
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/one-way-anova" class="text-blue-600 hover:underline">
                  One-way ANOVA
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/two-way-anova" class="text-blue-600 hover:underline">
                  Two-way ANOVA
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/kruskal-wallis-test" class="text-blue-600 hover:underline">
                  Kruskal-Wallis Test
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/cohen-s-kappa-calculator" class="text-blue-600 hover:underline">
                  Cohen’s Kappa
                </a>
              </li>
              <li>
                <a href="https://calcdomain.com/regression-calculator" class="text-blue-600 hover:underline">
                  Regression Calculator
                </a>
              </li>
            </ul>
          </div>
        </aside>
        
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>











    
    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>
    
    <script>
      // Utility helpers
      function parseNumberLocalized(value) {
        if (!value) return null;
        const normalized = value.replace(/\\s+/g, '').replace(',', '.');
        const num = Number(normalized);
        return Number.isFinite(num) ? num : null;
      }

      function formatNumberSmart(value, decimalsDefault = 3) {
        if (!Number.isFinite(value)) return '–';
        const abs = Math.abs(value);
        if (abs === 0) return '0';
        if (abs >= 1000 || abs < 0.001) {
          return value.toExponential(3);
        }
        return value.toFixed(decimalsDefault).replace(/\\.0+$/, '').replace(/(\\.\\d*?)0+$/, '$1');
      }

      function classifyCohenD(d) {
        const ad = Math.abs(d);
        if (ad < 0.2) return 'very small (close to zero)';
        if (ad < 0.5) return 'small effect';
        if (ad < 0.8) return 'medium effect';
        if (ad < 1.2) return 'large effect';
        return 'very large effect';
      }

      // Design switching
      (function () {
        const designButtons = document.querySelectorAll('.design-btn');
        const forms = {
          independent: document.getElementById('form-independent'),
          'one-sample': document.getElementById('form-one-sample'),
          paired: document.getElementById('form-paired')
        };

        function setDesign(design) {
          designButtons.forEach(btn => {
            const d = btn.getAttribute('data-design');
            const active = d === design;
            btn.classList.toggle('bg-blue-600', active);
            btn.classList.toggle('text-white', active);
            btn.classList.toggle('border-blue-600', active);
            btn.classList.toggle('bg-white', !active);
            btn.classList.toggle('text-gray-700', !active);
            btn.classList.toggle('border-gray-300', !active);
          });

          Object.keys(forms).forEach(key => {
            if (forms[key]) {
              forms[key].classList.toggle('hidden', key !== design);
            }
          });

          document.getElementById('cohen-error-message').classList.add('hidden');
        }

        designButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            setDesign(btn.getAttribute('data-design'));
          });
        });

        // Default
        setDesign('independent');
      })();

      // Cohen's d calculator logic
      (function () {
        const btnCalc = document.getElementById('btn-cohen-calc');
        const btnClear = document.getElementById('btn-cohen-clear');
        const errorMessage = document.getElementById('cohen-error-message');

        const resultsContainer = document.getElementById('cohen-results-container');
        const stepsContainer = document.getElementById('cohen-steps-container');
        const stepsList = document.getElementById('cohen-steps-list');

        const dMainEl = document.getElementById('cohen-d-main');
        const gMainEl = document.getElementById('cohen-g-main');
        const interpEl = document.getElementById('cohen-interpretation');
        const designLabelEl = document.getElementById('cohen-design-label');
        const standardizerLabelEl = document.getElementById('cohen-standardizer-label');
        const dfEl = document.getElementById('cohen-df');
        const meanDiffEl = document.getElementById('cohen-mean-diff');
        const sdUsedEl = document.getElementById('cohen-sd-used');
        const jFactorEl = document.getElementById('cohen-j-factor');

        function getActiveDesign() {
          const activeBtn = document.querySelector('.design-btn.bg-blue-600');
          return activeBtn ? activeBtn.getAttribute('data-design') : 'independent';
        }

        function computeIndependent() {
          const m1 = parseNumberLocalized(document.getElementById('ind-m1').value);
          const sd1 = parseNumberLocalized(document.getElementById('ind-sd1').value);
          const n1 = parseNumberLocalized(document.getElementById('ind-n1').value);
          const m2 = parseNumberLocalized(document.getElementById('ind-m2').value);
          const sd2 = parseNumberLocalized(document.getElementById('ind-sd2').value);
          const n2 = parseNumberLocalized(document.getElementById('ind-n2').value);

          if ([m1, sd1, n1, m2, sd2, n2].some(v => v === null)) {
            throw new Error('Please enter numeric values for both groups (means, SDs and sample sizes).');
          }
          if (n1 <= 1 || n2 <= 1) {
            throw new Error('Sample sizes must be greater than 1 for both groups.');
          }
          if (sd1 <= 0 || sd2 <= 0) {
            throw new Error('Standard deviations must be positive for both groups.');
          }

          const direction = document.getElementById('ind-direction').value;
          const standardizer = document.getElementById('ind-standardizer').value;

          const df = n1 + n2 - 2;
          let sdUsed;
          if (standardizer === 'pooled') {
            const pooledVar = ((n1 - 1) * sd1 * sd1 + (n2 - 1) * sd2 * sd2) / df;
            sdUsed = Math.sqrt(pooledVar);
          } else if (standardizer === 'group1') {
            sdUsed = sd1;
          } else {
            sdUsed = sd2;
          }

          if (!Number.isFinite(sdUsed) || sdUsed <= 0) {
            throw new Error('Standard deviation used in the denominator must be positive.');
          }

          const meanDiff = direction === 'm1-m2' ? (m1 - m2) : (m2 - m1);
          const d = meanDiff / sdUsed;
          const J = 1 - 3 / (4 * df - 1);
          const g = d * J;

          return {
            d,
            g,
            df,
            meanDiff,
            sdUsed,
            J,
            designLabel: 'Two independent groups',
            standardizerLabel:
              standardizer === 'pooled'
              ? 'Pooled SD (Cohen’s d)'
              : (standardizer === 'group1' ? 'Group 1 SD (Glass’s Δ₁)' : 'Group 2 SD (Glass’s Δ₂)'),
            steps: [
              `Compute the mean difference: ΔM = ${formatNumberSmart(meanDiff)}.`,
              `Compute the standard deviation used in the denominator: SD = ${formatNumberSmart(sdUsed)}.`,
              `Divide the mean difference by SD to obtain Cohen’s d: d = ΔM / SD = ${formatNumberSmart(d)}.`,
              `Compute degrees of freedom: df = n₁ + n₂ − 2 = ${formatNumberSmart(df, 0)}.`,
              `Compute Hedges’ correction factor J = 1 − 3 / (4·df − 1) = ${formatNumberSmart(J, 4)}.`,
              `Hedges’ g = J · d = ${formatNumberSmart(g)}.`
            ]
          };
        }

        function computeOneSample() {
          const m = parseNumberLocalized(document.getElementById('one-m').value);
          const sd = parseNumberLocalized(document.getElementById('one-sd').value);
          const mu0 = parseNumberLocalized(document.getElementById('one-mu').value);
          const n = parseNumberLocalized(document.getElementById('one-n').value);

          if ([m, sd, mu0, n].some(v => v === null)) {
            throw new Error('Please enter numeric values for mean, SD, reference mean and sample size.');
          }
          if (n <= 1) {
            throw new Error('Sample size must be greater than 1.');
          }
          if (sd <= 0) {
            throw new Error('Standard deviation must be positive.');
          }

          const df = n - 1;
          const meanDiff = m - mu0;
          const d = meanDiff / sd;
          const J = 1 - 3 / (4 * df - 1);
          const g = d * J;

          return {
            d,
            g,
            df,
            meanDiff,
            sdUsed: sd,
            J,
            designLabel: 'One-sample design',
            standardizerLabel: 'Sample SD',
            steps: [
              `Compute the mean difference: ΔM = M − μ₀ = ${formatNumberSmart(meanDiff)}.`,
              `Use the sample SD in the denominator: SD = ${formatNumberSmart(sd)}.`,
              `Cohen’s d = ΔM / SD = ${formatNumberSmart(d)}.`,
              `Degrees of freedom: df = n − 1 = ${formatNumberSmart(df, 0)}.`,
              `Correction factor J = 1 − 3 / (4·df − 1) = ${formatNumberSmart(J, 4)}.`,
              `Hedges’ g = J · d = ${formatNumberSmart(g)}.`
            ]
          };
        }

        function computePaired() {
          const md = parseNumberLocalized(document.getElementById('paired-md').value);
          const sdDiff = parseNumberLocalized(document.getElementById('paired-sd').value);
          const n = parseNumberLocalized(document.getElementById('paired-n').value);

          if ([md, sdDiff, n].some(v => v === null)) {
            throw new Error('Please enter numeric values for mean difference, SD of differences and number of pairs.');
          }
          if (n <= 1) {
            throw new Error('Number of pairs must be greater than 1.');
          }
          if (sdDiff <= 0) {
            throw new Error('SD of differences must be positive.');
          }

          const df = n - 1;
          const meanDiff = md;
          const d = meanDiff / sdDiff;
          const J = 1 - 3 / (4 * df - 1);
          const g = d * J;

          return {
            d,
            g,
            df,
            meanDiff,
            sdUsed: sdDiff,
            J,
            designLabel: 'Paired / repeated-measures design',
            standardizerLabel: 'SD of difference scores',
            steps: [
              `Use the mean of the difference scores: M_diff = ${formatNumberSmart(meanDiff)}.`,
              `Use the SD of the difference scores: SD_diff = ${formatNumberSmart(sdDiff)}.`,
              `Cohen’s d = M_diff / SD_diff = ${formatNumberSmart(d)}.`,
              `Degrees of freedom: df = n − 1 = ${formatNumberSmart(df, 0)}.`,
              `Correction factor J = 1 − 3 / (4·df − 1) = ${formatNumberSmart(J, 4)}.`,
              `Hedges’ g = J · d = ${formatNumberSmart(g)}.`
            ]
          };
        }

        btnCalc.addEventListener('click', function () {
          errorMessage.textContent = '';
          errorMessage.classList.add('hidden');

          let res;
          try {
            const design = getActiveDesign();
            if (design === 'independent') {
              res = computeIndependent();
            } else if (design === 'one-sample') {
              res = computeOneSample();
            } else {
              res = computePaired();
            }
          } catch (err) {
            errorMessage.textContent = err.message || 'Unable to compute effect size. Please check your inputs.';
            errorMessage.classList.remove('hidden');
            resultsContainer.classList.add('hidden');
            stepsContainer.classList.add('hidden');
            return;
          }

          // Populate results
          dMainEl.textContent = formatNumberSmart(res.d);
          gMainEl.textContent = formatNumberSmart(res.g);
          interpEl.textContent = classifyCohenD(res.d);

          designLabelEl.textContent = res.designLabel;
          standardizerLabelEl.textContent = res.standardizerLabel;
          dfEl.textContent = formatNumberSmart(res.df, 0);
          meanDiffEl.textContent = formatNumberSmart(res.meanDiff);
          sdUsedEl.textContent = formatNumberSmart(res.sdUsed);
          jFactorEl.textContent = formatNumberSmart(res.J, 4);

          // Steps
          stepsList.innerHTML = '';
          res.steps.forEach(step => {
            const li = document.createElement('li');
            li.textContent = step;
            stepsList.appendChild(li);
          });

          resultsContainer.classList.remove('hidden');
          stepsContainer.classList.remove('hidden');
        });

        btnClear.addEventListener('click', function () {
          const ids = [
            'ind-m1','ind-sd1','ind-n1','ind-m2','ind-sd2','ind-n2',
            'one-m','one-sd','one-mu','one-n',
            'paired-md','paired-sd','paired-n',
            'context-note'
          ];
          ids.forEach(id => {
            const el = document.getElementById(id);
            if (el) el.value = '';
          });

          errorMessage.textContent = '';
          errorMessage.classList.add('hidden');
          resultsContainer.classList.add('hidden');
          stepsContainer.classList.add('hidden');
        });
      })();

      // Simple mobile menu toggle
      (function () {
        const toggle = document.getElementById('mobile-menu-toggle');
        const menu = document.getElementById('mobile-menu');
        if (!toggle || !menu) return;

        toggle.addEventListener('click', function () {
          const isOpen = !menu.classList.contains('hidden');
          menu.classList.toggle('hidden', isOpen);
          toggle.setAttribute('aria-expanded', String(!isOpen));
        });
      })();
    </script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>