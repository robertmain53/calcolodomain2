<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/concrete-footing-design">





 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta charset="utf-8">
<title>ACI 318 Concrete Footing Design Calculator</title>
<meta content="ACI 318 concrete footing design calculator for square or rectangular footings. Compute required plan size, service and factored bearing pressures, two-way (punching) and one-way shear checks, minimum thickness, and reinforcement per ACI 318-19." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Ugo Candido" name="author">

<meta content="#0b3d62" name="theme-color">
<link href="data:," rel="icon">
<!-- Load non-critical global stylesheet asynchronously (optional) -->
<noscript></noscript>
<style>
    /* Critical, mobile-first CSS (no sticky header) */
    :root{
      --primary:#0b5cad;
      --primary-700:#0b3d62;
      --surface:#ffffff;
      --bg:#f6f7f9;
      --text:#1f2937;
      --muted:#6b7280;
      --border:#e5e7eb;
      --success:#157f3b;
      --danger:#b91c1c;
      --warning:#b45309;

      --radius-card:12px;
      --radius-input:10px;

      --touch:48px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:16px}
    @media (min-width:640px){html{font-size:17px}}
    @media (min-width:1024px){html{font-size:18px}}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--text); background:var(--bg); line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--primary); text-decoration:none}
    a:hover{text-decoration:underline}
    a:focus{outline:3px solid var(--primary); outline-offset:2px}
    .skip-link{
      position:absolute; left:8px; top:-40px; background:var(--primary);
      color:#fff; padding:8px 12px; border-radius:6px; z-index:1000
    }
    .skip-link:focus{top:8px}
    .container{max-width:1200px; margin:0 auto; padding:0 1rem}
    header.site-header{background:var(--surface); border-bottom:1px solid var(--border)}
    header .header-inner{display:flex; align-items:center; gap:.75rem; padding:.75rem 0}
    .logo{font-weight:800; color:var(--primary-700)}
    .site-search{margin-left:auto; display:flex; gap:.5rem}
    .site-search input{min-height:44px; padding:.55rem .75rem; border-radius:10px; border:1px solid var(--border); width:180px}
    .site-search button{min-height:44px; padding:.55rem .9rem; border-radius:10px; border:1px solid var(--primary); background:var(--primary); color:#fff; font-weight:600}
    nav.simple-nav{display:none}
    @media(min-width:900px){
      nav.simple-nav{display:flex; gap:.75rem}
      .site-search input{width:260px}
    }

    main{padding:1.25rem 0 2rem}
    .breadcrumb{font-size:.9rem; color:var(--muted); margin-bottom:.5rem}
    .breadcrumb a{color:var(--muted)}
    h1{font-size:clamp(1.6rem,4vw,2.2rem); color:var(--primary-700); margin:.25rem 0 .5rem}
    p.lead{color:#374151; max-width:70ch}

    /* Layout: calculator + content */
    .calculator-layout{display:grid; grid-template-columns:1fr; gap:1.5rem; margin-top:.75rem}
    @media(min-width:992px){.calculator-layout{grid-template-columns:420px 1fr}}

    .card{
      background:var(--surface); border:1px solid var(--border);
      border-radius:var(--radius-card); padding:1rem 1rem;
      box-shadow:0 2px 6px rgba(0,0,0,.04);
    }
    @media(min-width:640px){.card{padding:1.25rem 1.25rem}}
    .calculator-container h2,.results-container h2,.content-container h2{font-size:1.25rem; margin:0 0 .75rem; color:var(--primary-700)}
    .form-group{margin-bottom:1rem}
    .form-group label{display:block; font-weight:700; margin-bottom:.4rem}
    .input-row{display:grid; gap:.6rem; grid-template-columns:1fr 1fr}
    .input-row-3{display:grid; gap:.6rem; grid-template-columns:1fr 1fr 1fr}
    @media(max-width:420px){.input-row,.input-row-3{grid-template-columns:1fr}}

    .form-control{
      width:100%; min-height:48px; padding:.7rem .85rem;
      border:1px solid var(--border); border-radius:var(--radius-input); font-size:1rem
    }
    .form-control:focus-visible{outline:3px solid var(--primary); outline-offset:2px}
    .form-control[aria-invalid="true"]{border-color:var(--danger)}
    .unit-addon{color:var(--muted); font-size:.9rem}
    .help-inline{display:flex; align-items:center; gap:.5rem}
    .help-btn{
      appearance:none; border:1px solid var(--border); background:#f2f4f7; color:#111827;
      border-radius:8px; width:var(--touch); height:var(--touch); font-weight:800; cursor:pointer
    }
    .help-btn:focus{outline:3px solid var(--primary); outline-offset:2px}
    .tooltip{display:none; margin-top:.35rem; font-size:.92rem; color:#374151}
    .tooltip[aria-hidden="false"]{display:block}
    fieldset{border:1px solid var(--border); border-radius:10px; padding:.5rem .5rem .75rem}
    legend{font-weight:700; padding:0 .35rem}
    .radio-group{display:flex; gap:.5rem; flex-wrap:wrap}
    .radio-option{position:relative}
    .radio-option input{position:absolute; opacity:0}
    .radio-option label{
      display:inline-flex; align-items:center; justify-content:center; padding:.55rem .8rem;
      min-height:44px; border:1px solid var(--border); border-radius:10px; cursor:pointer; font-weight:600; color:#111827; background:#fff
    }
    .radio-option input:checked + label{background:var(--primary); color:#fff; border-color:var(--primary)}
    .radio-option input:focus-visible + label{outline:3px solid var(--primary); outline-offset:2px}

    .actions{display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.25rem}
    .btn{display:inline-flex; align-items:center; justify-content:center; min-height:48px; padding:.7rem 1rem; border-radius:10px; cursor:pointer; font-weight:700; border:1px solid transparent}
    .btn-primary{background:var(--primary); color:#fff; border-color:var(--primary)}
    .btn-secondary{background:#fff; color:var(--primary); border-color:var(--primary)}
    .btn:focus{outline:3px solid var(--primary); outline-offset:2px}

    .results-container{
      margin-top:1rem; background:#f8fafc; border:1px solid var(--border);
      border-radius:12px; padding:1rem; min-height:260px
    }
    .result-grid{display:grid; grid-template-columns:1fr; gap:.5rem}
    .result-item{display:flex; align-items:baseline; justify-content:space-between; gap:.75rem; padding:.4rem 0; border-bottom:1px dashed #e5e7eb}
    .result-item:last-child{border-bottom:none}
    .result-label{color:#4b5563}
    .result-value{font-weight:800; color:var(--success)}
    .subtext{font-size:.92rem; color:#374151}

    .error{color:var(--danger); font-size:.9rem; margin-top:.3rem}
    .formula-box{background:#eef2ff; border:1px solid #dbeafe; border-radius:10px; padding:1rem; overflow:auto; font-size:1.02rem}
    .author-box{margin-top:1.25rem; border-top:1px solid var(--border); padding-top:1rem; color:#4b5563; font-size:.95rem}

    /* Improve tap targets spacing */
    .radio-group .radio-option label{min-width:120px}

    /* Code-like */
    code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; background:#f3f4f6; padding:.15rem .35rem; border-radius:6px}
  </style>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "ACI 318 Concrete Footing Design Calculator",
  "description": "Interactive ACI 318 concrete footing design calculator for sizing pad footings and checking punching shear, one-way shear, and reinforcement. Supports US/Metric units and ASD/LRFD inputs.",
  "url": "https://calcdomain.com/concrete-footing-design",
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "Design a square ACI 318 footing with the calculator",
      "description": "Enter loads, soil bearing, column size, and material strengths to obtain footing plan size, shear checks, thickness, and reinforcement.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Select units",
          "text": "Choose US Customary or SI Metric units."
        },
        {
          "@type": "HowToStep",
          "name": "Enter loads and soil bearing",
          "text": "Provide service axial load and allowable soil bearing for sizing, and factored axial load for strength checks."
        },
        {
          "@type": "HowToStep",
          "name": "Define geometry",
          "text": "Select square or rectangular footing, column dimensions, and (optionally) aspect ratio."
        },
        {
          "@type": "HowToStep",
          "name": "Set materials",
          "text": "Input concrete compressive strength f'c and steel yield strength fy."
        },
        {
          "@type": "HowToStep",
          "name": "Thickness and reinforcement",
          "text": "Use auto thickness to meet shear, then review required reinforcement per direction."
        },
        {
          "@type": "HowToStep",
          "name": "Review results",
          "text": "Check service/factored bearing, shear utilization, minimum thickness, and recommended bar spacing."
        }
      ],
      "totalTime": "PT1M",
      "estimatedCost": {
        "@type": "MonetaryAmount",
        "currency": "USD",
        "value": "0"
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What code does this calculator follow?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Strength checks follow ACI 318-19 for reinforced concrete footings (two-way and one-way shear, flexure). Service sizing uses allowable soil bearing entered by the user."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need both service and factored loads?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Service load with allowable bearing determines the plan area, while the factored load Pu governs shear and flexural design per ACI 318."
          }
        },
        {
          "@type": "Question",
          "name": "Is footing self-weight included?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator sizes the plan area using net allowable bearing (typical geotechnical convention). If your allowable bearing is gross, increase the service load to include footing self-weight and overburden."
          }
        },
        {
          "@type": "Question",
          "name": "Can I switch US/SI units?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Toggle units at the top; values are converted intelligently. All formulas are unit-consistent."
          }
        },
        {
          "@type": "Question",
          "name": "Are flexural steel results conservative?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The lever arm is approximated as z ≈ 0.9d, which is standard for preliminary footing design and generally conservative for under-reinforced sections."
          }
        },
        {
          "@type": "Question",
          "name": "Is this tool suitable for final design?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use it for preliminary sizing and verification. Final design must be performed and sealed by a licensed structural engineer with project-specific loads and soil data."
          }
        }
      ]
    }
  ],
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer=""></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = { tex: { inlineMath: [['\\(','\\)'], [',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container w-full lg:w-2/3" id="main" role="main">
<nav aria-label="Breadcrumb" class="breadcrumb">
Home / <a href="https://calcdomain.com/engineering">Engineering</a> / ACI 318 Concrete Footing Design Calculator
    </nav>
<h1>ACI 318 Concrete Footing Design Calculator</h1>
<p class="lead">Design square or rectangular concrete pad footings per ACI 318. Enter loads, soil bearing, column size, and material strengths to obtain the required plan size, verify two-way (punching) and one-way shear, estimate minimum thickness, and get reinforcement recommendations. Built for structural engineers, geotechnical engineers, and advanced builders.</p>
<div class="calculator-layout">
<!-- Calculator -->
<aside aria-labelledby="calc-heading" class="card calculator-container w-full lg:w-1/3">
<h2 id="calc-heading">Footing Calculator</h2>
<div class="form-group">
<fieldset>
<legend>Units</legend>
<div aria-label="Units" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="u-us" name="units" type="radio" value="us">
<label for="u-us">US (kips, ksf, in)</label>
</div>
<div class="radio-option">
<input id="u-si" name="units" type="radio" value="si">
<label for="u-si">SI (kN, kPa, mm)</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Footing Shape</legend>
<div aria-label="Footing shape" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="shape-square" name="shape" type="radio" value="square">
<label for="shape-square">Square</label>
</div>
<div class="radio-option">
<input id="shape-rect" name="shape" type="radio" value="rect">
<label for="shape-rect">Rectangular</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="aspectRow">
<label for="aspectRatio">Aspect ratio L/B
            <span class="help-inline">
<button aria-controls="tip-aspect" aria-expanded="false" class="help-btn" type="button">?</button>
<span class="unit-addon">— default 1.5</span>
</span>
</label>
<input aria-describedby="tip-aspect" class="form-control" id="aspectRatio" inputmode="decimal" min="1" step="0.01" type="number" value="1.5">
<div aria-hidden="true" class="tooltip" id="tip-aspect" role="tooltip">For rectangular footings, L = (aspect ratio) × B. Example: 1.5 means L = 1.5B.</div>
</div>
<div class="form-group">
<label for="columnBx">Column size (b × h)
            <button aria-controls="tip-col" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<div class="input-row">
<div>
<input aria-describedby="err-columnBx tip-col" aria-required="true" class="form-control" id="columnBx" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-b-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBx" role="alert"></div>
</div>
<div>
<input aria-describedby="err-columnBy tip-col" aria-required="true" class="form-control" id="columnBy" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-h-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBy" role="alert"></div>
</div>
</div>
<div aria-hidden="true" class="tooltip" id="tip-col" role="tooltip">Enter column cross-section dimensions at the footing interface (b along B, h along L).</div>
</div>
<div class="form-group">
<label for="Pservice">Service axial load P (at footing level) *</label>
<div class="input-row">
<div>
<input aria-describedby="err-Pservice" aria-required="true" class="form-control" id="Pservice" inputmode="decimal" min="0.1" step="0.1" type="number" value="200">
<div class="unit-addon" id="Pserv-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pservice" role="alert"></div>
</div>
<div>
<label class="sr-only" for="qa">Allowable soil bearing</label>
<input aria-describedby="err-qa tip-qa" aria-required="true" class="form-control" id="qa" inputmode="decimal" min="0.1" step="0.1" type="number" value="4">
<div class="unit-addon" id="qa-unit">ksf</div>
<div aria-live="polite" class="error" id="err-qa" role="alert"></div>
</div>
</div>
<div class="help-inline" style="margin-top:.35rem">
<button aria-controls="tip-qa" aria-expanded="false" class="help-btn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="tip-qa" role="tooltip">Use net allowable soil bearing (typical geotechnical output). Area is sized as A = P_service / q_allow.</div>
</div>
</div>
<div class="form-group">
<label for="Pu">Factored axial load P<sub>u</sub> (strength design) *</label>
<input aria-describedby="err-Pu tip-Pu" aria-required="true" class="form-control" id="Pu" inputmode="decimal" min="0.1" step="0.1" type="number" value="300">
<div class="unit-addon" id="Pu-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pu" role="alert"></div>
<div aria-hidden="true" class="tooltip" id="tip-Pu" role="tooltip">Provide factored axial load at the footing per governing load combination (e.g., 1.2D+1.6L). This is used for shear and flexure checks.</div>
<button aria-controls="tip-Pu" aria-expanded="false" aria-label="Help for Pu" class="help-btn" type="button">?</button>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="fc">Concrete f′c *</label>
<input aria-describedby="err-fc" aria-required="true" class="form-control" id="fc" inputmode="decimal" min="2000" step="50" type="number" value="4000">
<div class="unit-addon" id="fc-unit">psi</div>
<div aria-live="polite" class="error" id="err-fc" role="alert"></div>
</div>
<div>
<label for="fy">Steel fy *</label>
<input aria-describedby="err-fy" aria-required="true" class="form-control" id="fy" inputmode="decimal" min="40" step="1" type="number" value="60">
<div class="unit-addon" id="fy-unit">ksi</div>
<div aria-live="polite" class="error" id="err-fy" role="alert"></div>
</div>
</div>
</div>
<div class="form-group">
<fieldset>
<legend>Thickness sizing</legend>
<div aria-label="Thickness mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="t-auto" name="tmode" type="radio" value="auto">
<label for="t-auto">Auto-size to meet shear</label>
</div>
<div class="radio-option">
<input id="t-manual" name="tmode" type="radio" value="manual">
<label for="t-manual">Manual thickness</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="thickRow">
<label for="thickness">Overall thickness h
            <button aria-controls="tip-th" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<input aria-describedby="tip-th" class="form-control" id="thickness" inputmode="decimal" min="8" step="0.1" type="number" value="18">
<div class="unit-addon" id="th-unit">in</div>
<div aria-hidden="true" class="tooltip" id="tip-th" role="tooltip">Overall footing thickness. Effective depth d is computed as h − cover − 0.5×bar diameter.</div>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="cover">Concrete cover to bars *</label>
<input aria-required="true" class="form-control" id="cover" inputmode="decimal" min="2" step="0.1" type="number" value="3">
<div class="unit-addon" id="cover-unit">in</div>
</div>
<div>
<label for="barSize">Bar size (reinforcement)</label>
<select aria-label="Bar size" class="form-control" id="barSize">
<option data-area-in2="0.20" data-area-mm2="113" data-dia-in="0.5" data-dia-mm="12" value="#4">#4 (0.20 in²)</option>
<option data-area-in2="0.31" data-area-mm2="201" data-dia-in="0.625" data-dia-mm="16" selected="" value="#5">#5 (0.31 in²)</option>
<option data-area-in2="0.44" data-area-mm2="314" data-dia-in="0.75" data-dia-mm="20" value="#6">#6 (0.44 in²)</option>
<option data-area-in2="0.60" data-area-mm2="387" data-dia-in="0.875" data-dia-mm="22" value="#7">#7 (0.60 in²)</option>
<option data-area-in2="0.79" data-area-mm2="491" data-dia-in="1.0" data-dia-mm="25" value="#8">#8 (0.79 in²)</option>
</select>
</div>
</div>
</div>
<div class="actions">
<button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
<button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
<section aria-atomic="true" aria-live="polite" class="results-container">
<h2>Results</h2>
<div class="result-grid" id="results">
<div class="result-item">
<div class="result-label">Required plan area (Areq)</div>
<div class="result-value" id="r-area">—</div>
</div>
<div class="result-item">
<div class="result-label">Selected footing size (B × L)</div>
<div class="result-value" id="r-size">—</div>
</div>
<div class="result-item">
<div class="result-label">Service bearing q (should ≤ qa)</div>
<div class="result-value" id="r-qserv">—</div>
</div>
<div class="result-item">
<div class="result-label">Factored bearing q<sub>u</sub></div>
<div class="result-value" id="r-qu">—</div>
</div>
<div class="result-item">
<div class="result-label">Min thickness to meet shear (auto)</div>
<div class="result-value" id="r-hmin">—</div>
</div>
<div class="result-item">
<div class="result-label">Punching shear utilization (Vu / φVc)</div>
<div class="result-value" id="r-punch">—</div>
</div>
<div class="result-item">
<div class="result-label">One-way shear utilization (worst dir.)</div>
<div class="result-value" id="r-oneway">—</div>
</div>
<div class="result-item">
<div class="result-label">Flexural steel per direction (governing)</div>
<div class="result-value" id="r-steel">—</div>
</div>
<div class="result-item">
<div class="result-label">Suggested bar spacing</div>
<div class="result-value" id="r-spacing">—</div>
</div>
</div>
<p class="subtext" id="note-text">Note: Strength reduction factors assumed φv = 0.75 (shear), φb = 0.9 (flexure). z ≈ 0.9d.</p>
</section>
</aside>
<!-- Authoritative content -->
<article class="card content-container">
<section>
<h2>Data Source and Methodology</h2>
<p><strong>Authoritative Data Source:</strong> ACI Committee 318. 2019. Building Code Requirements for Structural Concrete (ACI 318-19) and Commentary. American Concrete Institute. <a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" rel="nofollow noopener" target="_blank">Direct link to ACI 318-19</a>.</p>
<p>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</p>
<ul>
<li>Service sizing: Areq = Pservice / qa (net allowable bearing).</li>
<li>Strength checks: two-way (punching) shear, one-way shear, and flexure per ACI 318-19 Chapters on slabs and footings.</li>
<li>Strength reduction factors: φv = 0.75 (shear), φb = 0.9 (flexure).</li>
</ul>
</section>
<section>
<h2>The Formulas Explained</h2>
<div class="formula-box">
<p>Required area (service):</p>
<p>$$ A_{req} = \frac{P_{service}}{q_a} $$</p>
<p>Adopted plan dimensions for square footing:</p>
<p>$$ B = L = \sqrt{A_{req}} $$</p>
<p>Factored soil pressure:</p>
<p>$$ q_u = \frac{P_u}{B \cdot L} $$</p>
<p>Two-way (punching) shear around column:</p>
<p>$$ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $$</p>
<p>$$ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $$</p>
<p>One-way shear (worst direction shown):</p>
<p>$$ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $$</p>
<p>$$ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $$</p>
<p>Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d):</p>
<p>$$ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $$</p>
<p>Unit consistency is required throughout (US or SI).</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<ul>
<li>Pservice: Service axial load at footing level (kips or kN).</li>
<li>Pu: Factored axial load (kips or kN) per governing load combination.</li>
<li>qa: Allowable soil bearing pressure (ksf or kPa), net recommended.</li>
<li>B, L: Footing plan dimensions along x and y (ft/in or m/mm).</li>
<li>c1, c2: Column side dimensions along B and L (in or mm).</li>
<li>h: Overall footing thickness (in or mm).</li>
<li>d: Effective depth from compression face to centroid of tension steel (in or mm).</li>
<li>f′c: Concrete compressive strength (psi or MPa).</li>
<li>fy: Steel yield strength (ksi or MPa).</li>
<li>bo: Critical perimeter at distance d/2 from column face (in).</li>
<li>Vu: Factored shear demand (kips or kN).</li>
<li>φVc: Design shear capacity after φ (kips or kN).</li>
<li>As: Required steel area per unit width in each direction (in²/ft or mm²/m).</li>
</ul>
</section>
<section>
<h2>How It Works: A Step‑by‑Step Example</h2>
<p><strong>Given:</strong> US units, square footing; Pservice = 200 kips, qa = 4 ksf, Pu = 300 kips; column 24 × 24 in; f′c = 4000 psi, fy = 60 ksi; cover = 3 in; bars #5.</p>
<ol>
<li>Area: Areq = 200 / 4 = 50.0 sf → Square size B = L = √50 ≈ 7.07 ft ≈ 85 in (rounded).</li>
<li>Factored pressure: qu = 300 / 50.17 ≈ 5.98 ksf (using 85 in exact size → 50.17 sf).</li>
<li>Punching shear: assume h ≈ 18 in → d ≈ 18 − 3 − 0.3125 ≈ 14.69 in. bo = 2(24+24)+4·14.69 ≈ 154.8 in. A0 = (24+14.69)²/144 ≈ 10.4 sf. Vu = 300 − 5.98·10.4 ≈ 237.8 kips. φVc = 0.75·4√4000·bo·d / 1000 ≈ 431.8 kips &gt; Vu OK.</li>
<li>One-way shear (x-dir.): ax = (B − c1)/2 = (85 − 24)/2 in = 30.5 in = 2.54 ft. Vux = qu · Lft · (ax − d) ≈ 5.98 · 7.08 · (2.54 − 1.22) ≈ 55.8 kips. φVc1 ≈ 0.75·2√4000·L(in)·d /1000 ≈ 118.5 kips &gt; Vux OK.</li>
<li>Flexure (per ft strip): Mu = qu·a²/2 ≈ 5.98·(2.54²)/2 ≈ 19.3 kip-ft. With z ≈ 0.9d, As ≈ Mu / (φ·fy·z) ≈ 0.32 in²/ft; As,min ≈ 0.0018·12·18 ≈ 0.39 in²/ft → use 0.39 in²/ft. With #5 bars (0.31 in²), spacing s ≈ (0.31/0.39)·12 ≈ 9.5 in.</li>
</ol>
<p>Result: 85 in × 85 in footing, h ≈ 18 in, #5 @ 9.5 in each way (round to the nearest practical spacing, e.g., 9 in or 10 in, based on detailing and cover rules).</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>Which edition of ACI 318 is used?</summary>
<p>ACI 318-19 is referenced for shear and flexure provisions. Always verify with the latest adopted code in your jurisdiction.</p>
</details>
<details>
<summary>What’s the difference between service and factored loads?</summary>
<p>Service loads reflect unfactored real-world actions and are used with allowable soil bearing for plan sizing. Factored loads (Pu) incorporate load factors for ultimate strength checks per ACI 318.</p>
</details>
<details>
<summary>Does the calculator include footing self-weight?</summary>
<p>Plan sizing assumes a net allowable bearing (typical). If your qa is gross, include the footing and soil overburden in your service load before entering values.</p>
</details>
<details>
<summary>How is punching shear perimeter computed?</summary>
<p>The critical perimeter is taken at d/2 from the column face. For a rectangular column, b<sub>o</sub> = 2(c<sub>1</sub> + c<sub>2</sub>) + 4d.</p>
</details>
<details>
<summary>Are the reinforcement results exact?</summary>
<p>Flexural steel is based on a standard z ≈ 0.9d lever-arm approximation and per-foot strip design. This is robust for preliminary design; refine as needed for final detailing.</p>
</details>
<details>
<summary>Can I use metric units?</summary>
<p>Yes. Toggle to SI to switch to kN, kPa, and mm. The tool converts values and enforces unit consistency in formulas.</p>
</details>
<details>
<summary>Is this tool a substitute for an engineer?</summary>
<p>No. It is intended for preliminary design. Final design must be checked and sealed by a licensed structural engineer with project-specific inputs.</p>
</details>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A_{req} = \frac{P_{service}}{q_a}\]</div>
  <pre class="auditspine-mono">A_{req} = \frac{P_{service}}{q_a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[B = L = \sqrt{A_{req}}\]</div>
  <pre class="auditspine-mono">B = L = \sqrt{A_{req}}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[q_u = \frac{P_u}{B \cdot L}\]</div>
  <pre class="auditspine-mono">q_u = \frac{P_u}{B \cdot L}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)\]</div>
  <pre class="auditspine-mono">b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d\]</div>
  <pre class="auditspine-mono">V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Required area (service): $ A_{req} = \frac{P_{service}}{q_a} $ Adopted plan dimensions for square footing: $ B = L = \sqrt{A_{req}} $ Factored soil pressure: $ q_u = \frac{P_u}{B \cdot L} $ Two-way (punching) shear around column: $ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $ $ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $ One-way shear (worst direction shown): $ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $ $ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $ Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d): $ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $ Unit consistency is required throughout (US or SI).</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="nofollow noopener">https://calcdomain.com/engineering</a></li>
<li><strong>Direct link to ACI 318-19</strong> — concrete.org · Accessed 2026-01-19<br><a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" target="_blank" rel="nofollow noopener">https://www.concrete.org/store/productdetail.aspx?ItemID=31819</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</main>
<!-- Standard Footer --> 
<!-- MathJax for LaTeX rendering (deferred) -->
<script crossorigin="anonymous" defer="" integrity="sha384-k4v6lQhdaH7Hk8VaS8+zC3H0t7pK8YdFvUw9bL8f0rjYlQ3Z9F6G9c9G2xYt1kzK" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script defer="">
  (function(){
    'use strict';

    // Elements
    const els = {
      units: document.getElementsByName('units'),
      shape: document.getElementsByName('shape'),
      aspectRow: document.getElementById('aspectRow'),
      aspectRatio: document.getElementById('aspectRatio'),
      columnBx: document.getElementById('columnBx'),
      columnBy: document.getElementById('columnBy'),
      Pservice: document.getElementById('Pservice'),
      qa: document.getElementById('qa'),
      Pu: document.getElementById('Pu'),
      fc: document.getElementById('fc'),
      fy: document.getElementById('fy'),
      tmode: document.getElementsByName('tmode'),
      thickRow: document.getElementById('thickRow'),
      thickness: document.getElementById('thickness'),
      cover: document.getElementById('cover'),
      barSize: document.getElementById('barSize'),
      calcBtn: document.getElementById('calcBtn'),
      resetBtn: document.getElementById('resetBtn'),
      // Units labels
      colbUnit: document.getElementById('col-b-unit'),
      colhUnit: document.getElementById('col-h-unit'),
      PservUnit: document.getElementById('Pserv-unit'),
      qaUnit: document.getElementById('qa-unit'),
      PuUnit: document.getElementById('Pu-unit'),
      fcUnit: document.getElementById('fc-unit'),
      fyUnit: document.getElementById('fy-unit'),
      thUnit: document.getElementById('th-unit'),
      coverUnit: document.getElementById('cover-unit'),
      // Results
      rArea: document.getElementById('r-area'),
      rSize: document.getElementById('r-size'),
      rQserv: document.getElementById('r-qserv'),
      rQu: document.getElementById('r-qu'),
      rHmin: document.getElementById('r-hmin'),
      rPunch: document.getElementById('r-punch'),
      rOneway: document.getElementById('r-oneway'),
      rSteel: document.getElementById('r-steel'),
      rSpacing: document.getElementById('r-spacing'),
      note: document.getElementById('note-text')
    };

    // Accessible tooltips
    document.querySelectorAll('.help-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        if(!id) return;
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.setAttribute('aria-hidden', String(expanded));
      });
    });

    // Show/hide aspect ratio
    function updateShape(){
      const shape = getCheckedValue(els.shape);
      els.aspectRow.hidden = shape !== 'rect';
    }
    els.shape.forEach(r=>r.addEventListener('change', ()=>{ updateShape(); compute(); }));

    // Show/hide thickness row
    function updateThicknessMode(){
      const mode = getCheckedValue(els.tmode);
      els.thickRow.hidden = mode !== 'manual';
    }
    els.tmode.forEach(r=>r.addEventListener('change', ()=>{ updateThicknessMode(); compute(); }));

    // Units handling
    let currentUnits = 'us'; // 'us' or 'si'
    function getCheckedValue(nodeList){
      for(const n of nodeList){ if(n.checked) return n.value; }
      return nodeList[0]?.value;
    }
    function toNumber(el){
      const v = parseFloat(String(el.value).replace(',', '.'));
      return isFinite(v) ? v : NaN;
    }
    function clamp(v, min, max){ return Math.min(Math.max(v,min),max); }

    function switchUnits(target){
      if(target === currentUnits) return;

      const usToSI = (x)=>x; // use per-field conversions below
      if(target === 'si'){
        // Convert US -> SI
        // Length: in -> mm (×25.4), ft -> m handled in outputs
        els.columnBx.value = (toNumber(els.columnBx)*25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)*25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)*25.4).toFixed(0);
        els.cover.value = (toNumber(els.cover)*25.4).toFixed(0);
        // Loads: kips -> kN (×4.44822)
        els.Pservice.value = (toNumber(els.Pservice)*4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)*4.44822).toFixed(1);
        // Bearing: ksf -> kPa (1 ksf = 47.88026 kPa)
        els.qa.value = (toNumber(els.qa)*47.88026).toFixed(1);
        // fc: psi -> MPa (×0.00689476)
        els.fc.value = (toNumber(els.fc)*0.00689476).toFixed(1);
        // fy: ksi -> MPa (×6.89476)
        els.fy.value = (toNumber(els.fy)*6.89476).toFixed(1);

        // Labels
        els.colbUnit.textContent = 'mm';
        els.colhUnit.textContent = 'mm';
        els.PservUnit.textContent = 'kN';
        els.qaUnit.textContent = 'kPa';
        els.PuUnit.textContent = 'kN';
        els.fcUnit.textContent = 'MPa';
        els.fyUnit.textContent = 'MPa';
        els.thUnit.textContent = 'mm';
        els.coverUnit.textContent = 'mm';
      } else {
        // Convert SI -> US
        els.columnBx.value = (toNumber(els.columnBx)/25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)/25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)/25.4).toFixed(1);
        els.cover.value = (toNumber(els.cover)/25.4).toFixed(1);
        els.Pservice.value = (toNumber(els.Pservice)/4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)/4.44822).toFixed(1);
        els.qa.value = (toNumber(els.qa)/47.88026).toFixed(2);
        els.fc.value = (toNumber(els.fc)/0.00689476).toFixed(0);
        els.fy.value = (toNumber(els.fy)/6.89476).toFixed(0);

        els.colbUnit.textContent = 'in';
        els.colhUnit.textContent = 'in';
        els.PservUnit.textContent = 'kips';
        els.qaUnit.textContent = 'kPa' === els.qaUnit.textContent ? 'ksf' : 'ksf';
        els.PuUnit.textContent = 'kips';
        els.fcUnit.textContent = 'psi';
        els.fyUnit.textContent = 'ksi';
        els.thUnit.textContent = 'in';
        els.coverUnit.textContent = 'in';
      }
      // Update bar options label units (no change to dropdown content needed)
      currentUnits = target;
      compute();
    }

    els.units.forEach(r=>{
      r.addEventListener('change', ()=>switchUnits(getCheckedValue(els.units)));
    });

    // Validation (on blur)
    const requiredFields = [
      {el: els.Pservice, errId:'err-Pservice', label:'Service load P'},
      {el: els.qa, errId:'err-qa', label:'Allowable soil bearing'},
      {el: els.Pu, errId:'err-Pu', label:'Factored load Pu'},
      {el: els.fc, errId:'err-fc', label:"Concrete f'c"},
      {el: els.fy, errId:'err-fy', label:'Steel fy'},
      {el: els.columnBx, errId:'err-columnBx', label:'Column b'},
      {el: els.columnBy, errId:'err-columnBy', label:'Column h'}
    ];

    function setError(el, errId, msg){
      const err = document.getElementById(errId);
      if(msg){
        el.setAttribute('aria-invalid','true');
        err.textContent = msg;
      }else{
        el.setAttribute('aria-invalid','false');
        err.textContent = '';
      }
    }

    requiredFields.forEach(f=>{
      f.el.addEventListener('blur', ()=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){
          setError(f.el, f.errId, `${f.label} must be a positive number.`);
        }else{
          setError(f.el, f.errId, '');
        }
      });
    });

    // Reset
    els.resetBtn.addEventListener('click', ()=>{
      document.getElementById('u-us').checked = true;
      document.getElementById('shape-square').checked = true;
      document.getElementById('t-auto').checked = true;
      els.aspectRow.hidden = true;
      els.thickRow.hidden = true;

      currentUnits = 'us';
      els.columnBx.value = 24; els.columnBy.value = 24;
      els.Pservice.value = 200; els.qa.value = 4; els.Pu.value = 300;
      els.fc.value = 4000; els.fy.value = 60; els.cover.value = 3; els.thickness.value = 18;
      els.barSize.value = '#5';
      document.querySelectorAll('.tooltip').forEach(t=>{t.setAttribute('aria-hidden','true')});
      document.querySelectorAll('.help-btn[aria-expanded]').forEach(b=>b.setAttribute('aria-expanded','false'));
      // Clear errors
      requiredFields.forEach(f=>setError(f.el, f.errId, ''));
      compute();
    });

    // Compute math helpers
    function getBarProps(){
      const opt = els.barSize.selectedOptions[0];
      if(currentUnits==='us'){
        return { dia: parseFloat(opt.dataset.diaIn), area: parseFloat(opt.dataset.areaIn2), areaPerM: parseFloat(opt.dataset.areaIn2)*1550.0031 }; // in² to mm² per m not needed, but keep
      }else{
        return { dia: parseFloat(opt.dataset.diaMm), area: parseFloat(opt.dataset.areaMm2) };
      }
    }

    function compute(){
      // Basic validation
      const Pserv = toNumber(els.Pservice);
      const qa = toNumber(els.qa);
      const Pu = toNumber(els.Pu);
      const fc = toNumber(els.fc);
      const fy = toNumber(els.fy);
      const c1_in = toNumber(els.columnBx);
      const c2_in = toNumber(els.columnBy);
      const shape = getCheckedValue(els.shape);
      const mode = getCheckedValue(els.tmode);
      const aspect = toNumber(els.aspectRatio) || 1.5;

      // Units conversions to internal base (US customary)
      let Pserv_kip, Pu_kip, qa_ksf, fc_psi, fy_ksi, c1, c2, h, cover, barDia, barArea;

      const bar = getBarProps();

      if(currentUnits==='us'){
        Pserv_kip = Pserv; Pu_kip = Pu; qa_ksf = qa;
        fc_psi = fc; fy_ksi = fy;
        c1 = c1_in; c2 = c2_in;
        cover = toNumber(els.cover);
        h = mode==='manual' ? toNumber(els.thickness) : NaN;
        barDia = bar.dia; barArea = bar.area; // in, in²
      }else{
        // SI to US
        Pserv_kip = Pserv / 4.44822;
        Pu_kip = Pu / 4.44822;
        qa_ksf = qa / 47.88026;
        fc_psi = fc / 0.00689476;
        fy_ksi = fy / 6.89476;
        c1 = c1_in / 25.4;
        c2 = c2_in / 25.4;
        cover = toNumber(els.cover) / 25.4; // in
        h = mode==='manual' ? (toNumber(els.thickness) / 25.4) : NaN; // in
        // Bar (SI props)
        barDia = bar.dia / 25.4; // mm->in
        barArea = bar.area / 645.16; // mm² -> in²
      }

      // Guard conditions
      if([Pserv_kip, qa_ksf, Pu_kip, fc_psi, fy_ksi, c1, c2].some(v=>!isFinite(v) || v<=0)){
        renderNA();
        return;
      }

      // 1) Required area (service)
      let Areq_sf = Pserv_kip / qa_ksf; // sf
      if(!(isFinite(Areq_sf) && Areq_sf>0)){ renderNA(); return; }

      // 2) Determine plan dimensions
      let B_ft, L_ft;
      if(shape==='square'){
        const side_ft = Math.sqrt(Areq_sf);
        B_ft = side_ft; L_ft = side_ft;
      }else{
        // Rectangular: L = aspect * B; B = sqrt(A/aspect)
        const B_calc = Math.sqrt(Areq_sf / aspect);
        B_ft = B_calc; L_ft = aspect * B_calc;
      }

      // Round to practical increments (1 in)
      const B_in = Math.ceil(B_ft*12); // round up to nearest 1 in
      const L_in = Math.ceil(L_ft*12);
      const B_ft_eff = B_in/12;
      const L_ft_eff = L_in/12;
      const Aeff_sf = B_ft_eff * L_ft_eff;

      // 3) Service bearing using adopted size
      const qserv_ksf = Pserv_kip / Aeff_sf;

      // 4) Factored bearing
      const qu_ksf = Pu_kip / Aeff_sf;

      // 5) Thickness: compute d from either manual or auto sizing to pass shear
      const phi_v = 0.75, phi_b = 0.9;
      const sqrt_fc = Math.sqrt(fc_psi);

      function capacitiesFor(d_in){
        // Two-way punching
        const bo_in = 2*(c1 + c2) + 4*d_in;
        const A0_sf = ((c1 + d_in)*(c2 + d_in))/144.0; // in² -> ft²
        const Vu_punch_kip = Pu_kip - qu_ksf * A0_sf;
        const phiVc_punch_kip = phi_v * 4 * sqrt_fc * bo_in * d_in / 1000.0;

        // One-way shear (both directions)
        const d_ft = d_in/12;
        const ax_ft = (B_in/12 - c1/12)/2;
        const ay_ft = (L_in/12 - c2/12)/2;

        const Vu1x_kip = qu_ksf * (L_in/12) * Math.max(ax_ft - d_ft, 0);
        const Vu1y_kip = qu_ksf * (B_in/12) * Math.max(ay_ft - d_ft, 0);

        const phiVc1x_kip = phi_v * 2 * sqrt_fc * (L_in) * d_in / 1000.0;
        const phiVc1y_kip = phi_v * 2 * sqrt_fc * (B_in) * d_in / 1000.0;

        const utilPunch = Vu_punch_kip>0 ? Vu_punch_kip / Math.max(phiVc_punch_kip,1e-9) : 0;
        const util1x = Vu1x_kip>0 ? Vu1x_kip / Math.max(phiVc1x_kip,1e-9) : 0;
        const util1y = Vu1y_kip>0 ? Vu1y_kip / Math.max(phiVc1y_kip,1e-9) : 0;
        return {
          Vu_punch_kip, phiVc_punch_kip, utilPunch,
          Vu1x_kip, phiVc1x_kip, util1x,
          Vu1y_kip, phiVc1y_kip, util1y
        };
      }

      // Effective depth d from provided/auto thickness
      function dFromH(h_in){ return Math.max(h_in - cover - 0.5*barDia, 0.1); }

      let h_in, d_in, cap;
      if(getCheckedValue(els.tmode)==='manual'){
        h_in = Math.max(toNumber(els.thickness)||0, 4);
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }else{
        // Auto-size: iterate h to meet both shear checks with utilization <= 1.0
        const hMin = 8; // in
        const hMax = 60;
        let hTry = hMin;
        let ok = false, best = hMax;
        for(let hCandidate = hMin; hCandidate<=hMax; hCandidate += 0.1){
          const dCand = dFromH(hCandidate);
          const c = capacitiesFor(dCand);
          const worst = Math.max(c.utilPunch, c.util1x, c.util1y);
          if(worst<=1.0){
            best = hCandidate;
            ok = true;
            break;
          }
        }
        h_in = ok ? best : hMax;
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }

      // 6) Flexure per direction (per foot strip)
      function flexureAs(dir){
        // dir 'x': cantilever from column face to edge along B; strip width = 1 ft
        const a_ft = dir==='x' ? (B_in/12 - c1/12)/2 : (L_in/12 - c2/12)/2;
        const Mu_kipft = Math.max(qu_ksf * a_ft * a_ft / 2, 0);
        const Mu_kipin = Mu_kipft * 12;
        const z_in = 0.9 * d_in;
        const As_in2_perft = (Mu_kipin) / (phi_b * fy_ksi * z_in); // kip-in / (ksi*in) => in²
        return Math.max(As_in2_perft, 0);
      }
      const Asx = flexureAs('x');
      const Asy = flexureAs('y');

      // Minimum steel per ACI (approx for slabs/footings): ρ_min ≈ 0.0018 for Grade 60; scale with fy
      const rho60 = 0.0018;
      const rho = rho60 * (60/Math.max(fy_ksi,1));
      const As_min_in2_perft = rho * 12 * Math.max(h_in,1); // b=12 in

      const Asx_req = Math.max(Asx, As_min_in2_perft);
      const Asy_req = Math.max(Asy, As_min_in2_perft);
      const As_governing = Math.max(Asx_req, Asy_req);

      // Bar spacing suggestion
      // spacing s (in) per direction based on per-foot area: s = (barArea / As_req) * 12
      const s_in = Math.min(18, Math.max(4, (barArea / Math.max(As_governing,1e-6)) * 12));
      const s_in_rounded = Math.round(s_in*2)/2; // nearest 0.5 in

      // Render
      // Area
      if(currentUnits==='us'){
        els.rArea.textContent = `${Areq_sf.toFixed(2)} sf`;
        els.rSize.textContent = `${(B_in/12).toFixed(2)} ft × ${(L_in/12).toFixed(2)} ft`;
        els.rQserv.textContent = `${qserv_ksf.toFixed(2)} ksf (≤ ${qa_ksf.toFixed(2)} ksf)`;
        els.rQu.textContent = `${qu_ksf.toFixed(2)} ksf`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_in.toFixed(1)} in (manual)` : `${h_in.toFixed(1)} in (auto)`;
        els.rPunch.textContent = `${cap.Vu_punch_kip.toFixed(1)} / ${cap.phiVc_punch_kip.toFixed(1)} = ${cap.utilPunch.toFixed(2)}`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        els.rSteel.textContent = `${As_governing.toFixed(2)} in²/ft (min used: ${(As_min_in2_perft).toFixed(2)})`;
        els.rSpacing.textContent = `${els.barSize.value} @ ${s_in_rounded.toFixed(1)} in o/c (each way)`;
      }else{
        // Convert outputs to SI presentation
        const Areq_m2 = Areq_sf * 0.092903; // 1 sf = 0.092903 m²
        const B_m = (B_in*0.0254);
        const L_m = (L_in*0.0254);
        const qserv_kPa = qserv_ksf * 47.88026;
        const qu_kPa = qu_ksf * 47.88026;
        const h_mm = h_in * 25.4;

        els.rArea.textContent = `${Areq_m2.toFixed(3)} m²`;
        els.rSize.textContent = `${B_m.toFixed(2)} m × ${L_m.toFixed(2)} m`;
        els.rQserv.textContent = `${qserv_kPa.toFixed(1)} kPa (≤ ${(qa).toFixed(1)} kPa)`;
        els.rQu.textContent = `${qu_kPa.toFixed(1)} kPa`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_mm.toFixed(0)} mm (manual)` : `${h_mm.toFixed(0)} mm (auto)`;
        els.rPunch.textContent = `${(cap.Vu_punch_kip*4.44822).toFixed(1)} / ${(cap.phiVc_punch_kip*4.44822).toFixed(1)} = ${cap.utilPunch.toFixed(2)} kN`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        const As_mm2_per_m = As_governing * 215.999; // 1 in²/ft = 215.999 mm²/m
        const As_min_mm2_per_m = As_min_in2_perft * 215.999;
        const s_mm = s_in * 25.4;
        const s_mm_round = Math.round(s_mm/5)*5;
        els.rSteel.textContent = `${As_mm2_per_m.toFixed(0)} mm²/m (min used: ${As_min_mm2_per_m.toFixed(0)})`;
        els.rSpacing.textContent = `${els.barSize.selectedOptions[0].text.split(' ')[0]} @ ${s_mm_round} mm o/c (each way)`;
      }
    }

    function renderNA(){
      const dash = '—';
      els.rArea.textContent = dash;
      els.rSize.textContent = dash;
      els.rQserv.textContent = dash;
      els.rQu.textContent = dash;
      els.rHmin.textContent = dash;
      els.rPunch.textContent = dash;
      els.rOneway.textContent = dash;
      els.rSteel.textContent = dash;
      els.rSpacing.textContent = dash;
    }

    // Inline validation triggered by calculate button too
    function validateAll(){
      let ok = true;
      requiredFields.forEach(f=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){ setError(f.el, f.errId, `${f.label} must be a positive number.`); ok=false; }
        else setError(f.el, f.errId, '');
      });
      if(getCheckedValue(els.shape)==='rect'){
        const ar = toNumber(els.aspectRatio);
        if(!(isFinite(ar) && ar>=1)){ ok=false; els.aspectRatio.setAttribute('aria-invalid','true'); }
        else els.aspectRatio.setAttribute('aria-invalid','false');
      }
      if(getCheckedValue(els.tmode)==='manual'){
        const h = toNumber(els.thickness);
        if(!(isFinite(h) && h>0)){ ok=false; els.thickness.setAttribute('aria-invalid','true'); }
        else els.thickness.setAttribute('aria-invalid','false');
      }
      return ok;
    }

    // Events
    ['input','change','blur'].forEach(ev=>{
      [
        els.Pservice, els.qa, els.Pu, els.fc, els.fy,
        els.columnBx, els.columnBy, els.aspectRatio, els.thickness, els.cover, els.barSize
      ].forEach(el=> el.addEventListener(ev, ()=>{ if(ev!=='blur') compute(); }));
    });
    els.calcBtn.addEventListener('click', ()=>{ if(validateAll()) compute(); });

    // Initialize
    updateShape();
    updateThicknessMode();
    compute();
  })();
  </script>

</body></html>, ',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container" id="main" role="main">
<nav aria-label="Breadcrumb" class="breadcrumb">
Home / <a href="https://calcdomain.com/engineering">Engineering</a> / ACI 318 Concrete Footing Design Calculator
    </nav>
<h1>ACI 318 Concrete Footing Design Calculator</h1>
<p class="lead">Design square or rectangular concrete pad footings per ACI 318. Enter loads, soil bearing, column size, and material strengths to obtain the required plan size, verify two-way (punching) and one-way shear, estimate minimum thickness, and get reinforcement recommendations. Built for structural engineers, geotechnical engineers, and advanced builders.</p>
<div class="calculator-layout">
<!-- Calculator -->
<aside aria-labelledby="calc-heading" class="card calculator-container">
<h2 id="calc-heading">Footing Calculator</h2>
<div class="form-group">
<fieldset>
<legend>Units</legend>
<div aria-label="Units" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="u-us" name="units" type="radio" value="us">
<label for="u-us">US (kips, ksf, in)</label>
</div>
<div class="radio-option">
<input id="u-si" name="units" type="radio" value="si">
<label for="u-si">SI (kN, kPa, mm)</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Footing Shape</legend>
<div aria-label="Footing shape" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="shape-square" name="shape" type="radio" value="square">
<label for="shape-square">Square</label>
</div>
<div class="radio-option">
<input id="shape-rect" name="shape" type="radio" value="rect">
<label for="shape-rect">Rectangular</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="aspectRow">
<label for="aspectRatio">Aspect ratio L/B
            <span class="help-inline">
<button aria-controls="tip-aspect" aria-expanded="false" class="help-btn" type="button">?</button>
<span class="unit-addon">— default 1.5</span>
</span>
</label>
<input aria-describedby="tip-aspect" class="form-control" id="aspectRatio" inputmode="decimal" min="1" step="0.01" type="number" value="1.5">
<div aria-hidden="true" class="tooltip" id="tip-aspect" role="tooltip">For rectangular footings, L = (aspect ratio) × B. Example: 1.5 means L = 1.5B.</div>
</div>
<div class="form-group">
<label for="columnBx">Column size (b × h)
            <button aria-controls="tip-col" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<div class="input-row">
<div>
<input aria-describedby="err-columnBx tip-col" aria-required="true" class="form-control" id="columnBx" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-b-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBx" role="alert"></div>
</div>
<div>
<input aria-describedby="err-columnBy tip-col" aria-required="true" class="form-control" id="columnBy" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-h-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBy" role="alert"></div>
</div>
</div>
<div aria-hidden="true" class="tooltip" id="tip-col" role="tooltip">Enter column cross-section dimensions at the footing interface (b along B, h along L).</div>
</div>
<div class="form-group">
<label for="Pservice">Service axial load P (at footing level) *</label>
<div class="input-row">
<div>
<input aria-describedby="err-Pservice" aria-required="true" class="form-control" id="Pservice" inputmode="decimal" min="0.1" step="0.1" type="number" value="200">
<div class="unit-addon" id="Pserv-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pservice" role="alert"></div>
</div>
<div>
<label class="sr-only" for="qa">Allowable soil bearing</label>
<input aria-describedby="err-qa tip-qa" aria-required="true" class="form-control" id="qa" inputmode="decimal" min="0.1" step="0.1" type="number" value="4">
<div class="unit-addon" id="qa-unit">ksf</div>
<div aria-live="polite" class="error" id="err-qa" role="alert"></div>
</div>
</div>
<div class="help-inline" style="margin-top:.35rem">
<button aria-controls="tip-qa" aria-expanded="false" class="help-btn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="tip-qa" role="tooltip">Use net allowable soil bearing (typical geotechnical output). Area is sized as A = P_service / q_allow.</div>
</div>
</div>
<div class="form-group">
<label for="Pu">Factored axial load P<sub>u</sub> (strength design) *</label>
<input aria-describedby="err-Pu tip-Pu" aria-required="true" class="form-control" id="Pu" inputmode="decimal" min="0.1" step="0.1" type="number" value="300">
<div class="unit-addon" id="Pu-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pu" role="alert"></div>
<div aria-hidden="true" class="tooltip" id="tip-Pu" role="tooltip">Provide factored axial load at the footing per governing load combination (e.g., 1.2D+1.6L). This is used for shear and flexure checks.</div>
<button aria-controls="tip-Pu" aria-expanded="false" aria-label="Help for Pu" class="help-btn" type="button">?</button>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="fc">Concrete f′c *</label>
<input aria-describedby="err-fc" aria-required="true" class="form-control" id="fc" inputmode="decimal" min="2000" step="50" type="number" value="4000">
<div class="unit-addon" id="fc-unit">psi</div>
<div aria-live="polite" class="error" id="err-fc" role="alert"></div>
</div>
<div>
<label for="fy">Steel fy *</label>
<input aria-describedby="err-fy" aria-required="true" class="form-control" id="fy" inputmode="decimal" min="40" step="1" type="number" value="60">
<div class="unit-addon" id="fy-unit">ksi</div>
<div aria-live="polite" class="error" id="err-fy" role="alert"></div>
</div>
</div>
</div>
<div class="form-group">
<fieldset>
<legend>Thickness sizing</legend>
<div aria-label="Thickness mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="t-auto" name="tmode" type="radio" value="auto">
<label for="t-auto">Auto-size to meet shear</label>
</div>
<div class="radio-option">
<input id="t-manual" name="tmode" type="radio" value="manual">
<label for="t-manual">Manual thickness</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="thickRow">
<label for="thickness">Overall thickness h
            <button aria-controls="tip-th" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<input aria-describedby="tip-th" class="form-control" id="thickness" inputmode="decimal" min="8" step="0.1" type="number" value="18">
<div class="unit-addon" id="th-unit">in</div>
<div aria-hidden="true" class="tooltip" id="tip-th" role="tooltip">Overall footing thickness. Effective depth d is computed as h − cover − 0.5×bar diameter.</div>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="cover">Concrete cover to bars *</label>
<input aria-required="true" class="form-control" id="cover" inputmode="decimal" min="2" step="0.1" type="number" value="3">
<div class="unit-addon" id="cover-unit">in</div>
</div>
<div>
<label for="barSize">Bar size (reinforcement)</label>
<select aria-label="Bar size" class="form-control" id="barSize">
<option data-area-in2="0.20" data-area-mm2="113" data-dia-in="0.5" data-dia-mm="12" value="#4">#4 (0.20 in²)</option>
<option data-area-in2="0.31" data-area-mm2="201" data-dia-in="0.625" data-dia-mm="16" selected="" value="#5">#5 (0.31 in²)</option>
<option data-area-in2="0.44" data-area-mm2="314" data-dia-in="0.75" data-dia-mm="20" value="#6">#6 (0.44 in²)</option>
<option data-area-in2="0.60" data-area-mm2="387" data-dia-in="0.875" data-dia-mm="22" value="#7">#7 (0.60 in²)</option>
<option data-area-in2="0.79" data-area-mm2="491" data-dia-in="1.0" data-dia-mm="25" value="#8">#8 (0.79 in²)</option>
</select>
</div>
</div>
</div>
<div class="actions">
<button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
<button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
<section aria-atomic="true" aria-live="polite" class="results-container">
<h2>Results</h2>
<div class="result-grid" id="results">
<div class="result-item">
<div class="result-label">Required plan area (Areq)</div>
<div class="result-value" id="r-area">—</div>
</div>
<div class="result-item">
<div class="result-label">Selected footing size (B × L)</div>
<div class="result-value" id="r-size">—</div>
</div>
<div class="result-item">
<div class="result-label">Service bearing q (should ≤ qa)</div>
<div class="result-value" id="r-qserv">—</div>
</div>
<div class="result-item">
<div class="result-label">Factored bearing q<sub>u</sub></div>
<div class="result-value" id="r-qu">—</div>
</div>
<div class="result-item">
<div class="result-label">Min thickness to meet shear (auto)</div>
<div class="result-value" id="r-hmin">—</div>
</div>
<div class="result-item">
<div class="result-label">Punching shear utilization (Vu / φVc)</div>
<div class="result-value" id="r-punch">—</div>
</div>
<div class="result-item">
<div class="result-label">One-way shear utilization (worst dir.)</div>
<div class="result-value" id="r-oneway">—</div>
</div>
<div class="result-item">
<div class="result-label">Flexural steel per direction (governing)</div>
<div class="result-value" id="r-steel">—</div>
</div>
<div class="result-item">
<div class="result-label">Suggested bar spacing</div>
<div class="result-value" id="r-spacing">—</div>
</div>
</div>
<p class="subtext" id="note-text">Note: Strength reduction factors assumed φv = 0.75 (shear), φb = 0.9 (flexure). z ≈ 0.9d.</p>
</section>
</aside>
<!-- Authoritative content -->
<article class="card content-container">
<section>
<h2>Data Source and Methodology</h2>
<p><strong>Authoritative Data Source:</strong> ACI Committee 318. 2019. Building Code Requirements for Structural Concrete (ACI 318-19) and Commentary. American Concrete Institute. <a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" rel="nofollow noopener" target="_blank">Direct link to ACI 318-19</a>.</p>
<p>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</p>
<ul>
<li>Service sizing: Areq = Pservice / qa (net allowable bearing).</li>
<li>Strength checks: two-way (punching) shear, one-way shear, and flexure per ACI 318-19 Chapters on slabs and footings.</li>
<li>Strength reduction factors: φv = 0.75 (shear), φb = 0.9 (flexure).</li>
</ul>
</section>
<section>
<h2>The Formulas Explained</h2>
<div class="formula-box">
<p>Required area (service):</p>
<p>$$ A_{req} = \frac{P_{service}}{q_a} $$</p>
<p>Adopted plan dimensions for square footing:</p>
<p>$$ B = L = \sqrt{A_{req}} $$</p>
<p>Factored soil pressure:</p>
<p>$$ q_u = \frac{P_u}{B \cdot L} $$</p>
<p>Two-way (punching) shear around column:</p>
<p>$$ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $$</p>
<p>$$ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $$</p>
<p>One-way shear (worst direction shown):</p>
<p>$$ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $$</p>
<p>$$ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $$</p>
<p>Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d):</p>
<p>$$ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $$</p>
<p>Unit consistency is required throughout (US or SI).</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<ul>
<li>Pservice: Service axial load at footing level (kips or kN).</li>
<li>Pu: Factored axial load (kips or kN) per governing load combination.</li>
<li>qa: Allowable soil bearing pressure (ksf or kPa), net recommended.</li>
<li>B, L: Footing plan dimensions along x and y (ft/in or m/mm).</li>
<li>c1, c2: Column side dimensions along B and L (in or mm).</li>
<li>h: Overall footing thickness (in or mm).</li>
<li>d: Effective depth from compression face to centroid of tension steel (in or mm).</li>
<li>f′c: Concrete compressive strength (psi or MPa).</li>
<li>fy: Steel yield strength (ksi or MPa).</li>
<li>bo: Critical perimeter at distance d/2 from column face (in).</li>
<li>Vu: Factored shear demand (kips or kN).</li>
<li>φVc: Design shear capacity after φ (kips or kN).</li>
<li>As: Required steel area per unit width in each direction (in²/ft or mm²/m).</li>
</ul>
</section>
<section>
<h2>How It Works: A Step‑by‑Step Example</h2>
<p><strong>Given:</strong> US units, square footing; Pservice = 200 kips, qa = 4 ksf, Pu = 300 kips; column 24 × 24 in; f′c = 4000 psi, fy = 60 ksi; cover = 3 in; bars #5.</p>
<ol>
<li>Area: Areq = 200 / 4 = 50.0 sf → Square size B = L = √50 ≈ 7.07 ft ≈ 85 in (rounded).</li>
<li>Factored pressure: qu = 300 / 50.17 ≈ 5.98 ksf (using 85 in exact size → 50.17 sf).</li>
<li>Punching shear: assume h ≈ 18 in → d ≈ 18 − 3 − 0.3125 ≈ 14.69 in. bo = 2(24+24)+4·14.69 ≈ 154.8 in. A0 = (24+14.69)²/144 ≈ 10.4 sf. Vu = 300 − 5.98·10.4 ≈ 237.8 kips. φVc = 0.75·4√4000·bo·d / 1000 ≈ 431.8 kips &gt; Vu OK.</li>
<li>One-way shear (x-dir.): ax = (B − c1)/2 = (85 − 24)/2 in = 30.5 in = 2.54 ft. Vux = qu · Lft · (ax − d) ≈ 5.98 · 7.08 · (2.54 − 1.22) ≈ 55.8 kips. φVc1 ≈ 0.75·2√4000·L(in)·d /1000 ≈ 118.5 kips &gt; Vux OK.</li>
<li>Flexure (per ft strip): Mu = qu·a²/2 ≈ 5.98·(2.54²)/2 ≈ 19.3 kip-ft. With z ≈ 0.9d, As ≈ Mu / (φ·fy·z) ≈ 0.32 in²/ft; As,min ≈ 0.0018·12·18 ≈ 0.39 in²/ft → use 0.39 in²/ft. With #5 bars (0.31 in²), spacing s ≈ (0.31/0.39)·12 ≈ 9.5 in.</li>
</ol>
<p>Result: 85 in × 85 in footing, h ≈ 18 in, #5 @ 9.5 in each way (round to the nearest practical spacing, e.g., 9 in or 10 in, based on detailing and cover rules).</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>Which edition of ACI 318 is used?</summary>
<p>ACI 318-19 is referenced for shear and flexure provisions. Always verify with the latest adopted code in your jurisdiction.</p>
</details>
<details>
<summary>What’s the difference between service and factored loads?</summary>
<p>Service loads reflect unfactored real-world actions and are used with allowable soil bearing for plan sizing. Factored loads (Pu) incorporate load factors for ultimate strength checks per ACI 318.</p>
</details>
<details>
<summary>Does the calculator include footing self-weight?</summary>
<p>Plan sizing assumes a net allowable bearing (typical). If your qa is gross, include the footing and soil overburden in your service load before entering values.</p>
</details>
<details>
<summary>How is punching shear perimeter computed?</summary>
<p>The critical perimeter is taken at d/2 from the column face. For a rectangular column, b<sub>o</sub> = 2(c<sub>1</sub> + c<sub>2</sub>) + 4d.</p>
</details>
<details>
<summary>Are the reinforcement results exact?</summary>
<p>Flexural steel is based on a standard z ≈ 0.9d lever-arm approximation and per-foot strip design. This is robust for preliminary design; refine as needed for final detailing.</p>
</details>
<details>
<summary>Can I use metric units?</summary>
<p>Yes. Toggle to SI to switch to kN, kPa, and mm. The tool converts values and enforces unit consistency in formulas.</p>
</details>
<details>
<summary>Is this tool a substitute for an engineer?</summary>
<p>No. It is intended for preliminary design. Final design must be checked and sealed by a licensed structural engineer with project-specific inputs.</p>
</details>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A_{req} = \frac{P_{service}}{q_a}\]</div>
  <pre class="auditspine-mono">A_{req} = \frac{P_{service}}{q_a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[B = L = \sqrt{A_{req}}\]</div>
  <pre class="auditspine-mono">B = L = \sqrt{A_{req}}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[q_u = \frac{P_u}{B \cdot L}\]</div>
  <pre class="auditspine-mono">q_u = \frac{P_u}{B \cdot L}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)\]</div>
  <pre class="auditspine-mono">b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d\]</div>
  <pre class="auditspine-mono">V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Required area (service): $ A_{req} = \frac{P_{service}}{q_a} $ Adopted plan dimensions for square footing: $ B = L = \sqrt{A_{req}} $ Factored soil pressure: $ q_u = \frac{P_u}{B \cdot L} $ Two-way (punching) shear around column: $ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $ $ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $ One-way shear (worst direction shown): $ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $ $ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $ Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d): $ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $ Unit consistency is required throughout (US or SI).</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="nofollow noopener">https://calcdomain.com/engineering</a></li>
<li><strong>Direct link to ACI 318-19</strong> — concrete.org · Accessed 2026-01-19<br><a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" target="_blank" rel="nofollow noopener">https://www.concrete.org/store/productdetail.aspx?ItemID=31819</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</main>
<!-- Standard Footer --> 
<!-- MathJax for LaTeX rendering (deferred) -->
<script crossorigin="anonymous" defer="" integrity="sha384-k4v6lQhdaH7Hk8VaS8+zC3H0t7pK8YdFvUw9bL8f0rjYlQ3Z9F6G9c9G2xYt1kzK" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script defer="">
  (function(){
    'use strict';

    // Elements
    const els = {
      units: document.getElementsByName('units'),
      shape: document.getElementsByName('shape'),
      aspectRow: document.getElementById('aspectRow'),
      aspectRatio: document.getElementById('aspectRatio'),
      columnBx: document.getElementById('columnBx'),
      columnBy: document.getElementById('columnBy'),
      Pservice: document.getElementById('Pservice'),
      qa: document.getElementById('qa'),
      Pu: document.getElementById('Pu'),
      fc: document.getElementById('fc'),
      fy: document.getElementById('fy'),
      tmode: document.getElementsByName('tmode'),
      thickRow: document.getElementById('thickRow'),
      thickness: document.getElementById('thickness'),
      cover: document.getElementById('cover'),
      barSize: document.getElementById('barSize'),
      calcBtn: document.getElementById('calcBtn'),
      resetBtn: document.getElementById('resetBtn'),
      // Units labels
      colbUnit: document.getElementById('col-b-unit'),
      colhUnit: document.getElementById('col-h-unit'),
      PservUnit: document.getElementById('Pserv-unit'),
      qaUnit: document.getElementById('qa-unit'),
      PuUnit: document.getElementById('Pu-unit'),
      fcUnit: document.getElementById('fc-unit'),
      fyUnit: document.getElementById('fy-unit'),
      thUnit: document.getElementById('th-unit'),
      coverUnit: document.getElementById('cover-unit'),
      // Results
      rArea: document.getElementById('r-area'),
      rSize: document.getElementById('r-size'),
      rQserv: document.getElementById('r-qserv'),
      rQu: document.getElementById('r-qu'),
      rHmin: document.getElementById('r-hmin'),
      rPunch: document.getElementById('r-punch'),
      rOneway: document.getElementById('r-oneway'),
      rSteel: document.getElementById('r-steel'),
      rSpacing: document.getElementById('r-spacing'),
      note: document.getElementById('note-text')
    };

    // Accessible tooltips
    document.querySelectorAll('.help-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        if(!id) return;
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.setAttribute('aria-hidden', String(expanded));
      });
    });

    // Show/hide aspect ratio
    function updateShape(){
      const shape = getCheckedValue(els.shape);
      els.aspectRow.hidden = shape !== 'rect';
    }
    els.shape.forEach(r=>r.addEventListener('change', ()=>{ updateShape(); compute(); }));

    // Show/hide thickness row
    function updateThicknessMode(){
      const mode = getCheckedValue(els.tmode);
      els.thickRow.hidden = mode !== 'manual';
    }
    els.tmode.forEach(r=>r.addEventListener('change', ()=>{ updateThicknessMode(); compute(); }));

    // Units handling
    let currentUnits = 'us'; // 'us' or 'si'
    function getCheckedValue(nodeList){
      for(const n of nodeList){ if(n.checked) return n.value; }
      return nodeList[0]?.value;
    }
    function toNumber(el){
      const v = parseFloat(String(el.value).replace(',', '.'));
      return isFinite(v) ? v : NaN;
    }
    function clamp(v, min, max){ return Math.min(Math.max(v,min),max); }

    function switchUnits(target){
      if(target === currentUnits) return;

      const usToSI = (x)=>x; // use per-field conversions below
      if(target === 'si'){
        // Convert US -> SI
        // Length: in -> mm (×25.4), ft -> m handled in outputs
        els.columnBx.value = (toNumber(els.columnBx)*25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)*25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)*25.4).toFixed(0);
        els.cover.value = (toNumber(els.cover)*25.4).toFixed(0);
        // Loads: kips -> kN (×4.44822)
        els.Pservice.value = (toNumber(els.Pservice)*4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)*4.44822).toFixed(1);
        // Bearing: ksf -> kPa (1 ksf = 47.88026 kPa)
        els.qa.value = (toNumber(els.qa)*47.88026).toFixed(1);
        // fc: psi -> MPa (×0.00689476)
        els.fc.value = (toNumber(els.fc)*0.00689476).toFixed(1);
        // fy: ksi -> MPa (×6.89476)
        els.fy.value = (toNumber(els.fy)*6.89476).toFixed(1);

        // Labels
        els.colbUnit.textContent = 'mm';
        els.colhUnit.textContent = 'mm';
        els.PservUnit.textContent = 'kN';
        els.qaUnit.textContent = 'kPa';
        els.PuUnit.textContent = 'kN';
        els.fcUnit.textContent = 'MPa';
        els.fyUnit.textContent = 'MPa';
        els.thUnit.textContent = 'mm';
        els.coverUnit.textContent = 'mm';
      } else {
        // Convert SI -> US
        els.columnBx.value = (toNumber(els.columnBx)/25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)/25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)/25.4).toFixed(1);
        els.cover.value = (toNumber(els.cover)/25.4).toFixed(1);
        els.Pservice.value = (toNumber(els.Pservice)/4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)/4.44822).toFixed(1);
        els.qa.value = (toNumber(els.qa)/47.88026).toFixed(2);
        els.fc.value = (toNumber(els.fc)/0.00689476).toFixed(0);
        els.fy.value = (toNumber(els.fy)/6.89476).toFixed(0);

        els.colbUnit.textContent = 'in';
        els.colhUnit.textContent = 'in';
        els.PservUnit.textContent = 'kips';
        els.qaUnit.textContent = 'kPa' === els.qaUnit.textContent ? 'ksf' : 'ksf';
        els.PuUnit.textContent = 'kips';
        els.fcUnit.textContent = 'psi';
        els.fyUnit.textContent = 'ksi';
        els.thUnit.textContent = 'in';
        els.coverUnit.textContent = 'in';
      }
      // Update bar options label units (no change to dropdown content needed)
      currentUnits = target;
      compute();
    }

    els.units.forEach(r=>{
      r.addEventListener('change', ()=>switchUnits(getCheckedValue(els.units)));
    });

    // Validation (on blur)
    const requiredFields = [
      {el: els.Pservice, errId:'err-Pservice', label:'Service load P'},
      {el: els.qa, errId:'err-qa', label:'Allowable soil bearing'},
      {el: els.Pu, errId:'err-Pu', label:'Factored load Pu'},
      {el: els.fc, errId:'err-fc', label:"Concrete f'c"},
      {el: els.fy, errId:'err-fy', label:'Steel fy'},
      {el: els.columnBx, errId:'err-columnBx', label:'Column b'},
      {el: els.columnBy, errId:'err-columnBy', label:'Column h'}
    ];

    function setError(el, errId, msg){
      const err = document.getElementById(errId);
      if(msg){
        el.setAttribute('aria-invalid','true');
        err.textContent = msg;
      }else{
        el.setAttribute('aria-invalid','false');
        err.textContent = '';
      }
    }

    requiredFields.forEach(f=>{
      f.el.addEventListener('blur', ()=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){
          setError(f.el, f.errId, `${f.label} must be a positive number.`);
        }else{
          setError(f.el, f.errId, '');
        }
      });
    });

    // Reset
    els.resetBtn.addEventListener('click', ()=>{
      document.getElementById('u-us').checked = true;
      document.getElementById('shape-square').checked = true;
      document.getElementById('t-auto').checked = true;
      els.aspectRow.hidden = true;
      els.thickRow.hidden = true;

      currentUnits = 'us';
      els.columnBx.value = 24; els.columnBy.value = 24;
      els.Pservice.value = 200; els.qa.value = 4; els.Pu.value = 300;
      els.fc.value = 4000; els.fy.value = 60; els.cover.value = 3; els.thickness.value = 18;
      els.barSize.value = '#5';
      document.querySelectorAll('.tooltip').forEach(t=>{t.setAttribute('aria-hidden','true')});
      document.querySelectorAll('.help-btn[aria-expanded]').forEach(b=>b.setAttribute('aria-expanded','false'));
      // Clear errors
      requiredFields.forEach(f=>setError(f.el, f.errId, ''));
      compute();
    });

    // Compute math helpers
    function getBarProps(){
      const opt = els.barSize.selectedOptions[0];
      if(currentUnits==='us'){
        return { dia: parseFloat(opt.dataset.diaIn), area: parseFloat(opt.dataset.areaIn2), areaPerM: parseFloat(opt.dataset.areaIn2)*1550.0031 }; // in² to mm² per m not needed, but keep
      }else{
        return { dia: parseFloat(opt.dataset.diaMm), area: parseFloat(opt.dataset.areaMm2) };
      }
    }

    function compute(){
      // Basic validation
      const Pserv = toNumber(els.Pservice);
      const qa = toNumber(els.qa);
      const Pu = toNumber(els.Pu);
      const fc = toNumber(els.fc);
      const fy = toNumber(els.fy);
      const c1_in = toNumber(els.columnBx);
      const c2_in = toNumber(els.columnBy);
      const shape = getCheckedValue(els.shape);
      const mode = getCheckedValue(els.tmode);
      const aspect = toNumber(els.aspectRatio) || 1.5;

      // Units conversions to internal base (US customary)
      let Pserv_kip, Pu_kip, qa_ksf, fc_psi, fy_ksi, c1, c2, h, cover, barDia, barArea;

      const bar = getBarProps();

      if(currentUnits==='us'){
        Pserv_kip = Pserv; Pu_kip = Pu; qa_ksf = qa;
        fc_psi = fc; fy_ksi = fy;
        c1 = c1_in; c2 = c2_in;
        cover = toNumber(els.cover);
        h = mode==='manual' ? toNumber(els.thickness) : NaN;
        barDia = bar.dia; barArea = bar.area; // in, in²
      }else{
        // SI to US
        Pserv_kip = Pserv / 4.44822;
        Pu_kip = Pu / 4.44822;
        qa_ksf = qa / 47.88026;
        fc_psi = fc / 0.00689476;
        fy_ksi = fy / 6.89476;
        c1 = c1_in / 25.4;
        c2 = c2_in / 25.4;
        cover = toNumber(els.cover) / 25.4; // in
        h = mode==='manual' ? (toNumber(els.thickness) / 25.4) : NaN; // in
        // Bar (SI props)
        barDia = bar.dia / 25.4; // mm->in
        barArea = bar.area / 645.16; // mm² -> in²
      }

      // Guard conditions
      if([Pserv_kip, qa_ksf, Pu_kip, fc_psi, fy_ksi, c1, c2].some(v=>!isFinite(v) || v<=0)){
        renderNA();
        return;
      }

      // 1) Required area (service)
      let Areq_sf = Pserv_kip / qa_ksf; // sf
      if(!(isFinite(Areq_sf) && Areq_sf>0)){ renderNA(); return; }

      // 2) Determine plan dimensions
      let B_ft, L_ft;
      if(shape==='square'){
        const side_ft = Math.sqrt(Areq_sf);
        B_ft = side_ft; L_ft = side_ft;
      }else{
        // Rectangular: L = aspect * B; B = sqrt(A/aspect)
        const B_calc = Math.sqrt(Areq_sf / aspect);
        B_ft = B_calc; L_ft = aspect * B_calc;
      }

      // Round to practical increments (1 in)
      const B_in = Math.ceil(B_ft*12); // round up to nearest 1 in
      const L_in = Math.ceil(L_ft*12);
      const B_ft_eff = B_in/12;
      const L_ft_eff = L_in/12;
      const Aeff_sf = B_ft_eff * L_ft_eff;

      // 3) Service bearing using adopted size
      const qserv_ksf = Pserv_kip / Aeff_sf;

      // 4) Factored bearing
      const qu_ksf = Pu_kip / Aeff_sf;

      // 5) Thickness: compute d from either manual or auto sizing to pass shear
      const phi_v = 0.75, phi_b = 0.9;
      const sqrt_fc = Math.sqrt(fc_psi);

      function capacitiesFor(d_in){
        // Two-way punching
        const bo_in = 2*(c1 + c2) + 4*d_in;
        const A0_sf = ((c1 + d_in)*(c2 + d_in))/144.0; // in² -> ft²
        const Vu_punch_kip = Pu_kip - qu_ksf * A0_sf;
        const phiVc_punch_kip = phi_v * 4 * sqrt_fc * bo_in * d_in / 1000.0;

        // One-way shear (both directions)
        const d_ft = d_in/12;
        const ax_ft = (B_in/12 - c1/12)/2;
        const ay_ft = (L_in/12 - c2/12)/2;

        const Vu1x_kip = qu_ksf * (L_in/12) * Math.max(ax_ft - d_ft, 0);
        const Vu1y_kip = qu_ksf * (B_in/12) * Math.max(ay_ft - d_ft, 0);

        const phiVc1x_kip = phi_v * 2 * sqrt_fc * (L_in) * d_in / 1000.0;
        const phiVc1y_kip = phi_v * 2 * sqrt_fc * (B_in) * d_in / 1000.0;

        const utilPunch = Vu_punch_kip>0 ? Vu_punch_kip / Math.max(phiVc_punch_kip,1e-9) : 0;
        const util1x = Vu1x_kip>0 ? Vu1x_kip / Math.max(phiVc1x_kip,1e-9) : 0;
        const util1y = Vu1y_kip>0 ? Vu1y_kip / Math.max(phiVc1y_kip,1e-9) : 0;
        return {
          Vu_punch_kip, phiVc_punch_kip, utilPunch,
          Vu1x_kip, phiVc1x_kip, util1x,
          Vu1y_kip, phiVc1y_kip, util1y
        };
      }

      // Effective depth d from provided/auto thickness
      function dFromH(h_in){ return Math.max(h_in - cover - 0.5*barDia, 0.1); }

      let h_in, d_in, cap;
      if(getCheckedValue(els.tmode)==='manual'){
        h_in = Math.max(toNumber(els.thickness)||0, 4);
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }else{
        // Auto-size: iterate h to meet both shear checks with utilization <= 1.0
        const hMin = 8; // in
        const hMax = 60;
        let hTry = hMin;
        let ok = false, best = hMax;
        for(let hCandidate = hMin; hCandidate<=hMax; hCandidate += 0.1){
          const dCand = dFromH(hCandidate);
          const c = capacitiesFor(dCand);
          const worst = Math.max(c.utilPunch, c.util1x, c.util1y);
          if(worst<=1.0){
            best = hCandidate;
            ok = true;
            break;
          }
        }
        h_in = ok ? best : hMax;
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }

      // 6) Flexure per direction (per foot strip)
      function flexureAs(dir){
        // dir 'x': cantilever from column face to edge along B; strip width = 1 ft
        const a_ft = dir==='x' ? (B_in/12 - c1/12)/2 : (L_in/12 - c2/12)/2;
        const Mu_kipft = Math.max(qu_ksf * a_ft * a_ft / 2, 0);
        const Mu_kipin = Mu_kipft * 12;
        const z_in = 0.9 * d_in;
        const As_in2_perft = (Mu_kipin) / (phi_b * fy_ksi * z_in); // kip-in / (ksi*in) => in²
        return Math.max(As_in2_perft, 0);
      }
      const Asx = flexureAs('x');
      const Asy = flexureAs('y');

      // Minimum steel per ACI (approx for slabs/footings): ρ_min ≈ 0.0018 for Grade 60; scale with fy
      const rho60 = 0.0018;
      const rho = rho60 * (60/Math.max(fy_ksi,1));
      const As_min_in2_perft = rho * 12 * Math.max(h_in,1); // b=12 in

      const Asx_req = Math.max(Asx, As_min_in2_perft);
      const Asy_req = Math.max(Asy, As_min_in2_perft);
      const As_governing = Math.max(Asx_req, Asy_req);

      // Bar spacing suggestion
      // spacing s (in) per direction based on per-foot area: s = (barArea / As_req) * 12
      const s_in = Math.min(18, Math.max(4, (barArea / Math.max(As_governing,1e-6)) * 12));
      const s_in_rounded = Math.round(s_in*2)/2; // nearest 0.5 in

      // Render
      // Area
      if(currentUnits==='us'){
        els.rArea.textContent = `${Areq_sf.toFixed(2)} sf`;
        els.rSize.textContent = `${(B_in/12).toFixed(2)} ft × ${(L_in/12).toFixed(2)} ft`;
        els.rQserv.textContent = `${qserv_ksf.toFixed(2)} ksf (≤ ${qa_ksf.toFixed(2)} ksf)`;
        els.rQu.textContent = `${qu_ksf.toFixed(2)} ksf`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_in.toFixed(1)} in (manual)` : `${h_in.toFixed(1)} in (auto)`;
        els.rPunch.textContent = `${cap.Vu_punch_kip.toFixed(1)} / ${cap.phiVc_punch_kip.toFixed(1)} = ${cap.utilPunch.toFixed(2)}`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        els.rSteel.textContent = `${As_governing.toFixed(2)} in²/ft (min used: ${(As_min_in2_perft).toFixed(2)})`;
        els.rSpacing.textContent = `${els.barSize.value} @ ${s_in_rounded.toFixed(1)} in o/c (each way)`;
      }else{
        // Convert outputs to SI presentation
        const Areq_m2 = Areq_sf * 0.092903; // 1 sf = 0.092903 m²
        const B_m = (B_in*0.0254);
        const L_m = (L_in*0.0254);
        const qserv_kPa = qserv_ksf * 47.88026;
        const qu_kPa = qu_ksf * 47.88026;
        const h_mm = h_in * 25.4;

        els.rArea.textContent = `${Areq_m2.toFixed(3)} m²`;
        els.rSize.textContent = `${B_m.toFixed(2)} m × ${L_m.toFixed(2)} m`;
        els.rQserv.textContent = `${qserv_kPa.toFixed(1)} kPa (≤ ${(qa).toFixed(1)} kPa)`;
        els.rQu.textContent = `${qu_kPa.toFixed(1)} kPa`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_mm.toFixed(0)} mm (manual)` : `${h_mm.toFixed(0)} mm (auto)`;
        els.rPunch.textContent = `${(cap.Vu_punch_kip*4.44822).toFixed(1)} / ${(cap.phiVc_punch_kip*4.44822).toFixed(1)} = ${cap.utilPunch.toFixed(2)} kN`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        const As_mm2_per_m = As_governing * 215.999; // 1 in²/ft = 215.999 mm²/m
        const As_min_mm2_per_m = As_min_in2_perft * 215.999;
        const s_mm = s_in * 25.4;
        const s_mm_round = Math.round(s_mm/5)*5;
        els.rSteel.textContent = `${As_mm2_per_m.toFixed(0)} mm²/m (min used: ${As_min_mm2_per_m.toFixed(0)})`;
        els.rSpacing.textContent = `${els.barSize.selectedOptions[0].text.split(' ')[0]} @ ${s_mm_round} mm o/c (each way)`;
      }
    }

    function renderNA(){
      const dash = '—';
      els.rArea.textContent = dash;
      els.rSize.textContent = dash;
      els.rQserv.textContent = dash;
      els.rQu.textContent = dash;
      els.rHmin.textContent = dash;
      els.rPunch.textContent = dash;
      els.rOneway.textContent = dash;
      els.rSteel.textContent = dash;
      els.rSpacing.textContent = dash;
    }

    // Inline validation triggered by calculate button too
    function validateAll(){
      let ok = true;
      requiredFields.forEach(f=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){ setError(f.el, f.errId, `${f.label} must be a positive number.`); ok=false; }
        else setError(f.el, f.errId, '');
      });
      if(getCheckedValue(els.shape)==='rect'){
        const ar = toNumber(els.aspectRatio);
        if(!(isFinite(ar) && ar>=1)){ ok=false; els.aspectRatio.setAttribute('aria-invalid','true'); }
        else els.aspectRatio.setAttribute('aria-invalid','false');
      }
      if(getCheckedValue(els.tmode)==='manual'){
        const h = toNumber(els.thickness);
        if(!(isFinite(h) && h>0)){ ok=false; els.thickness.setAttribute('aria-invalid','true'); }
        else els.thickness.setAttribute('aria-invalid','false');
      }
      return ok;
    }

    // Events
    ['input','change','blur'].forEach(ev=>{
      [
        els.Pservice, els.qa, els.Pu, els.fc, els.fy,
        els.columnBx, els.columnBy, els.aspectRatio, els.thickness, els.cover, els.barSize
      ].forEach(el=> el.addEventListener(ev, ()=>{ if(ev!=='blur') compute(); }));
    });
    els.calcBtn.addEventListener('click', ()=>{ if(validateAll()) compute(); });

    // Initialize
    updateShape();
    updateThicknessMode();
    compute();
  })();
  </script>

</body></html>]], displayMath: [['\\[','\\]']] }, svg: { fontCache: 'global' } };,
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container" id="main" role="main">
<nav aria-label="Breadcrumb" class="breadcrumb">
Home / <a href="https://calcdomain.com/engineering">Engineering</a> / ACI 318 Concrete Footing Design Calculator
    </nav>
<h1>ACI 318 Concrete Footing Design Calculator</h1>
<p class="lead">Design square or rectangular concrete pad footings per ACI 318. Enter loads, soil bearing, column size, and material strengths to obtain the required plan size, verify two-way (punching) and one-way shear, estimate minimum thickness, and get reinforcement recommendations. Built for structural engineers, geotechnical engineers, and advanced builders.</p>
<div class="calculator-layout">
<!-- Calculator -->
<aside aria-labelledby="calc-heading" class="card calculator-container">
<h2 id="calc-heading">Footing Calculator</h2>
<div class="form-group">
<fieldset>
<legend>Units</legend>
<div aria-label="Units" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="u-us" name="units" type="radio" value="us">
<label for="u-us">US (kips, ksf, in)</label>
</div>
<div class="radio-option">
<input id="u-si" name="units" type="radio" value="si">
<label for="u-si">SI (kN, kPa, mm)</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Footing Shape</legend>
<div aria-label="Footing shape" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="shape-square" name="shape" type="radio" value="square">
<label for="shape-square">Square</label>
</div>
<div class="radio-option">
<input id="shape-rect" name="shape" type="radio" value="rect">
<label for="shape-rect">Rectangular</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="aspectRow">
<label for="aspectRatio">Aspect ratio L/B
            <span class="help-inline">
<button aria-controls="tip-aspect" aria-expanded="false" class="help-btn" type="button">?</button>
<span class="unit-addon">— default 1.5</span>
</span>
</label>
<input aria-describedby="tip-aspect" class="form-control" id="aspectRatio" inputmode="decimal" min="1" step="0.01" type="number" value="1.5">
<div aria-hidden="true" class="tooltip" id="tip-aspect" role="tooltip">For rectangular footings, L = (aspect ratio) × B. Example: 1.5 means L = 1.5B.</div>
</div>
<div class="form-group">
<label for="columnBx">Column size (b × h)
            <button aria-controls="tip-col" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<div class="input-row">
<div>
<input aria-describedby="err-columnBx tip-col" aria-required="true" class="form-control" id="columnBx" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-b-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBx" role="alert"></div>
</div>
<div>
<input aria-describedby="err-columnBy tip-col" aria-required="true" class="form-control" id="columnBy" inputmode="decimal" min="4" step="1" type="number" value="24">
<div class="unit-addon" id="col-h-unit">in</div>
<div aria-live="polite" class="error" id="err-columnBy" role="alert"></div>
</div>
</div>
<div aria-hidden="true" class="tooltip" id="tip-col" role="tooltip">Enter column cross-section dimensions at the footing interface (b along B, h along L).</div>
</div>
<div class="form-group">
<label for="Pservice">Service axial load P (at footing level) *</label>
<div class="input-row">
<div>
<input aria-describedby="err-Pservice" aria-required="true" class="form-control" id="Pservice" inputmode="decimal" min="0.1" step="0.1" type="number" value="200">
<div class="unit-addon" id="Pserv-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pservice" role="alert"></div>
</div>
<div>
<label class="sr-only" for="qa">Allowable soil bearing</label>
<input aria-describedby="err-qa tip-qa" aria-required="true" class="form-control" id="qa" inputmode="decimal" min="0.1" step="0.1" type="number" value="4">
<div class="unit-addon" id="qa-unit">ksf</div>
<div aria-live="polite" class="error" id="err-qa" role="alert"></div>
</div>
</div>
<div class="help-inline" style="margin-top:.35rem">
<button aria-controls="tip-qa" aria-expanded="false" class="help-btn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="tip-qa" role="tooltip">Use net allowable soil bearing (typical geotechnical output). Area is sized as A = P_service / q_allow.</div>
</div>
</div>
<div class="form-group">
<label for="Pu">Factored axial load P<sub>u</sub> (strength design) *</label>
<input aria-describedby="err-Pu tip-Pu" aria-required="true" class="form-control" id="Pu" inputmode="decimal" min="0.1" step="0.1" type="number" value="300">
<div class="unit-addon" id="Pu-unit">kips</div>
<div aria-live="polite" class="error" id="err-Pu" role="alert"></div>
<div aria-hidden="true" class="tooltip" id="tip-Pu" role="tooltip">Provide factored axial load at the footing per governing load combination (e.g., 1.2D+1.6L). This is used for shear and flexure checks.</div>
<button aria-controls="tip-Pu" aria-expanded="false" aria-label="Help for Pu" class="help-btn" type="button">?</button>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="fc">Concrete f′c *</label>
<input aria-describedby="err-fc" aria-required="true" class="form-control" id="fc" inputmode="decimal" min="2000" step="50" type="number" value="4000">
<div class="unit-addon" id="fc-unit">psi</div>
<div aria-live="polite" class="error" id="err-fc" role="alert"></div>
</div>
<div>
<label for="fy">Steel fy *</label>
<input aria-describedby="err-fy" aria-required="true" class="form-control" id="fy" inputmode="decimal" min="40" step="1" type="number" value="60">
<div class="unit-addon" id="fy-unit">ksi</div>
<div aria-live="polite" class="error" id="err-fy" role="alert"></div>
</div>
</div>
</div>
<div class="form-group">
<fieldset>
<legend>Thickness sizing</legend>
<div aria-label="Thickness mode" class="radio-group" role="radiogroup">
<div class="radio-option">
<input checked="" id="t-auto" name="tmode" type="radio" value="auto">
<label for="t-auto">Auto-size to meet shear</label>
</div>
<div class="radio-option">
<input id="t-manual" name="tmode" type="radio" value="manual">
<label for="t-manual">Manual thickness</label>
</div>
</div>
</fieldset>
</div>
<div class="form-group" hidden="" id="thickRow">
<label for="thickness">Overall thickness h
            <button aria-controls="tip-th" aria-expanded="false" class="help-btn" type="button">?</button>
</label>
<input aria-describedby="tip-th" class="form-control" id="thickness" inputmode="decimal" min="8" step="0.1" type="number" value="18">
<div class="unit-addon" id="th-unit">in</div>
<div aria-hidden="true" class="tooltip" id="tip-th" role="tooltip">Overall footing thickness. Effective depth d is computed as h − cover − 0.5×bar diameter.</div>
</div>
<div class="form-group">
<div class="input-row">
<div>
<label for="cover">Concrete cover to bars *</label>
<input aria-required="true" class="form-control" id="cover" inputmode="decimal" min="2" step="0.1" type="number" value="3">
<div class="unit-addon" id="cover-unit">in</div>
</div>
<div>
<label for="barSize">Bar size (reinforcement)</label>
<select aria-label="Bar size" class="form-control" id="barSize">
<option data-area-in2="0.20" data-area-mm2="113" data-dia-in="0.5" data-dia-mm="12" value="#4">#4 (0.20 in²)</option>
<option data-area-in2="0.31" data-area-mm2="201" data-dia-in="0.625" data-dia-mm="16" selected="" value="#5">#5 (0.31 in²)</option>
<option data-area-in2="0.44" data-area-mm2="314" data-dia-in="0.75" data-dia-mm="20" value="#6">#6 (0.44 in²)</option>
<option data-area-in2="0.60" data-area-mm2="387" data-dia-in="0.875" data-dia-mm="22" value="#7">#7 (0.60 in²)</option>
<option data-area-in2="0.79" data-area-mm2="491" data-dia-in="1.0" data-dia-mm="25" value="#8">#8 (0.79 in²)</option>
</select>
</div>
</div>
</div>
<div class="actions">
<button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
<button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
<section aria-atomic="true" aria-live="polite" class="results-container">
<h2>Results</h2>
<div class="result-grid" id="results">
<div class="result-item">
<div class="result-label">Required plan area (Areq)</div>
<div class="result-value" id="r-area">—</div>
</div>
<div class="result-item">
<div class="result-label">Selected footing size (B × L)</div>
<div class="result-value" id="r-size">—</div>
</div>
<div class="result-item">
<div class="result-label">Service bearing q (should ≤ qa)</div>
<div class="result-value" id="r-qserv">—</div>
</div>
<div class="result-item">
<div class="result-label">Factored bearing q<sub>u</sub></div>
<div class="result-value" id="r-qu">—</div>
</div>
<div class="result-item">
<div class="result-label">Min thickness to meet shear (auto)</div>
<div class="result-value" id="r-hmin">—</div>
</div>
<div class="result-item">
<div class="result-label">Punching shear utilization (Vu / φVc)</div>
<div class="result-value" id="r-punch">—</div>
</div>
<div class="result-item">
<div class="result-label">One-way shear utilization (worst dir.)</div>
<div class="result-value" id="r-oneway">—</div>
</div>
<div class="result-item">
<div class="result-label">Flexural steel per direction (governing)</div>
<div class="result-value" id="r-steel">—</div>
</div>
<div class="result-item">
<div class="result-label">Suggested bar spacing</div>
<div class="result-value" id="r-spacing">—</div>
</div>
</div>
<p class="subtext" id="note-text">Note: Strength reduction factors assumed φv = 0.75 (shear), φb = 0.9 (flexure). z ≈ 0.9d.</p>
</section>
</aside>
<!-- Authoritative content -->
<article class="card content-container">
<section>
<h2>Data Source and Methodology</h2>
<p><strong>Authoritative Data Source:</strong> ACI Committee 318. 2019. Building Code Requirements for Structural Concrete (ACI 318-19) and Commentary. American Concrete Institute. <a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" rel="nofollow noopener" target="_blank">Direct link to ACI 318-19</a>.</p>
<p>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</p>
<ul>
<li>Service sizing: Areq = Pservice / qa (net allowable bearing).</li>
<li>Strength checks: two-way (punching) shear, one-way shear, and flexure per ACI 318-19 Chapters on slabs and footings.</li>
<li>Strength reduction factors: φv = 0.75 (shear), φb = 0.9 (flexure).</li>
</ul>
</section>
<section>
<h2>The Formulas Explained</h2>
<div class="formula-box">
<p>Required area (service):</p>
<p>$$ A_{req} = \frac{P_{service}}{q_a} $$</p>
<p>Adopted plan dimensions for square footing:</p>
<p>$$ B = L = \sqrt{A_{req}} $$</p>
<p>Factored soil pressure:</p>
<p>$$ q_u = \frac{P_u}{B \cdot L} $$</p>
<p>Two-way (punching) shear around column:</p>
<p>$$ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $$</p>
<p>$$ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $$</p>
<p>One-way shear (worst direction shown):</p>
<p>$$ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $$</p>
<p>$$ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $$</p>
<p>Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d):</p>
<p>$$ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $$</p>
<p>Unit consistency is required throughout (US or SI).</p>
</div>
</section>
<section>
<h2>Glossary of Variables</h2>
<ul>
<li>Pservice: Service axial load at footing level (kips or kN).</li>
<li>Pu: Factored axial load (kips or kN) per governing load combination.</li>
<li>qa: Allowable soil bearing pressure (ksf or kPa), net recommended.</li>
<li>B, L: Footing plan dimensions along x and y (ft/in or m/mm).</li>
<li>c1, c2: Column side dimensions along B and L (in or mm).</li>
<li>h: Overall footing thickness (in or mm).</li>
<li>d: Effective depth from compression face to centroid of tension steel (in or mm).</li>
<li>f′c: Concrete compressive strength (psi or MPa).</li>
<li>fy: Steel yield strength (ksi or MPa).</li>
<li>bo: Critical perimeter at distance d/2 from column face (in).</li>
<li>Vu: Factored shear demand (kips or kN).</li>
<li>φVc: Design shear capacity after φ (kips or kN).</li>
<li>As: Required steel area per unit width in each direction (in²/ft or mm²/m).</li>
</ul>
</section>
<section>
<h2>How It Works: A Step‑by‑Step Example</h2>
<p><strong>Given:</strong> US units, square footing; Pservice = 200 kips, qa = 4 ksf, Pu = 300 kips; column 24 × 24 in; f′c = 4000 psi, fy = 60 ksi; cover = 3 in; bars #5.</p>
<ol>
<li>Area: Areq = 200 / 4 = 50.0 sf → Square size B = L = √50 ≈ 7.07 ft ≈ 85 in (rounded).</li>
<li>Factored pressure: qu = 300 / 50.17 ≈ 5.98 ksf (using 85 in exact size → 50.17 sf).</li>
<li>Punching shear: assume h ≈ 18 in → d ≈ 18 − 3 − 0.3125 ≈ 14.69 in. bo = 2(24+24)+4·14.69 ≈ 154.8 in. A0 = (24+14.69)²/144 ≈ 10.4 sf. Vu = 300 − 5.98·10.4 ≈ 237.8 kips. φVc = 0.75·4√4000·bo·d / 1000 ≈ 431.8 kips &gt; Vu OK.</li>
<li>One-way shear (x-dir.): ax = (B − c1)/2 = (85 − 24)/2 in = 30.5 in = 2.54 ft. Vux = qu · Lft · (ax − d) ≈ 5.98 · 7.08 · (2.54 − 1.22) ≈ 55.8 kips. φVc1 ≈ 0.75·2√4000·L(in)·d /1000 ≈ 118.5 kips &gt; Vux OK.</li>
<li>Flexure (per ft strip): Mu = qu·a²/2 ≈ 5.98·(2.54²)/2 ≈ 19.3 kip-ft. With z ≈ 0.9d, As ≈ Mu / (φ·fy·z) ≈ 0.32 in²/ft; As,min ≈ 0.0018·12·18 ≈ 0.39 in²/ft → use 0.39 in²/ft. With #5 bars (0.31 in²), spacing s ≈ (0.31/0.39)·12 ≈ 9.5 in.</li>
</ol>
<p>Result: 85 in × 85 in footing, h ≈ 18 in, #5 @ 9.5 in each way (round to the nearest practical spacing, e.g., 9 in or 10 in, based on detailing and cover rules).</p>
</section>
<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>Which edition of ACI 318 is used?</summary>
<p>ACI 318-19 is referenced for shear and flexure provisions. Always verify with the latest adopted code in your jurisdiction.</p>
</details>
<details>
<summary>What’s the difference between service and factored loads?</summary>
<p>Service loads reflect unfactored real-world actions and are used with allowable soil bearing for plan sizing. Factored loads (Pu) incorporate load factors for ultimate strength checks per ACI 318.</p>
</details>
<details>
<summary>Does the calculator include footing self-weight?</summary>
<p>Plan sizing assumes a net allowable bearing (typical). If your qa is gross, include the footing and soil overburden in your service load before entering values.</p>
</details>
<details>
<summary>How is punching shear perimeter computed?</summary>
<p>The critical perimeter is taken at d/2 from the column face. For a rectangular column, b<sub>o</sub> = 2(c<sub>1</sub> + c<sub>2</sub>) + 4d.</p>
</details>
<details>
<summary>Are the reinforcement results exact?</summary>
<p>Flexural steel is based on a standard z ≈ 0.9d lever-arm approximation and per-foot strip design. This is robust for preliminary design; refine as needed for final detailing.</p>
</details>
<details>
<summary>Can I use metric units?</summary>
<p>Yes. Toggle to SI to switch to kN, kPa, and mm. The tool converts values and enforces unit consistency in formulas.</p>
</details>
<details>
<summary>Is this tool a substitute for an engineer?</summary>
<p>No. It is intended for preliminary design. Final design must be checked and sealed by a licensed structural engineer with project-specific inputs.</p>
</details>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A_{req} = \frac{P_{service}}{q_a}\]</div>
  <pre class="auditspine-mono">A_{req} = \frac{P_{service}}{q_a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[B = L = \sqrt{A_{req}}\]</div>
  <pre class="auditspine-mono">B = L = \sqrt{A_{req}}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[q_u = \frac{P_u}{B \cdot L}\]</div>
  <pre class="auditspine-mono">q_u = \frac{P_u}{B \cdot L}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)\]</div>
  <pre class="auditspine-mono">b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d\]</div>
  <pre class="auditspine-mono">V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Required area (service): $ A_{req} = \frac{P_{service}}{q_a} $ Adopted plan dimensions for square footing: $ B = L = \sqrt{A_{req}} $ Factored soil pressure: $ q_u = \frac{P_u}{B \cdot L} $ Two-way (punching) shear around column: $ b_o = 2\,(c_1 + c_2) + 4d \quad,\quad A_0 = (c_1 + d)(c_2 + d) $ $ V_u = P_u - q_u \, A_0 \quad,\quad \phi V_c = \phi_v \, 4 \sqrt{f'_c}\, b_o\, d $ One-way shear (worst direction shown): $ a_x = \frac{B - c_1}{2} \quad,\quad V_{u,x} = q_u \, L \, (a_x - d) $ $ \phi V_{c,x} = \phi_v \, 2 \sqrt{f'_c}\, L\, d $ Flexure per unit width (cantilever strip, lever arm z ≈ 0.9d): $ M_{u,strip} = \frac{q_u\, a^2}{2} \quad,\quad A_s \approx \frac{M_u}{\phi_b \, f_y \, z} $ Unit consistency is required throughout (US or SI).</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="nofollow noopener">https://calcdomain.com/engineering</a></li>
<li><strong>Direct link to ACI 318-19</strong> — concrete.org · Accessed 2026-01-19<br><a href="https://www.concrete.org/store/productdetail.aspx?ItemID=31819" target="_blank" rel="nofollow noopener">https://www.concrete.org/store/productdetail.aspx?ItemID=31819</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</main>
<!-- Standard Footer --> 
<!-- MathJax for LaTeX rendering (deferred) -->
<script crossorigin="anonymous" defer="" integrity="sha384-k4v6lQhdaH7Hk8VaS8+zC3H0t7pK8YdFvUw9bL8f0rjYlQ3Z9F6G9c9G2xYt1kzK" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script defer="">
  (function(){
    'use strict';

    // Elements
    const els = {
      units: document.getElementsByName('units'),
      shape: document.getElementsByName('shape'),
      aspectRow: document.getElementById('aspectRow'),
      aspectRatio: document.getElementById('aspectRatio'),
      columnBx: document.getElementById('columnBx'),
      columnBy: document.getElementById('columnBy'),
      Pservice: document.getElementById('Pservice'),
      qa: document.getElementById('qa'),
      Pu: document.getElementById('Pu'),
      fc: document.getElementById('fc'),
      fy: document.getElementById('fy'),
      tmode: document.getElementsByName('tmode'),
      thickRow: document.getElementById('thickRow'),
      thickness: document.getElementById('thickness'),
      cover: document.getElementById('cover'),
      barSize: document.getElementById('barSize'),
      calcBtn: document.getElementById('calcBtn'),
      resetBtn: document.getElementById('resetBtn'),
      // Units labels
      colbUnit: document.getElementById('col-b-unit'),
      colhUnit: document.getElementById('col-h-unit'),
      PservUnit: document.getElementById('Pserv-unit'),
      qaUnit: document.getElementById('qa-unit'),
      PuUnit: document.getElementById('Pu-unit'),
      fcUnit: document.getElementById('fc-unit'),
      fyUnit: document.getElementById('fy-unit'),
      thUnit: document.getElementById('th-unit'),
      coverUnit: document.getElementById('cover-unit'),
      // Results
      rArea: document.getElementById('r-area'),
      rSize: document.getElementById('r-size'),
      rQserv: document.getElementById('r-qserv'),
      rQu: document.getElementById('r-qu'),
      rHmin: document.getElementById('r-hmin'),
      rPunch: document.getElementById('r-punch'),
      rOneway: document.getElementById('r-oneway'),
      rSteel: document.getElementById('r-steel'),
      rSpacing: document.getElementById('r-spacing'),
      note: document.getElementById('note-text')
    };

    // Accessible tooltips
    document.querySelectorAll('.help-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        if(!id) return;
        const tip = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.setAttribute('aria-hidden', String(expanded));
      });
    });

    // Show/hide aspect ratio
    function updateShape(){
      const shape = getCheckedValue(els.shape);
      els.aspectRow.hidden = shape !== 'rect';
    }
    els.shape.forEach(r=>r.addEventListener('change', ()=>{ updateShape(); compute(); }));

    // Show/hide thickness row
    function updateThicknessMode(){
      const mode = getCheckedValue(els.tmode);
      els.thickRow.hidden = mode !== 'manual';
    }
    els.tmode.forEach(r=>r.addEventListener('change', ()=>{ updateThicknessMode(); compute(); }));

    // Units handling
    let currentUnits = 'us'; // 'us' or 'si'
    function getCheckedValue(nodeList){
      for(const n of nodeList){ if(n.checked) return n.value; }
      return nodeList[0]?.value;
    }
    function toNumber(el){
      const v = parseFloat(String(el.value).replace(',', '.'));
      return isFinite(v) ? v : NaN;
    }
    function clamp(v, min, max){ return Math.min(Math.max(v,min),max); }

    function switchUnits(target){
      if(target === currentUnits) return;

      const usToSI = (x)=>x; // use per-field conversions below
      if(target === 'si'){
        // Convert US -> SI
        // Length: in -> mm (×25.4), ft -> m handled in outputs
        els.columnBx.value = (toNumber(els.columnBx)*25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)*25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)*25.4).toFixed(0);
        els.cover.value = (toNumber(els.cover)*25.4).toFixed(0);
        // Loads: kips -> kN (×4.44822)
        els.Pservice.value = (toNumber(els.Pservice)*4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)*4.44822).toFixed(1);
        // Bearing: ksf -> kPa (1 ksf = 47.88026 kPa)
        els.qa.value = (toNumber(els.qa)*47.88026).toFixed(1);
        // fc: psi -> MPa (×0.00689476)
        els.fc.value = (toNumber(els.fc)*0.00689476).toFixed(1);
        // fy: ksi -> MPa (×6.89476)
        els.fy.value = (toNumber(els.fy)*6.89476).toFixed(1);

        // Labels
        els.colbUnit.textContent = 'mm';
        els.colhUnit.textContent = 'mm';
        els.PservUnit.textContent = 'kN';
        els.qaUnit.textContent = 'kPa';
        els.PuUnit.textContent = 'kN';
        els.fcUnit.textContent = 'MPa';
        els.fyUnit.textContent = 'MPa';
        els.thUnit.textContent = 'mm';
        els.coverUnit.textContent = 'mm';
      } else {
        // Convert SI -> US
        els.columnBx.value = (toNumber(els.columnBx)/25.4).toFixed(0);
        els.columnBy.value = (toNumber(els.columnBy)/25.4).toFixed(0);
        els.thickness.value = (toNumber(els.thickness)/25.4).toFixed(1);
        els.cover.value = (toNumber(els.cover)/25.4).toFixed(1);
        els.Pservice.value = (toNumber(els.Pservice)/4.44822).toFixed(1);
        els.Pu.value = (toNumber(els.Pu)/4.44822).toFixed(1);
        els.qa.value = (toNumber(els.qa)/47.88026).toFixed(2);
        els.fc.value = (toNumber(els.fc)/0.00689476).toFixed(0);
        els.fy.value = (toNumber(els.fy)/6.89476).toFixed(0);

        els.colbUnit.textContent = 'in';
        els.colhUnit.textContent = 'in';
        els.PservUnit.textContent = 'kips';
        els.qaUnit.textContent = 'kPa' === els.qaUnit.textContent ? 'ksf' : 'ksf';
        els.PuUnit.textContent = 'kips';
        els.fcUnit.textContent = 'psi';
        els.fyUnit.textContent = 'ksi';
        els.thUnit.textContent = 'in';
        els.coverUnit.textContent = 'in';
      }
      // Update bar options label units (no change to dropdown content needed)
      currentUnits = target;
      compute();
    }

    els.units.forEach(r=>{
      r.addEventListener('change', ()=>switchUnits(getCheckedValue(els.units)));
    });

    // Validation (on blur)
    const requiredFields = [
      {el: els.Pservice, errId:'err-Pservice', label:'Service load P'},
      {el: els.qa, errId:'err-qa', label:'Allowable soil bearing'},
      {el: els.Pu, errId:'err-Pu', label:'Factored load Pu'},
      {el: els.fc, errId:'err-fc', label:"Concrete f'c"},
      {el: els.fy, errId:'err-fy', label:'Steel fy'},
      {el: els.columnBx, errId:'err-columnBx', label:'Column b'},
      {el: els.columnBy, errId:'err-columnBy', label:'Column h'}
    ];

    function setError(el, errId, msg){
      const err = document.getElementById(errId);
      if(msg){
        el.setAttribute('aria-invalid','true');
        err.textContent = msg;
      }else{
        el.setAttribute('aria-invalid','false');
        err.textContent = '';
      }
    }

    requiredFields.forEach(f=>{
      f.el.addEventListener('blur', ()=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){
          setError(f.el, f.errId, `${f.label} must be a positive number.`);
        }else{
          setError(f.el, f.errId, '');
        }
      });
    });

    // Reset
    els.resetBtn.addEventListener('click', ()=>{
      document.getElementById('u-us').checked = true;
      document.getElementById('shape-square').checked = true;
      document.getElementById('t-auto').checked = true;
      els.aspectRow.hidden = true;
      els.thickRow.hidden = true;

      currentUnits = 'us';
      els.columnBx.value = 24; els.columnBy.value = 24;
      els.Pservice.value = 200; els.qa.value = 4; els.Pu.value = 300;
      els.fc.value = 4000; els.fy.value = 60; els.cover.value = 3; els.thickness.value = 18;
      els.barSize.value = '#5';
      document.querySelectorAll('.tooltip').forEach(t=>{t.setAttribute('aria-hidden','true')});
      document.querySelectorAll('.help-btn[aria-expanded]').forEach(b=>b.setAttribute('aria-expanded','false'));
      // Clear errors
      requiredFields.forEach(f=>setError(f.el, f.errId, ''));
      compute();
    });

    // Compute math helpers
    function getBarProps(){
      const opt = els.barSize.selectedOptions[0];
      if(currentUnits==='us'){
        return { dia: parseFloat(opt.dataset.diaIn), area: parseFloat(opt.dataset.areaIn2), areaPerM: parseFloat(opt.dataset.areaIn2)*1550.0031 }; // in² to mm² per m not needed, but keep
      }else{
        return { dia: parseFloat(opt.dataset.diaMm), area: parseFloat(opt.dataset.areaMm2) };
      }
    }

    function compute(){
      // Basic validation
      const Pserv = toNumber(els.Pservice);
      const qa = toNumber(els.qa);
      const Pu = toNumber(els.Pu);
      const fc = toNumber(els.fc);
      const fy = toNumber(els.fy);
      const c1_in = toNumber(els.columnBx);
      const c2_in = toNumber(els.columnBy);
      const shape = getCheckedValue(els.shape);
      const mode = getCheckedValue(els.tmode);
      const aspect = toNumber(els.aspectRatio) || 1.5;

      // Units conversions to internal base (US customary)
      let Pserv_kip, Pu_kip, qa_ksf, fc_psi, fy_ksi, c1, c2, h, cover, barDia, barArea;

      const bar = getBarProps();

      if(currentUnits==='us'){
        Pserv_kip = Pserv; Pu_kip = Pu; qa_ksf = qa;
        fc_psi = fc; fy_ksi = fy;
        c1 = c1_in; c2 = c2_in;
        cover = toNumber(els.cover);
        h = mode==='manual' ? toNumber(els.thickness) : NaN;
        barDia = bar.dia; barArea = bar.area; // in, in²
      }else{
        // SI to US
        Pserv_kip = Pserv / 4.44822;
        Pu_kip = Pu / 4.44822;
        qa_ksf = qa / 47.88026;
        fc_psi = fc / 0.00689476;
        fy_ksi = fy / 6.89476;
        c1 = c1_in / 25.4;
        c2 = c2_in / 25.4;
        cover = toNumber(els.cover) / 25.4; // in
        h = mode==='manual' ? (toNumber(els.thickness) / 25.4) : NaN; // in
        // Bar (SI props)
        barDia = bar.dia / 25.4; // mm->in
        barArea = bar.area / 645.16; // mm² -> in²
      }

      // Guard conditions
      if([Pserv_kip, qa_ksf, Pu_kip, fc_psi, fy_ksi, c1, c2].some(v=>!isFinite(v) || v<=0)){
        renderNA();
        return;
      }

      // 1) Required area (service)
      let Areq_sf = Pserv_kip / qa_ksf; // sf
      if(!(isFinite(Areq_sf) && Areq_sf>0)){ renderNA(); return; }

      // 2) Determine plan dimensions
      let B_ft, L_ft;
      if(shape==='square'){
        const side_ft = Math.sqrt(Areq_sf);
        B_ft = side_ft; L_ft = side_ft;
      }else{
        // Rectangular: L = aspect * B; B = sqrt(A/aspect)
        const B_calc = Math.sqrt(Areq_sf / aspect);
        B_ft = B_calc; L_ft = aspect * B_calc;
      }

      // Round to practical increments (1 in)
      const B_in = Math.ceil(B_ft*12); // round up to nearest 1 in
      const L_in = Math.ceil(L_ft*12);
      const B_ft_eff = B_in/12;
      const L_ft_eff = L_in/12;
      const Aeff_sf = B_ft_eff * L_ft_eff;

      // 3) Service bearing using adopted size
      const qserv_ksf = Pserv_kip / Aeff_sf;

      // 4) Factored bearing
      const qu_ksf = Pu_kip / Aeff_sf;

      // 5) Thickness: compute d from either manual or auto sizing to pass shear
      const phi_v = 0.75, phi_b = 0.9;
      const sqrt_fc = Math.sqrt(fc_psi);

      function capacitiesFor(d_in){
        // Two-way punching
        const bo_in = 2*(c1 + c2) + 4*d_in;
        const A0_sf = ((c1 + d_in)*(c2 + d_in))/144.0; // in² -> ft²
        const Vu_punch_kip = Pu_kip - qu_ksf * A0_sf;
        const phiVc_punch_kip = phi_v * 4 * sqrt_fc * bo_in * d_in / 1000.0;

        // One-way shear (both directions)
        const d_ft = d_in/12;
        const ax_ft = (B_in/12 - c1/12)/2;
        const ay_ft = (L_in/12 - c2/12)/2;

        const Vu1x_kip = qu_ksf * (L_in/12) * Math.max(ax_ft - d_ft, 0);
        const Vu1y_kip = qu_ksf * (B_in/12) * Math.max(ay_ft - d_ft, 0);

        const phiVc1x_kip = phi_v * 2 * sqrt_fc * (L_in) * d_in / 1000.0;
        const phiVc1y_kip = phi_v * 2 * sqrt_fc * (B_in) * d_in / 1000.0;

        const utilPunch = Vu_punch_kip>0 ? Vu_punch_kip / Math.max(phiVc_punch_kip,1e-9) : 0;
        const util1x = Vu1x_kip>0 ? Vu1x_kip / Math.max(phiVc1x_kip,1e-9) : 0;
        const util1y = Vu1y_kip>0 ? Vu1y_kip / Math.max(phiVc1y_kip,1e-9) : 0;
        return {
          Vu_punch_kip, phiVc_punch_kip, utilPunch,
          Vu1x_kip, phiVc1x_kip, util1x,
          Vu1y_kip, phiVc1y_kip, util1y
        };
      }

      // Effective depth d from provided/auto thickness
      function dFromH(h_in){ return Math.max(h_in - cover - 0.5*barDia, 0.1); }

      let h_in, d_in, cap;
      if(getCheckedValue(els.tmode)==='manual'){
        h_in = Math.max(toNumber(els.thickness)||0, 4);
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }else{
        // Auto-size: iterate h to meet both shear checks with utilization <= 1.0
        const hMin = 8; // in
        const hMax = 60;
        let hTry = hMin;
        let ok = false, best = hMax;
        for(let hCandidate = hMin; hCandidate<=hMax; hCandidate += 0.1){
          const dCand = dFromH(hCandidate);
          const c = capacitiesFor(dCand);
          const worst = Math.max(c.utilPunch, c.util1x, c.util1y);
          if(worst<=1.0){
            best = hCandidate;
            ok = true;
            break;
          }
        }
        h_in = ok ? best : hMax;
        d_in = dFromH(h_in);
        cap = capacitiesFor(d_in);
      }

      // 6) Flexure per direction (per foot strip)
      function flexureAs(dir){
        // dir 'x': cantilever from column face to edge along B; strip width = 1 ft
        const a_ft = dir==='x' ? (B_in/12 - c1/12)/2 : (L_in/12 - c2/12)/2;
        const Mu_kipft = Math.max(qu_ksf * a_ft * a_ft / 2, 0);
        const Mu_kipin = Mu_kipft * 12;
        const z_in = 0.9 * d_in;
        const As_in2_perft = (Mu_kipin) / (phi_b * fy_ksi * z_in); // kip-in / (ksi*in) => in²
        return Math.max(As_in2_perft, 0);
      }
      const Asx = flexureAs('x');
      const Asy = flexureAs('y');

      // Minimum steel per ACI (approx for slabs/footings): ρ_min ≈ 0.0018 for Grade 60; scale with fy
      const rho60 = 0.0018;
      const rho = rho60 * (60/Math.max(fy_ksi,1));
      const As_min_in2_perft = rho * 12 * Math.max(h_in,1); // b=12 in

      const Asx_req = Math.max(Asx, As_min_in2_perft);
      const Asy_req = Math.max(Asy, As_min_in2_perft);
      const As_governing = Math.max(Asx_req, Asy_req);

      // Bar spacing suggestion
      // spacing s (in) per direction based on per-foot area: s = (barArea / As_req) * 12
      const s_in = Math.min(18, Math.max(4, (barArea / Math.max(As_governing,1e-6)) * 12));
      const s_in_rounded = Math.round(s_in*2)/2; // nearest 0.5 in

      // Render
      // Area
      if(currentUnits==='us'){
        els.rArea.textContent = `${Areq_sf.toFixed(2)} sf`;
        els.rSize.textContent = `${(B_in/12).toFixed(2)} ft × ${(L_in/12).toFixed(2)} ft`;
        els.rQserv.textContent = `${qserv_ksf.toFixed(2)} ksf (≤ ${qa_ksf.toFixed(2)} ksf)`;
        els.rQu.textContent = `${qu_ksf.toFixed(2)} ksf`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_in.toFixed(1)} in (manual)` : `${h_in.toFixed(1)} in (auto)`;
        els.rPunch.textContent = `${cap.Vu_punch_kip.toFixed(1)} / ${cap.phiVc_punch_kip.toFixed(1)} = ${cap.utilPunch.toFixed(2)}`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        els.rSteel.textContent = `${As_governing.toFixed(2)} in²/ft (min used: ${(As_min_in2_perft).toFixed(2)})`;
        els.rSpacing.textContent = `${els.barSize.value} @ ${s_in_rounded.toFixed(1)} in o/c (each way)`;
      }else{
        // Convert outputs to SI presentation
        const Areq_m2 = Areq_sf * 0.092903; // 1 sf = 0.092903 m²
        const B_m = (B_in*0.0254);
        const L_m = (L_in*0.0254);
        const qserv_kPa = qserv_ksf * 47.88026;
        const qu_kPa = qu_ksf * 47.88026;
        const h_mm = h_in * 25.4;

        els.rArea.textContent = `${Areq_m2.toFixed(3)} m²`;
        els.rSize.textContent = `${B_m.toFixed(2)} m × ${L_m.toFixed(2)} m`;
        els.rQserv.textContent = `${qserv_kPa.toFixed(1)} kPa (≤ ${(qa).toFixed(1)} kPa)`;
        els.rQu.textContent = `${qu_kPa.toFixed(1)} kPa`;
        els.rHmin.textContent = getCheckedValue(els.tmode)==='manual' ? `${h_mm.toFixed(0)} mm (manual)` : `${h_mm.toFixed(0)} mm (auto)`;
        els.rPunch.textContent = `${(cap.Vu_punch_kip*4.44822).toFixed(1)} / ${(cap.phiVc_punch_kip*4.44822).toFixed(1)} = ${cap.utilPunch.toFixed(2)} kN`;
        const worst1 = Math.max(cap.util1x, cap.util1y);
        els.rOneway.textContent = `${worst1.toFixed(2)} (max of x=${cap.util1x.toFixed(2)}, y=${cap.util1y.toFixed(2)})`;
        const As_mm2_per_m = As_governing * 215.999; // 1 in²/ft = 215.999 mm²/m
        const As_min_mm2_per_m = As_min_in2_perft * 215.999;
        const s_mm = s_in * 25.4;
        const s_mm_round = Math.round(s_mm/5)*5;
        els.rSteel.textContent = `${As_mm2_per_m.toFixed(0)} mm²/m (min used: ${As_min_mm2_per_m.toFixed(0)})`;
        els.rSpacing.textContent = `${els.barSize.selectedOptions[0].text.split(' ')[0]} @ ${s_mm_round} mm o/c (each way)`;
      }
    }

    function renderNA(){
      const dash = '—';
      els.rArea.textContent = dash;
      els.rSize.textContent = dash;
      els.rQserv.textContent = dash;
      els.rQu.textContent = dash;
      els.rHmin.textContent = dash;
      els.rPunch.textContent = dash;
      els.rOneway.textContent = dash;
      els.rSteel.textContent = dash;
      els.rSpacing.textContent = dash;
    }

    // Inline validation triggered by calculate button too
    function validateAll(){
      let ok = true;
      requiredFields.forEach(f=>{
        const v = toNumber(f.el);
        if(!isFinite(v) || v<=0){ setError(f.el, f.errId, `${f.label} must be a positive number.`); ok=false; }
        else setError(f.el, f.errId, '');
      });
      if(getCheckedValue(els.shape)==='rect'){
        const ar = toNumber(els.aspectRatio);
        if(!(isFinite(ar) && ar>=1)){ ok=false; els.aspectRatio.setAttribute('aria-invalid','true'); }
        else els.aspectRatio.setAttribute('aria-invalid','false');
      }
      if(getCheckedValue(els.tmode)==='manual'){
        const h = toNumber(els.thickness);
        if(!(isFinite(h) && h>0)){ ok=false; els.thickness.setAttribute('aria-invalid','true'); }
        else els.thickness.setAttribute('aria-invalid','false');
      }
      return ok;
    }

    // Events
    ['input','change','blur'].forEach(ev=>{
      [
        els.Pservice, els.qa, els.Pu, els.fc, els.fy,
        els.columnBx, els.columnBy, els.aspectRatio, els.thickness, els.cover, els.barSize
      ].forEach(el=> el.addEventListener(ev, ()=>{ if(ev!=='blur') compute(); }));
    });
    els.calcBtn.addEventListener('click', ()=>{ if(validateAll()) compute(); });

    // Initialize
    updateShape();
    updateThicknessMode();
    compute();
  })();
  </script>

</body></html>