<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/time-duration-calculator" rel="canonical"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Time Duration Calculator - Calculate Time Between Dates
  </title>
  <meta content="Calculate the exact time duration between two dates and times, or add or subtract a duration from a start date. Accurate, accessible, and easy to use." name="description"/>
  <meta content="Ugo Candido" name="author"/>
  <link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="/favicon.ico" rel="shortcut icon"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <script defer="" src="https://cdn.jsdelivr.net/npm/chart.js">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }

/* Stile di Focus per Accessibilità WCAG 2.1 */
:focus-visible {
outline: 3px solid #2563eb; /* Blue-600 */
outline-offset: 2px;
border-radius: 4px;
}
/* Nasconde il focus standard se :focus-visible è supportato */
:focus:not(:focus-visible) {
outline: none;
}

/* Stili per campi con errore */
input[aria-invalid="true"], select[aria-invalid="true"] {
border-color: #dc2626; /* red-600 */
box-shadow: 0 0 0 1px #dc2626;
}

/* Nasconde programmaticamente ma accessibile agli screen reader */
.sr-only {
position: absolute;
width: 1px;
height: 1px;
padding: 0;
margin: -1px;
overflow: hidden;
clip: rect(0, 0, 0, 0);
white-space: nowrap;
border-width: 0;
}
  </style>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Time Duration Calculator",
  "description": "Calculate the exact time duration between two dates and times, or add or subtract a duration from a start date. Accurate, accessible, and easy to use.",
  "url": "https://calcdomain.com/time-duration-calculator",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido",
    "url": "https://calcdomain.com/about-author/ugo-candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://calcdomain.com/logo.svg"
    }
  },
  "mainEntity": {
    "@type": "HowTo",
    "name": "How to Use the Time Duration Calculator",
    "description": "A step-by-step guide to calculating time duration or finding a new date.",
    "step": [
      {
        "@type": "HowToStep",
        "name": "Select Mode",
        "text": "Choose 'Calculate Duration Between Times' to find the time elapsed, or 'Add/Subtract Time' to calculate a future or past date.",
        "url": "https://calcdomain.com/time-duration-calculator#calculator-ui"
      },
      {
        "@type": "HowToStep",
        "name": "Enter Start Point",
        "text": "Input the start date and time (HH:MM:SS). You can use the 'Set to Now' button for the current time.",
        "url": "https://calcdomain.com/time-duration-calculator#calculator-ui"
      },
      {
        "@type": "HowToStep",
        "name": "Enter End Point or Duration",
        "text": "If calculating duration, input the end date and time. If adding/subtracting, select the operation (Add/Subtract) and enter the duration in years, months, days, hours, minutes, and seconds.",
        "url": "https://calcdomain.com/time-duration-calculator#calculator-ui"
      },
      {
        "@type": "HowToStep",
        "name": "Calculate and Review Results",
        "text": "Press the 'Calculate' button. The results will appear instantly, showing either the total duration breakdown or the new calculated date and time.",
        "url": "https://calcdomain.com/time-duration-calculator#results"
      }
    ]
  }
}
  </script>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Lifestyle & Everyday",
      "item": "https://calcdomain.com/lifestyle-everyday"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Time and Date",
      "item": "https://calcdomain.com/subcategories/time-date"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Time Duration Calculator",
      "item": "https://calcdomain.com/time-duration-calculator"
    }
  ]
}
  </script>
  <script type="application/ld+json">
   {
"@context": "https://schema.org",
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "How does the calculator handle leap years?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The calculator automatically accounts for leap years (like 2024, 2028, etc.) in all calculations. When you calculate a duration that spans February 29 in a leap year, it is correctly included."
}
},
{
"@type": "Question",
"name": "Does this calculator account for time zones?",
"acceptedAnswer": {
"@type": "Answer",
"text": "No. The calculator operates based on the local time of your browser or device. All calculations assume the start and end points are in the same time zone. It does not perform time zone conversions."
}
},
{
"@type": "Question",
"name": "What is the 'HH:MM:SS' format?",
"acceptedAnswer": {
"@type": "Answer",
"text": "This stands for Hours (00-23), Minutes (00-59), and Seconds (00-59). It uses a 24-hour clock format."
}
},
{
"@type": "Question",
"name": "Can I calculate the total duration in just days or hours?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Yes. When you calculate the duration between two times, the results area provides a primary breakdown (in years, months, days, etc.) as well as the total duration converted into days, hours, minutes, and seconds for your convenience."
}
},
{
"@type": "Question",
"name": "Why is the 'month' duration sometimes ambiguous?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Months have different lengths. Adding '1 month' to January 31st is ambiguous because February 31st doesn't exist. Our calculator handles this logically, typically adjusting to the last valid day of the resulting month (e.g., February 28th or 29th). For high-precision calculations, we recommend using the 'Total Days' result or adding/subtracting in days."
}
]
}
  </script>
  <script defer="" src="search.js">
  </script>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-10">
        <div class="flex flex-col lg:flex-row gap-8">
         <section class="w-full lg:w-2/3">
          <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
           <a class="hover:text-blue-600" href="https://calcdomain.com">
            Home
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/lifestyle-everyday">
            Lifestyle &amp; Everyday
           </a>
           »
           <a class="hover:text-blue-600" href="https://calcdomain.com/subcategories/miscellaneous">
            Miscellaneous
           </a>
           »
           <span class="text-gray-900">
            Time Duration Calculator
           </span>
          </nav>
          <div class="bg-white p-6 rounded-lg shadow-md" id="print-section">
           <h1 class="text-3xl font-extrabold text-gray-900 mb-2">
            Time Duration Calculator
           </h1>
           <p class="text-gray-600 mb-6">
            Quickly determine the time elapsed between two points, or calculate a future/past date by adding or subtracting a duration. This tool provides precise results for project planning, event scheduling, or everyday time tracking.
           </p>
           <section class="space-y-6" id="calculator-ui">
            <fieldset>
             <legend class="sr-only">
              Calculator Mode
             </legend>
             <div class="flex border border-gray-300 rounded-md overflow-hidden">
              <div class="flex-1">
               <input aria-controls="panelDuration" checked="" class="sr-only" id="modeDuration" name="calcMode" type="radio" value="duration"/>
               <label class="block w-full text-center py-2 px-4 cursor-pointer text-sm font-medium" data-mode="duration" for="modeDuration">
                Calculate Duration
               </label>
              </div>
              <div class="border-l border-gray-300 flex-1">
               <input aria-controls="panelAddSubtract" class="sr-only" id="modeAddSubtract" name="calcMode" type="radio" value="addSubtract"/>
               <label class="block w-full text-center py-2 px-4 cursor-pointer text-sm font-medium" data-mode="addSubtract" for="modeAddSubtract">
                Add/Subtract Time
               </label>
              </div>
             </div>
            </fieldset>
            <fieldset class="space-y-6" id="panelDuration">
             <legend class="text-xl font-semibold border-b border-gray-200 pb-2 mb-4">
              Calculate Duration Between Two Times
             </legend>
             <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <div class="flex justify-between items-center mb-2">
               <h3 class="text-lg font-medium text-gray-800">
                Start Point
               </h3>
               <button class="text-sm text-blue-600 hover:text-blue-800 font-medium" id="setStartNowBtn" type="button">
                Set to Now
               </button>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
               <div>
                <label class="block text-sm font-medium text-gray-700" for="startDate">
                 Start Date
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="startDate-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="startDate" type="date"/>
                <div class="text-red-600 text-sm mt-1" id="startDate-error" role="alert">
                </div>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="startTime">
                 Start Time (HH:MM:SS)
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="startTime-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="startTime" step="1" type="time"/>
                <div class="text-red-600 text-sm mt-1" id="startTime-error" role="alert">
                </div>
               </div>
              </div>
             </div>
             <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <div class="flex justify-between items-center mb-2">
               <h3 class="text-lg font-medium text-gray-800">
                End Point
               </h3>
               <button class="text-sm text-blue-600 hover:text-blue-800 font-medium" id="setEndNowBtn" type="button">
                Set to Now
               </button>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
               <div>
                <label class="block text-sm font-medium text-gray-700" for="endDate">
                 End Date
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="endDate-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="endDate" type="date"/>
                <div class="text-red-600 text-sm mt-1" id="endDate-error" role="alert">
                </div>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="endTime">
                 End Time (HH:MM:SS)
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="endTime-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="endTime" step="1" type="time"/>
                <div class="text-red-600 text-sm mt-1" id="endTime-error" role="alert">
                </div>
               </div>
              </div>
             </div>
            </fieldset>
            <fieldset class="space-y-6" hidden="" id="panelAddSubtract">
             <legend class="text-xl font-semibold border-b border-gray-200 pb-2 mb-4">
              Add or Subtract a Duration
             </legend>
             <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <div class="flex justify-between items-center mb-2">
               <h3 class="text-lg font-medium text-gray-800">
                Start Point
               </h3>
               <button class="text-sm text-blue-600 hover:text-blue-800 font-medium" id="setStartNowBtn2" type="button">
                Set to Now
               </button>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
               <div>
                <label class="block text-sm font-medium text-gray-700" for="startDate2">
                 Start Date
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="startDate2-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="startDate2" type="date"/>
                <div class="text-red-600 text-sm mt-1" id="startDate2-error" role="alert">
                </div>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="startTime2">
                 Start Time (HH:MM:SS)
                 <span aria-hidden="true" class="text-red-600">
                  *
                 </span>
                </label>
                <input aria-describedby="startTime2-error" aria-required="true" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="startTime2" step="1" type="time"/>
                <div class="text-red-600 text-sm mt-1" id="startTime2-error" role="alert">
                </div>
               </div>
              </div>
             </div>
             <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <h3 class="text-lg font-medium text-gray-800 mb-2">
               Duration to Add/Subtract
              </h3>
              <div>
               <label class="block text-sm font-medium text-gray-700" for="operation">
                Operation
               </label>
               <select class="mt-1 block w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="operation">
                <option selected="" value="add">
                 Add
                </option>
                <option value="subtract">
                 Subtract
                </option>
               </select>
              </div>
              <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-4">
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addYears">
                 Years
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addYears" min="0" type="number" value="0"/>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addMonths">
                 Months
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addMonths" min="0" type="number" value="0"/>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addDays">
                 Days
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addDays" min="0" type="number" value="0"/>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addHours">
                 Hours
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addHours" min="0" type="number" value="0"/>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addMinutes">
                 Minutes
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addMinutes" min="0" type="number" value="0"/>
               </div>
               <div>
                <label class="block text-sm font-medium text-gray-700" for="addSeconds">
                 Seconds
                </label>
                <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" id="addSeconds" min="0" type="number" value="0"/>
               </div>
              </div>
              <div class="text-red-600 text-sm mt-2" id="addDuration-error" role="alert">
              </div>
             </div>
            </fieldset>
            <div class="flex gap-4 pt-4 border-t border-gray-200">
             <button class="w-full md:w-auto px-6 py-3 bg-blue-600 text-white font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" id="calculateBtn" type="button">
              Calculate
             </button>
             <button class="w-full md:w-auto px-6 py-3 bg-white text-gray-700 font-medium rounded-md border border-gray-300 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400" id="resetBtn" type="reset">
              Reset
             </button>
            </div>
           </section>
          </div>
          <section aria-live="polite" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 min-h-[150px]" hidden="" id="results">
           <h2 class="text-2xl font-semibold text-gray-900 mb-4">
            Calculated Result
           </h2>
           <div hidden="" id="durationResultBlock">
            <div class="result-card mb-4">
             <h4>
              Total Duration (Breakdown)
             </h4>
             <p class="text-blue-600 text-2xl md:text-3xl" id="resultBreakdown">
              --
             </p>
            </div>
            <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">
             Total in Other Units
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
             <div class="result-card !p-4">
              <h4 class="!text-sm">
               Total Days
              </h4>
              <p class="!text-xl !font-semibold" id="resultTotalDays">
               --
              </p>
             </div>
             <div class="result-card !p-4">
              <h4 class="!text-sm">
               Total Hours
              </h4>
              <p class="!text-xl !font-semibold" id="resultTotalHours">
               --
              </p>
             </div>
             <div class="result-card !p-4">
              <h4 class="!text-sm">
               Total Minutes
              </h4>
              <p class="!text-xl !font-semibold" id="resultTotalMinutes">
               --
              </p>
             </div>
             <div class="result-card !p-4">
              <h4 class="!text-sm">
               Total Seconds
              </h4>
              <p class="!text-xl !font-semibold" id="resultTotalSeconds">
               --
              </p>
             </div>
            </div>
           </div>
           <div hidden="" id="addSubtractResultBlock">
            <div class="result-card">
             <h4>
              New Date &amp; Time
             </h4>
             <p class="text-blue-600 text-2xl md:text-3xl" id="resultNewDateTime">
              --
             </p>
             <p class="text-gray-600 text-lg mt-1" id="resultNewDay">
              --
             </p>
            </div>
           </div>
          </section>
          <article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
           <h2>
            Authoritative Source &amp; Methodology
           </h2>
           <p>
            <strong>
             Authoritative Data Source:
            </strong>
            Bureau International des Poids et Mesures (BIPM)
            <br/>
            <strong>
             Reference:
            </strong>
            The International System of Units (SI), 9th edition, 2019 (updated 2022).
            <br/>
            <strong>
             Link:
            </strong>
            <a href="https://www.bipm.org/en/publications/si-brochure" rel="nofollow noopener" target="_blank">
             https://www.bipm.org/en/publications/si-brochure
            </a>
           </p>
           <p>
            All calculations are based on the Gregorian calendar and the SI definition of the second. The calculator accurately accounts for leap years. All calculations are first converted to a common unit (milliseconds) for precision before being reformatted into human-readable output.
           </p>
           <h2>
            The Formulas Explained
           </h2>
           <p>
            This calculator uses JavaScript's built-in
            <code>
             Date
            </code>
            object, which handles complex date arithmetic, including leap years and varying month lengths.
           </p>
           <h3>
            1. Duration Calculation
           </h3>
           <p>
            The core calculation finds the difference between two timestamps in milliseconds:
           </p>
           <div class="formula-box">
            $$ \Delta t = T_{end} - T_{start} $$
           </div>
           <p>
            Where $T_{end}$ and $T_{start}$ are the end and start timestamps, respectively, in milliseconds since the UNIX epoch (January 1, 1970). This $\Delta t$ is then deconstructed into a human-readable format.
           </p>
           <h3>
            2. Breakdown Logic (Years, Months, Days)
           </h3>
           <p>
            To provide a "human" breakdown (e.g., "1 month, 5 days" instead of "35 days"), the calculator must account for the variable length of months. It does this by:
           </p>
           <ol>
            <li>
             Calculating the difference in years, months, days, hours, minutes, and seconds.
            </li>
            <li>
             "Borrowing" from larger units to normalize negative values (e.g., if seconds are negative, it borrows 1 minute and adds 60 seconds).
            </li>
            <li>
             When borrowing for days, it correctly determines the number of days in the preceding month (e.g., 30, 31, 28, or 29).
            </li>
           </ol>
           <h3>
            3. Add/Subtract Duration
           </h3>
           <p>
            This calculation starts with a timestamp and programmatically adds or subtracts each unit:
           </p>
           <div class="formula-box">
            $$ T_{new} = T_{start} \pm D_{duration} $$
           </div>
           <p>
            The
            <code>
             Date
            </code>
            object handles this automatically. For example, adding 1 month to March 31st correctly results in April 30th, not April 31st.
           </p>
           <ul>
            <li>
             $T_{new}\text{.setFullYear}(T_{start}\text{.getFullYear()} + \text{Years})$
            </li>
            <li>
             $T_{new}\text{.setMonth}(T_{start}\text{.getMonth()} + \text{Months})$
            </li>
            <li>
             $T_{new}\text{.setDate}(T_{start}\text{.getDate()} + \text{Days})$
            </li>
            <li>
             ...and so on for hours, minutes, and seconds.
            </li>
           </ul>
           <h2>
            Glossary of Variables
           </h2>
           <ul>
            <li>
             <strong>
              Start Date/Time:
             </strong>
             The initial point in time from which a calculation begins.
            </li>
            <li>
             <strong>
              End Date/Time:
             </strong>
             The final point in time used to determine the duration.
            </li>
            <li>
             <strong>
              Duration:
             </strong>
             The total amount of time elapsed between the start and end.
            </li>
            <li>
             <strong>
              Leap Year:
             </strong>
             A year, occurring once every four years (e.g., 2024, 2028), which has 366 days instead of 365. This calculator automatically includes February 29th in its calculations.
            </li>
            <li>
             <strong>
              Timestamp (Milliseconds):
             </strong>
             The total number of milliseconds that have passed since January 1, 1970, at 00:00:00 UTC. This is the standard unit used for computer time calculations.
            </li>
           </ul>
           <h2>
            How It Works: A Step-by-Step Example
           </h2>
           <p>
            Let's calculate the duration of a project.
           </p>
           <ul>
            <li>
             <strong>
              Mode:
             </strong>
             Calculate Duration Between Times
            </li>
            <li>
             <strong>
              Start Date:
             </strong>
             January 15, 2024
            </li>
            <li>
             <strong>
              Start Time:
             </strong>
             09:00:00
            </li>
            <li>
             <strong>
              End Date:
             </strong>
             March 1, 2024
            </li>
            <li>
             <strong>
              End Time:
             </strong>
             17:30:00
            </li>
           </ul>
           <p>
            <strong>
             Calculation Steps:
            </strong>
           </p>
           <ol>
            <li>
             <strong>
              Combine Inputs:
             </strong>
             <ul>
              <li>
               Start:
               <code>
                new Date("2024-01-15T09:00:00")
               </code>
              </li>
              <li>
               End:
               <code>
                new Date("2024-03-01T17:30:00")
               </code>
              </li>
             </ul>
            </li>
            <li>
             <strong>
              Get Millisecond Difference (Formula 1):
             </strong>
             <ul>
              <li>
               $T_{end}$ = 1709314200000
              </li>
              <li>
               $T_{start}$ = 1673773200000
              </li>
              <li>
               $\Delta t$ = 3,919,800,000 milliseconds
              </li>
             </ul>
            </li>
            <li>
             <strong>
              Convert to Units:
             </strong>
             <ul>
              <li>
               Total Seconds: 3,919,800
              </li>
              <li>
               Total Minutes: 65,330
              </li>
              <li>
               Total Hours: 1,088.83
              </li>
              <li>
               Total Days: 45.36
              </li>
             </ul>
            </li>
            <li>
             <strong>
              Calculate Human Breakdown (Formula 2):
             </strong>
             <ul>
              <li>
               <strong>
                Seconds:
               </strong>
               0 - 0 = 0
              </li>
              <li>
               <strong>
                Minutes:
               </strong>
               30 - 0 = 30
              </li>
              <li>
               <strong>
                Hours:
               </strong>
               17 - 9 = 8
              </li>
              <li>
               <strong>
                Days:
               </strong>
               1 - 15 = -14. (Borrow from months. February 2024 has 29 days. 29 + 1 = 30. 30 - 15 = 15 days).
              </li>
              <li>
               <strong>
                Months:
               </strong>
               2 - 1 = 1. (After borrow: 1 - 1 = 0 months).
              </li>
              <li>
               <strong>
                Years:
               </strong>
               2024 - 2024 = 0
              </li>
              <li>
               *(Wait, the manual math is hard! Let's re-borrow correctly)*:
              </li>
              <li>
               <strong>
                Start:
               </strong>
               2024-01-15...
               <strong>
                End:
               </strong>
               2024-03-01...
              </li>
              <li>
               From Jan 15 to Feb 15 (2024 is a leap year) =
               <strong>
                1 month
               </strong>
               .
              </li>
              <li>
               From Feb 15 to Mar 1 = 15 days (Feb has 29 days, so 29-15=14 days left in Feb + 1 day in Mar = 15 days).
              </li>
              <li>
               Time difference is 8 hours, 30 minutes.
              </li>
             </ul>
            </li>
            <li>
             <strong>
              Final Result:
             </strong>
             1 month, 15 days, 8 hours, 30 minutes.
            </li>
           </ol>
           <h2>
            Frequently Asked Questions
           </h2>
           <details>
            <summary>
             How does the calculator handle leap years?
            </summary>
            <p>
             The calculator automatically accounts for leap years (like 2024, 2028, etc.) in all calculations. When you calculate a duration that spans February 29 in a leap year, it is correctly included.
            </p>
           </details>
           <details>
            <summary>
             Does this calculator account for time zones?
            </summary>
            <p>
             No. The calculator operates based on the local time of your browser or device. All calculations assume the start and end points are in the same time zone. It does not perform time zone conversions.
            </p>
           </details>
           <details>
            <summary>
             What is the 'HH:MM:SS' format?
            </summary>
            <p>
             This stands for Hours (00-23), Minutes (00-59), and Seconds (00-59). It uses a 24-hour clock format.
            </p>
           </details>
           <details>
            <summary>
             Can I calculate the total duration in just days or hours?
            </summary>
            <p>
             Yes. When you calculate the duration between two times, the results area provides a primary breakdown (in years, months, days, etc.) as well as the total duration converted into days, hours, minutes, and seconds for your convenience.
            </p>
           </details>
           <details>
            <summary>
             Why is the 'month' duration sometimes ambiguous?
            </summary>
            <p>
             Months have different lengths. Adding '1 month' to January 31st is ambiguous because February 31st doesn't exist. Our calculator handles this logically, typically adjusting to the last valid day of the resulting month (e.g., February 28th or 29th). For high-precision calculations, we recommend using the 'Total Days' result or adding/subtracting in days.
            </p>
           </details>
           <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
            <p>
             <strong>
              Tool developed by Ugo Candido.
             </strong>
             Contents verified by the CalcDomain Editorial Board.
             <br/>
             Last accuracy review:
             <time datetime="2025-02-10">
              February 10, 2025
             </time>
            </p>
           </div>
          </article>
         </section>
         <aside class="w-full lg:w-1/3">
          <div class="sticky top-10 space-y-6">
           <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
            Ad Placement (300×600)
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-3">
             Why Use This Calculator
            </h3>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
             <li>
              Get a precise breakdown in years, months, days, and time.
             </li>
             <li>
              See total duration in days, hours, minutes, or seconds.
             </li>
             <li>
              Calculate future or past dates by adding/subtracting time.
             </li>
             <li>
              Accounts for all calendar complexities, including leap years.
             </li>
            </ul>
           </div>
           <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-lg mb-4">
             Related Time Tools
            </h3>
            <ul class="space-y-3 text-sm">
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/date-calculator">
               Date Calculator (Add/Subtract Days)
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/age-calculator">
               Age Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/hours-calculator">
               Hours and Minutes Calculator
              </a>
             </li>
             <li>
              <a class="text-blue-600 hover:underline" href="https://calcdomain.com/time-zone-converter">
               Time Zone Converter
              </a>
             </li>
            </ul>
           </div>
          </div>
         </aside>
        </div>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <script defer="">
   document.addEventListener('DOMContentLoaded', () => {

// --- Elementi UI ---
const elements = {
// Mode
modeDuration: document.getElementById('modeDuration'),
modeAddSubtract: document.getElementById('modeAddSubtract'),
panelDuration: document.getElementById('panelDuration'),
panelAddSubtract: document.getElementById('panelAddSubtract'),
modeLabels: document.querySelectorAll('label[data-mode]'),

// Panel 1: Duration
startDate: document.getElementById('startDate'),
startTime: document.getElementById('startTime'),
endDate: document.getElementById('endDate'),
endTime: document.getElementById('endTime'),
setStartNowBtn: document.getElementById('setStartNowBtn'),
setEndNowBtn: document.getElementById('setEndNowBtn'),

// Panel 2: Add/Subtract
startDate2: document.getElementById('startDate2'),
startTime2: document.getElementById('startTime2'),
setStartNowBtn2: document.getElementById('setStartNowBtn2'),
operation: document.getElementById('operation'),
addYears: document.getElementById('addYears'),
addMonths: document.getElementById('addMonths'),
addDays: document.getElementById('addDays'),
addHours: document.getElementById('addHours'),
addMinutes: document.getElementById('addMinutes'),
addSeconds: document.getElementById('addSeconds'),

// Azioni
calculateBtn: document.getElementById('calculateBtn'),
resetBtn: document.getElementById('resetBtn'),

// Risultati
resultsSection: document.getElementById('results'),
durationResultBlock: document.getElementById('durationResultBlock'),
addSubtractResultBlock: document.getElementById('addSubtractResultBlock'),
resultBreakdown: document.getElementById('resultBreakdown'),
resultTotalDays: document.getElementById('resultTotalDays'),
resultTotalHours: document.getElementById('resultTotalHours'),
resultTotalMinutes: document.getElementById('resultTotalMinutes'),
resultTotalSeconds: document.getElementById('resultTotalSeconds'),
resultNewDateTime: document.getElementById('resultNewDateTime'),
resultNewDay: document.getElementById('resultNewDay'),

// Errori
errorFields: {
startDate: document.getElementById('startDate-error'),
startTime: document.getElementById('startTime-error'),
endDate: document.getElementById('endDate-error'),
endTime: document.getElementById('endTime-error'),
startDate2: document.getElementById('startDate2-error'),
startTime2: document.getElementById('startTime2-error'),
addDuration: document.getElementById('addDuration-error')
}
};

const DURATION_MODE = 'duration';
const ADD_SUBTRACT_MODE = 'addSubtract';
let currentMode = DURATION_MODE;

// --- Gestori Eventi ---

// Cambio Modalità
[elements.modeDuration, elements.modeAddSubtract].forEach(radio => {
radio.addEventListener('change', (e) => {
currentMode = e.target.value;
updateUIMode();
});
});

// Calcolo
elements.calculateBtn.addEventListener('click', () => {
clearAllErrors();
if (!validateInputs()) {
return;
}

if (currentMode === DURATION_MODE) {
calculateDuration();
} else {
calculateNewDate();
}
});

// Reset
elements.resetBtn.addEventListener('click', () => {
document.querySelectorAll('input[type="date"]').forEach(el => el.value = '');
document.querySelectorAll('input[type="time"]').forEach(el => el.value = '');
document.querySelectorAll('input[type="number"]').forEach(el => el.value = '0');
elements.operation.value = 'add';
clearAllErrors();
elements.resultsSection.hidden = true;
});

// "Set to Now"
elements.setStartNowBtn.addEventListener('click', ()_ => setNow(elements.startDate, elements.startTime));
elements.setEndNowBtn.addEventListener('click', ()_ => setNow(elements.endDate, elements.endTime));
elements.setStartNowBtn2.addEventListener('click', ()_ => setNow(elements.startDate2, elements.startTime2));


// --- Funzioni Principali ---

function calculateDuration() {
const start = combineDateAndTime(elements.startDate.value, elements.startTime.value);
const end = combineDateAndTime(elements.endDate.value, elements.endTime.value);

if (end < start) {
showError(elements.endDate, elements.errorFields.endDate, 'End date/time must be after start date/time.');
return;
}

const diffMs = end.getTime() - start.getTime();

// Calcolo Totali
const totalSeconds = Math.floor(diffMs / 1000);
const totalMinutes = Math.floor(totalSeconds / 60);
const totalHours = Math.floor(totalMinutes / 60);
const totalDays = diffMs / (1000 * 60 * 60 * 24); // Keep decimal for precision

// Calcolo Breakdown
let d1 = new Date(start.getTime());
let d2 = new Date(end.getTime());

let years = d2.getFullYear() - d1.getFullYear();
let months = d2.getMonth() - d1.getMonth();
let days = d2.getDate() - d1.getDate();
let hours = d2.getHours() - d1.getHours();
let minutes = d2.getMinutes() - d1.getMinutes();
let seconds = d2.getSeconds() - d1.getSeconds();

// Normalizzazione (Borrowing)
if (seconds < 0) { seconds += 60; minutes--; }
if (minutes < 0) { minutes += 60; hours--; }
if (hours < 0) { hours += 24; days--; }
if (days < 0) {
const daysInPrevMonth = new Date(d2.getFullYear(), d2.getMonth(), 0).getDate();
days += daysInPrevMonth;
months--;
}
if (months < 0) { months += 12; years--; }

// Display
const breakdownParts = [];
if (years > 0) breakdownParts.push(`${years} ${pluralize(years, 'year')}`);
if (months > 0) breakdownParts.push(`${months} ${pluralize(months, 'month')}`);
if (days > 0) breakdownParts.push(`${days} ${pluralize(days, 'day')}`);
if (hours > 0) breakdownParts.push(`${hours} ${pluralize(hours, 'hour')}`);
if (minutes > 0) breakdownParts.push(`${minutes} ${pluralize(minutes, 'minute')}`);
if (seconds > 0) breakdownParts.push(`${seconds} ${pluralize(seconds, 'second')}`);

elements.resultBreakdown.textContent = breakdownParts.length ? breakdownParts.join(', ') : '0 seconds';
elements.resultTotalDays.textContent = totalDays.toLocaleString(undefined, { maximumFractionDigits: 2 });
elements.resultTotalHours.textContent = totalHours.toLocaleString();
elements.resultTotalMinutes.textContent = totalMinutes.toLocaleString();
elements.resultTotalSeconds.textContent = totalSeconds.toLocaleString();

elements.addSubtractResultBlock.hidden = true;
elements.durationResultBlock.hidden = false;
elements.resultsSection.hidden = false;
}

function calculateNewDate() {
const start = combineDateAndTime(elements.startDate2.value, elements.startTime2.value);
const op = elements.operation.value === 'add' ? 1 : -1;

const years = parseInt(elements.addYears.value) || 0;
const months = parseInt(elements.addMonths.value) || 0;
const days = parseInt(elements.addDays.value) || 0;
const hours = parseInt(elements.addHours.value) || 0;
const minutes = parseInt(elements.addMinutes.value) || 0;
const seconds = parseInt(elements.addSeconds.value) || 0;

if (years + months + days + hours + minutes + seconds === 0) {
showError(null, elements.errorFields.addDuration, 'Please enter a duration to add or subtract.');
return;
}

const newDate = new Date(start.getTime());
newDate.setFullYear(newDate.getFullYear() + (op * years));
newDate.setMonth(newDate.getMonth() + (op * months));
newDate.setDate(newDate.getDate() + (op * days));
newDate.setHours(newDate.getHours() + (op * hours));
newDate.setMinutes(newDate.getMinutes() + (op * minutes));
newDate.setSeconds(newDate.getSeconds() + (op * seconds));

// Display
const dateFormatter = new Intl.DateTimeFormat(undefined, {
year: 'numeric', month: 'long', day: 'numeric'
});
const timeFormatter = new Intl.DateTimeFormat(undefined, {
hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false
});
const dayFormatter = new Intl.DateTimeFormat(undefined, { weekday: 'long' });

elements.resultNewDateTime.textContent = `${dateFormatter.format(newDate)} at ${timeFormatter.format(newDate)}`;
elements.resultNewDay.textContent = dayFormatter.format(newDate);

elements.durationResultBlock.hidden = true;
elements.addSubtractResultBlock.hidden = false;
elements.resultsSection.hidden = false;
}

// --- Funzioni di Supporto ---

function updateUIMode() {
if (currentMode === DURATION_MODE) {
elements.panelDuration.hidden = false;
elements.panelAddSubtract.hidden = true;
} else {
elements.panelDuration.hidden = true;
elements.panelAddSubtract.hidden = false;
// Sincronizza date/time se vuoti
if (!elements.startDate2.value && elements.startDate.value) {
elements.startDate2.value = elements.startDate.value;
}
if (!elements.startTime2.value && elements.startTime.value) {
elements.startTime2.value = elements.startTime.value;
}
}
// Stili Tab
elements.modeLabels.forEach(label => {
if (label.getAttribute('data-mode') === currentMode) {
label.classList.add('bg-blue-100', 'text-blue-700');
label.classList.remove('bg-white', 'text-gray-700');
} else {
label.classList.remove('bg-blue-100', 'text-blue-700');
label.classList.add('bg-white', 'text-gray-700');
}
});
clearAllErrors();
elements.resultsSection.hidden = true;
}

function setNow(dateEl, timeEl) {
const now = new Date();
const year = now.getFullYear();
const month = (now.getMonth() + 1).toString().padStart(2, '0');
const day = now.getDate().toString().padStart(2, '0');
const hours = now.getHours().toString().padStart(2, '0');
const minutes = now.getMinutes().toString().padStart(2, '0');
const seconds = now.getSeconds().toString().padStart(2, '0');

dateEl.value = `${year}-${month}-${day}`;
timeEl.value = `${hours}:${minutes}:${seconds}`;
}

function combineDateAndTime(dateStr, timeStr) {
if (!timeStr) timeStr = '00:00:00';
return new Date(`${dateStr}T${timeStr}`);
}

function pluralize(count, noun) {
return count === 1 ? noun : `${noun}s`;
}

// --- Validazione e Errori ---

function validateInputs() {
let isValid = true;

if (currentMode === DURATION_MODE) {
if (!elements.startDate.value) {
isValid = false;
showError(elements.startDate, elements.errorFields.startDate, 'Start date is required.');
}
if (!elements.startTime.value) {
isValid = false;
showError(elements.startTime, elements.errorFields.startTime, 'Start time is required.');
}
if (!elements.endDate.value) {
isValid = false;
showError(elements.endDate, elements.errorFields.endDate, 'End date is required.');
}
if (!elements.endTime.value) {
isValid = false;
showError(elements.endTime, elements.errorFields.endTime, 'End time is required.');
}
} else { // ADD_SUBTRACT_MODE
if (!elements.startDate2.value) {
isValid = false;
showError(elements.startDate2, elements.errorFields.startDate2, 'Start date is required.');
}
if (!elements.startTime2.value) {
isValid = false;
showError(elements.startTime2, elements.errorFields.startTime2, 'Start time is required.');
}
}
return isValid;
}

function showError(inputEl, errorEl, message) {
if (errorEl) {
errorEl.textContent = message;
}
if (inputEl) {
inputEl.setAttribute('aria-invalid', 'true');
// L'ID dell'errore è già collegato via aria-describedby nell'HTML
}
}

function clearAllErrors() {
Object.values(elements.errorFields).forEach(el => {
if (el) el.textContent = '';
});
document.querySelectorAll('[aria-invalid]').forEach(el => {
el.setAttribute('aria-invalid', 'false');
});
}

// --- Inizializzazione ---
updateUIMode(); // Imposta lo stato iniziale dei tab

});
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
