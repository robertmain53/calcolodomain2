<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adjacency List Generator &amp; Converter (Graph) | CalcDomain</title>
  <meta name="description" content="Create an adjacency list for a graph from edge lists. Supports directed/undirected, weighted edges, and conversion to adjacency matrix and JSON. Perfect for data structures, algorithms, and graph modeling.">
  <link rel="canonical" href="https://calcdomain.com/adjacency-list">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <script>
    (function() {

      'use strict';

    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  

    })();</script>
  <script async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <!-- %%HEAD_SCRIPTS_E_META%% -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} // eslint-disable-line no-unused-vars
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>
  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">
  <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
  <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>
  <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
  <script>
    window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
  </script>

  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com"},
      {"@type": "ListItem", "position": 2, "name": "Math", "item": "https://calcdomain.com/categories/math"},
      {"@type": "ListItem", "position": 3, "name": "Core Math & Algebra", "item": "https://calcdomain.com/subcategories/core-math-algebra"},
      {"@type": "ListItem", "position": 4, "name": "Adjacency List", "item": "https://calcdomain.com/adjacency-list"}
    ]
  }</script>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e5e7eb;
      --primary:#2563eb;
      --primary2:#1d4ed8;
      --shadow:0 10px 25px rgba(2,6,23,.08);
      --radius:14px;
      --sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"Apple Color Emoji","Segoe UI Emoji";

      --surface-subtle:#f8fafc;
      --danger:#b91c1c;
      --dangerBg:#fef2f2;
      --ok:#15803d;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:var(--bg);
      line-height:1.5;
    }
    a{ color:var(--primary); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .container{ max-width:1120px; margin:0 auto; padding:18px; }

    header{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.92);
      backdrop-filter:blur(8px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      padding:12px 18px;
    }
    .brand{ font-weight:800; letter-spacing:.2px; font-size:20px; color:var(--text); }
    .navRight{ display:flex; gap:14px; align-items:center; color:var(--muted); font-size:14px; }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line); background:#fff;
      padding:8px 10px; border-radius:999px; font-size:13px;
    }

    .calc-hero{
      display:grid;
      grid-template-columns:1.2fr 1fr;
      gap:24px;
      margin-top:24px;
      align-items:start;
    }
    @media (max-width:800px){ .calc-hero{ grid-template-columns:1fr; } }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
    }

    h1{ margin:0 0 8px; font-size:28px; line-height:1.2; }
    .sub{ margin:0 0 20px; color:var(--muted); font-size:15px; }

    .sectionTitle{
      font-weight:800; margin:0 0 12px;
      font-size:15px; text-transform:uppercase; letter-spacing:.5px; color:var(--muted);
    }

    .grid2{ display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px; }
    @media (max-width:500px){ .grid2{ grid-template-columns:1fr; } }

    label{ display:block; font-size:13px; font-weight:600; color:var(--muted); margin:0 0 6px; }
    input, select, textarea{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:10px;
      background:#fff;
      font-size:15px;
      outline:none;
      transition:border-color .2s;
    }
    input:focus, select:focus, textarea:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 3px rgba(37,99,235,0.15);
    }

    .optional-box{
      background:var(--surface-subtle);
      border:1px solid var(--line);
      border-radius:10px;
      padding:16px;
      margin-bottom:16px;
    }

    .sticky-box{ position:sticky; top:90px; }

    .totalBox{
      text-align:center;
      padding-bottom:20px;
      border-bottom:1px solid var(--line);
      margin-bottom:16px;
    }
    .totalBox .t{ color:var(--muted); font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:.5px; }
    .totalBox .v{ font-size:42px; font-weight:900; margin-top:4px; color:var(--text); }

    .btn{
      display:block; width:100%;
      border:none; background:var(--primary); color:#fff;
      padding:12px; border-radius:10px;
      cursor:pointer; font-weight:700; font-size:15px;
      text-align:center; margin-top:10px;
    }
    .btn:hover{ background:var(--primary2); text-decoration:none; }
    .btnSecondary{ background:#fff; border:1px solid var(--line); color:var(--text); }
    .btnSecondary:hover{ background:#f8fafc; }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    .tableWrap{
      overflow-x:auto;
      margin-top:18px;
      display:none;
      border:1px solid var(--line);
      border-radius:12px;
    }
    table{ width:100%; border-collapse:collapse; background:#fff; font-size:14px; }
    th, td{ padding:12px; border-bottom:1px solid var(--line); text-align:left; white-space:nowrap; }
    th{ background:#f1f5f9; font-weight:700; color:var(--muted); font-size:12px; text-transform:uppercase; }
    tr:nth-child(even) td{ background:#fafafa; }

    .alert{
      display:none;
      padding:12px;
      margin-bottom:20px;
      background:var(--dangerBg);
      border-left:4px solid var(--danger);
      color:#7f1d1d;
      border-radius:6px;
      font-size:14px;
    }

    .pill-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; }
    .pill-tab{
      padding:6px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      font-size:13px;
    }
    .pill-tab.active{ background:var(--primary); color:#fff; border-color:var(--primary); }

    .scroll-x{ overflow-x:auto; }
    table.adj-table{ width:100%; border-collapse:collapse; }
    table.adj-table th, table.adj-table td{
      border-bottom:1px solid var(--line);
      padding:10px;
      font-size:13px;
      text-align:left;
      white-space:nowrap;
    }
    table.adj-table th{
      background:#f1f5f9;
      color:var(--muted);
      font-size:12px;
      text-transform:uppercase;
    }

    pre.code-block{
      background:#0b1220;
      color:#e5e7eb;
      padding:12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.12);
      overflow-x:auto;
      font-size:12px;
    }

    .content-card{ margin-top:24px; }
    .content-card h2{ margin:0 0 10px; font-size:18px; }
    .content-card p{ margin:0 0 10px; color:var(--text); }
    .content-card ul{ margin:8px 0 0; padding-left:18px; }

    .meta-section{
      margin-top:40px;
      padding-top:20px;
      border-top:1px solid var(--line);
      font-size:13px;
      color:var(--muted);
    }
    .badge-row{ display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    .badge{
      display:inline-flex; align-items:center; gap:6px;
      border:1px solid var(--line); padding:4px 10px;
      border-radius:20px; background:#fff;
    }

    .bg-gray-900{ background-color:#0f172a; }
    .text-white{ color:#ffffff; }
    .text-gray-400{ color:#94a3b8; }
    .hover\:text-white:hover{ color:#ffffff; }
    .py-12{ padding-top:3rem; padding-bottom:3rem; }
    .px-4{ padding-left:1rem; padding-right:1rem; }
    .grid{ display:grid; }
    .gap-8{ gap:2rem; }
    .mb-4{ margin-bottom:1rem; }
    .mt-8{ margin-top:2rem; }
    .pt-8{ padding-top:2rem; }
    .border-t{ border-top-width:1px; }
    .border-gray-800{ border-color:#1e293b; }
    .text-center{ text-align:center; }
    .font-bold{ font-weight:700; }
    .font-semibold{ font-weight:600; }
    .text-2xl{ font-size:1.5rem; }
    .text-lg{ font-size:1.125rem; }
    .space-y-2 > * + *{ margin-top:.5rem; }
    .mx-auto{ margin-left:auto; margin-right:auto; }

    @media (min-width:768px){
      .md\:grid-cols-4{ grid-template-columns:repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>

<body>
  <!-- %%BODY_SCRIPTS_INIZIO%% -->
  <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

  <header id="siteHeader">
    <div class="nav container">
      <a class="brand" href="https://calcdomain.com">CalcDomain</a>
      <div class="navRight">
        <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
        <span class="pill">Categories</span>
      </div>
    </div>
  </header>

  <div class="container">
    <main style="margin:24px 0 40px;" id="mainContent">
      <h1 id="pageTitle">Graph Adjacency List Generator</h1>
      <p class="sub" id="pageSub">Generate or convert adjacency lists for graph representations.</p>

      <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>

      <div class="calc-hero" id="calcHero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div class="sectionTitle">Graph input</div>

          <label for="edge-input">Edges (one per line)</label>
          <p style="margin:0 0 10px; color:var(--muted); font-size:13px;">
            Accepted formats: <code>A B</code>, <code>A,B</code>, <code>A B 5</code> (weighted), <code>1 2</code>, <code>node_1 node_2 1.25</code>. Separators are auto-detected.
          </p>

          <textarea id="edge-input" rows="7" spellcheck="false">A B
A C
B D
C D 2
D E</textarea>

          <div class="optional-box" style="margin-top:16px;">
            <div class="grid2" style="margin-bottom:0;">
              <label><input id="directed" type="checkbox"> Directed graph</label>
              <label><input id="weighted" type="checkbox"> Weighted edges</label>
              <label><input id="sort-nodes" type="checkbox" checked=""> Sort nodes</label>
            </div>
          </div>

          <button class="btn" id="calcBtn" type="button">Generate</button>
          <button class="btn btnSecondary" id="resetBtn" type="button">Reset</button>
        
<div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
</section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="totalBox">
            <div class="t">Output</div>
            <div class="v" id="outputSummary">Adjacency List</div>
          </div>

          <div class="pill-tabs" role="tablist" aria-label="Result view">
            <button class="pill-tab active" type="button" data-view="list">Adjacency list</button>
            <button class="pill-tab" type="button" data-view="json">JSON</button>
            <button class="pill-tab" type="button" data-view="matrix">Adjacency matrix</button>
          </div>

          <div id="list-view" class="scroll-x" role="tabpanel" aria-label="Adjacency list">
            <div id="adjacency-container">
              <p style="margin:0; color:var(--muted);">No graph generated yet.</p>
            </div>
          </div>

          <div id="json-view" class="scroll-x" role="tabpanel" aria-label="JSON output" style="display:none;">
            <pre id="json-output" class="code-block">{}</pre>
          </div>

          <div id="matrix-view" class="scroll-x" role="tabpanel" aria-label="Adjacency matrix" style="display:none;">
            <div id="matrix-container"></div>
          </div>
        </section>
      </div>

      <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
        <h2>How to use</h2>
        <p>
          Paste your edges, choose whether the graph is directed or weighted, then click Generate.
          Switch between adjacency list, JSON, and adjacency matrix using the tabs.
        </p>

        <h2>Methodology</h2>
        <p>
          From an edge list \(E\), the tool constructs an adjacency list \(Adj(v)\) that stores the neighbors of each node \(v\).
          For undirected graphs, each edge \((u,v)\) is inserted both into \(Adj(u)\) and \(Adj(v)\).
          For directed graphs, \((u,v)\) is inserted only into \(Adj(u)\).
        </p>
        <p>
          The adjacency matrix \(A\) is built over the ordered node set \(V=\{v_1,\dots,v_n\}\) such that
          \(A_{ij}=1\) if \((v_i,v_j)\in E\) and \(A_{ij}=0\) otherwise. (Weights are displayed in the list/JSON; the matrix shown here is 0/1.)
        </p>

        <h2>Full original guide (expanded)</h2>
        <p>
          Keep node names consistent. For directed graphs, edge A→B does not imply B→A.
          For weighted graphs, provide the weight as a third token (e.g., <code>A B 2.5</code>).
        </p>
      </section>

      <section class="meta-section" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
        <details id="formulaDetails">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Formulas</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <p style="margin:0 0 8px;"><strong>Adjacency list construction:</strong></p>
            \[
              Adj(u)=\{v \mid (u,v)\in E\} \quad\text{(directed)}
            \]
            \[
              Adj(u)=\{v \mid \{u,v\}\in E\} \quad\text{(undirected)}
            \]
            <p style="margin:10px 0 0;"><strong>Adjacency matrix:</strong></p>
            \[
              A_{ij}=
              \begin{cases}
                1, &amp; (v_i,v_j)\in E \\
                0, &amp; \text{otherwise}
              \end{cases}
            \]
          </div>
        </details>

        <details id="citationDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Citations</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <!-- Citations intentionally left blank (no sources listed in original page). -->
          </div>
        </details>

        <details id="changelogDetails" style="margin-top:10px;">
          <summary style="cursor:pointer; font-weight:700; color:var(--text)">Changelog</summary>
          <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
            <ul style="padding-left:18px; margin:0;">
              <li>0.1.1 — 2026-01-28: Hardened parsing, fixed weighted checkbox semantics, and made tab output deterministic (no stale sample JSON).</li>
            </ul>
          </div>
        </details>

        <div class="badge-row" id="badgeRow">
          <div class="badge" id="verifiedBadge">
            <span style="color:var(--ok); font-weight:800;">✓</span> Verified by Ugo Candido
          </div>
          <div class="badge" id="lastUpdatedBadge">Last Updated: 2026-01-28</div>
          <div class="badge" id="versionBadge">Version 0.1.1</div>
        </div>
      </section>
    </main>
  </div>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">
            Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
          </p>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
            <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
            <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
            <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
            <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
            <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
            <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
            <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
            <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script>
    (function() {
      'use strict';

      

const debounce = (fn, delay = 100) => {
  let t;
  return (...args) => {
    clearTimeout(t);
    t = setTimeout(() => fn(...args), delay);
  };
};

const toNumber = (v) => {
        const n = Number(v);
        return Number.isFinite(n) ? n : NaN;
      };

function parseInputs(){
        return {
          raw: (document.getElementById('edge-input').value || '').trim(),
          directed: document.getElementById('directed').checked,
          weighted: document.getElementById('weighted').checked,
          sortNodes: document.getElementById('sort-nodes').checked
        };
      }

      function parseEdges(raw){
        const lines = raw.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
        const edges = [];

        for (const line of lines){
          const parts = line.split(/[\s,;]+/).filter(Boolean);

          if (parts.length >= 2){
            const u = parts[0];
            const v = parts[1];

            let w = null;
            if (parts.length >= 3){
              const wNum = toNumber(parts[2]);
              w = Number.isFinite(wNum) ? wNum : null;
            }
            edges.push({ u, v, w });
          } else if (parts.length === 1){
            edges.push({ u: parts[0], v: null, w: null });
          }
        }

        return edges;
      }

      function validate(inputs){
        const errors = [];
        const edges = parseEdges(inputs.raw);

        if (edges.length === 0){
          errors.push('No edges or nodes found. Please check your input.');
        }

        if (inputs.weighted){
          const anyWeight = edges.some(e => e.v && Number.isFinite(e.w));
          if (!anyWeight){
            errors.push('Weighted is enabled, but no valid numeric weights were detected. Provide a 3rd token (e.g., "A B 2.5").');
          }
        }

        return { ok: errors.length === 0 || (errors.length === 1 && inputs.weighted), errors };
      }

      function buildAdjacency(edges, directed, weighted){
        const adj = Object.create(null);

        const ensure = (k) => { if (!adj[k]) adj[k] = []; };

        for (const e of edges){
          const u = e.u;
          ensure(u);

          if (e.v === null || e.v === undefined || e.v === '') continue;

          const v = e.v;
          ensure(v);

          const pushNeighbor = (from, to) => {
            if (weighted && Number.isFinite(e.w)){
              adj[from].push({ node: to, weight: e.w });
            } else {
              adj[from].push({ node: to });
            }
          };

          pushNeighbor(u, v);
          if (!directed) pushNeighbor(v, u);
        }

        return adj;
      }

      function sortAdjacency(adj){
        const keys = Object.keys(adj).sort((a, b) => a.localeCompare(b));
        const out = Object.create(null);
        for (const k of keys){
          out[k] = adj[k].slice().sort((a, b) => a.node.localeCompare(b.node));
        }
        return out;
      }

      function buildJSON(adj, weighted){
        const obj = Object.create(null);
        for (const k of Object.keys(adj)){
          if (weighted){
            obj[k] = adj[k].map(n => (Number.isFinite(n.weight) ? { node: n.node, weight: n.weight } : { node: n.node }));
          } else {
            obj[k] = adj[k].map(n => n.node);
          }
        }
        return obj;
      }

      function buildMatrix(adj){
        const seen = new Set();
        Object.keys(adj).forEach(n => seen.add(n));
        Object.keys(adj).forEach(n => {
          adj[n].forEach(nb => seen.add(nb.node));
        });
        const nodes = Array.from(seen).sort((a, b) => a.localeCompare(b));

        const idx = Object.create(null);
        nodes.forEach((n, i) => { idx[n] = i; });

        const n = nodes.length;
        const M = Array.from({ length: n }, () => Array.from({ length: n }, () => 0));

        for (const u of Object.keys(adj)){
          const i = idx[u];
          for (const nb of adj[u]){
            const j = idx[nb.node];
            M[i][j] = 1;
          }
        }

        return { nodes, M };
      }

      function escapeHtml(s){
        return String(s)
          .replaceAll('&', '&amp;')
          .replaceAll('<', '&lt;')
          .replaceAll('>', '&gt;')
          .replaceAll('"', '&quot;')
          .replaceAll("'", '&#39;');
      }

      function renderAdjacencyHTML(adj, weighted){
        const keys = Object.keys(adj);
        if (keys.length === 0){
          return '<p style="margin:0; color:var(--muted);">No edges or nodes.</p>';
        }

        let html = '<table class="adj-table"><thead><tr><th>Node</th><th>Neighbors</th></tr></thead><tbody>';
        for (const k of keys){
          const neighbors = adj[k].map(n => {
            const node = escapeHtml(n.node);
            if (weighted && Number.isFinite(n.weight)){
              return `${node}(${escapeHtml(n.weight)})`;
            }
            return node;
          }).join(', ');
          html += `<tr><td>${escapeHtml(k)}</td><td>${neighbors}</td></tr>`;
        }
        html += '</tbody></table>';
        return html;
      }

      function renderMatrixHTML(matrix){
        if (!matrix.nodes.length){
          return '<p style="margin:0; color:var(--muted);">No nodes to display.</p>';
        }

        let html = '<table class="adj-table"><thead><tr><th></th>';
        for (const n of matrix.nodes) html += `<th>${escapeHtml(n)}</th>`;
        html += '</tr></thead><tbody>';

        for (let i = 0; i < matrix.nodes.length; i++){
          html += `<tr><th>${escapeHtml(matrix.nodes[i])}</th>`;
          for (let j = 0; j < matrix.nodes.length; j++){
            html += `<td style="text-align:center">${matrix.M[i][j]}</td>`;
          }
          html += '</tr>';
        }

        html += '</tbody></table>';
        return html;
      }

      function compute(inputs){
        const edges = parseEdges(inputs.raw);
        let adj = buildAdjacency(edges, inputs.directed, inputs.weighted);
        if (inputs.sortNodes) adj = sortAdjacency(adj);

        const json = buildJSON(adj, inputs.weighted);
        const matrix = buildMatrix(adj);
        return { adj, json, matrix };
      }

      function format(outputs, inputs){
        if (!outputs || outputs.hardEmpty){
          return {
            adjHtml: '<p style="margin:0; color:var(--muted);">No graph generated yet.</p>',
            jsonText: '{}',
            matrixHtml: ''
          };
        }

        return {
          adjHtml: renderAdjacencyHTML(outputs.adj, inputs.weighted),
          jsonText: JSON.stringify(outputs.json, null, 2),
          matrixHtml: renderMatrixHTML(outputs.matrix)
        };
      }

      function render(formatted, errors){
        const err = document.getElementById('errorBox');
        if (errors.length){
          err.style.display = 'block';
          err.textContent = errors.join(' ');
        } else {
          err.style.display = 'none';
          err.textContent = '';
        }

        document.getElementById('adjacency-container').innerHTML = formatted?.adjHtml || '';
        document.getElementById('json-output').textContent = formatted?.jsonText ?? '{}';
        document.getElementById('matrix-container').innerHTML = formatted?.matrixHtml || '';
      }

      function update(){
        const inputs = parseInputs();
        const check = validate(inputs);

        if (!check.ok){
          const formatted = format({ hardEmpty: true }, inputs);
          render(formatted, check.errors);
          return;
        }

        const outputs = compute(inputs);
        const formatted = format(outputs, inputs);
        render(formatted, check.errors);
      }

      document.getElementById('calcBtn').addEventListener('click', update);

      document.getElementById('resetBtn').addEventListener('click', () => {
el.addEventListener('change', debouncedUpdate);
        });

      const tabs = document.querySelectorAll('.pill-tab');
      const views = {
        list: document.getElementById('list-view'),
        json: document.getElementById('json-view'),
        matrix: document.getElementById('matrix-view')
      };

      tabs.forEach(btn => {
        btn.addEventListener('click', () => {
          tabs.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const view = btn.getAttribute('data-view');
          Object.keys(views).forEach(key => {
            views[key].style.display = key === view ? 'block' : 'none';
          });
        });
      });

      

const debouncedUpdate = debounce(update, 100);

document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
  .forEach((el) => {
    el.addEventListener('input', debouncedUpdate);
    el.addEventListener('change', debouncedUpdate);
  });

update();
    })();
  </script>


</body></html>