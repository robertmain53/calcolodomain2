<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/shannon-diversity-index" />
    <title>Shannon Diversity Index [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Shannon Diversity Index Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Shannon Diversity Index [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Shannon Diversity Index Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/shannon-diversity-index" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Shannon Diversity Index [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Shannon Diversity Index Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "Shannon Diversity Index Calculator", "item": "https://calcdomain.com/shannon-diversity-index"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Shannon Diversity Index Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Shannon Diversity Index Calculator
              </h1>
              <p class="text-gray-700">
                Compute Shannon–Wiener diversity index (H or H′), species
                richness, evenness, and relative abundances from raw species
                counts or proportions. Supports natural log, log<sub>2</sub>,
                and log<sub>10</sub>.
              </p>
            </header>

            <section aria-labelledby="input-section" class="mb-6">
              <h2 id="input-section" class="text-xl font-semibold mb-3">
                Enter species data
              </h2>

              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Input mode</label
                >
                <div class="flex flex-wrap gap-3">
                  <label class="inline-flex items-center">
                    <input
                      type="radio"
                      name="inputMode"
                      value="counts"
                      class="text-blue-600"
                      checked
                    />
                    <span class="ml-2 text-sm"
                      >Raw counts (individuals per species)</span
                    >
                  </label>
                  <label class="inline-flex items-center">
                    <input
                      type="radio"
                      name="inputMode"
                      value="proportions"
                      class="text-blue-600"
                    />
                    <span class="ml-2 text-sm"
                      >Relative abundances (proportions or %)</span
                    >
                  </label>
                </div>
              </div>

              <div class="mb-4">
                <label
                  for="data-input"
                  class="block text-sm font-medium text-gray-700 mb-1"
                  >Species data</label
                >
                <p class="text-xs text-gray-500 mb-1">
                  Enter one species per line. You can use either:
                  <span class="font-medium">SpeciesName, value</span> or just
                  <span class="font-medium">value</span>.
                </p>
                <p class="text-xs text-gray-500 mb-2">
                  Example (counts):
                  <code class="bg-gray-100 px-1 rounded">Oak, 12</code> ·
                  <code class="bg-gray-100 px-1 rounded">Pine, 8</code> ·
                  <code class="bg-gray-100 px-1 rounded">Birch, 5</code>
                </p>
                <textarea
                  id="data-input"
                  rows="7"
                  class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Species A, 10
Species B, 5
Species C, 3"
                ></textarea>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Logarithm base</label
                  >
                  <select
                    id="log-base"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="e">Natural log (ln)</option>
                    <option value="2">Log base 2 (bits)</option>
                    <option value="10">Log base 10</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Treat values as</label
                  >
                  <select
                    id="proportion-interpretation"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="auto">
                      Auto-detect (0–1 = proportions, &gt;1 = %)
                    </option>
                    <option value="fraction">Fractions (0–1)</option>
                    <option value="percent">Percentages (0–100)</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Only used when input mode is “Relative abundances”.
                  </p>
                </div>
              </div>

              <div class="flex flex-wrap gap-3 mb-2">
                <button
                  id="calculate-btn"
                  class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2 rounded-md"
                >
                  Calculate diversity
                </button>
                <button
                  id="add-row-btn"
                  class="bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm font-medium px-3 py-2 rounded-md"
                >
                  Insert template rows
                </button>
                <button
                  id="clear-btn"
                  class="text-sm text-gray-600 hover:text-gray-800 underline"
                >
                  Clear
                </button>
              </div>
              <p
                id="error-message"
                class="text-sm text-red-600 mt-1 hidden"
              ></p>
            </section>

            <section aria-labelledby="results-section" class="mb-6">
              <h2 id="results-section" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="results-container" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Shannon diversity index
                    </p>
                    <p class="text-2xl font-bold" id="result-h">–</p>
                    <p
                      class="text-xs text-gray-500 mt-1"
                      id="result-h-units"
                    ></p>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Species richness (S)
                    </p>
                    <p class="text-2xl font-bold" id="result-s">–</p>
                    <p class="text-xs text-gray-500 mt-1">
                      Number of species with non-zero abundance.
                    </p>
                  </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Shannon evenness (J)
                    </p>
                    <p class="text-2xl font-bold" id="result-evenness">–</p>
                    <p class="text-xs text-gray-500 mt-1">
                      J = H / ln(S), ranges from 0 (uneven) to 1 (perfectly
                      even).
                    </p>
                  </div>
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-4">
                    <p
                      class="text-xs uppercase tracking-wide text-gray-500 mb-1"
                    >
                      Total individuals (N)
                    </p>
                    <p class="text-2xl font-bold" id="result-n">–</p>
                    <p class="text-xs text-gray-500 mt-1">
                      Sum of counts (or 1.0 if you entered only proportions).
                    </p>
                  </div>
                </div>

                <div id="species-table-wrapper" class="hidden">
                  <h3 class="text-lg font-semibold mt-2 mb-2">
                    Species contributions
                  </h3>
                  <div class="overflow-x-auto">
                    <table
                      class="min-w-full text-sm border border-gray-200 rounded-md overflow-hidden"
                    >
                      <thead class="bg-gray-100">
                        <tr>
                          <th
                            class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                          >
                            Species
                          </th>
                          <th
                            class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                          >
                            Count
                          </th>
                          <th
                            class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                          >
                            pᵢ
                          </th>
                          <th
                            class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                          >
                            pᵢ × log(pᵢ)
                          </th>
                          <th
                            class="px-3 py-2 text-right font-semibold text-gray-700 border-b"
                          >
                            Contribution to H
                          </th>
                        </tr>
                      </thead>
                      <tbody id="species-table-body"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>How to use the Shannon diversity index calculator</h2>
              <ol>
                <li>
                  <strong>Choose input mode</strong>:
                  <ul>
                    <li>
                      <strong>Raw counts</strong> – enter the number of
                      individuals per species.
                    </li>
                    <li>
                      <strong>Relative abundances</strong> – enter proportions
                      (0–1) or percentages (0–100).
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Enter species data</strong>:
                  <ul>
                    <li>One species per line.</li>
                    <li>
                      Format: <code>SpeciesName, value</code> or just
                      <code>value</code>.
                    </li>
                    <li>
                      Blank lines and species with zero abundance are ignored.
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Select the log base</strong>:
                  <ul>
                    <li>
                      <strong>ln</strong> (natural log) – most common in
                      ecology.
                    </li>
                    <li><strong>log₂</strong> – gives diversity in bits.</li>
                    <li>
                      <strong>log₁₀</strong> – less common, but sometimes used.
                    </li>
                  </ul>
                </li>
                <li>
                  Click <strong>“Calculate diversity”</strong> to see:
                  <ul>
                    <li>Shannon index H (or H′)</li>
                    <li>Species richness S</li>
                    <li>Shannon evenness J</li>
                    <li>Total individuals N</li>
                    <li>A breakdown table of each species’ contribution.</li>
                  </ul>
                </li>
              </ol>

              <h2>Shannon diversity index formula</h2>
              <p>
                The Shannon diversity index (also called Shannon–Wiener or
                Shannon–Weaver index) is defined as:
              </p>
              <div class="formula-box">
                <p class="mb-1"><strong>General form</strong></p>
                <p>$$H = -\sum_{i=1}^{S} p_i \log_b(p_i)$$</p>
                <ul>
                  <li>\(H\): Shannon diversity index (H or H′)</li>
                  <li>\(S\): number of species (species richness)</li>
                  <li>\(p_i\): proportion of individuals in species \(i\)</li>
                  <li>\(b\): base of the logarithm (e, 2, or 10)</li>
                </ul>
              </div>

              <p>
                In practice, you usually start from raw counts \(n_i\) for each
                species:
              </p>
              <div class="formula-box">
                <p>$$N = \sum_{i=1}^{S} n_i$$</p>
                <p>$$p_i = \frac{n_i}{N}$$</p>
                <p>
                  $$H = -\sum_{i=1}^{S} \frac{n_i}{N}
                  \log_b\left(\frac{n_i}{N}\right)$$
                </p>
              </div>

              <h3>Species richness and evenness</h3>
              <p>
                <strong>Species richness</strong> is simply the number of
                species with non-zero abundance:
              </p>
              <div class="formula-box">
                <p>$$S = \text{number of species with } n_i &gt; 0$$</p>
              </div>

              <p>
                <strong>Shannon evenness</strong> (also called Pielou’s
                evenness) rescales H to 0–1:
              </p>
              <div class="formula-box">
                <p>$$J = \frac{H}{H_{\max}} = \frac{H}{\log_b(S)}$$</p>
                <ul>
                  <li>\(J = 1\): all species are equally abundant.</li>
                  <li>\(J \to 0\): one or a few species dominate.</li>
                </ul>
              </div>

              <h2>Worked example</h2>
              <p>Suppose you sample a small forest plot and count:</p>
              <ul>
                <li>Species A: 10 individuals</li>
                <li>Species B: 5 individuals</li>
                <li>Species C: 3 individuals</li>
              </ul>

              <p><strong>Step 1 – Total individuals</strong></p>
              <div class="formula-box">
                <p>$$N = 10 + 5 + 3 = 18$$</p>
              </div>

              <p><strong>Step 2 – Proportions</strong></p>
              <div class="formula-box">
                <p>$$p_A = 10/18 \approx 0.556$$</p>
                <p>$$p_B = 5/18 \approx 0.278$$</p>
                <p>$$p_C = 3/18 \approx 0.167$$</p>
              </div>

              <p><strong>Step 3 – Shannon index (using natural log)</strong></p>
              <div class="formula-box">
                <p>
                  $$H = -\left(p_A \ln p_A + p_B \ln p_B + p_C \ln p_C\right)$$
                </p>
                <p>
                  $$\approx -\left(0.556 \ln 0.556 + 0.278 \ln 0.278 + 0.167 \ln
                  0.167\right)$$
                </p>
                <p>$$\approx 0.96 \text{ nats}$$</p>
              </div>

              <p><strong>Step 4 – Richness and evenness</strong></p>
              <div class="formula-box">
                <p>Species richness: \(S = 3\)</p>
                <p>
                  Maximum possible diversity: \(H_{\max} = \ln(3) \approx 1.10\)
                </p>
                <p>
                  Evenness: \(J = H / H_{\max} \approx 0.96 / 1.10 \approx
                  0.87\)
                </p>
              </div>

              <p>
                This community has
                <strong>moderate richness (3 species)</strong> and
                <strong>high evenness (J ≈ 0.87)</strong>, so the Shannon index
                is relatively high for such a small S.
              </p>

              <h2>Interpreting Shannon diversity values</h2>
              <ul>
                <li>
                  <strong>Higher H</strong> → more diverse community (more
                  species and/or more even abundances).
                </li>
                <li>
                  <strong>Lower H</strong> → less diverse (few species or one
                  dominant species).
                </li>
                <li>
                  <strong>Typical ranges</strong>:
                  <ul>
                    <li>
                      H ≈ 0–1: low diversity (e.g., disturbed or highly
                      dominated systems).
                    </li>
                    <li>
                      H ≈ 1–3: moderate diversity (many field studies fall
                      here).
                    </li>
                    <li>
                      H &gt; 3–4: very high diversity (e.g., complex natural
                      communities).
                    </li>
                  </ul>
                </li>
              </ul>
              <p>
                Always interpret H <strong>comparatively</strong> (between
                sites, treatments, or time points) rather than against a
                universal threshold.
              </p>

              <h2>Shannon vs. Simpson diversity index</h2>
              <ul>
                <li>
                  <strong>Shannon index</strong>:
                  <ul>
                    <li>More sensitive to <strong>rare species</strong>.</li>
                    <li>
                      Information-theoretic interpretation (uncertainty of
                      predicting species identity).
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>Simpson index</strong> (and 1 − D, 1/D):
                  <ul>
                    <li>More sensitive to <strong>common species</strong>.</li>
                    <li>
                      Probability-based interpretation (probability that two
                      randomly drawn individuals are different).
                    </li>
                  </ul>
                </li>
              </ul>
              <p>
                For many ecological studies, it is useful to report both Shannon
                and Simpson indices, along with richness and evenness.
              </p>

              <h2>Common pitfalls and best practices</h2>
              <ul>
                <li>
                  <strong>Zero counts</strong>: species with \(n_i = 0\) are
                  excluded from the sum (since \(p_i = 0\) and \(0 \log 0\) is
                  defined as 0 by limit).
                </li>
                <li>
                  <strong>Sampling effort</strong>: differences in H can reflect
                  sampling intensity as well as true ecological differences. Try
                  to standardize effort or use rarefaction.
                </li>
                <li>
                  <strong>Log base consistency</strong>: always use the same log
                  base when comparing communities.
                </li>
                <li>
                  <strong>Taxonomic resolution</strong>: mixing species, genera,
                  or OTUs can change H; be consistent across samples.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>What is the Shannon diversity index?</h3>
              <p>
                The Shannon diversity index is a widely used biodiversity metric
                that combines species richness and evenness into a single
                number. It comes from information theory and measures the
                uncertainty in predicting the species identity of a randomly
                chosen individual from the community.
              </p>

              <h3>What is a good Shannon diversity index value?</h3>
              <p>
                There is no universal “good” value. Instead, compare H between
                sites, treatments, or time points. Higher H means higher
                diversity in that context. For many terrestrial ecosystems,
                values between 1.5 and 3.5 (using natural log) are common.
              </p>

              <h3>Should I use ln, log₂, or log₁₀?</h3>
              <p>
                Most ecological papers use the natural logarithm (ln). Using
                log₂ or log₁₀ simply rescales H by a constant factor; relative
                comparisons are unchanged. This calculator lets you choose the
                base but always use the same base for all samples in a study.
              </p>

              <h3>Can I use relative abundances instead of counts?</h3>
              <p>
                Yes. The formula only needs proportions \(p_i\). If you enter
                counts, the calculator converts them to proportions. If you
                enter relative abundances that already sum to 1 (or 100%), it
                uses them directly.
              </p>

              <h3>How many individuals do I need to sample?</h3>
              <p>
                There is no single rule, but small sample sizes can
                underestimate diversity and bias H. Use species accumulation
                curves or rarefaction to assess whether your sampling captured
                most of the diversity.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Input mode Raw counts (individuals per species)</li><li>Relative abundances (proportions or %)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Shannon, Diversity, Index, Input mode Raw counts (individuals per species), Relative abundances (proportions or %).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Input mode Raw counts (individuals per species)</li><li>Relative abundances (proportions or %)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; Algebra Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/statistics"
                  class="text-blue-600 hover:underline"
                  >Statistics</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mean-calculator-median-mode"
                  class="text-blue-600 hover:underline"
                  >Mean, Median, Mode &amp; Range</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/binomial-distribution"
                  class="text-blue-600 hover:underline"
                  >Binomial Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/poisson-distribution"
                  class="text-blue-600 hover:underline"
                  >Poisson Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/normal-distribution"
                  class="text-blue-600 hover:underline"
                  >Normal Distribution (Gaussian)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hypergeometric-distribution"
                  class="text-blue-600 hover:underline"
                  >Hypergeometric Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sample-size"
                  class="text-blue-600 hover:underline"
                  >Sample Size Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/margin-of-error"
                  class="text-blue-600 hover:underline"
                  >Margin of Error</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/p-value"
                  class="text-blue-600 hover:underline"
                  >p-Value Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Explore Math &amp; Conversions
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/categories/math-conversions"
                  class="text-blue-600 hover:underline"
                  >Math &amp; Conversions Home</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subcategories/math-conversions-measurement-unit-conversions"
                  class="text-blue-600 hover:underline"
                  >Measurement Unit Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subcategories/geometry"
                  class="text-blue-600 hover:underline"
                  >Geometry Calculators</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/subcategories/core-math-algebra"
                  class="text-blue-600 hover:underline"
                  >Core Math &amp; Algebra</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Mobile menu toggle
      document
        .getElementById("mobile-menu-toggle")
        ?.addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          if (!menu) return;
          const isHidden = menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !isHidden);
          this.setAttribute("aria-expanded", String(isHidden));
        });

      function parseData(inputText, mode, proportionInterpretation) {
        const lines = inputText.split(/\r?\n/);
        const species = [];
        for (let rawLine of lines) {
          const line = rawLine.trim();
          if (!line) continue;

          let name = "";
          let valueStr = "";

          const parts = line.split(",");
          if (parts.length === 1) {
            valueStr = parts[0].trim();
          } else {
            name = parts[0].trim();
            valueStr = parts.slice(1).join(",").trim();
          }

          if (!valueStr) continue;
          const value = parseFloat(valueStr);
          if (!isFinite(value) || value < 0) continue;
          if (value === 0) continue;

          if (!name) {
            name = "Species " + (species.length + 1);
          }

          species.push({ name, value });
        }

        if (species.length === 0) {
          throw new Error(
            "Please enter at least one species with a positive value."
          );
        }

        let total = 0;
        if (mode === "counts") {
          total = species.reduce((sum, s) => sum + s.value, 0);
          if (total <= 0) {
            throw new Error("Total count must be greater than zero.");
          }
          species.forEach((s) => {
            s.count = s.value;
            s.p = s.value / total;
          });
        } else {
          // proportions mode
          let interp = proportionInterpretation;
          if (interp === "auto") {
            const maxVal = Math.max(...species.map((s) => s.value));
            interp = maxVal <= 1 ? "fraction" : "percent";
          }

          if (interp === "percent") {
            species.forEach((s) => {
              s.p = s.value / 100;
            });
          } else {
            species.forEach((s) => {
              s.p = s.value;
            });
          }

          const sumP = species.reduce((sum, s) => sum + s.p, 0);
          if (sumP <= 0) {
            throw new Error("Sum of proportions must be greater than zero.");
          }
          // Normalize to sum to 1
          species.forEach((s) => {
            s.p = s.p / sumP;
            s.count = NaN; // unknown
          });
          total = 1.0;
        }

        // Filter any numerical noise
        species.forEach((s) => {
          if (s.p < 0) s.p = 0;
        });

        return { species, total };
      }

      function computeShannon(species, logBase) {
        let logFn;
        let units;
        if (logBase === "2") {
          logFn = (x) => Math.log(x) / Math.log(2);
          units = "bits (log₂)";
        } else if (logBase === "10") {
          logFn = (x) => Math.log10(x);
          units = "log₁₀ units";
        } else {
          logFn = (x) => Math.log(x);
          units = "nats (ln)";
        }

        let sum = 0;
        const details = [];
        for (const s of species) {
          const p = s.p;
          if (p <= 0) {
            details.push({ ...s, term: 0, contrib: 0 });
            continue;
          }
          const term = p * logFn(p); // p * log(p)
          sum += term;
          details.push({ ...s, term, contrib: -term });
        }
        const H = -sum;
        const S = species.length;
        let evenness = null;
        if (S > 1) {
          const Hmax = logFn(S);
          if (Hmax > 0) {
            evenness = H / Hmax;
          }
        }
        return { H, S, evenness, units, details };
      }

      function formatNumber(x, digits = 4) {
        if (!isFinite(x)) return "–";
        if (Math.abs(x) >= 10000 || (Math.abs(x) > 0 && Math.abs(x) < 1e-4)) {
          return x.toExponential(3);
        }
        return x.toFixed(digits).replace(/\.?0+$/, "");
      }

      function updateResults(result, total, mode) {
        const hEl = document.getElementById("result-h");
        const sEl = document.getElementById("result-s");
        const jEl = document.getElementById("result-evenness");
        const nEl = document.getElementById("result-n");
        const hUnitsEl = document.getElementById("result-h-units");
        const tableWrapper = document.getElementById("species-table-wrapper");
        const tbody = document.getElementById("species-table-body");

        hEl.textContent = formatNumber(result.H, 4);
        sEl.textContent = result.S.toString();
        nEl.textContent =
          mode === "counts" ? formatNumber(total, 4) : "1.0 (normalized)";

        if (result.evenness === null || !isFinite(result.evenness)) {
          jEl.textContent = "–";
        } else {
          jEl.textContent = formatNumber(result.evenness, 3);
        }
        hUnitsEl.textContent = "Using " + result.units + ".";

        // Build table
        tbody.innerHTML = "";
        result.details.forEach((d) => {
          const tr = document.createElement("tr");
          tr.className = "border-t";

          const tdName = document.createElement("td");
          tdName.className = "px-3 py-1.5 text-left";
          tdName.textContent = d.name;

          const tdCount = document.createElement("td");
          tdCount.className = "px-3 py-1.5 text-right";
          tdCount.textContent =
            mode === "counts" ? formatNumber(d.count, 4) : "–";

          const tdP = document.createElement("td");
          tdP.className = "px-3 py-1.5 text-right";
          tdP.textContent = formatNumber(d.p, 4);

          const tdTerm = document.createElement("td");
          tdTerm.className = "px-3 py-1.5 text-right";
          tdTerm.textContent = formatNumber(d.term, 5);

          const tdContrib = document.createElement("td");
          tdContrib.className = "px-3 py-1.5 text-right";
          tdContrib.textContent = formatNumber(d.contrib, 5);

          tr.appendChild(tdName);
          tr.appendChild(tdCount);
          tr.appendChild(tdP);
          tr.appendChild(tdTerm);
          tr.appendChild(tdContrib);
          tbody.appendChild(tr);
        });

        tableWrapper.classList.remove("hidden");
      }

      document
        .getElementById("calculate-btn")
        ?.addEventListener("click", () => {
          const input = document.getElementById("data-input").value;
          const mode =
            document.querySelector('input[name="inputMode"]:checked')?.value ||
            "counts";
          const logBase = document.getElementById("log-base").value;
          const propInterp = document.getElementById(
            "proportion-interpretation"
          ).value;
          const errorEl = document.getElementById("error-message");

          errorEl.classList.add("hidden");
          errorEl.textContent = "";

          try {
            const { species, total } = parseData(input, mode, propInterp);
            const result = computeShannon(species, logBase);
            updateResults(result, total, mode);
          } catch (e) {
            errorEl.textContent =
              e.message ||
              "Unable to compute Shannon index. Please check your input.";
            errorEl.classList.remove("hidden");
          }
        });

      document.getElementById("add-row-btn")?.addEventListener("click", () => {
        const textarea = document.getElementById("data-input");
        const example = `Species A, 10
Species B, 5
Species C, 3`;
        if (!textarea.value.trim()) {
          textarea.value = example;
        } else {
          textarea.value = textarea.value.replace(/\s*$/, "\n") + example;
        }
      });

      document.getElementById("clear-btn")?.addEventListener("click", () => {
        document.getElementById("data-input").value = "";
        document.getElementById("error-message").classList.add("hidden");
        document.getElementById("error-message").textContent = "";
        document.getElementById("result-h").textContent = "–";
        document.getElementById("result-s").textContent = "–";
        document.getElementById("result-evenness").textContent = "–";
        document.getElementById("result-n").textContent = "–";
        document
          .getElementById("species-table-wrapper")
          .classList.add("hidden");
        document.getElementById("species-table-body").innerHTML = "";
        document.getElementById("result-h-units").textContent = "";
      });

      // Initialize with a small example
      document.addEventListener("DOMContentLoaded", () => {
        const textarea = document.getElementById("data-input");
        if (textarea && !textarea.value.trim()) {
          textarea.value = "Species A, 10\nSpecies B, 5\nSpecies C, 3";
        }
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
