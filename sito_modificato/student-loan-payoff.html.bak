<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/student-loan-payoff" />
    <title>Student Loan Payoff Calculator: [Must-See 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Student Loan Payoff Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Student Loan Payoff Calculator: [Must-See 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Student Loan Payoff Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/student-loan-payoff" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Student Loan Payoff Calculator: [Must-See 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Student Loan Payoff Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Loans &amp; Debt Calculators", "item": "https://calcdomain.com/subcategories/finance-loans-debt"}, {"@type": "ListItem", "position": 4, "name": "Student Loan Payoff Calculator", "item": "https://calcdomain.com/student-loan-payoff"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/finance-loans-debt" class="text-blue-600 hover:underline">Loans &amp;amp; Debt Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Student Loan Payoff Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Student Loan Payoff Calculator
              </h1>
              <p class="text-gray-600">
                Model different payoff strategies, compare extra payments, and
                see exactly when you can become student-debt free.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Student loan payoff planner
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-6">
                <!-- Loan basics -->
                <div>
                  <h3 class="font-semibold mb-3">Loan details</h3>
                  <div class="space-y-3">
                    <div>
                      <label
                        for="loanBalance"
                        class="block text-sm font-medium text-gray-700"
                        >Current balance</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                          >$</span
                        >
                        <input
                          id="loanBalance"
                          type="number"
                          min="0"
                          step="0.01"
                          class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                          value="35000"
                        />
                      </div>
                    </div>

                    <div>
                      <label
                        for="interestRate"
                        class="block text-sm font-medium text-gray-700"
                        >Interest rate (APR)</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <input
                          id="interestRate"
                          type="number"
                          min="0"
                          step="0.01"
                          class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                          value="5.5"
                        />
                        <span
                          class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                          >%</span
                        >
                      </div>
                    </div>

                    <div>
                      <label
                        for="graceMonths"
                        class="block text-sm font-medium text-gray-700"
                        >Months until repayment starts (optional)</label
                      >
                      <input
                        id="graceMonths"
                        type="number"
                        min="0"
                        step="1"
                        class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                        value="0"
                      />
                      <p class="mt-1 text-xs text-gray-500">
                        Assumes interest accrues but no payments during this
                        period.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Strategy -->
                <div>
                  <h3 class="font-semibold mb-3">Repayment strategy</h3>
                  <div class="space-y-3">
                    <fieldset>
                      <legend
                        class="block text-sm font-medium text-gray-700 mb-1"
                      >
                        Mode
                      </legend>
                      <div class="flex flex-wrap gap-2 text-sm">
                        <button
                          type="button"
                          data-mode="payment"
                          class="mode-btn px-3 py-1 rounded-full border border-blue-500 text-blue-600 bg-blue-50"
                        >
                          Known monthly payment
                        </button>
                        <button
                          type="button"
                          data-mode="term"
                          class="mode-btn px-3 py-1 rounded-full border border-gray-300 text-gray-700 bg-white"
                        >
                          Target payoff time
                        </button>
                      </div>
                    </fieldset>

                    <div id="paymentKnownGroup">
                      <label
                        for="monthlyPayment"
                        class="block text-sm font-medium text-gray-700"
                        >Required monthly payment</label
                      >
                      <div class="mt-1 flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                          >$</span
                        >
                        <input
                          id="monthlyPayment"
                          type="number"
                          min="0"
                          step="0.01"
                          class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                          value="380"
                        />
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        Enter your current required payment from your servicer.
                      </p>
                    </div>

                    <div id="targetTermGroup" class="hidden">
                      <label class="block text-sm font-medium text-gray-700"
                        >Target payoff time</label
                      >
                      <div class="mt-1 grid grid-cols-2 gap-2">
                        <div>
                          <label
                            for="targetYears"
                            class="block text-xs text-gray-500"
                            >Years</label
                          >
                          <input
                            id="targetYears"
                            type="number"
                            min="0"
                            step="1"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="10"
                          />
                        </div>
                        <div>
                          <label
                            for="targetMonths"
                            class="block text-xs text-gray-500"
                            >Additional months</label
                          >
                          <input
                            id="targetMonths"
                            type="number"
                            min="0"
                            max="11"
                            step="1"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="0"
                          />
                        </div>
                      </div>
                      <p class="mt-1 text-xs text-gray-500">
                        We will compute the monthly payment needed to hit this
                        payoff time.
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Extra payments -->
              <div class="border-t border-gray-200 pt-4 mt-4">
                <h3 class="font-semibold mb-3">Extra payments (optional)</h3>
                <div class="grid md:grid-cols-3 gap-4">
                  <div>
                    <label
                      for="extraMonthly"
                      class="block text-sm font-medium text-gray-700"
                      >Extra monthly payment</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="extraMonthly"
                        type="number"
                        min="0"
                        step="1"
                        class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                        value="100"
                      />
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Added to every monthly payment.
                    </p>
                  </div>

                  <div>
                    <label
                      for="oneTimeExtra"
                      class="block text-sm font-medium text-gray-700"
                      >One-time lump sum</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >$</span
                      >
                      <input
                        id="oneTimeExtra"
                        type="number"
                        min="0"
                        step="1"
                        class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                        value="0"
                      />
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Applied with the first payment.
                    </p>
                  </div>

                  <div>
                    <label
                      for="extraFrequency"
                      class="block text-sm font-medium text-gray-700"
                      >Extra payment strategy</label
                    >
                    <select
                      id="extraFrequency"
                      class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm"
                    >
                      <option value="none">No extra payments</option>
                      <option value="monthly" selected>
                        Extra monthly only
                      </option>
                      <option value="lump">Lump sum only</option>
                      <option value="both">Monthly + lump sum</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      You can compare with and without extra payments below.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Income-based quick estimate -->
              <details
                class="mt-6 border border-blue-100 rounded-md p-4 bg-blue-50/40"
              >
                <summary
                  class="cursor-pointer text-sm font-semibold text-blue-700"
                >
                  Income-based repayment estimate (optional)
                </summary>
                <div class="mt-3 grid md:grid-cols-3 gap-4 text-sm">
                  <div>
                    <label
                      for="annualIncome"
                      class="block text-sm font-medium text-gray-700"
                      >Annual income</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-xs"
                        >$</span
                      >
                      <input
                        id="annualIncome"
                        type="number"
                        min="0"
                        step="1000"
                        class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                        value="55000"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      for="familySize"
                      class="block text-sm font-medium text-gray-700"
                      >Family size</label
                    >
                    <input
                      id="familySize"
                      type="number"
                      min="1"
                      step="1"
                      class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                      value="1"
                    />
                  </div>
                  <div>
                    <label
                      for="idrPercent"
                      class="block text-sm font-medium text-gray-700"
                      >% of discretionary income</label
                    >
                    <div class="mt-1 flex rounded-md shadow-sm">
                      <input
                        id="idrPercent"
                        type="number"
                        min="0"
                        step="0.5"
                        class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                        value="10"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
                        >%</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Typical IDR plans use 5–15% depending on the program.
                    </p>
                  </div>
                  <div class="md:col-span-3">
                    <button
                      id="estimateIdrBtn"
                      type="button"
                      class="inline-flex items-center px-3 py-1.5 rounded-md bg-blue-600 text-white text-xs font-medium hover:bg-blue-700"
                    >
                      Estimate IDR monthly payment
                    </button>
                    <p
                      id="idrEstimateOutput"
                      class="mt-2 text-xs text-gray-700"
                    ></p>
                  </div>
                </div>
              </details>

              <!-- Actions -->
              <div class="mt-6 flex flex-wrap gap-3 items-center">
                <button
                  id="calculateBtn"
                  type="button"
                  class="inline-flex items-center px-5 py-2.5 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700"
                >
                  Calculate payoff
                </button>
                <button
                  id="resetBtn"
                  type="button"
                  class="inline-flex items-center px-3 py-2 rounded-md border border-gray-300 text-gray-700 text-sm hover:bg-gray-50"
                >
                  Reset
                </button>
                <p id="calcError" class="text-sm text-red-600"></p>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-4">
                Results
              </h2>

              <div id="resultsContainer" class="space-y-4">
                <!-- Summary cards -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Baseline (no extra payments)
                      <span
                        class="text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700"
                        >Scenario A</span
                      >
                    </h3>
                    <dl class="text-sm space-y-1">
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Monthly payment</dt>
                        <dd id="baseMonthlyPayment" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Payoff time</dt>
                        <dd id="basePayoffTime" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Payoff date</dt>
                        <dd id="basePayoffDate" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Total interest paid</dt>
                        <dd id="baseTotalInterest" class="font-medium">–</dd>
                      </div>
                    </dl>
                  </div>

                  <div
                    class="border border-blue-200 rounded-lg p-4 bg-blue-50/40"
                  >
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      With extra payments
                      <span
                        class="text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-800"
                        >Scenario B</span
                      >
                    </h3>
                    <dl class="text-sm space-y-1">
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Monthly payment</dt>
                        <dd id="extraMonthlyPayment" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Payoff time</dt>
                        <dd id="extraPayoffTime" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Payoff date</dt>
                        <dd id="extraPayoffDate" class="font-medium">–</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="text-gray-600">Total interest paid</dt>
                        <dd id="extraTotalInterest" class="font-medium">–</dd>
                      </div>
                    </dl>
                  </div>
                </div>

                <!-- Savings comparison -->
                <div
                  class="border border-green-200 rounded-lg p-4 bg-green-50/60"
                >
                  <h3 class="font-semibold mb-2">Impact of extra payments</h3>
                  <dl class="text-sm space-y-1">
                    <div class="flex justify-between">
                      <dt class="text-gray-700">Time saved</dt>
                      <dd id="timeSaved" class="font-semibold text-green-700">
                        –
                      </dd>
                    </div>
                    <div class="flex justify-between">
                      <dt class="text-gray-700">Interest saved</dt>
                      <dd
                        id="interestSaved"
                        class="font-semibold text-green-700"
                      >
                        –
                      </dd>
                    </div>
                  </dl>
                  <p class="mt-2 text-xs text-gray-600">
                    All results are estimates based on fixed-rate amortization
                    and assume payments are made on time every month.
                  </p>
                </div>

                <!-- Amortization table -->
                <details class="mt-4">
                  <summary
                    class="cursor-pointer text-sm font-semibold text-gray-800"
                  >
                    Show amortization schedule (Scenario B)
                  </summary>
                  <div
                    class="mt-3 max-h-80 overflow-y-auto border border-gray-200 rounded"
                  >
                    <table class="min-w-full text-xs">
                      <thead class="bg-gray-50 sticky top-0">
                        <tr>
                          <th
                            class="px-2 py-1 text-left font-semibold text-gray-700 border-b"
                          >
                            #
                          </th>
                          <th
                            class="px-2 py-1 text-right font-semibold text-gray-700 border-b"
                          >
                            Payment
                          </th>
                          <th
                            class="px-2 py-1 text-right font-semibold text-gray-700 border-b"
                          >
                            Interest
                          </th>
                          <th
                            class="px-2 py-1 text-right font-semibold text-gray-700 border-b"
                          >
                            Principal
                          </th>
                          <th
                            class="px-2 py-1 text-right font-semibold text-gray-700 border-b"
                          >
                            Balance
                          </th>
                        </tr>
                      </thead>
                      <tbody id="amortizationBody"></tbody>
                    </table>
                  </div>
                </details>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this student loan payoff calculator works</h2>
              <p>
                This tool uses standard loan amortization math to estimate how
                long it will take to pay off your student loans and how much
                interest you will pay along the way. It supports:
              </p>
              <ul>
                <li>Fixed-rate loans with a known monthly payment</li>
                <li>Target payoff dates (we compute the required payment)</li>
                <li>Extra monthly payments and one-time lump sums</li>
                <li>A quick income-based repayment (IDR) payment estimate</li>
              </ul>

              <h3>1. Monthly payment formula</h3>
              <p>
                For a fixed-rate loan with balance \(P\), monthly interest rate
                \(r\), and number of payments \(n\), the standard payment is:
              </p>
              <div class="formula-box">
                <p>\[ M = P \cdot \frac{r(1+r)^n}{(1+r)^n - 1} \]</p>
                <p class="text-sm text-gray-600">where:</p>
                <ul class="text-sm text-gray-700">
                  <li>\(M\) = monthly payment</li>
                  <li>\(P\) = current principal (loan balance)</li>
                  <li>\(r\) = monthly interest rate (APR ÷ 12)</li>
                  <li>\(n\) = total number of monthly payments</li>
                </ul>
              </div>

              <h3>2. Payoff time from a known payment</h3>
              <p>
                If you already know your monthly payment \(M\), we can rearrange
                the formula to solve for the number of months \(n\):
              </p>
              <div class="formula-box">
                <p>
                  \[ n = \frac{\ln\left(\frac{M}{M - rP}\right)}{\ln(1+r)} \]
                </p>
              </div>
              <p>
                The calculator uses this to estimate your payoff time when you
                enter your current payment.
              </p>

              <h3>3. How extra payments change your payoff date</h3>
              <p>
                Extra payments are applied directly to principal after the
                required interest is paid. This reduces the balance faster,
                which in turn reduces the interest charged in future months.
              </p>
              <p>In each month, we:</p>
              <ol>
                <li>
                  Accrue interest: \( \text{interest} = \text{balance} \times r
                  \)
                </li>
                <li>Apply your scheduled payment (and any extra payment)</li>
                <li>
                  Reduce the balance by the principal portion of the payment
                </li>
              </ol>
              <p>
                We repeat this process until the balance reaches zero, tracking
                the total interest and number of months.
              </p>

              <h2>How to use the calculator effectively</h2>
              <h3>Step 1 – Gather your loan information</h3>
              <ul>
                <li>
                  Current total balance (or each loan’s balance if you want to
                  model them separately)
                </li>
                <li>Interest rate (APR) for each loan</li>
                <li>Your required monthly payment</li>
              </ul>

              <h3>Step 2 – Choose a strategy</h3>
              <p>Common approaches include:</p>
              <ul>
                <li>
                  <strong>Minimum payment only:</strong> frees up cash now but
                  costs more interest over time.
                </li>
                <li>
                  <strong>Fixed extra monthly amount:</strong> consistent
                  progress and predictable budgeting.
                </li>
                <li>
                  <strong>Occasional lump sums:</strong> use bonuses, tax
                  refunds, or side income to knock down the balance.
                </li>
              </ul>

              <h3>Step 3 – Compare scenarios</h3>
              <p>
                Run the calculator with no extra payments (Scenario A), then add
                extra payments (Scenario B). Compare:
              </p>
              <ul>
                <li>Payoff dates</li>
                <li>Total interest paid</li>
                <li>Months or years saved</li>
              </ul>
              <p>
                Even small extra payments can shave years off your payoff time.
              </p>

              <h2>Snowball vs. avalanche for multiple loans</h2>
              <p>
                If you have several student loans, you can use this calculator
                to approximate two popular strategies:
              </p>
              <ul>
                <li>
                  <strong>Debt snowball:</strong> focus extra payments on the
                  smallest balance first for quick wins.
                </li>
                <li>
                  <strong>Debt avalanche:</strong> focus extra payments on the
                  highest interest rate first to minimize total interest.
                </li>
              </ul>
              <p>
                To compare, run the calculator for the loan you would target in
                each strategy and see how much interest you save and how quickly
                that loan disappears.
              </p>

              <h2>Limitations and important notes</h2>
              <ul>
                <li>
                  This tool assumes a fixed interest rate and regular monthly
                  payments.
                </li>
                <li>
                  It does not modelment, forbearance, changing interest
                  rates, or capitalization events.
                </li>
                <li>
                  Income-driven repayment plans and forgiveness programs have
                  complex rules that vary by country.
                </li>
                <li>
                  For official projections and legal obligations, always check
                  with your loan servicer or government site (e.g.,
                  studentaid.gov or gov.uk).
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-4">
                Student loan payoff FAQ
              </h2>
              <div class="space-y-3" id="faq-container">
                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800 text-sm"
                      >What is a realistic extra payment amount?</span
                    >
                    <span class="text-gray-500 text-xs">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Start with your budget. Many borrowers aim for an extra
                    5–20% of their required payment. For example, if your
                    payment is $380, an extra $40–$75 per month can still make a
                    meaningful difference over time. Use the calculator to see
                    how different amounts change your payoff date and interest
                    cost.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800 text-sm"
                      >Should I pay off student loans early or invest
                      instead?</span
                    >
                    <span class="text-gray-500 text-xs">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    It depends on your interest rate, risk tolerance, and goals.
                    If your loan rate is high (e.g., 7–8%+), paying it down is
                    often a strong, low-risk “return.” If your rate is low and
                    you have access to tax-advantaged accounts (like retirement
                    plans), investing extra money may make sense. Many people
                    split the difference: pay more than the minimum while also
                    investing for the future.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800 text-sm"
                      >How often should I recalculate my payoff plan?</span
                    >
                    <span class="text-gray-500 text-xs">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Revisit your plan whenever your income, expenses, or
                    interest rates change, or at least once or twice a year.
                    Updating your numbers helps you stay realistic and
                    motivated, and lets you take advantage of raises or
                    windfalls to accelerate your payoff.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800 text-sm"
                      >Does making biweekly payments help?</span
                    >
                    <span class="text-gray-500 text-xs">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Biweekly payments effectively add one extra full payment per
                    year (26 half-payments = 13 monthly payments). This can
                    reduce interest and shorten your payoff time. You can
                    approximate this in the calculator by increasing your
                    monthly payment to reflect the extra payment spread over 12
                    months.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Student, Loan, Payoff.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Student, Loan, Payoff.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>

        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More loan & debt tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization"
                  class="text-blue-600 hover:underline"
                  >Loan Amortization Schedule</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-payoff"
                  class="text-blue-600 hover:underline"
                  >Loan Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-snowball-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Snowball Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-avalanche-calculator"
                  class="text-blue-600 hover:underline"
                  >Debt Avalanche Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/credit-card-payoff-calculator"
                  class="text-blue-600 hover:underline"
                  >Credit Card Payoff</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt-to-Income (DTI) Ratio</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Related finance calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/50-30-20-budget"
                  class="text-blue-600 hover:underline"
                  >50/30/20 Budget</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/paycheck"
                  class="text-blue-600 hover:underline"
                  >Paycheck Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/inflation"
                  class="text-blue-600 hover:underline"
                  >Inflation Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Mode toggle
      const modeButtons = document.querySelectorAll(".mode-btn");
      const paymentKnownGroup = document.getElementById("paymentKnownGroup");
      const targetTermGroup = document.getElementById("targetTermGroup");

      modeButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          modeButtons.forEach((b) => {
            b.classList.remove(
              "border-blue-500",
              "text-blue-600",
              "bg-blue-50"
            );
            b.classList.add("border-gray-300", "text-gray-700", "bg-white");
          });
          btn.classList.add("border-blue-500", "text-blue-600", "bg-blue-50");
          btn.classList.remove("border-gray-300", "text-gray-700", "bg-white");

          const mode = btn.getAttribute("data-mode");
          if (mode === "payment") {
            paymentKnownGroup.classList.remove("hidden");
            targetTermGroup.classList.add("hidden");
          } else {
            paymentKnownGroup.classList.add("hidden");
            targetTermGroup.classList.remove("hidden");
          }
        });
      });

      function formatCurrency(value) {
        if (!isFinite(value)) return "–";
        return (
          "$" +
          value.toLocaleString(undefined, {
            maximumFractionDigits: 2,
            minimumFractionDigits: 2,
          })
        );
      }

      function formatMonthsToYearsMonths(months) {
        if (!isFinite(months) || months <= 0) return "–";
        const totalMonths = Math.round(months);
        const years = Math.floor(totalMonths / 12);
        const remMonths = totalMonths % 12;
        const parts = [];
        if (years > 0) parts.push(years + " year" + (years > 1 ? "s" : ""));
        if (remMonths > 0)
          parts.push(remMonths + " month" + (remMonths > 1 ? "s" : ""));
        return parts.join(" ");
      }

      function addMonthsToDate(date, months) {
        const d = new Date(date.getTime());
        const day = d.getDate();
        d.setMonth(d.getMonth() + months);
        if (d.getDate() < day) {
          d.setDate(0);
        }
        return d;
      }

      function formatDate(date) {
        if (!(date instanceof Date) || isNaN(date)) return "–";
        return date.toLocaleDateString(undefined, {
          year: "numeric",
          month: "short",
        });
      }

      function computePaymentFromTerm(P, annualRate, years, months) {
        const n = years * 12 + months;
        if (n <= 0) return NaN;
        const r = annualRate / 100 / 12;
        if (r === 0) return P / n;
        return (P * (r * Math.pow(1 + r, n))) / (Math.pow(1 + r, n) - 1);
      }

      function computeTermFromPayment(P, annualRate, M) {
        const r = annualRate / 100 / 12;
        if (M <= P * r) return Infinity;
        if (r === 0) return P / M;
        const n = Math.log(M / (M - r * P)) / Math.log(1 + r);
        return n;
      }

      function simulateAmortization(
        P,
        annualRate,
        monthlyPayment,
        options = {}
      ) {
        const r = annualRate / 100 / 12;
        let balance = P;
        let month = 0;
        let totalInterest = 0;
        const schedule = [];
        const maxMonths = 1200; // safety cap (100 years)

        const { extraMonthly = 0, lumpSum = 0, applyLump = false } = options;

        while (balance > 0 && month < maxMonths) {
          month++;
          const interest = balance * r;
          let payment = monthlyPayment;

          if (applyLump && month === 1 && lumpSum > 0) {
            payment += lumpSum;
          }

          if (extraMonthly > 0) {
            payment += extraMonthly;
          }

          if (payment <= interest && balance > 0) {
            // Payment too small to cover interest: negative amortization
            return { months: Infinity, totalInterest: Infinity, schedule: [] };
          }

          let principal = payment - interest;
          if (principal > balance) {
            principal = balance;
            payment = interest + principal;
          }

          balance -= principal;
          totalInterest += interest;

          schedule.push({
            month,
            payment,
            interest,
            principal,
            balance: Math.max(balance, 0),
          });

          if (balance <= 0.01) {
            balance = 0;
            break;
          }
        }

        return { months: month, totalInterest, schedule };
      }

      const calculateBtn = document.getElementById("calculateBtn");
      const resetBtn = document.getElementById("resetBtn");
      const calcError = document.getElementById("calcError");

      calculateBtn.addEventListener("click", () => {
        calcError.textContent = "";

        const P = parseFloat(document.getElementById("loanBalance").value);
        const annualRate = parseFloat(
          document.getElementById("interestRate").value
        );
        const graceMonths = parseInt(
          document.getElementById("graceMonths").value || "0",
          10
        );

        if (!isFinite(P) || P <= 0) {
          calcError.textContent = "Please enter a valid loan balance.";
          return;
        }
        if (!isFinite(annualRate) || annualRate < 0) {
          calcError.textContent = "Please enter a valid interest rate.";
          return;
        }

        const activeModeBtn = Array.from(modeButtons).find((b) =>
          b.classList.contains("border-blue-500")
        );
        const mode = activeModeBtn
          ? activeModeBtn.getAttribute("data-mode")
          : "payment";

        let baseMonthlyPayment;
        if (mode === "payment") {
          baseMonthlyPayment = parseFloat(
            document.getElementById("monthlyPayment").value
          );
          if (!isFinite(baseMonthlyPayment) || baseMonthlyPayment <= 0) {
            calcError.textContent = "Please enter a valid monthly payment.";
            return;
          }
        } else {
          const targetYears = parseInt(
            document.getElementById("targetYears").value || "0",
            10
          );
          const targetMonths = parseInt(
            document.getElementById("targetMonths").value || "0",
            10
          );
          baseMonthlyPayment = computePaymentFromTerm(
            P,
            annualRate,
            targetYears,
            targetMonths
          );
          if (!isFinite(baseMonthlyPayment) || baseMonthlyPayment <= 0) {
            calcError.textContent =
              "Target payoff time is not compatible with this balance and rate.";
            return;
          }
          document.getElementById("monthlyPayment").value =
            baseMonthlyPayment.toFixed(2);
        }

        const extraMonthly =
          parseFloat(document.getElementById("extraMonthly").value) || 0;
        const oneTimeExtra =
          parseFloat(document.getElementById("oneTimeExtra").value) || 0;
        const extraFrequency = document.getElementById("extraFrequency").value;

        // Adjust balance for grace period interest
        let effectiveBalance = P;
        if (graceMonths > 0 && annualRate > 0) {
          const r = annualRate / 100 / 12;
          effectiveBalance = P * Math.pow(1 + r, graceMonths);
        }

        // Baseline scenario (no extra payments)
        const baseTerm = computeTermFromPayment(
          effectiveBalance,
          annualRate,
          baseMonthlyPayment
        );
        const baseSim = simulateAmortization(
          effectiveBalance,
          annualRate,
          baseMonthlyPayment,
          {
            extraMonthly: 0,
            lumpSum: 0,
            applyLump: false,
          }
        );

        // Extra payments scenario
        let extraOpts = { extraMonthly: 0, lumpSum: 0, applyLump: false };
        if (extraFrequency === "monthly") {
          extraOpts.extraMonthly = extraMonthly;
        } else if (extraFrequency === "lump") {
          extraOpts.lumpSum = oneTimeExtra;
          extraOpts.applyLump = true;
        } else if (extraFrequency === "both") {
          extraOpts.extraMonthly = extraMonthly;
          extraOpts.lumpSum = oneTimeExtra;
          extraOpts.applyLump = true;
        }

        const extraSim = simulateAmortization(
          effectiveBalance,
          annualRate,
          baseMonthlyPayment,
          extraOpts
        );

        // Handle impossible scenarios
        if (!isFinite(baseTerm) || !isFinite(baseSim.months)) {
          calcError.textContent =
            "Your monthly payment is too low to cover accruing interest. Increase the payment amount.";
          return;
        }

        // Dates
        const today = new Date();
        const startDate = addMonthsToDate(today, graceMonths);
        const basePayoffDate = addMonthsToDate(startDate, baseSim.months);
        const extraPayoffDate = addMonthsToDate(startDate, extraSim.months);

        // Update baseline UI
        document.getElementById("baseMonthlyPayment").textContent =
          formatCurrency(baseMonthlyPayment);
        document.getElementById("basePayoffTime").textContent =
          formatMonthsToYearsMonths(baseSim.months);
        document.getElementById("basePayoffDate").textContent =
          formatDate(basePayoffDate);
        document.getElementById("baseTotalInterest").textContent =
          formatCurrency(baseSim.totalInterest);

        // Update extra scenario UI
        const extraMonthlyTotal =
          baseMonthlyPayment +
          (extraFrequency === "monthly" || extraFrequency === "both"
            ? extraMonthly
            : 0);
        document.getElementById("extraMonthlyPayment").textContent =
          formatCurrency(extraMonthlyTotal);
        document.getElementById("extraPayoffTime").textContent =
          formatMonthsToYearsMonths(extraSim.months);
        document.getElementById("extraPayoffDate").textContent =
          formatDate(extraPayoffDate);
        document.getElementById("extraTotalInterest").textContent =
          formatCurrency(extraSim.totalInterest);

        // Savings
        const monthsSaved = baseSim.months - extraSim.months;
        const interestSaved = baseSim.totalInterest - extraSim.totalInterest;
        document.getElementById("timeSaved").textContent =
          monthsSaved > 0 && isFinite(monthsSaved)
            ? formatMonthsToYearsMonths(monthsSaved)
            : "No time saved";
        document.getElementById("interestSaved").textContent =
          interestSaved > 0 && isFinite(interestSaved)
            ? formatCurrency(interestSaved)
            : "No interest saved";

        // Amortization table (Scenario B)
        const tbody = document.getElementById("amortizationBody");
        tbody.innerHTML = "";
        extraSim.schedule.slice(0, 360).forEach((row) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-2 py-1 border-b text-gray-700">${row.month}</td>
        <td class="px-2 py-1 border-b text-right">${formatCurrency(
          row.payment
        )}</td>
        <td class="px-2 py-1 border-b text-right">${formatCurrency(
          row.interest
        )}</td>
        <td class="px-2 py-1 border-b text-right">${formatCurrency(
          row.principal
        )}</td>
        <td class="px-2 py-1 border-b text-right">${formatCurrency(
          row.balance
        )}</td>
      `;
          tbody.appendChild(tr);
        });
      });

      resetBtn.addEventListener("click", () => {
        document.getElementById("loanBalance").value = 35000;
        document.getElementById("interestRate").value = 5.5;
        document.getElementById("graceMonths").value = 0;
        document.getElementById("monthlyPayment").value = 380;
        document.getElementById("targetYears").value = 10;
        document.getElementById("targetMonths").value = 0;
        document.getElementById("extraMonthly").value = 100;
        document.getElementById("oneTimeExtra").value = 0;
        document.getElementById("extraFrequency").value = "monthly";
        document.getElementById("annualIncome").value = 55000;
        document.getElementById("familySize").value = 1;
        document.getElementById("idrPercent").value = 10;
        document.getElementById("idrEstimateOutput").textContent = "";
        document.getElementById("calcError").textContent = "";

        [
          "baseMonthlyPayment",
          "basePayoffTime",
          "basePayoffDate",
          "baseTotalInterest",
          "extraMonthlyPayment",
          "extraPayoffTime",
          "extraPayoffDate",
          "extraTotalInterest",
          "timeSaved",
          "interestSaved",
        ].forEach((id) => {
          document.getElementById(id).textContent = "–";
        });
        document.getElementById("amortizationBody").innerHTML = "";
      });

      // Simple IDR estimate (very rough, US-style)
      document
        .getElementById("estimateIdrBtn")
        .addEventListener("click", () => {
          const income = parseFloat(
            document.getElementById("annualIncome").value
          );
          const familySize = parseInt(
            document.getElementById("familySize").value || "1",
            10
          );
          const percent = parseFloat(
            document.getElementById("idrPercent").value
          );

          if (
            !isFinite(income) ||
            income <= 0 ||
            !isFinite(percent) ||
            percent < 0
          ) {
            document.getElementById("idrEstimateOutput").textContent =
              "Enter a valid income and percentage.";
            return;
          }

          // Very rough poverty guideline approximation (US, single person ~ $15k, +$5k per extra person)
          const poverty = 15000 + (familySize - 1) * 5000;
          const discretionary = Math.max(0, income - 1.5 * poverty);
          const annualPayment = discretionary * (percent / 100);
          const monthlyPayment = annualPayment / 12;

          document.getElementById("idrEstimateOutput").textContent =
            "Estimated IDR monthly payment: " +
            formatCurrency(monthlyPayment) +
            " (approximate; actual plan rules vary).";

          // Optionally push into main monthly payment field
          if (monthlyPayment > 0) {
            document.getElementById("monthlyPayment").value =
              monthlyPayment.toFixed(2);
            // Switch mode to known payment
            modeButtons.forEach((b) => {
              if (b.getAttribute("data-mode") === "payment") {
                b.click();
              }
            });
          }
        });

      document
        .querySelectorAll("#faq-container .faq-question")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const answer = btn.parentElement.querySelector(".faq-answer");
            const symbol = btn.querySelector("span:last-child");
            const isHidden = answer.classList.contains("hidden");
            document
              .querySelectorAll("#faq-container .faq-answer")
              .forEach((a) => a.classList.add("hidden"));
            document
              .querySelectorAll("#faq-container .faq-question span:last-child")
              .forEach((s) => (s.textContent = "+"));
            if (isHidden) {
              answer.classList.remove("hidden");
              symbol.textContent = "−";
            }
          });
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
