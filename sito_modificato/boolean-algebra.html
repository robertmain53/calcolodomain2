<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Boolean Algebra Calculator – Logic Expression Evaluator &amp; Truth Table | CalcDomain</title>
  <meta name="description" content="Analyze Boolean algebra expressions: parse logic formulas, detect variables, generate truth tables, evaluate assignments, and derive canonical forms for digital logic design.">
  <link rel="canonical" href="https://calcdomain.com/boolean-algebra">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Boolean Algebra Calculator – Logic Expression Evaluator &amp; Truth Table | CalcDomain">
  <meta property="og:description" content="Analyze Boolean algebra expressions: parse logic formulas, detect variables, generate truth tables, evaluate assignments, and derive canonical forms for digital logic design.">
  <meta property="og:url" content="https://calcdomain.com/boolean-algebra">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Boolean Algebra Calculator – Logic Expression Evaluator &amp; Truth Table | CalcDomain">
  <meta name="twitter:description" content="Analyze Boolean algebra expressions: parse logic formulas, detect variables, generate truth tables, evaluate assignments, and derive canonical forms for digital logic design.">
  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
    .nav { max-width: 1200px; }
    .card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 1rem; padding: 1.5rem; box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08); }
    .calc-hero { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; align-items: start; }
    .calc-input { width: 100%; padding: 0.65rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.6rem; font-size: 0.95rem; font-family: inherit; }
    .calc-input:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25); }
    .calc-label { display: block; font-size: 0.85rem; font-weight: 600; color: #6b7280; margin-bottom: 0.35rem; }
    .result-box { background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 1px solid #bfdbfe; border-radius: 1rem; padding: 1.5rem; text-align: center; }
    .result-value { font-size: 2rem; font-weight: 700; color: #1e40af; }
    .btn { border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: background 0.2s ease, border-color 0.2s ease; }
    .btn-primary { border: none; background: #2563eb; color: white; }
    .btn-primary:hover { background: #1d4ed8; }
    .btn-secondary { border: 1px solid #d1d5db; background: #ffffff; color: #111827; }
    .btn-secondary:hover { border-color: #9ca3af; }
    .btnSecondary { border-width: 1px; }
    .alert { border-radius: 0.5rem; padding: 0.75rem 1rem; margin-top: 0.75rem; display: none; font-size: 0.9rem; }
    .alert-error { background: #fef2f2; border-left: 4px solid #dc2626; color: #991b1b; }
    .sticky-box { position: sticky; top: 1rem; align-self: start; }
    .muted-note { font-size: 0.78rem; color: #6b7280; }
    .chip { display: inline-flex; align-items: center; border-radius: 999px; padding: 0.35rem 0.8rem; background: #f3f4f6; border: 1px solid #d1d5db; font-size: 0.75rem; font-weight: 500; color: #1f2937; cursor: pointer; }
    .chip:hover { background: #e5e7eb; }
    .toggle-pill { display: inline-flex; align-items: center; border: 1px solid #d1d5db; border-radius: 999px; padding: 0.35rem 0.75rem; background: #f9fafb; cursor: pointer; font-size: 0.75rem; font-weight: 500; }
    .toggle-pill input { margin: 0; cursor: pointer; }
    .expr-token { display: inline-flex; align-items: center; padding: 0.15rem 0.6rem; border-radius: 6px; background: #eef2ff; color: #1e3a8a; font-size: 0.7rem; font-weight: 600; }
    .bool-badge { display: inline-flex; padding: 0.15rem 0.5rem; border-radius: 999px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.02em; }
    .bool-true { background: #ecfdf5; color: #047857; }
    .bool-false { background: #fef2f2; color: #b91c1c; }
    .tt-table { width: 100%; border-collapse: collapse; font-size: 0.75rem; }
    .tt-table th, .tt-table td { border-bottom: 1px solid #e5e7eb; padding: 0.45rem 0.35rem; text-align: center; min-width: 32px; }
    .tt-table thead th { background: #f3f4f6; font-weight: 600; color: #374151; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; }
    .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0.75rem; padding: 1rem; font-family: 'Source Code Pro', 'Fira Code', ui-monospace, monospace; font-size: 0.85rem; }
    .content-card { position: relative; }
    .meta-section { border: 1px solid #e5e7eb; border-radius: 1rem; background: white; padding: 1.5rem; }
    .sub { font-size: 1.125rem; color: #4b5563; }
    .pill { border-radius: 999px; padding: 0.25rem 0.75rem; border: 1px solid transparent; font-size: 0.85rem; background: #f1f5f9; color: #1e3a8a; font-weight: 600; }
  </style>
  <script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com"},{"@type":"ListItem","position":2,"name":"Math &amp; Conversions","item":"https://calcdomain.com/categories/math-conversions"},{"@type":"ListItem","position":3,"name":"Boolean Algebra Calculator","item":"https://calcdomain.com/boolean-algebra"}]},{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is Boolean algebra?","acceptedAnswer":{"@type":"Answer","text":"Boolean algebra is an algebraic structure with two values (usually 0 and 1 or FALSE and TRUE) and operations such as AND, OR and NOT. It provides the formal framework behind digital logic, switching circuits, and many aspects of computer science and set theory."}},{"@type":"Question","name":"What does this Boolean algebra calculator do?","acceptedAnswer":{"@type":"Answer","text":"This calculator parses a Boolean expression, detects the variables, and lets you generate the full truth table, evaluate the expression for chosen TRUE/FALSE assignments, and derive canonical sum-of-products and product-of-sums forms. It is intended for learning, digital design exercises, and quick checks of logic identities."}},{"@type":"Question","name":"Which operators and syntax are supported?","acceptedAnswer":{"@type":"Answer","text":"Variables can be any letter names such as A, B, X1. Supported operators include NOT (!, ~, ¬), AND (&, ·, *), OR (+, |, ∨) and XOR (^ or ⊕), with parentheses for grouping. AND has higher precedence than OR, and NOT has the highest precedence. Implied multiplication such as AB without an explicit operator is not supported to avoid ambiguity."}},{"@type":"Question","name":"How many variables can I use in the truth table?","acceptedAnswer":{"@type":"Answer","text":"The tool can technically parse expressions with many variables, but the full truth table grows exponentially. To keep the interface usable, the truth table is limited to expressions with up to 8 distinct variables (2^8 = 256 rows). For more variables the calculator still parses and can evaluate specific assignments, but it will not show the full table."}},{"@type":"Question","name":"What are canonical sum-of-products and product-of-sums forms?","acceptedAnswer":{"@type":"Answer","text":"A canonical sum-of-products (SOP) is an OR of minterms, where each minterm is an AND of all variables or their complements that makes the function equal to 1. A canonical product-of-sums (POS) is an AND of maxterms, where each maxterm is an OR of all variables or their complements that makes the function equal to 0. Both forms are mechanically derived from the truth table."}},{"@type":"Question","name":"Does this calculator fully minimize Boolean expressions?","acceptedAnswer":{"@type":"Answer","text":"The calculator focuses on correct parsing, truth tables and canonical forms. These already provide a systematic, verifiable representation of the logic function. For aggressive minimisation in large designs you would typically complement this with Karnaugh maps or algorithmic methods such as Quine–McCluskey and modern logic synthesis tools."}}]}]</script>
</head>
<body class="bg-gray-50 text-gray-800">
  <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="navRight hidden md:flex items-center space-x-6">
          <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
          <span class="pill">Categories</span>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <main id="mainContent" class="container mx-auto px-4 py-8">
    <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs">
      <ol class="flex flex-wrap items-center gap-1">
        <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
        <li class="text-gray-400">/</li>
        <li><a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a></li>
        <li class="text-gray-400">/</li>
        <li><span class="text-gray-800">Boolean Algebra Calculator</span></li>
      </ol>
    </nav>

    <div class="space-y-3">
      <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Boolean Algebra Calculator</h1>
      <p id="pageSub" class="sub text-lg text-gray-600">Analyze Boolean algebra expressions, detect variables, generate truth tables, evaluate assignments, and derive canonical sum-of-products and product-of-sums forms for logic design.</p>
      <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
    </div>

    <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
      <section class="card" id="inputsCard" aria-label="Calculator inputs">
        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
          <h3 class="text-lg font-bold text-gray-700 mb-4 mt-0">Boolean expression builder</h3>
          <form id="bool-form" class="space-y-5" novalidate>
            <div>
              <label for="bool-expression" class="calc-label">Boolean expression</label>
              <textarea id="bool-expression" rows="3" class="calc-input" placeholder="Example: (A &amp; B) + (!A &amp; C)"></textarea>
              <p class="muted-note mt-2">Variables can be letters like <span class="font-semibold">A</span>, <span class="font-semibold">B</span> or <span class="font-semibold">X1</span>. Supported operators: NOT (!, ~, ¬), AND (&amp;, ·, *), OR (+, |, ∨), XOR (^, ⊕). Parentheses define precedence; implied products like AB are not supported.</p>
            </div>

            <div class="flex flex-wrap gap-2">
              <button type="button" data-insert="A" class="chip">A</button>
              <button type="button" data-insert="B" class="chip">B</button>
              <button type="button" data-insert="C" class="chip">C</button>
              <button type="button" data-insert="D" class="chip">D</button>
              <button type="button" data-insert=" &amp; " class="chip">AND ∧</button>
              <button type="button" data-insert=" + " class="chip">OR ∨</button>
              <button type="button" data-insert=" ^ " class="chip">XOR ⊕</button>
              <button type="button" data-insert="!" class="chip">NOT ¬</button>
              <button type="button" data-insert="(" class="chip">(</button>
              <button type="button" data-insert=")" class="chip">)</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label for="bool-max-rows" class="calc-label">Max truth table rows</label>
                <input id="bool-max-rows" type="number" class="calc-input" min="1" max="512" step="1" value="256">
                <p class="muted-note mt-1">Cap on displayed rows (2^n). For 8 variables, 2^8 = 256.</p>
              </div>
              <div>
                <label for="bool-max-vars" class="calc-label">Variable limit for full table</label>
                <input id="bool-max-vars" type="number" class="calc-input" min="1" max="10" step="1" value="8">
                <p class="muted-note mt-1">If the expression has more variables than this, only evaluation is shown.</p>
              </div>
              <div>
                <fieldset>
                  <legend class="calc-label">Outputs</legend>
                  <div class="flex items-center gap-2 mb-1">
                    <input id="bool-show-truth" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded" checked>
                    <label for="bool-show-truth" class="text-xs text-gray-700">Show full truth table (if feasible)</label>
                  </div>
                  <div class="flex items-center gap-2 mb-1">
                    <input id="bool-show-sop" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded" checked>
                    <label for="bool-show-sop" class="text-xs text-gray-700">Show canonical sum-of-products</label>
                  </div>
                  <div class="flex items-center gap-2">
                    <input id="bool-show-pos" type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded" checked>
                    <label for="bool-show-pos" class="text-xs text-gray-700">Show canonical product-of-sums</label>
                  </div>
                </fieldset>
              </div>
            </div>

            <div class="flex gap-3 mt-2">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
          </form>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </div>
      </section>

      <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
        <div id="bool-results" class="hidden space-y-4">
          <div class="result-box">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Parsed expression overview</div>
            <div class="result-value" id="bool-summary">Awaiting input</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4 space-y-4">
            <div>
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Tokens</span>
              </div>
              <div id="bool-token-list" class="mt-2 flex flex-wrap gap-2"></div>
            </div>
            <div>
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-wide text-gray-500">Variables</span>
                <span id="bool-vars-note" class="text-xs text-gray-500"></span>
              </div>
              <div id="bool-vars" class="mt-2 flex flex-wrap gap-2"></div>
            </div>
            <p id="bool-eval-result" class="text-sm text-gray-700"></p>
          </div>
          <div id="bool-truth-section" class="hidden bg-white border border-gray-200 rounded-lg p-4 space-y-3">
            <div>
              <h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide">Truth table</h3>
              <p id="bool-truth-note" class="text-xs text-gray-500 leading-tight"></p>
            </div>
            <div class="overflow-x-auto">
              <table class="tt-table" aria-label="Truth table">
                <thead id="bool-tt-head"></thead>
                <tbody id="bool-tt-body"></tbody>
              </table>
            </div>
          </div>
          <div id="bool-canonical-section" class="hidden space-y-3">
            <div id="bool-sop-box" class="formula-box hidden text-xs">
              <p class="font-semibold mb-1 text-gray-800">Canonical sum-of-products (SOP)</p>
              <p id="bool-sop-text" class="text-sm font-medium text-gray-900"></p>
              <p id="bool-sop-latex" class="muted-note"></p>
            </div>
            <div id="bool-pos-box" class="formula-box hidden text-xs">
              <p class="font-semibold mb-1 text-gray-800">Canonical product-of-sums (POS)</p>
              <p id="bool-pos-text" class="text-sm font-medium text-gray-900"></p>
              <p id="bool-pos-latex" class="muted-note"></p>
            </div>
          </div>
          <details class="mt-2 text-sm text-gray-800" open>
            <summary class="cursor-pointer font-semibold text-gray-900">Parsing &amp; calculation steps</summary>
            <div id="bool-steps" class="mt-3 space-y-1 text-xs text-gray-700"></div>
          </details>
        </div>
      </section>
    </div>

    <section class="card content-card space-y-6 mt-10" id="howToUse" aria-label="How to use and methodology">
      <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
      <p>Enter a Boolean expression using the helper buttons or your own keyboard. The tool tokenizes the formula, highlights detected variables, and lets you toggle checkboxes to evaluate the expression under any TRUE/FALSE assignment.</p>
      <p>Adjust the truth table row limit or variable ceiling if you need to explore larger functions, and toggle the output switches to show the truth table and canonical SOP/POS forms that are mechanically derived from the table.</p>

      <h2 class="text-2xl font-semibold">Methodology</h2>
      <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700">
        <p>This calculator uses a tokenizer that recognizes variables, parentheses, and logical operators (!, ~, ¬, &, *, ·, ∧, +, |, ∨, ^, ⊕). A recursive descent parser builds an abstract syntax tree with strict precedence (NOT &gt; AND &gt; XOR &gt; OR). The AST is evaluated across assignments to compute the truth table, and the same rows feed into canonical SOP (minterms) and POS (maxterms) builders.</p>
      </div>
      <ul class="list-disc pl-5 space-y-2 text-gray-700">
        <li>Tokens display your parsed operators and variables so you can confirm the syntax.</li>
        <li>Detected variables are rendered as toggle pills that update the evaluation banner and canonical forms.</li>
        <li>Truth table rows respect the limits you enter and inform the SOP/POS builders.</li>
      </ul>

      <h2 class="text-2xl font-semibold">Full original guide (expanded)</h2>
      <div class="space-y-6">
        <div>
          <h3 class="text-xl font-semibold">What is Boolean algebra?</h3>
          <p>Boolean algebra is an algebraic system with two values, usually \(0\) and \(1\) or \(\text{FALSE}\) and \(\text{TRUE}\), and a set of operations such as AND, OR and NOT. It provides the mathematical foundation for digital logic, switching circuits, logic gates and many areas of theoretical computer science.</p>
        </div>
        <div class="formula-box text-sm">
          <p class="font-semibold mb-2">Basic operations</p>
          <ul class="list-disc pl-5 space-y-1 text-gray-600">
            <li><strong>NOT</strong> (\(\lnot A\), \(\overline{A}\), <code>!A</code>): inverts the truth value.</li>
            <li><strong>AND</strong> (\(A \land B\), <code>A &amp; B</code>): true only if both inputs are true.</li>
            <li><strong>OR</strong> (\(A \lor B\), <code>A + B</code>): true if at least one input is true.</li>
            <li><strong>XOR</strong> (\(A \oplus B\), <code>A ^ B</code>): true if exactly one input is true.</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold">Core laws of Boolean algebra</h3>
          <ul class="list-disc pl-5 space-y-1 text-gray-600">
            <li><strong>Idempotent</strong>: \(A + A = A\), \(A \cdot A = A\).</li>
            <li><strong>Commutative</strong>: \(A + B = B + A\), \(A \cdot B = B \cdot A\).</li>
            <li><strong>Associative</strong>: \((A + B) + C = A + (B + C)\), \((A \cdot B) \cdot C = A \cdot (B \cdot C)\).</li>
            <li><strong>Distributive</strong>: \(A \cdot (B + C) = A B + A C\), \(A + B C = (A + B)(A + C)\).</li>
            <li><strong>Identity</strong>: \(A + 0 = A\), \(A \cdot 1 = A\).</li>
            <li><strong>Complementarity</strong>: \(A + \overline{A} = 1\), \(A \cdot \overline{A} = 0\).</li>
          </ul>
        </div>
        <div class="formula-box text-sm">
          <p class="font-semibold mb-2">De Morgan’s laws</p>
          <p>\[\overline{A \cdot B} = \overline{A} + \overline{B}, \qquad \overline{A + B} = \overline{A} \cdot \overline{B}.\]</p>
          <p class="mt-2">These identities are essential when transforming logic circuits or simplifying expressions, especially when converting between AND/OR and NAND/NOR families.</p>
        </div>
        <div>
          <h3 class="text-xl font-semibold">Truth tables and canonical forms</h3>
          <p>A <strong>truth table</strong> lists every combination of variable assignments and the corresponding function output. Rows where the function is \(1\) feed the canonical sum-of-products (SOP) builder, while rows where the function is \(0\) build the canonical product-of-sums (POS) representation.</p>
          <ul class="list-disc pl-5 space-y-1 text-gray-600">
            <li><strong>SOP</strong>: OR of minterms, each minterm is an AND of variables or their complements that yield \(1\).</li>
            <li><strong>POS</strong>: AND of maxterms, each maxterm is an OR of variables or their complements that yield \(0\).</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold">Typical use cases</h3>
          <ul class="list-disc pl-5 space-y-1 text-gray-600">
            <li><strong>Digital circuits</strong> – derive gate-level implementations from truth tables.</li>
            <li><strong>Verification</strong> – confirm that two expressions are equivalent.</li>
            <li><strong>Coursework</strong> – support exercises in digital logic, computer architecture, and discrete mathematics.</li>
            <li><strong>Design documentation</strong> – keep a canonical representation for review and sharing.</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold">Related logic &amp; algebra tools</h3>
          <ul class="list-disc pl-5 text-gray-600 space-y-1">
            <li><a href="https://calcdomain.com/complex-number" class="text-blue-600 hover:underline">Complex Number Calculator</a></li>
            <li><a href="https://calcdomain.com/modular-inverse" class="text-blue-600 hover:underline">Modular Inverse Calculator</a></li>
            <li><a href="https://calcdomain.com/a-b-test-significance" class="text-blue-600 hover:underline">A/B Test Significance</a></li>
            <li><a href="https://calcdomain.com/one-way-anova" class="text-blue-600 hover:underline">One-Way ANOVA</a></li>
            <li><a href="https://calcdomain.com/significant-figures" class="text-blue-600 hover:underline">Significant Figures Calculator</a></li>
            <li><a href="https://calcdomain.com/fft" class="text-blue-600 hover:underline">Fast Fourier Transform (FFT)</a></li>
            <li><a href="https://calcdomain.com/qr-decomposition" class="text-blue-600 hover:underline">QR Decomposition</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold">More in Core Math &amp; Algebra</h3>
          <ul class="list-disc pl-5 text-gray-600 space-y-1">
            <li><a href="https://calcdomain.com/algebra-calculator" class="text-blue-600 hover:underline">Algebra Calculator</a></li>
            <li><a href="https://calcdomain.com/complex-number" class="text-blue-600 hover:underline">Complex Numbers</a></li>
            <li><a href="https://calcdomain.com/modular-inverse" class="text-blue-600 hover:underline">Modular Inverse</a></li>
            <li><a href="https://calcdomain.com/parallelogram-area" class="text-blue-600 hover:underline">Parallelogram Area</a></li>
            <li><a href="https://calcdomain.com/fft" class="text-blue-600 hover:underline">FFT – Fast Fourier Transform</a></li>
            <li><a href="https://calcdomain.com/qr-decomposition" class="text-blue-600 hover:underline">QR Decomposition</a></li>
            <li><a href="https://calcdomain.com/covariance-matrix" class="text-blue-600 hover:underline">Covariance Matrix</a></li>
            <li><a href="https://calcdomain.com/one-way-anova" class="text-blue-600 hover:underline">One-Way ANOVA</a></li>
            <li><a href="https://calcdomain.com/a-b-test-significance" class="text-blue-600 hover:underline">A/B Test Significance</a></li>
            <li><a href="https://calcdomain.com/significant-figures" class="text-blue-600 hover:underline">Significant Figures</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold">Boolean algebra quick checklist</h3>
          <ul class="list-disc pl-5 text-gray-600 space-y-1">
            <li>Express every gate or condition as a Boolean expression.</li>
            <li>Check equivalence using truth tables and canonical forms.</li>
            <li>Apply De Morgan’s laws when converting to NAND/NOR logic.</li>
            <li>Limit the number of variables per expression for readability.</li>
            <li>Document assumptions (don’t-care conditions) explicitly.</li>
          </ul>
        </div>
        <section id="author">
          <h3 class="text-xl font-semibold">About the author</h3>
          <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700">
            <p>
              <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a> builds financial and math tools to help readers make better decisions with transparent, practical models.
            </p>
            <p class="mt-3">Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a></p>
          </div>
        </section>
        <section id="editorial-policy">
          <h3 class="text-xl font-semibold">Editorial policy</h3>
          <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700">
            <p>CalcDomain content is created for education and is reviewed for clarity, accuracy, and transparency. The outputs, inputs, and assumptions appear directly in the calculator so you can verify the mechanics yourself.</p>
          </div>
        </section>
      </div>
    </section>

    <section class="card meta-section space-y-4 mt-10" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
      <details id="formulaDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700">
          <p><strong>Expression parsing</strong>: tokenize variables, operators, and parentheses, then apply recursive descent parsing (NOT &gt; AND &gt; XOR &gt; OR) to build the AST.</p>
          <p class="mt-2"><strong>Truth table</strong>: evaluate the AST for every assignment within the configured limits (2^n rows for n variables) and feed the results to canonical builders.</p>
          <p class="mt-2"><strong>Canonical SOP</strong>: OR together minterms (ANDs of each variable or its complement) for every row where the function is 1.</p>
          <p class="mt-2"><strong>Canonical POS</strong>: AND together maxterms (ORs of each variable or its complement) for every row where the function is 0.</p>
        </div>
      </details>
      <details id="citationDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 space-y-2">
          <p><strong>Complex Number Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/complex-number" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/complex-number</a></p>
          <p><strong>Modular Inverse Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/modular-inverse" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/modular-inverse</a></p>
          <p><strong>A/B Test Significance</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/a-b-test-significance" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/a-b-test-significance</a></p>
          <p><strong>One-Way ANOVA</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/one-way-anova" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/one-way-anova</a></p>
          <p><strong>Significant Figures Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/significant-figures" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/significant-figures</a></p>
          <p><strong>Fast Fourier Transform (FFT)</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/fft" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/fft</a></p>
          <p><strong>QR Decomposition</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/qr-decomposition" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://calcdomain.com/qr-decomposition</a></p>
        </div>
      </details>
      <details id="changelogDetails">
        <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
        <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm text-gray-700">
          <ul class="list-disc pl-5 space-y-2">
            <li><strong>Version:</strong> 0.1.0-draft — 2026-01-19</li>
            <li>Initial audit spec draft generated from HTML extraction (review required).</li>
            <li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
            <li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
          </ul>
        </div>
      </details>
      <div class="flex gap-2 mt-4 flex-wrap">
        <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm text-gray-700"><span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido</span>
        <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm text-gray-700">Last Updated: 2026-01-19</span>
        <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm text-gray-700">Version 0.1.0-draft</span>
      </div>
    
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
  </main>

  <footer id="siteFooter" class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
            <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
            <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
            <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
            <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script src="/assets/js/mobile-menu.js"></script>
  <script src="/search.js"></script>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script>
    (function () {
      var loadMathJax = function () {
        if (window.__mathjaxLoading) return;
        window.__mathjaxLoading = true;
        var script = document.createElement("script");
        script.id = "MathJax-script";
        script.async = true;
        script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
        document.head.appendChild(script);
      };

      var target = document.querySelector(
        ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
      );

      if (!target) return;

      if ("IntersectionObserver" in window) {
        var observer = new IntersectionObserver(
          function (entries) {
            if (entries.some(function (entry) { return entry.isIntersecting; })) {
              observer.disconnect();
              loadMathJax();
            }
          },
          { rootMargin: "200px" }
        );
        observer.observe(target);
      } else {
        window.addEventListener(
          "load",
          function () {
            setTimeout(loadMathJax, 1000);
          },
          { once: true }
        );
      }
    })();
  </script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>
  <script>
    (function(){
      'use strict';

    const debounce = (fn, delay = 100) => {
      let t;
      return (...args) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...args), delay);
      };
    };


      var debounce = function(fn, delay) {
        var timer;
        return function() {
          var args = arguments;
          clearTimeout(timer);
          timer = setTimeout(function() { fn.apply(null, args); }, delay);
        };
      };

      var defaults = {
        expression: '',
        maxRows: 256,
        maxVars: 8,
        showTruth: true,
        showSop: true,
        showPos: true
      };

      var els = {
        expression: document.getElementById('bool-expression'),
        maxRows: document.getElementById('bool-max-rows'),
        maxVars: document.getElementById('bool-max-vars'),
        showTruth: document.getElementById('bool-show-truth'),
        showSop: document.getElementById('bool-show-sop'),
        showPos: document.getElementById('bool-show-pos'),
        tokenList: document.getElementById('bool-token-list'),
        varsContainer: document.getElementById('bool-vars'),
        varsNote: document.getElementById('bool-vars-note'),
        evalResult: document.getElementById('bool-eval-result'),
        summary: document.getElementById('bool-summary'),
        truthSection: document.getElementById('bool-truth-section'),
        truthNote: document.getElementById('bool-truth-note'),
        truthHead: document.getElementById('bool-tt-head'),
        truthBody: document.getElementById('bool-tt-body'),
        sopBox: document.getElementById('bool-sop-box'),
        sopText: document.getElementById('bool-sop-text'),
        sopLatex: document.getElementById('bool-sop-latex'),
        posBox: document.getElementById('bool-pos-box'),
        posText: document.getElementById('bool-pos-text'),
        posLatex: document.getElementById('bool-pos-latex'),
        canonicalSection: document.getElementById('bool-canonical-section'),
        steps: document.getElementById('bool-steps'),
        results: document.getElementById('bool-results'),
        errorBox: document.getElementById('errorBox'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn')
      };

      var runtime = {
        ast: null,
        vars: [],
        truthRows: [],
        assignments: []
      };

      var stepDescriptions = [
        'Tokenize the input into variables, operators (NOT, AND, OR, XOR), and parentheses.',
        'Use a recursive descent parser with precedence NOT > AND > XOR > OR to build an abstract syntax tree.',
        'Collect the distinct variables from the AST and initialise assignments (all FALSE by default).',
        'Evaluate the AST for each truth table row within limits to calculate the Boolean function.',
        'Construct canonical SOP from rows where the function equals 1 (minterms) and canonical POS from rows where it equals 0 (maxterms).',
        'Render LaTeX-friendly expressions for SOP/POS alongside the truth table and evaluation toggles.'
      ];

      function $(id) { return document.getElementById(id); }

      function parseInputs() {
        return {
          expression: els.expression.value.trim(),
          maxRows: parseInt(els.maxRows.value, 10),
          maxVars: parseInt(els.maxVars.value, 10),
          showTruth: els.showTruth.checked,
          showSop: els.showSop.checked,
          showPos: els.showPos.checked
        };
      }

      function validate(inputs) {
        var errors = [];
        if (!inputs.expression) errors.push('Please enter a Boolean expression.');
        if (!Number.isFinite(inputs.maxRows) || inputs.maxRows <= 0) errors.push('Max truth table rows must be greater than 0.');
        if (!Number.isFinite(inputs.maxVars) || inputs.maxVars <= 0) errors.push('Variable limit must be greater than 0.');
        return { ok: errors.length === 0, errors: errors };
      }

      function tokenize(input) {
        var s = input;
        var tokens = [];
        var i = 0;
        while (i < s.length) {
          var c = s[i];
          if (/\s/.test(c)) { i++; continue; }
          if (/[A-Za-z_]/.test(c)) {
            var start = i;
            i++;
            while (i < s.length && /[A-Za-z0-9_]/.test(s[i])) i++;
            tokens.push({ type: 'VAR', value: s.slice(start, i) });
            continue;
          }
          if (c === '(') { tokens.push({ type: 'LPAREN' }); i++; continue; }
          if (c === ')') { tokens.push({ type: 'RPAREN' }); i++; continue; }
          if (c === '!' || c === '~' || c === '¬') { tokens.push({ type: 'NOT' }); i++; continue; }
          if (c === '&' || c === '*' || c === '·' || c === '∧') { tokens.push({ type: 'AND' }); i++; continue; }
          if (c === '+' || c === '|' || c === '∨') { tokens.push({ type: 'OR' }); i++; continue; }
          if (c === '^' || c === '⊕') { tokens.push({ type: 'XOR' }); i++; continue; }
          throw new Error('Unexpected character "' + c + '" at position ' + (i + 1));
        }
        return tokens;
      }

      function parseExpression(tokens) {
        var pos = 0;
        function peek() { return tokens[pos] || null; }
        function consume(type) {
          var current = tokens[pos];
          if (!current || current.type !== type) {
            throw new Error('Expected ' + type + ' but found ' + (current ? current.type : 'end of expression'));
          }
          pos++;
          return current;
        }
        function parsePrimary() {
          var token = peek();
          if (!token) throw new Error('Unexpected end of expression');
          if (token.type === 'VAR') { consume('VAR'); return { kind: 'VAR', name: token.value }; }
          if (token.type === 'LPAREN') {
            consume('LPAREN');
            var node = parseOr();
            if (!peek() || peek().type !== 'RPAREN') throw new Error('Missing closing parenthesis');
            consume('RPAREN');
            return node;
          }
          throw new Error('Unexpected token ' + token.type + ' in primary');
        }
        function parseUnary() {
          var token = peek();
          if (token && token.type === 'NOT') { consume('NOT'); return { kind: 'NOT', child: parseUnary() }; }
          return parsePrimary();
        }
        function parseAnd() {
          var node = parseUnary();
          while (true) {
            var token = peek();
            if (token && token.type === 'AND') {
              consume('AND');
              node = { kind: 'AND', left: node, right: parseUnary() };
            } else break;
          }
          return node;
        }
        function parseXor() {
          var node = parseAnd();
          while (true) {
            var token = peek();
            if (token && token.type === 'XOR') {
              consume('XOR');
              node = { kind: 'XOR', left: node, right: parseAnd() };
            } else break;
          }
          return node;
        }
        function parseOr() {
          var node = parseXor();
          while (true) {
            var token = peek();
            if (token && token.type === 'OR') {
              consume('OR');
              node = { kind: 'OR', left: node, right: parseXor() };
            } else break;
          }
          return node;
        }
        var ast = parseOr();
        if (pos !== tokens.length) {
          throw new Error('Unexpected token after end of expression');
        }
        return ast;
      }

      function collectVars(node, set) {
        set = set || new Set();
        if (!node) return set;
        switch (node.kind) {
          case 'VAR': set.add(node.name); break;
          case 'NOT': collectVars(node.child, set); break;
          case 'AND':
          case 'OR':
          case 'XOR':
            collectVars(node.left, set);
            collectVars(node.right, set);
            break;
        }
        return set;
      }

      function evalAst(node, env) {
        switch (node.kind) {
          case 'VAR': return !!env[node.name];
          case 'NOT': return !evalAst(node.child, env);
          case 'AND': return evalAst(node.left, env) && evalAst(node.right, env);
          case 'OR': return evalAst(node.left, env) || evalAst(node.right, env);
          case 'XOR': return !!(evalAst(node.left, env) ^ evalAst(node.right, env));
          default: return false;
        }
      }

      function getAssignments(vars, rows) {
        var total = Math.pow(2, vars.length);
        if (!vars.length) return [{}];
        if (!Number.isFinite(rows) || rows <= 0) rows = total;
        if (rows > total) rows = total;
        var results = [];
        for (var i = 0; i < rows; i++) {
          var env = {};
          for (var j = 0; j < vars.length; j++) {
            env[vars[vars.length - 1 - j]] = !!(i & (1 << j));
          }
          results.push(env);
        }
        return results;
      }

      function buildMinterms(vars, truthRows) {
        var minterms = [];
        truthRows.forEach(function(row) {
          if (row.value) {
            var term = vars.map(function(v) { return row.env[v] ? v : '¬' + v; }).join('·');
            minterms.push(term);
          }
        });
        return minterms;
      }

      function buildMaxterms(vars, truthRows) {
        var maxterms = [];
        truthRows.forEach(function(row) {
          if (!row.value) {
            var term = '(' + vars.map(function(v) { return row.env[v] ? '¬' + v : v; }).join(' + ') + ')';
            maxterms.push(term);
          }
        });
        return maxterms;
      }

      function toLatexSop(vars, minterms) {
        if (!minterms.length) return 'f = 0';
        return 'f(' + vars.join(', ') + ') = ' + minterms.map(function(m) {
          return m.replace(/¬([A-Za-z0-9_]+)/g, '\\overline{$1}').replace(/·/g, ' \\cdot ');
        }).join(' + ');
      }

      function toLatexPos(vars, maxterms) {
        if (!maxterms.length) return 'f = 1';
        return 'f(' + vars.join(', ') + ') = ' + maxterms.map(function(term) {
          return term.replace(/¬([A-Za-z0-9_]+)/g, '\\overline{$1}');
        }).join(' \\cdot ');
      }

      function compute(inputs) {
        var tokens;
        try {
          tokens = tokenize(inputs.expression);
        } catch (err) {
          return { error: err.message };
        }
        if (!tokens.length) return { error: 'No valid tokens were found in the expression.' };
        var ast;
        try {
          ast = parseExpression(tokens);
        } catch (err) {
          return { error: 'Parse error: ' + err.message };
        }
        var vars = Array.from(collectVars(ast)).sort();
        var totalRows = Math.pow(2, vars.length);
        var maxRows = Math.max(1, inputs.maxRows);
        var maxVars = Math.max(1, inputs.maxVars);
        var truthRows = [];
        var truthNote = '';
        var truthAvailable = false;
        if (vars.length === 0) {
          var constValue = evalAst(ast, {});
          truthRows = [{ env: {}, value: constValue }];
          truthNote = 'Expression is constant: value is ' + (constValue ? 'TRUE' : 'FALSE') + ' for all inputs.';
          truthAvailable = !!inputs.showTruth;
        } else if (inputs.showTruth && vars.length <= maxVars && totalRows <= maxRows) {
          var assignments = getAssignments(vars, totalRows);
          truthRows = assignments.map(function(env) { return { env: env, value: evalAst(ast, env) }; });
          truthNote = 'Showing ' + truthRows.length + ' row' + (truthRows.length === 1 ? '' : 's') + ' for ' + vars.length + ' variable' + (vars.length === 1 ? '' : 's') + '.';
          truthAvailable = true;
        } else if (inputs.showTruth && vars.length > 0) {
          truthNote = 'Full truth table would contain 2^' + vars.length + ' = ' + totalRows + ' rows, which exceeds the configured limits. Increase "Max truth table rows" or reduce the number of variables to view it.';
          truthAvailable = true;
        }
        var canonicalAssignments = getAssignments(vars, totalRows);
        var canonicalRows = canonicalAssignments.map(function(env) { return { env: env, value: evalAst(ast, env) }; });
        var minterms = buildMinterms(vars, canonicalRows);
        var maxterms = buildMaxterms(vars, canonicalRows);
        return {
          tokens: tokens,
          ast: ast,
          vars: vars,
          truthRows: truthRows,
          truthNote: truthNote,
          truthAvailable: truthAvailable,
          showTruth: inputs.showTruth,
          minterms: minterms,
          maxterms: maxterms,
          steps: stepDescriptions
        };
      }

      function format(outputs, inputs) {
        var summary = 'Parsed Boolean expression with ' + outputs.vars.length + ' distinct variable' + (outputs.vars.length === 1 ? '' : 's') + '.';
        var truth = {
          active: inputs.showTruth,
          note: outputs.truthNote,
          rows: outputs.truthRows
        };
        var canonical = {
          showSop: inputs.showSop,
          showPos: inputs.showPos,
          minterms: outputs.minterms,
          maxterms: outputs.maxterms
        };
        return {
          summary: summary,
          tokens: outputs.tokens,
          vars: outputs.vars,
          truth: truth,
          canonical: canonical,
          steps: outputs.steps,
          ast: outputs.ast
        };
      }

      function renderError(errors) {
        if (!errors || !errors.length) {
          els.errorBox.style.display = 'none';
          els.errorBox.textContent = '';
          return;
        }
        els.errorBox.style.display = 'block';
        els.errorBox.textContent = errors.join(' ');
      }

      function renderTokens(tokens) {
        els.tokenList.innerHTML = '';
        if (!tokens || !tokens.length) return;
        tokens.forEach(function(token) {
          var span = document.createElement('span');
          span.className = 'expr-token';
          span.textContent = token.type === 'VAR' ? token.value : token.type;
          els.tokenList.appendChild(span);
        });
      }

      function renderVars(vars) {
        els.varsContainer.innerHTML = '';
        if (!vars.length) return;
        vars.forEach(function(name) {
          var label = document.createElement('label');
          label.className = 'toggle-pill';
          var checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.checked = false;
          checkbox.setAttribute('data-var', name);
          checkbox.addEventListener('change', updateEvaluation);
          label.appendChild(checkbox);
          var span = document.createElement('span');
          span.textContent = name;
          span.className = 'ml-2';
          label.appendChild(span);
          els.varsContainer.appendChild(label);
        });
      }

      function renderTruthTable(rows, vars) {
        els.truthHead.innerHTML = '';
        els.truthBody.innerHTML = '';
        if (!rows.length) return;
        var headRow = document.createElement('tr');
        vars.forEach(function(v) {
          var th = document.createElement('th');
          th.textContent = v;
          headRow.appendChild(th);
        });
        var thF = document.createElement('th');
        thF.textContent = 'f';
        headRow.appendChild(thF);
        els.truthHead.appendChild(headRow);
        rows.forEach(function(row) {
          var tr = document.createElement('tr');
          vars.forEach(function(v) {
            var td = document.createElement('td');
            td.textContent = row.env[v] ? '1' : '0';
            tr.appendChild(td);
          });
          var tdF = document.createElement('td');
          var span = document.createElement('span');
          span.className = 'bool-badge ' + (row.value ? 'bool-true' : 'bool-false');
          span.textContent = row.value ? '1 (TRUE)' : '0 (FALSE)';
          tdF.appendChild(span);
          tr.appendChild(tdF);
          els.truthBody.appendChild(tr);
        });
      }

      function renderSteps(steps) {
        els.steps.innerHTML = '';
        if (!steps || !steps.length) return;
        steps.forEach(function(text) {
          var p = document.createElement('p');
          p.textContent = text;
          els.steps.appendChild(p);
        });
        if (window.MathJax && window.MathJax.typesetPromise) {
          window.MathJax.typesetPromise([els.steps]).catch(function() {});
        }
      }

      function updateEvaluation() {
        if (!runtime.ast) {
          els.evalResult.textContent = '';
          return;
        }
        var env = {};
        runtime.vars.forEach(function(name) {
          var checkbox = els.varsContainer.querySelector('input[data-var="' + name + '"]');
          env[name] = checkbox ? checkbox.checked : false;
        });
        var value = evalAst(runtime.ast, env);
        els.evalResult.innerHTML = 'For this assignment, the expression evaluates to <span class="bool-badge ' + (value ? 'bool-true">TRUE' : 'bool-false">FALSE') + '</span>.';
      }

      function render(formatted, errors) {
        renderError(errors);
        if (!formatted) {
          els.results.classList.add('hidden');
          return;
        }
        els.summary.textContent = formatted.summary;
        renderTokens(formatted.tokens);
        renderVars(formatted.vars);
        runtime.ast = formatted.ast;
        runtime.vars = formatted.vars;
        runtime.truthRows = formatted.truth.rows;
        runtime.assignments = formatted.truth.rows;
        if (!formatted.vars.length) {
          els.varsNote.textContent = 'No variables detected: constant value.';
        } else {
          els.varsNote.textContent = 'Toggle to evaluate the expression.';
        }
        updateEvaluation();
        if (formatted.truth.active) {
          els.truthSection.classList.remove('hidden');
          els.truthNote.textContent = formatted.truth.note;
          if (formatted.truth.rows.length) {
            renderTruthTable(formatted.truth.rows, formatted.vars);
          } else {
            els.truthHead.innerHTML = '';
            els.truthBody.innerHTML = '';
          }
        } else {
          els.truthSection.classList.add('hidden');
          els.truthNote.textContent = '';
          els.truthHead.innerHTML = '';
          els.truthBody.innerHTML = '';
        }
        if (formatted.canonical.showSop) {
          els.sopBox.classList.remove('hidden');
          if (formatted.canonical.minterms.length) {
            els.sopText.textContent = 'f = ' + formatted.canonical.minterms.join(' + ');
            els.sopLatex.textContent = 'LaTeX: ' + toLatexSop(formatted.vars, formatted.canonical.minterms);
          } else {
            els.sopText.textContent = 'f = 0 (identically false).';
            els.sopLatex.textContent = 'LaTeX: f = 0';
          }
        } else {
          els.sopBox.classList.add('hidden');
        }
        if (formatted.canonical.showPos) {
          els.posBox.classList.remove('hidden');
          if (formatted.canonical.maxterms.length) {
            els.posText.textContent = 'f = ' + formatted.canonical.maxterms.join(' · ');
            els.posLatex.textContent = 'LaTeX: ' + toLatexPos(formatted.vars, formatted.canonical.maxterms);
          } else {
            els.posText.textContent = 'f = 1 (identically true).';
            els.posLatex.textContent = 'LaTeX: f = 1';
          }
        } else {
          els.posBox.classList.add('hidden');
        }
        if (formatted.canonical.showSop || formatted.canonical.showPos) {
          els.canonicalSection.classList.remove('hidden');
        } else {
          els.canonicalSection.classList.add('hidden');
        }
        renderSteps(formatted.steps);
        els.results.classList.remove('hidden');
      }

      function update() {
        var inputs = parseInputs();
        var validation = validate(inputs);
        if (!validation.ok) {
          render(null, validation.errors);
          return;
        }
        var outputs = compute(inputs);
        if (outputs.error) {
          render(null, [outputs.error]);
          return;
        }
        var formatted = format(outputs, inputs);
        render(formatted, []);
      }

      function resetToDefaults() {
        els.expression.value = defaults.expression;
        els.maxRows.value = defaults.maxRows;
        els.maxVars.value = defaults.maxVars;
        els.showTruth.checked = defaults.showTruth;
        els.showSop.checked = defaults.showSop;
        els.showPos.checked = defaults.showPos;
      }

      els.calcBtn.addEventListener('click', update);
      els.resetBtn.addEventListener('click', function() {
        resetToDefaults();
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

        update();
      });

      document.querySelectorAll('#inputsCard input, #inputsCard textarea')
        .forEach(function(el) {
          el.addEventListener('input', debounce(update, 100));
          el.addEventListener('change', debounce(update, 100));
        });

      document.querySelectorAll('.chip').forEach(function(button) {
        button.addEventListener('click', function() {
          var insert = button.getAttribute('data-insert') || '';
          var expr = els.expression;
          var start = expr.selectionStart || 0;
          var end = expr.selectionEnd || 0;
          var value = expr.value;
          expr.value = value.slice(0, start) + insert + value.slice(end);
          var cursor = start + insert.length;
          expr.focus();
          expr.setSelectionRange(cursor, cursor);
          debounce(update, 100)();
        });
      });

      resetToDefaults();
      update();
    })();
  </script>
</body></html>
