<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/us-state-and-local-taxes" />
    <title>Us State and Local Taxes: [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Us State and Local Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Us State and Local Taxes: [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Us State and Local Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/us-state-and-local-taxes" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Us State and Local Taxes: [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Us State and Local Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "US State and Local Taxes Calculator", "item": "https://calcdomain.com/us-state-and-local-taxes"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">US State and Local Taxes Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                US State and Local Taxes Calculator
              </h1>
              <p class="text-gray-600">
                Estimate and compare your total state and local tax burden
                (income, sales, and property tax) across all 50 states and DC.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                State &amp; Local Tax Estimator
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-6">
                <!-- Left: Inputs -->
                <div class="space-y-4">
                  <div>
                    <label
                      for="state-select"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >State</label
                    >
                    <select
                      id="state-select"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                      <!-- options injected by JS -->
                    </select>
                    <p class="mt-1 text-xs text-gray-500">
                      Includes typical combined state + local sales tax and
                      average property tax rate.
                    </p>
                  </div>

                  <div>
                    <label
                      for="filing-status"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Filing status</label
                    >
                    <select
                      id="filing-status"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                      <option value="single">Single</option>
                      <option value="married">Married filing jointly</option>
                    </select>
                  </div>

                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="income-input"
                      >Annual gross income ($)</label
                    >
                    <div class="flex items-center space-x-2">
                      <input
                        id="income-input"
                        type="number"
                        min="0"
                        step="1000"
                        value="80000"
                        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      />
                    </div>
                    <div class="flex items-center space-x-2 mt-2">
                      <input
                        id="income-slider"
                        type="range"
                        min="20000"
                        max="300000"
                        step="5000"
                        value="80000"
                        class="w-full"
                      />
                      <span
                        class="slider-output text-xs text-gray-600"
                        id="income-slider-output"
                        >$80k</span
                      >
                    </div>
                  </div>

                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="spending-input"
                      >Taxable spending (sales tax base) – % of income</label
                    >
                    <div class="flex items-center space-x-2">
                      <input
                        id="spending-input"
                        type="number"
                        min="0"
                        max="150"
                        step="1"
                        value="60"
                        class="w-24 border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      />
                      <span class="text-sm text-gray-600">% of income</span>
                    </div>
                    <div class="flex items-center space-x-2 mt-2">
                      <input
                        id="spending-slider"
                        type="range"
                        min="20"
                        max="120"
                        step="5"
                        value="60"
                        class="w-full"
                      />
                      <span
                        class="slider-output text-xs text-gray-600"
                        id="spending-slider-output"
                        >60%</span
                      >
                    </div>
                    <p class="mt-1 text-xs text-gray-500">
                      Rough share of your income spent on goods and services
                      subject to sales tax.
                    </p>
                  </div>

                  <div>
                    <label
                      class="block text-sm font-medium text-gray-700 mb-1"
                      for="home-value-input"
                      >Home value ($)</label
                    >
                    <div class="flex items-center space-x-2">
                      <input
                        id="home-value-input"
                        type="number"
                        min="0"
                        step="10000"
                        value="350000"
                        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                      />
                    </div>
                    <div class="flex items-center space-x-2 mt-2">
                      <input
                        id="home-value-slider"
                        type="range"
                        min="0"
                        max="1500000"
                        step="25000"
                        value="350000"
                        class="w-full"
                      />
                      <span
                        class="slider-output text-xs text-gray-600"
                        id="home-value-slider-output"
                        >$350k</span
                      >
                    </div>
                  </div>

                  <div class="flex items-center space-x-2">
                    <input
                      id="include-property"
                      type="checkbox"
                      class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                      checked
                    />
                    <label for="include-property" class="text-sm text-gray-700"
                      >Include property tax in total</label
                    >
                  </div>
                </div>

                <!-- Right: Results -->
                <div
                  class="bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-4"
                >
                  <h3 class="text-lg font-semibold mb-2">
                    Estimated annual taxes
                  </h3>
                  <div class="grid grid-cols-2 gap-3 text-sm">
                    <div>
                      <p class="text-gray-500">State income tax</p>
                      <p id="income-tax-output" class="text-lg font-semibold">
                        $0
                      </p>
                      <p
                        id="income-tax-rate-output"
                        class="text-xs text-gray-500"
                      >
                        0.0% of income
                      </p>
                    </div>
                    <div>
                      <p class="text-gray-500">Sales tax</p>
                      <p id="sales-tax-output" class="text-lg font-semibold">
                        $0
                      </p>
                      <p
                        id="sales-tax-rate-output"
                        class="text-xs text-gray-500"
                      >
                        on $0 spending
                      </p>
                    </div>
                    <div>
                      <p class="text-gray-500">Property tax</p>
                      <p id="property-tax-output" class="text-lg font-semibold">
                        $0
                      </p>
                      <p
                        id="property-tax-rate-output"
                        class="text-xs text-gray-500"
                      >
                        0.00% of home value
                      </p>
                    </div>
                    <div>
                      <p class="text-gray-500">Total state &amp; local</p>
                      <p id="total-tax-output" class="text-lg font-semibold">
                        $0
                      </p>
                      <p
                        id="effective-rate-output"
                        class="text-xs text-gray-500"
                      >
                        Effective rate: 0.0% of income
                      </p>
                    </div>
                  </div>

                  <div class="mt-2">
                    <p class="text-xs text-gray-500">
                      Note: Estimates use simplified brackets and average local
                      rates. Actual liability depends on your detailed
                      situation.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Comparison table -->
              <div class="mt-6">
                <h3 class="text-lg font-semibold mb-2">
                  Quick comparison: top 5 and bottom 5 states by effective rate
                </h3>
                <div class="table-scroll border border-gray-200 rounded-lg">
                  <table class="min-w-full text-xs md:text-sm">
                    <thead class="bg-gray-100">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold text-gray-700"
                        >
                          Rank
                        </th>
                        <th
                          class="px-3 py-2 text-left font-semibold text-gray-700"
                        >
                          State
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Total tax ($)
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Effective rate
                        </th>
                      </tr>
                    </thead>
                    <tbody id="comparison-table-body">
                      <!-- rows injected by JS -->
                    </tbody>
                  </table>
                </div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this US state and local taxes calculator works</h2>
              <p>
                State and local tax systems in the United States are complex.
                Every state has its own mix of income, sales, property, and
                other taxes, and local governments can layer additional rates on
                top. This calculator gives you a
                <strong>planning-level estimate</strong> of your annual state
                and local tax burden and lets you compare how it changes across
                states.
              </p>

              <h3>Taxes included in the estimate</h3>
              <ul>
                <li>
                  <strong>State individual income tax</strong> – based on your
                  annual gross income and filing status.
                </li>
                <li>
                  <strong>Sales tax</strong> – based on a user‑defined share of
                  your income spent on taxable goods and services.
                </li>
                <li>
                  <strong>Property tax</strong> – based on your home value and
                  an average effective property tax rate.
                </li>
              </ul>
              <p>
                Other state and local taxes (gasoline, alcohol, tobacco, hotel,
                utility, business, and various fees) are
                <strong>not</strong> modeled individually. They are implicitly
                captured only to the extent they show up in typical sales or
                property tax burdens.
              </p>

              <h3>Formulas used</h3>
              <div class="formula-box">
                <p><strong>1. Taxable spending</strong></p>
                <p>
                  \[ \text{Taxable spending} = \text{Income} \times
                  \frac{\text{Spending %}}{100} \]
                </p>

                <p class="mt-4"><strong>2. Sales tax</strong></p>
                <p>
                  \[ \text{Sales tax} = \text{Taxable spending} \times
                  \text{Sales tax rate} \]
                </p>

                <p class="mt-4"><strong>3. Property tax</strong></p>
                <p>
                  \[ \text{Property tax} = \text{Home value} \times
                  \text{Property tax rate} \]
                </p>

                <p class="mt-4">
                  <strong>4. Total state &amp; local tax</strong>
                </p>
                <p>
                  \[ \text{Total tax} = \text{Income tax} + \text{Sales tax} +
                  \text{Property tax} \]
                </p>

                <p class="mt-4">
                  <strong>5. Effective state &amp; local tax rate</strong>
                </p>
                <p>
                  \[ \text{Effective rate} = \frac{\text{Total
                  tax}}{\text{Income}} \times 100\% \]
                </p>
              </div>

              <h3>Income tax model (simplified brackets)</h3>
              <p>
                For each state, the calculator uses a
                <strong>simplified progressive bracket structure</strong> or a
                flat rate that approximates typical state income tax rules for
                the current era. It does <em>not</em> model:
              </p>
              <ul>
                <li>Standard or itemized deductions</li>
                <li>Personal exemptions or credits</li>
                <li>Preferential rates for capital gains or dividends</li>
                <li>
                  Local income taxes (city, county, school district) beyond a
                  rough average where applicable
                </li>
              </ul>
              <p>
                The goal is to give you a
                <strong>comparable effective rate</strong> across states, not to
                reproduce your exact tax return.
              </p>

              <h3>Sales tax assumptions</h3>
              <p>Sales tax is estimated as:</p>
              <ul>
                <li>
                  A
                  <strong>combined state + average local sales tax rate</strong>
                  for each state.
                </li>
                <li>
                  A user‑selected <strong>percentage of income</strong> that is
                  spent on taxable purchases.
                </li>
              </ul>
              <p>
                Many essentials (e.g., groceries, rent, some services) are
                exempt or taxed at reduced rates in some states. By adjusting
                the “Taxable spending” percentage, you can roughly account for
                your own mix of taxable vs. non‑taxable spending.
              </p>

              <h3>Property tax assumptions</h3>
              <p>
                Property tax is calculated using an
                <strong>average effective property tax rate</strong> for each
                state, applied to your home value. In reality, property taxes
                depend on:
              </p>
              <ul>
                <li>
                  Local mill rates (city, county, school district, special
                  districts)
                </li>
                <li>Assessment ratios and timing of reassessments</li>
                <li>Homestead exemptions and other relief programs</li>
              </ul>
              <p>
                If you rent, you can uncheck “Include property tax” or set home
                value to zero. Keep in mind that some portion of your rent
                indirectly reflects your landlord’s property tax costs.
              </p>

              <h2>How to use this calculator effectively</h2>
              <ol>
                <li>
                  <strong>Enter your income and filing status.</strong> Use your
                  expected annual gross income before federal and state taxes.
                </li>
                <li>
                  <strong>Choose a state.</strong> Start with your current
                  state, then compare to others you are considering.
                </li>
                <li>
                  <strong>Adjust taxable spending.</strong> Higher‑spending
                  households or those in high‑cost areas may want to use a
                  higher percentage.
                </li>
                <li>
                  <strong>Set your home value.</strong> Use your current home’s
                  market value or a realistic target for a future move.
                </li>
                <li>
                  <strong
                    >Review the effective rate and comparison table.</strong
                  >
                  Look at both the dollar amount and the percentage of income.
                </li>
              </ol>

              <h3>Interpreting the results</h3>
              <ul>
                <li>
                  <strong>Income‑tax‑heavy states</strong> (e.g., California,
                  New York) may show higher income tax but moderate property or
                  sales taxes.
                </li>
                <li>
                  <strong>No‑income‑tax states</strong> (e.g., Texas, Florida,
                  Washington) often rely more on sales and property taxes.
                </li>
                <li>
                  <strong>Property‑tax‑heavy states</strong> (e.g., New Jersey,
                  Illinois) can look expensive for homeowners but less so for
                  renters.
                </li>
              </ul>
              <p>
                Always compare <strong>total state &amp; local tax</strong> and
                the <strong>effective rate</strong>, not just one component in
                isolation.
              </p>

              <h2>Limitations and important disclaimers</h2>
              <p>
                This calculator is designed for
                <strong>education and planning</strong>, not for filing returns
                or providing legal or tax advice.
              </p>
              <ul>
                <li>
                  Rates and brackets are simplified and may not reflect the
                  latest legislative changes.
                </li>
                <li>
                  Local income taxes (e.g., New York City, some Ohio and
                  Pennsylvania municipalities) are approximated or omitted.
                </li>
                <li>
                  Special deductions, credits, and surtaxes are not modeled.
                </li>
                <li>
                  Business income, self‑employment tax, and federal taxes are
                  outside the scope of this tool.
                </li>
              </ul>
              <p>For official guidance, always consult:</p>
              <ul>
                <li>Your state’s Department of Revenue or Taxation</li>
                <li>Local tax authorities (city, county, school district)</li>
                <li>
                  The IRS and reputable tax software or a qualified tax
                  professional
                </li>
              </ul>

              <h2>Frequently asked questions</h2>

              <h3>Is this calculator up to date with current tax law?</h3>
              <p>
                The calculator is built using recent public data and typical
                combined rates, but tax laws change frequently. Treat the
                results as <strong>approximate</strong>. For precise numbers,
                use your state’s official tax tables or professional software.
              </p>

              <h3>Can I use this to decide where to move?</h3>
              <p>
                Yes, as a <strong>starting point</strong>. Taxes are only one
                part of the cost‑of‑living picture. Housing costs, wages,
                healthcare, and other expenses can easily outweigh differences
                in state and local taxes. Use this tool alongside a
                cost‑of‑living calculator for a fuller view.
              </p>

              <h3>Why doesn’t my result match my last tax return?</h3>
              <p>
                Your actual return reflects detailed rules: deductions, credits,
                multiple income sources, and specific local rates. This
                calculator intentionally simplifies those details to make
                <strong>state‑to‑state comparisons</strong> easier and faster.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Us, State, And, Local, Taxes.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end-of-period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Us, State, And, Local, Taxes.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related tax calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/us-federal-taxes"
                  class="text-blue-600 hover:underline"
                  >US Federal Taxes</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator (by state/province)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/property-tax"
                  class="text-blue-600 hover:underline"
                  >Property Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Income Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                  >Take-Home Pay (Payroll)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/taxes"
                  class="text-blue-600 hover:underline"
                  >All Tax Calculators</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Finance categories</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/categories/finance"
                  class="text-blue-600 hover:underline"
                  >Finance – Overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-income-and-payroll"
                  class="text-blue-600 hover:underline"
                  >Income, Payroll &amp; Cost of Living</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-us-state-and-local-taxes"
                  class="text-blue-600 hover:underline"
                  >US State &amp; Local Taxes Hub</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-mortgages-and-home"
                  class="text-blue-600 hover:underline"
                  >Mortgages &amp; Home Financing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/finance-investing-and-growth"
                  class="text-blue-600 hover:underline"
                  >Investing &amp; Compound Growth</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Simplified state tax data (approximate, illustrative only)
      const STATE_TAX_DATA = [
        // name, code, incomeTaxType, incomeParams, salesRate, propertyRate
        // incomeTaxType: 'none', 'flat', 'progressive'
        // incomeParams for flat: {rate}
        // incomeParams for progressive: [{upTo, rate}, ... , {upTo: Infinity, rate}]
        {
          name: "Alabama",
          code: "AL",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 2500, rate: 0.02 },
            { upTo: 6000, rate: 0.04 },
            { upTo: Infinity, rate: 0.05 },
          ],
          salesRate: 0.0924,
          propertyRate: 0.004,
        },
        {
          name: "Alaska",
          code: "AK",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0176,
          propertyRate: 0.0119,
        },
        {
          name: "Arizona",
          code: "AZ",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.025 },
          salesRate: 0.0837,
          propertyRate: 0.006,
        },
        {
          name: "Arkansas",
          code: "AR",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 4300, rate: 0.02 },
            { upTo: 8500, rate: 0.04 },
            { upTo: Infinity, rate: 0.049 },
          ],
          salesRate: 0.0944,
          propertyRate: 0.0061,
        },
        {
          name: "California",
          code: "CA",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 10099, rate: 0.01 },
            { upTo: 59978, rate: 0.02 },
            { upTo: 312686, rate: 0.09 },
            { upTo: Infinity, rate: 0.103 },
          ],
          salesRate: 0.0868,
          propertyRate: 0.0073,
        },
        {
          name: "Colorado",
          code: "CO",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.044 },
          salesRate: 0.0777,
          propertyRate: 0.0051,
        },
        {
          name: "Connecticut",
          code: "CT",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 10000, rate: 0.03 },
            { upTo: 50000, rate: 0.05 },
            { upTo: 200000, rate: 0.055 },
            { upTo: Infinity, rate: 0.0699 },
          ],
          salesRate: 0.0635,
          propertyRate: 0.0163,
        },
        {
          name: "Delaware",
          code: "DE",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 2000, rate: 0.022 },
            { upTo: 5000, rate: 0.039 },
            { upTo: 60000, rate: 0.048 },
            { upTo: Infinity, rate: 0.066 },
          ],
          salesRate: 0.0,
          propertyRate: 0.0056,
        },
        {
          name: "District of Columbia",
          code: "DC",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 10000, rate: 0.04 },
            { upTo: 60000, rate: 0.06 },
            { upTo: 250000, rate: 0.085 },
            { upTo: Infinity, rate: 0.095 },
          ],
          salesRate: 0.061,
          propertyRate: 0.0056,
        },
        {
          name: "Florida",
          code: "FL",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0702,
          propertyRate: 0.0089,
        },
        {
          name: "Georgia",
          code: "GA",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0499 },
          salesRate: 0.0738,
          propertyRate: 0.0092,
        },
        {
          name: "Hawaii",
          code: "HI",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 24000, rate: 0.057 },
            { upTo: 360000, rate: 0.08 },
            { upTo: Infinity, rate: 0.11 },
          ],
          salesRate: 0.0444,
          propertyRate: 0.0028,
        },
        {
          name: "Idaho",
          code: "ID",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.058 },
          salesRate: 0.0602,
          propertyRate: 0.0063,
        },
        {
          name: "Illinois",
          code: "IL",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0495 },
          salesRate: 0.0874,
          propertyRate: 0.021,
        },
        {
          name: "Indiana",
          code: "IN",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0323 },
          salesRate: 0.07,
          propertyRate: 0.0085,
        },
        {
          name: "Iowa",
          code: "IA",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 6000, rate: 0.044 },
            { upTo: 30000, rate: 0.0482 },
            { upTo: Infinity, rate: 0.06 },
          ],
          salesRate: 0.0689,
          propertyRate: 0.015,
        },
        {
          name: "Kansas",
          code: "KS",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 15000, rate: 0.031 },
            { upTo: 30000, rate: 0.0525 },
            { upTo: Infinity, rate: 0.057 },
          ],
          salesRate: 0.0866,
          propertyRate: 0.0137,
        },
        {
          name: "Kentucky",
          code: "KY",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.045 },
          salesRate: 0.06,
          propertyRate: 0.0086,
        },
        {
          name: "Louisiana",
          code: "LA",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 12500, rate: 0.0185 },
            { upTo: 50000, rate: 0.035 },
            { upTo: Infinity, rate: 0.0425 },
          ],
          salesRate: 0.0955,
          propertyRate: 0.0053,
        },
        {
          name: "Maine",
          code: "ME",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 24000, rate: 0.058 },
            { upTo: 58050, rate: 0.0675 },
            { upTo: Infinity, rate: 0.0715 },
          ],
          salesRate: 0.055,
          propertyRate: 0.0127,
        },
        {
          name: "Maryland",
          code: "MD",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 100000, rate: 0.0475 },
            { upTo: 250000, rate: 0.05 },
            { upTo: Infinity, rate: 0.0575 },
          ],
          salesRate: 0.06,
          propertyRate: 0.0109,
        },
        {
          name: "Massachusetts",
          code: "MA",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.05 },
          salesRate: 0.0635,
          propertyRate: 0.0114,
        },
        {
          name: "Michigan",
          code: "MI",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0425 },
          salesRate: 0.06,
          propertyRate: 0.0154,
        },
        {
          name: "Minnesota",
          code: "MN",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 30000, rate: 0.0535 },
            { upTo: 100000, rate: 0.068 },
            { upTo: Infinity, rate: 0.0985 },
          ],
          salesRate: 0.0749,
          propertyRate: 0.0112,
        },
        {
          name: "Mississippi",
          code: "MS",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.05 },
          salesRate: 0.0707,
          propertyRate: 0.0066,
        },
        {
          name: "Missouri",
          code: "MO",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 1000, rate: 0.015 },
            { upTo: 8000, rate: 0.05 },
            { upTo: Infinity, rate: 0.0495 },
          ],
          salesRate: 0.0819,
          propertyRate: 0.0097,
        },
        {
          name: "Montana",
          code: "MT",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 20000, rate: 0.04 },
            { upTo: 100000, rate: 0.06 },
            { upTo: Infinity, rate: 0.0675 },
          ],
          salesRate: 0.0,
          propertyRate: 0.0083,
        },
        {
          name: "Nebraska",
          code: "NE",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 20000, rate: 0.0246 },
            { upTo: 100000, rate: 0.0501 },
            { upTo: Infinity, rate: 0.0664 },
          ],
          salesRate: 0.0689,
          propertyRate: 0.0165,
        },
        {
          name: "Nevada",
          code: "NV",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0823,
          propertyRate: 0.006,
        },
        {
          name: "New Hampshire",
          code: "NH",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0,
          propertyRate: 0.019,
        },
        {
          name: "New Jersey",
          code: "NJ",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 20000, rate: 0.014 },
            { upTo: 75000, rate: 0.05525 },
            { upTo: Infinity, rate: 0.0637 },
          ],
          salesRate: 0.066,
          propertyRate: 0.0213,
        },
        {
          name: "New Mexico",
          code: "NM",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 16000, rate: 0.017 },
            { upTo: 210000, rate: 0.049 },
            { upTo: Infinity, rate: 0.059 },
          ],
          salesRate: 0.0776,
          propertyRate: 0.0068,
        },
        {
          name: "New York",
          code: "NY",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 8500, rate: 0.04 },
            { upTo: 215400, rate: 0.06 },
            { upTo: Infinity, rate: 0.0685 },
          ],
          salesRate: 0.0862,
          propertyRate: 0.0172,
        },
        {
          name: "North Carolina",
          code: "NC",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0475 },
          salesRate: 0.0699,
          propertyRate: 0.0084,
        },
        {
          name: "North Dakota",
          code: "ND",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 40000, rate: 0.019 },
            { upTo: 100000, rate: 0.0227 },
            { upTo: Infinity, rate: 0.026 },
          ],
          salesRate: 0.0685,
          propertyRate: 0.012,
        },
        {
          name: "Ohio",
          code: "OH",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 25000, rate: 0.0285 },
            { upTo: 100000, rate: 0.033 },
            { upTo: Infinity, rate: 0.038 },
          ],
          salesRate: 0.0724,
          propertyRate: 0.0156,
        },
        {
          name: "Oklahoma",
          code: "OK",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 2500, rate: 0.005 },
            { upTo: 7250, rate: 0.02 },
            { upTo: Infinity, rate: 0.0475 },
          ],
          salesRate: 0.0898,
          propertyRate: 0.0087,
        },
        {
          name: "Oregon",
          code: "OR",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 10000, rate: 0.0475 },
            { upTo: 125000, rate: 0.09 },
            { upTo: Infinity, rate: 0.099 },
          ],
          salesRate: 0.0,
          propertyRate: 0.0101,
        },
        {
          name: "Pennsylvania",
          code: "PA",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0307 },
          salesRate: 0.0634,
          propertyRate: 0.0158,
        },
        {
          name: "Rhode Island",
          code: "RI",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 68200, rate: 0.0375 },
            { upTo: 155050, rate: 0.0475 },
            { upTo: Infinity, rate: 0.0599 },
          ],
          salesRate: 0.07,
          propertyRate: 0.0143,
        },
        {
          name: "South Carolina",
          code: "SC",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 3200, rate: 0.03 },
            { upTo: 16040, rate: 0.06 },
            { upTo: Infinity, rate: 0.07 },
          ],
          salesRate: 0.0744,
          propertyRate: 0.0057,
        },
        {
          name: "South Dakota",
          code: "SD",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.064,
          propertyRate: 0.0132,
        },
        {
          name: "Tennessee",
          code: "TN",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0955,
          propertyRate: 0.0069,
        },
        {
          name: "Texas",
          code: "TX",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0819,
          propertyRate: 0.018,
        },
        {
          name: "Utah",
          code: "UT",
          incomeTaxType: "flat",
          incomeParams: { rate: 0.0485 },
          salesRate: 0.0702,
          propertyRate: 0.0063,
        },
        {
          name: "Vermont",
          code: "VT",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 41250, rate: 0.0335 },
            { upTo: 200200, rate: 0.066 },
            { upTo: Infinity, rate: 0.0875 },
          ],
          salesRate: 0.0624,
          propertyRate: 0.0186,
        },
        {
          name: "Virginia",
          code: "VA",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 3000, rate: 0.02 },
            { upTo: 17000, rate: 0.05 },
            { upTo: Infinity, rate: 0.0575 },
          ],
          salesRate: 0.0575,
          propertyRate: 0.0087,
        },
        {
          name: "Washington",
          code: "WA",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0929,
          propertyRate: 0.0092,
        },
        {
          name: "West Virginia",
          code: "WV",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 10000, rate: 0.03 },
            { upTo: 25000, rate: 0.04 },
            { upTo: Infinity, rate: 0.065 },
          ],
          salesRate: 0.0646,
          propertyRate: 0.0059,
        },
        {
          name: "Wisconsin",
          code: "WI",
          incomeTaxType: "progressive",
          incomeParams: [
            { upTo: 13000, rate: 0.0354 },
            { upTo: 250000, rate: 0.0465 },
            { upTo: Infinity, rate: 0.0765 },
          ],
          salesRate: 0.0543,
          propertyRate: 0.019,
        },
        {
          name: "Wyoming",
          code: "WY",
          incomeTaxType: "none",
          incomeParams: [],
          salesRate: 0.0544,
          propertyRate: 0.0061,
        },
      ];

      function formatMoney(value) {
        return value.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      function formatPercent(value, digits = 1) {
        return (value * 100).toFixed(digits) + "%";
      }

      function computeIncomeTax(state, income, filingStatus) {
        if (income <= 0) return 0;
        const type = state.incomeTaxType;
        if (type === "none") return 0;

        let taxable = income;
        // very rough standard deduction approximation by filing status
        const stdDeduction = filingStatus === "married" ? 26000 : 13000;
        taxable = Math.max(0, income - stdDeduction);

        if (type === "flat") {
          return taxable * state.incomeParams.rate;
        }

        // progressive
        let tax = 0;
        let remaining = taxable;
        let lastCap = 0;
        for (const bracket of state.incomeParams) {
          const cap = bracket.upTo;
          const rate = bracket.rate;
          const span = Math.min(remaining, cap - lastCap);
          if (span > 0) {
            tax += span * rate;
            remaining -= span;
            lastCap = cap;
          }
          if (remaining <= 0) break;
        }
        return tax;
      }

      function computeStateTaxes() {
        const stateCode = document.getElementById("state-select").value;
        const filingStatus = document.getElementById("filing-status").value;
        const income =
          parseFloat(document.getElementById("income-input").value) || 0;
        const spendingPct =
          parseFloat(document.getElementById("spending-input").value) || 0;
        const homeValue =
          parseFloat(document.getElementById("home-value-input").value) || 0;
        const includeProperty =
          document.getElementById("include-property").checked;

        const state =
          STATE_TAX_DATA.find((s) => s.code === stateCode) || STATE_TAX_DATA[0];

        const incomeTax = computeIncomeTax(state, income, filingStatus);
        const taxableSpending = income * (spendingPct / 100);
        const salesTax = taxableSpending * state.salesRate;
        const propertyTax = includeProperty
          ? homeValue * state.propertyRate
          : 0;

        const totalTax = incomeTax + salesTax + propertyTax;
        const effectiveRate = income > 0 ? totalTax / income : 0;

        // Update outputs
        document.getElementById("income-tax-output").textContent =
          formatMoney(incomeTax);
        const incomeRate = income > 0 ? incomeTax / income : 0;
        document.getElementById(
          "income-tax-rate-output"
        ).textContent = `${formatPercent(incomeRate)} of income`;

        document.getElementById("sales-tax-output").textContent =
          formatMoney(salesTax);
        document.getElementById(
          "sales-tax-rate-output"
        ).textContent = `on ${formatMoney(taxableSpending)} spending`;

        document.getElementById("property-tax-output").textContent =
          formatMoney(propertyTax);
        document.getElementById(
          "property-tax-rate-output"
        ).textContent = `${formatPercent(state.propertyRate, 2)} of home value`;

        document.getElementById("total-tax-output").textContent =
          formatMoney(totalTax);
        document.getElementById(
          "effective-rate-output"
        ).textContent = `Effective rate: ${formatPercent(
          effectiveRate
        )} of income`;

        updateComparisonTable(
          income,
          spendingPct,
          homeValue,
          includeProperty,
          filingStatus
        );
      }

      function updateComparisonTable(
        income,
        spendingPct,
        homeValue,
        includeProperty,
        filingStatus
      ) {
        const tbody = document.getElementById("comparison-table-body");
        if (!tbody) return;

        const rows = STATE_TAX_DATA.map((state) => {
          const incomeTax = computeIncomeTax(state, income, filingStatus);
          const taxableSpending = income * (spendingPct / 100);
          const salesTax = taxableSpending * state.salesRate;
          const propertyTax = includeProperty
            ? homeValue * state.propertyRate
            : 0;
          const totalTax = incomeTax + salesTax + propertyTax;
          const effectiveRate = income > 0 ? totalTax / income : 0;
          return { state: state.name, totalTax, effectiveRate };
        });

        const sorted = [...rows].sort(
          (a, b) => a.effectiveRate - b.effectiveRate
        );
        const top5 = sorted.slice(0, 5);
        const bottom5 = sorted.slice(-5).reverse();

        const combined = top5
          .map((r, idx) => ({ ...r, rankLabel: `Lowest ${idx + 1}` }))
          .concat(
            bottom5.map((r, idx) => ({ ...r, rankLabel: `Highest ${idx + 1}` }))
          );

        tbody.innerHTML = combined
          .map(
            (r) => `
      <tr class="border-t border-gray-200">
        <td class="px-3 py-2 whitespace-nowrap text-gray-700">${
          r.rankLabel
        }</td>
        <td class="px-3 py-2 whitespace-nowrap text-gray-700">${r.state}</td>
        <td class="px-3 py-2 whitespace-nowrap text-right text-gray-700">${formatMoney(
          r.totalTax
        )}</td>
        <td class="px-3 py-2 whitespace-nowrap text-right text-gray-700">${formatPercent(
          r.effectiveRate
        )}</td>
      </tr>
    `
          )
          .join("");
      }

      function syncSlider(inputEl, sliderEl, outputEl, formatter) {
        inputEl.addEventListener("input", () => {
          const val = parseFloat(inputEl.value) || 0;
          sliderEl.value = val;
          outputEl.textContent = formatter(val);
          computeStateTaxes();
        });
        sliderEl.addEventListener("input", () => {
          const val = parseFloat(sliderEl.value) || 0;
          inputEl.value = val;
          outputEl.textContent = formatter(val);
          computeStateTaxes();
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Populate state dropdown
        const stateSelect = document.getElementById("state-select");
        STATE_TAX_DATA.forEach((s) => {
          const opt = document.createElement("option");
          opt.value = s.code;
          opt.textContent = s.name;
          stateSelect.appendChild(opt);
        });
        // Default to a large, commonly compared state
        stateSelect.value = "CA";

        const incomeInput = document.getElementById("income-input");
        const incomeSlider = document.getElementById("income-slider");
        const incomeOutput = document.getElementById("income-slider-output");
        syncSlider(
          incomeInput,
          incomeSlider,
          incomeOutput,
          (v) => "$" + (v / 1000).toFixed(0) + "k"
        );

        const spendingInput = document.getElementById("spending-input");
        const spendingSlider = document.getElementById("spending-slider");
        const spendingOutput = document.getElementById(
          "spending-slider-output"
        );
        syncSlider(
          spendingInput,
          spendingSlider,
          spendingOutput,
          (v) => v.toFixed(0) + "%"
        );

        const homeInput = document.getElementById("home-value-input");
        const homeSlider = document.getElementById("home-value-slider");
        const homeOutput = document.getElementById("home-value-slider-output");
        syncSlider(
          homeInput,
          homeSlider,
          homeOutput,
          (v) => "$" + (v / 1000).toFixed(0) + "k"
        );

        document
          .getElementById("state-select")
          .addEventListener("change", computeStateTaxes);
        document
          .getElementById("filing-status")
          .addEventListener("change", computeStateTaxes);
        document
          .getElementById("include-property")
          .addEventListener("change", computeStateTaxes);

        computeStateTaxes();
      });

      // Mobile menu toggle
      document.addEventListener("DOMContentLoaded", () => {
        const toggle = document.getElementById("mobile-menu-toggle");
        const menu = document.getElementById("mobile-menu");
        if (toggle && menu) {
          toggle.addEventListener("click", () => {
            const isHidden = menu.classList.contains("hidden");
            menu.classList.toggle("hidden", !isHidden);
            toggle.setAttribute("aria-expanded", isHidden ? "true" : "false");
          });
        }
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
