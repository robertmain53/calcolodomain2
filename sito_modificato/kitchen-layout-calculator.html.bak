<!DOCTYPE html> <html lang="en"> <head>
    <link rel="canonical" href="https://calcdomain.com/kitchen-layout-calculator" />
    <title>Kitchen Layout Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Kitchen Layout Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Kitchen Layout Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Kitchen Layout Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/kitchen-layout-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Kitchen Layout Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Kitchen Layout Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
       

<script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Kitchen Layout Calculator – Plan Cabinets, Appliances & Clearances",
    "description": "Free kitchen layout calculator to plan cabinets, appliances, work triangle and clearances. Drag-and-drop floor plan, automatic dimensioning, and layout checks for U, L, galley and island kitchens.",
    "url": "https://calcdomain.com/kitchen-layout-calculator",
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com" },
        { "@type": "ListItem", "position": 2, "name": "Construction & DIY", "item": "https://calcdomain.com/construction-diy" },
        { "@type": "ListItem", "position": 3, "name": "Project Layout & Design", "item": "https://calcdomain.com/project-layout-design" },
        { "@type": "ListItem", "position": 4, "name": "Kitchen Layout Calculator", "item": "https://calcdomain.com/kitchen-layout-calculator" }
      ]
    },
    "mainEntity": {
      "@type": "HowTo",
      "name": "How to use the kitchen layout calculator",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Set room size and units",
          "text": "Enter the overall kitchen length and width, choose feet/inches or metric, and optionally add door and window openings."
        },
        {
          "@type": "HowToStep",
          "name": "Place cabinets and appliances",
          "text": "Select a tool such as base cabinet, tall cabinet, sink, cooktop, fridge or island, then click and drag on the grid to place and resize it."
        },
        {
          "@type": "HowToStep",
          "name": "Check clearances and work triangle",
          "text": "The calculator automatically measures aisle widths, door swing clearances and the work triangle between sink, cooktop and fridge, and flags any issues."
        },
        {
          "@type": "HowToStep",
          "name": "Review summary and export",
          "text": "Review the list of cabinets and appliances with dimensions and counts, adjust as needed, then export or print the layout as a reference for your designer or contractor."
        }
      ]
    }
  }</script>

    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Construction & DIY Calculators", "item": "https://calcdomain.com/categories/construction-diy"}, {"@type": "ListItem", "position": 3, "name": "Project Layout & Design Calculators", "item": "https://calcdomain.com/subcategories/project-layout-design"}, {"@type": "ListItem", "position": 4, "name": "Kitchen Layout Calculator", "item": "https://calcdomain.com/kitchen-layout-calculator"}]}</script>
</head> 
<body classead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

<header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

<div class="container mx-auto px-4 py-8">
  <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/construction-diy" class="text-blue-600 hover:underline">Construction &amp; DIY Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/project-layout-design" class="text-blue-600 hover:underline">Project Layout &amp; Design Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Kitchen Layout Calculator</span></li>
  </ol>
</nav>
  <div class="flex flex-col lg:flex-row gap-8">
    <main class="w-full lg:w-2/3">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <header class="mb-6">
          <h1 class="text-2xl md:text-3xl font-bold mb-2">Kitchen Layout Calculator</h1>
          <p class="text-gray-600">Plan your kitchen layout, check clearances and work triangle, and get an instant summary of cabinets and appliances.</p>
        </header>

        <!-- Calculator UI -->
        <section aria-labelledby="layout-inputs" class="mb-8">
          <h2 id="layout-inputs" class="text-xl font-semibold mb-3">1. Room size & units</h2>
          <div class="grid md:grid-cols-3 gap-4 mb-4">
            <div>
              <label for="unit-system" class="block text-sm font-medium text-gray-700 mb-1">Units</label>
              <select id="unit-system" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                <option value="imperial">Feet & inches</option>
                <option value="metric">Meters</option>
              </select>
            </div>
            <div>
              <label for="room-length" class="block text-sm font-medium text-gray-700 mb-1">Room length</label>
              <div class="flex gap-2">
                <input id="room-length" type="number" min="1" step="0.1" value="14" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                <span id="room-length-unit" class="self-center text-sm text-gray-500">ft</span>
              </div>
            </div>
            <div>
              <label for="room-width" class="block text-sm font-medium text-gray-700 mb-1">Room width</label>
              <div class="flex gap-2">
                <input id="room-width" type="number" min="1" step="0.1" value="10" class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                <span id="room-width-unit" class="self-center text-sm text-gray-500">ft</span>
              </div>
            </div>
          </div>
          <p class="text-xs text-gray-500 mb-2">Tip: Start with the wall-to-wall dimensions of your kitchen. You can approximate if you don’t have exact measurements yet.</p>
        </section>

        <section aria-labelledby="toolbox" class="mb-6">
          <h2 id="toolbox" class="text-xl font-semibold mb-3">2. Add cabinets & appliances</h2>
          <div class="flex flex-wrap gap-2 mb-3">
            <button type="button" data-tool="base" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Base cabinet</button>
            <button type="button" data-tool="wall" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Wall cabinet</button>
            <button type="button" data-tool="tall" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Tall / pantry</button>
            <button type="button" data-tool="sink" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Sink</button>
            <button type="button" data-tool="cooktop" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Cooktop / range</button>
            <button type="button" data-tool="fridge" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Fridge</button>
            <button type="button" data-tool="island" class="tool-btn px-3 py-1.5 text-sm border rounded-md bg-gray-50 hover:bg-gray-100">Island</button>
            <button type="button" data-tool="clear" class="px-3 py-1.5 text-sm border rounded-md text-red-700 bg-red-50 hover:bg-red-100 ml-auto">Clear layout</button>
          </div>
          <p class="text-xs text-gray-500 mb-2">Select a tool, then click and drag on the grid to place it. Drag corners to resize. Click an item to edit or delete.</p>
        </section>

        <section aria-labelledby="canvas" class="mb-6">
          <h2 id="canvas" class="sr-only">Kitchen layout canvas</h2>
          <div class="border rounded-md overflow-hidden bg-gray-100">
            <div class="flex items-center justify-between px-3 py-2 border-b bg-gray-50">
              <span class="text-sm font-medium text-gray-700">Floor plan (top view)</span>
              <div class="flex items-center gap-3 text-xs text-gray-500">
                <span id="scale-label">Scale: 1 square ≈ 1 ft</span>
                <button type="button" id="zoom-out" class="px-2 py-0.5 border rounded-md bg-white hover:bg-gray-100">−</button>
                <button type="button" id="zoom-in" class="px-2 py-0.5 border rounded-md bg-white hover:bg-gray-100">+</button>
              </div>
            </div>
            <div class="relative">
              <canvas id="layout-canvas" width="800" height="500" class="w-full h-80 md:h-96"></canvas>
              <div id="canvas-overlay" class="absolute inset-0 pointer-events-none"></div>
            </div>
          </div>
        </section>

        <section aria-labelledby="analysis" class="mb-8">
          <h2 id="analysis" class="text-xl font-semibold mb-3">3. Layout checks</h2>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="border rounded-md p-3">
              <h3 class="text-sm font-semibold mb-2">Work triangle</h3>
              <p class="text-xs text-gray-500 mb-2">Distance between sink, cooktop and fridge.</p>
              <dl class="text-sm space-y-1">
                <div class="flex justify-between">
                  <dt>Total triangle length</dt>
                  <dd id="triangle-total" class="font-medium">–</dd>
                </div>
                <div class="flex justify-between">
                  <dt>Each leg</dt>
                  <dd id="triangle-legs" class="font-medium">–</dd>
                </div>
              </dl>
              <p id="triangle-status" class="mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn">Add sink, cooktop and fridge to evaluate.</p>
            </div>
            <div class="border rounded-md p-3">
              <h3 class="text-sm font-semibold mb-2">Aisle & island clearances</h3>
              <p class="text-xs text-gray-500 mb-2">Recommended minimum walking and working space.</p>
              <dl class="text-sm space-y-1">
                <div class="flex justify-between">
                  <dt>Narrowest aisle</dt>
                  <dd id="aisle-min" class="font-medium">–</dd>
                </div>
                <div class="flex justify-between">
                  <dt>Island clearance (if any)</dt>
                  <dd id="island-clearance" class="font-medium">–</dd>
                </div>
              </dl>
              <p id="clearance-status" class="mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn">Place cabinets and island to evaluate.</p>
            </div>
          </div>
        </section>

        <section aria-labelledby="summary" class="mb-10">
          <h2 id="summary" class="text-xl font-semibold mb-3">4. Cabinet & appliance summary</h2>
          <div class="overflow-x-auto border rounded-md">
            <table class="min-w-full text-sm">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-3 py-2 text-left font-semibold text-gray-700">Item</th>
                  <th class="px-3 py-2 text-left font-semibold text-gray-700">Count</th>
                  <th class="px-3 py-2 text-left font-semibold text-gray-700">Typical size</th>
                </tr>
              </thead>
              <tbody id="summary-body" class="divide-y divide-gray-100">
                <!-- Filled by JS -->
              </tbody>
            </table>
          </div>
          <p class="text-xs text-gray-500 mt-2">Use this as a quick take-off to discuss with your kitchen designer or contractor.</p>
        </section>

        <!-- Explanatory content -->
        <section class="prose">
          <h2>How this kitchen layout calculator works</h2>
          <p>
            This tool is a lightweight kitchen planner focused on <strong>dimensions, clearances and ergonomics</strong> rather than photorealistic 3D.
            It lets you sketch a top‑view floor plan, place key elements, and automatically checks:
          </p>
          <ul>
            <li>Overall room size and scale</li>
            <li>Distances between sink, cooktop and refrigerator (the work triangle)</li>
            <li>Minimum aisle widths and island clearances</li>
            <li>Counts of base, wall and tall cabinets plus major appliances</li>
          </ul>

          <h3>Recommended kitchen dimensions & clearances</h3>
          <p>Common North American guidelines (NKBA and similar) suggest:</p>
          <ul>
            <li><strong>Work triangle total length:</strong> 13–26 ft (4.0–8.0 m)</li>
            <li><strong>Each triangle leg:</strong> 4–9 ft (1.2–2.7 m)</li>
            <li><strong>Walkway / aisle (one cook):</strong> ≥ 36 in (0.9 m)</li>
            <li><strong>Work aisle (two cooks or behind island):</strong> ≥ 42–48 in (1.1–1.2 m)</li>
            <li><strong>Island clearance:</strong> ideally ≥ 42 in (1.1 m) on working sides</li>
          </ul>
          <p>
            The calculator compares your layout to these ranges and labels them as:
            <span class="badge-ok px-2 py-0.5 rounded-full text-xs">Good</span>,
            <span class="badge-warn px-2 py-0.5 rounded-full text-xs">Borderline</span>, or
            <span class="badge-bad px-2 py-0.5 rounded-full text-xs">Too tight</span>.
          </p>

          <h3>Work triangle calculation</h3>
          <p>
            Once you place a <strong>sink</strong>, <strong>cooktop</strong> and <strong>fridge</strong>, the tool measures the triangle between their centers.
            Distances are computed using the standard Euclidean formula:
          </p>
          <div class="formula-box text-sm">
            <p>For two points \(A(x_1, y_1)\) and \(B(x_2, y_2)\):</p>
            <p>\[
              d(A,B) = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}
            \]</p>
            <p>The total work triangle length is:</p>
            <p>\[
              L_\text{triangle} = d(\text{sink}, \text{cooktop}) +
              d(\text{cooktop}, \text{fridge}) +
              d(\text{fridge}, \text{sink})
            \]</p>
          </div>

          <h3>Aisle width estimation</h3>
          <p>
            Aisle widths are approximated by scanning the layout for the <strong>minimum distance between facing cabinet or island edges</strong>.
            If the narrowest gap is below 36 in (0.9 m), the tool flags it as too tight.
          </p>

          <h2>Practical tips for common kitchen layouts</h2>
          <h3>L‑shaped kitchen</h3>
          <ul>
            <li>Place the sink and cooktop on adjacent walls, with the fridge at the end of one leg.</li>
            <li>Keep at least 15 in (38 cm) of counter on each side of the cooktop.</li>
          </ul>

          <h3>U‑shaped kitchen</h3>
          <ul>
            <li>Avoid placing tall pantry cabinets directly opposite each other in the tightest part of the U.</li>
            <li>Check that the opening of the U is at least 48 in (1.2 m) wide if you expect two people cooking.</li>
          </ul>

          <h3>Galley kitchen</h3>
          <ul>
            <li>Put the sink and cooktop on opposite runs to avoid crowding.</li>
            <li>Try to keep the aisle at 42 in (1.1 m) or more if doors open into it.</li>
          </ul>

          <h2>Limitations & next steps</h2>
          <p>
            This calculator is for <strong>preliminary planning</strong> only. It does not account for:
          </p>
          <ul>
            <li>Structural walls, plumbing or electrical constraints</li>
            <li>Exact door swings and window heights</li>
            <li>Manufacturer‑specific cabinet modules</li>
          </ul>
          <p>
            Always verify measurements on site and review your final plan with a qualified kitchen designer, architect or contractor before ordering cabinetry or starting construction.
          </p>

          <h2>FAQ</h2>
          <h3>What is a good size for a kitchen island?</h3>
          <p>
            A common minimum is about <strong>4 ft (1.2 m) long</strong> and <strong>2 ft (0.6 m) deep</strong>, with at least
            <strong>42 in (1.1 m)</strong> of clearance on working sides. Larger rooms can accommodate wider or longer islands,
            but clearances are usually more important than island size.
          </p>

          <h3>Can this tool replace a professional kitchen designer?</h3>
          <p>
            No. It’s designed to help you explore options and check basic ergonomics, but it doesn’t replace professional
            code checks, appliance specifications, or detailed construction drawings.
          </p>

          <h3>How accurate are the dimensions?</h3>
          <p>
            As long as you enter accurate room measurements and keep the scale unchanged, distances are accurate to within a
            few centimeters or an inch. For final cabinetry orders, always double‑check with a tape measure and manufacturer specs.
          </p>
        </section>
      </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Units</li><li>Room length</li><li>Room width</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Kitchen, Layout, Calculator, Units, Room length, Room width.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Units</li><li>Room length</li><li>Room width</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
    <aside class="w-full lg:w-1/3">
      <div class="bg-white p-4 rounded-lg shadow-md mb-6">
        <h2 class="text-lg font-semibold mb-3">Related Construction & Layout Tools</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/floor-plan-calculator" class="text-blue-600 hover:underline">Floor Plan Calculator</a></li>
          <li><a href="https://calcdomain.com/room-layout-calculator" class="text-blue-600 hover:underline">Room Layout Calculator</a></li>
          <li><a href="https://calcdomain.com/bathroom-layout-calculator" class="text-blue-600 hover:underline">Bathroom Layout Calculator</a></li>
          <li><a href="https://calcdomain.com/flooring-calculator" class="text-blue-600 hover:underline">Project Layout &amp; Design – Flooring</a></li>
          <li><a href="https://calcdomain.com/materials-estimation" class="text-blue-600 hover:underline">Materials Estimation</a></li>
          <li><a href="https://calcdomain.com/construction-cost-estimator" class="text-blue-600 hover:underline">Construction Cost Estimator</a></li>
        
          <li><a href="https://calcdomain.com/siding" class="text-blue-600 hover:underline">Siding Calculator</a></li>
</ul>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-md">
        <h2 class="text-lg font-semibold mb-3">More Construction & DIY Calculators</h2>
        <ul class="space-y-2 text-sm">
          <li><a href="https://calcdomain.com/concrete-slab" class="text-blue-600 hover:underline">Concrete Slab Volume</a></li>
          <li><a href="https://calcdomain.com/deck-calculator" class="text-blue-600 hover:underline">Decking Calculator</a></li>
          <li><a href="https://calcdomain.com/roofing-calculator" class="text-blue-600 hover:underline">Roofing Calculator</a></li>
          <li><a href="https://calcdomain.com/tile-calculator" class="text-blue-600 hover:underline">Tile Calculator</a></li>
          <li><a href="https://calcdomain.com/paint-calculator" class="text-blue-600 hover:underline">Paint Calculator</a></li>
          <li><a href="https://calcdomain.com/construction-diy" class="text-blue-600 hover:underline">All Construction &amp; DIY Tools</a></li>
        </ul>
      </div>
    </aside>
  </div>
</div>
<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>

<script src="/assets/js/mobile-menu.js"></script>
<script src="/search.js"></script>

<script>
  window.MathJax = {
    tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
    svg: { fontCache: 'global' }
  };
</script>
<script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

<script>
/**
 * Simple 2D kitchen layout planner
 * - Grid-based canvas
 * - Place rectangular items (cabinets, appliances, island)
 * - Drag to move, drag corner to resize
 * - Compute work triangle & aisle clearances
 */

const canvas = document.getElementById('layout-canvas');
const ctx = canvas.getContext('2d');

const unitSelect = document.getElementById('unit-system');
const roomLengthInput = document.getElementById('room-length');
const roomWidthInput = document.getElementById('room-width');
const roomLengthUnit = document.getElementById('room-length-unit');
const roomWidthUnit = document.getElementById('room-width-unit');
const scaleLabel = document.getElementById('scale-label');

const triangleTotalEl = document.getElementById('triangle-total');
const triangleLegsEl = document.getElementById('triangle-legs');
const triangleStatusEl = document.getElementById('triangle-status');
const aisleMinEl = document.getElementById('aisle-min');
const islandClearanceEl = document.getElementById('island-clearance');
const clearanceStatusEl = document.getElementById('clearance-status');
const summaryBody = document.getElementById('summary-body');

let currentTool = null;
let zoom = 1; // multiplier on base grid
const baseGrid = 20; // px per "grid" unit
let items = [];
let draggingItem = null;
let dragOffset = {x:0, y:0};
let resizingItem = null;
let resizeStart = null;
let hoverCorner = null;

// Default typical sizes (in feet or meters depending on units)
const typicalSizesImperial = {
  base: {w: 3, d: 2},
  wall: {w: 3, d: 1},
  tall: {w: 2, d: 2},
  sink: {w: 3, d: 2},
  cooktop: {w: 2.5, d: 2},
  fridge: {w: 3, d: 2.5},
  island: {w: 5, d: 3}
};
const typicalSizesMetric = {
  base: {w: 0.9, d: 0.6},
  wall: {w: 0.9, d: 0.35},
  tall: {w: 0.6, d: 0.6},
  sink: {w: 0.9, d: 0.6},
  cooktop: {w: 0.75, d: 0.6},
  fridge: {w: 0.9, d: 0.75},
  island: {w: 1.6, d: 0.9}
};

function getUnitSystem() {
  return unitSelect.value === 'metric' ? 'metric' : 'imperial';
}

function roomSizeInFeet() {
  const sys = getUnitSystem();
  let L = parseFloat(roomLengthInput.value) || 0;
  let W = parseFloat(roomWidthInput.value) || 0;
  if (sys === 'metric') {
    // meters to feet
    L *= 3.28084;
    W *= 3.28084;
  }
  return {L, W};
}

function unitLabel() {
  return getUnitSystem() === 'metric' ? 'm' : 'ft';
}

function toDisplayDistance(feet) {
  const sys = getUnitSystem();
  if (sys === 'metric') {
    const meters = feet / 3.28084;
    return meters.toFixed(2) + ' m';
  }
  return feet.toFixed(1) + ' ft';
}

function getTypicalSize(type) {
  const sys = getUnitSystem();
  const map = sys === 'metric' ? typicalSizesMetric : typicalSizesImperial;
  return map[type] || {w: 3, d: 2};
}

function updateScale() {
  const {L, W} = roomSizeInFeet();
  const maxRoom = Math.max(L, W) || 1;
  const padding = 40;
  const usableWidth = canvas.width - padding * 2;
  const usableHeight = canvas.height - padding * 2;
  const scaleX = usableWidth / maxRoom;
  const scaleY = usableHeight / maxRoom;
  const ftPerGrid = 1; // conceptual
  const pxPerFt = Math.min(scaleX, scaleY);
  zoom = pxPerFt / (baseGrid / ftPerGrid);
  const sqLabel = getUnitSystem() === 'metric' ? '≈ 0.3 m' : '≈ 1 ft';
  scaleLabel.textContent = `Scale: 1 square ${sqLabel}`;
}

function drawGrid() {
  const gridSize = baseGrid * zoom;
  ctx.save();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = '#f9fafb';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.strokeStyle = '#e5e7eb';
  ctx.lineWidth = 1;
  for (let x = 0; x <= canvas.width; x += gridSize) {
    ctx.beginPath();
    ctx.moveTo(x + 0.5, 0);
    ctx.lineTo(x + 0.5, canvas.height);
    ctx.stroke();
  }
  for (let y = 0; y <= canvas.height; y += gridSize) {
    ctx.beginPath();
    ctx.moveTo(0, y + 0.5);
    ctx.lineTo(canvas.width, y + 0.5);
    ctx.stroke();
  }
  ctx.restore();
}

function drawRoomOutline() {
  const {L, W} = roomSizeInFeet();
  const padding = 40;
  const maxRoom = Math.max(L, W) || 1;
  const usableWidth = canvas.width - padding * 2;
  const usableHeight = canvas.height - padding * 2;
  const scale = Math.min(usableWidth / maxRoom, usableHeight / maxRoom);

  const roomPxW = L * scale;
  const roomPxH = W * scale;
  const offsetX = (canvas.width - roomPxW) / 2;
  const offsetY = (canvas.height - roomPxH) / 2;

  ctx.save();
  ctx.strokeStyle = '#4b5563';
  ctx.lineWidth = 2;
  ctx.strokeRect(offsetX, offsetY, roomPxW, roomPxH);
  ctx.restore();

  return {offsetX, offsetY, scale};
}

function itemColor(type) {
  switch (type) {
    case 'base': return '#bfdbfe';
    case 'wall': return '#e0f2fe';
    case 'tall': return '#fecaca';
    case 'sink': return '#a5b4fc';
    case 'cooktop': return '#fed7aa';
    case 'fridge': return '#bbf7d0';
    case 'island': return '#fef3c7';
    default: return '#e5e7eb';
  }
}

function drawItems(roomTransform) {
  const {offsetX, offsetY, scale} = roomTransform;
  items.forEach(item => {
    const x = offsetX + item.x * scale;
    const y = offsetY + item.y * scale;
    const w = item.w * scale;
    const h = item.d * scale;

    ctx.save();
    ctx.fillStyle = itemColor(item.type);
    ctx.strokeStyle = '#374151';
    ctx.lineWidth = 1.5;
    ctx.fillRect(x, y, w, h);
    ctx.strokeRect(x, y, w, h);

    ctx.fillStyle = '#111827';
    ctx.font = '10px Inter';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    const label = item.label || item.type;
    ctx.fillText(label, x + w / 2, y + h / 2);

    // resize handle
    ctx.fillStyle = '#111827';
    const size = 8;
    ctx.fillRect(x + w - size, y + h - size, size, size);
    ctx.restore();
  });
}

function redraw() {
  updateScale();
  drawGrid();
  const roomTransform = drawRoomOutline();
  drawItems(roomTransform);
  computeAnalysis();
  updateSummary();
}

function canvasToRoomCoords(px, py) {
  const {offsetX, offsetY, scale} = drawRoomOutline();
  const x = (px - offsetX) / scale;
  const y = (py - offsetY) / scale;
  return {x, y};
}

function roomToCanvasCoords(x, y) {
  const {offsetX, offsetY, scale} = drawRoomOutline();
  return {x: offsetX + x * scale, y: offsetY + y * scale, scale};
}

function hitTestItem(px, py) {
  const {offsetX, offsetY, scale} = drawRoomOutline();
  for (let i = items.length - 1; i >= 0; i--) {
    const item = items[i];
    const x = offsetX + item.x * scale;
    const y = offsetY + item.y * scale;
    const w = item.w * scale;
    const d = item.d * scale;
    if (px >= x && px <= x + w && py >= y && py <= y + d) {
      // check resize corner
      const size = 10;
      if (px >= x + w - size && py >= y + d - size) {
        return {item, mode: 'resize'};
      }
      return {item, mode: 'move'};
    }
  }
  return null;
}

function addItemAt(type, px, py) {
  const {x, y} = canvasToRoomCoords(px, py);
  const size = getTypicalSize(type);
  const item = {
    id: Date.now() + '_' + Math.random().toString(16).slice(2),
    type,
    label: type.charAt(0).toUpperCase() + type.slice(1),
    x: x - size.w / 2,
    y: y - size.d / 2,
    w: size.w,
    d: size.d
  };
  items.push(item);
  redraw();
}

function computeWorkTriangle() {
  const sink = items.find(i => i.type === 'sink');
  const cook = items.find(i => i.type === 'cooktop');
  const fridge = items.find(i => i.type === 'fridge');
  if (!sink || !cook || !fridge) return null;

  function center(item) {
    return {x: item.x + item.w / 2, y: item.y + item.d / 2};
  }
  const cs = center(sink);
  const cc = center(cook);
  const cf = center(fridge);

  function dist(a, b) {
    const dx = a.x - b.x;
    const dy = a.y - b.y;
    return Math.sqrt(dx*dx + dy*dy);
  }

  const leg1 = dist(cs, cc);
  const leg2 = dist(cc, cf);
  const leg3 = dist(cf, cs);
  const total = leg1 + leg2 + leg3;

  return {legs: [leg1, leg2, leg3], total};
}

function computeAisles() {
  if (items.length < 2) return null;
  let minGap = Infinity;
  let islandGap = Infinity;
  const islandItems = items.filter(i => i.type === 'island');
  for (let i = 0; i < items.length; i++) {
    for (let j = i+1; j < items.length; j++) {
      const a = items[i], b = items[j];
      const gap = rectGap(a, b);
      if (gap < minGap) minGap = gap;
      if ((a.type === 'island' || b.type === 'island') && gap < islandGap) {
        islandGap = gap;
      }
    }
  }
  if (!isFinite(minGap)) return null;
  return {
    minGap: Math.max(minGap, 0),
    islandGap: isFinite(islandGap) ? Math.max(islandGap, 0) : null
  };
}

function rectGap(a, b) {
  // axis-aligned rectangles in room coordinates
  const ax1 = a.x, ax2 = a.x + a.w;
  const ay1 = a.y, ay2 = a.y + a.d;
  const bx1 = b.x, bx2 = b.x + b.w;
  const by1 = b.y, by2 = b.y + b.d;

  const horizOverlap = Math.max(0, Math.min(ax2, bx2) - Math.max(ax1, bx1));
  const vertOverlap = Math.max(0, Math.min(ay2, by2) - Math.max(ay1, by1));

  if (horizOverlap > 0) {
    // vertical gap
    if (ay2 <= by1) return by1 - ay2;
    if (by2 <= ay1) return ay1 - by2;
  }
  if (vertOverlap > 0) {
    // horizontal gap
    if (ax2 <= bx1) return bx1 - ax2;
    if (bx2 <= ax1) return ax1 - bx2;
  }
  // diagonal or overlapping
  if (ax2 < bx1 && ay2 < by1) {
    return Math.hypot(bx1 - ax2, by1 - ay2);
  }
  if (bx2 < ax1 && by2 < ay1) {
    return Math.hypot(ax1 - bx2, ay1 - by2);
  }
  if (ax2 < bx1 && ay1 > by2) {
    return Math.hypot(bx1 - ax2, ay1 - by2);
  }
  if (bx2 < ax1 && by1 > ay2) {
    return Math.hypot(ax1 - bx2, by1 - ay2);
  }
  return 0; // overlapping
}

function computeAnalysis() {
  const triangle = computeWorkTriangle();
  if (!triangle) {
    triangleTotalEl.textContent = '–';
    triangleLegsEl.textContent = '–';
    triangleStatusEl.textContent = 'Add sink, cooktop and fridge to evaluate.';
    triangleStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn';
  } else {
    const {total, legs} = triangle;
    triangleTotalEl.textContent = toDisplayDistance(total);
    triangleLegsEl.textContent = legs.map(l => toDisplayDistance(l)).join(' · ');

    // Evaluate against 13–26 ft
    const totalFt = total;
    if (totalFt >= 13 && totalFt <= 26) {
      triangleStatusEl.textContent = 'Good work triangle length.';
      triangleStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-ok';
    } else if (totalFt >= 10 && totalFt <= 30) {
      triangleStatusEl.textContent = 'Borderline triangle length – check if it feels comfortable.';
      triangleStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn';
    } else {
      triangleStatusEl.textContent = 'Triangle too short or too long – consider moving sink, cooktop or fridge.';
      triangleStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-bad';
    }
  }

  const aisles = computeAisles();
  if (!aisles) {
    aisleMinEl.textContent = '–';
    islandClearanceEl.textContent = '–';
    clearanceStatusEl.textContent = 'Place cabinets and island to evaluate.';
    clearanceStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn';
  } else {
    const minFt = aisles.minGap;
    aisleMinEl.textContent = toDisplayDistance(minFt);
    if (aisles.islandGap != null) {
      islandClearanceEl.textContent = toDisplayDistance(aisles.islandGap);
    } else {
      islandClearanceEl.textContent = 'No island';
    }

    if (minFt >= 4) {
      clearanceStatusEl.textContent = 'Aisles look comfortable for most kitchens.';
      clearanceStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-ok';
    } else if (minFt >= 3) {
      clearanceStatusEl.textContent = 'Aisles are workable but may feel tight with multiple cooks.';
      clearanceStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-warn';
    } else {
      clearanceStatusEl.textContent = 'Aisles are too narrow – consider shrinking cabinets or moving the island.';
      clearanceStatusEl.className = 'mt-2 text-xs inline-flex items-center px-2 py-1 rounded-full badge-bad';
    }
  }
}

function updateSummary() {
  const counts = {};
  items.forEach(i => {
    counts[i.type] = (counts[i.type] || 0) + 1;
  });
  const rows = [];
  const labels = {
    base: 'Base cabinet',
    wall: 'Wall cabinet',
    tall: 'Tall / pantry',
    sink: 'Sink base',
    cooktop: 'Cooktop / range',
    fridge: 'Refrigerator',
    island: 'Island'
  };
  const typical = getUnitSystem() === 'metric' ? typicalSizesMetric : typicalSizesImperial;
  Object.keys(counts).forEach(type => {
    const size = typical[type];
    let sizeLabel = '';
    if (size) {
      sizeLabel = `${size.w} × ${size.d} ${unitLabel()}`;
    }
    rows.push(`
      <tr>
        <td class="px-3 py-2">${labels[type] || type}</td>
        <td class="px-3 py-2">${counts[type]}</td>
        <td class="px-3 py-2 text-gray-500">${sizeLabel}</td>
      </tr>
    `);
  });
  if (!rows.length) {
    summaryBody.innerHTML = `
      <tr>
        <td colspan="3" class="px-3 py-3 text-sm text-gray-500">
          No items yet. Add cabinets, appliances or an island to see a summary here.
        </td>
      </tr>
    `;
  } else {
    summaryBody.innerHTML = rows.join('');
  }
}

// Event handlers
document.querySelectorAll('.tool-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const tool = btn.dataset.tool;
    if (tool === 'clear') {
      items = [];
      currentTool = null;
      document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('tool-button-active'));
      redraw();
      return;
    }
    currentTool = tool;
    document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('tool-button-active'));
    btn.classList.add('tool-button-active');
  });
});

unitSelect.addEventListener('change', () => {
  const sys = getUnitSystem();
  roomLengthUnit.textContent = sys === 'metric' ? 'm' : 'ft';
  roomWidthUnit.textContent = sys === 'metric' ? 'm' : 'ft';
  redraw();
});

roomLengthInput.addEventListener('input', redraw);
roomWidthInput.addEventListener('input', redraw);

document.getElementById('zoom-in').addEventListener('click', () => {
  zoom = Math.min(zoom * 1.2, 3);
  redraw();
});
document.getElementById('zoom-out').addEventListener('click', () => {
  zoom = Math.max(zoom / 1.2, 0.5);
  redraw();
});

canvas.addEventListener('mousedown', (e) => {
  const rect = canvas.getBoundingClientRect();
  const px = e.clientX - rect.left;
  const py = e.clientY - rect.top;

  if (currentTool && currentTool !== 'select') {
    addItemAt(currentTool, px, py);
    return;
  }

  const hit = hitTestItem(px, py);
  if (hit) {
    if (hit.mode === 'resize') {
      resizingItem = hit.item;
      const {x, y, scale} = roomToCanvasCoords(hit.item.x, hit.item.y);
      resizeStart = {px, py, x, y, w: hit.item.w * scale, d: hit.item.d * scale, scale};
    } else {
      draggingItem = hit.item;
      const {x, y} = roomToCanvasCoords(hit.item.x, hit.item.y);
      dragOffset.x = px - x;
      dragOffset.y = py - y;
    }
  }
});

canvas.addEventListener('mousemove', (e) => {
  const rect = canvas.getBoundingClientRect();
  const px = e.clientX - rect.left;
  const py = e.clientY - rect.top;

  if (draggingItem) {
    const {offsetX, offsetY, scale} = drawRoomOutline();
    const newX = (px - dragOffset.x - offsetX) / scale;
    const newY = (py - dragOffset.y - offsetY) / scale;
    draggingItem.x = newX;
    draggingItem.y = newY;
    redraw();
    return;
  }

  if (resizingItem && resizeStart) {
    const dx = px - resizeStart.x;
    const dy = py - resizeStart.y;
    const newW = Math.max(dx / resizeStart.scale, 0.5);
    const newD = Math.max(dy / resizeStart.scale, 0.5);
    resizingItem.w = newW;
    resizingItem.d = newD;
    redraw();
    return;
  }

  // hover cursor for resize corner
  const hit = hitTestItem(px, py);
  if (hit && hit.mode === 'resize') {
    canvas.style.cursor = 'nwse-resize';
  } else if (hit && hit.mode === 'move') {
    canvas.style.cursor = 'move';
  } else {
    canvas.style.cursor = 'default';
  }
});

canvas.addEventListener('mouseup', () => {
  draggingItem = null;
  resizingItem = null;
  resizeStart = null;
});

canvas.addEventListener('mouseleave', () => {
  draggingItem = null;
  resizingItem = null;
  resizeStart = null;
});

// Double-click to delete
canvas.addEventListener('dblclick', (e) => {
  const rect = canvas.getBoundingClientRect();
  const px = e.clientX - rect.left;
  const py = e.clientY - rect.top;
  const hit = hitTestItem(px, py);
  if (hit) {
    items = items.filter(i => i.id !== hit.item.id);
    redraw();
  }
});

// Initial draw
redraw();
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script> window.ezstandalone = window.ezstandalone || {}; ezstandalone.cmd = ezstandalone.cmd || []; </script>
</body> </html>