<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/caching-strategy" />
    <title>Caching Strategy Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Caching Strategy Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Caching Strategy Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Caching Strategy Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/caching-strategy" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Caching Strategy Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Caching Strategy Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Mechanical Engineering Now Tools &", "item": "https://calcdomain.com/subcategories/engineering-mechanical"}, {"@type": "ListItem", "position": 4, "name": "Caching Strategy Calculator & Visual Designer", "item": "https://calcdomain.com/caching-strategy"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/engineering-mechanical" class="text-blue-600 hover:underline">Mechanical Engineering Now Tools &amp;</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Caching Strategy Calculator &amp; Visual Designer</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Caching Strategy Calculator & Visual Designer
              </h1>
              <p class="text-gray-600">
                Model read/write patterns, pick cache strategies (cache-aside,
                read-through, write-through, write-back, write-around), and
                estimate hit ratio, latency, and backend load.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="caching-inputs" class="mb-8">
              <h2 id="caching-inputs" class="text-xl font-semibold mb-4">
                1. Workload & Cache Configuration
              </h2>
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Workload -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">Workload</h3>
                  <div>
                    <label
                      for="reqRate"
                      class="block text-sm font-medium text-gray-700"
                      >Total request rate (req/s)</label
                    >
                    <input
                      id="reqRate"
                      type="number"
                      min="1"
                      value="1000"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      for="readRatio"
                      class="block text-sm font-medium text-gray-700"
                      >Read ratio (%)</label
                    >
                    <input
                      id="readRatio"
                      type="number"
                      min="0"
                      max="100"
                      value="90"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>
                  <div>
                    <label
                      for="hotFraction"
                      class="block text-sm font-medium text-gray-700"
                      >Hot data fraction (top keys) (%)</label
                    >
                    <input
                      id="hotFraction"
                      type="number"
                      min="1"
                      max="100"
                      value="10"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Approx. share of traffic hitting the hottest keys
                      (Zipf-like distribution).
                    </p>
                  </div>
                  <div>
                    <label
                      for="updateRate"
                      class="block text-sm font-medium text-gray-700"
                      >Updates per key (per minute)</label
                    >
                    <input
                      id="updateRate"
                      type="number"
                      min="0"
                      step="0.01"
                      value="0.1"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>
                </div>

                <!-- Latency & costs -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">Latency & Cost</h3>
                  <div class="grid grid-cols-2 gap-4">
                    <div>
                      <label
                        for="latCache"
                        class="block text-sm font-medium text-gray-700"
                        >Cache latency (ms)</label
                      >
                      <input
                        id="latCache"
                        type="number"
                        min="0"
                        value="1"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="latDb"
                        class="block text-sm font-medium text-gray-700"
                        >DB latency (ms)</label
                      >
                      <input
                        id="latDb"
                        type="number"
                        min="0"
                        value="10"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4">
                    <div>
                      <label
                        for="costCache"
                        class="block text-sm font-medium text-gray-700"
                        >Cache cost per 1M ops ($)</label
                      >
                      <input
                        id="costCache"
                        type="number"
                        min="0"
                        step="0.01"
                        value="0.20"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="costDb"
                        class="block text-sm font-medium text-gray-700"
                        >DB cost per 1M ops ($)</label
                      >
                      <input
                        id="costDb"
                        type="number"
                        min="0"
                        step="0.01"
                        value="1.00"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      for="cacheSize"
                      class="block text-sm font-medium text-gray-700"
                      >Relative cache size (% of working set)</label
                    >
                    <input
                      id="cacheSize"
                      type="number"
                      min="1"
                      max="100"
                      value="20"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Rough proxy for how many hot keys fit in cache.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <section aria-labelledby="strategy-config" class="mb-8">
              <h2 id="strategy-config" class="text-xl font-semibold mb-4">
                2. Strategy & Policy
              </h2>
              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <div>
                    <label
                      for="readStrategy"
                      class="block text-sm font-medium text-gray-700"
                      >Read strategy</label
                    >
                    <select
                      id="readStrategy"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    >
                      <option value="cache-aside">
                        Cache-aside (lazy loading)
                      </option>
                      <option value="read-through">Read-through</option>
                      <option value="read-through-refresh">
                        Read-through + background refresh
                      </option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="writeStrategy"
                      class="block text-sm font-medium text-gray-700"
                      >Write strategy</label
                    >
                    <select
                      id="writeStrategy"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    >
                      <option value="write-through">Write-through</option>
                      <option value="write-around">Write-around</option>
                      <option value="write-back">
                        Write-back (write-behind)
                      </option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="evictionPolicy"
                      class="block text-sm font-medium text-gray-700"
                      >Eviction policy</label
                    >
                    <select
                      id="evictionPolicy"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    >
                      <option value="lru">LRU (Least Recently Used)</option>
                      <option value="lfu">LFU (Least Frequently Used)</option>
                      <option value="fifo">FIFO</option>
                      <option value="none">No eviction (fits in memory)</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="ttlSeconds"
                      class="block text-sm font-medium text-gray-700"
                      >TTL (seconds)</label
                    >
                    <input
                      id="ttlSeconds"
                      type="number"
                      min="0"
                      value="300"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      0 = no TTL (only eviction).
                    </p>
                  </div>
                </div>

                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">
                    Failure & Consistency Assumptions
                  </h3>
                  <div>
                    <label
                      for="allowStale"
                      class="block text-sm font-medium text-gray-700"
                      >Stale reads allowed?</label
                    >
                    <select
                      id="allowStale"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    >
                      <option value="yes">
                        Yes, eventual consistency is OK
                      </option>
                      <option value="no">No, prefer strong consistency</option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="cacheFailureMode"
                      class="block text-sm font-medium text-gray-700"
                      >On cache failure</label
                    >
                    <select
                      id="cacheFailureMode"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    >
                      <option value="fail-open">
                        Fail open (bypass cache, hit DB)
                      </option>
                      <option value="fail-closed">
                        Fail closed (error if cache unavailable)
                      </option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="dbCapacity"
                      class="block text-sm font-medium text-gray-700"
                      >DB max safe throughput (req/s)</label
                    >
                    <input
                      id="dbCapacity"
                      type="number"
                      min="1"
                      value="2000"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used to flag overload risk.
                    </p>
                  </div>
                </div>
              </div>
              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  id="btnLowLatency"
                  type="button"
                  class="px-3 py-1 text-sm border rounded-full text-blue-700 border-blue-300 bg-blue-50"
                >
                  Preset: Low latency, read-heavy
                </button>
                <button
                  id="btnStrongConsistency"
                  type="button"
                  class="px-3 py-1 text-sm border rounded-full text-emerald-700 border-emerald-300 bg-emerald-50"
                >
                  Preset: Strong consistency
                </button>
                <button
                  id="btnWriteHeavy"
                  type="button"
                  class="px-3 py-1 text-sm border rounded-full text-purple-700 border-purple-300 bg-purple-50"
                >
                  Preset: Write-heavy analytics
                </button>
              </div>
            </section>

            <section aria-labelledby="results" class="mb-8">
              <div class="flex items-center justify-between mb-3">
                <h2 id="results" class="text-xl font-semibold">
                  3. Estimated Results
                </h2>
                <button
                  id="runCalc"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
                >
                  Recalculate
                </button>
              </div>

              <div id="resultsContainer" class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="border rounded-lg p-4 bg-slate-50">
                  <h3 class="text-sm font-semibold text-gray-700 mb-1">
                    Cache hit ratio
                  </h3>
                  <p id="hitRatio" class="text-2xl font-bold text-blue-700">
                    –
                  </p>
                  <p id="hitRatioNote" class="text-xs text-gray-500 mt-1"></p>
                </div>
                <div class="border rounded-lg p-4 bg-slate-50">
                  <h3 class="text-sm font-semibold text-gray-700 mb-1">
                    Avg. read latency
                  </h3>
                  <p
                    id="avgLatency"
                    class="text-2xl font-bold text-emerald-700"
                  >
                    –
                  </p>
                  <p class="text-xs text-gray-500 mt-1">
                    Weighted by cache hits vs DB hits.
                  </p>
                </div>
                <div class="border rounded-lg p-4 bg-slate-50">
                  <h3 class="text-sm font-semibold text-gray-700 mb-1">
                    Backend load & cost
                  </h3>
                  <p
                    id="backendLoad"
                    class="text-lg font-semibold text-gray-800"
                  >
                    –
                  </p>
                  <p id="costEstimate" class="text-xs text-gray-500 mt-1"></p>
                </div>
              </div>

              <div id="warnings" class="space-y-2"></div>

              <div class="mt-4">
                <h3 class="text-sm font-semibold text-gray-700 mb-2">
                  Strategy summary
                </h3>
                <div
                  id="strategySummary"
                  class="text-sm text-gray-700 bg-gray-50 border border-gray-200 rounded-md p-3"
                >
                  Configure the inputs above and click “Recalculate” to see a
                  summary.
                </div>
              </div>
            </section>

            <!-- Explanation content -->
            <section class="prose">
              <h2>How this caching strategy calculator works</h2>
              <p>
                This tool is not a full-blown simulator. It uses simple,
                transparent heuristics to help you reason about caching
                strategies for system design, architecture reviews, and
                interviews.
              </p>
              <p>Given your workload and configuration, it estimates:</p>
              <ul>
                <li>
                  <strong>Cache hit ratio</strong> based on cache size, hot key
                  fraction, TTL, and eviction policy.
                </li>
                <li>
                  <strong>Average read latency</strong> from cache vs database
                  latencies and hit ratio.
                </li>
                <li>
                  <strong>Backend (DB) load</strong> and a rough
                  <strong>cost estimate</strong> from cache vs DB ops.
                </li>
              </ul>

              <h3>Key assumptions and formulas</h3>
              <div class="formula-box text-sm">
                <p><strong>1. Read/write split</strong></p>
                <p>
                  \(\text{reads/s} = R = \text{reqRate} \times
                  \frac{\text{readRatio}}{100}\)
                </p>
                <p>\(\text{writes/s} = W = \text{reqRate} - R\)</p>
                <hr class="my-2" />
                <p>
                  <strong
                    >2. Base hit ratio from cache size &amp; hot set</strong
                  >
                </p>
                <p>We approximate:</p>
                <ul>
                  <li>\(f_h\) = hot data fraction (e.g. 10% of keys)</li>
                  <li>\(c\) = cache size fraction (e.g. 20% of working set)</li>
                </ul>
                <p>
                  If \(c \ge f_h\), we assume most hot keys fit in cache and
                  \(\text{baseHit} \approx 0.9\). Otherwise we scale linearly:
                </p>
                <p>\(\text{baseHit} \approx 0.9 \times \frac{c}{f_h}\)</p>
                <hr class="my-2" />
                <p><strong>3. TTL and write invalidation penalty</strong></p>
                <p>
                  Longer TTLs and higher update rates reduce effective hit ratio
                  due to invalidations and expirations. We apply a simple
                  penalty factor:
                </p>
                <p>
                  \(\text{hitRatio} \approx \text{baseHit} \times (1 -
                  p_{\text{ttl}}) \times (1 - p_{\text{writes}})\)
                </p>
                <p>
                  where \(p_{\text{ttl}}\) grows with shorter TTLs and
                  \(p_{\text{writes}}\) grows with update rate.
                </p>
                <hr class="my-2" />
                <p><strong>4. Average read latency</strong></p>
                <p>
                  \(\text{avgLatency} \approx \text{hitRatio} \times
                  L_{\text{cache}} + (1 - \text{hitRatio}) \times
                  L_{\text{db}}\)
                </p>
                <hr class="my-2" />
                <p><strong>5. Backend load and cost</strong></p>
                <p>
                  \(\text{dbReads/s} \approx R \times (1 - \text{hitRatio})\)
                  (plus extra DB writes depending on strategy).
                </p>
                <p>
                  Cost is estimated as: \(\text{cost} \approx \text{cacheOps}
                  \times C_{\text{cache}} + \text{dbOps} \times C_{\text{db}}\),
                  where costs are per million operations.
                </p>
              </div>

              <h2>Common caching strategies and when to use them</h2>

              <h3>Cache-aside (lazy loading)</h3>
              <p>
                <strong>Pattern:</strong> Application checks cache first, then
                DB on miss, then populates cache.
              </p>
              <ul>
                <li>
                  <strong>Pros:</strong> Simple, widely supported, cache failure
                  just means more DB load.
                </li>
                <li>
                  <strong>Cons:</strong> First request after eviction is slow;
                  you must handle invalidation yourself.
                </li>
                <li>
                  <strong>Use when:</strong> Read-heavy workloads, moderate
                  freshness requirements, simple architecture.
                </li>
              </ul>

              <h3>Read-through</h3>
              <p>
                <strong>Pattern:</strong> Application always reads through
                cache; cache knows how to load from DB on miss.
              </p>
              <ul>
                <li>
                  <strong>Pros:</strong> Centralized loading logic, easier to
                  reuse across services.
                </li>
                <li>
                  <strong>Cons:</strong> Ties you to a cache provider or
                  library; still needs invalidation strategy.
                </li>
                <li>
                  <strong>Use when:</strong> Using managed caches (Redis,
                  Memcached, CDNs) with loader hooks.
                </li>
              </ul>

              <h3>Write-through</h3>
              <p>
                <strong>Pattern:</strong> On write, update DB and cache
                synchronously.
              </p>
              <ul>
                <li>
                  <strong>Pros:</strong> Cache is always up to date; simple to
                  reason about.
                </li>
                <li>
                  <strong>Cons:</strong> Higher write latency; more write load
                  on cache and DB.
                </li>
                <li>
                  <strong>Use when:</strong> Strong consistency is important and
                  write volume is manageable.
                </li>
              </ul>

              <h3>Write-around</h3>
              <p>
                <strong>Pattern:</strong> Writes go directly to DB; cache is
                updated only on subsequent reads.
              </p>
              <ul>
                <li>
                  <strong>Pros:</strong> Avoids polluting cache with rarely-read
                  data.
                </li>
                <li>
                  <strong>Cons:</strong> First read after write is stale or
                  misses; more DB reads immediately after writes.
                </li>
                <li>
                  <strong>Use when:</strong> Write-heavy workloads where many
                  writes are never read.
                </li>
              </ul>

              <h3>Write-back (write-behind)</h3>
              <p>
                <strong>Pattern:</strong> Writes go to cache first and are
                flushed to DB asynchronously.
              </p>
              <ul>
                <li>
                  <strong>Pros:</strong> Very low write latency; can batch
                  writes and reduce DB load.
                </li>
                <li>
                  <strong>Cons:</strong> Risk of data loss or inconsistency if
                  cache fails before flushing; complex.
                </li>
                <li>
                  <strong>Use when:</strong> High write throughput, analytics,
                  or non-critical data where occasional loss is acceptable.
                </li>
              </ul>

              <h2>Eviction policies: LRU vs LFU vs FIFO</h2>
              <ul>
                <li>
                  <strong>LRU (Least Recently Used):</strong> Good default for
                  most workloads with temporal locality.
                </li>
                <li>
                  <strong>LFU (Least Frequently Used):</strong> Better when
                  access patterns are stable and skewed.
                </li>
                <li>
                  <strong>FIFO:</strong> Simple but can evict hot keys; rarely
                  optimal.
                </li>
                <li>
                  <strong>No eviction:</strong> Only if you are sure the working
                  set fits in memory.
                </li>
              </ul>

              <h2>Designing a robust caching strategy: step-by-step</h2>
              <ol>
                <li>
                  <strong>Characterize your workload.</strong> Measure
                  read/write ratio, key popularity, and update frequency.
                </li>
                <li>
                  <strong>Decide on consistency vs latency.</strong> Are
                  slightly stale reads acceptable?
                </li>
                <li>
                  <strong>Pick a read strategy.</strong> Cache-aside or
                  read-through for most apps.
                </li>
                <li>
                  <strong>Pick a write strategy.</strong> Write-through for
                  strong consistency; write-around or write-back for heavy
                  writes.
                </li>
                <li>
                  <strong>Size your cache.</strong> Start by fitting the hot
                  set; adjust based on hit ratio and cost.
                </li>
                <li>
                  <strong>Set TTLs.</strong> Longer TTLs for static data,
                  shorter for frequently changing entities.
                </li>
                <li>
                  <strong>Plan invalidation.</strong> On writes, delete or
                  update relevant keys; consider pub/sub for multi-node caches.
                </li>
                <li>
                  <strong>Plan failure modes.</strong> Decide what happens if
                  cache or DB is down (fail-open vs fail-closed).
                </li>
              </ol>

              <h2 id="faq">FAQ</h2>

              <h3>How accurate are these estimates?</h3>
              <p>
                The calculator uses simplified formulas and heuristics. Real
                systems have complex access distributions, network variability,
                and multi-level caches (CDN, app cache, DB cache). Use this tool
                for
                <strong>intuition and comparison</strong>, not for exact
                capacity planning.
              </p>

              <h3>How can I validate a caching strategy in production?</h3>
              <ul>
                <li>
                  Enable detailed metrics: hit ratio, latency, error rates,
                  eviction counts.
                </li>
                <li>
                  Run A/B tests or canary deployments with different TTLs or
                  policies.
                </li>
                <li>
                  Load-test with realistic traffic patterns before rolling out
                  globally.
                </li>
                <li>
                  Simulate cache failures to ensure your system degrades
                  gracefully.
                </li>
              </ul>

              <h3>Should I cache everything?</h3>
              <p>No. Focus on:</p>
              <ul>
                <li>
                  Hot, frequently-read data (profiles, product details,
                  configuration).
                </li>
                <li>Expensive computations (aggregations, recommendations).</li>
                <li>
                  Data that can tolerate some staleness or has clear
                  invalidation rules.
                </li>
              </ul>
              <p>
                Avoid caching highly volatile data without a strong invalidation
                story.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Caching, Strategy.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Tools
            </h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/api-latency"
                  class="text-blue-600 hover:underline"
                  >API Latency & Throughput</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/load-balancing-simulator"
                  class="text-blue-600 hover:underline"
                  >Load Balancing Algorithm Simulator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/database-sizing"
                  class="text-blue-600 hover:underline"
                  >Database Sizing</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/packet-loss-calculator"
                  class="text-blue-600 hover:underline"
                  >Packet Loss Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/latency-calculator"
                  class="text-blue-600 hover:underline"
                  >Network Latency Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/regex-tester"
                  class="text-blue-600 hover:underline"
                  >Regular Expression (Regex) Tester</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bernoulli-equation"
                  class="text-blue-600 hover:underline"
                  >Bernoulli's Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/littles-law"
                  class="text-blue-600 hover:underline"
                  >Little's Law</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Quick tips for better caching
            </h2>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>Start with cache-aside + LRU + moderate TTLs.</li>
              <li>
                Cache only what you can safely serve stale for a short time.
              </li>
              <li>
                Use versioned keys (e.g. <code>user:123:v2</code>) to simplify
                invalidation.
              </li>
              <li>
                Set per-entity TTLs: longer for static, shorter for dynamic
                data.
              </li>
              <li>
                Monitor hit ratio and DB load; tune cache size and TTLs
                iteratively.
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Simple helper to clamp values
      function clamp(v, min, max) {
        return Math.max(min, Math.min(max, v));
      }

      function formatPercent(v) {
        if (isNaN(v)) return "–";
        return (v * 100).toFixed(1) + "%";
      }

      function formatMs(v) {
        if (isNaN(v)) return "–";
        return v.toFixed(1) + " ms";
      }

      function formatNumber(v) {
        if (isNaN(v)) return "–";
        if (v >= 1e6) return (v / 1e6).toFixed(2) + "M";
        if (v >= 1e3) return (v / 1e3).toFixed(1) + "k";
        return v.toFixed(0);
      }

      function recalc() {
        const reqRate =
          parseFloat(document.getElementById("reqRate").value) || 0;
        const readRatio = clamp(
          parseFloat(document.getElementById("readRatio").value) || 0,
          0,
          100
        );
        const hotFraction = clamp(
          parseFloat(document.getElementById("hotFraction").value) || 1,
          1,
          100
        );
        const updateRate = Math.max(
          parseFloat(document.getElementById("updateRate").value) || 0,
          0
        );

        const latCache = Math.max(
          parseFloat(document.getElementById("latCache").value) || 0,
          0
        );
        const latDb = Math.max(
          parseFloat(document.getElementById("latDb").value) || 0,
          0
        );
        const costCache = Math.max(
          parseFloat(document.getElementById("costCache").value) || 0,
          0
        );
        const costDb = Math.max(
          parseFloat(document.getElementById("costDb").value) || 0,
          0
        );
        const cacheSize = clamp(
          parseFloat(document.getElementById("cacheSize").value) || 1,
          1,
          100
        );

        const readStrategy = document.getElementById("readStrategy").value;
        const writeStrategy = document.getElementById("writeStrategy").value;
        const evictionPolicy = document.getElementById("evictionPolicy").value;
        const ttlSeconds = Math.max(
          parseFloat(document.getElementById("ttlSeconds").value) || 0,
          0
        );
        const allowStale = document.getElementById("allowStale").value;
        const cacheFailureMode =
          document.getElementById("cacheFailureMode").value;
        const dbCapacity = Math.max(
          parseFloat(document.getElementById("dbCapacity").value) || 1,
          1
        );

        const readsPerSec = reqRate * (readRatio / 100);
        const writesPerSec = Math.max(reqRate - readsPerSec, 0);

        // 1) Base hit ratio from cache size vs hot set
        const fh = hotFraction / 100.0;
        const c = cacheSize / 100.0;
        let baseHit;
        if (c >= fh) {
          baseHit = 0.9; // most hot keys fit
        } else {
          baseHit = 0.9 * (c / fh);
        }

        // 2) Adjust for eviction policy
        let evictionFactor = 1.0;
        if (evictionPolicy === "lfu") evictionFactor = 1.05;
        else if (evictionPolicy === "fifo") evictionFactor = 0.9;
        else if (evictionPolicy === "none") evictionFactor = 1.1;
        baseHit = clamp(baseHit * evictionFactor, 0, 0.99);

        // 3) TTL penalty: shorter TTL => more misses
        let ttlPenalty = 0.0;
        if (ttlSeconds === 0) {
          ttlPenalty = 0.0; // no TTL
        } else if (ttlSeconds < 30) {
          ttlPenalty = 0.25;
        } else if (ttlSeconds < 300) {
          ttlPenalty = 0.15;
        } else if (ttlSeconds < 3600) {
          ttlPenalty = 0.08;
        } else {
          ttlPenalty = 0.03;
        }

        // 4) Write invalidation penalty: more updates => more misses
        let writePenalty = 0.0;
        if (updateRate > 5) writePenalty = 0.3;
        else if (updateRate > 1) writePenalty = 0.2;
        else if (updateRate > 0.1) writePenalty = 0.1;
        else if (updateRate > 0.01) writePenalty = 0.05;

        // Some strategies mitigate penalties
        if (readStrategy === "read-through-refresh") {
          ttlPenalty *= 0.6;
        }
        if (writeStrategy === "write-through") {
          writePenalty *= 0.5;
        } else if (writeStrategy === "write-back") {
          writePenalty *= 0.3;
        }

        let hitRatio = baseHit * (1 - ttlPenalty) * (1 - writePenalty);
        hitRatio = clamp(hitRatio, 0, 0.99);

        // 5) Latency
        const avgLatency = hitRatio * latCache + (1 - hitRatio) * latDb;

        // 6) Backend load (DB ops)
        let dbReadsPerSec = readsPerSec * (1 - hitRatio);
        let dbWritesPerSec = writesPerSec;

        // Write-around: writes skip cache, but reads after write may hit DB more
        if (writeStrategy === "write-around") {
          dbReadsPerSec *= 1.1;
        }
        // Write-back: fewer DB writes (batched)
        if (writeStrategy === "write-back") {
          dbWritesPerSec *= 0.3;
        }

        const dbOpsPerSec = dbReadsPerSec + dbWritesPerSec;
        const cacheOpsPerSec = readsPerSec + writesPerSec; // rough

        // 7) Cost per second
        const cacheCostPerSec = (cacheOpsPerSec / 1e6) * costCache;
        const dbCostPerSec = (dbOpsPerSec / 1e6) * costDb;
        const totalCostPerHour = (cacheCostPerSec + dbCostPerSec) * 3600;

        // 8) Warnings
        const warnings = [];
        if (dbOpsPerSec > dbCapacity) {
          warnings.push({
            type: "error",
            text: `Estimated DB throughput ${formatNumber(
              dbOpsPerSec
            )} ops/s exceeds configured capacity of ${formatNumber(
              dbCapacity
            )} ops/s.`,
          });
        } else if (dbOpsPerSec > dbCapacity * 0.8) {
          warnings.push({
            type: "warn",
            text: `Estimated DB throughput ${formatNumber(
              dbOpsPerSec
            )} ops/s is above 80% of capacity (${formatNumber(
              dbCapacity
            )} ops/s). Consider increasing cache size or TTL.`,
          });
        }

        if (ttlSeconds === 0 && writeStrategy === "write-around") {
          warnings.push({
            type: "info",
            text: "No TTL + write-around can keep stale data in cache indefinitely. Consider using TTL or explicit invalidation.",
          });
        }

        if (writeStrategy === "write-back" && allowStale === "no") {
          warnings.push({
            type: "info",
            text: "Write-back with “no stale reads” is contradictory. Either allow eventual consistency or prefer write-through.",
          });
        }

        if (cacheFailureMode === "fail-open") {
          warnings.push({
            type: "info",
            text: "Fail-open mode: if the cache is down, all traffic will hit the DB. Ensure the DB can handle full load.",
          });
        }

        // 9) Strategy summary text
        const readStrategyLabel =
          {
            "cache-aside": "cache-aside (lazy loading)",
            "read-through": "read-through",
            "read-through-refresh": "read-through with background refresh",
          }[readStrategy] || readStrategy;

        const writeStrategyLabel =
          {
            "write-through": "write-through",
            "write-around": "write-around",
            "write-back": "write-back (write-behind)",
          }[writeStrategy] || writeStrategy;

        const evictionLabel =
          {
            lru: "LRU",
            lfu: "LFU",
            fifo: "FIFO",
            none: "no eviction",
          }[evictionPolicy] || evictionPolicy;

        let summary = `You configured a ${readStrategyLabel} read strategy with ${writeStrategyLabel} writes, `;
        summary += `${evictionLabel} eviction, and a TTL of ${
          ttlSeconds === 0 ? "no TTL" : ttlSeconds + " seconds"
        }. `;
        summary += `With a read ratio of ${readRatio.toFixed(
          0
        )}% and cache sized at ${cacheSize.toFixed(0)}% of the working set, `;
        summary += `the estimated cache hit ratio is about ${formatPercent(
          hitRatio
        )} and the average read latency is ${formatMs(avgLatency)}. `;
        summary += `The database sees roughly ${formatNumber(
          dbReadsPerSec
        )} reads/s and ${formatNumber(dbWritesPerSec)} writes/s, `;
        summary += `for an estimated total infrastructure cost of about $${totalCostPerHour.toFixed(
          2
        )} per hour at the given per-operation prices.`;

        // Update DOM
        document.getElementById("hitRatio").textContent =
          formatPercent(hitRatio);
        document.getElementById(
          "hitRatioNote"
        ).textContent = `Base hit ratio ${formatPercent(
          baseHit
        )} adjusted for TTL and write invalidations.`;
        document.getElementById("avgLatency").textContent =
          formatMs(avgLatency);
        document.getElementById("backendLoad").textContent = `${formatNumber(
          dbReadsPerSec
        )} DB reads/s, ${formatNumber(dbWritesPerSec)} DB writes/s`;
        document.getElementById(
          "costEstimate"
        ).textContent = `Approx. $${totalCostPerHour.toFixed(
          2
        )}/hour (cache + DB).`;

        const warningsEl = document.getElementById("warnings");
        warningsEl.innerHTML = "";
        warnings.forEach((w) => {
          const div = document.createElement("div");
          const baseClasses = "text-sm px-3 py-2 rounded-md border";
          if (w.type === "error") {
            div.className =
              baseClasses + " bg-red-50 border-red-200 text-red-800";
          } else if (w.type === "warn") {
            div.className =
              baseClasses + " bg-amber-50 border-amber-200 text-amber-800";
          } else {
            div.className =
              baseClasses + " bg-sky-50 border-sky-200 text-sky-800";
          }
          div.textContent = w.text;
          warningsEl.appendChild(div);
        });

        document.getElementById("strategySummary").textContent = summary;
      }

      document.getElementById("runCalc").addEventListener("click", recalc);

      // Presets
      document.getElementById("btnLowLatency").addEventListener("click", () => {
        document.getElementById("readRatio").value = 95;
        document.getElementById("cacheSize").value = 40;
        document.getElementById("ttlSeconds").value = 900;
        document.getElementById("readStrategy").value = "cache-aside";
        document.getElementById("writeStrategy").value = "write-through";
        document.getElementById("evictionPolicy").value = "lru";
        document.getElementById("allowStale").value = "yes";
        recalc();
      });

      document
        .getElementById("btnStrongConsistency")
        .addEventListener("click", () => {
          document.getElementById("readRatio").value = 70;
          document.getElementById("cacheSize").value = 20;
          document.getElementById("ttlSeconds").value = 60;
          document.getElementById("readStrategy").value = "read-through";
          document.getElementById("writeStrategy").value = "write-through";
          document.getElementById("evictionPolicy").value = "lfu";
          document.getElementById("allowStale").value = "no";
          recalc();
        });

      document.getElementById("btnWriteHeavy").addEventListener("click", () => {
        document.getElementById("readRatio").value = 50;
        document.getElementById("cacheSize").value = 15;
        document.getElementById("ttlSeconds").value = 300;
        document.getElementById("readStrategy").value = "cache-aside";
        document.getElementById("writeStrategy").value = "write-back";
        document.getElementById("evictionPolicy").value = "lru";
        document.getElementById("allowStale").value = "yes";
        recalc();
      });

      // Auto-run on load
      document.addEventListener("DOMContentLoaded", recalc);
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
