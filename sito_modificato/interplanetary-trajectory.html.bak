<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/interplanetary-trajectory" />
    <title>Interplanetary Trajectory (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Interplanetary Trajectory in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Interplanetary Trajectory (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Interplanetary Trajectory in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/interplanetary-trajectory" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Interplanetary Trajectory (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Interplanetary Trajectory in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Interplanetary Trajectory Calculator – Hohmann Transfers & Delta‑v Planner",
        "description": "Interactive interplanetary trajectory calculator. Estimate Hohmann transfer windows, time of flight, and delta‑v between planets using simplified circular coplanar orbits.",
        "url": "https://calcdomain.com/interplanetary-trajectory",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Science",
              "item": "https://calcdomain.com/categories/science"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Generale",
              "item": "https://calcdomain.com/science"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Interplanetary Trajectory Calculator",
              "item": "https://calcdomain.com/interplanetary-trajectory"
            }
          ]
        },
        "mainEntity": {
          "@type": "SoftwareApplication",
          "name": "Interplanetary Trajectory Calculator",
          "applicationCategory": "ScienceApplication",
          "operatingSystem": "Any",
          "url": "https://calcdomain.com/interplanetary-trajectory"
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Interplanetary Trajectory Calculator", "item": "https://calcdomain.com/interplanetary-trajectory"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Interplanetary Trajectory Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <!-- MAIN CONTENT -->
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Interplanetary Trajectory Calculator
              </h1>
              <p class="text-gray-600">
                Plan simplified Hohmann transfer orbits between planets:
                delta‑v, transfer time, and phase angle, with a visual 2D orbit
                plot.
              </p>
            </header>

            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Trajectory Planner (Circular Coplanar Hohmann Transfer)
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                  <label
                    for="central-body"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Central body</label
                  >
                  <select
                    id="central-body"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="sun">Sun (Solar System)</option>
                    <!-- Future extension: Earth, Jupiter, etc. -->
                  </select>
                </div>

                <div>
                  <label
                    for="units"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Distance units</label
                  >
                  <select
                    id="units"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="au">Astronomical Units (AU)</option>
                    <option value="km">Kilometers (km)</option>
                  </select>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-6 mb-4">
                <div>
                  <label
                    for="origin-planet"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Origin planet / orbit</label
                  >
                  <select
                    id="origin-planet"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="mercury">Mercury</option>
                    <option value="venus">Venus</option>
                    <option value="earth" selected>Earth</option>
                    <option value="mars">Mars</option>
                    <option value="jupiter">Jupiter</option>
                    <option value="saturn">Saturn</option>
                    <option value="uranus">Uranus</option>
                    <option value="neptune">Neptune</option>
                    <option value="custom">Custom circular orbit…</option>
                  </select>
                  <div id="origin-custom-wrapper" class="mt-2 hidden">
                    <label
                      for="origin-radius"
                      class="block text-xs text-gray-600 mb-1"
                      >Custom orbital radius</label
                    >
                    <div class="flex">
                      <input
                        type="number"
                        id="origin-radius"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        step="0.0001"
                        min="0"
                        placeholder="e.g. 1.0"
                      />
                      <span
                        id="origin-radius-unit"
                        class="inline-flex items-center px-3 border border-l-0 border-gray-300 bg-gray-50 rounded-r-md text-sm text-gray-600"
                        >AU</span
                      >
                    </div>
                  </div>
                </div>

                <div>
                  <label
                    for="destination-planet"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Destination planet / orbit</label
                  >
                  <select
                    id="destination-planet"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="mercury">Mercury</option>
                    <option value="venus">Venus</option>
                    <option value="earth">Earth</option>
                    <option value="mars" selected>Mars</option>
                    <option value="jupiter">Jupiter</option>
                    <option value="saturn">Saturn</option>
                    <option value="uranus">Uranus</option>
                    <option value="neptune">Neptune</option>
                    <option value="custom">Custom circular orbit…</option>
                  </select>
                  <div id="destination-custom-wrapper" class="mt-2 hidden">
                    <label
                      for="destination-radius"
                      class="block text-xs text-gray-600 mb-1"
                      >Custom orbital radius</label
                    >
                    <div class="flex">
                      <input
                        type="number"
                        id="destination-radius"
                        class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        step="0.0001"
                        min="0"
                        placeholder="e.g. 1.52"
                      />
                      <span
                        id="destination-radius-unit"
                        class="inline-flex items-center px-3 border border-l-0 border-gray-300 bg-gray-50 rounded-r-md text-sm text-gray-600"
                        >AU</span
                      >
                    </div>
                  </div>
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-6 mb-4">
                <div>
                  <label
                    for="mu-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Gravitational parameter μ</label
                  >
                  <div class="flex">
                    <input
                      type="number"
                      id="mu-input"
                      class="flex-1 border-gray-300 rounded-l-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      step="1e8"
                      min="0"
                      value="1.32712440018e20"
                    />
                    <span
                      class="inline-flex items-center px-3 border border-l-0 border-gray-300 bg-gray-50 rounded-r-md text-xs text-gray-600"
                      >m³/s²</span
                    >
                  </div>
                  <p class="text-xs text-gray-500 mt-1">
                    Default: Sun (μ ≈ 1.327×10²⁰ m³/s²).
                  </p>
                </div>

                <div>
                  <label
                    for="epoch-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Epoch (optional)</label
                  >
                  <input
                    type="date"
                    id="epoch-input"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used only for reporting the next launch window date.
                  </p>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Transfer type</label
                  >
                  <select
                    id="transfer-type"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="hohmann" selected>
                      Hohmann transfer (minimum Δv, 2‑impulse)
                    </option>
                    <option value="bielliptic">
                      Bi‑elliptic (theoretical, outer radius = 4× max)
                    </option>
                  </select>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-3 mt-4">
                <button
                  id="compute-btn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500"
                >
                  Compute trajectory
                </button>
                <button
                  id="swap-btn"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-400"
                >
                  Swap origin &amp; destination
                </button>
                <span id="error-msg" class="text-sm text-red-600 hidden"></span>
              </div>
            </section>

            <section class="mb-8">
              <h2 class="text-xl font-semibold mb-3">Results</h2>
              <div id="results-container" class="grid lg:grid-cols-2 gap-6">
                <div class="space-y-3">
                  <div class="bg-gray-50 border border-gray-200 rounded-md p-3">
                    <h3 class="text-sm font-semibold mb-2">Delta‑v budget</h3>
                    <dl class="text-sm grid grid-cols-2 gap-x-2 gap-y-1">
                      <dt class="text-gray-600">Δv₁ (departure burn)</dt>
                      <dd
                        id="dv1-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">Δv₂ (arrival burn)</dt>
                      <dd
                        id="dv2-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">Total Δv</dt>
                      <dd
                        id="dv-total-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>
                    </dl>
                    <p class="text-xs text-gray-500 mt-2">
                      Values in m/s. Assumes instantaneous burns and circular,
                      coplanar orbits.
                    </p>
                  </div>

                  <div class="bg-gray-50 border border-gray-200 rounded-md p-3">
                    <h3 class="text-sm font-semibold mb-2">Timing</h3>
                    <dl class="text-sm grid grid-cols-2 gap-x-2 gap-y-1">
                      <dt class="text-gray-600">Transfer time</dt>
                      <dd
                        id="tof-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">Phase angle</dt>
                      <dd
                        id="phase-angle-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">Synodic period</dt>
                      <dd
                        id="synodic-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">Next launch window</dt>
                      <dd
                        id="launch-window-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>
                    </dl>
                    <p class="text-xs text-gray-500 mt-2">
                      Phase angle is the required lead/lag of the destination at
                      departure (deg).
                    </p>
                  </div>

                  <div class="bg-gray-50 border border-gray-200 rounded-md p-3">
                    <h3 class="text-sm font-semibold mb-2">Orbit parameters</h3>
                    <dl class="text-sm grid grid-cols-2 gap-x-2 gap-y-1">
                      <dt class="text-gray-600">r₁ (origin radius)</dt>
                      <dd
                        id="r1-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">r₂ (destination radius)</dt>
                      <dd
                        id="r2-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">
                        a<sub>t</sub> (transfer SMA)
                      </dt>
                      <dd
                        id="at-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>

                      <dt class="text-gray-600">
                        e<sub>t</sub> (transfer ecc.)
                      </dt>
                      <dd
                        id="et-output"
                        class="text-gray-900 font-mono text-right"
                      >
                        –
                      </dd>
                    </dl>
                    <p class="text-xs text-gray-500 mt-2">
                      Radii and semi‑major axis in km (converted from chosen
                      units).
                    </p>
                  </div>
                </div>

                <div>
                  <h3 class="text-sm font-semibold mb-2">
                    2D Orbit Visualization
                  </h3>
                  <canvas
                    id="orbit-canvas"
                    class="w-full bg-gray-900 rounded-md border border-gray-700"
                    style="min-height: 260px"
                    aria-label="2D plot of origin, destination, and transfer orbits"
                  ></canvas>
                  <div class="orbit-legend mt-2 text-gray-200 text-xs">
                    <span class="legend-origin">Origin orbit</span>
                    <span class="legend-destination">Destination orbit</span>
                    <span class="legend-transfer">Transfer ellipse</span>
                  </div>
                  <p class="text-xs text-gray-500 mt-2">
                    Not to scale for very eccentric or distant orbits; intended
                    for qualitative understanding.
                  </p>
                </div>
              </div>
            </section>

            <section class="prose">
              <h2>How this interplanetary trajectory calculator works</h2>
              <p>
                This tool implements the classic
                <strong>Hohmann transfer</strong> between two circular, coplanar
                orbits around a central body (by default, the Sun). It is ideal
                for quick back‑of‑the‑envelope mission design and educational
                use.
              </p>

              <h3>Assumptions</h3>
              <ul>
                <li>
                  Both origin and destination orbits are circular and lie in the
                  same plane.
                </li>
                <li>
                  Only the central body’s gravity is considered (two‑body
                  problem).
                </li>
                <li>
                  Burns are impulsive (instantaneous) at periapsis and apoapsis
                  of the transfer ellipse.
                </li>
                <li>
                  No deep‑space maneuvers, gravity assists, or plane changes are
                  modeled.
                </li>
              </ul>

              <h3>Key formulas</h3>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  1. Transfer orbit semi‑major axis and eccentricity
                </p>
                <p>
                  Given origin radius \( r_1 \) and destination radius \( r_2
                  \):
                </p>
                <p>\[ a_t = \frac{r_1 + r_2}{2} \]</p>
                <p>\[ e_t = \frac{r_2 - r_1}{r_1 + r_2} \]</p>
              </div>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  2. Transfer time (half an ellipse)
                </p>
                <p>
                  With gravitational parameter \( \mu \) of the central body:
                </p>
                <p>\[ T_\text{transfer} = \pi \sqrt{\frac{a_t^3}{\mu}} \]</p>
              </div>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  3. Delta‑v for a Hohmann transfer
                </p>
                <p>Orbital velocities:</p>
                <p>
                  \[ v_1 = \sqrt{\frac{\mu}{r_1}}, \quad v_2 =
                  \sqrt{\frac{\mu}{r_2}} \]
                </p>
                <p>
                  Velocities on the transfer ellipse at periapsis and apoapsis:
                </p>
                <p>
                  \[ v_{t1} = \sqrt{\mu\left(\frac{2}{r_1} -
                  \frac{1}{a_t}\right)}, \quad v_{t2} =
                  \sqrt{\mu\left(\frac{2}{r_2} - \frac{1}{a_t}\right)} \]
                </p>
                <p>Burns:</p>
                <p>
                  \[ \Delta v_1 = |v_{t1} - v_1|, \quad \Delta v_2 = |v_2 -
                  v_{t2}|, \quad \Delta v_\text{total} = \Delta v_1 + \Delta v_2
                  \]
                </p>
              </div>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">
                  4. Phase angle and synodic period
                </p>
                <p>Mean motions:</p>
                <p>
                  \[ n_1 = \sqrt{\frac{\mu}{r_1^3}}, \quad n_2 =
                  \sqrt{\frac{\mu}{r_2^3}} \]
                </p>
                <p>
                  Required phase angle (for outward transfer, destination ahead
                  of origin):
                </p>
                <p>\[ \phi \approx \pi - n_2 T_\text{transfer} \]</p>
                <p>Synodic period (time between similar launch windows):</p>
                <p>\[ T_\text{syn} = \frac{2\pi}{|n_1 - n_2|} \]</p>
              </div>

              <h3>Typical Earth–Mars Hohmann transfer</h3>
              <ul>
                <li>Origin: Earth (≈ 1.000 AU)</li>
                <li>Destination: Mars (≈ 1.524 AU)</li>
                <li>Transfer time: ≈ 259 days (about 8.5 months)</li>
                <li>Total Δv (Sun‑centered): ≈ 5.6 km/s</li>
                <li>
                  Launch windows: roughly every 26 months (synodic period)
                </li>
              </ul>

              <p>
                Real missions add planetary <em>departure</em> and
                <em>arrival</em> burns (to escape and capture), plane‑change
                maneuvers, and sometimes gravity assists. Those effects are
                beyond this simplified calculator but the numbers here are a
                good first‑order estimate.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Interplanetary, Trajectory.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Related Science Tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/solar-position"
                  class="text-blue-600 hover:underline"
                  >Solar Position Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/satellite-orbit"
                  class="text-blue-600 hover:underline"
                  >Satellite Orbit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hubble-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Hubble's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/schwarzschild-radius"
                  class="text-blue-600 hover:underline"
                  >Schwarzschild Radius Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lorentz-factor"
                  class="text-blue-600 hover:underline"
                  >Special Relativity (Lorentz Factor)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/planck-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Blackbody Radiation (Planck's Law)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-atmosphere"
                  class="text-blue-600 hover:underline"
                  >Standard Atmosphere Model</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More Life &amp; Earth Sciences
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/ficks-law"
                  class="text-blue-600 hover:underline"
                  >Fick's Law of Diffusion</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/usle"
                  class="text-blue-600 hover:underline"
                  >Soil Erosion (USLE)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tide-prediction"
                  class="text-blue-600 hover:underline"
                  >Tide Prediction</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/river-discharge"
                  class="text-blue-600 hover:underline"
                  >River Discharge</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/greenhouse-gas-equivalencies"
                  class="text-blue-600 hover:underline"
                  >Greenhouse Gas Equivalencies</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

    <script>
      /**
       * Interplanetary trajectory calculator
       * Simplified Hohmann transfer (and illustrative bi-elliptic) between circular coplanar orbits.
       */

      // Planet data (mean orbital radius around Sun in AU)
      const PLANETS = {
        mercury: { name: "Mercury", r_au: 0.387 },
        venus: { name: "Venus", r_au: 0.723 },
        earth: { name: "Earth", r_au: 1.0 },
        mars: { name: "Mars", r_au: 1.524 },
        jupiter: { name: "Jupiter", r_au: 5.203 },
        saturn: { name: "Saturn", r_au: 9.537 },
        uranus: { name: "Uranus", r_au: 19.191 },
        neptune: { name: "Neptune", r_au: 30.07 },
      };

      const AU_IN_KM = 149597870.7;
      const KM_IN_M = 1000;

      // DOM elements
      const unitsEl = document.getElementById("units");
      const originPlanetEl = document.getElementById("origin-planet");
      const destPlanetEl = document.getElementById("destination-planet");
      const originCustomWrapper = document.getElementById(
        "origin-custom-wrapper"
      );
      const destCustomWrapper = document.getElementById(
        "destination-custom-wrapper"
      );
      const originRadiusEl = document.getElementById("origin-radius");
      const destRadiusEl = document.getElementById("destination-radius");
      const originRadiusUnitEl = document.getElementById("origin-radius-unit");
      const destRadiusUnitEl = document.getElementById(
        "destination-radius-unit"
      );
      const muInputEl = document.getElementById("mu-input");
      const epochInputEl = document.getElementById("epoch-input");
      const transferTypeEl = document.getElementById("transfer-type");
      const computeBtn = document.getElementById("compute-btn");
      const swapBtn = document.getElementById("swap-btn");
      const errorMsgEl = document.getElementById("error-msg");

      // Outputs
      const dv1Out = document.getElementById("dv1-output");
      const dv2Out = document.getElementById("dv2-output");
      const dvTotalOut = document.getElementById("dv-total-output");
      const tofOut = document.getElementById("tof-output");
      const phaseOut = document.getElementById("phase-angle-output");
      const synodicOut = document.getElementById("synodic-output");
      const launchWindowOut = document.getElementById("launch-window-output");
      const r1Out = document.getElementById("r1-output");
      const r2Out = document.getElementById("r2-output");
      const atOut = document.getElementById("at-output");
      const etOut = document.getElementById("et-output");

      // Canvas
      const canvas = document.getElementById("orbit-canvas");
      let ctx = canvas.getContext("2d");

      function resizeCanvas() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * window.devicePixelRatio;
        canvas.height = rect.width * 0.7 * window.devicePixelRatio;
        ctx.setTransform(
          window.devicePixelRatio,
          0,
          0,
          window.devicePixelRatio,
          0,
          0
        );
      }
      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      // Helpers
      function showError(msg) {
        errorMsgEl.textContent = msg;
        errorMsgEl.classList.remove("hidden");
      }

      function clearError() {
        errorMsgEl.textContent = "";
        errorMsgEl.classList.add("hidden");
      }

      function formatNumber(value, decimals = 2) {
        if (!isFinite(value)) return "–";
        if (Math.abs(value) >= 1e4 || Math.abs(value) < 1e-2) {
          return value.toExponential(2);
        }
        return value.toFixed(decimals);
      }

      function secondsToDaysHours(seconds) {
        const days = Math.floor(seconds / 86400);
        const hours = Math.round((seconds % 86400) / 3600);
        if (days === 0) return `${hours} h`;
        return `${days} d ${hours} h`;
      }

      function secondsToDays(seconds) {
        return seconds / 86400;
      }

      function radiansToDegrees(rad) {
        return (rad * 180) / Math.PI;
      }

      function normalizeAngle(rad) {
        let a = rad % (2 * Math.PI);
        if (a < 0) a += 2 * Math.PI;
        return a;
      }

      // Unit handling
      function updateCustomUnits() {
        const unitLabel = unitsEl.value === "au" ? "AU" : "km";
        originRadiusUnitEl.textContent = unitLabel;
        destRadiusUnitEl.textContent = unitLabel;
      }

      unitsEl.addEventListener("change", updateCustomUnits);

      function handlePlanetSelect(
        selectEl,
        wrapperEl,
        radiusEl,
        defaultPlanetKey
      ) {
        const value = selectEl.value;
        if (value === "custom") {
          wrapperEl.classList.remove("hidden");
          radiusEl.placeholder =
            unitsEl.value === "au" ? "e.g. 1.0" : "e.g. 1.5e8";
        } else {
          wrapperEl.classList.add("hidden");
          const planet = PLANETS[value] || PLANETS[defaultPlanetKey];
          if (planet) {
            const r =
              unitsEl.value === "au" ? planet.r_au : planet.r_au * AU_IN_KM;
            radiusEl.value = r;
          }
        }
      }

      originPlanetEl.addEventListener("change", () =>
        handlePlanetSelect(
          originPlanetEl,
          originCustomWrapper,
          originRadiusEl,
          "earth"
        )
      );
      destPlanetEl.addEventListener("change", () =>
        handlePlanetSelect(
          destPlanetEl,
          destCustomWrapper,
          destRadiusEl,
          "mars"
        )
      );

      // Initialize custom radius fields with default planet radii
      handlePlanetSelect(
        originPlanetEl,
        originCustomWrapper,
        originRadiusEl,
        "earth"
      );
      handlePlanetSelect(destPlanetEl, destCustomWrapper, destRadiusEl, "mars");
      updateCustomUnits();

      // Swap origin and destination
      swapBtn.addEventListener("click", () => {
        const tempVal = originPlanetEl.value;
        originPlanetEl.value = destPlanetEl.value;
        destPlanetEl.value = tempVal;

        const tempRadius = originRadiusEl.value;
        originRadiusEl.value = destRadiusEl.value;
        destRadiusEl.value = tempRadius;

        handlePlanetSelect(
          originPlanetEl,
          originCustomWrapper,
          originRadiusEl,
          "earth"
        );
        handlePlanetSelect(
          destPlanetEl,
          destCustomWrapper,
          destRadiusEl,
          "mars"
        );
      });

      // Core computation
      function computeTrajectory() {
        clearError();

        const mu = parseFloat(muInputEl.value);
        if (!isFinite(mu) || mu <= 0) {
          showError("Please enter a valid positive gravitational parameter μ.");
          return;
        }

        // Get radii in chosen units
        function getRadius(selectEl, radiusEl, defaultKey) {
          if (selectEl.value === "custom") {
            const r = parseFloat(radiusEl.value);
            return isFinite(r) && r > 0 ? r : null;
          }
          const planet = PLANETS[selectEl.value] || PLANETS[defaultKey];
          if (!planet) return null;
          return unitsEl.value === "au" ? planet.r_au : planet.r_au * AU_IN_KM;
        }

        let r1 = getRadius(originPlanetEl, originRadiusEl, "earth");
        let r2 = getRadius(destPlanetEl, destRadiusEl, "mars");

        if (!r1 || !r2) {
          showError(
            "Please specify valid orbital radii for both origin and destination."
          );
          return;
        }

        // Convert to meters for dynamics
        if (unitsEl.value === "au") {
          r1 = r1 * AU_IN_KM * KM_IN_M;
          r2 = r2 * AU_IN_KM * KM_IN_M;
        } else {
          r1 = r1 * KM_IN_M;
          r2 = r2 * KM_IN_M;
        }

        if (r1 === r2) {
          showError(
            "Origin and destination radii are identical; no transfer needed."
          );
          return;
        }

        const outward = r2 > r1;
        const rMin = Math.min(r1, r2);
        const rMax = Math.max(r1, r2);

        let dv1, dv2, dvTotal, Ttransfer, at, et;

        if (transferTypeEl.value === "hohmann") {
          // Hohmann transfer
          at = 0.5 * (r1 + r2);
          et = (r2 - r1) / (r1 + r2);

          const v1 = Math.sqrt(mu / r1);
          const v2 = Math.sqrt(mu / r2);
          const vt1 = Math.sqrt(mu * (2 / r1 - 1 / at));
          const vt2 = Math.sqrt(mu * (2 / r2 - 1 / at));

          dv1 = Math.abs(vt1 - v1);
          dv2 = Math.abs(v2 - vt2);
          dvTotal = dv1 + dv2;

          Ttransfer = Math.PI * Math.sqrt(Math.pow(at, 3) / mu);
        } else {
          // Simple illustrative bi-elliptic transfer with r_b = 4 * rMax
          const rb = 4 * rMax;

          // First ellipse: r1 -> rb
          const a1 = 0.5 * (r1 + rb);
          const v1 = Math.sqrt(mu / r1);
          const vb = Math.sqrt(mu / rb);
          const vt1 = Math.sqrt(mu * (2 / r1 - 1 / a1));
          const vt1b = Math.sqrt(mu * (2 / rb - 1 / a1));

          // Second ellipse: rb -> r2
          const a2 = 0.5 * (rb + r2);
          const vt2b = Math.sqrt(mu * (2 / rb - 1 / a2));
          const v2 = Math.sqrt(mu / r2);
          const vt2 = Math.sqrt(mu * (2 / r2 - 1 / a2));

          const dv1_be = Math.abs(vt1 - v1);
          const dv2_be = Math.abs(vt2b - vt1b);
          const dv3_be = Math.abs(v2 - vt2);
          dv1 = dv1_be;
          dv2 = dv2_be + dv3_be;
          dvTotal = dv1_be + dv2_be + dv3_be;

          const T1 = Math.PI * Math.sqrt(Math.pow(a1, 3) / mu);
          const T2 = Math.PI * Math.sqrt(Math.pow(a2, 3) / mu);
          Ttransfer = T1 + T2;

          // For reporting, use first ellipse parameters
          at = a1;
          et = (rb - r1) / (r1 + rb);
        }

        // Mean motions and phase angle (approximate)
        const n1 = Math.sqrt(mu / Math.pow(r1, 3));
        const n2 = Math.sqrt(mu / Math.pow(r2, 3));

        // For Hohmann, phase angle formula is well-defined; for bi-elliptic we still give a rough Hohmann-like estimate
        const T_half =
          transferTypeEl.value === "hohmann"
            ? Ttransfer
            : Math.PI * Math.sqrt(Math.pow(0.5 * (r1 + r2), 3) / mu);
        let phaseAngle;
        if (outward) {
          phaseAngle = Math.PI - n2 * T_half;
        } else {
          phaseAngle = Math.PI + n2 * T_half;
        }
        phaseAngle = normalizeAngle(phaseAngle);

        const Tsyn = (2 * Math.PI) / Math.abs(n1 - n2);

        // Next launch window date
        let launchDateStr = "–";
        if (epochInputEl.value) {
          const epochDate = new Date(epochInputEl.value + "T00:00:00Z");
          if (!isNaN(epochDate.getTime())) {
            const now = new Date();
            const base = epochDate < now ? now : epochDate;
            const daysToWindow = secondsToDays(Tsyn);
            const nextWindow = new Date(
              base.getTime() + daysToWindow * 86400 * 1000
            );
            launchDateStr = nextWindow.toISOString().slice(0, 10);
          }
        }

        // Update outputs (convert radii back to km)
        const r1_km = r1 / KM_IN_M / 1000;
        const r2_km = r2 / KM_IN_M / 1000;
        const at_km = at / KM_IN_M / 1000;

        dv1Out.textContent = formatNumber(dv1, 1) + " m/s";
        dv2Out.textContent = formatNumber(dv2, 1) + " m/s";
        dvTotalOut.textContent = formatNumber(dvTotal, 1) + " m/s";

        tofOut.textContent =
          secondsToDaysHours(Ttransfer) +
          " (" +
          formatNumber(secondsToDays(Ttransfer), 1) +
          " days)";
        phaseOut.textContent =
          formatNumber(radiansToDegrees(phaseAngle), 1) + "°";
        synodicOut.textContent = formatNumber(secondsToDays(Tsyn), 1) + " days";

        launchWindowOut.textContent = launchDateStr;

        r1Out.textContent = formatNumber(r1_km, 2) + " ×10³ km";
        r2Out.textContent = formatNumber(r2_km, 2) + " ×10³ km";
        atOut.textContent = formatNumber(at_km, 2) + " ×10³ km";
        etOut.textContent = formatNumber(et, 4);

        drawOrbits(r1, r2, at, et, outward);
      }

      // Orbit drawing
      function drawOrbits(r1_m, r2_m, at_m, et, outward) {
        const w = canvas.width / window.devicePixelRatio;
        const h = canvas.height / window.devicePixelRatio;
        ctx.clearRect(0, 0, w, h);

        const cx = w / 2;
        const cy = h / 2;

        // Convert to AU for scaling
        const r1_au = r1_m / (AU_IN_KM * KM_IN_M);
        const r2_au = r2_m / (AU_IN_KM * KM_IN_M);
        const at_au = at_m / (AU_IN_KM * KM_IN_M);

        const maxR = Math.max(r1_au, r2_au, at_au * (1 + et)) * 1.1;
        const scale = Math.min(w, h) / (2 * maxR || 1);

        // Helper to convert polar to canvas
        function toCanvas(r_au, theta) {
          const x = cx + r_au * scale * Math.cos(theta);
          const y = cy - r_au * scale * Math.sin(theta);
          return [x, y];
        }

        // Draw central body
        ctx.fillStyle = "#facc15";
        ctx.beginPath();
        ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
        ctx.fill();

        // Draw circular orbit
        function drawCircleOrbit(r_au, color) {
          ctx.strokeStyle = color;
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          const steps = 256;
          for (let i = 0; i <= steps; i++) {
            const theta = (2 * Math.PI * i) / steps;
            const [x, y] = toCanvas(r_au, theta);
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.stroke();
        }

        // Draw transfer ellipse (approximate, centered at focus)
        function drawEllipse(at_au, e, color) {
          ctx.strokeStyle = color;
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          const steps = 256;
          const a = at_au;
          const c = e * a;
          const b = Math.sqrt(Math.max(a * a - c * c, 0));
          for (let i = 0; i <= steps; i++) {
            const theta = (2 * Math.PI * i) / steps;
            const x_orb = a * Math.cos(theta) - c; // focus at origin
            const y_orb = b * Math.sin(theta);
            const r = Math.sqrt(x_orb * x_orb + y_orb * y_orb);
            const ang = Math.atan2(y_orb, x_orb);
            const [x, y] = toCanvas(r, ang);
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.stroke();
        }

        // Draw origin and destination orbits
        drawCircleOrbit(r1_au, "#3b82f6"); // blue
        drawCircleOrbit(r2_au, "#10b981"); // green

        // Draw transfer ellipse
        drawEllipse(at_au, Math.abs(et), "#f97316"); // orange

        // Mark departure and arrival points (approximate)
        const depR_au = r1_au;
        const arrR_au = r2_au;
        const depTheta = 0; // along +x
        const arrTheta = outward ? Math.PI : 0;

        const [depX, depY] = toCanvas(depR_au, depTheta);
        const [arrX, arrY] = toCanvas(arrR_au, arrTheta);

        ctx.fillStyle = "#ffffff";
        ctx.strokeStyle = "#111827";
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.arc(depX, depY, 3, 0, 2 * Math.PI);
        ctx.fill();
        ctx.stroke();

        ctx.beginPath();
        ctx.arc(arrX, arrY, 3, 0, 2 * Math.PI);
        ctx.fill();
        ctx.stroke();
      }

      // Initial computation
      computeBtn.addEventListener("click", computeTrajectory);
      window.addEventListener("load", computeTrajectory);
    </script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
