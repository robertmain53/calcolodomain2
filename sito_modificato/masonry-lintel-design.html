<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/masonry-lintel-design">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Masonry Lintel Design Calculator - (TMS 402/602)</title>
<meta name="description" content="Calculate masonry lintel design loads (Max Bending Moment &amp; Shear Force) based on TMS 402/602. Accounts for arching action and superimposed loads.">

<meta name="author" content="Ugo Candido">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558fYv3eWK7go8HWaISdGfZ9u/IqR55LILGmgEMpGUFJGuRhLVnCALiB" crossorigin="anonymous">
<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTadBVOjsjMZEJfaFGxaAPfW5dAiMgOkVKG8M4HNTs4LfsKNnxKNOTSBi8" crossorigin="anonymous"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/Gf1ESgqCntTwubN/bRgrLqtWplvT1lP4GrZot6rGGDg/F9Jv" crossorigin="anonymous"></script>

<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.25rem;
overflow-x:auto; text-align: center; font-size: 1.1rem;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Stili del Calcolatore e Risultati (Conformi WCAG & Direttiva 2.4) */
.form-label {
display: block;
text-sm;
font-weight: 500;
color: #374151; /* gray-700 */
margin-bottom: 0.25rem;
}
.form-input {
display: block;
width: 100%;
/* Direttiva 2.4: Target Tattili (48px) */
min-height: 48px;
padding: 0.5rem 0.75rem;
border: 1px solid #d1d5db; /* gray-300 */
border-radius: 0.375rem;
box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}
.form-input-group {
display: flex;
}
.form-input-group .form-input {
border-top-right-radius: 0;
border-bottom-right-radius: 0;
flex-grow: 1;
z-index: 1; /* Fix focus shadow clipping */
}
.form-input-group select {
border-top-left-radius: 0;
border-bottom-left-radius: 0;
border-left: 0;
background-color: #f9fafb; /* gray-50 */
min-height: 48px; /* Direttiva 2.4 */
}
.form-input:focus, .form-input-group select:focus {
outline: 2px solid transparent;
outline-offset: 2px;
border-color: #2563eb; /* blue-600 */
box-shadow: 0 0 0 2px #2563eb;
z-index: 10;
}
.required-marker {
color: #ef4444; /* red-500 */
margin-left: 0.25rem;
}
.error-message {
color: #dc2626; /* red-600 */
font-size: 0.875rem;
margin-top: 0.5rem;
min-height: 1.25rem; /* Previene CLS */
}
.tap-target {
min-height: 48px; /* Direttiva 2.4 */
min-width: 48px; /* Direttiva 2.4 */
display: inline-flex;
align-items: center;
justify-content: center;
padding-left: 1.5rem;
padding-right: 1.5rem;
}

/* Stile Focus Visibile Personalizzato (WCAG 2.4.7) */
:focus-visible {
outline: 3px solid #3b82f6; /* blue-500 */
outline-offset: 2px;
border-radius: 4px;
}
:focus:not(:focus-visible) {
outline: none;
}

/* Stili Risultati (Contrasto Corretto) */
.result-card {
background: #fff;
border: 1px solid #e5e7eb; /* gray-200 */
border-radius: 10px;
padding: 1rem 1.25rem;
text-align: center;
}
.result-card h4 {
font-size: 0.9rem;
font-weight: 500;
color: #4b5563; /* gray-600 */
margin-bottom: 0.25rem;
text-transform: uppercase;
letter-spacing: 0.05em;
}
.result-card p {
font-size: 1.5rem;
font-weight: 700;
color: #1f2937; /* gray-800 */
}
.result-card .unit {
font-size: 1rem;
font-weight: 500;
color: #374151;
margin-left: 0.25rem;
}
.status-card {
padding: 1rem;
border-radius: 8px;
font-weight: 500;
text-align: center;
}
.status-success {
background-color: #ecfdf5; /* green-50 */
color: #065f46; /* green-800 */
border: 1px solid #a7f3d0; /* green-200 */
}
.status-warning {
background-color: #fffbeb; /* yellow-50 */
color: #b45309; /* yellow-800 */
border: 1px solid #fde68a; /* yellow-200 */
}

/* Stili Fieldset */
.calc-fieldset {
border: 1px solid #d1d5db;
border-radius: 8px;
padding: 1.25rem;
}
.calc-fieldset legend {
font-weight: 600;
padding: 0 0.5rem;
color: #1f2937;
font-size: 1.125rem;
}

/* Stili Tooltip (A11y) */
.tooltip-btn {
background: none;
border: none;
padding: 0.25rem;
border-radius: 9999px;
color: #6b7280;
cursor: pointer;
}
.tooltip-btn:hover { color: #111827; }
.tooltip-text {
display: none;
background-color: #1f2937;
color: white;
padding: 0.5rem 0.75rem;
border-radius: 6px;
font-size: 0.875rem;
margin-top: 0.5rem;
position: relative;
}
.tooltip-text[aria-hidden="false"] {
display: block;
}

/* Stili Stampa */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
}
</style>

<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Masonry Lintel Design Calculator - (TMS 402/602)",
  "description": "Calculate masonry lintel design loads (Max Bending Moment & Shear Force) based on TMS 402/602. Accounts for arching action and superimposed loads.",
  "url": "https://calcdomain.com/masonry-lintel-design",
  "inLanguage": "en",
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Engineering",
      "item": "https://calcdomain.com/categories/engineering"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Electrical",
      "item": "https://calcdomain.com/subcategories/electrical"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Calculate Masonry Lintel Loads",
  "description": "A step-by-step guide to calculating the design loads (Moment and Shear) for a masonry lintel.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Select Units",
      "text": "Choose your preferred unit system, either Imperial (feet, psf, plf) or Metric (meters, N/m², N/m)."
    },
    {
      "@type": "HowToStep",
      "name": "Enter Lintel Geometry",
      "text": "Input the Clear Span (L) of the opening and the available Height of Masonry (H_avail) above the lintel."
    },
    {
      "@type": "HowToStep",
      "name": "Enter Loads",
      "text": "Input the unit weight of the masonry wall (w_m), any superimposed uniform load (w_s) from floors or roofs, and the lintel's own self-weight (w_l)."
    },
    {
      "@type": "HowToStep",
      "name": "Review Results",
      "text": "The calculator instantly determines if arching action can occur and provides the critical design values: Maximum Bending Moment (M_max) and Maximum Shear Force (V_max)."
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is 'arching action' in masonry?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Arching action is a natural phenomenon in masonry where the load above an opening forms a triangle (or arch) and is transferred to the masonry on either side, rather than straight down onto the lintel. This significantly reduces the load the lintel must support. This calculator assumes a 45° angle for this load triangle, as is standard practice."
      }
    },
    {
      "@type": "Question",
      "name": "When does the lintel have to carry the full load?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Arching action can only form if there is sufficient, uninterrupted masonry height above the opening. The required height for a 45° arch is half the span (H_req = L / 2). If the available height is less than this (e.g., the opening is very close to a roof or floor), arching action cannot fully develop, and the lintel must be designed to carry the entire rectangular block of masonry above it. This calculator checks this condition for you."
      }
    },
    {
      "@type": "Question",
      "name": "What is the 'superimposed load'?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This is any additional load applied directly to the wall within the load-distribution triangle, which is then transferred to the lintel. This commonly includes loads from floor joists or roof trusses that rest on the wall above the opening."
      }
    },
    {
      "@type": "Question",
      "name": "What is the minimum bearing length for a lintel?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Minimum bearing length (how much the lintel rests on the wall on each side) is specified by building codes, such as TMS 402/602. A common minimum is 4 inches (100 mm) for smaller openings, but it can be 8 inches (200 mm) or more for larger spans. This calculator determines the load (Shear, V_max), which is then used by an engineer to verify that the bearing area is not overstressed (Bearing Stress = V_max / Bearing_Area)."
      }
    },
    {
      "@type{": "Question",
      "name": "Does this calculator design the lintel for me?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No. This calculator is a **load determination tool**. It provides the critical design loads (Maximum Moment, M_max, and Maximum Shear, V_max) that an engineer or qualified designer must then use to select an appropriate structural member (like a steel angle, W-beam, or reinforced concrete lintel) that can safely resist those loads according to material-specific codes (e.g., AISC for steel, ACI for concrete)."
      }
    }
  ]
}
</script>
<script src="search.js" defer=""></script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="https://calcdomain.com" class="text-2xl font-bold text-blue-700">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500" autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-700">Advanced Search</a>
Categories
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-700">Advanced Search</a>
Categories
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10 w-full lg:w-2/3">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/engineering" class="hover:text-blue-600">Engineering</a> &raquo; <a href="https://calcdomain.com/subcategories/electrical" class="hover:text-blue-600">Electrical</a></nav>

<div id="print-section" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Masonry Lintel Design Calculator</h1>
<p class="text-gray-600 mb-6">Determine the critical design loads (Maximum Bending Moment and Shear Force) for a masonry lintel. This tool calculates the load based on the 45-degree "arching action" principle specified in the TMS 402/602 building code. It checks for sufficient masonry height and includes superimposed loads to provide the values needed for structural design.</p>

<form id="calculator-ui" class="space-y-8" onsubmit="return false;">

<div>
<label for="unit-select" class="form-label font-semibold text-lg">1. Select Unit System</label>
<select id="unit-select" class="form-input max-w-xs">
<option value="imperial">Imperial (ft, lbf, psf, plf)</option>
<option value="metric">Metric (m, N, N/m², N/m)</option>
</select>
</div>

<fieldset class="calc-fieldset">
<legend>2. Lintel Geometry</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-2">
<div>
<label for="openingSpan" class="form-label">
Clear Span ($L$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="openingSpan" value="6" step="any" min="0.001" class="form-input" aria-required="true" aria-describedby="openingSpan-error">
<select id="spanUnit" class="form-input" aria-label="Span unit">
<option value="ft">ft</option>
<option value="in">in</option>
</select>
</div>
<div id="openingSpan-error" class="error-message" role="alert"></div>
</div>
<div>
<label for="heightAbove" class="form-label">
Height of Masonry Above ($H_{avail}$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="heightAbove" value="4" step="any" min="0" class="form-input" aria-required="true" aria-describedby="heightAbove-error">
<select id="heightUnit" class="form-input" aria-label="Height unit">
<option value="ft">ft</option>
<option value="in">in</option>
</select>
</div>
<div id="heightAbove-error" class="error-message" role="alert"></div>
</div>
</div>
</fieldset>

<fieldset class="calc-fieldset">
<legend>3. Design Loads (ASD)</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-2">
<div>
<label for="masonryWeight" class="form-label">
Masonry Weight ($w_m$)
<span class="required-marker" aria-hidden="true">*</span>
</label>
<div class="form-input-group">
<input type="number" id="masonryWeight" value="40" step="any" min="0" class="form-input" aria-required="true" aria-describedby="masonryWeight-error">
<select id="weightUnit" class="form-input" aria-label="Masonry weight unit">
<option value="psf">psf</option>
<option value="ksf">ksf</option>
</select>
</div>
<div id="masonryWeight-error" class="error-message" role="alert"></div>
</div>

<div>
<div class="flex items-center space-x-1">
<label for="superimposedLoad" class="form-label">Superimposed UDL ($w_s$)</label>
<button type="button" id="super-tooltip-btn" class="tooltip-btn" aria-label="More info about Superimposed UDL" aria-expanded="false" aria-controls="super-tooltip-text">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.06-1.061 3.5 3.5 0 014.12 4.122A.75.75 0 0110.82 10a2 2 0 10-2.298 1.75a.75.75 0 01-1.496-.068 3.5 3.5 0 014.12-4.122zM10 12.25a.75.75 0 01.75.75v.008a.75.75 0 01-1.5 0V13a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg>
</button>
</div>
<div class="form-input-group">
<input type="number" id="superimposedLoad" value="0" step="any" min="0" class="form-input" aria-describedby="super-tooltip-text">
<select id="udlUnit1" class="form-input" aria-label="Superimposed load unit">
<option value="plf">plf</option>
<option value="klf">klf</option>
</select>
</div>
<div id="super-tooltip-text" role="tooltip" class="tooltip-text" aria-hidden="true">
Uniformly Distributed Load (e.g., from floor joists or roof trusses) applied to the wall above the lintel.
</div>
</div>

<div>
<div class="flex items-center space-x-1">
<label for="lintelSelfWeight" class="form-label">Lintel Self-Weight ($w_l$)</label>
<button type="button" id="lintel-tooltip-btn" class="tooltip-btn" aria-label="More info about Lintel Self-Weight" aria-expanded="false" aria-controls="lintel-tooltip-text">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.06-1.061 3.5 3.5 0 014.12 4.122A.75.75 0 0110.82 10a2 2 0 10-2.298 1.75a.75.75 0 01-1.496-.068 3.5 3.5 0 014.12-4.122zM10 12.25a.75.75 0 01.75.75v.008a.75.75 0 01-1.5 0V13a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg>
</button>
</div>
<div class="form-input-group">
<input type="number" id="lintelSelfWeight" value="15" step="any" min="0" class="form-input" aria-describedby="lintel-tooltip-text">
<select id="udlUnit2" class="form-input" aria-label="Lintel self-weight unit">
<option value="plf">plf</option>
<option value="klf">klf</option>
</select>
</div>
<div id="lintel-tooltip-text" role="tooltip" class="tooltip-text" aria-hidden="true">
The weight of the lintel beam itself (e.g., steel angle or concrete beam) as a UDL.
</div>
</div>
</div>
</fieldset>

<div class="flex space-x-4 mt-6">
<button type="button" id="reset-btn" class="tap-target px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 ring-offset-2">Reset</button>
</div>
</form>

<section id="results" class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6" style="min-height: 280px;" aria-labelledby="results-heading">
<h3 id="results-heading" class="text-xl font-semibold text-gray-800 mb-4 text-center">Lintel Design Loads</h3>

<div class="mb-4">
<div id="arching-status" class="status-card" role="alert">
—
</div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div class="result-card bg-blue-100 border-blue-200 shadow-sm">
<h4 class="text-blue-800">Max Bending Moment ($M_{max}$)</h4>
<p id="moment-result" class="text-blue-700 text-3xl font-bold">
— <span class="unit" id="moment-unit">k-ft</span>
</p>
</div>

<div class="result-card bg-blue-100 border-blue-200 shadow-sm">
<h4 class="text-blue-800">Max Shear Force ($V_{max}$)</h4>
<p id="shear-result" class="text-blue-700 text-3xl font-bold">
— <span class="unit" id="shear-unit">kips</span>
</p>
</div>
</div>
</section>
</div>

<article class="bg-white p-6 md:p-8 rounded-lg shadow-md mt-8 prose prose-blue">
<h2 id="methodology">Data Source &amp; Methodology</h2>
<p>This calculator determines the design loads for a masonry lintel based on the "triangular prism" load distribution method, commonly known as **arching action**. This methodology assumes the load from the masonry above the opening is carried by a 45-degree triangle of material, transferring the load to the adjacent masonry rather than directly onto the lintel. This is the standard, accepted method in structural masonry design.</p>
<ul>
<li><strong>Authoritative Source:</strong> The Masonry Society (TMS)</li>
<li><strong>Reference:</strong> <a href="https://masonrysociety.org/product/tms-402-602-22/" target="_blank" rel="noopener">TMS 402/602-22: Building Code Requirements and Specification for Masonry Structures</a>.</li>
</ul>
<p>All calculations are based strictly on the formulas derived from this "arching action" principle. This tool checks if the available height of masonry ($H_{avail}$) is sufficient to develop the full arch ($H_{req} = L/2$). If not, it conservatively calculates the load based on the full rectangular block of masonry below the available height.</p>

<h2 id="formula">The Formulas Explained (Arching Action)</h2>

<p>This calculator determines the maximum bending moment ($M_{max}$) and shear force ($V_{max}$) that the lintel must resist. It assumes the lintel is a simply supported beam.</p>

<p><strong>1. Check for Arching Action:</strong>
The calculator first determines the required height $H_{req}$ for a full 45° arch to form.</p>
<div class="formula-box" role="math" aria-label="Required Height for Arching">
$$ H_{req} = \frac{L}{2} $$
</div>
<p>It then compares this to the available height $H_{avail}$.</p>

<p><strong>Case 1: Full Arching ($H_{avail} \ge H_{req}$)</strong>
The lintel supports the triangular prism of masonry.</p>
<div class="formula-box" role="math" aria-label="Triangular Load Calculation">
$$ W_m = (\frac{1}{2} \cdot L \cdot H_{req}) \cdot w_m = \frac{L^2 \cdot w_m}{4} $$
</div>
<p><strong>Case 2: No Arching ($H_{avail} &lt; H_{req}$)</strong>
The lintel supports the full rectangular block of masonry up to $H_{avail}$.
</p><div class="formula-box" role="math" aria-label="Rectangular Load Calculation">
$$ w_{m,UDL} = H_{avail} \cdot w_m $$
</div>

<p><strong>2. Calculate Total Loads (Moment &amp; Shear):</strong>
The calculator sums the loads from the masonry ($M_m, V_m$) and any other superimposed Uniformly Distributed Loads (UDL) like self-weight ($w_l$) and floor loads ($w_s$).</p>
<div class="formula-box" role="math" aria-label="Total UDL">
$$ w_{UDL} = w_s + w_l $$
$$ M_{UDL} = \frac{w_{UDL} \cdot L^2}{8} \quad ; \quad V_{UDL} = \frac{w_{UDL} \cdot L}{2} $$
</div>

<p>The final design values are the sum of the masonry and UDL components:</p>
<div class="formula-box" role="math" aria-label="Total Moment and Shear">
$$ M_{max} = M_m + M_{UDL} $$
$$ V_{max} = V_m + V_{UDL} $$
</div>
<p><em>(Note: For Case 1, $M_m = W_m \cdot L / 6$ and $V_m = W_m / 2$. For Case 2, $M_m = (w_{m,UDL} \cdot L^2) / 8$ and $V_m = (w_{m,UDL} \cdot L) / 2$.)</em></p>

<h2 id="variables">Glossary of Variables</h2>
<ul class="list-disc list-inside">
<li><strong>$L$ (Clear Span):</strong> The width of the opening the lintel must span.</li>
<li><strong>$H_{avail}$ (Available Height):</strong> The height of continuous masonry above the lintel, uninterrupted by openings or floor/roof lines.</li>
<li><strong>$w_m$ (Masonry Weight):</strong> The area weight of the masonry wall (e.g., psf or N/m²).</li>
<li><strong>$w_s$ (Superimposed UDL):</strong> Additional Uniformly Distributed Loads from floors, roofs, etc. (e.g., plf or N/m).</li>
<li><strong>$w_l$ (Lintel Self-Weight):</strong> The weight of the lintel beam itself, as a UDL.</li>
<li><strong>$M_{max}$ (Max Bending Moment):</strong> The maximum rotational force the lintel must resist, used to design for bending/deflection.</li>
<li><strong>$V_{max}$ (Max Shear Force):</strong> The maximum vertical force the lintel must resist, used to design for shear and bearing.</li>
</ul>

<h2 id="example">How It Works: A Step-by-Step Example</h2>
<p>Let's find the design loads for a 6-foot wide opening in a standard 40 psf block wall, with 4 feet of masonry above it and a 100 plf floor load.</p>
<ul>
<li><strong>Units:</strong> Imperial</li>
<li><strong>Clear Span ($L$):</strong> 6 ft</li>
<li><strong>Available Height ($H_{avail}$):</strong> 4 ft</li>
<li><strong>Masonry Weight ($w_m$):</strong> 40 psf</li>
<li><strong>Superimposed UDL ($w_s$):</strong> 100 plf</li>
<li><strong>Lintel Self-Weight ($w_l$):</strong> 15 plf (assumed)</li>
</ul>
<ol class="list-decimal list-inside">
<li><strong>Check Arching:</strong>
<br> $H_{req} = L / 2 = 6 \text{ ft} / 2 = 3 \text{ ft}$.
<br> Since $H_{avail} (4 \text{ ft}) \ge H_{req} (3 \text{ ft})$, full arching action is assumed.</li>
<li><strong>Calculate Masonry Load (Triangular):</strong>
<br> $W_m = (L^2 \cdot w_m) / 4 = (6^2 \cdot 40) / 4 = 360 \text{ lbf}$ (Total)</li>
<li><strong>Calculate Masonry Moment &amp; Shear:</strong>
<br> $M_m = (W_m \cdot L) / 6 = (360 \cdot 6) / 6 = 360 \text{ lbf-ft}$
<br> $V_m = W_m / 2 = 360 / 2 = 180 \text{ lbf}$</li>
<li><strong>Calculate Other UDL Loads:</strong>
<br> $w_{UDL} = w_s + w_l = 100 \text{ plf} + 15 \text{ plf} = 115 \text{ plf}$
<br> $M_{UDL} = (w_{UDL} \cdot L^2) / 8 = (115 \cdot 6^2) / 8 = 517.5 \text{ lbf-ft}$
<br> $V_{UDL} = (w_{UDL} \cdot L) / 2 = (115 \cdot 6) / 2 = 345 \text{ lbf}$</li>
<li><strong>Calculate Totals:</strong>
<br> $M_{max} = M_m + M_{UDL} = 360 + 517.5 = 877.5 \text{ lbf-ft}$
<br> $V_{max} = V_m + V_{UDL} = 180 + 345 = 525 \text{ lbf}$</li>
<li><strong>Final Result:</strong> $M_{max} = 0.88 \text{ k-ft}$ ; $V_{max} = 0.53 \text{ kips}$</li>
</ol>

<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What is 'arching action' in masonry?</summary>
<p>Arching action is a natural phenomenon in masonry where the load above an opening forms a triangle (or arch) and is transferred to the masonry on either side, rather than straight down onto the lintel. This significantly reduces the load the lintel must support. This calculator assumes a 45° angle for this load triangle, as is standard practice.</p>
</details>
<details>
<summary>When does the lintel have to carry the full load?</summary>
<p>Arching action can only form if there is sufficient, uninterrupted masonry height above the opening. The required height for a 45° arch is half the span ($H_{req} = L / 2$). If the available height is less than this (e.g., the opening is very close to a roof or floor), arching action cannot fully develop, and the lintel must be designed to carry the entire rectangular block of masonry above it. This calculator checks this condition for you.</p>
</details>
<details>
<summary>What is the 'superimposed load' ($w_s$)?</summary>
<p>This is any additional load applied directly to the wall within the load-distribution triangle, which is then transferred to the lintel. This commonly includes loads from floor joists or roof trusses that rest on the wall above the opening. Enter it as a line load (e.g., plf or N/m).</p>
</details>
<details>
<summary>What is the minimum bearing length for a lintel?</summary>
<p>Minimum bearing length (how much the lintel rests on the wall on each side) is specified by building codes, such as TMS 402/602. A common minimum is 4 inches (100 mm) for smaller openings, but it can be 8 inches (200 mm) or more for larger spans. This calculator determines the load (Shear, $V_{max}$), which is then used by an engineer to verify that the bearing area is not overstressed (Bearing Stress = $V_{max}$ / Bearing_Area).</p>
</details>
<details>
<summary>Does this calculator design the lintel for me?</summary>
<p>No. This calculator is a <strong>load determination tool</strong>. It provides the critical design loads (Maximum Moment, $M_{max}$, and Maximum Shear, $V_{max}$) that an engineer or qualified designer must then use to select an appropriate structural member (like a steel angle, W-beam, or reinforced concrete lintel) that can safely resist those loads according to material-specific codes (e.g., AISC for steel, ACI for concrete).</p>
</details>

<div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<br>Engineering content and methodology reviewed by the CalcDomain Structural Board for TMS 402/602 compliance.
<br>Last accuracy review: <time datetime="2025-11-03">November 3, 2025</time></p>
</div>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[H_{req} = \frac{L}{2}\]</div>
  <pre class="auditspine-mono">H_{req} = \frac{L}{2}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[W_m = (\frac{1}{2} \cdot L \cdot H_{req}) \cdot w_m = \frac{L^2 \cdot w_m}{4}\]</div>
  <pre class="auditspine-mono">W_m = (\frac{1}{2} \cdot L \cdot H_{req}) \cdot w_m = \frac{L^2 \cdot w_m}{4}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_{m,UDL} = H_{avail} \cdot w_m\]</div>
  <pre class="auditspine-mono">w_{m,UDL} = H_{avail} \cdot w_m</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_{UDL} = w_s + w_l\]</div>
  <pre class="auditspine-mono">w_{UDL} = w_s + w_l</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[M_{UDL} = \frac{w_{UDL} \cdot L^2}{8} \quad ; \quad V_{UDL} = \frac{w_{UDL} \cdot L}{2}\]</div>
  <pre class="auditspine-mono">M_{UDL} = \frac{w_{UDL} \cdot L^2}{8} \quad ; \quad V_{UDL} = \frac{w_{UDL} \cdot L}{2}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[M_{max} = M_m + M_{UDL}\]</div>
  <pre class="auditspine-mono">M_{max} = M_m + M_{UDL}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ H_{req} = \frac{L}{2} $</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ W_m = (\frac{1}{2} \cdot L \cdot H_{req}) \cdot w_m = \frac{L^2 \cdot w_m}{4} $</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ w_{m,UDL} = H_{avail} \cdot w_m $</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">$ w_{UDL} = w_s + w_l $ $ M_{UDL} = \frac{w_{UDL} \cdot L^2}{8} \quad ; \quad V_{UDL} = \frac{w_{UDL} \cdot L}{2} $</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Home</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/" target="_blank" rel="nofollow noopener">https://calcdomain.com/</a></li>
<li><strong>Engineering</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/engineering" target="_blank" rel="nofollow noopener">https://calcdomain.com/engineering</a></li>
<li><strong>TMS 402/602-22: Building Code Requirements and Specification for Masonry Structures</strong> — masonrysociety.org · Accessed 2026-01-19<br><a href="https://masonrysociety.org/product/tms-402-602-22/" target="_blank" rel="nofollow noopener">https://masonrysociety.org/product/tms-402-602-22/</a></li>
<li><strong>Rebar Weight &amp; Quantity Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/rebar-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/rebar-calculator</a></li>
<li><strong>Concrete Slab Calculator</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/concrete-slab-calculator" target="_blank" rel="nofollow noopener">https://calcdomain.com/concrete-slab-calculator</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Based on authoritative **TMS 402/602** code principles.</li>
<li>Calculates **Max Moment (M)** and **Max Shear (V)**.</li>
<li>Intelligently checks for **arching action** vs. full block load.</li>
<li>Includes superimposed loads from floors/roofs.</li>
<li>Handles both Imperial and Metric engineering units.</li>
<li>Fully accessible (WCAG 2.1 AA) and mobile-first.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Structural Tools</h3>
<ul class="space-y-3 text-sm">
<li>Beam Load Calculator (UDL)</li>
<li>CMU Block Wall Calculator</li>
<li><a href="https://calcdomain.com/rebar-calculator" class="text-blue-700 hover:underline">Rebar Weight &amp; Quantity Calculator</a></li>
<li><a href="https://calcdomain.com/concrete-slab-calculator" class="text-blue-700 hover:underline">Concrete Slab Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>
































<script defer="">
document.addEventListener('DOMContentLoaded', () => {

// --- 1. Riferimenti DOM ---
const elements = {
unitSelect: document.getElementById('unit-select'),
openingSpan: document.getElementById('openingSpan'),
spanUnit: document.getElementById('spanUnit'),
spanError: document.getElementById('openingSpan-error'),
heightAbove: document.getElementById('heightAbove'),
heightUnit: document.getElementById('heightUnit'),
heightError: document.getElementById('heightAbove-error'),
masonryWeight: document.getElementById('masonryWeight'),
weightUnit: document.getElementById('weightUnit'),
weightError: document.getElementById('masonryWeight-error'),
superimposedLoad: document.getElementById('superimposedLoad'),
udlUnit1: document.getElementById('udlUnit1'),
lintelSelfWeight: document.getElementById('lintelSelfWeight'),
udlUnit2: document.getElementById('udlUnit2'),
resetBtn: document.getElementById('reset-btn'),
// Results
archingStatus: document.getElementById('arching-status'),
momentResult: document.getElementById('moment-result'),
momentUnit: document.getElementById('moment-unit'),
shearResult: document.getElementById('shear-result'),
shearUnit: document.getElementById('shear-unit'),
// Tooltips
superTooltipBtn: document.getElementById('super-tooltip-btn'),
superTooltipText: document.getElementById('super-tooltip-text'),
lintelTooltipBtn: document.getElementById('lintel-tooltip-btn'),
lintelTooltipText: document.getElementById('lintel-tooltip-text'),
};

// --- 2. Logica Tooltip (A11y) ---
function setupTooltip(btn, text) {
btn.addEventListener('click', () => {
const isExpanded = btn.getAttribute('aria-expanded') === 'true';
btn.setAttribute('aria-expanded', !isExpanded);
text.setAttribute('aria-hidden', isExpanded);
});
}
setupTooltip(elements.superTooltipBtn, elements.superTooltipText);
setupTooltip(elements.lintelTooltipBtn, elements.lintelTooltipText);

// --- 3. Logica Unità ---
function updateUnits() {
const unit = elements.unitSelect.value;
if (unit === 'imperial') {
// Span
elements.spanUnit.innerHTML = '<option value="ft">ft</option><option value="in">in</option>';
elements.heightUnit.innerHTML = '<option value="ft">ft</option><option value="in">in</option>';
// Area Weight
elements.weightUnit.innerHTML = '<option value="psf">psf</option><option value="ksf">ksf</option>';
// Line Load
elements.udlUnit1.innerHTML = '<option value="plf">plf</option><option value="klf">klf</option>';
elements.udlUnit2.innerHTML = '<option value="plf">plf</option><option value="klf">klf</option>';
// Result Units
elements.momentUnit.textContent = 'k-ft';
elements.shearUnit.textContent = 'kips';
} else { // Metric
// Span
elements.spanUnit.innerHTML = '<option value="m">m</option><option value="cm">cm</option>';
elements.heightUnit.innerHTML = '<option value="m">m</option><option value="cm">cm</option>';
// Area Weight
elements.weightUnit.innerHTML = '<option value="N/m²">N/m²</option><option value="kN/m²">kN/m²</option>';
// Line Load
elements.udlUnit1.innerHTML = '<option value="N/m">N/m</option><option value="kN/m">kN/m</option>';
elements.udlUnit2.innerHTML = '<option value="N/m">N/m</option><option value="kN/m">kN/m</option>';
// Result Units
elements.momentUnit.textContent = 'kN·m';
elements.shearUnit.textContent = 'kN';
}
calculate();
}
elements.unitSelect.addEventListener('change', updateUnits);

// --- 4. Funzione di Validazione ---
function validateInput(el, errEl, minVal = 0) {
const val = parseFloat(el.value);
if (el.value === '' || isNaN(val)) {
errEl.textContent = 'This field is required.';
el.setAttribute('aria-invalid', 'true');
return null;
}
if (val < minVal) {
errEl.textContent = `Value must be ${minVal === 0 ? '0 or greater' : `greater than ${minVal}`}.`;
el.setAttribute('aria-invalid', 'true');
return null;
}
errEl.textContent = '';
el.setAttribute('aria-invalid', 'false');
return val;
}

// --- 5. Funzione Principale di Calcolo ---
function calculate() {
let isValid = true;
const unit = elements.unitSelect.value;

// Validare input
const L_val = validateInput(elements.openingSpan, elements.spanError, 0.001);
const H_val = validateInput(elements.heightAbove, elements.heightError, 0);
const w_m_val = validateInput(elements.masonryWeight, elements.weightError, 0);
const w_s_val = validateInput(elements.superimposedLoad, null, 0); // No error el, optional
const w_l_val = validateInput(elements.lintelSelfWeight, null, 0); // No error el, optional

if ([L_val, H_val, w_m_val, w_s_val, w_l_val].includes(null)) {
isValid = false;
}

if (!isValid) {
resetResults();
return;
}

// --- Conversioni a unità base ---
// Base Imperial: ft, lbf, psf, plf
// Base Metric: m, N, N/m², N/m
let L, H_avail, w_m, w_s, w_l;

if (unit === 'imperial') {
L = L_val * (elements.spanUnit.value === 'in' ? 1 / 12 : 1);
H_avail = H_val * (elements.heightUnit.value === 'in' ? 1 / 12 : 1);
w_m = w_m_val * (elements.weightUnit.value === 'ksf' ? 1000 : 1);
w_s = w_s_val * (elements.udlUnit1.value === 'klf' ? 1000 : 1);
w_l = w_l_val * (elements.udlUnit2.value === 'klf' ? 1000 : 1);
} else { // Metric
L = L_val * (elements.spanUnit.value === 'cm' ? 0.01 : 1);
H_avail = H_val * (elements.heightUnit.value === 'cm' ? 0.01 : 1);
w_m = w_m_val * (elements.weightUnit.value === 'kN/m²' ? 1000 : 1);
w_s = w_s_val * (elements.udlUnit1.value === 'kN/m' ? 1000 : 1);
w_l = w_l_val * (elements.udlUnit2.value === 'kN/m' ? 1000 : 1);
}

// --- Logica di Calcolo ---
const H_req = L / 2;
const isArching = H_avail >= H_req;

let M_m, V_m; // Moment & Shear from Masonry
let statusMsg = '';
let statusClass = 'status-success';

if (isArching) {
// Case 1: Full Arching (Triangular Load)
const W_m_total = (Math.pow(L, 2) / 4) * w_m;
M_m = (W_m_total * L) / 6;
V_m = W_m_total / 2;
statusMsg = "Full 45° arching action is assumed. Lintel supports triangular load.";
statusClass = 'status-success';
} else {
// Case 2: No Arching (Rectangular Load)
const w_m_udl = H_avail * w_m;
M_m = (w_m_udl * Math.pow(L, 2)) / 8;
V_m = (w_m_udl * L) / 2;
statusMsg = "Warning: Insufficient height for full arch. Lintel carries the rectangular block of masonry above.";
statusClass = 'status-warning';
}

// Altri carichi UDL
const w_other_udl = w_s + w_l;
const M_other = (w_other_udl * Math.pow(L, 2)) / 8;
const V_other = (w_other_udl * L) / 2;

// Totali
const M_max = M_m + M_other;
const V_max = V_m + V_other;

// --- Visualizzazione Risultati ---
const fmt = (val, dec) => val.toLocaleString('en-US', { maximumFractionDigits: dec, minimumFractionDigits: dec });

elements.archingStatus.textContent = statusMsg;
elements.archingStatus.className = `status-card ${statusClass}`;

if (unit === 'imperial') {
elements.momentResult.innerHTML = `${fmt(M_max / 1000, 2)} <span class="unit">k-ft</span>`;
elements.shearResult.innerHTML = `${fmt(V_max / 1000, 2)} <span class="unit">kips</span>`;
} else { // Metric
elements.momentResult.innerHTML = `${fmt(M_max / 1000, 2)} <span class="unit">kN·m</span>`;
elements.shearResult.innerHTML = `${fmt(V_max / 1000, 2)} <span class="unit">kN</span>`;
}
}

// --- 6. Funzioni di Reset ---
function resetResults() {
const unit = elements.unitSelect.value;
let momentU = 'k-ft', shearU = 'kips';
if (unit === 'metric') {
momentU = 'kN·m';
shearU = 'kN';
}
elements.momentResult.innerHTML = `— <span class="unit">${momentU}</span>`;
elements.shearResult.innerHTML = `— <span class="unit">${shearU}</span>`;
elements.archingStatus.textContent = '—';
elements.archingStatus.className = 'status-card';
}

function resetForm() {
elements.unitSelect.value = 'imperial';
elements.openingSpan.value = '6';
elements.heightAbove.value = '4';
elements.masonryWeight.value = '40';
elements.superimposedLoad.value = '0';
elements.lintelSelfWeight.value = '15';
updateUnits(); // Questo chiama calculate()
}

// --- 7. Event Listeners ---
const allInputs = [
elements.unitSelect, elements.openingSpan, elements.spanUnit,
elements.heightAbove, elements.heightUnit, elements.masonryWeight,
elements.weightUnit, elements.superimposedLoad, elements.udlUnit1,
elements.lintelSelfWeight, elements.udlUnit2
];
allInputs.forEach(input => input.addEventListener('input', calculate));
elements.resetBtn.addEventListener('click', resetForm);

// --- 8. Inizializzazione ---
updateUnits();

// --- 9. Logica Menu Mobile (dal template) ---
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
menuToggle.addEventListener('click', () => {
const isHidden = mobileMenu.classList.toggle('hidden');
menuToggle.setAttribute('aria-expanded', !isHidden);
});

// --- 10. Logica Rendering LaTeX (necessaria) ---
if (typeof renderMathInElement === 'function') {
renderMathInElement(document.body, {
delimiters: [
{left: "$$", right: "$$", display: true},
{left: "$", right: "$", display: false}
]
});
}
});
</script>


</body></html>