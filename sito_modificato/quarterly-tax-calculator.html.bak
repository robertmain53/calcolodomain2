<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/quarterly-tax-calculator" />
    <title>Quarterly Tax Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Quarterly Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Quarterly Tax Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Quarterly Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/quarterly-tax-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Quarterly Tax Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Quarterly Tax Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "Quarterly Tax Calculator (U.S. Federal)", "item": "https://calcdomain.com/quarterly-tax-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Quarterly Tax Calculator (U.S. Federal)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Quarterly Tax Calculator (U.S. Federal)
              </h1>
              <p class="text-gray-700">
                Estimate your federal income and self-employment tax, then break
                it into four suggested 1040‑ES quarterly payments. Designed for
                freelancers, contractors, and small business owners.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Quarterly estimated tax calculator
              </h2>

              <form id="quarterly-tax-form" class="space-y-6">
                <!-- Filing status & year -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label
                      for="tax-year"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Tax year</label
                    >
                    <select
                      id="tax-year"
                      class="w-full border rounded-md px-3 py-2"
                    >
                      <option value="2025" selected>2025 (est.)</option>
                      <option value="2024">2024</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Filing status</label
                    >
                    <div class="grid grid-cols-2 gap-2 text-sm">
                      <label class="flex items-center gap-2">
                        <input
                          type="radio"
                          name="filing-status"
                          value="single"
                          class="text-blue-600"
                          checked
                        />
                        <span>Single</span>
                      </label>
                      <label class="flex items-center gap-2">
                        <input
                          type="radio"
                          name="filing-status"
                          value="mfj"
                          class="text-blue-600"
                        />
                        <span>Married filing jointly</span>
                      </label>
                      <label class="flex items-center gap-2">
                        <input
                          type="radio"
                          name="filing-status"
                          value="mfs"
                          class="text-blue-600"
                        />
                        <span>Married filing separately</span>
                      </label>
                      <label class="flex items-center gap-2">
                        <input
                          type="radio"
                          name="filing-status"
                          value="hoh"
                          class="text-blue-600"
                        />
                        <span>Head of household</span>
                      </label>
                    </div>
                  </div>
                </div>

                <!-- Income -->
                <div class="border-t pt-4">
                  <h3 class="text-lg font-semibold mb-2">
                    Income (annual, before tax)
                  </h3>
                  <p class="text-sm text-gray-600 mb-3">
                    Enter what you expect to earn for the whole tax year. The
                    calculator uses these numbers to estimate your annual tax,
                    then divides by four.
                  </p>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="w2-wages"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >W‑2 wages (salary, jobs)</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="w2-wages"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                    </div>
                    <div>
                      <label
                        for="se-income"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Self‑employment net income</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="se-income"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        After business expenses (Schedule C, F, etc.).
                      </p>
                    </div>
                    <div>
                      <label
                        for="other-income"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Other taxable income</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="other-income"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Interest, dividends, side jobs, rental income, etc.
                      </p>
                    </div>
                    <div>
                      <label
                        for="above-line-deductions"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Above‑the‑line deductions (optional)</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="above-line-deductions"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                      <p class="text-xs text-gray-500 mt-1">
                        Traditional IRA, HSA, student loan interest, etc.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Deductions & credits -->
                <div class="border-t pt-4">
                  <h3 class="text-lg font-semibold mb-2">
                    Deductions & credits
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Deductions</label
                      >
                      <select
                        id="deduction-type"
                        class="w-full border rounded-md px-3 py-2 mb-2"
                      >
                        <option value="standard" selected>
                          Use standard deduction (recommended)
                        </option>
                        <option value="itemized">
                          Enter itemized deductions
                        </option>
                      </select>
                      <div id="itemized-wrapper" class="hidden">
                        <label
                          for="itemized-deductions"
                          class="block text-sm font-medium text-gray-700 mb-1"
                          >Itemized deductions</label
                        >
                        <div class="flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="itemized-deductions"
                            type="number"
                            min="0"
                            step="100"
                            class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                            placeholder="0"
                          />
                        </div>
                      </div>
                    </div>
                    <div>
                      <label
                        for="nonrefundable-credits"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Non‑refundable credits (optional)</label
                      >
                      <div class="flex rounded-md shadow-sm mb-2">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="nonrefundable-credits"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                      <p class="text-xs text-gray-500">
                        Child tax credit, education credits, etc. (simplified).
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Withholding & prior payments -->
                <div class="border-t pt-4">
                  <h3 class="text-lg font-semibold mb-2">
                    Withholding & prior payments
                  </h3>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="w2-withholding"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Federal tax withheld (W‑2, 1099, etc.)</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="w2-withholding"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                    </div>
                    <div>
                      <label
                        for="prior-estimated"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Estimated payments already made</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="prior-estimated"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Prior-year safe harbor -->
                <div class="border-t pt-4">
                  <h3 class="text-lg font-semibold mb-2">
                    Safe harbor (optional but helpful)
                  </h3>
                  <p class="text-sm text-gray-600 mb-3">
                    Enter last year’s total federal tax from your Form 1040
                    (line “total tax”) to check if you’re likely to meet the
                    safe harbor and avoid underpayment penalties.
                  </p>
                  <div class="grid md:grid-cols-2 gap-4">
                    <div>
                      <label
                        for="prior-year-tax"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Last year’s total federal tax</label
                      >
                      <div class="flex rounded-md shadow-sm">
                        <span
                          class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                          >$</span
                        >
                        <input
                          id="prior-year-tax"
                          type="number"
                          min="0"
                          step="100"
                          class="flex-1 border border-gray-300 rounded-r-md px-3 py-2"
                          placeholder="0"
                        />
                      </div>
                    </div>
                    <div>
                      <label
                        for="agi-over-150k"
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Was last year’s AGI over $150,000?</label
                      >
                      <select
                        id="agi-over-150k"
                        class="w-full border rounded-md px-3 py-2"
                      >
                        <option value="no" selected>No / Not sure</option>
                        <option value="yes">
                          Yes (110% safe harbor applies)
                        </option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Buttons -->
                <div class="border-t pt-4 flex flex-wrap items-center gap-3">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="inline-flex items-center justify-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"
                  >
                    Calculate quarterly taxes
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="text-sm text-gray-600 hover:text-gray-800 underline"
                  >
                    Reset all fields
                  </button>
                  <p id="calc-error" class="text-sm text-red-600 hidden">
                    Please enter valid non‑negative numbers.
                  </p>
                </div>
              </form>
            </section>

            <!-- Results -->
            <section
              id="results-section"
              class="mt-6 hidden"
              aria-live="polite"
            >
              <h2 class="text-xl font-semibold mb-3">
                Results: estimated annual tax & quarterly payments
              </h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-blue-800 mb-1">
                    Suggested quarterly payment
                  </h3>
                  <p
                    class="text-2xl font-bold text-blue-900"
                    id="result-quarterly"
                  >
                    $0
                  </p>
                  <p class="text-xs text-blue-800 mt-1">
                    Pay this amount with each Form 1040‑ES voucher (April, June,
                    September, January), assuming income is even through the
                    year.
                  </p>
                </div>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-1">
                    Estimated total federal tax
                  </h3>
                  <p
                    class="text-lg font-semibold text-gray-900"
                    id="result-total-tax"
                  >
                    $0
                  </p>
                  <dl class="mt-2 text-xs text-gray-700 space-y-1">
                    <div class="flex justify-between">
                      <dt>Income tax</dt>
                      <dd id="result-income-tax">$0</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Self‑employment tax</dt>
                      <dd id="result-se-tax">$0</dd>
                    </div>
                    <div class="flex justify-between border-t pt-1 mt-1">
                      <dt>Total tax after credits</dt>
                      <dd id="result-tax-after-credits">$0</dd>
                    </div>
                    <div class="flex justify-between">
                      <dt>Minus withholding & prior payments</dt>
                      <dd id="result-prepaid">‑$0</dd>
                    </div>
                    <div
                      class="flex justify-between font-semibold border-t pt-1 mt-1"
                    >
                      <dt>Estimated balance due</dt>
                      <dd id="result-balance">$0</dd>
                    </div>
                  </dl>
                </div>
              </div>

              <!-- Safe harbor + schedule -->
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-green-50 border border-green-100 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-green-800 mb-1">
                    Safe harbor check (approximate)
                  </h3>
                  <p id="result-safe-harbor" class="text-sm text-green-900">
                    Enter last year’s total tax to see if you’re on track to
                    meet the safe harbor.
                  </p>
                </div>
                <div class="bg-white border border-gray-200 rounded-lg p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Quarterly payment schedule
                  </h3>
                  <table class="w-full text-xs">
                    <thead>
                      <tr class="text-left text-gray-600 border-b">
                        <th class="py-1 pr-2">Quarter</th>
                        <th class="py-1 pr-2">Due date*</th>
                        <th class="py-1 text-right">Amount</th>
                      </tr>
                    </thead>
                    <tbody id="result-schedule">
                      <!-- Filled by JS -->
                    </tbody>
                  </table>
                  <p class="text-[11px] text-gray-500 mt-2">
                    *Standard IRS due dates: April 15, June 15, September 15,
                    and January 15 of the following year (shifted to next
                    business day if weekend/holiday).
                  </p>
                </div>
              </div>

              <!-- Summary -->
              <div
                class="bg-yellow-50 border border-yellow-100 rounded-lg p-4 text-sm text-yellow-900"
              >
                <p id="result-summary">
                  These numbers are estimates based on simplified IRS rules.
                  Your actual tax may differ. Use this as a planning tool, not
                  as tax advice.
                </p>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-10">
              <h2>How this quarterly tax calculator works</h2>
              <p>
                This tool estimates your
                <strong>U.S. federal income tax</strong> and
                <strong>self‑employment (SE) tax</strong> for the year, then
                divides the remaining balance into four suggested quarterly
                payments for Form 1040‑ES.
              </p>

              <div class="formula-box text-sm">
                <p class="font-semibold mb-1">High‑level steps:</p>
                <ol class="list-decimal ml-5 space-y-1">
                  <li>
                    Compute total income = W‑2 wages + self‑employment income +
                    other taxable income.
                  </li>
                  <li>
                    Subtract above‑the‑line deductions to get
                    <strong>adjusted gross income (AGI)</strong>.
                  </li>
                  <li>
                    Subtract the larger of standard or itemized deductions to
                    get <strong>taxable income</strong>.
                  </li>
                  <li>
                    Apply the IRS tax brackets for your filing status to
                    estimate <strong>income tax</strong>.
                  </li>
                  <li>
                    Compute <strong>self‑employment tax</strong> on net SE
                    income and allow the 50% SE tax deduction.
                  </li>
                  <li>Subtract non‑refundable credits.</li>
                  <li>Subtract withholding and prior estimated payments.</li>
                  <li>
                    Divide the remaining balance by four to get suggested
                    quarterly payments.
                  </li>
                </ol>
              </div>

              <h3>Self‑employment tax formula (simplified)</h3>
              <p>
                If you have freelance, contractor, or business income, you
                usually owe self‑employment tax for Social Security and
                Medicare.
              </p>
              <div class="formula-box text-sm">
                <p>We approximate SE tax as:</p>
                <p class="mt-1">
                  <code
                    >SE income subject to SE tax = 92.35% × net self‑employment
                    income</code
                  >
                </p>
                <p class="mt-1">
                  <code>SE tax ≈ 15.3% × SE income subject to SE tax</code> (up
                  to the Social Security wage base, with 2.9% Medicare above
                  that).
                </p>
                <p class="mt-2">
                  Half of the SE tax is treated as an above‑the‑line deduction
                  when computing income tax.
                </p>
              </div>

              <h3>Safe harbor rules (underpayment penalty basics)</h3>
              <p>
                The IRS generally won’t charge an underpayment penalty if you
                pay at least the <strong>safe harbor amount</strong> during the
                year, even if you end up owing more with your return.
              </p>
              <ul>
                <li><strong>90%</strong> of your current‑year total tax, or</li>
                <li>
                  <strong>100%</strong> of last year’s total tax (from Form
                  1040), or
                </li>
                <li>
                  <strong>110%</strong> of last year’s tax if your prior‑year
                  AGI was over $150,000 (for most filers).
                </li>
              </ul>
              <p>
                This calculator compares your projected total payments
                (withholding + estimates) to those safe harbor thresholds when
                you enter last year’s tax.
              </p>

              <h2>Quarterly due dates for estimated tax payments</h2>
              <p>
                For calendar‑year taxpayers, federal estimated tax payments are
                typically due on:
              </p>
              <ul>
                <li>1st quarter: April 15</li>
                <li>2nd quarter: June 15</li>
                <li>3rd quarter: September 15</li>
                <li>4th quarter: January 15 of the following year</li>
              </ul>
              <p>
                If a due date falls on a weekend or federal holiday, the
                deadline moves to the next business day.
              </p>

              <h2>Limitations and assumptions</h2>
              <ul>
                <li>
                  Uses
                  <strong
                    >approximate IRS tax brackets and standard
                    deductions</strong
                  >
                  for 2024–2025.
                </li>
                <li>
                  Assumes all income is <strong>ordinary income</strong> (no
                  special long‑term capital gains rates).
                </li>
                <li>
                  Handles a single bucket of non‑refundable credits (no
                  phase‑outs or complex rules).
                </li>
                <li>
                  Does not calculate
                  <strong
                    >AMT, NIIT (3.8% net investment tax), QBI deduction, or
                    state taxes</strong
                  >.
                </li>
              </ul>
              <p>
                For complex situations, large income swings, or major life
                changes, consider working with a tax professional or using full
                tax software.
              </p>

              <h2>FAQ</h2>

              <button
                type="button"
                class="toggle-section text-left w-full py-2 font-semibold border-b"
                aria-expanded="false"
              >
                Who needs to pay quarterly estimated taxes?
              </button>
              <div class="toggle-content text-sm text-gray-700">
                <p>
                  You generally need to pay quarterly estimated taxes if both of
                  the following are true:
                </p>
                <ul>
                  <li>
                    You expect to owe at least <strong>$1,000</strong> in tax
                    for the year after subtracting withholding and refundable
                    credits, and
                  </li>
                  <li>
                    Your withholding and refundable credits will be less than
                    <strong>90%</strong> of your current‑year tax or
                    <strong>100%</strong> of your prior‑year tax (110% for some
                    higher‑income taxpayers).
                  </li>
                </ul>
                <p>
                  Self‑employed people, freelancers, landlords, and investors
                  often fall into this group.
                </p>
              </div>

              <button
                type="button"
                class="toggle-section text-left w-full py-2 font-semibold border-b"
                aria-expanded="false"
              >
                Can I pay different amounts each quarter?
              </button>
              <div class="toggle-content text-sm text-gray-700">
                <p>
                  Yes. The IRS allows an
                  <strong>annualized income method</strong> if your income is
                  uneven during the year (for example, seasonal work). This
                  calculator assumes even income and equal payments, which is
                  simpler but may not be optimal if your income is highly
                  variable.
                </p>
              </div>

              <button
                type="button"
                class="toggle-section text-left w-full py-2 font-semibold border-b"
                aria-expanded="false"
              >
                Does this calculator include state estimated taxes?
              </button>
              <div class="toggle-content text-sm text-gray-700">
                <p>
                  No. This tool focuses on <strong>federal</strong> income and
                  self‑employment tax. Many states have their own estimated tax
                  rules and vouchers. Use this as a starting point and check
                  your state’s revenue department for details.
                </p>
              </div>

              <button
                type="button"
                class="toggle-section text-left w-full py-2 font-semibold border-b"
                aria-expanded="false"
              >
                Is this tax advice?
              </button>
              <div class="toggle-content text-sm text-gray-700">
                <p>
                  No. This calculator is for
                  <strong>education and planning only</strong>. It uses
                  simplified assumptions and may not match your final tax
                  return. For personalized advice, consult a qualified tax
                  professional or CPA.
                </p>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Quarterly, Tax, Calculator, Tax year 2025 (est.) 2024 Filing status Single, Married filing jointly, Married filing separately, Head of household.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2025 (est.) 2024 Filing status Single</li><li>Married filing jointly</li><li>Married filing separately</li><li>Head of household</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Quarterly, Tax, Calculator, Tax year 2025 (est.) 2024 Filing status Single, Married filing jointly, Married filing separately, Head of household.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Tax year 2025 (est.) 2024 Filing status Single</li><li>Married filing jointly</li><li>Married filing separately</li><li>Head of household</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More tax & income tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                  >Take-Home Pay (Payroll) Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Income Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-bracket-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Bracket Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/self-employment-tax"
                  class="text-blue-600 hover:underline"
                  >Self-Employment Tax Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-calculator"
                  class="text-blue-600 hover:underline"
                  >Payroll Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/estate-tax"
                  class="text-blue-600 hover:underline"
                  >Estate Tax Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Category</h2>
            <p class="text-sm text-gray-700 mb-2">
              <a
                href="https://calcdomain.com/categories/finance"
                class="text-blue-600 hover:underline"
                >Finance</a
              >
              &rsaquo;
              <a
                href="https://calcdomain.com/taxes"
                class="text-blue-600 hover:underline"
                >Taxes</a
              >
            </p>
            <p class="text-xs text-gray-500">
              Use these tools to plan your taxes, understand your paycheck, and
              avoid surprises at filing time.
            </p>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Basic U.S. federal tax brackets for 2024 & 2025 (approximate, simplified)
      const TAX_DATA = {
        2024: {
          standardDeduction: {
            single: 14600,
            mfj: 29200,
            mfs: 14600,
            hoh: 21900,
          },
          brackets: {
            single: [
              [0, 0.1],
              [11600, 0.12],
              [47150, 0.22],
              [100525, 0.24],
              [191950, 0.32],
              [243725, 0.35],
              [609350, 0.37],
            ],
            mfj: [
              [0, 0.1],
              [23200, 0.12],
              [94300, 0.22],
              [201050, 0.24],
              [383900, 0.32],
              [487450, 0.35],
              [731200, 0.37],
            ],
            mfs: [
              [0, 0.1],
              [11600, 0.12],
              [47150, 0.22],
              [100525, 0.24],
              [191950, 0.32],
              [243725, 0.35],
              [365600, 0.37],
            ],
            hoh: [
              [0, 0.1],
              [16550, 0.12],
              [63100, 0.22],
              [100500, 0.24],
              [191950, 0.32],
              [243700, 0.35],
              [609350, 0.37],
            ],
          },
        },
        2025: {
          // Roughly inflation-adjusted placeholders; update when official numbers are final
          standardDeduction: {
            single: 15000,
            mfj: 30000,
            mfs: 15000,
            hoh: 22500,
          },
          brackets: {
            single: [
              [0, 0.1],
              [12000, 0.12],
              [49000, 0.22],
              [104000, 0.24],
              [198000, 0.32],
              [252000, 0.35],
              [630000, 0.37],
            ],
            mfj: [
              [0, 0.1],
              [24000, 0.12],
              [98000, 0.22],
              [208000, 0.24],
              [396000, 0.32],
              [504000, 0.35],
              [756000, 0.37],
            ],
            mfs: [
              [0, 0.1],
              [12000, 0.12],
              [49000, 0.22],
              [104000, 0.24],
              [198000, 0.32],
              [252000, 0.35],
              [378000, 0.37],
            ],
            hoh: [
              [0, 0.1],
              [17000, 0.12],
              [65000, 0.22],
              [104000, 0.24],
              [198000, 0.32],
              [252000, 0.35],
              [630000, 0.37],
            ],
          },
        },
      };

      function parseInput(id) {
        const el = document.getElementById(id);
        if (!el) return 0;
        const val = parseFloat(el.value.replace(/,/g, ""));
        return isNaN(val) || val < 0 ? 0 : val;
      }

      function formatMoney(value) {
        return (
          "$" + value.toLocaleString("en-US", { maximumFractionDigits: 0 })
        );
      }

      function computeIncomeTax(taxableIncome, year, status) {
        if (taxableIncome <= 0) return 0;
        const brackets = TAX_DATA[year].brackets[status];
        let tax = 0;
        for (let i = brackets.length - 1; i >= 0; i--) {
          const [threshold, rate] = brackets[i];
          if (taxableIncome > threshold) {
            tax += (taxableIncome - threshold) * rate;
            taxableIncome = threshold;
          }
        }
        return tax;
      }

      function computeSelfEmploymentTax(seIncome, year) {
        if (seIncome <= 0) return { seTax: 0, seDeduction: 0 };
        const seBase = seIncome * 0.9235;
        const ssWageBase = year === "2024" ? 168600 : 175000; // approximate 2025
        const ssRate = 0.124;
        const medicareRate = 0.029;
        const ssTax = Math.min(seBase, ssWageBase) * ssRate;
        const medicareTax = seBase * medicareRate;
        const seTax = ssTax + medicareTax;
        const seDeduction = seTax * 0.5;
        return { seTax, seDeduction };
      }

      function calculateQuarterlyTax() {
        const year = document.getElementById("tax-year").value;
        const status = document.querySelector(
          'input[name="filing-status"]:checked'
        ).value;

        const w2Wages = parseInput("w2-wages");
        const seIncome = parseInput("se-income");
        const otherIncome = parseInput("other-income");
        const aboveLine = parseInput("above-line-deductions");
        const nonrefCredits = parseInput("nonrefundable-credits");
        const w2Withholding = parseInput("w2-withholding");
        const priorEstimated = parseInput("prior-estimated");
        const priorYearTax = parseInput("prior-year-tax");
        const agiOver150k = document.getElementById("agi-over-150k").value;

        const deductionType = document.getElementById("deduction-type").value;
        const itemized = parseInput("itemized-deductions");

        // Basic validation: if any field is NaN or negative, parseInput already clamps to 0.
        const totalIncome = w2Wages + seIncome + otherIncome;
        if (
          totalIncome === 0 &&
          aboveLine === 0 &&
          nonrefCredits === 0 &&
          w2Withholding === 0 &&
          priorEstimated === 0 &&
          priorYearTax === 0
        ) {
          document.getElementById("calc-error").classList.remove("hidden");
          document.getElementById("results-section").classList.add("hidden");
          return;
        } else {
          document.getElementById("calc-error").classList.add("hidden");
        }

        // Self-employment tax and deduction
        const { seTax, seDeduction } = computeSelfEmploymentTax(seIncome, year);

        // Adjusted gross income
        let agi = totalIncome - aboveLine - seDeduction;
        if (agi < 0) agi = 0;

        // Deductions
        const stdDed = TAX_DATA[year].standardDeduction[status];
        const deduction =
          deductionType === "itemized" ? Math.max(itemized, 0) : stdDed;

        let taxableIncome = agi - deduction;
        if (taxableIncome < 0) taxableIncome = 0;

        const incomeTax = computeIncomeTax(taxableIncome, year, status);

        // Total tax before credits
        let totalTax = incomeTax + seTax;

        // Nonrefundable credits cannot reduce below zero
        const creditsApplied = Math.min(nonrefCredits, totalTax);
        totalTax -= creditsApplied;

        const prepaid = w2Withholding + priorEstimated;
        const balanceDue = Math.max(totalTax - prepaid, 0);

        const quarterly = balanceDue / 4;

        // Safe harbor
        let safeHarborMsg =
          "Enter last year’s total tax to see if you’re on track to meet the safe harbor.";
        if (priorYearTax > 0) {
          const factor = agiOver150k === "yes" ? 1.1 : 1.0;
          const safeHarborPrior = priorYearTax * factor;
          const safeHarborCurrent = totalTax * 0.9;
          const target = Math.min(safeHarborPrior, safeHarborCurrent);
          const projectedPaid = prepaid + balanceDue; // assume you pay suggested estimates

          if (projectedPaid + 1 >= target) {
            safeHarborMsg = `Based on your entries, your projected total payments are roughly at or above the estimated safe harbor amount (~${formatMoney(
              Math.round(target)
            )}). You are less likely to owe an underpayment penalty.`;
          } else {
            safeHarborMsg = `Your projected total payments may be below the estimated safe harbor amount (~${formatMoney(
              Math.round(target)
            )}). Consider increasing your quarterly payments or withholding to reduce potential underpayment penalties.`;
          }
        }

        // Update UI
        document.getElementById("results-section").classList.remove("hidden");
        document.getElementById("result-quarterly").textContent = formatMoney(
          Math.round(quarterly)
        );
        document.getElementById("result-total-tax").textContent = formatMoney(
          Math.round(totalTax)
        );
        document.getElementById("result-income-tax").textContent = formatMoney(
          Math.round(incomeTax)
        );
        document.getElementById("result-se-tax").textContent = formatMoney(
          Math.round(seTax)
        );
        document.getElementById("result-tax-after-credits").textContent =
          formatMoney(Math.round(totalTax));
        document.getElementById("result-prepaid").textContent =
          "-" + formatMoney(Math.round(prepaid));
        document.getElementById("result-balance").textContent = formatMoney(
          Math.round(balanceDue)
        );
        document.getElementById("result-safe-harbor").textContent =
          safeHarborMsg;

        const scheduleBody = document.getElementById("result-schedule");
        scheduleBody.innerHTML = "";
        const quarters = [
          { label: "Q1", due: "April 15", amount: quarterly },
          { label: "Q2", due: "June 15", amount: quarterly },
          { label: "Q3", due: "September 15", amount: quarterly },
          { label: "Q4", due: "January 15 (next year)", amount: quarterly },
        ];
        quarters.forEach((q) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="py-1 pr-2">${q.label}</td>
        <td class="py-1 pr-2">${q.due}</td>
        <td class="py-1 text-right">${formatMoney(Math.round(q.amount))}</td>
      `;
          scheduleBody.appendChild(tr);
        });

        document.getElementById("result-summary").textContent =
          "These results are estimates based on simplified 2024–2025 federal tax rules. They do not account for every deduction, credit, or special situation. Use them as a planning guide only, not as tax advice.";
      }

      document
        .getElementById("calculate-btn")
        .addEventListener("click", calculateQuarterlyTax);

      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("quarterly-tax-form").reset();
        document.getElementById("itemized-wrapper").classList.add("hidden");
        document.getElementById("results-section").classList.add("hidden");
        document.getElementById("calc-error").classList.add("hidden");
      });

      document
        .getElementById("deduction-type")
        .addEventListener("change", (e) => {
          const wrap = document.getElementById("itemized-wrapper");
          if (e.target.value === "itemized") {
            wrap.classList.remove("hidden");
          } else {
            wrap.classList.add("hidden");
          }
        });

      document.querySelectorAll(".toggle-section").forEach((btn) => {
        btn.addEventListener("click", () => {
          const expanded = btn.getAttribute("aria-expanded") === "true";
          btn.setAttribute("aria-expanded", String(!expanded));
          const content = btn.nextElementSibling;
          if (!content) return;
          if (expanded) {
            content.style.display = "none";
          } else {
            content.style.display = "block";
          }
        });
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
