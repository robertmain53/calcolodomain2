<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/business-loan" />
    <title>Business Loan Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Business Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Business Loan Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Business Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />
    <meta property="og:url" content="https://calcdomain.com/business-loan" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Business Loan Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Business Loan Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Fast, reliable results." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Business & Small Biz Calculators", "item": "https://calcdomain.com/subcategories/business-small-biz"}, {"@type": "ListItem", "position": 4, "name": "Business Loan Calculator", "item": "https://calcdomain.com/business-loan"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/business-small-biz" class="text-blue-600 hover:underline">Business &amp; Small Biz Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Business Loan Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1>Business Loan Calculator</h1>
              <p class="text-gray-600">
                Estimate payments, total interest, and a full amortization
                schedule for your business loan. Model origination fees, balloon
                payments, and different payment frequencies.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="sr-only">
                Business loan calculator
              </h2>

              <!-- Quick presets -->
              <div class="mb-4 flex flex-wrap gap-2">
                <button
                  type="button"
                  data-preset="working-capital"
                  class="px-3 py-1 text-xs md:text-sm border border-gray-300 rounded-full text-gray-700 hover:bg-gray-100"
                >
                  Working capital (3 years)
                </button>
                <button
                  type="button"
                  data-preset="equipment"
                  class="px-3 py-1 text-xs md:text-sm border border-gray-300 rounded-full text-gray-700 hover:bg-gray-100"
                >
                  Equipment loan (5 years)
                </button>
                <button
                  type="button"
                  data-preset="sba"
                  class="px-3 py-1 text-xs md:text-sm border border-gray-300 rounded-full text-gray-700 hover:bg-gray-100"
                >
                  SBA-style (10 years)
                </button>
              </div>

              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <div>
                    <label for="loanAmount" class="input-label"
                      >Loan amount</label
                    >
                    <div class="flex">
                      <span
                        class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                        >$</span
                      >
                      <input
                        id="loanAmount"
                        type="number"
                        min="0"
                        step="1000"
                        class="input-field rounded-l-none"
                        value="250000"
                      />
                    </div>
                  </div>

                  <div>
                    <label for="interestRate" class="input-label"
                      >Annual interest rate (APR)</label
                    >
                    <div class="flex">
                      <input
                        id="interestRate"
                        type="number"
                        min="0"
                        max="100"
                        step="0.01"
                        class="input-field rounded-r-none"
                        value="8.5"
                      />
                      <span
                        class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                        >%</span
                      >
                    </div>
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label for="termYears" class="input-label"
                        >Term (years)</label
                      >
                      <input
                        id="termYears"
                        type="number"
                        min="0"
                        step="0.5"
                        class="input-field"
                        value="5"
                      />
                    </div>
                    <div>
                      <label for="termMonths" class="input-label"
                        >Or term (months)</label
                      >
                      <input
                        id="termMonths"
                        type="number"
                        min="0"
                        step="1"
                        class="input-field"
                        value=""
                      />
                    </div>
                  </div>

                  <div>
                    <label for="paymentFrequency" class="input-label"
                      >Payment frequency</label
                    >
                    <select id="paymentFrequency" class="input-field">
                      <option value="12">Monthly</option>
                      <option value="26">Bi-weekly (26/yr)</option>
                      <option value="52">Weekly (52/yr)</option>
                      <option value="4">Quarterly (4/yr)</option>
                      <option value="1">Annually (1/yr)</option>
                    </select>
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label for="originationFeePct" class="input-label"
                        >Origination fee (%)</label
                      >
                      <input
                        id="originationFeePct"
                        type="number"
                        min="0"
                        max="20"
                        step="0.1"
                        class="input-field"
                        value="0"
                      />
                    </div>
                    <div>
                      <label for="balloonPct" class="input-label"
                        >Balloon at end (% of loan)</label
                      >
                      <input
                        id="balloonPct"
                        type="number"
                        min="0"
                        max="90"
                        step="1"
                        class="input-field"
                        value="0"
                      />
                    </div>
                  </div>

                  <div class="flex items-center space-x-2">
                    <input
                      id="interestOnlyToggle"
                      type="checkbox"
                      class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                    />
                    <label
                      for="interestOnlyToggle"
                      class="text-sm text-gray-700"
                      >Interest-only payments until balloon</label
                    >
                  </div>
                </div>

                <!-- Results summary -->
                <div class="space-y-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                    <h3 class="text-sm font-semibold text-blue-800 mb-2">
                      Summary
                    </h3>
                    <dl class="space-y-1 text-sm">
                      <div class="flex justify-between">
                        <dt>Payment amount</dt>
                        <dd id="resultPayment" class="font-semibold">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Number of payments</dt>
                        <dd id="resultNumPayments">0</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Total interest paid</dt>
                        <dd id="resultTotalInterest">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Origination fee</dt>
                        <dd id="resultOriginationFee">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Balloon payment</dt>
                        <dd id="resultBalloon">$0.00</dd>
                      </div>
                      <div
                        class="flex justify-between border-t border-blue-100 pt-2 mt-2"
                      >
                        <dt class="font-semibold">
                          Total cost (interest + fees)
                        </dt>
                        <dd id="resultTotalCost" class="font-semibold">
                          $0.00
                        </dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Effective APR (approx.)</dt>
                        <dd id="resultEffectiveApr">–</dd>
                      </div>
                    </dl>
                  </div>

                  <div>
                    <h3 class="text-sm font-semibold text-gray-800 mb-2">
                      Principal vs. interest
                    </h3>
                    <div
                      class="w-full h-4 bg-gray-100 rounded-full overflow-hidden"
                    >
                      <div
                        id="barPrincipal"
                        class="h-4 bg-green-500"
                        style="width: 0%"
                      ></div>
                      <div
                        id="barInterest"
                        class="h-4 bg-red-400 -mt-4"
                        style="width: 0%"
                      ></div>
                    </div>
                    <div
                      class="flex justify-between text-xs text-gray-600 mt-1"
                    >
                      <span id="labelPrincipal">Principal: 0%</span>
                      <span id="labelInterest">Interest &amp; fees: 0%</span>
                    </div>
                  </div>

                  <div class="flex flex-wrap gap-2">
                    <button
                      id="calculateBtn"
                      type="button"
                      class="px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700"
                    >
                      Calculate
                    </button>
                    <button
                      id="resetBtn"
                      type="button"
                      class="px-4 py-2 bg-gray-100 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-200"
                    >
                      Reset
                    </button>
                    <button
                      id="exportCsvBtn"
                      type="button"
                      class="px-4 py-2 bg-white border text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-50"
                    >
                      Export schedule (CSV)
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Tabs for amortization & comparison -->
            <section class="mb-8">
              <div class="border-b border-gray-200 mb-4">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                  <button
                    id="tab-amortization"
                    class="py-2 px-3 text-sm font-medium text-gray-600 border-b-2 border-transparent hover:text-blue-600"
                    type="button"
                  >
                    Amortization schedule
                  </button>
                  <button
                    id="tab-comparison"
                    class="py-2 px-3 text-sm font-medium text-gray-600 border-b-2 border-transparent hover:text-blue-600"
                    type="button"
                  >
                    Scenario comparison
                  </button>
                </nav>
              </div>

              <!-- Amortization table -->
              <div id="panel-amortization">
                <div class="scroll-table border border-gray-200 rounded-lg">
                  <table class="min-w-full text-xs">
                    <thead class="bg-gray-50 sticky top-0">
                      <tr>
                        <th
                          class="px-3 py-2 text-left font-semibold text-gray-700"
                        >
                          #
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Payment
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Interest
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Principal
                        </th>
                        <th
                          class="px-3 py-2 text-right font-semibold text-gray-700"
                        >
                          Balance
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="amortizationBody"
                      class="divide-y divide-gray-100"
                    >
                      <tr>
                        <td
                          colspan="5"
                          class="px-3 py-3 text-center text-gray-500"
                        >
                          Click “Calculate” to generate the amortization
                          schedule.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Comparison panel -->
              <div id="panel-comparison" class="hidden">
                <p class="text-sm text-gray-600 mb-3">
                  Use this quick comparison to see how changing the term or rate
                  affects your payment and total interest.
                </p>
                <div class="grid md:grid-cols-3 gap-4 text-xs">
                  <div class="border rounded-lg p-3">
                    <h3 class="font-semibold mb-1">Current scenario</h3>
                    <dl class="space-y-1">
                      <div class="flex justify-between">
                        <dt>Payment</dt>
                        <dd id="cmpPaymentA">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Total interest</dt>
                        <dd id="cmpInterestA">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Term</dt>
                        <dd id="cmpTermA">–</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="border rounded-lg p-3">
                    <h3 class="font-semibold mb-1">Shorter term (−2 yrs)</h3>
                    <dl class="space-y-1">
                      <div class="flex justify-between">
                        <dt>Payment</dt>
                        <dd id="cmpPaymentB">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Total interest</dt>
                        <dd id="cmpInterestB">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Term</dt>
                        <dd id="cmpTermB">–</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="border rounded-lg p-3">
                    <h3 class="font-semibold mb-1">Higher rate (+2%)</h3>
                    <dl class="space-y-1">
                      <div class="flex justify-between">
                        <dt>Payment</dt>
                        <dd id="cmpPaymentC">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Total interest</dt>
                        <dd id="cmpInterestC">$0.00</dd>
                      </div>
                      <div class="flex justify-between">
                        <dt>Rate</dt>
                        <dd id="cmpRateC">–</dd>
                      </div>
                    </dl>
                  </div>
                </div>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How the business loan calculator works</h2>
              <p>
                This tool models a standard amortizing business term loan,
                similar to what you might get from a bank, SBA lender, or online
                lender. You can also approximate interest-only structures and
                balloon loans.
              </p>

              <h3>Amortizing payment formula</h3>
              <p>
                The regular payment for a fully amortizing loan is calculated
                using the standard formula:
              </p>
              <div class="formula-box">
                <p>Let:</p>
                <ul>
                  <li><code>P</code> = loan principal (amount borrowed)</li>
                  <li>
                    <code>r</code> = periodic interest rate (annual rate /
                    payments per year)
                  </li>
                  <li><code>n</code> = total number of payments</li>
                </ul>
                <p>Then the payment <code>PMT</code> is:</p>
                <p>\[ PMT = P \times \frac{r(1+r)^n}{(1+r)^n - 1} \]</p>
              </div>
              <p>
                Each payment is split into interest and principal. Interest is
                calculated on the outstanding balance; the rest reduces the
                principal.
              </p>

              <h3>Balloon and interest-only options</h3>
              <ul>
                <li>
                  <strong>Balloon payment</strong> – You can set a balloon as a
                  percentage of the original loan (for example, 20%). The
                  calculator then amortizes only the non-balloon portion and
                  adds the balloon as a lump sum at the end.
                </li>
                <li>
                  <strong>Interest-only</strong> – If you enable “Interest-only
                  payments until balloon,” regular payments cover interest only
                  and the full principal (or balloon portion) is due at
                  maturity.
                </li>
              </ul>

              <h3>Effective APR and total cost</h3>
              <p>
                Origination fees increase your true borrowing cost. The
                calculator:
              </p>
              <ul>
                <li>Computes the fee as a percentage of the loan amount.</li>
                <li>
                  Shows your <strong>total cost</strong> (interest + fees).
                </li>
                <li>
                  Estimates an <strong>effective APR</strong> by solving for the
                  internal rate of return (IRR) of the cash flows (net proceeds
                  vs. payments and balloon).
                </li>
              </ul>

              <h2>How to use this business loan calculator</h2>
              <ol>
                <li>
                  <strong>Enter the loan amount</strong> you plan to borrow.
                </li>
                <li>
                  <strong>Set the interest rate</strong> (APR) quoted by the
                  lender.
                </li>
                <li>
                  <strong>Choose the term</strong> in years or months and select
                  the payment frequency.
                </li>
                <li>
                  <strong>Add fees or balloon</strong> if your offer includes an
                  origination fee or a final balloon payment.
                </li>
                <li>
                  Click <strong>Calculate</strong> to see your payment, total
                  interest, and amortization schedule.
                </li>
                <li>
                  Use the <strong>Scenario comparison</strong> tab to see how
                  changing the term or rate affects your costs.
                </li>
              </ol>

              <h2>Interpreting the results</h2>
              <ul>
                <li>
                  <strong>Payment amount</strong> – What you’ll pay each period
                  (monthly, weekly, etc.).
                </li>
                <li>
                  <strong>Total interest paid</strong> – The sum of all interest
                  over the life of the loan.
                </li>
                <li>
                  <strong>Origination fee</strong> – Upfront fee based on the
                  percentage you entered.
                </li>
                <li>
                  <strong>Balloon payment</strong> – The lump sum due at the
                  end, if any.
                </li>
                <li>
                  <strong>Total cost</strong> – Interest plus fees; this is the
                  true dollar cost of borrowing.
                </li>
                <li>
                  <strong>Effective APR</strong> – A rate that reflects both
                  interest and fees, useful for comparing offers.
                </li>
              </ul>

              <h2>Tips before taking a business loan</h2>
              <ul>
                <li>
                  <strong>Match term to asset life</strong> – Finance long-lived
                  assets (like equipment or real estate) with longer terms; use
                  shorter terms for working capital.
                </li>
                <li>
                  <strong>Compare APR, not just rate</strong> – Fees and
                  compounding can make a “low rate” loan more expensive than it
                  appears.
                </li>
                <li>
                  <strong>Stress test your cash flow</strong> – Use the
                  comparison tab to see if you can handle higher rates or
                  shorter terms.
                </li>
                <li>
                  <strong>Check covenants and prepayment penalties</strong> –
                  These can limit flexibility or increase your cost if you repay
                  early.
                </li>
              </ul>

              <h2>FAQ</h2>
              <h3>What types of business loans does this calculator cover?</h3>
              <p>
                This calculator is ideal for fixed-rate term loans: bank loans,
                SBA 7(a)-style loans, equipment financing, and many online
                business loans. It is not designed for merchant cash advances or
                revolving lines of credit, which have different fee structures.
              </p>

              <h3>Can I use this for SBA loans?</h3>
              <p>
                Yes. SBA loans are typically amortizing term loans with regular
                payments. Enter the SBA interest rate, term (often 7–10 years
                for working capital, longer for real estate), and any fees to
                approximate your payment and total cost.
              </p>

              <h3>Why is the total interest so high on long terms?</h3>
              <p>
                Longer terms reduce your payment but increase the number of
                payments, so interest accrues over more periods. Shortening the
                term usually raises the payment but can dramatically reduce
                total interest.
              </p>

              <h3>Does this calculator include taxes or insurance?</h3>
              <p>
                No. It focuses on the loan itself: principal, interest, and
                fees. Any taxes, insurance, or other operating costs for your
                business should be added separately to your cash flow
                projections.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Business, Loan.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Business, Loan.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Business &amp; Small Biz Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/break-even-calculator"
                  class="text-blue-600 hover:underline"
                  >Break Even</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-flow-projection-calculator"
                  class="text-blue-600 hover:underline"
                  >Cash Flow Projection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/salary-to-hourly-calculator"
                  class="text-blue-600 hover:underline"
                  >Salary to Hourly</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-valuation-calculator"
                  class="text-blue-600 hover:underline"
                  >Business Valuation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bonus-gross-up-calculator"
                  class="text-blue-600 hover:underline"
                  >Bonus Gross Up</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/commercial-real-estate"
                  class="text-blue-600 hover:underline"
                  >Commercial Real Estate</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-finance-and-ratios"
                  class="text-blue-600 hover:underline"
                  >Business Finance &amp; Ratios</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-conversion-cycle"
                  class="text-blue-600 hover:underline"
                  >Cash Conversion Cycle (CCC)</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More Finance Calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization-calculator"
                  class="text-blue-600 hover:underline"
                  >Advanced Loan Amortization</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roi"
                  class="text-blue-600 hover:underline"
                  >Investment Return (ROI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/debt-to-income-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt to Income Ratio (DTI)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/paycheck"
                  class="text-blue-600 hover:underline"
                  >Paycheck Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function fmtMoney(v) {
        if (!isFinite(v)) return "$0.00";
        return v.toLocaleString(undefined, {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 2,
        });
      }
      function fmtPercent(v) {
        if (!isFinite(v)) return "–";
        return v.toLocaleString(undefined, { maximumFractionDigits: 2 }) + "%";
      }

      function calculateSchedule(params) {
        const {
          principal,
          annualRate,
          years,
          paymentsPerYear,
          balloonPct,
          interestOnly,
        } = params;

        const n = Math.round(years * paymentsPerYear);
        if (principal <= 0 || annualRate < 0 || n <= 0) {
          return {
            payment: 0,
            schedule: [],
            totalInterest: 0,
            balloon: 0,
            numPayments: 0,
          };
        }

        const r = annualRate / 100 / paymentsPerYear;
        const balloonPrincipal = principal * (balloonPct / 100);
        const amortizedPrincipal = principal - balloonPrincipal;

        let payment = 0;
        if (interestOnly) {
          // Interest-only on full principal
          payment = principal * r;
        } else {
          if (r === 0) {
            payment = amortizedPrincipal / n;
          } else {
            const pow = Math.pow(1 + r, n);
            payment = (amortizedPrincipal * (r * pow)) / (pow - 1);
          }
        }

        const schedule = [];
        let balance = principal;
        let totalInterest = 0;

        for (let i = 1; i <= n; i++) {
          const interest = balance * r;
          let principalPaid = 0;
          let pay = payment;

          if (interestOnly) {
            principalPaid = 0;
          } else {
            principalPaid = pay - interest;
            if (principalPaid < 0) principalPaid = 0;
          }

          // Last period: apply balloon if any
          if (i === n && balloonPrincipal > 0) {
            principalPaid += balloonPrincipal;
            pay += balloonPrincipal;
          }

          balance -= principalPaid;
          if (balance < 0) balance = 0;

          totalInterest += interest;

          schedule.push({
            period: i,
            payment: pay,
            interest: interest,
            principal: principalPaid,
            balance: balance,
          });
        }

        const balloon = balloonPrincipal;
        const numPayments = n;
        return { payment, schedule, totalInterest, balloon, numPayments };
      }

      function estimateEffectiveAPR(principal, fee, schedule, paymentsPerYear) {
        // Cash flows: t0 = principal - fee (inflow), subsequent = -payment amounts
        const netProceeds = principal - fee;
        if (netProceeds <= 0 || !schedule.length) return NaN;

        const cashFlows = [-netProceeds]; // from borrower's perspective: outflow at t0
        schedule.forEach((row) => cashFlows.push(row.payment));

        // IRR via Newton-Raphson
        let guess = 0.1 / paymentsPerYear; // periodic rate
        for (let iter = 0; iter < 50; iter++) {
          let f = 0;
          let df = 0;
          for (let t = 0; t < cashFlows.length; t++) {
            const cf = cashFlows[t];
            const denom = Math.pow(1 + guess, t);
            f += cf / denom;
            if (t > 0) {
              df -= (t * cf) / Math.pow(1 + guess, t + 1);
            }
          }
          if (Math.abs(df) < 1e-12) break;
          const newGuess = guess - f / df;
          if (!isFinite(newGuess) || newGuess <= -0.9999) break;
          if (Math.abs(newGuess - guess) < 1e-8) {
            guess = newGuess;
            break;
          }
          guess = newGuess;
        }
        const annualRate = (Math.pow(1 + guess, paymentsPerYear) - 1) * 100;
        return annualRate;
      }

      function updateComparison(baseParams, baseResult) {
        const {
          principal,
          annualRate,
          years,
          paymentsPerYear,
          balloonPct,
          interestOnly,
        } = baseParams;

        // Current
        document.getElementById("cmpPaymentA").textContent = fmtMoney(
          baseResult.payment
        );
        document.getElementById("cmpInterestA").textContent = fmtMoney(
          baseResult.totalInterest
        );
        document.getElementById("cmpTermA").textContent =
          years.toFixed(2) + " yrs";

        // Shorter term (minus 2 years, min 1 year)
        const shortYears = Math.max(1, years - 2);
        const shortRes = calculateSchedule({
          principal,
          annualRate,
          years: shortYears,
          paymentsPerYear,
          balloonPct,
          interestOnly,
        });
        document.getElementById("cmpPaymentB").textContent = fmtMoney(
          shortRes.payment
        );
        document.getElementById("cmpInterestB").textContent = fmtMoney(
          shortRes.totalInterest
        );
        document.getElementById("cmpTermB").textContent =
          shortYears.toFixed(2) + " yrs";

        // Higher rate (+2%)
        const highRate = annualRate + 2;
        const highRes = calculateSchedule({
          principal,
          annualRate: highRate,
          years,
          paymentsPerYear,
          balloonPct,
          interestOnly,
        });
        document.getElementById("cmpPaymentC").textContent = fmtMoney(
          highRes.payment
        );
        document.getElementById("cmpInterestC").textContent = fmtMoney(
          highRes.totalInterest
        );
        document.getElementById("cmpRateC").textContent = fmtPercent(highRate);
      }

      function handleCalculate() {
        const principal =
          parseFloat(document.getElementById("loanAmount").value) || 0;
        const annualRate =
          parseFloat(document.getElementById("interestRate").value) || 0;
        const termYearsInput = parseFloat(
          document.getElementById("termYears").value
        );
        const termMonthsInput = parseFloat(
          document.getElementById("termMonths").value
        );
        const paymentsPerYear =
          parseInt(document.getElementById("paymentFrequency").value, 10) || 12;
        const originationFeePct =
          parseFloat(document.getElementById("originationFeePct").value) || 0;
        const balloonPct =
          parseFloat(document.getElementById("balloonPct").value) || 0;
        const interestOnly =
          document.getElementById("interestOnlyToggle").checked;

        let years = 0;
        if (termMonthsInput && termMonthsInput > 0) {
          years = termMonthsInput / 12;
          if (!termYearsInput) {
            document.getElementById("termYears").value = years.toFixed(2);
          }
        } else {
          years = termYearsInput || 0;
          if (years > 0 && !termMonthsInput) {
            document.getElementById("termMonths").value = Math.round(
              years * 12
            );
          }
        }

        const params = {
          principal,
          annualRate,
          years,
          paymentsPerYear,
          balloonPct,
          interestOnly,
        };
        const result = calculateSchedule(params);

        const fee = principal * (originationFeePct / 100);
        const totalInterest = result.totalInterest;
        const totalCost = totalInterest + fee;

        // Update summary
        document.getElementById("resultPayment").textContent = fmtMoney(
          result.payment
        );
        document.getElementById("resultNumPayments").textContent =
          result.numPayments;
        document.getElementById("resultTotalInterest").textContent =
          fmtMoney(totalInterest);
        document.getElementById("resultOriginationFee").textContent =
          fmtMoney(fee);
        document.getElementById("resultBalloon").textContent = fmtMoney(
          result.balloon
        );
        document.getElementById("resultTotalCost").textContent =
          fmtMoney(totalCost);

        // Principal vs interest bar
        const totalPaid = principal + totalInterest + fee;
        let principalPct = 0;
        let interestPct = 0;
        if (totalPaid > 0) {
          principalPct = (principal / totalPaid) * 100;
          interestPct = ((totalInterest + fee) / totalPaid) * 100;
        }
        document.getElementById("barPrincipal").style.width =
          principalPct + "%";
        document.getElementById("barInterest").style.width = interestPct + "%";
        document.getElementById("labelPrincipal").textContent =
          "Principal: " + principalPct.toFixed(1) + "%";
        document.getElementById("labelInterest").textContent =
          "Interest & fees: " + interestPct.toFixed(1) + "%";

        // Effective APR
        const effApr = estimateEffectiveAPR(
          principal,
          fee,
          result.schedule,
          paymentsPerYear
        );
        document.getElementById("resultEffectiveApr").textContent = isNaN(
          effApr
        )
          ? "–"
          : fmtPercent(effApr);

        // Amortization table
        const tbody = document.getElementById("amortizationBody");
        tbody.innerHTML = "";
        if (!result.schedule.length) {
          const tr = document.createElement("tr");
          tr.innerHTML =
            '<td colspan="5" class="px-3 py-3 text-center text-gray-500">Unable to calculate schedule. Check your inputs.</td>';
          tbody.appendChild(tr);
        } else {
          result.schedule.forEach((row) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
          <td class="px-3 py-1.5 text-gray-700">${row.period}</td>
          <td class="px-3 py-1.5 text-right text-gray-700">${fmtMoney(
            row.payment
          )}</td>
          <td class="px-3 py-1.5 text-right text-gray-700">${fmtMoney(
            row.interest
          )}</td>
          <td class="px-3 py-1.5 text-right text-gray-700">${fmtMoney(
            row.principal
          )}</td>
          <td class="px-3 py-1.5 text-right text-gray-700">${fmtMoney(
            row.balance
          )}</td>
        `;
            tbody.appendChild(tr);
          });
        }

        // Update comparison
        updateComparison(params, result);

        // Store last schedule for export
        window._businessLoanLast = { params, result, fee };
      }

      function handleReset() {
        document.getElementById("loanAmount").value = 250000;
        document.getElementById("interestRate").value = 8.5;
        document.getElementById("termYears").value = 5;
        document.getElementById("termMonths").value = "";
        document.getElementById("paymentFrequency").value = "12";
        document.getElementById("originationFeePct").value = 0;
        document.getElementById("balloonPct").value = 0;
        document.getElementById("interestOnlyToggle").checked = false;
        document.getElementById("amortizationBody").innerHTML =
          '<tr><td colspan="5" class="px-3 py-3 text-center text-gray-500">Click “Calculate” to generate the amortization schedule.</td></tr>';
        document.getElementById("resultPayment").textContent = "$0.00";
        document.getElementById("resultNumPayments").textContent = "0";
        document.getElementById("resultTotalInterest").textContent = "$0.00";
        document.getElementById("resultOriginationFee").textContent = "$0.00";
        document.getElementById("resultBalloon").textContent = "$0.00";
        document.getElementById("resultTotalCost").textContent = "$0.00";
        document.getElementById("resultEffectiveApr").textContent = "–";
        document.getElementById("barPrincipal").style.width = "0%";
        document.getElementById("barInterest").style.width = "0%";
        document.getElementById("labelPrincipal").textContent = "Principal: 0%";
        document.getElementById("labelInterest").textContent =
          "Interest & fees: 0%";
        window._businessLoanLast = null;
      }

      function handleExportCsv() {
        const data = window._businessLoanLast;
        if (!data || !data.result.schedule.length) {
          alert("Please calculate a schedule first.");
          return;
        }
        const { params, result, fee } = data;
        const lines = [];
        lines.push("Business Loan Schedule");
        lines.push(`Loan amount,${params.principal}`);
        lines.push(`Annual rate (%),${params.annualRate}`);
        lines.push(`Term (years),${params.years}`);
        lines.push(`Payments per year,${params.paymentsPerYear}`);
        lines.push(
          `Origination fee (%),${(fee / params.principal) * 100 || 0}`
        );
        lines.push(`Balloon (% of loan),${params.balloonPct}`);
        lines.push("");
        lines.push("Period,Payment,Interest,Principal,Balance");
        result.schedule.forEach((row) => {
          lines.push(
            [
              row.period,
              row.payment.toFixed(2),
              row.interest.toFixed(2),
              row.principal.toFixed(2),
              row.balance.toFixed(2),
            ].join(",")
          );
        });
        const blob = new Blob([lines.join("\n")], {
          type: "text/csv;charset=utf-8;",
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "business-loan-schedule.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      function applyPreset(type) {
        if (type === "working-capital") {
          document.getElementById("loanAmount").value = 75000;
          document.getElementById("interestRate").value = 11.5;
          document.getElementById("termYears").value = 3;
          document.getElementById("termMonths").value = "";
          document.getElementById("paymentFrequency").value = "12";
          document.getElementById("originationFeePct").value = 2;
          document.getElementById("balloonPct").value = 0;
          document.getElementById("interestOnlyToggle").checked = false;
        } else if (type === "equipment") {
          document.getElementById("loanAmount").value = 150000;
          document.getElementById("interestRate").value = 7.25;
          document.getElementById("termYears").value = 5;
          document.getElementById("termMonths").value = "";
          document.getElementById("paymentFrequency").value = "12";
          document.getElementById("originationFeePct").value = 1;
          document.getElementById("balloonPct").value = 10;
          document.getElementById("interestOnlyToggle").checked = false;
        } else if (type === "sba") {
          document.getElementById("loanAmount").value = 350000;
          document.getElementById("interestRate").value = 9.0;
          document.getElementById("termYears").value = 10;
          document.getElementById("termMonths").value = "";
          document.getElementById("paymentFrequency").value = "12";
          document.getElementById("originationFeePct").value = 2.5;
          document.getElementById("balloonPct").value = 0;
          document.getElementById("interestOnlyToggle").checked = false;
        }
        handleCalculate();
      }

      function initTabs() {
        const tabAmort = document.getElementById("tab-amortization");
        const tabComp = document.getElementById("tab-comparison");
        const panelAmort = document.getElementById("panel-amortization");
        const panelComp = document.getElementById("panel-comparison");

        function activate(tab) {
          if (tab === "amort") {
            tabAmort.classList.add("tab-active");
            tabComp.classList.remove("tab-active");
            panelAmort.classList.remove("hidden");
            panelComp.classList.add("hidden");
          } else {
            tabComp.classList.add("tab-active");
            tabAmort.classList.remove("tab-active");
            panelComp.classList.remove("hidden");
            panelAmort.classList.add("hidden");
          }
        }

        tabAmort.addEventListener("click", () => activate("amort"));
        tabComp.addEventListener("click", () => activate("comp"));
        activate("amort");
      }

      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("calculateBtn")
          .addEventListener("click", handleCalculate);
        document
          .getElementById("resetBtn")
          .addEventListener("click", handleReset);
        document
          .getElementById("exportCsvBtn")
          .addEventListener("click", handleExportCsv);

        document.querySelectorAll("[data-preset]").forEach((btn) => {
          btn.addEventListener("click", () =>
            applyPreset(btn.getAttribute("data-preset"))
          );
        });

        initTabs();
        handleCalculate();
      });

      // Mobile menu script (simple)
      document.addEventListener("DOMContentLoaded", () => {
        const toggle = document.getElementById("mobile-menu-toggle");
        const menu = document.getElementById("mobile-menu");
        if (toggle && menu) {
          toggle.addEventListener("click", () => {
            const isHidden = menu.classList.contains("hidden");
            menu.classList.toggle("hidden", !isHidden);
            toggle.setAttribute("aria-expanded", isHidden ? "true" : "false");
          });
        }
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
