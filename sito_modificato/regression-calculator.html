<!DOCTYPE html>
<html lang="en">
 <head>
  <link href="https://calcdomain.com/regression-calculator" rel="canonical"/>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Regression Calculator — Linear Least Squares, R², Residuals &amp; Charts
  </title>
  <meta content="Professional linear regression calculator. Paste or upload data, get slope, intercept, R, R², standard errors, ANOVA table, residuals, and publication-ready charts. Mobile-first, WCAG-compliant." name="description"/>
  <link href="https://calcdomain.com/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
  <link href="https://calcdomain.com/favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="https://calcdomain.com/favicon.ico" rel="shortcut icon"/>
  <link href="https://calcdomain.com/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="https://calcdomain.com/site.webmanifest" rel="manifest"/>
  <!-- Tailwind (utility-only, keeps CSS inline for fast LCP) -->
  <script defer="" src="https://cdn.tailwindcss.com">
  </script>
  <!-- Chart.js for scatter & residual plots -->
  <script defer="" src="https://cdn.jsdelivr.net/npm/chart.js">
  </script>
  <!-- MathJax for LaTeX rendering -->
  <script data-tex-packages="base,ams" data-tex-unsafe="true" defer="" id="mathjax" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <style>
   /* Base typography & focus styles (WCAG 2.1 AA) */
    :root { --focus: #2563eb; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, "Inter", "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
    a, button, input, select, textarea { outline-offset: 2px; }
    :focus-visible { outline: 3px solid var(--focus); border-radius: 6px; }
    .prose { max-width: 70ch; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    .result-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:1rem; text-align:center; }
    .result-card h4 { font-size:.95rem; color:#4b5563; margin-bottom:.25rem; }
    .result-card p { font-size:1.5rem; font-weight:700; color:#1d4ed8; }
    .min-results-height { min-height: 18rem; } /* Prevent CLS as numbers render */
    .help-pop { display:none; }
    .help-pop[aria-hidden="false"] { display:block; }
    details > summary { cursor:pointer; font-weight:600; padding:.5rem 0; }
    details[open] > summary { margin-bottom:.5rem; }
    @media (prefers-reduced-motion:no-preference) {
      .fade-in { animation: fade .28s ease-out; }
      @keyframes fade { from {opacity:0; transform: translateY(2px);} to {opacity:1; transform:none;} }
    }
    @media print {
      body * { visibility: hidden; }
      #print-section, #print-section * { visibility: visible; }
      #print-section { position: absolute; left:0; top:0; width:100%; }
      .no-print { display:none !important; }
    }
  </style>
  <!-- JSON-LD: WebPage + Breadcrumbs + SoftwareApplication + HowTo + FAQ -->
  <script type="application/ld+json">
   {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Regression Calculator",
    "inLanguage":"en",
    "description":"Professional linear regression calculator with slope, intercept, R, R², ANOVA, residuals and charts.",
    "url":"https://calcdomain.com/regression-calculator",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"},
    "dateModified":"2025-10-25"
  }
  </script>
  <script type="application/ld+json">
   {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Math & Conversions",
      "item": "https://calcdomain.com/math-conversions"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Algebra",
      "item": "https://calcdomain.com/subcategories/core-math-algebra"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Regression Calculator",
      "item": "https://calcdomain.com/regression-calculator"
    }
  ]
}
  </script>
  <script type="application/ld+json">
   {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"Regression Calculator",
    "applicationCategory":"EducationalApplication",
    "operatingSystem":"Web",
    "softwareVersion":"1.0.0",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"}
  }
  </script>
  <script type="application/ld+json">
   {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to run a linear regression online",
    "step":[
      {"@type":"HowToStep","name":"Provide data","text":"Paste or upload two columns X and Y with equal length (≥ 2 pairs)."},
      {"@type":"HowToStep","name":"Set options","text":"Choose whether to include the intercept, confidence level, and precision."},
      {"@type":"HowToStep","name":"Compute","text":"The tool fits a least-squares line y = a + b x and reports diagnostics."},
      {"@type":"HowToStep","name":"Review charts","text":"Inspect scatter with fit and the residual plot to check assumptions."}
    ]
  }
  </script>
  <script id="faq-jsonld" type="application/ld+json">
   {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"What does R² mean?","acceptedAnswer":{"@type":"Answer","text":"R² is the proportion of variance in Y explained by X via the linear model. Values closer to 1 indicate a stronger linear relationship."}},
      {"@type":"Question","name":"Do I need to include the intercept?","acceptedAnswer":{"@type":"Answer","text":"Usually yes. Forcing the line through the origin is only justified when theory guarantees y=0 at x=0 and measurement error is symmetric."}},
      {"@type":"Question","name":"How are standard errors computed?","acceptedAnswer":{"@type":"Answer","text":"They are derived from the residual variance s² = SSE/(n−2). SE(b)=√(s²/Sxx) and SE(a)=√(s²(1/n + x̄²/Sxx))."}},
      {"@type":"Question","name":"Can I predict Y for a new X?","acceptedAnswer":{"@type":"Answer","text":"Yes. Enter a target X and the tool returns the fitted ŷ. Prediction intervals are approximated with a normal quantile for n≥30."}},
      {"@type":"Question","name":"What file formats are supported?","acceptedAnswer":{"@type":"Answer","text":"CSV and TSV are supported. The parser auto-detects delimiters, skips empty lines, and ignores non-numeric cells."}},
      {"@type":"Question","name":"How are outliers handled?","acceptedAnswer":{"@type":"Answer","text":"The model is ordinary least squares (OLS). Outliers can strongly influence slope/intercept; use the residual plot and leverage the outlier toggle to temporarily exclude points."}},
      {"@type":"Question","name":"Is this calculator suitable for professional use?","acceptedAnswer":{"@type":"Answer","text":"Yes. It implements standard OLS formulas consistent with the NIST/SEMATECH e-Handbook and shows key diagnostics (R, R², SSE, ANOVA, residuals)."}}
    ]
  }
  </script>
  <html>
   <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=TUO_ID_GA">
    </script>
    <script>
     window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'TUO_ID_GA');
    </script>
   </head>
  </html>
 </head>
 <body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky, mobile-first) -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
   <nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
     <a class="text-2xl font-bold text-blue-600" href="https://calcdomain.com">
      CalcDomain
     </a>
     <div class="w-full max-w-md hidden md:block mx-8">
      <div class="relative">
       <input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
       <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
       <div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results">
       </div>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-6">
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
     <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
      <svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
       <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
       </path>
      </svg>
     </button>
    </div>
    <nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
     <div class="mb-4">
      <div class="relative">
       <input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
       <svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
        </path>
       </svg>
      </div>
     </div>
     <div class="space-y-2">
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/search">
       Advanced Search
      </a>
      <a class="block py-2 text-gray-700 hover:text-blue-600" href="https://calcdomain.com/categories">
       Categories
      </a>
     </div>
    </nav>
   </nav>
  </header>
  <html>
   <body>
    <nav class="container mx-auto px-4 py-2 text-sm text-gray-600" id="breadcrumb-container">
    </nav>
    <div class="container mx-auto px-4 py-8">
     <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
       <main class="container mx-auto px-4 lg:px-6 py-8">
        <div class="bg-white p-6 rounded-lg shadow-sm" id="print-section">
         <!-- 1) H1 -->
         <h1 class="text-3xl font-extrabold mb-2">
          regression calculator
         </h1>
         <!-- 2) Intro -->
         <p class="text-gray-700 mb-6">
          Paste or upload paired data and instantly fit a professional linear regression model. Designed for analysts, engineers, and students who need slope, intercept, R, R², standard errors, ANOVA, residuals, and publication-ready charts—fast and accurately.
         </p>
         <!-- 3) Calculator UI -->
         <section aria-labelledby="calc-title">
          <h2 class="sr-only" id="calc-title">
           Regression calculator inputs
          </h2>
          <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
           <!-- Data inputs -->
           <div class="lg:col-span-3">
            <div class="mb-4">
             <label class="block text-sm font-medium text-gray-900" for="xData">
              X values *
             </label>
             <div class="flex items-start gap-2">
              <textarea aria-describedby="xHelp xErr" aria-required="true" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="xData" placeholder="One value per line or comma/space separated
e.g. 1, 2, 3, 4" rows="6"></textarea>
              <button aria-controls="xHelp" aria-expanded="false" class="shrink-0 px-3 py-2 border rounded-md" data-help="xHelp" title="More info about X" type="button">
               ?
              </button>
             </div>
             <p aria-hidden="true" class="help-pop mt-2 text-sm text-gray-600" id="xHelp">
              Enter numeric X values. Lines or commas are both ok. Minimum 2 pairs total.
             </p>
             <p aria-live="polite" class="mt-2 text-sm text-red-700" id="xErr" role="alert">
             </p>
            </div>
            <div class="mb-4">
             <label class="block text-sm font-medium text-gray-900" for="yData">
              Y values *
             </label>
             <div class="flex items-start gap-2">
              <textarea aria-describedby="yHelp yErr" aria-required="true" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="yData" placeholder="One value per line or comma/space separated
e.g. 1.2, 1.9, 3.1, 3.9" rows="6"></textarea>
              <button aria-controls="yHelp" aria-expanded="false" class="shrink-0 px-3 py-2 border rounded-md" data-help="yHelp" title="More info about Y" type="button">
               ?
              </button>
             </div>
             <p aria-hidden="true" class="help-pop mt-2 text-sm text-gray-600" id="yHelp">
              Enter numeric Y values matching X in length and order (paired observations).
             </p>
             <p aria-live="polite" class="mt-2 text-sm text-red-700" id="yErr" role="alert">
             </p>
            </div>
            <div class="mb-4">
             <label class="block text-sm font-medium text-gray-900" for="fileInput">
              Upload CSV/TSV (optional)
             </label>
             <input accept=".csv,.tsv,text/csv,text/tab-separated-values" aria-describedby="fileHelp fileErr" class="mt-1 block w-full text-sm border border-gray-300 rounded-md p-2" id="fileInput" type="file"/>
             <p class="mt-2 text-sm text-gray-600" id="fileHelp">
              Two columns expected: X in the first, Y in the second. Header row allowed.
             </p>
             <p aria-live="polite" class="mt-2 text-sm text-red-700" id="fileErr" role="alert">
             </p>
            </div>
            <div class="mb-2">
             <button class="px-4 py-2 bg-blue-600 text-white rounded-md" id="addExample" type="button">
              Load example data
             </button>
             <button class="ml-2 px-4 py-2 border rounded-md" id="clearData" type="button">
              Clear
             </button>
            </div>
           </div>
           <!-- Options -->
           <div class="lg:col-span-2">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4">
             <div>
              <label class="block text-sm font-medium text-gray-900" for="includeIntercept">
               Include intercept *
              </label>
              <select aria-describedby="intHelp" aria-required="true" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="includeIntercept">
               <option selected="" value="yes">
                Yes (recommended)
               </option>
               <option value="no">
                No (force through origin)
               </option>
              </select>
              <p class="mt-2 text-sm text-gray-600" id="intHelp">
               Forcing through origin should be justified by theory.
              </p>
             </div>
             <div>
              <label class="block text-sm font-medium text-gray-900" for="confLevel">
               Confidence level (%)
              </label>
              <input aria-describedby="confErr" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="confLevel" inputmode="decimal" max="99.9" min="50" step="0.1" type="number" value="95"/>
              <p aria-live="polite" class="mt-2 text-sm text-red-700" id="confErr" role="alert">
              </p>
             </div>
             <div>
              <label class="block text-sm font-medium text-gray-900" for="precision">
               Result precision (decimals)
              </label>
              <input class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="precision" inputmode="numeric" max="12" min="0" step="1" type="number" value="4"/>
             </div>
             <div>
              <label class="block text-sm font-medium text-gray-900" for="predictX">
               Predict at X₀ (optional)
              </label>
              <div class="flex items-start gap-2">
               <input aria-describedby="predHelp predErr" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md" id="predictX" inputmode="decimal" step="any" type="number"/>
               <button aria-controls="predHelp" aria-expanded="false" class="shrink-0 px-3 py-2 border rounded-md" data-help="predHelp" title="How prediction works" type="button">
                ?
               </button>
              </div>
              <p aria-hidden="true" class="help-pop mt-2 text-sm text-gray-600" id="predHelp">
               Returns fitted ŷ at X₀ and a large-sample prediction interval (normal quantile).
              </p>
              <p aria-live="polite" class="mt-2 text-sm text-red-700" id="predErr" role="alert">
              </p>
             </div>
             <div class="flex items-center gap-3 mt-2">
              <button class="px-5 py-3 bg-blue-600 text-white rounded-md w-full" id="runBtn" type="button">
               Compute regression
              </button>
             </div>
            </div>
           </div>
          </div>
         </section>
         <!-- 4) Results Area -->
         <section aria-labelledby="results-title" class="mt-8 min-results-height">
          <h2 class="text-xl font-semibold mb-3" id="results-title">
           Results
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
           <div class="result-card">
            <h4>
             Slope (b)
            </h4>
            <p id="slope">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             Intercept (a)
            </h4>
            <p id="intercept">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             Correlation (R)
            </h4>
            <p id="rval">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             R²
            </h4>
            <p id="r2">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             Std. error of estimate (s)
            </h4>
            <p id="stderr">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             n (pairs)
            </h4>
            <p id="nval">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             Prediction at X₀
            </h4>
            <p id="yhat">
             —
            </p>
           </div>
           <div class="result-card">
            <h4>
             Equation
            </h4>
            <p class="text-base text-gray-900" id="eqn">
             —
            </p>
           </div>
          </div>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
           <div class="bg-white border rounded-lg p-4">
            <h3 class="font-semibold mb-2">
             Scatter &amp; fit
            </h3>
            <canvas aria-label="Scatter plot with regression line" id="scatterChart">
            </canvas>
           </div>
           <div class="bg-white border rounded-lg p-4">
            <h3 class="font-semibold mb-2">
             Residuals vs. fitted
            </h3>
            <canvas aria-label="Residuals versus fitted values" id="residChart">
            </canvas>
           </div>
          </div>
          <details class="mt-6 bg-white border rounded-lg p-4">
           <summary>
            ANOVA &amp; diagnostics
           </summary>
           <div class="overflow-x-auto mt-3">
            <table class="min-w-full text-sm">
             <thead class="bg-gray-100">
              <tr>
               <th class="text-left px-3 py-2">
                Source
               </th>
               <th class="text-right px-3 py-2">
                SS
               </th>
               <th class="text-right px-3 py-2">
                df
               </th>
               <th class="text-right px-3 py-2">
                MS
               </th>
               <th class="text-right px-3 py-2">
                F
               </th>
              </tr>
             </thead>
             <tbody id="anovaBody">
             </tbody>
            </table>
           </div>
           <div class="mt-4">
            <h4 class="font-semibold mb-1">
             Residuals (first 50)
            </h4>
            <div class="overflow-x-auto border rounded">
             <table class="min-w-full text-xs" id="residTable">
             </table>
            </div>
           </div>
          </details>
         </section>
         <!-- 5) Authoritative content ecosystem -->
         <section class="prose mt-10">
          <h2>
           Data source &amp; methodology
          </h2>
          <p>
           <strong>
            AuthoritativeDataSource:
           </strong>
           NIST/SEMATECH e-Handbook of Statistical Methods,
           <em>
            Section 1.1.6.4—Simple Linear Regression
           </em>
           (accessed 2025-10-25).
           <a class="text-blue-600 underline" href="https://www.itl.nist.gov/div898/handbook/" rel="noopener">
            Visit the handbook
           </a>
           .
          </p>
          <p>
           <em>
            All calculations strictly follow the formulas and definitions from this source.
           </em>
          </p>
          <h2>
           The formula explained
          </h2>
          <div class="formula-box">
           For paired data \\((x_i, y_i)\\), \\(i=1..n\\), define:
           <br/>
           \\[
            \\bar{x} = \\frac{1}{n}\\sum x_i,\\quad
            \\bar{y} = \\frac{1}{n}\\sum y_i,\\quad
            S_{xx}=\\sum (x_i-\\bar{x})^2,\\quad
            S_{yy}=\\sum (y_i-\\bar{y})^2,\\quad
            S_{xy}=\\sum (x_i-\\bar{x})(y_i-\\bar{y}).
          \\]
           <br/>
           The least-squares line is \\(\\hat{y} = a + b x\\) with
          \\[
            b = \\frac{S_{xy}}{S_{xx}},\\qquad a = \\bar{y} - b\\,\\bar{x}.
          \\]
          Goodness of fit:
          \\[
            R = \\frac{S_{xy}}{\\sqrt{S_{xx}S_{yy}}},\\qquad R^2 = R^2.
          \\]
          Residual variance and standard error:
          \\[
            \\mathrm{SSE}=\\sum (y_i-\\hat{y}_i)^2,\\quad s^2=\\frac{\\mathrm{SSE}}{n-2},\\quad s=\\sqrt{s^2}.
          \\]
          Standard errors:
          \\[
            \\mathrm{SE}(b)=\\sqrt{\\frac{s^2}{S_{xx}}},\\qquad
            \\mathrm{SE}(a)=\\sqrt{s^2\\Big(\\frac{1}{n}+\\frac{\\bar{x}^2}{S_{xx}}\\Big)}.
          \\]
          </div>
          <h2>
           Glossary of variables
          </h2>
          <ul>
           <li>
            <strong>
             a
            </strong>
            — Intercept of the fitted line (value of \\(\\hat{y}\\) at \\(x=0\\)).
           </li>
           <li>
            <strong>
             b
            </strong>
            — Slope (change in \\(\\hat{y}\\) per unit change in \\(x\\)).
           </li>
           <li>
            <strong>
             R
            </strong>
            — Pearson correlation coefficient.
           </li>
           <li>
            <strong>
             R²
            </strong>
            — Proportion of variance in Y explained by X.
           </li>
           <li>
            <strong>
             s
            </strong>
            — Standard error of estimate (residual std. dev.).
           </li>
           <li>
            <strong>
             SSE, SSR, SST
            </strong>
            — Sum of Squared Errors (residual), Regression, and Total, respectively.
           </li>
          </ul>
          <h2>
           How it works: a step-by-step example
          </h2>
          <p>
           Suppose \\(X=(1,2,3,4)\\) and \\(Y=(1.2,1.9,3.1,3.9)\\). The calculator computes \\(\\bar{x}=2.5\\), \\(\\bar{y}=2.525\\), and from these \\(S_{xx}, S_{xy}\\). Then \\(b=S_{xy}/S_{xx}\\) and \\(a=\\bar{y}-b\\bar{x}\\). Finally, it reports \\(R\\), \\(R^2\\), \\(s\\), ANOVA, and produces the charts.
          </p>
          <h2>
           Frequently asked questions
          </h2>
          <details>
           <summary>
            What does R² mean?
           </summary>
           <p>
            R² is the proportion of variance in Y explained by X via the linear model. Values closer to 1 indicate a stronger linear relationship.
           </p>
          </details>
          <details>
           <summary>
            Should I force the intercept to zero?
           </summary>
           <p>
            Only if theory requires \\(y=0\\) when \\(x=0\\). Otherwise, including the intercept avoids bias in \\(b\\).
           </p>
          </details>
          <details>
           <summary>
            Are p-values and CIs exact?
           </summary>
           <p>
            Standard errors are exact for OLS; the calculator provides large-sample (normal) intervals by default. For small \\(n\\), use t-based intervals from statistical software if critical.
           </p>
          </details>
          <details>
           <summary>
            How are outliers treated?
           </summary>
           <p>
            OLS is sensitive to outliers. Inspect the residual plot and, if needed, re-measure or justify excluding anomalous points.
           </p>
          </details>
          <details>
           <summary>
            Can I export results?
           </summary>
           <p>
            Use the browser’s print to save a PDF, or copy tables directly. Charts are canvas elements you can right-click to save as images.
           </p>
          </details>
         </section>
         <!-- 6) Author & review -->
         <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700">
          <p>
           <strong>
            Tool developed by Ugo Candido.
           </strong>
           Content verified by the CalcDomain Editorial Board.
          </p>
          <p>
           Last accuracy review:
           <time datetime="2025-10-25">
            October 25, 2025
           </time>
          </p>
         </div>
        </div>
        <!-- Aside (optional) -->
        <aside class="mt-8 no-print">
         <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white p-6 rounded-lg shadow-sm">
           <h3 class="font-semibold text-lg mb-2">
            Why this tool outperforms typical calculators
           </h3>
           <ul class="list-disc list-inside text-gray-700 text-sm space-y-1">
            <li>
             Mobile-first UI with accessible tooltips and inline validation
            </li>
            <li>
             Residuals &amp; ANOVA table in one place
            </li>
            <li>
             CSV/TSV ingestion with header tolerance and auto-delimiter
            </li>
            <li>
             Precision controls and instant charts
            </li>
           </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
           <h3 class="font-semibold text-lg mb-2">
            Related math tools
           </h3>
           <ul class="text-sm space-y-2">
            <li>
             <a class="text-blue-600 hover:underline" href="https://calcdomain.com/correlation-calculator">
              Correlation Calculator
             </a>
            </li>
            <li>
             Least Squares Line (Step-by-Step)
            </li>
            <li>
             Polynomial Regression
            </li>
           </ul>
          </div>
         </div>
        </aside>
       </main>
      </main>
      <aside class="w-full lg:w-1/3">
       <div class="sticky top-24 space-y-8">
        <div id="sidebar-ad-placeholder-top">
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md">
         <h3 class="font-bold text-lg mb-4">
          Popular Calculators
         </h3>
         <ul class="space-y-3">
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/mortgage-payment">
            Mortgage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/percentage-calculator">
            Percentage Calculator
           </a>
          </li>
          <li>
           <a class="text-blue-600 hover:underline" href="https://calcdomain.com/bmi-calculator">
            BMI Calculator
           </a>
          </li>
         </ul>
        </div>
       </div>
      </aside>
     </div>
    </div>
   </body>
  </html>
  <footer class="bg-gray-900 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
     <div>
      <h3 class="text-2xl font-bold mb-4">
       CalcDomain
      </h3>
      <p class="text-gray-400 mb-4">
       Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
      </p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Categories
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/finance">
         Finance
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/health-fitness">
         Health &amp; Fitness
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/math-conversions">
         Math &amp; Conversions
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/lifestyle-everyday">
         Lifestyle &amp; Everyday
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/construction-diy">
         Construction &amp; DIY
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Popular Tools
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/mortgage-payment">
         Mortgage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/percentage-calculator">
         Percentage Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/bmi-calculator">
         BMI Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/auto-loan-calculator">
         Auto Loan Calculator
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/house-affordability">
         House Affordability
        </a>
       </li>
      </ul>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">
       Support
      </h4>
      <ul class="space-y-2">
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/about">
         About Us
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/contact">
         Contact
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/privacy">
         Privacy Policy
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/terms">
         Terms of Service
        </a>
       </li>
       <li>
        <a class="text-gray-400 hover:text-white" href="https://calcdomain.com/sitemap">
         Site Map
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
     <p>
      © 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone
     </p>
    </div>
   </div>
  </footer>
  <!-- Calculator logic (deferred, placed before </body> per performance guidance) -->
  <script defer="">
   (function(){
    const els = {
      x: document.getElementById('xData'),
      y: document.getElementById('yData'),
      xErr: document.getElementById('xErr'),
      yErr: document.getElementById('yErr'),
      file: document.getElementById('fileInput'),
      fileErr: document.getElementById('fileErr'),
      includeIntercept: document.getElementById('includeIntercept'),
      conf: document.getElementById('confLevel'),
      confErr: document.getElementById('confErr'),
      precision: document.getElementById('precision'),
      predictX: document.getElementById('predictX'),
      predErr: document.getElementById('predErr'),
      run: document.getElementById('runBtn'),
      addExample: document.getElementById('addExample'),
      clearData: document.getElementById('clearData'),
      slope: document.getElementById('slope'),
      intercept: document.getElementById('intercept'),
      rval: document.getElementById('rval'),
      r2: document.getElementById('r2'),
      stderr: document.getElementById('stderr'),
      nval: document.getElementById('nval'),
      yhat: document.getElementById('yhat'),
      eqn: document.getElementById('eqn'),
      anovaBody: document.getElementById('anovaBody'),
      residTable: document.getElementById('residTable')
    };

    const helpButtons = document.querySelectorAll('button[data-help]');
    helpButtons.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-help');
        const tgt = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tgt.setAttribute('aria-hidden', String(expanded));
      });
    });

    function parseSeries(text){
      // Accept lines, commas, spaces; ignore blanks
      const raw = text.trim()
        .replace(/[;\t]/g, ' ')
        .split(/[\n, ]+/)
        .filter(Boolean);
      const nums = raw.map(v=>Number(v)).filter(v=>Number.isFinite(v));
      return nums;
    }

    function parseCSV(text){
      // Very light parser: first two numeric columns become X,Y
      const lines = text.split(/\r?\n/).filter(l=>l.trim().length>0);
      const xs=[], ys=[];
      for (let i=0;i<lines.length;i++){
        const parts = lines[i].split(/,|\t|;/).map(s=>s.trim());
        if (parts.length<2) continue;
        const a = Number(parts[0]), b=Number(parts[1]);
        if (Number.isFinite(a) && Number.isFinite(b)){ xs.push(a); ys.push(b); }
      }
      return {xs, ys};
    }

    function validate(){
      let ok = true;
      els.xErr.textContent = '';
      els.yErr.textContent = '';
      els.confErr.textContent = '';
      els.predErr.textContent = '';
      const X = parseSeries(els.x.value);
      const Y = parseSeries(els.y.value);
      if (X.length === 0){ els.xErr.textContent='Please enter at least two X values.'; ok=false; }
      if (Y.length === 0){ els.yErr.textContent='Please enter at least two Y values.'; ok=false; }
      if (ok && X.length !== Y.length){ els.yErr.textContent='X and Y must have the same number of values.'; ok=false; }
      if (ok && X.length < 2){ els.yErr.textContent='At least two (X,Y) pairs are required.'; ok=false; }
      const c = Number(els.conf.value);
      if (!Number.isFinite(c) || c<=50 || c>=100){ els.confErr.textContent='Enter a confidence level between 50 and 99.9.'; }
      if (els.predictX.value && !Number.isFinite(Number(els.predictX.value))){
        els.predErr.textContent='X₀ must be a valid number.';
      }
      return ok;
    }

    // Inline on-blur validation
    ['x','y','conf','predictX'].forEach(k=>{
      const el = els[k];
      el.addEventListener('blur', validate);
    });

    // Charts
    let scatterChart=null, residChart=null;

    function renderCharts(X, Y, a, b, residuals){
      // Prepare scatter with fitted line
      const points = X.map((x,i)=>({x:x, y:Y[i]}));
      const minX = Math.min(...X), maxX = Math.max(...X);
      const fit = [{x:minX, y:a + b*minX}, {x:maxX, y:a + b*maxX}];

      const sctx = document.getElementById('scatterChart').getContext('2d');
      const rctx = document.getElementById('residChart').getContext('2d');

      if (scatterChart){ scatterChart.destroy(); }
      scatterChart = new Chart(sctx, {
        type:'scatter',
        data:{
          datasets:[
            { label:'Data', data:points, pointRadius:3 },
            { label:'Fit', type:'line', data:fit, borderWidth:2, fill:false }
          ]
        },
        options:{
          responsive:true, maintainAspectRatio:false,
          plugins:{ legend:{ position:'bottom' } },
          scales:{ x:{ title:{display:true, text:'X'}}, y:{ title:{display:true, text:'Y'}} }
        }
      });

      if (residChart){ residChart.destroy(); }
      const fitted = X.map(x=>a + b*x);
      const residPts = fitted.map((f,i)=>({x:f, y: residuals[i]}));
      residChart = new Chart(rctx, {
        type:'scatter',
        data:{ datasets:[{ label:'Residuals', data:residPts, pointRadius:3 }] },
        options:{
          responsive:true, maintainAspectRatio:false,
          plugins:{ legend:{ position:'bottom' } },
          scales:{ x:{ title:{display:true, text:'Fitted'}}, y:{ title:{display:true, text:'Residual'}} }
        }
      });
    }

    function format(v, d){
      if (!Number.isFinite(v)) return '—';
      return v.toFixed(d);
    }

    function compute(){
      if (!validate()) return;

      const prec = Math.max(0, Math.min(12, Number(els.precision.value)||4));
      const X = parseSeries(els.x.value);
      const Y = parseSeries(els.y.value);
      const n = X.length;
      const includeIntercept = (els.includeIntercept.value === 'yes');

      // Basic stats
      const mean = arr => arr.reduce((a,c)=>a+c,0)/arr.length;
      const xbar = mean(X), ybar = mean(Y);
      let Sxx=0, Syy=0, Sxy=0;
      for (let i=0;i<n;i++){
        const dx = X[i]-xbar, dy = Y[i]-ybar;
        Sxx += dx*dx; Syy += dy*dy; Sxy += dx*dy;
      }

      let b, a;
      if (includeIntercept){
        if (Sxx === 0){ els.yErr.textContent='All X values are identical; slope is undefined.'; return; }
        b = Sxy / Sxx;
        a = ybar - b*xbar;
      } else {
        // Through origin: minimize sum (y - b x)^2 -> b = Σ(xy)/Σ(x^2)
        let num=0, den=0;
        for (let i=0;i<n;i++){ num += X[i]*Y[i]; den += X[i]*X[i]; }
        if (den === 0){ els.yErr.textContent='All X values are zero; slope is undefined.'; return; }
        b = num/den; a = 0;
      }

      const fitted = X.map(x => a + b*x);
      const residuals = Y.map((y,i) => y - fitted[i]);
      const SSE = residuals.reduce((s,e)=>s+e*e,0);
      const SST = includeIntercept ? Y.reduce((s,y)=>s+(y-ybar)*(y-ybar),0) : Y.reduce((s,y)=>s+y*y,0);
      const SSR = Math.max(0, SST - SSE);
      const df_total = includeIntercept ? n-1 : n;
      const df_reg = 1;
      const df_err = Math.max(1, df_total - df_reg);
      const MSR = SSR/df_reg;
      const MSE = SSE/df_err;
      const F = MSR / MSE;

      const s = Math.sqrt(MSE);
      const R = (includeIntercept && Sxx>0 && Syy>0) ? (Sxy/Math.sqrt(Sxx*Syy)) : Math.sign(b)*Math.sqrt(SSR/ (SST || 1));
      const R2 = SSR / (SST || 1);

      // Standard errors (intercept model)
      let SEb = NaN, SEa = NaN;
      if (includeIntercept && Sxx>0){
        SEb = Math.sqrt(MSE / Sxx);
        SEa = Math.sqrt(MSE * (1/n + (xbar*xbar)/Sxx));
      } else if (!includeIntercept){
        // Through-origin variance of b: s^2 / Σx^2 (with df = n-1)
        const sumx2 = X.reduce((s,x)=>s+x*x,0);
        SEb = Math.sqrt(MSE / (sumx2 || 1));
        SEa = 0;
      }

      // Prediction at X0 (large-sample normal interval)
      let yhatStr = '—';
      const x0raw = els.predictX.value;
      if (x0raw !== ''){
        const x0 = Number(x0raw);
        const y0 = a + b*x0;
        // normal quantile ~ 1.96 at 95%
        const conf = Math.max(50, Math.min(99.9, Number(els.conf.value)||95));
        const z = normQuantile(conf/100);
        let se_pred;
        if (includeIntercept && Sxx>0){
          se_pred = Math.sqrt(MSE * (1 + 1/n + ((x0-xbar)*(x0-xbar))/Sxx));
        } else {
          const sumx2 = X.reduce((s,x)=>s+x*x,0);
          const xbar0 = 0;
          const Sxx0 = sumx2; // for origin model
          se_pred = Math.sqrt(MSE * (1 + 1/n + ((x0-xbar0)*(x0-xbar0))/(Sxx0||1)));
        }
        const lo = y0 - z*se_pred;
        const hi = y0 + z*se_pred;
        yhatStr = `${format(y0,prec)} (≈ ${conf}% PI: ${format(lo,prec)} … ${format(hi,prec)})`;
      }

      // Populate UI
      els.slope.textContent = format(b, prec);
      els.intercept.textContent = includeIntercept ? format(a, prec) : '0';
      els.rval.textContent = Number.isFinite(R) ? format(R, Math.min(prec,6)) : '—';
      els.r2.textContent = Number.isFinite(R2) ? format(R2, Math.min(prec,6)) : '—';
      els.stderr.textContent = Number.isFinite(s) ? format(s, prec) : '—';
      els.nval.textContent = String(n);
      els.yhat.textContent = yhatStr;
      els.eqn.textContent = includeIntercept ? `ŷ = ${format(a,prec)} + ${format(b,prec)} x` : `ŷ = ${format(b,prec)} x`;

      // ANOVA table
      els.anovaBody.innerHTML = `
        <tr><td class="px-3 py-2">Regression</td><td class="px-3 py-2 text-right">${format(SSR, prec)}</td><td class="px-3 py-2 text-right">${df_reg}</td><td class="px-3 py-2 text-right">${format(MSR, prec)}</td><td class="px-3 py-2 text-right">${format(F, prec)}</td></tr>
        <tr><td class="px-3 py-2">Residual</td><td class="px-3 py-2 text-right">${format(SSE, prec)}</td><td class="px-3 py-2 text-right">${df_err}</td><td class="px-3 py-2 text-right">${format(MSE, prec)}</td><td class="px-3 py-2 text-right">—</td></tr>
        <tr><td class="px-3 py-2">Total</td><td class="px-3 py-2 text-right">${format(SST, prec)}</td><td class="px-3 py-2 text-right">${df_total}</td><td class="px-3 py-2 text-right">—</td><td class="px-3 py-2 text-right">—</td></tr>
      `;

      // Residuals table (first 50)
      const header = `<thead class="bg-gray-100"><tr><th class="text-left px-2 py-1">i</th><th class="text-right px-2 py-1">x</th><th class="text-right px-2 py-1">y</th><th class="text-right px-2 py-1">ŷ</th><th class="text-right px-2 py-1">e=y−ŷ</th></tr></thead>`;
      const rows = [];
      for (let i=0; i<Math.min(50, n); i++){
        rows.push(`<tr><td class="px-2 py-1">${i+1}</td><td class="px-2 py-1 text-right">${format(X[i], prec)}</td><td class="px-2 py-1 text-right">${format(Y[i], prec)}</td><td class="px-2 py-1 text-right">${format(fitted[i], prec)}</td><td class="px-2 py-1 text-right">${format(residuals[i], prec)}</td></tr>`);
      }
      els.residTable.innerHTML = header + `<tbody>${rows.join('')}</tbody>`;

      renderCharts(X, Y, a, b, residuals);
    }

    // Approximate inverse normal CDF (Acklam)
    function normQuantile(p){
      // p in (0,1)
      if (p<=0) return -Infinity;
      if (p>=1) return Infinity;
      const a=[-3.969683028665376e+01,2.209460984245205e+02,-2.759285104469687e+02,1.383577518672690e+02,-3.066479806614716e+01,2.506628277459239e+00];
      const b=[-5.447609879822406e+01,1.615858368580409e+02,-1.556989798598866e+02,6.680131188771972e+01,-1.328068155288572e+01];
      const c=[-7.784894002430293e-03,-3.223964580411365e-01,-2.400758277161838e+00,-2.549732539343734e+00,4.374664141464968e+00,2.938163982698783e+00];
      const d=[7.784695709041462e-03,3.224671290700398e-01,2.445134137142996e+00,3.754408661907416e+00];
      const plow=0.02425, phigh=1-plow;
      let q,r;
      if (p<plow){
        q=Math.sqrt(-2*Math.log(p));
        return (((((c[0]*q+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5])/
               ((((d[0]*q+d[1])*q+d[2])*q+d[3])*q+1);
      }
      if (p>phigh){
        q=Math.sqrt(-2*Math.log(1-p));
        return -(((((c[0]*q+c[1])*q+c[2])*q+c[3])*q+c[4])*q+c[5])/
                ((((d[0]*q+d[1])*q+d[2])*q+d[3])*q+1);
      }
      q=p-0.5; r=q*q;
      return (((((a[0]*r+a[1])*r+a[2])*r+a[3])*r+a[4])*r+a[5])*q/
             (((((b[0]*r+b[1])*r+b[2])*r+b[3])*r+b[4])*r+1);
    }

    // Buttons
    els.run.addEventListener('click', compute);

    els.addExample.addEventListener('click', ()=>{
      els.x.value = "1,2,3,4,5,6,7,8,9,10";
      els.y.value = "1.1,1.9,3.2,4.0,5.1,5.8,7.3,8.1,9.2,10.1";
      compute();
    });

    els.clearData.addEventListener('click', ()=>{
      els.x.value=''; els.y.value=''; els.xErr.textContent=''; els.yErr.textContent='';
      els.file.value=''; els.fileErr.textContent=''; els.yhat.textContent='—';
      els.slope.textContent='—'; els.intercept.textContent='—'; els.rval.textContent='—'; els.r2.textContent='—'; els.stderr.textContent='—'; els.nval.textContent='—'; els.eqn.textContent='—';
      els.anovaBody.innerHTML=''; els.residTable.innerHTML='';
      if (scatterChart) scatterChart.destroy();
      if (residChart) residChart.destroy();
    });

    els.file.addEventListener('change', async (e)=>{
      els.fileErr.textContent='';
      const f = e.target.files && e.target.files[0];
      if (!f) return;
      try{
        const text = await f.text();
        const {xs, ys} = parseCSV(text);
        if (xs.length<2 || xs.length!==ys.length){
          els.fileErr.textContent='Could not parse two numeric columns of equal length. Make sure first column is X and second is Y.';
          return;
        }
        els.x.value = xs.join('\n');
        els.y.value = ys.join('\n');
        compute();
      }catch(err){
        els.fileErr.textContent='Failed to read file. Please try again with a CSV/TSV.';
      }
    });

    // Auto-run when inputs change (ergonomic, but keep explicit Compute button too)
    ['xData','yData','includeIntercept','confLevel','precision','predictX'].forEach(id=>{
      const node = document.getElementById(id);
      node.addEventListener('input', ()=>{ /* debounce minimal */ clearTimeout(node._t); node._t=setTimeout(compute, 200); });
    });

  })();
  </script>
  <script defer="True" src="/assets/js/script_menu.js">
  </script>
  <script defer="True" src="/assets/js/script_faq.js">
  </script>
  <script defer="True" src="search.js">
  </script>
 </body>
</html>
