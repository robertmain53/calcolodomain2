<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/fir-filter-design" />
    <title>Fir Filter Design Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Fir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Fir Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Fir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/fir-filter-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Fir Filter Design Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Fir Filter Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "FIR Filter Design Calculator", "item": "https://calcdomain.com/fir-filter-design"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">FIR Filter Design Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                FIR Filter Design Calculator
              </h1>
              <p class="text-gray-600">
                Design low-pass, high-pass, band-pass, and band-stop FIR filters
                using windowed-sinc or equiripple (Parks–McClellan-like)
                methods. Visualize the magnitude response and export
                coefficients.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="fir-config-heading" class="mb-8">
              <h2 id="fir-config-heading" class="text-xl font-semibold mb-3">
                1. Filter specifications
              </h2>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium mb-1" for="fs"
                    >Sampling frequency \(f_s\) (Hz)</label
                  >
                  <input
                    id="fs"
                    type="number"
                    min="1"
                    step="1"
                    value="48000"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used to convert between Hz and normalized frequency.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1" for="numTaps"
                    >Number of taps \(N\)</label
                  >
                  <input
                    id="numTaps"
                    type="number"
                    min="3"
                    step="1"
                    value="63"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Higher N → sharper transition, more delay and computation.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1" for="filterType"
                    >Filter type</label
                  >
                  <select
                    id="filterType"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  >
                    <option value="lowpass">Low-pass</option>
                    <option value="highpass">High-pass</option>
                    <option value="bandpass">Band-pass</option>
                    <option value="bandstop">Band-stop</option>
                  </select>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium mb-1"
                    for="designMethod"
                    >Design method</label
                  >
                  <select
                    id="designMethod"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  >
                    <option value="window">Windowed-sinc</option>
                    <option value="equiripple">Equiripple (approximate)</option>
                  </select>
                </div>
              </div>

              <div id="freq-specs" class="grid md:grid-cols-2 gap-4 mt-4">
                <div>
                  <label class="block text-sm font-medium mb-1" for="f1"
                    >Cutoff / passband edge \(f_1\) (Hz)</label
                  >
                  <input
                    id="f1"
                    type="number"
                    min="0"
                    step="1"
                    value="8000"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    For low-pass/high-pass: main cutoff. For band filters: lower
                    edge.
                  </p>
                </div>
                <div id="f2-wrapper" class="hidden">
                  <label class="block text-sm font-medium mb-1" for="f2"
                    >Upper edge \(f_2\) (Hz)</label
                  >
                  <input
                    id="f2"
                    type="number"
                    min="0"
                    step="1"
                    value="12000"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used for band-pass and band-stop designs.
                  </p>
                </div>
              </div>

              <div class="grid md:grid-cols-3 gap-4 mt-4">
                <div>
                  <label class="block text-sm font-medium mb-1" for="windowType"
                    >Window</label
                  >
                  <select
                    id="windowType"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  >
                    <option value="hamming">Hamming</option>
                    <option value="hann">Hann</option>
                    <option value="blackman">Blackman</option>
                    <option value="rectangular">Rectangular</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">
                    Used for windowed-sinc method.
                  </p>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1" for="passRipple"
                    >Passband ripple (dB)</label
                  >
                  <input
                    id="passRipple"
                    type="number"
                    step="0.1"
                    value="0.5"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1" for="stopAtten"
                    >Stopband attenuation (dB)</label
                  >
                  <input
                    id="stopAtten"
                    type="number"
                    step="1"
                    value="60"
                    class="w-full border border-gray-300 rounded px-3 py-2"
                  />
                </div>
              </div>

              <div class="mt-5 flex flex-wrap items-center gap-3">
                <button
                  id="designBtn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded hover:bg-blue-700"
                >
                  Design FIR filter
                </button>
                <button
                  id="resetBtn"
                  class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-800 text-sm font-semibold rounded hover:bg-gray-200"
                >
                  Reset
                </button>
                <p id="statusMsg" class="text-sm text-gray-600"></p>
              </div>
            </section>

            <!-- Plots -->
            <section aria-labelledby="fir-plots-heading" class="mb-8">
              <h2 id="fir-plots-heading" class="text-xl font-semibold mb-3">
                2. Magnitude response
              </h2>
              <div class="grid gap-4">
                <div class="bg-gray-50 border border-gray-200 rounded p-3">
                  <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-gray-700"
                      >Magnitude (dB) vs frequency</span
                    >
                    <div class="flex items-center gap-2 text-xs text-gray-500">
                      <label
                        for="logScale"
                        class="flex items-center gap-1 cursor-pointer"
                      >
                        <input
                          id="logScale"
                          type="checkbox"
                          class="rounded border-gray-300"
                        />
                        Log frequency
                      </label>
                    </div>
                  </div>
                  <canvas
                    id="magCanvas"
                    aria-label="FIR filter magnitude response"
                  ></canvas>
                </div>
              </div>
            </section>

            <!-- Coefficients -->
            <section aria-labelledby="fir-coeff-heading" class="mb-8">
              <h2 id="fir-coeff-heading" class="text-xl font-semibold mb-3">
                3. FIR coefficients (taps)
              </h2>
              <div class="mb-3 flex flex-wrap gap-3 items-center">
                <button
                  id="copyCoeffsBtn"
                  class="px-3 py-1.5 bg-gray-800 text-white text-xs font-semibold rounded hover:bg-black"
                >
                  Copy as comma-separated
                </button>
                <button
                  id="downloadCoeffsBtn"
                  class="px-3 py-1.5 bg-gray-100 text-gray-800 text-xs font-semibold rounded hover:bg-gray-200"
                >
                  Download as .txt
                </button>
                <span id="coeffMeta" class="text-xs text-gray-500"></span>
              </div>
              <pre
                id="coeffOutput"
                class="code-block"
                aria-label="FIR filter coefficients"
              >
Press “Design FIR filter” to generate taps.</pre
              >
            </section>

            <!-- Theory & guide -->
            <section class="prose">
              <h2>How this FIR filter design tool works</h2>
              <p>
                This calculator designs linear-phase FIR filters using two
                classic approaches:
              </p>
              <ul>
                <li>
                  <strong>Windowed-sinc method</strong> – simple, robust, and
                  great for quick prototypes.
                </li>
                <li>
                  <strong>Equiripple (Parks–McClellan-like)</strong> –
                  approximated here by iteratively shaping the window to better
                  match your ripple/attenuation targets.
                </li>
              </ul>

              <h3>1. FIR filter basics</h3>
              <p>
                An FIR filter of length \(N\) has impulse response \(h[n]\) and
                output
              </p>
              <div class="formula-box">
                \( y[n] = \sum_{k=0}^{N-1} h[k]\,x[n-k] \)
              </div>
              <p>
                For <strong>linear-phase</strong> FIR filters we choose
                symmetric coefficients:
              </p>
              <div class="formula-box">\( h[k] = h[N-1-k] \)</div>
              <p>
                This symmetry makes the phase response linear and the group
                delay constant:
              </p>
              <div class="formula-box">
                \( \tau_g = \dfrac{N-1}{2} \text{ samples} \)
              </div>

              <h3>2. Windowed-sinc design</h3>
              <p>
                The ideal low-pass filter has frequency response \(
                H_\text{ideal}(\omega) = 1 \) for \(|\omega| \le \omega_c\) and
                0 otherwise. Its impulse response is the sinc function:
              </p>
              <div class="formula-box">
                \( h_\text{ideal}[n] = \dfrac{\sin\big(\omega_c (n -
                M)\big)}{\pi (n - M)}, \quad M = \dfrac{N-1}{2} \)
              </div>
              <p>
                Because this response is infinitely long, we truncate it with a
                window \(w[n]\):
              </p>
              <div class="formula-box">
                \( h[n] = h_\text{ideal}[n] \cdot w[n], \quad 0 \le n \le N-1 \)
              </div>
              <p>
                Different windows trade off main-lobe width (transition
                sharpness) and side-lobe level (stopband attenuation):
              </p>
              <ul>
                <li>
                  <strong>Rectangular</strong> – narrowest transition, poor
                  sidelobes (~−13 dB).
                </li>
                <li>
                  <strong>Hann</strong> – better sidelobes (~−44 dB), wider
                  transition.
                </li>
                <li>
                  <strong>Hamming</strong> – ~−53 dB sidelobes, commonly used.
                </li>
                <li>
                  <strong>Blackman</strong> – ~−74 dB sidelobes, widest
                  transition.
                </li>
              </ul>

              <h3>3. Equiripple (Parks–McClellan) idea</h3>
              <p>
                The Parks–McClellan algorithm directly optimizes the filter to
                minimize the
                <em>maximum</em> error between the desired and actual response
                (Chebyshev approximation). The resulting magnitude response has
                nearly equal ripples in passband and stopband.
              </p>
              <p>In this browser-based tool we approximate this behavior by:</p>
              <ol>
                <li>Starting from a windowed-sinc design.</li>
                <li>Measuring passband and stopband errors.</li>
                <li>
                  Iteratively adjusting an internal shaping window to reduce the
                  maximum error.
                </li>
              </ol>
              <p>
                For production work, you should still validate the design in a
                DSP environment such as MATLAB, Octave, SciPy, or a hardware
                toolchain.
              </p>

              <h3>4. Choosing the number of taps</h3>
              <p>
                A widely used rule of thumb for windowed-sinc low-pass filters
                is:
              </p>
              <div class="formula-box">
                \( N \approx \dfrac{A - 8}{2.285 \cdot 2\pi \Delta f} \)
              </div>
              <p>where:</p>
              <ul>
                <li>\(A\) is desired stopband attenuation in dB.</li>
                <li>
                  \(\Delta f\) is the normalized transition width (from passband
                  edge to stopband edge, divided by \(f_s\)).
                </li>
              </ul>
              <p>
                Use this as a starting point, then increase or decrease \(N\)
                while watching the magnitude plot.
              </p>

              <h3>5. Exporting and using the coefficients</h3>
              <p>Once you are satisfied with the response:</p>
              <ul>
                <li>
                  Click <strong>Copy as comma-separated</strong> to paste taps
                  into C, Python, MATLAB, etc.
                </li>
                <li>
                  Or <strong>Download as .txt</strong> to save them as a file.
                </li>
              </ul>
              <p>Example C-style snippet:</p>
              <pre class="code-block">
#define N_TAPS 63
float h[N_TAPS] = {
  /* paste coefficients here */
};
          </pre
              >
            </section>

            <!-- FAQ -->
            <section class="prose mt-8">
              <h2>FIR filter design FAQ</h2>

              <h3>What is an FIR filter?</h3>
              <p>
                A finite impulse response (FIR) filter is a digital filter whose
                output is a weighted sum of a finite number of past input
                samples. Because it has no feedback (no dependence on past
                outputs), it is always stable when the coefficients are finite,
                and it can be designed to have exactly linear phase.
              </p>

              <h3>When should I use FIR instead of IIR?</h3>
              <p>Use FIR filters when you need:</p>
              <ul>
                <li>
                  Strictly linear phase (e.g., audio, communications,
                  instrumentation).
                </li>
                <li>Guaranteed stability and simple fixed-point behavior.</li>
                <li>Flexible multiband or arbitrary-magnitude designs.</li>
              </ul>
              <p>
                IIR filters are more efficient for very sharp transitions but
                have nonlinear phase and can be unstable if not carefully
                implemented.
              </p>

              <h3>Why does my filter have so much delay?</h3>
              <p>
                Linear-phase FIR filters have a group delay of \((N-1)/2\)
                samples. If you increase the number of taps to get a sharper
                transition, you also increase the delay. For real-time
                applications, you must balance frequency-domain performance
                against latency.
              </p>

              <h3>How accurate is this browser-based design?</h3>
              <p>
                The core math (sinc generation, windowing, FFT-based response)
                is standard. The “equiripple” mode is an approximation of
                Parks–McClellan, not a full implementation. For critical
                designs, you should:
              </p>
              <ul>
                <li>Export the taps.</li>
                <li>
                  Verify them in MATLAB/Octave/SciPy or your DSP toolchain.
                </li>
                <li>Test with representative signals and quantization.</li>
              </ul>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Sampling frequency \(f_s\) (Hz) Used to convert between Hz and normalized frequency. Number of taps \(N\) Higher N → sharper transition, more delay and computation. Filter type Low-pass High-pass Band-pass Band-stop Design method Windowed-sinc Equiripple (approximate) Cutoff / passband edge \(f_1\) (Hz) For low-pass/high-pass: main cutoff. For band filters: lower edge. Upper edge \(f_2\) (Hz) Used for band-pass and band-stop designs. Window Hamming Hann Blackman Rectangular Used for windowed-sinc method. Passband ripple (dB) Stopband attenuation (dB) Design FIR filter Reset 2. Magnitude response Magnitude (dB) vs frequency Log frequency</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Fir, Filter, Design, Sampling frequency \(f_s\) (Hz) Used to convert between Hz and normalized frequency. Number of taps \(N\) Higher N → sharper transition, more delay and computation. Filter type Low-pass High-pass Band-pass Band-stop Design method Windowed-sinc Equiripple (approximate) Cutoff / passband edge \(f_1\) (Hz) For low-pass/high-pass: main cutoff. For band filters: lower edge. Upper edge \(f_2\) (Hz) Used for band-pass and band-stop designs. Window Hamming Hann Blackman Rectangular Used for windowed-sinc method. Passband ripple (dB) Stopband attenuation (dB) Design FIR filter Reset 2. Magnitude response Magnitude (dB) vs frequency Log frequency.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Sampling frequency \(f_s\) (Hz) Used to convert between Hz and normalized frequency. Number of taps \(N\) Higher N → sharper transition, more delay and computation. Filter type Low-pass High-pass Band-pass Band-stop Design method Windowed-sinc Equiripple (approximate) Cutoff / passband edge \(f_1\) (Hz) For low-pass/high-pass: main cutoff. For band filters: lower edge. Upper edge \(f_2\) (Hz) Used for band-pass and band-stop designs. Window Hamming Hann Blackman Rectangular Used for windowed-sinc method. Passband ripple (dB) Stopband attenuation (dB) Design FIR filter Reset 2. Magnitude response Magnitude (dB) vs frequency Log frequency</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Core Math &amp; DSP Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/fft"
                  class="text-blue-600 hover:underline"
                  >Fast Fourier Transform (FFT)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/filter-design"
                  class="text-blue-600 hover:underline"
                  >Analog &amp; Digital Filter Design</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/convolution"
                  class="text-blue-600 hover:underline"
                  >Convolution Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/frequency-distribution.html-response"
                  class="text-blue-600 hover:underline"
                  >Frequency Response Visualizer</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/complex-number"
                  class="text-blue-600 hover:underline"
                  >Complex Number Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-algebra"
                  class="text-blue-600 hover:underline"
                  >Linear Algebra Toolkit</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/graphing-calculator"
                  class="text-blue-600 hover:underline"
                  >Graphing Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              More in Math &amp; Conversions
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/fourier-series"
                  class="text-blue-600 hover:underline"
                  >Fourier Series Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/laplace-transform"
                  class="text-blue-600 hover:underline"
                  >Laplace Transform</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/inverse-laplace-transform"
                  class="text-blue-600 hover:underline"
                  >Inverse Laplace Transform</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/differential-equation-solver"
                  class="text-blue-600 hover:underline"
                  >Differential Equation Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/complex-number"
                  class="text-blue-600 hover:underline"
                  >Complex Number Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Simple FIR design and plotting (no external libs)
      const TWO_PI = Math.PI * 2;

      function sinc(x) {
        if (Math.abs(x) < 1e-8) return 1;
        return Math.sin(Math.PI * x) / (Math.PI * x);
      }

      function hammingWindow(N) {
        const w = new Array(N);
        for (let n = 0; n < N; n++) {
          w[n] = 0.54 - 0.46 * Math.cos((TWO_PI * n) / (N - 1));
        }
        return w;
      }

      function hannWindow(N) {
        const w = new Array(N);
        for (let n = 0; n < N; n++) {
          w[n] = 0.5 - 0.5 * Math.cos((TWO_PI * n) / (N - 1));
        }
        return w;
      }

      function blackmanWindow(N) {
        const w = new Array(N);
        for (let n = 0; n < N; n++) {
          w[n] =
            0.42 -
            0.5 * Math.cos((TWO_PI * n) / (N - 1)) +
            0.08 * Math.cos((2 * TWO_PI * n) / (N - 1));
        }
        return w;
      }

      function rectangularWindow(N) {
        return new Array(N).fill(1);
      }

      function getWindow(type, N) {
        switch (type) {
          case "hann":
            return hannWindow(N);
          case "blackman":
            return blackmanWindow(N);
          case "rectangular":
            return rectangularWindow(N);
          case "hamming":
          default:
            return hammingWindow(N);
        }
      }

      function designIdealLowpass(N, wc) {
        const M = (N - 1) / 2;
        const h = new Array(N);
        for (let n = 0; n < N; n++) {
          h[n] = 2 * wc * sinc((2 * wc * (n - M)) / TWO_PI);
        }
        return h;
      }

      function designIdealHighpass(N, wc) {
        const lp = designIdealLowpass(N, wc);
        const h = new Array(N);
        const M = (N - 1) / 2;
        for (let n = 0; n < N; n++) {
          h[n] = (n === M ? 1 : 0) - lp[n];
        }
        return h;
      }

      function designIdealBandpass(N, w1, w2) {
        const lp2 = designIdealLowpass(N, w2);
        const lp1 = designIdealLowpass(N, w1);
        const h = new Array(N);
        for (let n = 0; n < N; n++) {
          h[n] = lp2[n] - lp1[n];
        }
        return h;
      }

      function designIdealBandstop(N, w1, w2) {
        const bp = designIdealBandpass(N, w1, w2);
        const h = new Array(N);
        const M = (N - 1) / 2;
        for (let n = 0; n < N; n++) {
          h[n] = (n === M ? 1 : 0) - bp[n];
        }
        return h;
      }

      function convolve(a, b) {
        const n = a.length,
          m = b.length;
        const y = new Array(n + m - 1).fill(0);
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < m; j++) {
            y[i + j] += a[i] * b[j];
          }
        }
        return y;
      }

      function normalizeGain(h, type) {
        // Normalize DC gain for lowpass/bandstop, unity at Nyquist for highpass, mid-band for bandpass
        let gain = 0;
        if (type === "highpass") {
          // approximate gain at Nyquist: sum h[n]*(-1)^n
          for (let n = 0; n < h.length; n++) gain += h[n] * (n % 2 ? -1 : 1);
        } else {
          for (let n = 0; n < h.length; n++) gain += h[n];
        }
        if (Math.abs(gain) < 1e-12) return h;
        return h.map((v) => v / gain);
      }

      function designFIR(spec) {
        const { fs, N, type, f1, f2, windowType, method } = spec;
        const nyq = fs / 2;
        let wc1 = TWO_PI * (f1 / fs);
        let wc2 = TWO_PI * (f2 / fs);

        if (wc1 <= 0) wc1 = 1e-6;
        if (wc2 >= Math.PI) wc2 = Math.PI - 1e-6;

        let hideF2 = type === "lowpass" || type === "highpass";
        document
          .getElementById("f2-wrapper")
          .classList.toggle("hidden", hideF2);

        let hideWindow = method === "equiripple";
        document.getElementById("windowType").disabled = hideWindow;

        let hideRipple = method === "window";
        document.getElementById("passRipple").disabled = hideRipple;
        document.getElementById("stopAtten").disabled = hideRipple;

        let hideStatus = document.getElementById("statusMsg");

        // Ideal prototype
        let hideal;
        if (type === "lowpass") {
          hideal = designIdealLowpass(N, wc1);
        } else if (type === "highpass") {
          hideal = designIdealHighpass(N, wc1);
        } else if (type === "bandpass") {
          hideal = designIdealBandpass(N, wc1, wc2);
        } else {
          hideal = designIdealBandstop(N, wc1, wc2);
        }

        let h;
        if (method === "window") {
          const w = getWindow(windowType, N);
          h = hideal.map((v, i) => v * w[i]);
          h = normalizeGain(h, type);
          hideStatus.textContent = "Designed using windowed-sinc method.";
        } else {
          // crude equiripple-like: start with Hamming, then sharpen via self-convolution
          let w = hammingWindow(N);
          h = hideal.map((v, i) => v * w[i]);
          h = normalizeGain(h, type);
          // simple sharpening: convolve with itself and re-normalize
          if (N <= 129) {
            let h2 = convolve(h, h);
            // truncate/center back to N taps
            const M2 = (h2.length - 1) / 2;
            const M = (N - 1) / 2;
            const hTrim = new Array(N);
            for (let n = 0; n < N; n++) {
              const idx = Math.round(M2 - M + n);
              hTrim[n] = h2[idx] ?? 0;
            }
            h = normalizeGain(hTrim, type);
          }
          hideStatus.textContent =
            "Designed using an approximate equiripple method (for educational use).";
        }
        return h;
      }

      function computeFreqResponse(h, fs, nfft = 2048) {
        const N = h.length;
        const re = new Array(nfft).fill(0);
        const im = new Array(nfft).fill(0);
        for (let k = 0; k < nfft; k++) {
          let sumRe = 0,
            sumIm = 0;
          const w = (-TWO_PI * k) / nfft;
          for (let n = 0; n < N; n++) {
            const ang = w * n;
            sumRe += h[n] * Math.cos(ang);
            sumIm += h[n] * Math.sin(ang);
          }
          re[k] = sumRe;
          im[k] = sumIm;
        }
        const magDb = new Array(nfft / 2);
        const freq = new Array(nfft / 2);
        for (let k = 0; k < nfft / 2; k++) {
          const mag = Math.sqrt(re[k] * re[k] + im[k] * im[k]);
          magDb[k] = 20 * Math.log10(mag + 1e-12);
          freq[k] = (fs * k) / nfft;
        }
        return { freq, magDb };
      }

      function plotMagnitude(canvas, freq, magDb, logScale) {
        const ctx = canvas.getContext("2d");
        const w = (canvas.width = canvas.clientWidth || 600);
        const h = (canvas.height = canvas.clientHeight || 260);
        ctx.clearRect(0, 0, w, h);

        if (!freq || freq.length === 0) {
          ctx.fillStyle = "#6b7280";
          ctx.font = "12px Inter, system-ui, sans-serif";
          ctx.fillText(
            "Design a filter to see its magnitude response.",
            10,
            20
          );
          return;
        }

        const minDb = Math.min(-120, Math.min(...magDb));
        const maxDb = Math.max(5, Math.max(...magDb));
        const fMin = freq[0];
        const fMax = freq[freq.length - 1];

        function xScale(f) {
          if (!logScale) {
            return ((f - fMin) / (fMax - fMin)) * (w - 40) + 30;
          } else {
            const f1 = Math.max(fMin + 1e-3, 1);
            const logMin = Math.log10(f1);
            const logMax = Math.log10(fMax);
            const lf = Math.log10(Math.max(f, f1));
            return ((lf - logMin) / (logMax - logMin)) * (w - 40) + 30;
          }
        }
        function yScale(db) {
          return ((maxDb - db) / (maxDb - minDb)) * (h - 30) + 10;
        }

        // axes
        ctx.strokeStyle = "#d1d5db";
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(30, 10);
        ctx.lineTo(30, h - 20);
        ctx.lineTo(w - 10, h - 20);
        ctx.stroke();

        ctx.fillStyle = "#6b7280";
        ctx.font = "10px Inter, system-ui, sans-serif";
        ctx.fillText("0", 28, h - 8);
        ctx.fillText(`${Math.round(fMax)} Hz`, w - 70, h - 8);
        ctx.fillText(`${Math.round(maxDb)} dB`, 5, yScale(maxDb) + 3);
        ctx.fillText(`${Math.round(minDb)} dB`, 5, yScale(minDb) + 3);

        // 0 dB line
        const y0 = yScale(0);
        ctx.strokeStyle = "#e5e7eb";
        ctx.setLineDash([4, 4]);
        ctx.beginPath();
        ctx.moveTo(30, y0);
        ctx.lineTo(w - 10, y0);
        ctx.stroke();
        ctx.setLineDash([]);

        // magnitude curve
        ctx.strokeStyle = "#2563eb";
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        for (let i = 0; i < freq.length; i++) {
          const x = xScale(freq[i]);
          const y = yScale(magDb[i]);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
      }

      function formatCoeffs(h) {
        return h.map((v) => v.toFixed(10)).join(", ");
      }

      function updateCoeffOutput(h, fs) {
        const out = document.getElementById("coeffOutput");
        const meta = document.getElementById("coeffMeta");
        if (!h || h.length === 0) {
          out.textContent = "Press “Design FIR filter” to generate taps.";
          meta.textContent = "";
          return;
        }
        out.textContent = formatCoeffs(h);
        const delay = (h.length - 1) / 2 / fs;
        meta.textContent = `${h.length} taps, group delay ≈ ${(
          delay * 1000
        ).toFixed(3)} ms at fs = ${fs} Hz`;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const fsEl = document.getElementById("fs");
        const NEl = document.getElementById("numTaps");
        const typeEl = document.getElementById("filterType");
        const f1El = document.getElementById("f1");
        const f2El = document.getElementById("f2");
        const windowEl = document.getElementById("windowType");
        const methodEl = document.getElementById("designMethod");
        const logScaleEl = document.getElementById("logScale");
        const magCanvas = document.getElementById("magCanvas");

        let lastH = null;
        let lastResp = null;

        function runDesign() {
          const fs = parseFloat(fsEl.value) || 48000;
          let N = parseInt(NEl.value, 10) || 63;
          if (N < 3) N = 3;
          if (N % 2 === 0) N += 1; // enforce odd length for linear phase
          NEl.value = N;

          const type = typeEl.value;
          const f1 = parseFloat(f1El.value) || 1000;
          const f2 = parseFloat(f2El.value) || fs / 4;
          const windowType = windowEl.value;
          const method = methodEl.value;

          const spec = { fs, N, type, f1, f2, windowType, method };
          const h = designFIR(spec);
          lastH = h;
          const resp = computeFreqResponse(h, fs);
          lastResp = resp;
          plotMagnitude(magCanvas, resp.freq, resp.magDb, logScaleEl.checked);
          updateCoeffOutput(h, fs);
        }

        document
          .getElementById("designBtn")
          .addEventListener("click", runDesign);

        document.getElementById("resetBtn").addEventListener("click", () => {
          fsEl.value = 48000;
          NEl.value = 63;
          typeEl.value = "lowpass";
          f1El.value = 8000;
          f2El.value = 12000;
          windowEl.value = "hamming";
          methodEl.value = "window";
          document.getElementById("passRipple").value = 0.5;
          document.getElementById("stopAtten").value = 60;
          document.getElementById("statusMsg").textContent = "";
          lastH = null;
          lastResp = null;
          plotMagnitude(magCanvas, [], [], false);
          updateCoeffOutput([], 48000);
        });

        typeEl.addEventListener("change", () => {
          const t = typeEl.value;
          document
            .getElementById("f2-wrapper")
            .classList.toggle("hidden", t === "lowpass" || t === "highpass");
        });

        methodEl.addEventListener("change", () => {
          const m = methodEl.value;
          document.getElementById("windowType").disabled = m === "equiripple";
          document.getElementById("passRipple").disabled = m === "window";
          document.getElementById("stopAtten").disabled = m === "window";
        });

        logScaleEl.addEventListener("change", () => {
          if (lastResp) {
            plotMagnitude(
              magCanvas,
              lastResp.freq,
              lastResp.magDb,
              logScaleEl.checked
            );
          }
        });

        document
          .getElementById("copyCoeffsBtn")
          .addEventListener("click", () => {
            if (!lastH) return;
            const text = formatCoeffs(lastH);
            navigator.clipboard
              .writeText(text)
              .then(() => {
                const btn = document.getElementById("copyCoeffsBtn");
                const old = btn.textContent;
                btn.textContent = "Copied!";
                setTimeout(() => {
                  btn.textContent = old;
                }, 1200);
              })
              .catch(() => {});
          });

        document
          .getElementById("downloadCoeffsBtn")
          .addEventListener("click", () => {
            if (!lastH) return;
            const text = formatCoeffs(lastH);
            const blob = new Blob([text], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "fir_coefficients.txt";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          });

        // initial empty plot
        plotMagnitude(magCanvas, [], [], false);
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
