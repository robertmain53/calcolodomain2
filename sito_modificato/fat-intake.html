<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/fat-intake">





 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta charset="utf-8">
<title>Fat Intake Calculator | Health &amp; Nutrition Tool</title>
<meta content="Professional fat intake calculator: estimate daily fat grams from calories or body weight using evidence-based ranges. Includes optional TDEE estimator, minimum and recommended ranges, and saturated fat limits." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Ugo Candido" name="author">

<meta content="#005A9C" name="theme-color">
<meta content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" name="robots">
<style>
    /* --- Enhanced CalcDomain CSS with Mobile-First Design & Accessibility --- */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#5A6B7A; --border-color:#DEE2E6;
      --success-color:#198754; --error-color:#DC3545; --warning-color:#FFC107;
      --font-sans:'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --touch-target:48px; --radius-8:8px; --radius-12:12px; --container:1200px;
      --gap-1:.5rem; --gap-2:1rem; --gap-3:1.5rem; --gap-4:2rem;
    }
    *,*::before,*::after{ box-sizing:border-box }
    html{ font-size:clamp(16px,2.5vw,18px); scroll-behavior:smooth }
    body{
      margin:0; font-family:var(--font-sans); background:var(--background-color);
      color:var(--text-color); line-height:1.6; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
    a{ color:var(--primary-color); text-decoration:none }
    a:hover{ text-decoration:underline }
    a:focus{ outline:3px solid var(--primary-color); outline-offset:2px; border-radius:3px }
    h1,h2,h3{ color:var(--secondary-color); line-height:1.25; margin:0 0 .75rem }
    h1{ font-size:clamp(1.8rem,4vw,2.4rem) }
    h2{ font-size:clamp(1.4rem,3.2vw,2rem); margin-top:1.5rem }
    h3{ font-size:clamp(1.2rem,2.8vw,1.5rem) }
    p{ margin:.75rem 0; max-width:75ch }
    code,.formula{ font-family:var(--font-mono); background:#e9eef3; padding:.15em .4em; border-radius:4px }

    /* Layout */
    .container{ max-width:var(--container); margin:0 auto; padding:0 clamp(1rem,3vw,2rem) }
    header{ background:var(--surface-color); border-bottom:1px solid var(--border-color) }
    .header-inner{ display:flex; align-items:center; gap:var(--gap-2); padding:.75rem 0 }
    .brand{ font-weight:800; color:var(--primary-color); font-size:1.25rem }
    .main{ padding:var(--gap-4) 0 }
    .layout{ display:grid; grid-template-columns:1fr; gap:var(--gap-4) }
    @media (min-width: 992px){ .layout{ grid-template-columns: minmax(280px, 420px) 1fr } }

    /* Calculator */
    .card{ background:var(--surface-color); border:1px solid var(--border-color); border-radius:var(--radius-12); padding:clamp(1rem,2.5vw,1.5rem); box-shadow:0 2px 6px rgba(0,0,0,.05) }
    .form-group{ margin-bottom:var(--gap-2) }
    .form-row{ display:grid; gap:var(--gap-2); grid-template-columns:1fr 1fr }
    @media (max-width: 560px){ .form-row{ grid-template-columns:1fr } }
    label{ display:block; font-weight:700; margin-bottom:.4rem }
    .hint{ color:var(--muted-text-color); font-size:.9rem }
    .input, select, .split{ width:100%; min-height:var(--touch-target); padding:.75rem .9rem; border:1px solid var(--border-color); border-radius:10px; background:#fff; font-size:1rem }
    .input:focus, select:focus{ outline:3px solid rgba(0,90,156,.25); border-color:var(--primary-color) }
    fieldset{ border:1px solid var(--border-color); border-radius:10px; padding: .75rem .75rem .5rem }
    legend{ padding:0 .4rem; font-weight:700; color:var(--secondary-color) }
    .choices{ display:flex; flex-wrap:wrap; gap:.5rem }
    .chip{ position:relative }
    .chip input{ position:absolute; opacity:0; inset:0 }
    .chip label{
      display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
      padding:.6rem .9rem; min-height:var(--touch-target); border-radius:999px; border:1px solid var(--border-color);
      cursor:pointer; user-select:none; background:#fff; color:#17324a; font-weight:600
    }
    .chip input:checked + label{ background:var(--primary-color); border-color:var(--primary-color); color:#fff }
    .chip input:focus-visible + label{ outline:3px solid rgba(0,90,156,.35); outline-offset:2px }
    .tooltip-btn{
      margin-left:.35rem; inline-size:var(--touch-target); block-size:var(--touch-target);
      min-width:var(--touch-target); min-height:var(--touch-target);
      display:inline-grid; place-items:center; border-radius:50%; border:1px solid var(--border-color);
      background:#fff; color:#0b3c66; font-weight:800; cursor:pointer;
    }
    .tooltip-btn:focus{ outline:3px solid rgba(0,90,156,.35); outline-offset:2px }
    .tooltip{ display:none; margin-top:.35rem; background:#f1f6fb; border:1px solid #cfe1ef; color:#0b3c66; border-radius:8px; padding:.6rem .75rem }
    .tooltip[aria-hidden="false"]{ display:block }
    .error{ color:var(--error-color); font-size:.92rem; margin-top:.35rem; min-height:1.2em }
    .results{ margin-top:var(--gap-3); padding:var(--gap-2); background:#f6f8fa; border:1px solid var(--border-color); border-radius:10px; min-height:260px }
    .result-row{ display:flex; justify-content:space-between; align-items:start; padding:.55rem 0; border-bottom:1px dashed #d7dde4 }
    .result-row:last-child{ border-bottom:none }
    .result-label{ color:#425a70 }
    .result-value{ font-weight:800; color:var(--success-color) }

    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; min-height:var(--touch-target); padding:.75rem 1rem; border-radius:10px; border:1px solid var(--primary-color); background:var(--primary-color); color:#fff; font-weight:700; cursor:pointer }
    .btn.secondary{ background:#fff; color:var(--primary-color) }
    .btn:focus{ outline:3px solid rgba(0,90,156,.35); outline-offset:2px }

    /* Content blocks */
    .content h2{ border-bottom:1px solid var(--border-color); padding-bottom:.4rem }
    .formula-box{ background:#e9eef3; border:1px solid #cfe1ef; border-radius:10px; padding:1rem; overflow:auto }
    .glossary{ display:grid; gap:.5rem }
    .glossary dt{ font-weight:700; color:#1b3552 }
    .glossary dd{ margin:0 0 .5rem 0; color:#334e68 }
    .author-box{ color:#5b6773; font-size:.95rem; border-top:1px solid var(--border-color); padding-top:1rem; margin-top:1.5rem }

    footer{ margin-top:3rem; background:var(--secondary-color); color:#fff; padding:1.25rem 0 }
    footer a{ color:#fff }

    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; animation:none !important }
    }
  </style>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Fat Intake Calculator",
  "description": "Calculate your daily fat intake in grams from calories or body weight. Evidence-based ranges (AMDR 20–35%), optional TDEE estimator, and saturated fat limits for informed nutrition planning.",
  "url": "https://calcdomain.com/fat-intake",
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Estimate calories with Mifflin–St Jeor, apply activity, set a 20–35% fat target, and convert to grams.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter profile",
          "text": "Select sex, age, weight, height, and activity to estimate TDEE or provide calories directly."
        },
        {
          "@type": "HowToStep",
          "name": "Set goal",
          "text": "Choose maintain, lose, or gain and adjust the calorie percentage as needed."
        },
        {
          "@type": "HowToStep",
          "name": "Pick method",
          "text": "Use 20–35% of calories or grams per body weight (e.g., 0.8 g/kg)."
        },
        {
          "@type": "HowToStep",
          "name": "Review outputs",
          "text": "See fat grams per day, calories from fat, percentage, recommended range, and saturated fat limits."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What percentage of calories should come from fat?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For most healthy adults, 20–35% of total daily calories from fat is recommended (AMDR)."
          }
        },
        {
          "@type": "Question",
          "name": "How many grams of fat per kg of body weight are recommended?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A common range is about 0.6–1.0 g/kg body weight, depending on total calories, preference, and training demands."
          }
        },
        {
          "@type": "Question",
          "name": "What is the saturated fat limit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Major public health guidelines advise limiting saturated fat to less than 10% of total daily calories."
          }
        },
        {
          "@type": "Question",
          "name": "Does this calculator estimate my calories (TDEE)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Toggle to estimate calories using the Mifflin–St Jeor equation and an activity multiplier, then apply fat targets."
          }
        },
        {
          "@type": "Question",
          "name": "Is a low-fat diet better for weight loss?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Weight change is driven primarily by energy balance. The best macro split is one you can sustain while meeting nutrient needs."
          }
        },
        {
          "@type": "Question",
          "name": "Can athletes use grams per kg instead of percentages?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Many athletes prefer g/kg targets (e.g., 0.8 g/kg). The tool supports both methods and shows the equivalent percentage."
          }
        }
      ]
    }
  ],
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Health & Fitness",
      "item": "https://calcdomain.com/categories/health-fitness"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Diet & Nutrition",
      "item": "https://calcdomain.com/subcategories/diet-nutrition"
    }
  ]
}</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer=""></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = { tex: { inlineMath: [['\\(','\\)'], [',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>

<header class="bg-white shadow-sm sticky top-0 z-50">
  <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
    <div class="flex justify-between items-center">
      <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>

      <div class="w-full max-w-md hidden md:block mx-8">
        <div class="relative">
          <input
            type="search"
            id="search-input"
            placeholder="Search for a calculator..."
            class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            autocomplete="off"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
          <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
        </div>
      </div>

      <div class="hidden md:flex items-center space-x-6">
        <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
        <a href="https://calcdomain.com/#categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
      </div>

      <button
        id="mobile-menu-toggle"
        class="md:hidden p-2"
        aria-controls="mobile-menu"
        aria-expanded="false"
        aria-label="Open menu"
        type="button"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
      <div class="mb-4">
        <div class="relative">
          <input
            type="search"
            id="mobile-search-input"
            placeholder="Search calculators..."
            class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
      <div class="space-y-2">
        <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
        <a href="https://calcdomain.com#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
      </div>
    </nav>
  </nav>
</header>

<a class="sr-only" href="#main">Skip to main content</a>
<main class="main w-full lg:w-2/3" id="main">
<div class="container">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a> &raquo; <a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness</a> &raquo; <a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition</a></nav>
<h1>Fat Intake Calculator</h1>
<p>This professional fat intake calculator helps you determine how many grams of fat to eat per day based on either a percentage of calories or grams per body weight. It includes an optional TDEE estimator and highlights evidence-based ranges and limits, making it useful for individuals, athletes, and nutrition professionals.</p>
<div class="layout" id="calc-layout">
<aside>
<section aria-labelledby="calc-heading" class="card" id="fat-calculator">
<h2 class="sr-only" id="calc-heading">Calculator</h2>
<div class="form-group">
<fieldset aria-describedby="unitsHelp">
<legend>Units</legend>
<div aria-label="Units" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="unitsMetric" name="units" type="radio" value="metric">
<label for="unitsMetric">Metric (kg, cm)</label>
</span>
<span class="chip">
<input id="unitsUS" name="units" type="radio" value="us">
<label for="unitsUS">US (lb, ft/in)</label>
</span>
</div>
<div class="hint" id="unitsHelp">Switching units converts your current entries.</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Calorie source</legend>
<div aria-label="Calorie source" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="calSrcDirect" name="calSrc" type="radio" value="direct">
<label for="calSrcDirect">Enter daily calories</label>
</span>
<span class="chip">
<input id="calSrcEstimate" name="calSrc" type="radio" value="estimate">
<label for="calSrcEstimate">Estimate calories (TDEE)</label>
</span>
</div>
</fieldset>
</div>
<!-- Direct Calories -->
<div class="form-group" id="caloriesDirectGroup">
<label for="dailyCalories">Daily calories *</label>
<button aria-controls="ttCal" aria-expanded="false" class="tooltip-btn" id="ttCalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttCal" role="note">If you already track calories (e.g., via an app), enter that number here.</div>
<input aria-describedby="ttCal calError" aria-required="true" class="input" id="dailyCalories" inputmode="decimal" max="10000" min="800" placeholder="e.g., 2200" step="1" type="number">
<div aria-live="polite" class="error" id="calError" role="alert"></div>
</div>
<!-- TDEE Estimator -->
<div hidden="" id="tdeeGroup">
<div class="form-group">
<fieldset>
<legend>Sex *</legend>
<div aria-label="Sex" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="sexMale" name="sex" type="radio" value="male">
<label for="sexMale">Male</label>
</span>
<span class="chip">
<input id="sexFemale" name="sex" type="radio" value="female">
<label for="sexFemale">Female</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row">
<div class="form-group">
<label for="age">Age (years) *</label>
<input aria-describedby="ageError" aria-required="true" class="input" id="age" inputmode="numeric" max="80" min="14" placeholder="e.g., 30" step="1" type="number">
<div aria-live="polite" class="error" id="ageError" role="alert"></div>
</div>
<div class="form-group metric-only">
<label for="heightCm">Height (cm) *</label>
<input aria-describedby="heightError" aria-required="true" class="input" id="heightCm" inputmode="decimal" max="220" min="120" placeholder="e.g., 175" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="heightFt">Height (ft / in) *</label>
<div class="form-row" style="gap:.5rem">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightFt" inputmode="numeric" max="7" min="4" placeholder="ft" step="1" type="number">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightIn" inputmode="numeric" max="11" min="0" placeholder="in" step="1" type="number">
</div>
</div>
</div>
<div class="form-row">
<div class="form-group metric-only">
<label for="weightKg">Weight (kg) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightKg" inputmode="decimal" max="250" min="35" placeholder="e.g., 72.5" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="weightLb">Weight (lb) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightLb" inputmode="decimal" max="550" min="80" placeholder="e.g., 160" step="0.1" type="number">
</div>
<div class="form-group">
<label for="activity">Activity level *</label>
<select aria-describedby="activityHelp activityError" aria-required="true" class="input" id="activity">
<option value="1.2">Sedentary — little or no exercise</option>
<option value="1.375">Light — 1–3 days/week</option>
<option selected="" value="1.55">Moderate — 3–5 days/week</option>
<option value="1.725">Active — 6–7 days/week</option>
<option value="1.9">Very active — hard exercise/physical job</option>
</select>
<div class="hint" id="activityHelp">Used to scale BMR into TDEE.</div>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="goal">Goal</label>
<select aria-describedby="goalHelp" class="input" id="goal">
<option selected="" value="maintain">Maintain</option>
<option value="lose">Lose weight</option>
<option value="gain">Gain weight</option>
</select>
<div class="hint" id="goalHelp">Applies a calorie deficit or surplus below.</div>
</div>
<div class="form-group">
<label for="goalPct">Adjustment (%)</label>
<button aria-controls="ttGoal" aria-expanded="false" class="tooltip-btn" id="ttGoalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGoal" role="note">Positive numbers increase calories (surplus), negative decrease (deficit).</div>
<input aria-describedby="ttGoal" class="input" id="goalPct" inputmode="decimal" max="40" min="-40" step="1" type="number" value="-15">
</div>
</div>
<div aria-live="polite" class="error" id="heightError" role="alert"></div>
<div aria-live="polite" class="error" id="weightError" role="alert"></div>
<div aria-live="polite" class="error" id="activityError" role="alert"></div>
</div>
<div class="form-group">
<fieldset>
<legend>Fat targeting method</legend>
<div aria-label="Fat targeting method" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="fatByPct" name="fatMethod" type="radio" value="percent">
<label for="fatByPct">Percentage of calories</label>
</span>
<span class="chip">
<input id="fatByKg" name="fatMethod" type="radio" value="bykg">
<label for="fatByKg">Grams per body weight</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row" id="pctGroup">
<div class="form-group">
<label for="fatPercent">Fat percentage (%) *</label>
<button aria-controls="ttPct" aria-expanded="false" class="tooltip-btn" id="ttPctBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttPct" role="note">General evidence-based range is 20–35% of total calories for healthy adults (AMDR).</div>
<input aria-describedby="ttPct pctError" aria-required="true" class="input" id="fatPercent" inputmode="decimal" max="70" min="10" step="1" type="number" value="30">
<div aria-live="polite" class="error" id="pctError" role="alert"></div>
</div>
<div class="form-group">
<label for="satLimit">Saturated fat cap (%)</label>
<button aria-controls="ttSat" aria-expanded="false" class="tooltip-btn" id="ttSatBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttSat" role="note">Many guidelines recommend &lt;10% of calories from saturated fat.</div>
<input aria-describedby="ttSat" class="input" id="satLimit" inputmode="decimal" max="15" min="5" step="1" type="number" value="10">
</div>
</div>
<div class="form-row" hidden="" id="kgGroup">
<div class="form-group metric-only">
<label for="gPerKg">Grams per kg *</label>
<button aria-controls="ttGkg" aria-expanded="false" class="tooltip-btn" id="ttGkgBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGkg" role="note">Common range: 0.6–1.0 g/kg. Defaults to 0.8 g/kg.</div>
<input aria-describedby="ttGkg gkgError" aria-required="true" class="input" id="gPerKg" inputmode="decimal" max="1.5" min="0.3" step="0.05" type="number" value="0.8">
<div aria-live="polite" class="error" id="gkgError" role="alert"></div>
</div>
<div class="form-group us-only" hidden="">
<label for="gPerLb">Grams per lb *</label>
<button aria-controls="ttGlb" aria-expanded="false" class="tooltip-btn" id="ttGlbBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGlb" role="note">0.8 g/kg ≈ 0.36 g/lb. Typical range: 0.27–0.45 g/lb.</div>
<input aria-describedby="ttGlb glbError" aria-required="true" class="input" id="gPerLb" inputmode="decimal" max="0.7" min="0.15" step="0.01" type="number" value="0.36">
<div aria-live="polite" class="error" id="glbError" role="alert"></div>
</div>
</div>
<div aria-atomic="true" aria-live="polite" class="results">
<h3 style="margin-top:0">Results</h3>
<div class="result-row">
<div class="result-label">Calories used for calculation</div>
<div class="result-value" id="resCalories">—</div>
</div>
<div class="result-row">
<div class="result-label">Target fat intake</div>
<div class="result-value" id="resFat">—</div>
</div>
<div class="result-row">
<div class="result-label">Calories from fat</div>
<div class="result-value" id="resFatCals">—</div>
</div>
<div class="result-row">
<div class="result-label">Fat as % of calories (equivalent)</div>
<div class="result-value" id="resFatPct">—</div>
</div>
<div class="result-row">
<div class="result-label">Recommended range (20–35%)</div>
<div class="result-value" id="resRange">—</div>
</div>
<div class="result-row">
<div class="result-label">Saturated fat upper limit</div>
<div class="result-value" id="resSat">—</div>
</div>
</div>
</section>
</aside>
<article class="content">
<section aria-labelledby="data-method">
<h2 id="data-method">Data Source and Methodology</h2>
<p><strong>Authoritative Data Sources:</strong></p>
<ul>
<li>Institute of Medicine (IOM). Dietary Reference Intakes for Energy, Carbohydrate, Fiber, Fat, Fatty Acids, Cholesterol, Protein, and Amino Acids (2005). AMDR for total fat: 20–35% of energy. Link: <a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" rel="nofollow noopener" target="_blank">National Academies Press</a></li>
<li>U.S. Department of Health and Human Services &amp; U.S. Department of Agriculture. Dietary Guidelines for Americans, 2020–2025. Limit saturated fat to &lt;10% of calories. Link: <a href="https://www.dietaryguidelines.gov" rel="nofollow noopener" target="_blank">dietaryguidelines.gov</a></li>
<li>Mifflin MD, St Jeor ST, et al. A new predictive equation for resting energy expenditure (1990) — used to estimate TDEE. DOI: 10.1016/S0002-8223(97)00272-1</li>
</ul>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section aria-labelledby="formulae">
<h2 id="formulae">The Formulas Explained</h2>
<div aria-label="Formulas in LaTeX" class="formula-box">
<p class="formula">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</p>
<p class="formula">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</p>
<p class="formula">TDEE = BMR \times \text{Activity Factor}</p>
<p class="formula">C_{goal} = TDEE \times (1 + \delta)</p>
<p class="formula">g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)}</p>
<p class="formula">g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)}</p>
<p class="formula">g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</p>
</div>
</section>
<section aria-labelledby="glossary">
<h2 id="glossary">Glossary of Variables</h2>
<dl class="glossary">
<dt>Daily calories (C_goal)</dt><dd>Calories used to compute fat targets. Entered directly or estimated from TDEE and goal.</dd>
<dt>BMR</dt><dd>Basal Metabolic Rate from Mifflin–St Jeor, based on sex, age, height, and weight.</dd>
<dt>TDEE</dt><dd>Total Daily Energy Expenditure = BMR × activity factor.</dd>
<dt>Fat percentage (p_fat)</dt><dd>Share of calories from fat (e.g., 0.30 for 30%). Recommended range: 20–35%.</dd>
<dt>Grams per kg (or lb)</dt><dd>Alternative targeting method using body weight (e.g., 0.8 g/kg ≈ 0.36 g/lb).</dd>
<dt>Calories from fat</dt><dd>Fat grams × 9 kcal/g.</dd>
<dt>Saturated fat limit</dt><dd>Upper limit set as a percentage of calories (commonly 10%).</dd>
</dl>
</section>
<section aria-labelledby="example">
<h2 id="example">How It Works: A Step-by-Step Example</h2>
<p>Consider a 30-year-old male, 175 cm, 75 kg, moderate activity (1.55), aiming to maintain weight with 30% calories from fat.</p>
<ol>
<li>BMR = 10×75 + 6.25×175 − 5×30 + 5 = 750 + 1093.75 − 150 + 5 = 1,698.75 kcal</li>
<li>TDEE = 1,698.75 × 1.55 ≈ 2,633 kcal</li>
<li>Since the goal is maintain, C_goal = 2,633 kcal</li>
<li>Fat calories = 2,633 × 0.30 = 790 kcal</li>
<li>Fat grams = 790 / 9 ≈ 88 g/day</li>
<li>Saturated fat cap (10%) = (0.10 × 2,633) / 9 ≈ 29 g/day</li>
</ol>
</section>
<section aria-labelledby="faq">
<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Is 20–35% fat right for everyone?</h3>
<p>It’s a broadly applicable range for healthy adults. Individual needs vary by preference, medical conditions, and training load.</p>
<h3>What if I follow a low-carb or keto approach?</h3>
<p>You can set a higher fat percentage in the tool; ensure micronutrient adequacy and consult a qualified professional if needed.</p>
<h3>How do I choose between percentage vs. grams per kg?</h3>
<p>Percentages align to total calorie intake; g/kg aligns to body size. Athletes often prefer g/kg; both are valid.</p>
<h3>Does a higher fat intake harm performance?</h3>
<p>Performance depends on overall energy and macro balance for your sport. Match fat intake to goals while meeting carbohydrate and protein needs.</p>
<h3>Are unsaturated fats better?</h3>
<p>Unsaturated fats (mono- and polyunsaturated) are generally encouraged, while saturated fat is commonly limited to &lt;10% of calories.</p>
<h3>Is this medical advice?</h3>
<p>No. This calculator is informational and based on public guidelines. Consult your healthcare professional for personalized advice.</p>
</div>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =\]</div>
  <pre class="auditspine-mono">= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg\]</div>
  <pre class="auditspine-mono">('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5 BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161 TDEE = BMR \times \text{Activity Factor} C_{goal} = TDEE \times (1 + \delta) g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)} g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)} g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">TDEE = BMR \times \text{Activity Factor}</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>National Academies Press</strong> — nap.nationalacademies.org · Accessed 2026-01-19<br><a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" target="_blank" rel="nofollow noopener">https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids</a></li>
<li><strong>dietaryguidelines.gov</strong> — dietaryguidelines.gov · Accessed 2026-01-19<br><a href="https://www.dietaryguidelines.gov/" target="_blank" rel="nofollow noopener">https://www.dietaryguidelines.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
  (function(){
    'use strict';

    // Helpers
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const fmt = (n, digits=0) => Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—';

    // Elements
    const unitsMetric = $('#unitsMetric');
    const unitsUS = $('#unitsUS');

    const calSrcDirect = $('#calSrcDirect');
    const calSrcEstimate = $('#calSrcEstimate');
    const caloriesDirectGroup = $('#caloriesDirectGroup');
    const tdeeGroup = $('#tdeeGroup');

    const dailyCalories = $('#dailyCalories');
    const calError = $('#calError');

    const sexMale = $('#sexMale');
    const sexFemale = $('#sexFemale');
    const age = $('#age');
    const heightCm = $('#heightCm');
    const heightFt = $('#heightFt');
    const heightIn = $('#heightIn');
    const weightKg = $('#weightKg');
    const weightLb = $('#weightLb');
    const activity = $('#activity');
    const goal = $('#goal');
    const goalPct = $('#goalPct');
    const ageError = $('#ageError');
    const heightError = $('#heightError');
    const weightError = $('#weightError');
    const activityError = $('#activityError');

    const fatByPct = $('#fatByPct');
    const fatByKg = $('#fatByKg');
    const pctGroup = $('#pctGroup');
    const kgGroup = $('#kgGroup');

    const fatPercent = $('#fatPercent');
    const satLimit = $('#satLimit');
    const pctError = $('#pctError');
    const gPerKg = $('#gPerKg');
    const gPerLb = $('#gPerLb');
    const gkgError = $('#gkgError');
    const glbError = $('#glbError');

    const resCalories = $('#resCalories');
    const resFat = $('#resFat');
    const resFatCals = $('#resFatCals');
    const resFatPct = $('#resFatPct');
    const resRange = $('#resRange');
    const resSat = $('#resSat');

    const metricOnly = $$('.metric-only');
    const usOnly = $$('.us-only');

    // Tooltips
    const tooltips = [
      { btn: $('#ttCalBtn'), panel: $('#ttCal') },
      { btn: $('#ttGoalBtn'), panel: $('#ttGoal') },
      { btn: $('#ttPctBtn'), panel: $('#ttPct') },
      { btn: $('#ttSatBtn'), panel: $('#ttSat') },
      { btn: $('#ttGkgBtn'), panel: $('#ttGkg') },
      { btn: $('#ttGlbBtn'), panel: $('#ttGlb') }
    ].filter(t => t.btn && t.panel);

    tooltips.forEach(({btn, panel}) => {
      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.setAttribute('aria-hidden', String(expanded));
      });
      btn.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          btn.setAttribute('aria-expanded', 'false');
          panel.setAttribute('aria-hidden', 'true');
          btn.focus();
        }
      });
    });

    // Unit switching with conversion
    function toCm(ft, inch){
      const f = parseFloat(ft)||0, i = parseFloat(inch)||0;
      return (f*12 + i) * 2.54;
    }
    function cmToFtIn(cm){
      const totalIn = cm / 2.54;
      const ft = Math.floor(totalIn / 12);
      const inch = Math.round(totalIn - ft*12);
      return { ft, inch };
    }
    function kgToLb(kg){ return kg * 2.2046226218 }
    function lbToKg(lb){ return lb / 2.2046226218 }

    function setUnits(mode){
      const toUS = mode === 'us';
      metricOnly.forEach(el => el.hidden = toUS);
      usOnly.forEach(el => el.hidden = !toUS);

      if (toUS) {
        // Convert metric inputs to US fields if present
        if (heightCm.value){
          const {ft, inch} = cmToFtIn(parseFloat(heightCm.value));
          heightFt.value = ft;
          heightIn.value = inch;
        }
        if (weightKg.value){
          weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1);
        }
      } else {
        // Convert US inputs to metric
        const cm = toCm(heightFt.value, heightIn.value);
        if (cm) heightCm.value = cm.toFixed(1);
        if (weightLb.value){
          weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1);
        }
      }

      // Toggle g/kg vs g/lb control visibility but keep chosen method the same
      if (fatByKg.checked){
        kgGroup.hidden = false;
        if (toUS){
          // show g/lb, hide g/kg
          $$('.us-only', kgGroup).forEach(n => n.hidden = false);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = true);
        } else {
          $$('.us-only', kgGroup).forEach(n => n.hidden = true);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = false);
        }
      }
      compute();
    }

    unitsMetric.addEventListener('change', () => { if (unitsMetric.checked) setUnits('metric') });
    unitsUS.addEventListener('change', () => { if (unitsUS.checked) setUnits('us') });

    // Calorie source toggle
    function setCalSrc(src){
      const est = src === 'estimate';
      caloriesDirectGroup.hidden = est;
      tdeeGroup.hidden = !est;
      compute();
    }
    calSrcDirect.addEventListener('change', () => { if (calSrcDirect.checked) setCalSrc('direct') });
    calSrcEstimate.addEventListener('change', () => { if (calSrcEstimate.checked) setCalSrc('estimate') });

    // Fat method toggle
    function setFatMethod(method){
      const byPct = method === 'percent';
      pctGroup.hidden = !byPct;
      kgGroup.hidden = byPct;

      // show appropriate kg/lb inner groups depending on units
      if (!byPct){
        const isUS = unitsUS.checked;
        $$('.us-only', kgGroup).forEach(n => n.hidden = !isUS);
        $$('.metric-only', kgGroup).forEach(n => n.hidden = isUS);
      }
      compute();
    }
    fatByPct.addEventListener('change', () => { if (fatByPct.checked) setFatMethod('percent') });
    fatByKg.addEventListener('change', () => { if (fatByKg.checked) setFatMethod('bykg') });

    // Validation (on blur) and live compute (on input)
    function setError(el, msg){
      el.textContent = msg || '';
    }
    function requiredNumber(input, {min, max, name}, errorEl){
      const v = input.value.trim();
      if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; }
      const n = Number(v);
      if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (min!=null && n < min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (max!=null && n > max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; }
      setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n;
    }

    // Attach blur validators
    dailyCalories.addEventListener('blur', () => requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError));
    age.addEventListener('blur', () => requiredNumber(age, {min:14,max:80,name:'Age'}, ageError));
    heightCm.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) });
    heightFt.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) });
    heightIn.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) });
    weightKg.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) });
    weightLb.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) });
    fatPercent.addEventListener('blur', () => requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError));
    gPerKg.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) });
    gPerLb.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) });

    // Live compute on changes
    $$('#fat-calculator input, #fat-calculator select').forEach(el => {
      el.addEventListener('input', debounce(compute, 50));
      el.addEventListener('change', debounce(compute, 50));
    });

    function debounce(fn, ms){
      let t; return function(...args){ clearTimeout(t); t = setTimeout(() => fn.apply(this,args), ms); }
    }

    // Main compute
    function compute(){
      // Determine calories to use
      let calories = null;

      if (calSrcDirect.checked){
        const v = Number(dailyCalories.value);
        if (Number.isFinite(v) && v >= 800 && v <= 10000) calories = v;
      } else {
        // TDEE path
        const isUS = unitsUS.checked;
        const s = sexMale.checked ? 'male' : 'female';
        const a = Number(age.value);
        let h_cm, w_kg;

        if (isUS){
          const ft = Number(heightFt.value);
          const inch = Number(heightIn.value);
          const lb = Number(weightLb.value);
          if (Number.isFinite(ft) && Number.isFinite(inch)) h_cm = toCm(ft, inch);
          if (Number.isFinite(lb)) w_kg = lbToKg(lb);
        } else {
          const cm = Number(heightCm.value);
          const kg = Number(weightKg.value);
          if (Number.isFinite(cm)) h_cm = cm;
          if (Number.isFinite(kg)) w_kg = kg;
        }

        const act = Number(activity.value);
        const g = goal.value;
        let adjPct = Number(goalPct.value);
        if (!Number.isFinite(adjPct)) adjPct = g === 'maintain' ? 0 : (g === 'lose' ? -15 : 10);
        if (g === 'maintain') adjPct = 0;
        if (g === 'lose' && adjPct > 0) adjPct = -Math.abs(adjPct);
        if (g === 'gain' && adjPct < 0) adjPct = Math.abs(adjPct);

        // Validate
        const ok = Number.isFinite(a) && a>=14 && a<=80 &&
                   Number.isFinite(h_cm) && h_cm>=120 && h_cm<=220 &&
                   Number.isFinite(w_kg) && w_kg>=35 && w_kg<=250 &&
                   Number.isFinite(act) && act>=1.2 && act<=1.9;

        if (ok){
          const BMR = (s === 'male')
            ? (10*w_kg + 6.25*h_cm - 5*a + 5)
            : (10*w_kg + 6.25*h_cm - 5*a - 161);
          const TDEE = BMR * act;
          calories = TDEE * (1 + (adjPct/100));
        }
      }

      // If we have calories, compute fat targets
      let fatGrams = null, fatCals = null, fatPctEq = null;

      if (Number.isFinite(calories) && calories > 0){
        if (fatByPct.checked){
          const p = Number(fatPercent.value);
          if (Number.isFinite(p) && p >= 10 && p <= 70){
            fatCals = calories * (p/100);
            fatGrams = fatCals / 9;
            fatPctEq = p;
          }
        } else {
          const isUS = unitsUS.checked;
          if (isUS){
            const glb = Number(gPerLb.value);
            const lb = Number(weightLb.value);
            if (Number.isFinite(glb) && Number.isFinite(lb) && glb>=0.15 && glb<=0.7 && lb>=80 && lb<=550){
              fatGrams = glb * lb;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          } else {
            const gkg = Number(gPerKg.value);
            const kg = Number(weightKg.value);
            if (Number.isFinite(gkg) && Number.isFinite(kg) && gkg>=0.3 && gkg<=1.5 && kg>=35 && kg<=250){
              fatGrams = gkg * kg;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          }
        }
      }

      // Recommended range and saturated fat limit
      let rangeStr = '—';
      let satStr = '—';
      if (Number.isFinite(calories) && calories > 0){
        const minG = (calories * 0.20) / 9;
        const maxG = (calories * 0.35) / 9;
        rangeStr = `${fmt(minG,0)}–${fmt(maxG,0)} g/day`;
        const satPct = Number(satLimit.value);
        const satG = Number.isFinite(satPct) ? (calories * (satPct/100)) / 9 : (calories * 0.10) / 9;
        satStr = `${fmt(satG,0)} g/day (≤${fmt(satPct||10,0)}%)`;
      }

      // Write results
      resCalories.textContent = Number.isFinite(calories) ? `${fmt(calories,0)} kcal` : '—';
      resFat.textContent = Number.isFinite(fatGrams) ? `${fmt(fatGrams,0)} g/day` : '—';
      resFatCals.textContent = Number.isFinite(fatCals) ? `${fmt(fatCals,0)} kcal/day` : '—';
      resFatPct.textContent = Number.isFinite(fatPctEq) ? `${fmt(fatPctEq,0)} %` : '—';
      resRange.textContent = rangeStr;
      resSat.textContent = satStr;
    }

    // Initialize defaults
    setUnits('metric');
    setCalSrc('direct');
    setFatMethod('percent');
    compute();

    // Accessibility: close any open tooltip on outside click
    document.addEventListener('click', (e) => {
      tooltips.forEach(({btn, panel}) => {
        if (!btn.contains(e.target) && !panel.contains(e.target)){
          btn.setAttribute('aria-expanded','false');
          panel.setAttribute('aria-hidden','true');
        }
      });
    });
    // Keep goalPct sign in sync with selection
    goal.addEventListener('change', () => {
      const g = goal.value;
      let v = Number(goalPct.value);
      if (!Number.isFinite(v)) v = g==='lose' ? -15 : (g==='gain' ? 10 : 0);
      if (g==='maintain') v = 0;
      if (g==='lose' && v>0) v = -Math.abs(v);
      if (g==='gain' && v<0) v = Math.abs(v);
      goalPct.value = v;
      compute();
    });
  })();
  </script>

<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>










</body></html>
, ',
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>

<header class="bg-white shadow-sm sticky top-0 z-50">
  <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
    <div class="flex justify-between items-center">
      <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>

      <div class="w-full max-w-md hidden md:block mx-8">
        <div class="relative">
          <input
            type="search"
            id="search-input"
            placeholder="Search for a calculator..."
            class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            autocomplete="off"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
          <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
        </div>
      </div>

      <div class="hidden md:flex items-center space-x-6">
        <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
        <a href="https://calcdomain.com/#categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
      </div>

      <button
        id="mobile-menu-toggle"
        class="md:hidden p-2"
        aria-controls="mobile-menu"
        aria-expanded="false"
        aria-label="Open menu"
        type="button"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
      <div class="mb-4">
        <div class="relative">
          <input
            type="search"
            id="mobile-search-input"
            placeholder="Search calculators..."
            class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
      <div class="space-y-2">
        <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
        <a href="https://calcdomain.com#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
      </div>
    </nav>
  </nav>
</header>

<a class="sr-only" href="#main">Skip to main content</a>
<main class="main" id="main">
<div class="container">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a> &raquo; <a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness</a> &raquo; <a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition</a></nav>
<h1>Fat Intake Calculator</h1>
<p>This professional fat intake calculator helps you determine how many grams of fat to eat per day based on either a percentage of calories or grams per body weight. It includes an optional TDEE estimator and highlights evidence-based ranges and limits, making it useful for individuals, athletes, and nutrition professionals.</p>
<div class="layout" id="calc-layout">
<aside>
<section aria-labelledby="calc-heading" class="card" id="fat-calculator">
<h2 class="sr-only" id="calc-heading">Calculator</h2>
<div class="form-group">
<fieldset aria-describedby="unitsHelp">
<legend>Units</legend>
<div aria-label="Units" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="unitsMetric" name="units" type="radio" value="metric">
<label for="unitsMetric">Metric (kg, cm)</label>
</span>
<span class="chip">
<input id="unitsUS" name="units" type="radio" value="us">
<label for="unitsUS">US (lb, ft/in)</label>
</span>
</div>
<div class="hint" id="unitsHelp">Switching units converts your current entries.</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Calorie source</legend>
<div aria-label="Calorie source" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="calSrcDirect" name="calSrc" type="radio" value="direct">
<label for="calSrcDirect">Enter daily calories</label>
</span>
<span class="chip">
<input id="calSrcEstimate" name="calSrc" type="radio" value="estimate">
<label for="calSrcEstimate">Estimate calories (TDEE)</label>
</span>
</div>
</fieldset>
</div>
<!-- Direct Calories -->
<div class="form-group" id="caloriesDirectGroup">
<label for="dailyCalories">Daily calories *</label>
<button aria-controls="ttCal" aria-expanded="false" class="tooltip-btn" id="ttCalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttCal" role="note">If you already track calories (e.g., via an app), enter that number here.</div>
<input aria-describedby="ttCal calError" aria-required="true" class="input" id="dailyCalories" inputmode="decimal" max="10000" min="800" placeholder="e.g., 2200" step="1" type="number">
<div aria-live="polite" class="error" id="calError" role="alert"></div>
</div>
<!-- TDEE Estimator -->
<div hidden="" id="tdeeGroup">
<div class="form-group">
<fieldset>
<legend>Sex *</legend>
<div aria-label="Sex" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="sexMale" name="sex" type="radio" value="male">
<label for="sexMale">Male</label>
</span>
<span class="chip">
<input id="sexFemale" name="sex" type="radio" value="female">
<label for="sexFemale">Female</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row">
<div class="form-group">
<label for="age">Age (years) *</label>
<input aria-describedby="ageError" aria-required="true" class="input" id="age" inputmode="numeric" max="80" min="14" placeholder="e.g., 30" step="1" type="number">
<div aria-live="polite" class="error" id="ageError" role="alert"></div>
</div>
<div class="form-group metric-only">
<label for="heightCm">Height (cm) *</label>
<input aria-describedby="heightError" aria-required="true" class="input" id="heightCm" inputmode="decimal" max="220" min="120" placeholder="e.g., 175" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="heightFt">Height (ft / in) *</label>
<div class="form-row" style="gap:.5rem">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightFt" inputmode="numeric" max="7" min="4" placeholder="ft" step="1" type="number">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightIn" inputmode="numeric" max="11" min="0" placeholder="in" step="1" type="number">
</div>
</div>
</div>
<div class="form-row">
<div class="form-group metric-only">
<label for="weightKg">Weight (kg) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightKg" inputmode="decimal" max="250" min="35" placeholder="e.g., 72.5" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="weightLb">Weight (lb) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightLb" inputmode="decimal" max="550" min="80" placeholder="e.g., 160" step="0.1" type="number">
</div>
<div class="form-group">
<label for="activity">Activity level *</label>
<select aria-describedby="activityHelp activityError" aria-required="true" class="input" id="activity">
<option value="1.2">Sedentary — little or no exercise</option>
<option value="1.375">Light — 1–3 days/week</option>
<option selected="" value="1.55">Moderate — 3–5 days/week</option>
<option value="1.725">Active — 6–7 days/week</option>
<option value="1.9">Very active — hard exercise/physical job</option>
</select>
<div class="hint" id="activityHelp">Used to scale BMR into TDEE.</div>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="goal">Goal</label>
<select aria-describedby="goalHelp" class="input" id="goal">
<option selected="" value="maintain">Maintain</option>
<option value="lose">Lose weight</option>
<option value="gain">Gain weight</option>
</select>
<div class="hint" id="goalHelp">Applies a calorie deficit or surplus below.</div>
</div>
<div class="form-group">
<label for="goalPct">Adjustment (%)</label>
<button aria-controls="ttGoal" aria-expanded="false" class="tooltip-btn" id="ttGoalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGoal" role="note">Positive numbers increase calories (surplus), negative decrease (deficit).</div>
<input aria-describedby="ttGoal" class="input" id="goalPct" inputmode="decimal" max="40" min="-40" step="1" type="number" value="-15">
</div>
</div>
<div aria-live="polite" class="error" id="heightError" role="alert"></div>
<div aria-live="polite" class="error" id="weightError" role="alert"></div>
<div aria-live="polite" class="error" id="activityError" role="alert"></div>
</div>
<div class="form-group">
<fieldset>
<legend>Fat targeting method</legend>
<div aria-label="Fat targeting method" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="fatByPct" name="fatMethod" type="radio" value="percent">
<label for="fatByPct">Percentage of calories</label>
</span>
<span class="chip">
<input id="fatByKg" name="fatMethod" type="radio" value="bykg">
<label for="fatByKg">Grams per body weight</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row" id="pctGroup">
<div class="form-group">
<label for="fatPercent">Fat percentage (%) *</label>
<button aria-controls="ttPct" aria-expanded="false" class="tooltip-btn" id="ttPctBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttPct" role="note">General evidence-based range is 20–35% of total calories for healthy adults (AMDR).</div>
<input aria-describedby="ttPct pctError" aria-required="true" class="input" id="fatPercent" inputmode="decimal" max="70" min="10" step="1" type="number" value="30">
<div aria-live="polite" class="error" id="pctError" role="alert"></div>
</div>
<div class="form-group">
<label for="satLimit">Saturated fat cap (%)</label>
<button aria-controls="ttSat" aria-expanded="false" class="tooltip-btn" id="ttSatBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttSat" role="note">Many guidelines recommend &lt;10% of calories from saturated fat.</div>
<input aria-describedby="ttSat" class="input" id="satLimit" inputmode="decimal" max="15" min="5" step="1" type="number" value="10">
</div>
</div>
<div class="form-row" hidden="" id="kgGroup">
<div class="form-group metric-only">
<label for="gPerKg">Grams per kg *</label>
<button aria-controls="ttGkg" aria-expanded="false" class="tooltip-btn" id="ttGkgBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGkg" role="note">Common range: 0.6–1.0 g/kg. Defaults to 0.8 g/kg.</div>
<input aria-describedby="ttGkg gkgError" aria-required="true" class="input" id="gPerKg" inputmode="decimal" max="1.5" min="0.3" step="0.05" type="number" value="0.8">
<div aria-live="polite" class="error" id="gkgError" role="alert"></div>
</div>
<div class="form-group us-only" hidden="">
<label for="gPerLb">Grams per lb *</label>
<button aria-controls="ttGlb" aria-expanded="false" class="tooltip-btn" id="ttGlbBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGlb" role="note">0.8 g/kg ≈ 0.36 g/lb. Typical range: 0.27–0.45 g/lb.</div>
<input aria-describedby="ttGlb glbError" aria-required="true" class="input" id="gPerLb" inputmode="decimal" max="0.7" min="0.15" step="0.01" type="number" value="0.36">
<div aria-live="polite" class="error" id="glbError" role="alert"></div>
</div>
</div>
<div aria-atomic="true" aria-live="polite" class="results">
<h3 style="margin-top:0">Results</h3>
<div class="result-row">
<div class="result-label">Calories used for calculation</div>
<div class="result-value" id="resCalories">—</div>
</div>
<div class="result-row">
<div class="result-label">Target fat intake</div>
<div class="result-value" id="resFat">—</div>
</div>
<div class="result-row">
<div class="result-label">Calories from fat</div>
<div class="result-value" id="resFatCals">—</div>
</div>
<div class="result-row">
<div class="result-label">Fat as % of calories (equivalent)</div>
<div class="result-value" id="resFatPct">—</div>
</div>
<div class="result-row">
<div class="result-label">Recommended range (20–35%)</div>
<div class="result-value" id="resRange">—</div>
</div>
<div class="result-row">
<div class="result-label">Saturated fat upper limit</div>
<div class="result-value" id="resSat">—</div>
</div>
</div>
</section>
</aside>
<article class="content">
<section aria-labelledby="data-method">
<h2 id="data-method">Data Source and Methodology</h2>
<p><strong>Authoritative Data Sources:</strong></p>
<ul>
<li>Institute of Medicine (IOM). Dietary Reference Intakes for Energy, Carbohydrate, Fiber, Fat, Fatty Acids, Cholesterol, Protein, and Amino Acids (2005). AMDR for total fat: 20–35% of energy. Link: <a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" rel="nofollow noopener" target="_blank">National Academies Press</a></li>
<li>U.S. Department of Health and Human Services &amp; U.S. Department of Agriculture. Dietary Guidelines for Americans, 2020–2025. Limit saturated fat to &lt;10% of calories. Link: <a href="https://www.dietaryguidelines.gov" rel="nofollow noopener" target="_blank">dietaryguidelines.gov</a></li>
<li>Mifflin MD, St Jeor ST, et al. A new predictive equation for resting energy expenditure (1990) — used to estimate TDEE. DOI: 10.1016/S0002-8223(97)00272-1</li>
</ul>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section aria-labelledby="formulae">
<h2 id="formulae">The Formulas Explained</h2>
<div aria-label="Formulas in LaTeX" class="formula-box">
<p class="formula">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</p>
<p class="formula">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</p>
<p class="formula">TDEE = BMR \times \text{Activity Factor}</p>
<p class="formula">C_{goal} = TDEE \times (1 + \delta)</p>
<p class="formula">g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)}</p>
<p class="formula">g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)}</p>
<p class="formula">g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</p>
</div>
</section>
<section aria-labelledby="glossary">
<h2 id="glossary">Glossary of Variables</h2>
<dl class="glossary">
<dt>Daily calories (C_goal)</dt><dd>Calories used to compute fat targets. Entered directly or estimated from TDEE and goal.</dd>
<dt>BMR</dt><dd>Basal Metabolic Rate from Mifflin–St Jeor, based on sex, age, height, and weight.</dd>
<dt>TDEE</dt><dd>Total Daily Energy Expenditure = BMR × activity factor.</dd>
<dt>Fat percentage (p_fat)</dt><dd>Share of calories from fat (e.g., 0.30 for 30%). Recommended range: 20–35%.</dd>
<dt>Grams per kg (or lb)</dt><dd>Alternative targeting method using body weight (e.g., 0.8 g/kg ≈ 0.36 g/lb).</dd>
<dt>Calories from fat</dt><dd>Fat grams × 9 kcal/g.</dd>
<dt>Saturated fat limit</dt><dd>Upper limit set as a percentage of calories (commonly 10%).</dd>
</dl>
</section>
<section aria-labelledby="example">
<h2 id="example">How It Works: A Step-by-Step Example</h2>
<p>Consider a 30-year-old male, 175 cm, 75 kg, moderate activity (1.55), aiming to maintain weight with 30% calories from fat.</p>
<ol>
<li>BMR = 10×75 + 6.25×175 − 5×30 + 5 = 750 + 1093.75 − 150 + 5 = 1,698.75 kcal</li>
<li>TDEE = 1,698.75 × 1.55 ≈ 2,633 kcal</li>
<li>Since the goal is maintain, C_goal = 2,633 kcal</li>
<li>Fat calories = 2,633 × 0.30 = 790 kcal</li>
<li>Fat grams = 790 / 9 ≈ 88 g/day</li>
<li>Saturated fat cap (10%) = (0.10 × 2,633) / 9 ≈ 29 g/day</li>
</ol>
</section>
<section aria-labelledby="faq">
<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Is 20–35% fat right for everyone?</h3>
<p>It’s a broadly applicable range for healthy adults. Individual needs vary by preference, medical conditions, and training load.</p>
<h3>What if I follow a low-carb or keto approach?</h3>
<p>You can set a higher fat percentage in the tool; ensure micronutrient adequacy and consult a qualified professional if needed.</p>
<h3>How do I choose between percentage vs. grams per kg?</h3>
<p>Percentages align to total calorie intake; g/kg aligns to body size. Athletes often prefer g/kg; both are valid.</p>
<h3>Does a higher fat intake harm performance?</h3>
<p>Performance depends on overall energy and macro balance for your sport. Match fat intake to goals while meeting carbohydrate and protein needs.</p>
<h3>Are unsaturated fats better?</h3>
<p>Unsaturated fats (mono- and polyunsaturated) are generally encouraged, while saturated fat is commonly limited to &lt;10% of calories.</p>
<h3>Is this medical advice?</h3>
<p>No. This calculator is informational and based on public guidelines. Consult your healthcare professional for personalized advice.</p>
</div>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =\]</div>
  <pre class="auditspine-mono">= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg\]</div>
  <pre class="auditspine-mono">('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5 BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161 TDEE = BMR \times \text{Activity Factor} C_{goal} = TDEE \times (1 + \delta) g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)} g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)} g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">TDEE = BMR \times \text{Activity Factor}</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>National Academies Press</strong> — nap.nationalacademies.org · Accessed 2026-01-19<br><a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" target="_blank" rel="nofollow noopener">https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids</a></li>
<li><strong>dietaryguidelines.gov</strong> — dietaryguidelines.gov · Accessed 2026-01-19<br><a href="https://www.dietaryguidelines.gov/" target="_blank" rel="nofollow noopener">https://www.dietaryguidelines.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
  (function(){
    'use strict';

    // Helpers
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const fmt = (n, digits=0) => Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—';

    // Elements
    const unitsMetric = $('#unitsMetric');
    const unitsUS = $('#unitsUS');

    const calSrcDirect = $('#calSrcDirect');
    const calSrcEstimate = $('#calSrcEstimate');
    const caloriesDirectGroup = $('#caloriesDirectGroup');
    const tdeeGroup = $('#tdeeGroup');

    const dailyCalories = $('#dailyCalories');
    const calError = $('#calError');

    const sexMale = $('#sexMale');
    const sexFemale = $('#sexFemale');
    const age = $('#age');
    const heightCm = $('#heightCm');
    const heightFt = $('#heightFt');
    const heightIn = $('#heightIn');
    const weightKg = $('#weightKg');
    const weightLb = $('#weightLb');
    const activity = $('#activity');
    const goal = $('#goal');
    const goalPct = $('#goalPct');
    const ageError = $('#ageError');
    const heightError = $('#heightError');
    const weightError = $('#weightError');
    const activityError = $('#activityError');

    const fatByPct = $('#fatByPct');
    const fatByKg = $('#fatByKg');
    const pctGroup = $('#pctGroup');
    const kgGroup = $('#kgGroup');

    const fatPercent = $('#fatPercent');
    const satLimit = $('#satLimit');
    const pctError = $('#pctError');
    const gPerKg = $('#gPerKg');
    const gPerLb = $('#gPerLb');
    const gkgError = $('#gkgError');
    const glbError = $('#glbError');

    const resCalories = $('#resCalories');
    const resFat = $('#resFat');
    const resFatCals = $('#resFatCals');
    const resFatPct = $('#resFatPct');
    const resRange = $('#resRange');
    const resSat = $('#resSat');

    const metricOnly = $$('.metric-only');
    const usOnly = $$('.us-only');

    // Tooltips
    const tooltips = [
      { btn: $('#ttCalBtn'), panel: $('#ttCal') },
      { btn: $('#ttGoalBtn'), panel: $('#ttGoal') },
      { btn: $('#ttPctBtn'), panel: $('#ttPct') },
      { btn: $('#ttSatBtn'), panel: $('#ttSat') },
      { btn: $('#ttGkgBtn'), panel: $('#ttGkg') },
      { btn: $('#ttGlbBtn'), panel: $('#ttGlb') }
    ].filter(t => t.btn && t.panel);

    tooltips.forEach(({btn, panel}) => {
      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.setAttribute('aria-hidden', String(expanded));
      });
      btn.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          btn.setAttribute('aria-expanded', 'false');
          panel.setAttribute('aria-hidden', 'true');
          btn.focus();
        }
      });
    });

    // Unit switching with conversion
    function toCm(ft, inch){
      const f = parseFloat(ft)||0, i = parseFloat(inch)||0;
      return (f*12 + i) * 2.54;
    }
    function cmToFtIn(cm){
      const totalIn = cm / 2.54;
      const ft = Math.floor(totalIn / 12);
      const inch = Math.round(totalIn - ft*12);
      return { ft, inch };
    }
    function kgToLb(kg){ return kg * 2.2046226218 }
    function lbToKg(lb){ return lb / 2.2046226218 }

    function setUnits(mode){
      const toUS = mode === 'us';
      metricOnly.forEach(el => el.hidden = toUS);
      usOnly.forEach(el => el.hidden = !toUS);

      if (toUS) {
        // Convert metric inputs to US fields if present
        if (heightCm.value){
          const {ft, inch} = cmToFtIn(parseFloat(heightCm.value));
          heightFt.value = ft;
          heightIn.value = inch;
        }
        if (weightKg.value){
          weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1);
        }
      } else {
        // Convert US inputs to metric
        const cm = toCm(heightFt.value, heightIn.value);
        if (cm) heightCm.value = cm.toFixed(1);
        if (weightLb.value){
          weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1);
        }
      }

      // Toggle g/kg vs g/lb control visibility but keep chosen method the same
      if (fatByKg.checked){
        kgGroup.hidden = false;
        if (toUS){
          // show g/lb, hide g/kg
          $$('.us-only', kgGroup).forEach(n => n.hidden = false);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = true);
        } else {
          $$('.us-only', kgGroup).forEach(n => n.hidden = true);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = false);
        }
      }
      compute();
    }

    unitsMetric.addEventListener('change', () => { if (unitsMetric.checked) setUnits('metric') });
    unitsUS.addEventListener('change', () => { if (unitsUS.checked) setUnits('us') });

    // Calorie source toggle
    function setCalSrc(src){
      const est = src === 'estimate';
      caloriesDirectGroup.hidden = est;
      tdeeGroup.hidden = !est;
      compute();
    }
    calSrcDirect.addEventListener('change', () => { if (calSrcDirect.checked) setCalSrc('direct') });
    calSrcEstimate.addEventListener('change', () => { if (calSrcEstimate.checked) setCalSrc('estimate') });

    // Fat method toggle
    function setFatMethod(method){
      const byPct = method === 'percent';
      pctGroup.hidden = !byPct;
      kgGroup.hidden = byPct;

      // show appropriate kg/lb inner groups depending on units
      if (!byPct){
        const isUS = unitsUS.checked;
        $$('.us-only', kgGroup).forEach(n => n.hidden = !isUS);
        $$('.metric-only', kgGroup).forEach(n => n.hidden = isUS);
      }
      compute();
    }
    fatByPct.addEventListener('change', () => { if (fatByPct.checked) setFatMethod('percent') });
    fatByKg.addEventListener('change', () => { if (fatByKg.checked) setFatMethod('bykg') });

    // Validation (on blur) and live compute (on input)
    function setError(el, msg){
      el.textContent = msg || '';
    }
    function requiredNumber(input, {min, max, name}, errorEl){
      const v = input.value.trim();
      if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; }
      const n = Number(v);
      if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (min!=null && n < min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (max!=null && n > max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; }
      setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n;
    }

    // Attach blur validators
    dailyCalories.addEventListener('blur', () => requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError));
    age.addEventListener('blur', () => requiredNumber(age, {min:14,max:80,name:'Age'}, ageError));
    heightCm.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) });
    heightFt.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) });
    heightIn.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) });
    weightKg.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) });
    weightLb.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) });
    fatPercent.addEventListener('blur', () => requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError));
    gPerKg.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) });
    gPerLb.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) });

    // Live compute on changes
    $$('#fat-calculator input, #fat-calculator select').forEach(el => {
      el.addEventListener('input', debounce(compute, 50));
      el.addEventListener('change', debounce(compute, 50));
    });

    function debounce(fn, ms){
      let t; return function(...args){ clearTimeout(t); t = setTimeout(() => fn.apply(this,args), ms); }
    }

    // Main compute
    function compute(){
      // Determine calories to use
      let calories = null;

      if (calSrcDirect.checked){
        const v = Number(dailyCalories.value);
        if (Number.isFinite(v) && v >= 800 && v <= 10000) calories = v;
      } else {
        // TDEE path
        const isUS = unitsUS.checked;
        const s = sexMale.checked ? 'male' : 'female';
        const a = Number(age.value);
        let h_cm, w_kg;

        if (isUS){
          const ft = Number(heightFt.value);
          const inch = Number(heightIn.value);
          const lb = Number(weightLb.value);
          if (Number.isFinite(ft) && Number.isFinite(inch)) h_cm = toCm(ft, inch);
          if (Number.isFinite(lb)) w_kg = lbToKg(lb);
        } else {
          const cm = Number(heightCm.value);
          const kg = Number(weightKg.value);
          if (Number.isFinite(cm)) h_cm = cm;
          if (Number.isFinite(kg)) w_kg = kg;
        }

        const act = Number(activity.value);
        const g = goal.value;
        let adjPct = Number(goalPct.value);
        if (!Number.isFinite(adjPct)) adjPct = g === 'maintain' ? 0 : (g === 'lose' ? -15 : 10);
        if (g === 'maintain') adjPct = 0;
        if (g === 'lose' && adjPct > 0) adjPct = -Math.abs(adjPct);
        if (g === 'gain' && adjPct < 0) adjPct = Math.abs(adjPct);

        // Validate
        const ok = Number.isFinite(a) && a>=14 && a<=80 &&
                   Number.isFinite(h_cm) && h_cm>=120 && h_cm<=220 &&
                   Number.isFinite(w_kg) && w_kg>=35 && w_kg<=250 &&
                   Number.isFinite(act) && act>=1.2 && act<=1.9;

        if (ok){
          const BMR = (s === 'male')
            ? (10*w_kg + 6.25*h_cm - 5*a + 5)
            : (10*w_kg + 6.25*h_cm - 5*a - 161);
          const TDEE = BMR * act;
          calories = TDEE * (1 + (adjPct/100));
        }
      }

      // If we have calories, compute fat targets
      let fatGrams = null, fatCals = null, fatPctEq = null;

      if (Number.isFinite(calories) && calories > 0){
        if (fatByPct.checked){
          const p = Number(fatPercent.value);
          if (Number.isFinite(p) && p >= 10 && p <= 70){
            fatCals = calories * (p/100);
            fatGrams = fatCals / 9;
            fatPctEq = p;
          }
        } else {
          const isUS = unitsUS.checked;
          if (isUS){
            const glb = Number(gPerLb.value);
            const lb = Number(weightLb.value);
            if (Number.isFinite(glb) && Number.isFinite(lb) && glb>=0.15 && glb<=0.7 && lb>=80 && lb<=550){
              fatGrams = glb * lb;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          } else {
            const gkg = Number(gPerKg.value);
            const kg = Number(weightKg.value);
            if (Number.isFinite(gkg) && Number.isFinite(kg) && gkg>=0.3 && gkg<=1.5 && kg>=35 && kg<=250){
              fatGrams = gkg * kg;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          }
        }
      }

      // Recommended range and saturated fat limit
      let rangeStr = '—';
      let satStr = '—';
      if (Number.isFinite(calories) && calories > 0){
        const minG = (calories * 0.20) / 9;
        const maxG = (calories * 0.35) / 9;
        rangeStr = `${fmt(minG,0)}–${fmt(maxG,0)} g/day`;
        const satPct = Number(satLimit.value);
        const satG = Number.isFinite(satPct) ? (calories * (satPct/100)) / 9 : (calories * 0.10) / 9;
        satStr = `${fmt(satG,0)} g/day (≤${fmt(satPct||10,0)}%)`;
      }

      // Write results
      resCalories.textContent = Number.isFinite(calories) ? `${fmt(calories,0)} kcal` : '—';
      resFat.textContent = Number.isFinite(fatGrams) ? `${fmt(fatGrams,0)} g/day` : '—';
      resFatCals.textContent = Number.isFinite(fatCals) ? `${fmt(fatCals,0)} kcal/day` : '—';
      resFatPct.textContent = Number.isFinite(fatPctEq) ? `${fmt(fatPctEq,0)} %` : '—';
      resRange.textContent = rangeStr;
      resSat.textContent = satStr;
    }

    // Initialize defaults
    setUnits('metric');
    setCalSrc('direct');
    setFatMethod('percent');
    compute();

    // Accessibility: close any open tooltip on outside click
    document.addEventListener('click', (e) => {
      tooltips.forEach(({btn, panel}) => {
        if (!btn.contains(e.target) && !panel.contains(e.target)){
          btn.setAttribute('aria-expanded','false');
          panel.setAttribute('aria-hidden','true');
        }
      });
    });
    // Keep goalPct sign in sync with selection
    goal.addEventListener('change', () => {
      const g = goal.value;
      let v = Number(goalPct.value);
      if (!Number.isFinite(v)) v = g==='lose' ? -15 : (g==='gain' ? 10 : 0);
      if (g==='maintain') v = 0;
      if (g==='lose' && v>0) v = -Math.abs(v);
      if (g==='gain' && v<0) v = Math.abs(v);
      goalPct.value = v;
      compute();
    });
  })();
  </script>

<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>








</body></html>
]], displayMath: [['\\[','\\]']] }, svg: { fontCache: 'global' } };,
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body>

<header class="bg-white shadow-sm sticky top-0 z-50">
  <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
    <div class="flex justify-between items-center">
      <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>

      <div class="w-full max-w-md hidden md:block mx-8">
        <div class="relative">
          <input
            type="search"
            id="search-input"
            placeholder="Search for a calculator..."
            class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            autocomplete="off"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
          <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
        </div>
      </div>

      <div class="hidden md:flex items-center space-x-6">
        <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
        <a href="https://calcdomain.com/#categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
      </div>

      <button
        id="mobile-menu-toggle"
        class="md:hidden p-2"
        aria-controls="mobile-menu"
        aria-expanded="false"
        aria-label="Open menu"
        type="button"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
      <div class="mb-4">
        <div class="relative">
          <input
            type="search"
            id="mobile-search-input"
            placeholder="Search calculators..."
            class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
      <div class="space-y-2">
        <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
        <a href="https://calcdomain.com#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
      </div>
    </nav>
  </nav>
</header>

<a class="sr-only" href="#main">Skip to main content</a>
<main class="main" id="main">
<div class="container">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a> &raquo; <a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness</a> &raquo; <a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition</a></nav>
<h1>Fat Intake Calculator</h1>
<p>This professional fat intake calculator helps you determine how many grams of fat to eat per day based on either a percentage of calories or grams per body weight. It includes an optional TDEE estimator and highlights evidence-based ranges and limits, making it useful for individuals, athletes, and nutrition professionals.</p>
<div class="layout" id="calc-layout">
<aside>
<section aria-labelledby="calc-heading" class="card" id="fat-calculator">
<h2 class="sr-only" id="calc-heading">Calculator</h2>
<div class="form-group">
<fieldset aria-describedby="unitsHelp">
<legend>Units</legend>
<div aria-label="Units" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="unitsMetric" name="units" type="radio" value="metric">
<label for="unitsMetric">Metric (kg, cm)</label>
</span>
<span class="chip">
<input id="unitsUS" name="units" type="radio" value="us">
<label for="unitsUS">US (lb, ft/in)</label>
</span>
</div>
<div class="hint" id="unitsHelp">Switching units converts your current entries.</div>
</fieldset>
</div>
<div class="form-group">
<fieldset>
<legend>Calorie source</legend>
<div aria-label="Calorie source" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="calSrcDirect" name="calSrc" type="radio" value="direct">
<label for="calSrcDirect">Enter daily calories</label>
</span>
<span class="chip">
<input id="calSrcEstimate" name="calSrc" type="radio" value="estimate">
<label for="calSrcEstimate">Estimate calories (TDEE)</label>
</span>
</div>
</fieldset>
</div>
<!-- Direct Calories -->
<div class="form-group" id="caloriesDirectGroup">
<label for="dailyCalories">Daily calories *</label>
<button aria-controls="ttCal" aria-expanded="false" class="tooltip-btn" id="ttCalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttCal" role="note">If you already track calories (e.g., via an app), enter that number here.</div>
<input aria-describedby="ttCal calError" aria-required="true" class="input" id="dailyCalories" inputmode="decimal" max="10000" min="800" placeholder="e.g., 2200" step="1" type="number">
<div aria-live="polite" class="error" id="calError" role="alert"></div>
</div>
<!-- TDEE Estimator -->
<div hidden="" id="tdeeGroup">
<div class="form-group">
<fieldset>
<legend>Sex *</legend>
<div aria-label="Sex" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="sexMale" name="sex" type="radio" value="male">
<label for="sexMale">Male</label>
</span>
<span class="chip">
<input id="sexFemale" name="sex" type="radio" value="female">
<label for="sexFemale">Female</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row">
<div class="form-group">
<label for="age">Age (years) *</label>
<input aria-describedby="ageError" aria-required="true" class="input" id="age" inputmode="numeric" max="80" min="14" placeholder="e.g., 30" step="1" type="number">
<div aria-live="polite" class="error" id="ageError" role="alert"></div>
</div>
<div class="form-group metric-only">
<label for="heightCm">Height (cm) *</label>
<input aria-describedby="heightError" aria-required="true" class="input" id="heightCm" inputmode="decimal" max="220" min="120" placeholder="e.g., 175" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="heightFt">Height (ft / in) *</label>
<div class="form-row" style="gap:.5rem">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightFt" inputmode="numeric" max="7" min="4" placeholder="ft" step="1" type="number">
<input aria-describedby="heightError" aria-required="true" class="input" id="heightIn" inputmode="numeric" max="11" min="0" placeholder="in" step="1" type="number">
</div>
</div>
</div>
<div class="form-row">
<div class="form-group metric-only">
<label for="weightKg">Weight (kg) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightKg" inputmode="decimal" max="250" min="35" placeholder="e.g., 72.5" step="0.1" type="number">
</div>
<div class="form-group us-only" hidden="">
<label for="weightLb">Weight (lb) *</label>
<input aria-describedby="weightError" aria-required="true" class="input" id="weightLb" inputmode="decimal" max="550" min="80" placeholder="e.g., 160" step="0.1" type="number">
</div>
<div class="form-group">
<label for="activity">Activity level *</label>
<select aria-describedby="activityHelp activityError" aria-required="true" class="input" id="activity">
<option value="1.2">Sedentary — little or no exercise</option>
<option value="1.375">Light — 1–3 days/week</option>
<option selected="" value="1.55">Moderate — 3–5 days/week</option>
<option value="1.725">Active — 6–7 days/week</option>
<option value="1.9">Very active — hard exercise/physical job</option>
</select>
<div class="hint" id="activityHelp">Used to scale BMR into TDEE.</div>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="goal">Goal</label>
<select aria-describedby="goalHelp" class="input" id="goal">
<option selected="" value="maintain">Maintain</option>
<option value="lose">Lose weight</option>
<option value="gain">Gain weight</option>
</select>
<div class="hint" id="goalHelp">Applies a calorie deficit or surplus below.</div>
</div>
<div class="form-group">
<label for="goalPct">Adjustment (%)</label>
<button aria-controls="ttGoal" aria-expanded="false" class="tooltip-btn" id="ttGoalBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGoal" role="note">Positive numbers increase calories (surplus), negative decrease (deficit).</div>
<input aria-describedby="ttGoal" class="input" id="goalPct" inputmode="decimal" max="40" min="-40" step="1" type="number" value="-15">
</div>
</div>
<div aria-live="polite" class="error" id="heightError" role="alert"></div>
<div aria-live="polite" class="error" id="weightError" role="alert"></div>
<div aria-live="polite" class="error" id="activityError" role="alert"></div>
</div>
<div class="form-group">
<fieldset>
<legend>Fat targeting method</legend>
<div aria-label="Fat targeting method" class="choices" role="radiogroup">
<span class="chip">
<input checked="" id="fatByPct" name="fatMethod" type="radio" value="percent">
<label for="fatByPct">Percentage of calories</label>
</span>
<span class="chip">
<input id="fatByKg" name="fatMethod" type="radio" value="bykg">
<label for="fatByKg">Grams per body weight</label>
</span>
</div>
</fieldset>
</div>
<div class="form-row" id="pctGroup">
<div class="form-group">
<label for="fatPercent">Fat percentage (%) *</label>
<button aria-controls="ttPct" aria-expanded="false" class="tooltip-btn" id="ttPctBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttPct" role="note">General evidence-based range is 20–35% of total calories for healthy adults (AMDR).</div>
<input aria-describedby="ttPct pctError" aria-required="true" class="input" id="fatPercent" inputmode="decimal" max="70" min="10" step="1" type="number" value="30">
<div aria-live="polite" class="error" id="pctError" role="alert"></div>
</div>
<div class="form-group">
<label for="satLimit">Saturated fat cap (%)</label>
<button aria-controls="ttSat" aria-expanded="false" class="tooltip-btn" id="ttSatBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttSat" role="note">Many guidelines recommend &lt;10% of calories from saturated fat.</div>
<input aria-describedby="ttSat" class="input" id="satLimit" inputmode="decimal" max="15" min="5" step="1" type="number" value="10">
</div>
</div>
<div class="form-row" hidden="" id="kgGroup">
<div class="form-group metric-only">
<label for="gPerKg">Grams per kg *</label>
<button aria-controls="ttGkg" aria-expanded="false" class="tooltip-btn" id="ttGkgBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGkg" role="note">Common range: 0.6–1.0 g/kg. Defaults to 0.8 g/kg.</div>
<input aria-describedby="ttGkg gkgError" aria-required="true" class="input" id="gPerKg" inputmode="decimal" max="1.5" min="0.3" step="0.05" type="number" value="0.8">
<div aria-live="polite" class="error" id="gkgError" role="alert"></div>
</div>
<div class="form-group us-only" hidden="">
<label for="gPerLb">Grams per lb *</label>
<button aria-controls="ttGlb" aria-expanded="false" class="tooltip-btn" id="ttGlbBtn" type="button">?</button>
<div aria-hidden="true" class="tooltip" id="ttGlb" role="note">0.8 g/kg ≈ 0.36 g/lb. Typical range: 0.27–0.45 g/lb.</div>
<input aria-describedby="ttGlb glbError" aria-required="true" class="input" id="gPerLb" inputmode="decimal" max="0.7" min="0.15" step="0.01" type="number" value="0.36">
<div aria-live="polite" class="error" id="glbError" role="alert"></div>
</div>
</div>
<div aria-atomic="true" aria-live="polite" class="results">
<h3 style="margin-top:0">Results</h3>
<div class="result-row">
<div class="result-label">Calories used for calculation</div>
<div class="result-value" id="resCalories">—</div>
</div>
<div class="result-row">
<div class="result-label">Target fat intake</div>
<div class="result-value" id="resFat">—</div>
</div>
<div class="result-row">
<div class="result-label">Calories from fat</div>
<div class="result-value" id="resFatCals">—</div>
</div>
<div class="result-row">
<div class="result-label">Fat as % of calories (equivalent)</div>
<div class="result-value" id="resFatPct">—</div>
</div>
<div class="result-row">
<div class="result-label">Recommended range (20–35%)</div>
<div class="result-value" id="resRange">—</div>
</div>
<div class="result-row">
<div class="result-label">Saturated fat upper limit</div>
<div class="result-value" id="resSat">—</div>
</div>
</div>
</section>
</aside>
<article class="content">
<section aria-labelledby="data-method">
<h2 id="data-method">Data Source and Methodology</h2>
<p><strong>Authoritative Data Sources:</strong></p>
<ul>
<li>Institute of Medicine (IOM). Dietary Reference Intakes for Energy, Carbohydrate, Fiber, Fat, Fatty Acids, Cholesterol, Protein, and Amino Acids (2005). AMDR for total fat: 20–35% of energy. Link: <a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" rel="nofollow noopener" target="_blank">National Academies Press</a></li>
<li>U.S. Department of Health and Human Services &amp; U.S. Department of Agriculture. Dietary Guidelines for Americans, 2020–2025. Limit saturated fat to &lt;10% of calories. Link: <a href="https://www.dietaryguidelines.gov" rel="nofollow noopener" target="_blank">dietaryguidelines.gov</a></li>
<li>Mifflin MD, St Jeor ST, et al. A new predictive equation for resting energy expenditure (1990) — used to estimate TDEE. DOI: 10.1016/S0002-8223(97)00272-1</li>
</ul>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
</section>
<section aria-labelledby="formulae">
<h2 id="formulae">The Formulas Explained</h2>
<div aria-label="Formulas in LaTeX" class="formula-box">
<p class="formula">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</p>
<p class="formula">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</p>
<p class="formula">TDEE = BMR \times \text{Activity Factor}</p>
<p class="formula">C_{goal} = TDEE \times (1 + \delta)</p>
<p class="formula">g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)}</p>
<p class="formula">g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)}</p>
<p class="formula">g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</p>
</div>
</section>
<section aria-labelledby="glossary">
<h2 id="glossary">Glossary of Variables</h2>
<dl class="glossary">
<dt>Daily calories (C_goal)</dt><dd>Calories used to compute fat targets. Entered directly or estimated from TDEE and goal.</dd>
<dt>BMR</dt><dd>Basal Metabolic Rate from Mifflin–St Jeor, based on sex, age, height, and weight.</dd>
<dt>TDEE</dt><dd>Total Daily Energy Expenditure = BMR × activity factor.</dd>
<dt>Fat percentage (p_fat)</dt><dd>Share of calories from fat (e.g., 0.30 for 30%). Recommended range: 20–35%.</dd>
<dt>Grams per kg (or lb)</dt><dd>Alternative targeting method using body weight (e.g., 0.8 g/kg ≈ 0.36 g/lb).</dd>
<dt>Calories from fat</dt><dd>Fat grams × 9 kcal/g.</dd>
<dt>Saturated fat limit</dt><dd>Upper limit set as a percentage of calories (commonly 10%).</dd>
</dl>
</section>
<section aria-labelledby="example">
<h2 id="example">How It Works: A Step-by-Step Example</h2>
<p>Consider a 30-year-old male, 175 cm, 75 kg, moderate activity (1.55), aiming to maintain weight with 30% calories from fat.</p>
<ol>
<li>BMR = 10×75 + 6.25×175 − 5×30 + 5 = 750 + 1093.75 − 150 + 5 = 1,698.75 kcal</li>
<li>TDEE = 1,698.75 × 1.55 ≈ 2,633 kcal</li>
<li>Since the goal is maintain, C_goal = 2,633 kcal</li>
<li>Fat calories = 2,633 × 0.30 = 790 kcal</li>
<li>Fat grams = 790 / 9 ≈ 88 g/day</li>
<li>Saturated fat cap (10%) = (0.10 × 2,633) / 9 ≈ 29 g/day</li>
</ol>
</section>
<section aria-labelledby="faq">
<h2 id="faq">Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Is 20–35% fat right for everyone?</h3>
<p>It’s a broadly applicable range for healthy adults. Individual needs vary by preference, medical conditions, and training load.</p>
<h3>What if I follow a low-carb or keto approach?</h3>
<p>You can set a higher fat percentage in the tool; ensure micronutrient adequacy and consult a qualified professional if needed.</p>
<h3>How do I choose between percentage vs. grams per kg?</h3>
<p>Percentages align to total calorie intake; g/kg aligns to body size. Athletes often prefer g/kg; both are valid.</p>
<h3>Does a higher fat intake harm performance?</h3>
<p>Performance depends on overall energy and macro balance for your sport. Match fat intake to goals while meeting carbohydrate and protein needs.</p>
<h3>Are unsaturated fats better?</h3>
<p>Unsaturated fats (mono- and polyunsaturated) are generally encouraged, while saturated fat is commonly limited to &lt;10% of calories.</p>
<h3>Is this medical advice?</h3>
<p>No. This calculator is informational and based on public guidelines. Consult your healthcare professional for personalized advice.</p>
</div>
</section>


<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =\]</div>
  <pre class="auditspine-mono">= (sel, ctx=document) =&gt; Array.from(ctx.querySelectorAll(sel)); const fmt = (n, digits=0) =&gt; Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—'; // Elements const unitsMetric = $('#unitsMetric'); const unitsUS = $('#unitsUS'); const calSrcDirect = $('#calSrcDirect'); const calSrcEstimate = $('#calSrcEstimate'); const caloriesDirectGroup = $('#caloriesDirectGroup'); const tdeeGroup = $('#tdeeGroup'); const dailyCalories = $('#dailyCalories'); const calError = $('#calError'); const sexMale = $('#sexMale'); const sexFemale = $('#sexFemale'); const age = $('#age'); const heightCm = $('#heightCm'); const heightFt = $('#heightFt'); const heightIn = $('#heightIn'); const weightKg = $('#weightKg'); const weightLb = $('#weightLb'); const activity = $('#activity'); const goal = $('#goal'); const goalPct = $('#goalPct'); const ageError = $('#ageError'); const heightError = $('#heightError'); const weightError = $('#weightError'); const activityError = $('#activityError'); const fatByPct = $('#fatByPct'); const fatByKg = $('#fatByKg'); const pctGroup = $('#pctGroup'); const kgGroup = $('#kgGroup'); const fatPercent = $('#fatPercent'); const satLimit = $('#satLimit'); const pctError = $('#pctError'); const gPerKg = $('#gPerKg'); const gPerLb = $('#gPerLb'); const gkgError = $('#gkgError'); const glbError = $('#glbError'); const resCalories = $('#resCalories'); const resFat = $('#resFat'); const resFatCals = $('#resFatCals'); const resFatPct = $('#resFatPct'); const resRange = $('#resRange'); const resSat = $('#resSat'); const metricOnly =</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg\]</div>
  <pre class="auditspine-mono">('.us-only'); // Tooltips const tooltips = [ { btn: $('#ttCalBtn'), panel: $('#ttCal') }, { btn: $('#ttGoalBtn'), panel: $('#ttGoal') }, { btn: $('#ttPctBtn'), panel: $('#ttPct') }, { btn: $('#ttSatBtn'), panel: $('#ttSat') }, { btn: $('#ttGkgBtn'), panel: $('#ttGkg') }, { btn: $('#ttGlbBtn'), panel: $('#ttGlb') } ].filter(t =&gt; t.btn &amp;&amp; t.panel); tooltips.forEach(({btn, panel}) =&gt; { btn.addEventListener('click', () =&gt; { const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); panel.setAttribute('aria-hidden', String(expanded)); }); btn.addEventListener('keydown', (e) =&gt; { if (e.key === 'Escape') { btn.setAttribute('aria-expanded', 'false'); panel.setAttribute('aria-hidden', 'true'); btn.focus(); } }); }); // Unit switching with conversion function toCm(ft, inch){ const f = parseFloat(ft)||0, i = parseFloat(inch)||0; return (f*12 + i) * 2.54; } function cmToFtIn(cm){ const totalIn = cm / 2.54; const ft = Math.floor(totalIn / 12); const inch = Math.round(totalIn - ft*12); return { ft, inch }; } function kgToLb(kg){ return kg * 2.2046226218 } function lbToKg(lb){ return lb / 2.2046226218 } function setUnits(mode){ const toUS = mode === 'us'; metricOnly.forEach(el =&gt; el.hidden = toUS); usOnly.forEach(el =&gt; el.hidden = !toUS); if (toUS) { // Convert metric inputs to US fields if present if (heightCm.value){ const {ft, inch} = cmToFtIn(parseFloat(heightCm.value)); heightFt.value = ft; heightIn.value = inch; } if (weightKg.value){ weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1); } } else { // Convert US inputs to metric const cm = toCm(heightFt.value, heightIn.value); if (cm) heightCm.value = cm.toFixed(1); if (weightLb.value){ weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1); } } // Toggle g/kg vs g/lb control visibility but keep chosen method the same if (fatByKg.checked){ kgGroup.hidden = false; if (toUS){ // show g/lb, hide g/kg</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = true); } else {</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = false); } } compute(); } unitsMetric.addEventListener('change', () =&gt; { if (unitsMetric.checked) setUnits('metric') }); unitsUS.addEventListener('change', () =&gt; { if (unitsUS.checked) setUnits('us') }); // Calorie source toggle function setCalSrc(src){ const est = src === 'estimate'; caloriesDirectGroup.hidden = est; tdeeGroup.hidden = !est; compute(); } calSrcDirect.addEventListener('change', () =&gt; { if (calSrcDirect.checked) setCalSrc('direct') }); calSrcEstimate.addEventListener('change', () =&gt; { if (calSrcEstimate.checked) setCalSrc('estimate') }); // Fat method toggle function setFatMethod(method){ const byPct = method === 'percent'; pctGroup.hidden = !byPct; kgGroup.hidden = byPct; // show appropriate kg/lb inner groups depending on units if (!byPct){ const isUS = unitsUS.checked;</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes\]</div>
  <pre class="auditspine-mono">('.metric-only', kgGroup).forEach(n =&gt; n.hidden = isUS); } compute(); } fatByPct.addEventListener('change', () =&gt; { if (fatByPct.checked) setFatMethod('percent') }); fatByKg.addEventListener('change', () =&gt; { if (fatByKg.checked) setFatMethod('bykg') }); // Validation (on blur) and live compute (on input) function setError(el, msg){ el.textContent = msg || ''; } function requiredNumber(input, {min, max, name}, errorEl){ const v = input.value.trim(); if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; } const n = Number(v); if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; } if (min!=null &amp;&amp; n &lt; min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; } if (max!=null &amp;&amp; n &gt; max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; } setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n; } // Attach blur validators dailyCalories.addEventListener('blur', () =&gt; requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError)); age.addEventListener('blur', () =&gt; requiredNumber(age, {min:14,max:80,name:'Age'}, ageError)); heightCm.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) }); heightFt.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) }); heightIn.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) }); weightKg.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) }); weightLb.addEventListener('blur', () =&gt; { if (!tdeeGroup.hidden &amp;&amp; !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) }); fatPercent.addEventListener('blur', () =&gt; requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError)); gPerKg.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) }); gPerLb.addEventListener('blur', () =&gt; { if (!kgGroup.hidden &amp;&amp; !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) }); // Live compute on changes</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5 BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161 TDEE = BMR \times \text{Activity Factor} C_{goal} = TDEE \times (1 + \delta) g_{fat} = \dfrac{C_{goal} \times p_{fat}}{9} \quad \text{(percentage method, where } p_{fat}\in [0,1]\text{)} g_{fat} = w \times r \quad \text{(body-weight method; } r = \text{g per kg or g per lb)} g_{SFA}^{max} = \dfrac{0.10 \times C_{goal}}{9}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{male} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age + 5</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">BMR_{female} = 10\,w_{kg} + 6.25\,h_{cm} - 5\,age - 161</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">TDEE = BMR \times \text{Activity Factor}</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>National Academies Press</strong> — nap.nationalacademies.org · Accessed 2026-01-19<br><a href="https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids" target="_blank" rel="nofollow noopener">https://nap.nationalacademies.org/catalog/10490/dietary-reference-intakes-for-energy-carbohydrate-fiber-fat-fatty-acids-cholesterol-protein-and-amino-acids</a></li>
<li><strong>dietaryguidelines.gov</strong> — dietaryguidelines.gov · Accessed 2026-01-19<br><a href="https://www.dietaryguidelines.gov/" target="_blank" rel="nofollow noopener">https://www.dietaryguidelines.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</article>
</div>
</div>
</main>
<!-- Standard Footer --> 
<script defer="">
  (function(){
    'use strict';

    // Helpers
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const fmt = (n, digits=0) => Number.isFinite(n) ? n.toLocaleString(undefined, { maximumFractionDigits: digits, minimumFractionDigits: digits }) : '—';

    // Elements
    const unitsMetric = $('#unitsMetric');
    const unitsUS = $('#unitsUS');

    const calSrcDirect = $('#calSrcDirect');
    const calSrcEstimate = $('#calSrcEstimate');
    const caloriesDirectGroup = $('#caloriesDirectGroup');
    const tdeeGroup = $('#tdeeGroup');

    const dailyCalories = $('#dailyCalories');
    const calError = $('#calError');

    const sexMale = $('#sexMale');
    const sexFemale = $('#sexFemale');
    const age = $('#age');
    const heightCm = $('#heightCm');
    const heightFt = $('#heightFt');
    const heightIn = $('#heightIn');
    const weightKg = $('#weightKg');
    const weightLb = $('#weightLb');
    const activity = $('#activity');
    const goal = $('#goal');
    const goalPct = $('#goalPct');
    const ageError = $('#ageError');
    const heightError = $('#heightError');
    const weightError = $('#weightError');
    const activityError = $('#activityError');

    const fatByPct = $('#fatByPct');
    const fatByKg = $('#fatByKg');
    const pctGroup = $('#pctGroup');
    const kgGroup = $('#kgGroup');

    const fatPercent = $('#fatPercent');
    const satLimit = $('#satLimit');
    const pctError = $('#pctError');
    const gPerKg = $('#gPerKg');
    const gPerLb = $('#gPerLb');
    const gkgError = $('#gkgError');
    const glbError = $('#glbError');

    const resCalories = $('#resCalories');
    const resFat = $('#resFat');
    const resFatCals = $('#resFatCals');
    const resFatPct = $('#resFatPct');
    const resRange = $('#resRange');
    const resSat = $('#resSat');

    const metricOnly = $$('.metric-only');
    const usOnly = $$('.us-only');

    // Tooltips
    const tooltips = [
      { btn: $('#ttCalBtn'), panel: $('#ttCal') },
      { btn: $('#ttGoalBtn'), panel: $('#ttGoal') },
      { btn: $('#ttPctBtn'), panel: $('#ttPct') },
      { btn: $('#ttSatBtn'), panel: $('#ttSat') },
      { btn: $('#ttGkgBtn'), panel: $('#ttGkg') },
      { btn: $('#ttGlbBtn'), panel: $('#ttGlb') }
    ].filter(t => t.btn && t.panel);

    tooltips.forEach(({btn, panel}) => {
      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.setAttribute('aria-hidden', String(expanded));
      });
      btn.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          btn.setAttribute('aria-expanded', 'false');
          panel.setAttribute('aria-hidden', 'true');
          btn.focus();
        }
      });
    });

    // Unit switching with conversion
    function toCm(ft, inch){
      const f = parseFloat(ft)||0, i = parseFloat(inch)||0;
      return (f*12 + i) * 2.54;
    }
    function cmToFtIn(cm){
      const totalIn = cm / 2.54;
      const ft = Math.floor(totalIn / 12);
      const inch = Math.round(totalIn - ft*12);
      return { ft, inch };
    }
    function kgToLb(kg){ return kg * 2.2046226218 }
    function lbToKg(lb){ return lb / 2.2046226218 }

    function setUnits(mode){
      const toUS = mode === 'us';
      metricOnly.forEach(el => el.hidden = toUS);
      usOnly.forEach(el => el.hidden = !toUS);

      if (toUS) {
        // Convert metric inputs to US fields if present
        if (heightCm.value){
          const {ft, inch} = cmToFtIn(parseFloat(heightCm.value));
          heightFt.value = ft;
          heightIn.value = inch;
        }
        if (weightKg.value){
          weightLb.value = (kgToLb(parseFloat(weightKg.value))).toFixed(1);
        }
      } else {
        // Convert US inputs to metric
        const cm = toCm(heightFt.value, heightIn.value);
        if (cm) heightCm.value = cm.toFixed(1);
        if (weightLb.value){
          weightKg.value = (lbToKg(parseFloat(weightLb.value))).toFixed(1);
        }
      }

      // Toggle g/kg vs g/lb control visibility but keep chosen method the same
      if (fatByKg.checked){
        kgGroup.hidden = false;
        if (toUS){
          // show g/lb, hide g/kg
          $$('.us-only', kgGroup).forEach(n => n.hidden = false);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = true);
        } else {
          $$('.us-only', kgGroup).forEach(n => n.hidden = true);
          $$('.metric-only', kgGroup).forEach(n => n.hidden = false);
        }
      }
      compute();
    }

    unitsMetric.addEventListener('change', () => { if (unitsMetric.checked) setUnits('metric') });
    unitsUS.addEventListener('change', () => { if (unitsUS.checked) setUnits('us') });

    // Calorie source toggle
    function setCalSrc(src){
      const est = src === 'estimate';
      caloriesDirectGroup.hidden = est;
      tdeeGroup.hidden = !est;
      compute();
    }
    calSrcDirect.addEventListener('change', () => { if (calSrcDirect.checked) setCalSrc('direct') });
    calSrcEstimate.addEventListener('change', () => { if (calSrcEstimate.checked) setCalSrc('estimate') });

    // Fat method toggle
    function setFatMethod(method){
      const byPct = method === 'percent';
      pctGroup.hidden = !byPct;
      kgGroup.hidden = byPct;

      // show appropriate kg/lb inner groups depending on units
      if (!byPct){
        const isUS = unitsUS.checked;
        $$('.us-only', kgGroup).forEach(n => n.hidden = !isUS);
        $$('.metric-only', kgGroup).forEach(n => n.hidden = isUS);
      }
      compute();
    }
    fatByPct.addEventListener('change', () => { if (fatByPct.checked) setFatMethod('percent') });
    fatByKg.addEventListener('change', () => { if (fatByKg.checked) setFatMethod('bykg') });

    // Validation (on blur) and live compute (on input)
    function setError(el, msg){
      el.textContent = msg || '';
    }
    function requiredNumber(input, {min, max, name}, errorEl){
      const v = input.value.trim();
      if (v === ''){ setError(errorEl, `${name} is required.`); input.setAttribute('aria-invalid','true'); return null; }
      const n = Number(v);
      if (!Number.isFinite(n)){ setError(errorEl, `Please enter a valid number for ${name}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (min!=null && n < min){ setError(errorEl, `${name} must be at least ${min}.`); input.setAttribute('aria-invalid','true'); return null; }
      if (max!=null && n > max){ setError(errorEl, `${name} must be at most ${max}.`); input.setAttribute('aria-invalid','true'); return null; }
      setError(errorEl, ''); input.setAttribute('aria-invalid','false'); return n;
    }

    // Attach blur validators
    dailyCalories.addEventListener('blur', () => requiredNumber(dailyCalories, {min:800,max:10000,name:'Daily calories'}, calError));
    age.addEventListener('blur', () => requiredNumber(age, {min:14,max:80,name:'Age'}, ageError));
    heightCm.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightCm.closest('.metric-only').hidden) requiredNumber(heightCm, {min:120,max:220,name:'Height (cm)'}, heightError) });
    heightFt.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightFt.closest('.us-only').hidden) requiredNumber(heightFt, {min:4,max:7,name:'Height (ft)'}, heightError) });
    heightIn.addEventListener('blur', () => { if (!tdeeGroup.hidden && !heightIn.closest('.us-only').hidden) requiredNumber(heightIn, {min:0,max:11,name:'Height (in)'}, heightError) });
    weightKg.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightKg.closest('.metric-only').hidden) requiredNumber(weightKg, {min:35,max:250,name:'Weight (kg)'}, weightError) });
    weightLb.addEventListener('blur', () => { if (!tdeeGroup.hidden && !weightLb.closest('.us-only').hidden) requiredNumber(weightLb, {min:80,max:550,name:'Weight (lb)'}, weightError) });
    fatPercent.addEventListener('blur', () => requiredNumber(fatPercent, {min:10,max:70,name:'Fat percentage'}, pctError));
    gPerKg.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerKg.closest('.metric-only').hidden) requiredNumber(gPerKg, {min:0.3,max:1.5,name:'Grams per kg'}, gkgError) });
    gPerLb.addEventListener('blur', () => { if (!kgGroup.hidden && !gPerLb.closest('.us-only').hidden) requiredNumber(gPerLb, {min:0.15,max:0.7,name:'Grams per lb'}, glbError) });

    // Live compute on changes
    $$('#fat-calculator input, #fat-calculator select').forEach(el => {
      el.addEventListener('input', debounce(compute, 50));
      el.addEventListener('change', debounce(compute, 50));
    });

    function debounce(fn, ms){
      let t; return function(...args){ clearTimeout(t); t = setTimeout(() => fn.apply(this,args), ms); }
    }

    // Main compute
    function compute(){
      // Determine calories to use
      let calories = null;

      if (calSrcDirect.checked){
        const v = Number(dailyCalories.value);
        if (Number.isFinite(v) && v >= 800 && v <= 10000) calories = v;
      } else {
        // TDEE path
        const isUS = unitsUS.checked;
        const s = sexMale.checked ? 'male' : 'female';
        const a = Number(age.value);
        let h_cm, w_kg;

        if (isUS){
          const ft = Number(heightFt.value);
          const inch = Number(heightIn.value);
          const lb = Number(weightLb.value);
          if (Number.isFinite(ft) && Number.isFinite(inch)) h_cm = toCm(ft, inch);
          if (Number.isFinite(lb)) w_kg = lbToKg(lb);
        } else {
          const cm = Number(heightCm.value);
          const kg = Number(weightKg.value);
          if (Number.isFinite(cm)) h_cm = cm;
          if (Number.isFinite(kg)) w_kg = kg;
        }

        const act = Number(activity.value);
        const g = goal.value;
        let adjPct = Number(goalPct.value);
        if (!Number.isFinite(adjPct)) adjPct = g === 'maintain' ? 0 : (g === 'lose' ? -15 : 10);
        if (g === 'maintain') adjPct = 0;
        if (g === 'lose' && adjPct > 0) adjPct = -Math.abs(adjPct);
        if (g === 'gain' && adjPct < 0) adjPct = Math.abs(adjPct);

        // Validate
        const ok = Number.isFinite(a) && a>=14 && a<=80 &&
                   Number.isFinite(h_cm) && h_cm>=120 && h_cm<=220 &&
                   Number.isFinite(w_kg) && w_kg>=35 && w_kg<=250 &&
                   Number.isFinite(act) && act>=1.2 && act<=1.9;

        if (ok){
          const BMR = (s === 'male')
            ? (10*w_kg + 6.25*h_cm - 5*a + 5)
            : (10*w_kg + 6.25*h_cm - 5*a - 161);
          const TDEE = BMR * act;
          calories = TDEE * (1 + (adjPct/100));
        }
      }

      // If we have calories, compute fat targets
      let fatGrams = null, fatCals = null, fatPctEq = null;

      if (Number.isFinite(calories) && calories > 0){
        if (fatByPct.checked){
          const p = Number(fatPercent.value);
          if (Number.isFinite(p) && p >= 10 && p <= 70){
            fatCals = calories * (p/100);
            fatGrams = fatCals / 9;
            fatPctEq = p;
          }
        } else {
          const isUS = unitsUS.checked;
          if (isUS){
            const glb = Number(gPerLb.value);
            const lb = Number(weightLb.value);
            if (Number.isFinite(glb) && Number.isFinite(lb) && glb>=0.15 && glb<=0.7 && lb>=80 && lb<=550){
              fatGrams = glb * lb;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          } else {
            const gkg = Number(gPerKg.value);
            const kg = Number(weightKg.value);
            if (Number.isFinite(gkg) && Number.isFinite(kg) && gkg>=0.3 && gkg<=1.5 && kg>=35 && kg<=250){
              fatGrams = gkg * kg;
              fatCals = fatGrams * 9;
              fatPctEq = (fatCals / calories) * 100;
            }
          }
        }
      }

      // Recommended range and saturated fat limit
      let rangeStr = '—';
      let satStr = '—';
      if (Number.isFinite(calories) && calories > 0){
        const minG = (calories * 0.20) / 9;
        const maxG = (calories * 0.35) / 9;
        rangeStr = `${fmt(minG,0)}–${fmt(maxG,0)} g/day`;
        const satPct = Number(satLimit.value);
        const satG = Number.isFinite(satPct) ? (calories * (satPct/100)) / 9 : (calories * 0.10) / 9;
        satStr = `${fmt(satG,0)} g/day (≤${fmt(satPct||10,0)}%)`;
      }

      // Write results
      resCalories.textContent = Number.isFinite(calories) ? `${fmt(calories,0)} kcal` : '—';
      resFat.textContent = Number.isFinite(fatGrams) ? `${fmt(fatGrams,0)} g/day` : '—';
      resFatCals.textContent = Number.isFinite(fatCals) ? `${fmt(fatCals,0)} kcal/day` : '—';
      resFatPct.textContent = Number.isFinite(fatPctEq) ? `${fmt(fatPctEq,0)} %` : '—';
      resRange.textContent = rangeStr;
      resSat.textContent = satStr;
    }

    // Initialize defaults
    setUnits('metric');
    setCalSrc('direct');
    setFatMethod('percent');
    compute();

    // Accessibility: close any open tooltip on outside click
    document.addEventListener('click', (e) => {
      tooltips.forEach(({btn, panel}) => {
        if (!btn.contains(e.target) && !panel.contains(e.target)){
          btn.setAttribute('aria-expanded','false');
          panel.setAttribute('aria-hidden','true');
        }
      });
    });
    // Keep goalPct sign in sync with selection
    goal.addEventListener('change', () => {
      const g = goal.value;
      let v = Number(goalPct.value);
      if (!Number.isFinite(v)) v = g==='lose' ? -15 : (g==='gain' ? 10 : 0);
      if (g==='maintain') v = 0;
      if (g==='lose' && v>0) v = -Math.abs(v);
      if (g==='gain' && v<0) v = Math.abs(v);
      goalPct.value = v;
      compute();
    });
  })();
  </script>

<footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>








</body></html>
