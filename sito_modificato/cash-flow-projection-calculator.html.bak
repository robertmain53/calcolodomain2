<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/cash-flow-projection-calculator" />
    <title>Cash Flow Projection Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Cash Flow Projection Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Cash Flow Projection Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Cash Flow Projection Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/cash-flow-projection-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Cash Flow Projection Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Cash Flow Projection Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Cash Flow Projection Calculator: 36\u2011Month Forecast with Charts & Scenarios",
        "description": "Use our interactive cash flow projection calculator to forecast monthly cash in & out, visualize balances, test scenarios, and export your 36\u2011month cash flow plan.",
        "url": "https://calcdomain.com/cash-flow-projection-calculator",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Finance",
              "item": "https://calcdomain.com/categories/finance"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Business & Small Biz",
              "item": "https://calcdomain.com/business-small-biz"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Cash Flow Projection Calculator",
              "item": "https://calcdomain.com/cash-flow-projection-calculator"
            }
          ]
        },
        "mainEntity": {
          "@type": "FAQPage",
          "name": "Cash Flow Projection Calculator FAQ",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What is a cash flow projection calculator?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "A cash flow projection calculator helps you forecast how much cash will flow into and out of your business over time. You enter your starting cash balance, expected inflows (like sales and loan proceeds), and outflows (like payroll, rent, and loan payments). The calculator then shows your net cash flow and ending cash balance for each period so you can see when you might run short or have surplus cash."
              }
            },
            {
              "@type": "Question",
              "name": "How far ahead should I project cash flow?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Most small businesses project cash flow monthly for 12 to 24 months. Our calculator supports up to 36 months. Shorter horizons (3\u20136 months) are best for detailed operational planning, while longer horizons (12\u201136 months) are useful for strategic planning, fundraising, and loan applications."
              }
            },
            {
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For each period, the basic cash flow projection formula is: Ending Cash Balance = Beginning Cash Balance + Total Cash Inflows \u2013 Total Cash Outflows. Beginning cash for a period equals the ending cash from the previous period. Our calculator applies this formula across all months in your projection."
              }
            },
            {
              "@type": "Question",
              "name": "What is a good cash buffer for a small business?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Many advisors recommend keeping a cash buffer equal to 2\u20133 months of operating expenses. The right amount depends on how volatile your cash flows are, how quickly you can access credit, and your risk tolerance. Our calculator highlights months where your projected cash balance falls below a minimum buffer you set."
              }
            },
            {
              "@type": "Question",
              "name": "How often should I update my cash flow projection?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Update your cash flow projection at least monthly, or more often if your business is growing quickly or facing uncertainty. Replace projected numbers with actuals as they occur, then roll the forecast forward so you always have 3\u20136 months of detailed visibility ahead."
              }
            }
          ]
        }
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Business & Small Biz Calculators", "item": "https://calcdomain.com/subcategories/business-small-biz"}, {"@type": "ListItem", "position": 4, "name": "Cash Flow Projection Calculator", "item": "https://calcdomain.com/cash-flow-projection-calculator"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/business-small-biz" class="text-blue-600 hover:underline">Business &amp; Small Biz Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Cash Flow Projection Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Cash Flow Projection Calculator
              </h1>
              <p class="text-gray-600">
                Build a 36‑month cash flow forecast with monthly inflows,
                outflows, charts, and scenario testing. See when cash gets tight
                and how much buffer you need.
              </p>
            </header>

            <!-- Calculator Controls -->
            <section
              aria-labelledby="projection-settings"
              class="mb-6 space-y-4"
            >
              <h2 id="projection-settings" class="text-xl font-semibold">
                Projection settings
              </h2>
              <div class="grid md:grid-cols-3 gap-4">
                <div>
                  <label
                    for="start-month"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Start month</label
                  >
                  <input
                    type="month"
                    id="start-month"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label
                    for="months"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Number of months</label
                  >
                  <select
                    id="months"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  >
                    <option value="6">6 months</option>
                    <option value="12" selected>12 months</option>
                    <option value="18">18 months</option>
                    <option value="24">24 months</option>
                    <option value="36">36 months</option>
                  </select>
                </div>
                <div>
                  <label
                    for="currency"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Currency symbol</label
                  >
                  <input
                    type="text"
                    id="currency"
                    value="$"
                    maxlength="3"
                    class="w-24 border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>
              <div class="grid md:grid-cols-3 gap-4">
                <div>
                  <label
                    for="opening-balance"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Opening cash balance</label
                  >
                  <input
                    type="number"
                    id="opening-balance"
                    class="number-input w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    value="25000"
                  />
                </div>
                <div>
                  <label
                    for="min-buffer"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Minimum cash buffer</label
                  >
                  <input
                    type="number"
                    id="min-buffer"
                    class="number-input w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    value="10000"
                  />
                </div>
                <div class="flex items-end gap-2">
                  <button
                    id="reset-defaults"
                    type="button"
                    class="mt-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50"
                  >
                    Reset to example data
                  </button>
                </div>
              </div>
            </section>

            <!-- Categories for Inflows / Outflows -->
            <section aria-labelledby="categories" class="mb-6">
              <h2 id="categories" class="text-xl font-semibold mb-3">
                Cash in &amp; cash out categories
              </h2>
              <p class="text-sm text-gray-600 mb-3">
                Define the main types of cash inflows (e.g., sales, loans) and
                outflows (e.g., payroll, rent). You can then enter monthly
                amounts for each category.
              </p>
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Inflows -->
                <div>
                  <h3 class="font-semibold mb-2 text-green-700">
                    Cash inflows
                  </h3>
                  <ul id="inflow-category-list" class="space-y-2 mb-2"></ul>
                  <div class="flex gap-2">
                    <input
                      type="text"
                      id="new-inflow-name"
                      placeholder="Add inflow category"
                      class="flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                    <button
                      id="add-inflow"
                      type="button"
                      class="px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700"
                    >
                      Add
                    </button>
                  </div>
                </div>
                <!-- Outflows -->
                <div>
                  <h3 class="font-semibold mb-2 text-red-700">Cash outflows</h3>
                  <ul id="outflow-category-list" class="space-y-2 mb-2"></ul>
                  <div class="flex gap-2">
                    <input
                      type="text"
                      id="new-outflow-name"
                      placeholder="Add outflow category"
                      class="flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent"
                    />
                    <button
                      id="add-outflow"
                      type="button"
                      class="px-3 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700"
                    >
                      Add
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Scenario Slider -->
            <section aria-labelledby="scenario" class="mb-6">
              <h2 id="scenario" class="text-xl font-semibold mb-3">
                Scenario testing
              </h2>
              <p class="text-sm text-gray-600 mb-2">
                Quickly test best‑case / worst‑case scenarios by scaling all
                inflows and outflows.
              </p>
              <div class="flex flex-col md:flex-row md:items-center gap-4">
                <div class="flex-1">
                  <label
                    for="scenario-slider"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Scenario adjustment (<span id="scenario-label"
                      >Base case</span
                    >)
                  </label>
                  <input
                    id="scenario-slider"
                    type="range"
                    min="-30"
                    max="30"
                    value="0"
                    class="w-full"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Negative values reduce inflows and increase outflows (stress
                    test). Positive values increase inflows and reduce outflows.
                  </p>
                </div>
                <button
                  id="reset-scenario"
                  type="button"
                  class="self-start px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50"
                >
                  Reset scenario
                </button>
              </div>
            </section>

            <!-- Monthly Table -->
            <section aria-labelledby="projection-table" class="mb-8">
              <h2 id="projection-table" class="text-xl font-semibold mb-3">
                Monthly cash flow projection
              </h2>
              <div class="border border-gray-200 rounded-md overflow-hidden">
                <div class="max-h-96 overflow-auto table-sticky">
                  <table class="min-w-full text-xs md:text-sm">
                    <thead>
                      <tr>
                        <th
                          class="px-3 py-2 border-b text-left font-semibold bg-gray-50"
                        >
                          Month
                        </th>
                        <th
                          class="px-3 py-2 border-b text-right font-semibold bg-green-50 text-green-800"
                        >
                          Total inflows
                        </th>
                        <th
                          class="px-3 py-2 border-b text-right font-semibold bg-red-50 text-red-800"
                        >
                          Total outflows
                        </th>
                        <th
                          class="px-3 py-2 border-b text-right font-semibold bg-gray-50"
                        >
                          Net cash flow
                        </th>
                        <th
                          class="px-3 py-2 border-b text-right font-semibold bg-gray-50"
                        >
                          Ending balance
                        </th>
                      </tr>
                    </thead>
                    <tbody id="projection-body">
                      <!-- Rows injected by JS -->
                    </tbody>
                  </table>
                </div>
              </div>
              <p id="warning-text" class="mt-3 text-sm text-red-600 hidden"></p>
            </section>

            <!-- Charts & Summary -->
            <section aria-labelledby="charts-summary" class="mb-8">
              <h2 id="charts-summary" class="text-xl font-semibold mb-3">
                Charts &amp; key metrics
              </h2>
              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-3">
                  <h3 class="font-semibold text-gray-800">
                    Cash balance over time
                  </h3>
                  <canvas id="balance-chart" class="w-full h-48"></canvas>
                </div>
                <div class="space-y-3">
                  <h3 class="font-semibold text-gray-800">
                    Monthly net cash flow
                  </h3>
                  <canvas id="net-chart" class="w-full h-48"></canvas>
                </div>
              </div>
              <div class="mt-6 grid md:grid-cols-4 gap-4 text-sm">
                <div class="p-3 rounded-md bg-gray-50">
                  <div class="text-gray-500">Lowest balance</div>
                  <div id="metric-lowest" class="text-lg font-semibold">–</div>
                </div>
                <div class="p-3 rounded-md bg-gray-50">
                  <div class="text-gray-500">Month of lowest balance</div>
                  <div id="metric-lowest-month" class="text-lg font-semibold">
                    –
                  </div>
                </div>
                <div class="p-3 rounded-md bg-gray-50">
                  <div class="text-gray-500">Months below buffer</div>
                  <div id="metric-below-buffer" class="text-lg font-semibold">
                    –
                  </div>
                </div>
                <div class="p-3 rounded-md bg-gray-50">
                  <div class="text-gray-500">Ending balance</div>
                  <div id="metric-ending" class="text-lg font-semibold">–</div>
                </div>
              </div>
            </section>

            <!-- Export -->
            <section aria-labelledby="export" class="mb-10">
              <h2 id="export" class="text-xl font-semibold mb-3">
                Export your projection
              </h2>
              <div class="flex flex-wrap gap-3">
                <button
                  id="download-csv"
                  type="button"
                  class="px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700"
                >
                  Download CSV
                </button>
                <button
                  id="copy-table"
                  type="button"
                  class="px-4 py-2 border border-gray-300 text-sm rounded-md hover:bg-gray-50"
                >
                  Copy summary table
                </button>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                Paste the CSV into Excel, Google Sheets, or your accounting
                software to refine your cash flow forecast.
              </p>
            </section>

            <!-- Explanatory Content -->
            <section class="prose">
              <h2>How this cash flow projection calculator works</h2>
              <p>
                This tool builds a forward-looking
                <strong>cash flow forecast</strong> for your business. You
                define your starting cash, expected monthly cash inflows and
                outflows, and the calculator computes your
                <strong>net cash flow</strong> and
                <strong>ending cash balance</strong> for each month.
              </p>

              <h3>Core formula</h3>
              <div class="formula-box">
                <p><strong>For each month t:</strong></p>
                <p>
                  <code
                    >Ending Cash<sub>t</sub> = Beginning Cash<sub>t</sub> +
                    Total Inflows<sub>t</sub> − Total Outflows<sub>t</sub></code
                  >
                </p>
                <p>
                  and
                  <code
                    >Beginning Cash<sub>t</sub> = Ending Cash<sub
                      >t−1</sub
                    ></code
                  >
                </p>
              </div>

              <h3>Typical inflow categories</h3>
              <ul>
                <li>
                  <strong>Sales receipts</strong> – cash collected from
                  customers (not invoices issued).
                </li>
                <li>
                  <strong>Other income</strong> – interest, grants, refunds,
                  etc.
                </li>
                <li>
                  <strong>Owner investment or loans</strong> – capital
                  injections, new borrowing.
                </li>
              </ul>

              <h3>Typical outflow categories</h3>
              <ul>
                <li>
                  <strong>Payroll</strong> – salaries, wages, benefits, payroll
                  taxes.
                </li>
                <li>
                  <strong>Rent &amp; utilities</strong> – office, warehouse,
                  internet, electricity.
                </li>
                <li>
                  <strong>Cost of goods / inventory</strong> – materials,
                  manufacturing, stock purchases.
                </li>
                <li>
                  <strong>Marketing &amp; overhead</strong> – ads, software,
                  insurance, professional fees.
                </li>
                <li>
                  <strong>Debt service</strong> – loan principal and interest
                  payments.
                </li>
              </ul>

              <h2>Interpreting your cash flow forecast</h2>
              <h3>1. Watch for negative balances</h3>
              <p>
                If any month shows a <strong>negative ending balance</strong>,
                you are projected to run out of cash. You may need to:
              </p>
              <ul>
                <li>Delay or reduce discretionary spending.</li>
                <li>
                  Speed up collections (shorter payment terms, deposits,
                  follow‑ups).
                </li>
                <li>Arrange a line of credit or short‑term financing.</li>
              </ul>

              <h3>2. Set a realistic cash buffer</h3>
              <p>
                Many small businesses target a buffer of
                <strong>2–3 months of operating expenses</strong>. Use the
                “Minimum cash buffer” field to highlight months where your
                balance falls below that level.
              </p>

              <h3>3. Use scenarios to stress‑test</h3>
              <p>
                The scenario slider lets you apply a percentage shock to all
                inflows and outflows at once:
              </p>
              <ul>
                <li>
                  <strong>−20%</strong> scenario: inflows drop 20%, outflows
                  rise 20% (recession stress test).
                </li>
                <li>
                  <strong>+15%</strong> scenario: inflows up 15%, outflows down
                  15% (efficiency / growth case).
                </li>
              </ul>
              <p>
                Compare how many months fall below your buffer in each scenario
                to understand your risk.
              </p>

              <h2>Best practices for cash flow projections</h2>
              <ol>
                <li>
                  <strong>Update monthly.</strong> Replace forecasted numbers
                  with actuals and roll the forecast forward.
                </li>
                <li>
                  <strong>Be conservative.</strong> Slightly underestimate
                  inflows and overestimate outflows.
                </li>
                <li>
                  <strong>Align with your P&amp;L.</strong> Cash flow is
                  different from profit; reconcile major differences.
                </li>
                <li>
                  <strong>Plan for big one‑offs.</strong> Include tax payments,
                  equipment purchases, and seasonal swings.
                </li>
              </ol>
            </section>

            <section class="prose mt-8">
              <h2>Cash Flow Projection Calculator FAQ</h2>

              <h3>What is a cash flow projection calculator?</h3>
              <p>
                It’s a planning tool that estimates how much cash your business
                will have in the future by combining your starting cash,
                expected cash receipts, and expected cash payments over time.
              </p>

              <h3>Is this the same as a profit and loss forecast?</h3>
              <p>
                No. A profit and loss (P&amp;L) forecast is based on
                <strong>accrual accounting</strong> (when revenue is earned and
                expenses are incurred). A cash flow projection focuses only on
                <strong>when cash actually moves</strong> in or out of your bank
                account.
              </p>

              <h3>Can I use this for startups and side hustles?</h3>
              <p>
                Yes. The calculator is flexible enough for freelancers, side
                hustles, and early‑stage startups that need to understand their
                runway and funding needs.
              </p>

              <h3>Can I export to Excel or Google Sheets?</h3>
              <p>
                Yes. Use the <strong>Download CSV</strong> button and open the
                file in Excel, Google Sheets, or Numbers to customize the
                layout, add more detail, or integrate with your broader
                financial model.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Cash, Flow, Projection, Calculator, Start month Number of months 6 months 12 months 18 months 24 months 36 months Currency symbol Opening cash balance Minimum cash buffer Reset to example data Cash in &amp; cash out categories Define the main types of cash inflows (e.g., sales, loans) and outflows (e.g., payroll, rent). You can then enter monthly amounts for each category. Cash inflows Add Cash outflows Add Scenario testing Quickly test best‑case / worst‑case scenarios by scaling all inflows and outflows. Scenario adjustment ( Base case ).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Start month Number of months 6 months 12 months 18 months 24 months 36 months Currency symbol Opening cash balance Minimum cash buffer Reset to example data Cash in &amp; cash out categories Define the main types of cash inflows (e.g., sales, loans) and outflows (e.g., payroll, rent). You can then enter monthly amounts for each category. Cash inflows Add Cash outflows Add Scenario testing Quickly test best‑case / worst‑case scenarios by scaling all inflows and outflows. Scenario adjustment ( Base case )</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Cash, Flow, Projection, Calculator, Start month Number of months 6 months 12 months 18 months 24 months 36 months Currency symbol Opening cash balance Minimum cash buffer Reset to example data Cash in &amp; cash out categories Define the main types of cash inflows (e.g., sales, loans) and outflows (e.g., payroll, rent). You can then enter monthly amounts for each category. Cash inflows Add Cash outflows Add Scenario testing Quickly test best‑case / worst‑case scenarios by scaling all inflows and outflows. Scenario adjustment ( Base case ).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Start month Number of months 6 months 12 months 18 months 24 months 36 months Currency symbol Opening cash balance Minimum cash buffer Reset to example data Cash in &amp; cash out categories Define the main types of cash inflows (e.g., sales, loans) and outflows (e.g., payroll, rent). You can then enter monthly amounts for each category. Cash inflows Add Cash outflows Add Scenario testing Quickly test best‑case / worst‑case scenarios by scaling all inflows and outflows. Scenario adjustment ( Base case )</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Business &amp; Small Biz tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/break-even-calculator"
                  class="text-blue-600 hover:underline"
                  >Break Even</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-flow-projection-calculator"
                  class="text-blue-600 hover:underline font-semibold"
                  >Cash Flow Projection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/profit-margin-calculator"
                  class="text-blue-600 hover:underline"
                  >Profit Margin</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/break-even-analysis"
                  class="text-blue-600 hover:underline"
                  >Break-even Point (Advanced)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-valuation-calculator"
                  class="text-blue-600 hover:underline"
                  >Business Valuation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-conversion-cycle"
                  class="text-blue-600 hover:underline"
                  >Cash Conversion Cycle</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/startup-costs"
                  class="text-blue-600 hover:underline"
                  >Startup Costs</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/commission"
                  class="text-blue-600 hover:underline"
                  >Commission</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cash-flow-statement"
                  class="text-blue-600 hover:underline"
                  >Cash Flow Statement</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/business-finance-and-ratios"
                  class="text-blue-600 hover:underline"
                  >Business Finance &amp; Ratios Hub</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Why cash flow matters</h2>
            <p class="text-sm text-gray-700 mb-2">
              Profitable businesses still fail if they run out of cash. A simple
              projection helps you:
            </p>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>See cash crunches months in advance.</li>
              <li>Decide when to hire, invest, or slow spending.</li>
              <li>Support bank loan and investor discussions.</li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
      // Utility helpers
      function formatCurrency(value, symbol) {
        if (isNaN(value)) return symbol + "0";
        const sign = value < 0 ? "-" : "";
        const abs = Math.abs(value);
        return (
          sign +
          symbol +
          abs.toLocaleString(undefined, { maximumFractionDigits: 0 })
        );
      }

      function getStartMonthLabel(offset, startDate) {
        const d = new Date(startDate.getTime());
        d.setMonth(d.getMonth() + offset);
        return d.toLocaleDateString(undefined, {
          month: "short",
          year: "numeric",
        });
      }

      // State
      const state = {
        months: 12,
        startDate: new Date(),
        currency: "$",
        openingBalance: 25000,
        minBuffer: 10000,
        inflowCategories: [],
        outflowCategories: [],
        scenarioPct: 0, // -30..30
      };

      // Default categories with simple patterns (for 12 months, can be extended)
      function buildDefaultSeries(base, growthPct, months) {
        const arr = [];
        let value = base;
        for (let i = 0; i < months; i++) {
          arr.push(Math.round(value));
          value *= 1 + growthPct / 100;
        }
        return arr;
      }

      function initDefaults() {
        const m = state.months;
        state.inflowCategories = [
          {
            id: "sales",
            name: "Sales receipts",
            values: buildDefaultSeries(30000, 2, m),
          },
          {
            id: "other",
            name: "Other income",
            values: buildDefaultSeries(2000, 0, m),
          },
        ];
        state.outflowCategories = [
          {
            id: "payroll",
            name: "Payroll",
            values: buildDefaultSeries(15000, 1, m),
          },
          { id: "rent", name: "Rent & utilities", values: Array(m).fill(5000) },
          {
            id: "marketing",
            name: "Marketing & overhead",
            values: buildDefaultSeries(4000, 1, m),
          },
          { id: "loan", name: "Loan payments", values: Array(m).fill(2500) },
        ];
      }

      // DOM references
      const monthsSelect = document.getElementById("months");
      const startMonthInput = document.getElementById("start-month");
      const currencyInput = document.getElementById("currency");
      const openingBalanceInput = document.getElementById("opening-balance");
      const minBufferInput = document.getElementById("min-buffer");
      const inflowList = document.getElementById("inflow-category-list");
      const outflowList = document.getElementById("outflow-category-list");
      const projectionBody = document.getElementById("projection-body");
      const warningText = document.getElementById("warning-text");
      const scenarioSlider = document.getElementById("scenario-slider");
      const scenarioLabel = document.getElementById("scenario-label");
      const resetScenarioBtn = document.getElementById("reset-scenario");
      const resetDefaultsBtn = document.getElementById("reset-defaults");
      const downloadCsvBtn = document.getElementById("download-csv");
      const copyTableBtn = document.getElementById("copy-table");

      const metricLowest = document.getElementById("metric-lowest");
      const metricLowestMonth = document.getElementById("metric-lowest-month");
      const metricBelowBuffer = document.getElementById("metric-below-buffer");
      const metricEnding = document.getElementById("metric-ending");

      let balanceChart, netChart;

      function syncInputsToState() {
        state.months = parseInt(monthsSelect.value, 10) || 12;
        state.currency = currencyInput.value || "$";
        state.openingBalance = parseFloat(openingBalanceInput.value) || 0;
        state.minBuffer = parseFloat(minBufferInput.value) || 0;

        const val = startMonthInput.value;
        if (val) {
          const [year, month] = val.split("-").map(Number);
          state.startDate = new Date(year, month - 1, 1);
        } else {
          const now = new Date();
          state.startDate = new Date(now.getFullYear(), now.getMonth(), 1);
        }

        // Ensure category arrays match months length
        function resizeSeries(catArr) {
          catArr.forEach((cat) => {
            if (!Array.isArray(cat.values)) cat.values = [];
            if (cat.values.length < state.months) {
              const last = cat.values.length
                ? cat.values[cat.values.length - 1]
                : 0;
              while (cat.values.length < state.months) cat.values.push(last);
            } else if (cat.values.length > state.months) {
              cat.values = cat.values.slice(0, state.months);
            }
          });
        }
        resizeSeries(state.inflowCategories);
        resizeSeries(state.outflowCategories);
      }

      function renderCategoryList(listEl, categories, type) {
        listEl.innerHTML = "";
        categories.forEach((cat, idx) => {
          const li = document.createElement("li");
          li.className = "flex items-center justify-between gap-2";
          li.innerHTML = `
        <input type="text" data-type="${type}" data-index="${idx}" value="${cat.name}"
               class="flex-1 border border-gray-200 rounded-md px-2 py-1 text-xs focus:ring-1 focus:ring-blue-500 focus:border-transparent" />
        <button type="button" data-action="remove" data-type="${type}" data-index="${idx}"
                class="px-2 py-1 text-xs text-red-600 hover:text-red-800">Remove</button>
      `;
          listEl.appendChild(li);
        });
      }

      function applyScenario(value, isInflow) {
        const pct = state.scenarioPct / 100;
        if (pct === 0) return value;
        if (isInflow) {
          return value * (1 + pct);
        } else {
          return value * (1 - pct);
        }
      }

      function calculateProjection() {
        const months = state.months;
        const labels = [];
        const totalInflows = [];
        const totalOutflows = [];
        const netFlows = [];
        const balances = [];

        let balance = state.openingBalance;
        for (let i = 0; i < months; i++) {
          labels.push(getStartMonthLabel(i, state.startDate));

          let inflow = 0;
          state.inflowCategories.forEach((cat) => {
            inflow += applyScenario(cat.values[i] || 0, true);
          });

          let outflow = 0;
          state.outflowCategories.forEach((cat) => {
            outflow += applyScenario(cat.values[i] || 0, false);
          });

          const net = inflow - outflow;
          balance += net;

          totalInflows.push(inflow);
          totalOutflows.push(outflow);
          netFlows.push(net);
          balances.push(balance);
        }

        return { labels, totalInflows, totalOutflows, netFlows, balances };
      }

      function renderProjectionTable(data) {
        const { labels, totalInflows, totalOutflows, netFlows, balances } =
          data;
        projectionBody.innerHTML = "";
        let anyBelowZero = false;
        let anyBelowBuffer = false;

        labels.forEach((label, i) => {
          const tr = document.createElement("tr");
          const bal = balances[i];
          const net = netFlows[i];
          const belowZero = bal < 0;
          const belowBuffer = bal < state.minBuffer;

          if (belowZero) anyBelowZero = true;
          if (belowBuffer) anyBelowBuffer = true;

          tr.className = belowZero
            ? "bg-red-50"
            : belowBuffer
            ? "bg-yellow-50"
            : "";
          tr.innerHTML = `
        <td class="px-3 py-2 border-b text-left whitespace-nowrap">${label}</td>
        <td class="px-3 py-2 border-b text-right text-green-700">${formatCurrency(
          totalInflows[i],
          state.currency
        )}</td>
        <td class="px-3 py-2 border-b text-right text-red-700">${formatCurrency(
          totalOutflows[i],
          state.currency
        )}</td>
        <td class="px-3 py-2 border-b text-right ${
          net < 0 ? "text-red-700" : "text-green-700"
        }">${formatCurrency(net, state.currency)}</td>
        <td class="px-3 py-2 border-b text-right font-medium ${
          belowZero
            ? "text-red-800"
            : belowBuffer
            ? "text-yellow-800"
            : "text-gray-900"
        }">
          ${formatCurrency(bal, state.currency)}
        </td>
      `;
          projectionBody.appendChild(tr);
        });

        if (anyBelowZero) {
          warningText.textContent =
            "Warning: Your projection shows at least one month with a negative cash balance. Consider reducing spending, improving collections, or arranging financing.";
          warningText.classList.remove("hidden");
        } else if (anyBelowBuffer) {
          warningText.textContent =
            "Note: Some months fall below your minimum cash buffer. You may want to build a larger cash reserve.";
          warningText.classList.remove("hidden");
        } else {
          warningText.classList.add("hidden");
        }
      }

      function renderMetrics(data) {
        const { labels, balances } = data;
        if (!balances.length) return;

        let lowest = balances[0];
        let lowestIdx = 0;
        let belowBufferCount = 0;
        balances.forEach((b, i) => {
          if (b < lowest) {
            lowest = b;
            lowestIdx = i;
          }
          if (b < state.minBuffer) belowBufferCount++;
        });

        metricLowest.textContent = formatCurrency(lowest, state.currency);
        metricLowestMonth.textContent = labels[lowestIdx] || "–";
        metricBelowBuffer.textContent = belowBufferCount.toString();
        metricEnding.textContent = formatCurrency(
          balances[balances.length - 1],
          state.currency
        );
      }

      function renderCharts(data) {
        const ctxBalance = document
          .getElementById("balance-chart")
          .getContext("2d");
        const ctxNet = document.getElementById("net-chart").getContext("2d");

        const { labels, balances, netFlows } = data;

        if (balanceChart) balanceChart.destroy();
        if (netChart) netChart.destroy();

        balanceChart = new Chart(ctxBalance, {
          type: "line",
          data: {
            labels,
            datasets: [
              {
                label: "Ending cash balance",
                data: balances,
                borderColor: "#2563eb",
                backgroundColor: "rgba(37, 99, 235, 0.1)",
                tension: 0.2,
                fill: true,
                pointRadius: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: {
                ticks: {
                  callback: (val) => formatCurrency(val, state.currency),
                },
              },
            },
          },
        });

        netChart = new Chart(ctxNet, {
          type: "bar",
          data: {
            labels,
            datasets: [
              {
                label: "Net cash flow",
                data: netFlows,
                backgroundColor: netFlows.map((v) =>
                  v >= 0 ? "rgba(22, 163, 74, 0.7)" : "rgba(220, 38, 38, 0.7)"
                ),
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: {
                ticks: {
                  callback: (val) => formatCurrency(val, state.currency),
                },
              },
            },
          },
        });
      }

      function updateScenarioLabel() {
        const pct = state.scenarioPct;
        if (pct === 0) {
          scenarioLabel.textContent = "Base case";
        } else if (pct > 0) {
          scenarioLabel.textContent = `Optimistic (+${pct}% inflows, −${pct}% outflows)`;
        } else {
          scenarioLabel.textContent = `Stress (−${Math.abs(
            pct
          )}% inflows, +${Math.abs(pct)}% outflows)`;
        }
      }

      function recalcAndRender() {
        syncInputsToState();
        renderCategoryList(inflowList, state.inflowCategories, "inflow");
        renderCategoryList(outflowList, state.outflowCategories, "outflow");
        const data = calculateProjection();
        renderProjectionTable(data);
        renderMetrics(data);
        renderCharts(data);
      }

      // Event handlers
      monthsSelect.addEventListener("change", () => {
        syncInputsToState();
        recalcAndRender();
      });

      startMonthInput.addEventListener("change", recalcAndRender);
      currencyInput.addEventListener("input", () => {
        state.currency = currencyInput.value || "$";
        recalcAndRender();
      });
      openingBalanceInput.addEventListener("input", recalcAndRender);
      minBufferInput.addEventListener("input", recalcAndRender);

      document.getElementById("add-inflow").addEventListener("click", () => {
        const nameInput = document.getElementById("new-inflow-name");
        const name = nameInput.value.trim();
        if (!name) return;
        state.inflowCategories.push({
          id: "inflow-" + Date.now(),
          name,
          values: Array(state.months).fill(0),
        });
        nameInput.value = "";
        recalcAndRender();
      });

      document.getElementById("add-outflow").addEventListener("click", () => {
        const nameInput = document.getElementById("new-outflow-name");
        const name = nameInput.value.trim();
        if (!name) return;
        state.outflowCategories.push({
          id: "outflow-" + Date.now(),
          name,
          values: Array(state.months).fill(0),
        });
        nameInput.value = "";
        recalcAndRender();
      });

      // Delegate category name changes & removals
      [inflowList, outflowList].forEach((listEl) => {
        listEl.addEventListener("input", (e) => {
          if (e.target.tagName.toLowerCase() === "input") {
            const type = e.target.getAttribute("data-type");
            const idx = parseInt(e.target.getAttribute("data-index"), 10);
            const arr =
              type === "inflow"
                ? state.inflowCategories
                : state.outflowCategories;
            if (arr[idx]) {
              arr[idx].name = e.target.value;
            }
          }
        });

        listEl.addEventListener("click", (e) => {
          const btn = e.target.closest('button[data-action="remove"]');
          if (!btn) return;
          const type = btn.getAttribute("data-type");
          const idx = parseInt(btn.getAttribute("data-index"), 10);
          const arr =
            type === "inflow"
              ? state.inflowCategories
              : state.outflowCategories;
          if (arr[idx]) {
            arr.splice(idx, 1);
            recalcAndRender();
          }
        });
      });

      // Scenario slider
      scenarioSlider.addEventListener("input", () => {
        state.scenarioPct = parseInt(scenarioSlider.value, 10) || 0;
        updateScenarioLabel();
        recalcAndRender();
      });

      resetScenarioBtn.addEventListener("click", () => {
        state.scenarioPct = 0;
        scenarioSlider.value = 0;
        updateScenarioLabel();
        recalcAndRender();
      });

      // Reset defaults
      resetDefaultsBtn.addEventListener("click", () => {
        initDefaults();
        recalcAndRender();
      });

      // Export CSV
      downloadCsvBtn.addEventListener("click", () => {
        const data = calculateProjection();
        const { labels, totalInflows, totalOutflows, netFlows, balances } =
          data;
        const rows = [];
        rows.push([
          "Month",
          "Total inflows",
          "Total outflows",
          "Net cash flow",
          "Ending balance",
        ]);
        labels.forEach((label, i) => {
          rows.push([
            label,
            totalInflows[i].toFixed(2),
            totalOutflows[i].toFixed(2),
            netFlows[i].toFixed(2),
            balances[i].toFixed(2),
          ]);
        });
        const csvContent = rows.map((r) => r.join(",")).join("\n");
        const blob = new Blob([csvContent], {
          type: "text/csv;charset=utf-8;",
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "cash-flow-projection.csv";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      });

      // Copy table summary
      copyTableBtn.addEventListener("click", async () => {
        const data = calculateProjection();
        const { labels, totalInflows, totalOutflows, netFlows, balances } =
          data;
        let text =
          "Month\tTotal inflows\tTotal outflows\tNet cash flow\tEnding balance\n";
        labels.forEach((label, i) => {
          text += `${label}\t${totalInflows[i].toFixed(2)}\t${totalOutflows[
            i
          ].toFixed(2)}\t${netFlows[i].toFixed(2)}\t${balances[i].toFixed(
            2
          )}\n`;
        });
        try {
          await navigator.clipboard.writeText(text);
          copyTableBtn.textContent = "Copied!";
          setTimeout(() => {
            copyTableBtn.textContent = "Copy summary table";
          }, 1500);
        } catch (err) {
          alert("Unable to copy to clipboard in this browser.");
        }
      });

      // Initialize
      (function init() {
        const now = new Date();
        const ym = now.toISOString().slice(0, 7);
        startMonthInput.value = ym;
        initDefaults();
        updateScenarioLabel();
        recalcAndRender();
      })();
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
