<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bodybuilding-macro" />
    <title>Bodybuilding Macro Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Bodybuilding Macro Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bodybuilding Macro Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Bodybuilding Macro Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/bodybuilding-macro" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bodybuilding Macro Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bodybuilding Macro Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Health & Fitness Calculators", "item": "https://calcdomain.com/categories/health-fitness"}, {"@type": "ListItem", "position": 3, "name": "Diet & Nutrition Calculators", "item": "https://calcdomain.com/subcategories/diet-nutrition"}, {"@type": "ListItem", "position": 4, "name": "Bodybuilding Macro Calculator", "item": "https://calcdomain.com/bodybuilding-macro"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/diet-nutrition" class="text-blue-600 hover:underline">Diet &amp; Nutrition Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Bodybuilding Macro Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Bodybuilding Macro Calculator
              </h1>
              <p class="text-gray-600">
                Get science-based macros for bulking, cutting or body
                recomposition, with optional carb cycling for training and rest
                days.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Bodybuilding Macro Calculator
              </h2>
              <form id="macro-form" class="space-y-6">
                <!-- Units & sex -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-1">Units</label>
                    <div class="flex gap-2">
                      <button
                        type="button"
                        data-units="metric"
                        class="unit-btn flex-1 px-3 py-2 text-sm border rounded-md bg-blue-50 border-blue-500 text-blue-700 font-semibold"
                      >
                        Metric (kg, cm)
                      </button>
                      <button
                        type="button"
                        data-units="imperial"
                        class="unit-btn flex-1 px-3 py-2 text-sm border rounded-md bg-white text-gray-700"
                      >
                        Imperial (lb, ft/in)
                      </button>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1">Sex</label>
                    <div class="flex gap-2">
                      <button
                        type="button"
                        data-sex="male"
                        class="sex-btn flex-1 px-3 py-2 text-sm border rounded-md bg-blue-50 border-blue-500 text-blue-700 font-semibold"
                      >
                        Male
                      </button>
                      <button
                        type="button"
                        data-sex="female"
                        class="sex-btn flex-1 px-3 py-2 text-sm border rounded-md bg-white text-gray-700"
                      >
                        Female
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Age, height, weight -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label for="age" class="block text-sm font-medium mb-1"
                      >Age</label
                    >
                    <input
                      id="age"
                      type="number"
                      min="13"
                      max="80"
                      value="28"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    />
                    <p class="text-xs text-gray-500 mt-1">years</p>
                  </div>
                  <div id="height-metric">
                    <label
                      for="height-cm"
                      class="block text-sm font-medium mb-1"
                      >Height</label
                    >
                    <input
                      id="height-cm"
                      type="number"
                      min="120"
                      max="220"
                      value="178"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    />
                    <p class="text-xs text-gray-500 mt-1">cm</p>
                  </div>
                  <div id="height-imperial" class="hidden">
                    <label class="block text-sm font-medium mb-1">Height</label>
                    <div class="flex gap-2">
                      <input
                        id="height-ft"
                        type="number"
                        min="4"
                        max="7"
                        value="5"
                        class="w-1/2 border rounded-md px-3 py-2 text-sm"
                        placeholder="ft"
                      />
                      <input
                        id="height-in"
                        type="number"
                        min="0"
                        max="11"
                        value="10"
                        class="w-1/2 border rounded-md px-3 py-2 text-sm"
                        placeholder="in"
                      />
                    </div>
                    <p class="text-xs text-gray-500 mt-1">feet &amp; inches</p>
                  </div>
                  <div>
                    <label for="weight" class="block text-sm font-medium mb-1"
                      >Current Weight</label
                    >
                    <input
                      id="weight"
                      type="number"
                      min="40"
                      max="200"
                      value="80"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    />
                    <p
                      id="weight-unit-label"
                      class="text-xs text-gray-500 mt-1"
                    >
                      kg
                    </p>
                  </div>
                </div>

                <!-- Goal & experience -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="goal" class="block text-sm font-medium mb-1"
                      >Primary Goal</label
                    >
                    <select
                      id="goal"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    >
                      <option value="recomp">
                        Body Recomposition (gain muscle, lose fat slowly)
                      </option>
                      <option value="cut">Cutting (fat loss priority)</option>
                      <option value="bulk">
                        Lean Bulk (muscle gain priority)
                      </option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="experience"
                      class="block text-sm font-medium mb-1"
                      >Training Experience</label
                    >
                    <select
                      id="experience"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    >
                      <option value="beginner">
                        Beginner (0–1 year lifting)
                      </option>
                      <option value="intermediate" selected>
                        Intermediate (1–3 years)
                      </option>
                      <option value="advanced">Advanced (&gt;3 years)</option>
                    </select>
                  </div>
                </div>

                <!-- Activity & training days -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="activity" class="block text-sm font-medium mb-1"
                      >Daily Activity Level</label
                    >
                    <select
                      id="activity"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    >
                      <option value="sedentary">
                        Sedentary (desk job, little movement)
                      </option>
                      <option value="light">
                        Lightly active (light movement 1–3 days/week)
                      </option>
                      <option value="moderate" selected>
                        Moderately active (training 3–5 days/week)
                      </option>
                      <option value="high">
                        Very active (hard training 6–7 days/week)
                      </option>
                    </select>
                  </div>
                  <div>
                    <label
                      for="training-days"
                      class="block text-sm font-medium mb-1"
                      >Weight Training Days / Week</label
                    >
                    <input
                      id="training-days"
                      type="number"
                      min="1"
                      max="7"
                      value="4"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used for optional carb cycling.
                    </p>
                  </div>
                </div>

                <!-- Carb cycling & fat preference -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label
                      class="flex items-center gap-2 text-sm font-medium mb-1"
                    >
                      <input
                        id="carb-cycling"
                        type="checkbox"
                        class="rounded border-gray-300"
                      />
                      Enable carb cycling (different training/rest day macros)
                    </label>
                    <p class="text-xs text-gray-500">
                      Higher carbs on training days, slightly lower on rest
                      days.
                    </p>
                  </div>
                  <div>
                    <label for="fat-pref" class="block text-sm font-medium mb-1"
                      >Fat Preference</label
                    >
                    <select
                      id="fat-pref"
                      class="w-full border rounded-md px-3 py-2 text-sm"
                    >
                      <option value="balanced" selected>
                        Balanced (default)
                      </option>
                      <option value="higher-fat">
                        Higher fat, lower carbs
                      </option>
                      <option value="lower-fat">Lower fat, higher carbs</option>
                    </select>
                  </div>
                </div>

                <!-- Body fat (optional) -->
                <div>
                  <label for="bodyfat" class="block text-sm font-medium mb-1"
                    >Estimated Body Fat % (optional)</label
                  >
                  <input
                    id="bodyfat"
                    type="number"
                    min="5"
                    max="45"
                    class="w-full border rounded-md px-3 py-2 text-sm"
                    placeholder="Leave empty if unsure"
                  />
                  <p class="text-xs text-gray-500 mt-1">
                    Used to estimate lean body mass for more precise protein
                    targets.
                  </p>
                </div>

                <div class="flex flex-wrap items-center gap-3">
                  <button
                    type="button"
                    id="calculate-btn"
                    class="px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-md"
                  >
                    Calculate macros
                  </button>
                  <button
                    type="button"
                    id="reset-btn"
                    class="px-4 py-2 border border-gray-300 text-sm rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Reset
                  </button>
                  <p id="error-msg" class="text-sm text-red-600"></p>
                </div>
              </form>
            </section>

            <!-- Results -->
            <section id="results-section" class="hidden" aria-live="polite">
              <h2 class="text-xl font-semibold mb-3">
                Your Bodybuilding Macros
              </h2>
              <p class="text-sm text-gray-600 mb-4">
                Use these as a starting point. Track bodyweight and performance
                for 2–3 weeks, then adjust.
              </p>

              <!-- Summary cards -->
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="border rounded-lg p-4 bg-slate-50">
                  <h3
                    class="text-xs font-semibold text-slate-500 uppercase mb-1"
                  >
                    Maintenance Calories (TDEE)
                  </h3>
                  <p
                    id="tdee-display"
                    class="text-2xl font-bold text-slate-900"
                  >
                    –
                  </p>
                  <p class="text-xs text-slate-500 mt-1">
                    Estimated daily calories to maintain weight.
                  </p>
                </div>
                <div class="border rounded-lg p-4 bg-green-50">
                  <h3
                    class="text-xs font-semibold text-green-700 uppercase mb-1"
                  >
                    Target Calories
                  </h3>
                  <p
                    id="target-cal-display"
                    class="text-2xl font-bold text-green-900"
                  >
                    –
                  </p>
                  <p id="target-cal-note" class="text-xs text-green-700 mt-1">
                    Goal-adjusted calories.
                  </p>
                </div>
                <div class="border rounded-lg p-4 bg-indigo-50">
                  <h3
                    class="text-xs font-semibold text-indigo-700 uppercase mb-1"
                  >
                    Protein Target
                  </h3>
                  <p
                    id="protein-summary"
                    class="text-2xl font-bold text-indigo-900"
                  >
                    –
                  </p>
                  <p
                    id="protein-summary-note"
                    class="text-xs text-indigo-700 mt-1"
                  >
                    g/day and g/kg.
                  </p>
                </div>
              </div>

              <!-- Macro tables -->
              <div id="macro-tables" class="space-y-6">
                <!-- Filled by JS -->
              </div>

              <!-- Download / copy -->
              <div class="mt-4 flex flex-wrap gap-3">
                <button
                  type="button"
                  id="copy-plan-btn"
                  class="px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50"
                >
                  Copy macro plan to clipboard
                </button>
                <span id="copy-feedback" class="text-xs text-green-700 hidden"
                  >Plan copied!</span
                >
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose mt-10">
              <h2>How this bodybuilding macro calculator works</h2>
              <p>
                This bodybuilding macro calculator is designed specifically for
                lifters who want practical, gym-focused numbers – not generic
                diet advice. It combines a modern energy expenditure formula
                with evidence-based protein, fat and carb ranges used in
                bodybuilding prep, lean bulks and recomposition phases.
              </p>

              <h3>1. Step 1 – Estimate your maintenance calories (TDEE)</h3>
              <p>
                First we estimate your Basal Metabolic Rate (BMR) using the
                <strong>Mifflin–St Jeor</strong> equation, which is widely
                considered one of the most accurate for active adults:
              </p>
              <div class="formula-box text-sm">
                <p><strong>For men:</strong></p>
                <p>
                  \(\text{BMR} = 10 \times \text{weight (kg)} + 6.25 \times
                  \text{height (cm)} - 5 \times \text{age} + 5\)
                </p>
                <p class="mt-2"><strong>For women:</strong></p>
                <p>
                  \(\text{BMR} = 10 \times \text{weight (kg)} + 6.25 \times
                  \text{height (cm)} - 5 \times \text{age} - 161\)
                </p>
              </div>
              <p>
                Then we multiply BMR by an
                <strong>activity factor</strong> based on your selection:
              </p>
              <ul>
                <li><strong>Sedentary:</strong> × 1.2</li>
                <li><strong>Lightly active:</strong> × 1.375</li>
                <li><strong>Moderately active:</strong> × 1.55</li>
                <li><strong>Very active:</strong> × 1.725</li>
              </ul>
              <p>
                This gives your <strong>TDEE</strong> – the calories you’d need
                to maintain your current weight if your training and activity
                stayed the same.
              </p>

              <h3>
                2. Step 2 – Apply a bodybuilding-specific calorie surplus or
                deficit
              </h3>
              <p>
                Unlike generic macro tools, this calculator uses
                <strong>goal- and experience-based</strong> calorie adjustments
                that reflect realistic muscle gain and fat loss rates for
                natural lifters:
              </p>
              <ul>
                <li>
                  <strong>Cutting:</strong> about
                  <strong>–15% to –22%</strong> below TDEE (smaller deficit for
                  advanced lifters).
                </li>
                <li>
                  <strong>Recomposition:</strong> around
                  <strong>–5% to –10%</strong> below TDEE, prioritizing strength
                  and muscle retention.
                </li>
                <li>
                  <strong>Lean bulk:</strong> about
                  <strong>+5% to +12%</strong> above TDEE (smaller surplus for
                  advanced lifters to limit fat gain).
                </li>
              </ul>
              <p>
                The calculator automatically chooses a value in these ranges
                based on your training experience.
              </p>

              <h3>3. Step 3 – Set protein for muscle gain and retention</h3>
              <p>
                Protein is based on your <strong>lean body mass</strong> if you
                provide body fat %, or on total bodyweight if you don’t. Typical
                bodybuilding ranges are:
              </p>
              <ul>
                <li>
                  <strong>Cutting:</strong> 2.2–2.4 g/kg of bodyweight (or lean
                  mass).
                </li>
                <li><strong>Recomp:</strong> 2.0–2.2 g/kg.</li>
                <li><strong>Lean bulk:</strong> 1.8–2.0 g/kg.</li>
              </ul>
              <p>
                The calculator picks a value within these ranges depending on
                your goal and experience level, then converts it to calories:
              </p>
              <div class="formula-box text-sm">
                <p>
                  \(\text{Protein calories} = \text{Protein grams} \times 4\)
                </p>
              </div>

              <h3>4. Step 4 – Set minimum fats for hormones and health</h3>
              <p>
                Dietary fat is essential for hormone production and joint
                health. We set a minimum of about
                <strong>0.6–0.8 g/kg</strong> of bodyweight, then adjust
                slightly based on your <em>fat preference</em>:
              </p>
              <ul>
                <li><strong>Balanced:</strong> ~0.8 g/kg.</li>
                <li>
                  <strong>Higher fat:</strong> ~1.0 g/kg (slightly fewer carbs).
                </li>
                <li><strong>Lower fat:</strong> ~0.6–0.7 g/kg (more carbs).</li>
              </ul>
              <div class="formula-box text-sm">
                <p>\(\text{Fat calories} = \text{Fat grams} \times 9\)</p>
              </div>

              <h3>5. Step 5 – Fill the rest with carbs for performance</h3>
              <p>
                Whatever calories remain after protein and fat are assigned to
                carbohydrates, which are your primary fuel for heavy lifting and
                high-volume training:
              </p>
              <div class="formula-box text-sm">
                <p>
                  \(\text{Carb calories} = \text{Target calories} -
                  (\text{Protein calories} + \text{Fat calories})\)
                </p>
                <p>\(\text{Carb grams} = \dfrac{\text{Carb calories}}{4}\)</p>
              </div>
              <p>
                This typically lands you in the range of
                <strong>3–7 g/kg</strong> of carbs depending on your goal,
                activity and fat preference.
              </p>

              <h3>6. Optional – Carb cycling for training vs rest days</h3>
              <p>
                If you enable <strong>carb cycling</strong>, the calculator
                keeps your weekly calories similar but shifts carbs:
              </p>
              <ul>
                <li>
                  <strong>Training days:</strong> +10–15% calories from extra
                  carbs.
                </li>
                <li>
                  <strong>Rest days:</strong> –10–15% calories, mostly from
                  carbs.
                </li>
              </ul>
              <p>
                Protein stays the same every day. Fats are adjusted slightly to
                keep calories realistic and easy to implement.
              </p>

              <h2>Interpreting your bodybuilding macros</h2>
              <p>
                The output table shows
                <strong>grams and percentages</strong> for each macro. For most
                bodybuilders:
              </p>
              <ul>
                <li><strong>Protein:</strong> 25–35% of calories.</li>
                <li><strong>Fat:</strong> 20–30% of calories.</li>
                <li>
                  <strong>Carbs:</strong> 35–55% of calories (often higher on
                  training days).
                </li>
              </ul>

              <h3>Recommended weekly rate of change</h3>
              <ul>
                <li>
                  <strong>Cutting:</strong> aim to lose about
                  <strong>0.5–1.0% of bodyweight per week</strong>.
                </li>
                <li>
                  <strong>Recomp:</strong> bodyweight may stay similar while
                  strength and measurements improve.
                </li>
                <li>
                  <strong>Lean bulk:</strong> aim to gain about
                  <strong>0.25–0.5% of bodyweight per month</strong>.
                </li>
              </ul>
              <p>
                If your rate is faster or slower than this, adjust calories by
                about <strong>100–200 kcal</strong> and reassess after another
                1–2 weeks.
              </p>

              <h2>Common bodybuilding macro mistakes</h2>
              <ul>
                <li>
                  <strong>Going too aggressive on a cut:</strong> huge deficits
                  kill performance and muscle. Start with a moderate deficit.
                </li>
                <li>
                  <strong>Bulking too fast:</strong> if you gain weight quickly,
                  most of it is fat. Use a small surplus and be patient.
                </li>
                <li>
                  <strong>Underestimating protein:</strong> especially when
                  cutting. Keep protein high to protect muscle.
                </li>
                <li>
                  <strong>Ignoring consistency:</strong> macros only work if
                  you’re close to your targets most days of the week.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>Do I need to hit my macros exactly?</h3>
              <p>
                No. Think in terms of a <strong>range</strong>. Being within
                ±5–10 g for protein and carbs and ±3–5 g for fats is usually
                good enough. Over a week, consistency matters more than
                perfection on a single day.
              </p>

              <h3>Should I adjust macros on non-lifting cardio days?</h3>
              <p>
                For light to moderate cardio, you can usually keep the same
                macros as your rest days. For very intense or long-duration
                cardio, you may benefit from slightly higher carbs on those
                days.
              </p>

              <h3>Can I use this calculator for contest prep?</h3>
              <p>
                It can provide a solid <strong>starting point</strong>, but
                contest prep often requires more frequent and aggressive
                adjustments, plus individual considerations like peak week
                strategies. Work with a qualified coach if you’re preparing for
                a show.
              </p>

              <h3>Is this bodybuilding macro calculator suitable for keto?</h3>
              <p>
                No. This tool is optimized for
                <strong>carb-based bodybuilding diets</strong> where carbs fuel
                performance. For strict ketogenic approaches, you’d use much
                lower carbs and higher fats than the ranges used here.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Units</li><li>Sex</li><li>Age years Height cm Height</li><li>Current Weight kg Primary Goal Body Recomposition (gain muscle, lose fat slowly) Cutting (fat loss priority) Lean Bulk (muscle gain priority) Training Experience Beginner (0–1 year lifting) Intermediate (1–3 years) Advanced (&gt;3 years) Daily Activity Level Sedentary (desk job, little movement) Lightly active (light movement 1–3 days/week) Moderately active (training 3–5 days/week) Very active (hard training 6–7 days/week) Weight Training Days / Week Used for optional carb cycling. Enable carb cycling (different training/rest day macros)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bodybuilding, Macro, Units, Sex, Age years Height cm Height, Current Weight kg Primary Goal Body Recomposition (gain muscle, lose fat slowly) Cutting (fat loss priority) Lean Bulk (muscle gain priority) Training Experience Beginner (0–1 year lifting) Intermediate (1–3 years) Advanced (&gt;3 years) Daily Activity Level Sedentary (desk job, little movement) Lightly active (light movement 1–3 days/week) Moderately active (training 3–5 days/week) Very active (hard training 6–7 days/week) Weight Training Days / Week Used for optional carb cycling. Enable carb cycling (different training/rest day macros).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Units</li><li>Sex</li><li>Age years Height cm Height</li><li>Current Weight kg Primary Goal Body Recomposition (gain muscle, lose fat slowly) Cutting (fat loss priority) Lean Bulk (muscle gain priority) Training Experience Beginner (0–1 year lifting) Intermediate (1–3 years) Advanced (&gt;3 years) Daily Activity Level Sedentary (desk job, little movement) Lightly active (light movement 1–3 days/week) Moderately active (training 3–5 days/week) Very active (hard training 6–7 days/week) Weight Training Days / Week Used for optional carb cycling. Enable carb cycling (different training/rest day macros)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Diet &amp; Nutrition Tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/carb-calculator"
                  class="text-blue-600 hover:underline"
                  >Carb Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/protein-intake-calculator"
                  class="text-blue-600 hover:underline"
                  >Protein Intake Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calorie-deficit-calculator"
                  class="text-blue-600 hover:underline"
                  >Calorie Deficit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/weight-loss-calculator"
                  class="text-blue-600 hover:underline"
                  >Weight Loss Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/macro"
                  class="text-blue-600 hover:underline"
                  >Macro Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tdee"
                  class="text-blue-600 hover:underline"
                  >TDEE (Total Daily Energy Expenditure)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/calorie"
                  class="text-blue-600 hover:underline"
                  >Calorie Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/intermittent-fasting"
                  class="text-blue-600 hover:underline"
                  >Intermittent Fasting Planner</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/body-fat"
                  class="text-blue-600 hover:underline"
                  >Body Fat Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Quick Tips</h2>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>
                Recalculate macros whenever your weight changes by 3–5 kg (6–10
                lb).
              </li>
              <li>Keep protein high on both training and rest days.</li>
              <li>Use a food scale for 1–2 weeks to learn portion sizes.</li>
              <li>
                Track strength on key lifts to ensure performance is stable or
                improving.
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // State
      let currentUnits = "metric";
      let currentSex = "male";

      const unitButtons = document.querySelectorAll(".unit-btn");
      const sexButtons = document.querySelectorAll(".sex-btn");
      const heightMetric = document.getElementById("height-metric");
      const heightImperial = document.getElementById("height-imperial");
      const weightInput = document.getElementById("weight");
      const weightUnitLabel = document.getElementById("weight-unit-label");

      unitButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          currentUnits = btn.dataset.units;
          unitButtons.forEach((b) => {
            b.classList.remove(
              "bg-blue-50",
              "border-blue-500",
              "text-blue-700",
              "font-semibold"
            );
            b.classList.add("bg-white", "text-gray-700");
          });
          btn.classList.add(
            "bg-blue-50",
            "border-blue-500",
            "text-blue-700",
            "font-semibold"
          );
          if (currentUnits === "metric") {
            heightMetric.classList.remove("hidden");
            heightImperial.classList.add("hidden");
            weightUnitLabel.textContent = "kg";
            // convert lb to kg if needed
            const w = parseFloat(weightInput.value);
            if (!isNaN(w)) {
              weightInput.value = Math.round(w / 2.20462);
            }
          } else {
            heightMetric.classList.add("hidden");
            heightImperial.classList.remove("hidden");
            weightUnitLabel.textContent = "lb";
            const w = parseFloat(weightInput.value);
            if (!isNaN(w)) {
              weightInput.value = Math.round(w * 2.20462);
            }
          }
        });
      });

      sexButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          currentSex = btn.dataset.sex;
          sexButtons.forEach((b) => {
            b.classList.remove(
              "bg-blue-50",
              "border-blue-500",
              "text-blue-700",
              "font-semibold"
            );
            b.classList.add("bg-white", "text-gray-700");
          });
          btn.classList.add(
            "bg-blue-50",
            "border-blue-500",
            "text-blue-700",
            "font-semibold"
          );
        });
      });

      function getNumber(id) {
        const el = document.getElementById(id);
        if (!el) return NaN;
        const v = parseFloat(el.value);
        return isNaN(v) ? NaN : v;
      }

      function calcHeightCm() {
        if (currentUnits === "metric") {
          return getNumber("height-cm");
        } else {
          const ft = getNumber("height-ft");
          const inch = getNumber("height-in");
          if (isNaN(ft) || isNaN(inch)) return NaN;
          return (ft * 12 + inch) * 2.54;
        }
      }

      function calcWeightKg() {
        const w = getNumber("weight");
        if (isNaN(w)) return NaN;
        return currentUnits === "metric" ? w : w / 2.20462;
      }

      function activityFactor(activity) {
        switch (activity) {
          case "sedentary":
            return 1.2;
          case "light":
            return 1.375;
          case "moderate":
            return 1.55;
          case "high":
            return 1.725;
          default:
            return 1.55;
        }
      }

      function goalAdjustment(goal, experience) {
        // returns multiplier for TDEE
        if (goal === "cut") {
          if (experience === "beginner") return 0.82;
          if (experience === "intermediate") return 0.8;
          return 0.78; // advanced
        }
        if (goal === "bulk") {
          if (experience === "beginner") return 1.1;
          if (experience === "intermediate") return 1.08;
          return 1.05;
        }
        // recomp
        if (experience === "beginner") return 0.95;
        if (experience === "intermediate") return 0.93;
        return 0.9;
      }

      function proteinPerKg(goal, experience) {
        if (goal === "cut") {
          if (experience === "beginner") return 2.2;
          if (experience === "intermediate") return 2.3;
          return 2.4;
        }
        if (goal === "bulk") {
          if (experience === "beginner") return 1.9;
          if (experience === "intermediate") return 1.9;
          return 2.0;
        }
        // recomp
        if (experience === "beginner") return 2.0;
        if (experience === "intermediate") return 2.1;
        return 2.2;
      }

      function fatPerKg(fatPref) {
        if (fatPref === "higher-fat") return 1.0;
        if (fatPref === "lower-fat") return 0.65;
        return 0.8;
      }

      function buildMacroTable(
        idPrefix,
        label,
        calories,
        proteinG,
        fatG,
        carbG
      ) {
        const totalCal = calories;
        const pCal = proteinG * 4;
        const fCal = fatG * 9;
        const cCal = carbG * 4;
        const pPct = totalCal ? Math.round((pCal / totalCal) * 100) : 0;
        const fPct = totalCal ? Math.round((fCal / totalCal) * 100) : 0;
        const cPct = totalCal ? Math.round((cCal / totalCal) * 100) : 0;

        return `
      <div class="border rounded-lg p-4">
        <div class="flex items-center justify-between mb-2">
          <h3 class="text-sm font-semibold">${label}</h3>
          <span class="macro-badge bg-slate-100 text-slate-700">${Math.round(
            totalCal
          )} kcal</span>
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full text-xs md:text-sm">
            <thead>
              <tr class="border-b">
                <th class="text-left py-1 pr-4 font-semibold">Macro</th>
                <th class="text-right py-1 px-2 font-semibold">Grams</th>
                <th class="text-right py-1 px-2 font-semibold">Calories</th>
                <th class="text-right py-1 pl-2 font-semibold">% of kcal</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b">
                <td class="py-1 pr-4">Protein</td>
                <td class="py-1 px-2 text-right">${Math.round(proteinG)}</td>
                <td class="py-1 px-2 text-right">${Math.round(pCal)}</td>
                <td class="py-1 pl-2 text-right">${pPct}%</td>
              </tr>
              <tr class="border-b">
                <td class="py-1 pr-4">Fat</td>
                <td class="py-1 px-2 text-right">${Math.round(fatG)}</td>
                <td class="py-1 px-2 text-right">${Math.round(fCal)}</td>
                <td class="py-1 pl-2 text-right">${fPct}%</td>
              </tr>
              <tr>
                <td class="py-1 pr-4">Carbs</td>
                <td class="py-1 px-2 text-right">${Math.round(carbG)}</td>
                <td class="py-1 px-2 text-right">${Math.round(cCal)}</td>
                <td class="py-1 pl-2 text-right">${cPct}%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    `;
      }

      function calculateMacros() {
        const errorEl = document.getElementById("error-msg");
        errorEl.textContent = "";

        const age = getNumber("age");
        const heightCm = calcHeightCm();
        const weightKg = calcWeightKg();
        const goal = document.getElementById("goal").value;
        const experience = document.getElementById("experience").value;
        const activity = document.getElementById("activity").value;
        const trainingDays = getNumber("training-days");
        const carbCycling = document.getElementById("carb-cycling").checked;
        const fatPref = document.getElementById("fat-pref").value;
        const bodyfat = getNumber("bodyfat");

        if (isNaN(age) || age < 13 || age > 80) {
          errorEl.textContent = "Please enter a valid age between 13 and 80.";
          return;
        }
        if (isNaN(heightCm) || heightCm < 120 || heightCm > 220) {
          errorEl.textContent = "Please enter a realistic height.";
          return;
        }
        if (isNaN(weightKg) || weightKg < 40 || weightKg > 200) {
          errorEl.textContent = "Please enter a realistic body weight.";
          return;
        }
        if (isNaN(trainingDays) || trainingDays < 1 || trainingDays > 7) {
          errorEl.textContent =
            "Training days per week must be between 1 and 7.";
          return;
        }
        if (!isNaN(bodyfat) && (bodyfat < 5 || bodyfat > 45)) {
          errorEl.textContent =
            "Body fat percentage should be between 5% and 45%, or leave it empty.";
          return;
        }

        // BMR
        let bmr;
        if (currentSex === "male") {
          bmr = 10 * weightKg + 6.25 * heightCm - 5 * age + 5;
        } else {
          bmr = 10 * weightKg + 6.25 * heightCm - 5 * age - 161;
        }

        const tdee = bmr * activityFactor(activity);
        const adj = goalAdjustment(goal, experience);
        const targetCalories = tdee * adj;

        // Lean mass if bodyfat provided
        let leanKg = weightKg;
        if (!isNaN(bodyfat)) {
          leanKg = weightKg * (1 - bodyfat / 100);
        }

        const protPerKg = proteinPerKg(goal, experience);
        const proteinG = protPerKg * leanKg;
        const proteinCal = proteinG * 4;

        const fatPerKgVal = fatPerKg(fatPref);
        let fatG = fatPerKgVal * weightKg;
        let fatCal = fatG * 9;

        // Ensure we don't exceed calories with P+F
        if (proteinCal + fatCal > targetCalories * 0.9) {
          // reduce fat to leave at least 10% for carbs
          fatCal = targetCalories * 0.9 - proteinCal;
          if (fatCal < targetCalories * 0.2) {
            fatCal = targetCalories * 0.2;
          }
          fatG = fatCal / 9;
        }

        let carbCal = targetCalories - proteinCal - fatCal;
        if (carbCal < targetCalories * 0.1) carbCal = targetCalories * 0.1;
        let carbG = carbCal / 4;

        const resultsSection = document.getElementById("results-section");
        const tdeeDisplay = document.getElementById("tdee-display");
        const targetCalDisplay = document.getElementById("target-cal-display");
        const targetCalNote = document.getElementById("target-cal-note");
        const proteinSummary = document.getElementById("protein-summary");
        const proteinSummaryNote = document.getElementById(
          "protein-summary-note"
        );
        const macroTables = document.getElementById("macro-tables");

        tdeeDisplay.textContent = Math.round(tdee);
        targetCalDisplay.textContent = Math.round(targetCalories);

        let goalText = "";
        if (goal === "cut")
          goalText = "Cutting calories (moderate deficit from TDEE).";
        else if (goal === "bulk")
          goalText = "Lean bulk calories (small surplus above TDEE).";
        else goalText = "Recomposition calories (slight deficit from TDEE).";
        targetCalNote.textContent = goalText;

        const protPerKgActual = proteinG / weightKg;
        proteinSummary.textContent = `${Math.round(proteinG)} g`;
        proteinSummaryNote.textContent = `${protPerKgActual.toFixed(
          2
        )} g/kg bodyweight`;

        let html = "";
        if (carbCycling) {
          const trainDays = trainingDays;
          const restDays = 7 - trainDays;

          const trainCal = targetCalories * 1.1;
          const restCal = targetCalories * 0.9;

          const trainCarbCal = trainCal - proteinCal - fatCal;
          const restCarbCal = restCal - proteinCal - fatCal;

          const trainCarbG = trainCarbCal / 4;
          const restCarbG = restCarbCal / 4;

          html += buildMacroTable(
            "train",
            "Training Day Macros",
            trainCal,
            proteinG,
            fatG,
            trainCarbG
          );
          html += buildMacroTable(
            "rest",
            "Rest Day Macros",
            restCal,
            proteinG,
            fatG,
            restCarbG
          );

          const weeklyAvgCal = (trainCal * trainDays + restCal * restDays) / 7;
          html += `
        <p class="text-xs text-gray-600 mt-2">
          Weekly average calories: <strong>${Math.round(
            weeklyAvgCal
          )}</strong> kcal
          (${trainDays} training days, ${restDays} rest days).
        </p>
      `;
        } else {
          html += buildMacroTable(
            "daily",
            "Daily Macros (all days)",
            targetCalories,
            proteinG,
            fatG,
            carbG
          );
        }

        macroTables.innerHTML = html;
        resultsSection.classList.remove("hidden");
        resultsSection.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      document
        .getElementById("calculate-btn")
        .addEventListener("click", calculateMacros);

      document.getElementById("reset-btn").addEventListener("click", () => {
        document.getElementById("macro-form").reset();
        document.getElementById("error-msg").textContent = "";
        document.getElementById("results-section").classList.add("hidden");
        // reset some defaults
        document.getElementById("age").value = 28;
        document.getElementById("height-cm").value = 178;
        document.getElementById("height-ft").value = 5;
        document.getElementById("height-in").value = 10;
        document.getElementById("weight").value =
          currentUnits === "metric" ? 80 : Math.round(80 * 2.20462);
        document.getElementById("goal").value = "recomp";
        document.getElementById("experience").value = "intermediate";
        document.getElementById("activity").value = "moderate";
        document.getElementById("training-days").value = 4;
        document.getElementById("fat-pref").value = "balanced";
      });

      document.getElementById("copy-plan-btn").addEventListener("click", () => {
        const resultsSection = document.getElementById("results-section");
        if (resultsSection.classList.contains("hidden")) return;

        const tdee = document.getElementById("tdee-display").textContent;
        const targetCal =
          document.getElementById("target-cal-display").textContent;
        const protein = document.getElementById("protein-summary").textContent;
        const macroTables = document.getElementById("macro-tables");
        const text = `Bodybuilding Macro Plan
TDEE: ${tdee} kcal
Target calories: ${targetCal} kcal
Protein: ${protein} per day

Macros:
${macroTables.innerText.trim()}`;

        navigator.clipboard
          .writeText(text)
          .then(() => {
            const fb = document.getElementById("copy-feedback");
            fb.classList.remove("hidden");
            setTimeout(() => fb.classList.add("hidden"), 2000);
          })
          .catch(() => {});
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
