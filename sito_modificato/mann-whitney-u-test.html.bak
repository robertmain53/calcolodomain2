<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/mann-whitney-u-test" />
    <title>Mann Whitney U Test Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Mann Whitney U Test Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Mann Whitney U Test Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Mann Whitney U Test Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/mann-whitney-u-test" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Mann Whitney U Test Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Mann Whitney U Test Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Mann-Whitney U Test Calculator (Two Independent Samples)",
        "description": "Free Mann-Whitney U test calculator for two independent samples. Enter raw data, get U statistic, z-score, exact or normal-approximation p-value, effect size (r, Cliff’s delta), and step‑by‑step explanation.",
        "url": "https://calcdomain.com/mann-whitney-u-test.html-test",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://calcdomain.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Math & Conversions",
              "item": "https://calcdomain.com/categories/math-conversions"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Core Math & Algebra",
              "item": "https://calcdomain.com/subcategories/core-math-algebra"
            },
            {
              "@type": "ListItem",
              "position": 4,
              "name": "Mann-Whitney U Test",
              "item": "https://calcdomain.com/mann-whitney-u-test.html-test"
            }
          ]
        },
        "mainEntity": {
          "@type": "SoftwareApplication",
          "name": "Mann-Whitney U Test Calculator",
          "applicationCategory": "EducationalApplication",
          "operatingSystem": "Any",
          "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
        }
      }</script>
    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "Mann-Whitney U Test Calculator", "item": "https://calcdomain.com/mann-whitney-u-test"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Mann-Whitney U Test Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Mann-Whitney U Test Calculator
              </h1>
              <p class="text-gray-700 mb-2">
                Perform a Mann‑Whitney U test (Wilcoxon rank‑sum) for two
                independent samples. Paste your data, choose one‑ or two‑tailed,
                and get U, z, exact or approximate p‑value, and effect sizes.
              </p>
              <div class="flex flex-wrap gap-2 text-xs text-gray-600">
                <span class="badge bg-blue-100 text-blue-700"
                  >Non‑parametric</span
                >
                <span class="badge bg-green-100 text-green-700"
                  >Two independent groups</span
                >
                <span class="badge bg-purple-100 text-purple-700"
                  >Exact p for small samples</span
                >
                <span class="badge bg-yellow-100 text-yellow-700"
                  >Effect size (r, Cliff’s δ)</span
                >
              </div>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Enter your data
              </h2>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="group1-label"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Group 1 label</label
                  >
                  <input
                    id="group1-label"
                    type="text"
                    value="Group 1"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                  />
                </div>
                <div>
                  <label
                    for="group2-label"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Group 2 label</label
                  >
                  <input
                    id="group2-label"
                    type="text"
                    value="Group 2"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                  />
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label
                    for="group1-data"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Group 1 data
                    <span class="text-gray-500 font-normal"
                      >(comma, space, or line separated)</span
                    >
                  </label>
                  <textarea
                    id="group1-data"
                    class="scroll-input w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 12, 15, 18, 21, 25"
                  ></textarea>
                </div>
                <div>
                  <label
                    for="group2-data"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Group 2 data
                    <span class="text-gray-500 font-normal"
                      >(comma, space, or line separated)</span
                    >
                  </label>
                  <textarea
                    id="group2-data"
                    class="scroll-input w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                    placeholder="e.g. 10, 11, 13, 17, 19"
                  ></textarea>
                </div>
              </div>

              <div class="flex flex-wrap items-center gap-4 mb-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Alternative hypothesis</label
                  >
                  <select
                    id="alternative"
                    class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="two-sided">
                      Two‑tailed: distributions differ
                    </option>
                    <option value="greater">
                      One‑tailed: Group 1 &gt; Group 2
                    </option>
                    <option value="less">
                      One‑tailed: Group 1 &lt; Group 2
                    </option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Significance level (α)</label
                  >
                  <input
                    id="alpha"
                    type="number"
                    step="0.001"
                    min="0.0001"
                    max="0.5"
                    value="0.05"
                    class="w-24 border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Method</label
                  >
                  <select
                    id="method"
                    class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="auto">
                      Auto: exact if small, else normal approx.
                    </option>
                    <option value="exact">
                      Exact (may be slow for large n)
                    </option>
                    <option value="normal">Normal approximation</option>
                  </select>
                </div>
              </div>

              <div class="flex flex-wrap gap-3 mb-4">
                <button
                  id="run-test"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  Run Mann‑Whitney U test
                </button>
                <button
                  id="load-example"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-800 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Load example data
                </button>
                <button
                  id="clear-all"
                  class="inline-flex items-center px-3 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50"
                >
                  Clear
                </button>
              </div>

              <p class="text-xs text-gray-500">
                Tip: You can paste columns directly from Excel, SPSS, R, or CSV
                files. Non‑numeric cells are ignored.
              </p>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-3">
                Results
              </h2>
              <div id="results-container" class="hidden">
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                  <div class="bg-blue-50 border border-blue-100 rounded-md p-4">
                    <h3 class="text-sm font-semibold text-blue-800 mb-2">
                      Test summary
                    </h3>
                    <dl class="text-sm text-blue-900 space-y-1">
                      <div class="flex justify-between">
                        <dt class="font-medium">n₁ (Group 1)</dt>
                        <dd id="res-n1"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">n₂ (Group 2)</dt>
                        <dd id="res-n2"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">U₁</dt>
                        <dd id="res-u1"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">U₂</dt>
                        <dd id="res-u2"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">U (reported)</dt>
                        <dd id="res-u"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">z (normal approx.)</dt>
                        <dd id="res-z"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">p‑value</dt>
                        <dd id="res-p"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">Decision</dt>
                        <dd id="res-decision" class="font-semibold"></dd>
                      </div>
                    </dl>
                  </div>
                  <div
                    class="bg-green-50 border border-green-100 rounded-md p-4"
                  >
                    <h3 class="text-sm font-semibold text-green-800 mb-2">
                      Effect sizes
                    </h3>
                    <dl class="text-sm text-green-900 space-y-1">
                      <div class="flex justify-between">
                        <dt class="font-medium">r = |z| / √(n₁ + n₂)</dt>
                        <dd id="res-r"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">r interpretation</dt>
                        <dd id="res-r-interpretation"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">Cliff’s δ</dt>
                        <dd id="res-delta"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">δ interpretation</dt>
                        <dd id="res-delta-interpretation"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">Median (Group 1)</dt>
                        <dd id="res-med1"></dd>
                      </div>
                      <div class="flex justify-between">
                        <dt class="font-medium">Median (Group 2)</dt>
                        <dd id="res-med2"></dd>
                      </div>
                    </dl>
                  </div>
                </div>

                <div id="rank-table-wrapper" class="mb-4 hidden">
                  <details
                    class="bg-gray-50 border border-gray-200 rounded-md p-3"
                  >
                    <summary
                      class="cursor-pointer text-sm font-semibold text-gray-800 mb-2"
                    >
                      Show ranked data and tie handling
                    </summary>
                    <div class="overflow-x-auto mt-2">
                      <table class="min-w-full table-auto text-xs table-mini">
                        <thead>
                          <tr class="bg-gray-100">
                            <th class="text-left">Value</th>
                            <th class="text-left">Group</th>
                            <th class="text-left">Rank</th>
                          </tr>
                        </thead>
                        <tbody id="rank-table-body"></tbody>
                      </table>
                    </div>
                  </details>
                </div>

                <div class="bg-white border border-gray-200 rounded-md p-4">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">
                    Interpretation
                  </h3>
                  <p id="res-interpretation" class="text-sm text-gray-800"></p>
                </div>
              </div>
              <p id="results-placeholder" class="text-sm text-gray-500">
                Results will appear here after you run the test.
              </p>
              <p
                id="error-message"
                class="mt-3 text-sm text-red-600 hidden"
              ></p>
            </section>

            <!-- How it works -->
            <section class="prose">
              <h2>How this Mann‑Whitney U test calculator works</h2>
              <p>
                The Mann‑Whitney U test (also called the Wilcoxon rank‑sum test)
                compares two independent groups on a continuous or ordinal
                outcome without assuming normality. It tests whether the
                distributions differ in location (often interpreted as a
                difference in medians when shapes are similar).
              </p>

              <h3>1. Ranking the combined data</h3>
              <p>
                First, all observations from both groups are pooled and ranked
                from smallest to largest:
              </p>
              <div class="formula-box">
                <p>
                  Assign rank 1 to the smallest value, rank 2 to the next, and
                  so on. If there are ties, each tied value gets the average of
                  the ranks it spans.
                </p>
              </div>
              <p>Let:</p>
              <ul>
                <li>\(n_1\) = sample size of group 1</li>
                <li>\(n_2\) = sample size of group 2</li>
                <li>\(R_1\) = sum of ranks for group 1</li>
                <li>\(R_2\) = sum of ranks for group 2</li>
              </ul>

              <h3>2. Computing U₁ and U₂</h3>
              <p>The U statistics for each group are:</p>
              <div class="formula-box">
                <p>\[ U_1 = n_1 n_2 + \frac{n_1(n_1 + 1)}{2} - R_1 \]</p>
                <p>\[ U_2 = n_1 n_2 + \frac{n_2(n_2 + 1)}{2} - R_2 \]</p>
                <p>The reported Mann‑Whitney U statistic is:</p>
                <p>\[ U = \min(U_1, U_2) \]</p>
              </div>

              <h3>3. Exact p‑value (small samples)</h3>
              <p>
                For small samples the calculator uses the exact null
                distribution of U. Under the null hypothesis that the two groups
                come from the same distribution, all allocations of ranks to
                groups are equally likely. The exact p‑value is the probability
                of obtaining a U value as extreme or more extreme than the
                observed one.
              </p>
              <p>
                This calculator automatically uses the exact method when \(n_1
                \times n_2 \le 200\) (or when you explicitly choose “Exact”),
                with a tie correction.
              </p>

              <h3>4. Normal approximation (large samples)</h3>
              <p>
                For larger samples, U is approximately normally distributed
                with:
              </p>
              <div class="formula-box">
                <p>Mean:</p>
                <p>\[ \mu_U = \frac{n_1 n_2}{2} \]</p>
                <p>Variance (with tie correction):</p>
                <p>
                  \[ \sigma_U^2 = \frac{n_1 n_2}{12} \left[ (n_1 + n_2 + 1) -
                  \frac{\sum (t^3 - t)}{(n_1 + n_2)(n_1 + n_2 - 1)} \right] \]
                </p>
                <p>
                  where the sum is over all groups of tied values and \(t\) is
                  the size of each tie group.
                </p>
              </div>
              <p>The z‑score is then:</p>
              <div class="formula-box">
                <p>
                  \[ z = \frac{U - \mu_U - 0.5 \cdot \text{sgn}(U -
                  \mu_U)}{\sigma_U} \]
                </p>
                <p>where the 0.5 term is a continuity correction.</p>
              </div>
              <p>
                The p‑value is obtained from the standard normal distribution,
                adjusted for one‑ or two‑tailed tests.
              </p>

              <h3>5. Effect sizes reported</h3>
              <ul>
                <li>
                  <strong>r</strong> (rank‑biserial correlation style): \[ r =
                  \frac{|z|}{\sqrt{n_1 + n_2}} \] with common benchmarks: 0.1
                  (small), 0.3 (medium), 0.5 (large).
                </li>
                <li>
                  <strong>Cliff’s delta (δ)</strong>: \[ \delta = \frac{\#(x_i
                  &gt; y_j) - \#(x_i &lt; y_j)}{n_1 n_2} \] interpreted as the
                  probability that a randomly chosen observation from one group
                  exceeds one from the other, minus the reverse probability.
                </li>
              </ul>

              <h2>Assumptions of the Mann‑Whitney U test</h2>
              <ul>
                <li>
                  <strong>Two independent groups</strong>: no subject appears in
                  both groups.
                </li>
                <li>
                  <strong>Ordinal or continuous outcome</strong>: values can be
                  ranked meaningfully.
                </li>
                <li>
                  <strong>Independent observations</strong> within and between
                  groups.
                </li>
                <li>
                  <strong>Similar distribution shapes</strong> if you want to
                  interpret the test as comparing medians. If shapes differ
                  strongly, the test detects a more general shift in
                  distribution.
                </li>
              </ul>

              <h2>Worked example</h2>
              <p>
                Suppose you compare pain scores (0–10) between two treatments:
              </p>
              <ul>
                <li>Group 1 (Treatment A): 2, 3, 4, 5, 6</li>
                <li>Group 2 (Treatment B): 1, 1, 2, 3, 3</li>
              </ul>
              <ol>
                <li>Pool and rank all 10 values, averaging ranks for ties.</li>
                <li>Compute \(R_1\) and \(R_2\), then U₁ and U₂.</li>
                <li>Take \(U = \min(U_1, U_2)\).</li>
                <li>
                  Use the exact distribution (since \(n_1 n_2 = 25\)) to get the
                  p‑value.
                </li>
              </ol>
              <p>
                You can load this example directly using the “Load example data”
                button and inspect the ranked data table.
              </p>

              <h2>Reporting the Mann‑Whitney U test</h2>
              <p>A typical report in APA style might look like:</p>
              <div class="formula-box">
                <p>
                  “Pain scores were lower in the treatment group than in the
                  control group,
                  <em>U</em>(n₁ = 20, n₂ = 22) = 118, <em>z</em> = −2.45,
                  <em>p</em> = .014, <em>r</em> = .37, indicating a medium
                  effect size.”
                </p>
              </div>
            </section>

            <!-- FAQ accordion -->
            <section class="mt-8">
              <h2 class="text-xl font-semibold mb-4">
                Frequently asked questions
              </h2>
              <div class="space-y-3" id="faq-container">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    When should I use the Mann‑Whitney U test instead of a
                    t‑test?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Use it when you have two independent groups but the
                    assumptions of the independent‑samples t‑test are doubtful:
                    small samples, skewed distributions, strong outliers, or
                    ordinal data (e.g., Likert scales). If your data are
                    approximately normal and measured on an interval scale, the
                    t‑test is usually more powerful.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can the Mann‑Whitney U test handle ties?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Yes. Ties are common with discrete or rounded data. This
                    calculator assigns average ranks to tied values and applies
                    a tie correction to the variance when using the normal
                    approximation, which keeps the p‑value accurate.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What is the null and alternative hypothesis?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    The null hypothesis is that the two groups come from the
                    same distribution (no systematic difference in location).
                    The two‑tailed alternative is that the distributions differ.
                    One‑tailed alternatives specify that one group tends to have
                    larger (or smaller) values than the other.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Is the Mann‑Whitney U test a test of medians?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Strictly speaking, it is a test of stochastic ordering (one
                    distribution tends to yield larger values). If the two
                    distributions have the same shape and spread, this is
                    equivalent to a test of medians. If shapes differ, interpret
                    it as a difference in overall distributions rather than
                    medians alone.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Group 1 label Group 2 label Group 1 data (comma, space, or line separated)</li><li>Group 2 data (comma, space, or line separated)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Mann, Whitney, U, Test, Group 1 label Group 2 label Group 1 data (comma, space, or line separated), Group 2 data (comma, space, or line separated).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Group 1 label Group 2 label Group 1 data (comma, space, or line separated)</li><li>Group 2 data (comma, space, or line separated)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More Core Math &amp; Statistics tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/t-test"
                  class="text-blue-600 hover:underline"
                  >t-test</a
                >
                (coming soon)
              </li>
              <li>
                <a
                  href="https://calcdomain.com/z-score"
                  class="text-blue-600 hover:underline"
                  >Z-Score Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/p-value"
                  class="text-blue-600 hover:underline"
                  >P-Value Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/confidence-interval"
                  class="text-blue-600 hover:underline"
                  >Confidence Interval</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sample-size"
                  class="text-blue-600 hover:underline"
                  >Sample Size Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/normal-distribution"
                  class="text-blue-600 hover:underline"
                  >Normal Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/binomial-distribution"
                  class="text-blue-600 hover:underline"
                  >Binomial Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/hypergeometric-distribution"
                  class="text-blue-600 hover:underline"
                  >Hypergeometric Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/one-way-anova"
                  class="text-blue-600 hover:underline"
                  >ANOVA (one-way)</a
                >
                (coming soon)
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Related probability &amp; stats calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/probability"
                  class="text-blue-600 hover:underline"
                  >Probability Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/p-value"
                  class="text-blue-600 hover:underline"
                  >P-Value Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/chi-square"
                  class="text-blue-600 hover:underline"
                  >Chi-Square Test</a
                >
                (coming soon)
              </li>
              <li>
                <a
                  href="https://calcdomain.com/correlation-calculator.html-coefficient"
                  class="text-blue-600 hover:underline"
                  >Correlation Coefficient</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/regression-calculator"
                  class="text-blue-600 hover:underline"
                  >Regression Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/iqr"
                  class="text-blue-600 hover:underline"
                  >Interquartile Range (IQR)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/median-calculator"
                  class="text-blue-600 hover:underline"
                  >Median Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function parseNumericList(text) {
        if (!text) return [];
        const tokens = text
          .replace(/[\n\r\t]+/g, " ")
          .split(/[\s,;]+/)
          .map((t) => t.trim())
          .filter((t) => t.length > 0);
        const nums = [];
        for (const tok of tokens) {
          const v = Number(tok);
          if (!Number.isNaN(v) && Number.isFinite(v)) nums.push(v);
        }
        return nums;
      }

      function median(arr) {
        if (!arr.length) return NaN;
        const a = [...arr].sort((x, y) => x - y);
        const m = Math.floor(a.length / 2);
        if (a.length % 2 === 0) return (a[m - 1] + a[m]) / 2;
        return a[m];
      }

      function normalCdf(z) {
        // Abramowitz & Stegun approximation
        const t = 1 / (1 + 0.2316419 * Math.abs(z));
        const d = 0.3989423 * Math.exp((-z * z) / 2);
        let p =
          d *
          t *
          (0.3193815 +
            t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
        if (z > 0) p = 1 - p;
        return p;
      }

      function formatNumber(x, digits = 4) {
        if (x === null || x === undefined || Number.isNaN(x)) return "—";
        if (!Number.isFinite(x)) return x.toString();
        if (Math.abs(x) >= 10000 || (Math.abs(x) > 0 && Math.abs(x) < 0.0001)) {
          return x.toExponential(3);
        }
        return x.toFixed(digits).replace(/\.?0+$/, "");
      }

      function effectSizeInterpretationR(r) {
        const ar = Math.abs(r);
        if (ar < 0.1) return "negligible";
        if (ar < 0.3) return "small";
        if (ar < 0.5) return "medium";
        return "large";
      }

      function effectSizeInterpretationDelta(delta) {
        const ad = Math.abs(delta);
        if (ad < 0.147) return "negligible";
        if (ad < 0.33) return "small";
        if (ad < 0.474) return "medium";
        return "large";
      }

      // Rank data with tie handling
      function rankData(values) {
        // values: array of {value, group}
        const sorted = values.slice().sort((a, b) => a.value - b.value);
        let i = 0;
        const ranked = [];
        const tieGroups = [];
        while (i < sorted.length) {
          let j = i + 1;
          while (j < sorted.length && sorted[j].value === sorted[i].value) j++;
          const rankStart = i + 1;
          const rankEnd = j;
          const avgRank = (rankStart + rankEnd) / 2;
          for (let k = i; k < j; k++) {
            ranked.push({ ...sorted[k], rank: avgRank });
          }
          const t = j - i;
          if (t > 1) tieGroups.push(t);
          i = j;
        }
        return { ranked, tieGroups };
      }

      // Exact distribution of U via DP (counts only)
      function mannWhitneyExactCounts(n1, n2) {
        const maxU = n1 * n2;
        const dp = Array.from({ length: n1 + 1 }, () =>
          Array.from({ length: n2 + 1 }, () =>
            new Float64Array(maxU + 1).fill(0)
          )
        );
        dp[0][0][0] = 1;
        for (let i = 0; i <= n1; i++) {
          for (let j = 0; j <= n2; j++) {
            for (let u = 0; u <= maxU; u++) {
              const val = dp[i][j][u];
              if (!val) continue;
              if (i < n1) {
                dp[i + 1][j][u] += val;
              }
              if (j < n2 && u + i <= maxU) {
                dp[i][j + 1][u + i] += val;
              }
            }
          }
        }
        return dp[n1][n2]; // array of length maxU+1 with counts
      }

      function exactPValue(U, n1, n2, alternative) {
        const maxU = n1 * n2;
        const counts = mannWhitneyExactCounts(n1, n2);
        const total =
          Math.pow(2, n1 + n2) / (Math.pow(2, n1) * Math.pow(2, n2)); // not correct; better: C(n1+n2, n1)
        // compute total combinations as binomial coefficient
        let totalComb = 1;
        const N = n1 + n2;
        const k = n1;
        for (let i = 1; i <= k; i++) {
          totalComb = (totalComb * (N - k + i)) / i;
        }

        let pTwo = 0;
        for (let u = 0; u <= maxU; u++) {
          if (counts[u] === 0) continue;
          if (counts[u] && (u <= U || u >= maxU - U)) {
            pTwo += counts[u] / totalComb;
          }
        }

        let p;
        if (alternative === "two-sided") {
          p = Math.min(1, pTwo);
        } else if (alternative === "less") {
          let pCum = 0;
          for (let u = 0; u <= U; u++) pCum += counts[u] / totalComb;
          p = pCum;
        } else {
          let pCum = 0;
          for (let u = U; u <= maxU; u++) pCum += counts[u] / totalComb;
          p = pCum;
        }
        return p;
      }

      function runMannWhitney() {
        const g1Label =
          document.getElementById("group1-label").value.trim() || "Group 1";
        const g2Label =
          document.getElementById("group2-label").value.trim() || "Group 2";
        const alpha = Number(document.getElementById("alpha").value);
        const alternative = document.getElementById("alternative").value;
        const method = document.getElementById("method").value;

        const x = parseNumericList(
          document.getElementById("group1-data").value
        );
        const y = parseNumericList(
          document.getElementById("group2-data").value
        );

        const errorEl = document.getElementById("error-message");
        const resultsContainer = document.getElementById("results-container");
        const resultsPlaceholder = document.getElementById(
          "results-placeholder"
        );
        const rankTableWrapper = document.getElementById("rank-table-wrapper");
        const rankTableBody = document.getElementById("rank-table-body");

        errorEl.classList.add("hidden");
        errorEl.textContent = "";
        resultsContainer.classList.add("hidden");
        rankTableWrapper.classList.add("hidden");
        resultsPlaceholder.classList.remove("hidden");

        if (x.length < 2 || y.length < 2) {
          errorEl.textContent =
            "Each group must contain at least 2 numeric observations.";
          errorEl.classList.remove("hidden");
          return;
        }
        if (!Number.isFinite(alpha) || alpha <= 0 || alpha >= 0.5) {
          errorEl.textContent =
            "Please enter a valid significance level α between 0 and 0.5.";
          errorEl.classList.remove("hidden");
          return;
        }

        const n1 = x.length;
        const n2 = y.length;
        const combined = [];
        for (const v of x) combined.push({ value: v, group: 1 });
        for (const v of y) combined.push({ value: v, group: 2 });

        const { ranked, tieGroups } = rankData(combined);

        // Sum of ranks
        let R1 = 0,
          R2 = 0;
        for (const r of ranked) {
          if (r.group === 1) R1 += r.rank;
          else R2 += r.rank;
        }

        const U1 = n1 * n2 + (n1 * (n1 + 1)) / 2 - R1;
        const U2 = n1 * n2 + (n2 * (n2 + 1)) / 2 - R2;
        const U = Math.min(U1, U2);
        const maxU = n1 * n2;

        // Normal approximation parameters
        const N = n1 + n2;
        const muU = (n1 * n2) / 2;
        let tieCorrection = 0;
        if (tieGroups.length > 0) {
          let sum = 0;
          for (const t of tieGroups) {
            sum += t * t * t - t;
          }
          tieCorrection = sum / (N * (N - 1));
        }
        const sigma2 = ((n1 * n2) / 12) * (N + 1 - tieCorrection);
        const sigma = Math.sqrt(sigma2);

        // z with continuity correction
        let z = NaN;
        if (sigma > 0) {
          const cc = U - muU >= 0 ? 0.5 : -0.5;
          z = (U - muU - cc) / sigma;
        }

        // p-value
        let p = NaN;
        let usedMethod = method;
        const smallThreshold = 200;
        if (method === "auto") {
          usedMethod = n1 * n2 <= smallThreshold ? "exact" : "normal";
        }

        if (usedMethod === "exact" && n1 * n2 <= 400) {
          try {
            p = exactPValue(U, n1, n2, alternative);
          } catch (e) {
            // fallback to normal
            usedMethod = "normal";
          }
        }
        if (usedMethod === "normal") {
          const pOne = 1 - normalCdf(Math.abs(z));
          if (alternative === "two-sided") p = 2 * pOne;
          else p = pOne;
        }

        if (!Number.isFinite(p) || p < 0) p = NaN;
        if (p > 1) p = 1;

        // Effect sizes
        const r = Number.isFinite(z) ? Math.abs(z) / Math.sqrt(N) : NaN;

        // Cliff's delta
        let greater = 0,
          less = 0;
        for (const xi of x) {
          for (const yj of y) {
            if (xi > yj) greater++;
            else if (xi < yj) less++;
          }
        }
        const delta = (greater - less) / (n1 * n2);

        // Medians
        const med1 = median(x);
        const med2 = median(y);

        // Decision
        const reject = Number.isFinite(p) && p <= alpha;
        const decisionText = reject
          ? `Reject H₀ at α = ${alpha}.`
          : `Fail to reject H₀ at α = ${alpha}.`;

        // Populate UI
        document.getElementById("res-n1").textContent = n1;
        document.getElementById("res-n2").textContent = n2;
        document.getElementById("res-u1").textContent = formatNumber(U1, 3);
        document.getElementById("res-u2").textContent = formatNumber(U2, 3);
        document.getElementById("res-u").textContent = formatNumber(U, 3);
        document.getElementById("res-z").textContent = Number.isFinite(z)
          ? formatNumber(z, 4)
          : "—";
        document.getElementById("res-p").textContent = Number.isFinite(p)
          ? formatNumber(p, 6)
          : "—";
        document.getElementById("res-decision").textContent = decisionText;
        document
          .getElementById("res-decision")
          .classList.toggle("text-green-700", !reject);
        document
          .getElementById("res-decision")
          .classList.toggle("text-red-700", reject);

        document.getElementById("res-r").textContent = Number.isFinite(r)
          ? formatNumber(r, 4)
          : "—";
        document.getElementById("res-r-interpretation").textContent =
          Number.isFinite(r) ? effectSizeInterpretationR(r) : "—";
        document.getElementById("res-delta").textContent = Number.isFinite(
          delta
        )
          ? formatNumber(delta, 4)
          : "—";
        document.getElementById("res-delta-interpretation").textContent =
          Number.isFinite(delta) ? effectSizeInterpretationDelta(delta) : "—";
        document.getElementById("res-med1").textContent = formatNumber(med1, 4);
        document.getElementById("res-med2").textContent = formatNumber(med2, 4);

        // Ranked table
        rankTableBody.innerHTML = "";
        ranked.forEach((r) => {
          const tr = document.createElement("tr");
          const tdVal = document.createElement("td");
          const tdGrp = document.createElement("td");
          const tdRank = document.createElement("td");
          tdVal.textContent = formatNumber(r.value, 4);
          tdGrp.textContent = r.group === 1 ? g1Label : g2Label;
          tdRank.textContent = formatNumber(r.rank, 3);
          tr.appendChild(tdVal);
          tr.appendChild(tdGrp);
          tr.appendChild(tdRank);
          rankTableBody.appendChild(tr);
        });
        rankTableWrapper.classList.remove("hidden");

        // Interpretation text
        let altText;
        if (alternative === "two-sided") {
          altText = `The two groups differ in distribution (two‑tailed test).`;
        } else if (alternative === "greater") {
          altText = `${g1Label} tends to have larger values than ${g2Label} (one‑tailed test).`;
        } else {
          altText = `${g1Label} tends to have smaller values than ${g2Label} (one‑tailed test).`;
        }

        const methodText =
          usedMethod === "exact"
            ? "Exact null distribution of U (recommended for small samples)."
            : "Normal approximation with continuity and tie corrections.";

        const interp = [];
        interp.push(
          `Using the Mann‑Whitney U test, we compared ${g1Label} (n₁ = ${n1}) and ${g2Label} (n₂ = ${n2}).`
        );
        interp.push(
          `The test statistic was U = ${formatNumber(
            U,
            3
          )} (U₁ = ${formatNumber(U1, 3)}, U₂ = ${formatNumber(U2, 3)}).`
        );
        if (Number.isFinite(z)) {
          interp.push(
            `The corresponding z‑score was z = ${formatNumber(
              z,
              4
            )} and the ${alternative.replace(
              "-",
              " "
            )} p‑value was p = ${formatNumber(p, 6)} (${methodText}).`
          );
        } else if (Number.isFinite(p)) {
          interp.push(
            `The ${alternative.replace(
              "-",
              " "
            )} p‑value based on the exact distribution of U was p = ${formatNumber(
              p,
              6
            )}.`
          );
        }
        interp.push(decisionText + " " + altText);
        if (Number.isFinite(r)) {
          interp.push(
            `The effect size r was ${formatNumber(
              r,
              4
            )} (${effectSizeInterpretationR(
              r
            )}), and Cliff’s delta was ${formatNumber(
              delta,
              4
            )} (${effectSizeInterpretationDelta(delta)}).`
          );
        }
        interp.push(
          `Group medians were ${g1Label}: ${formatNumber(
            med1,
            4
          )}, ${g2Label}: ${formatNumber(med2, 4)}.`
        );

        document.getElementById("res-interpretation").textContent =
          interp.join(" ");

        resultsPlaceholder.classList.add("hidden");
        resultsContainer.classList.remove("hidden");
      }

      document
        .getElementById("run-test")
        .addEventListener("click", runMannWhitney);

      document.getElementById("load-example").addEventListener("click", () => {
        document.getElementById("group1-label").value = "Treatment A";
        document.getElementById("group2-label").value = "Treatment B";
        document.getElementById("group1-data").value = "2, 3, 4, 5, 6";
        document.getElementById("group2-data").value = "1, 1, 2, 3, 3";
        document.getElementById("alternative").value = "two-sided";
        document.getElementById("alpha").value = "0.05";
        document.getElementById("method").value = "auto";
        runMannWhitney();
      });

      document.getElementById("clear-all").addEventListener("click", () => {
        document.getElementById("group1-data").value = "";
        document.getElementById("group2-data").value = "";
        document.getElementById("error-message").classList.add("hidden");
        document.getElementById("results-container").classList.add("hidden");
        document
          .getElementById("results-placeholder")
          .classList.remove("hidden");
      });

      // Mobile menu script (simple)
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const expanded = menu.classList.contains("hidden") ? "true" : "false";
          menu.classList.toggle("hidden");
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", expanded);
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
