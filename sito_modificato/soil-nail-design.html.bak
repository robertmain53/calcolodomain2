<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/soil-nail-design" />
    <title>Soil Nail Design Calculator: Elite [Elite 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Soil Nail Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Soil Nail Design Calculator: Elite [Elite 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Soil Nail Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/soil-nail-design" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Soil Nail Design Calculator: Elite [Elite 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Soil Nail Design Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering Calculators", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Structural Engineering Calculators", "item": "https://calcdomain.com/subcategories/structural-engineering"}, {"@type": "ListItem", "position": 4, "name": "Soil Nail Design Calculator", "item": "https://calcdomain.com/soil-nail-design"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/structural-engineering" class="text-blue-600 hover:underline">Structural Engineering Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Soil Nail Design Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Soil Nail Design Calculator
              </h1>
              <p class="text-gray-700">
                Preliminary soil nail wall design based on FHWA-style limit
                equilibrium methods. Estimate nail length, spacing, tensile and
                bond capacity, and approximate global factor of safety.
              </p>
              <p class="mt-2 text-xs text-red-600 font-semibold">
                Disclaimer: For educational and preliminary design only. Final
                designs must be prepared and checked by a qualified
                geotechnical/structural engineer using project-specific data and
                governing codes.
              </p>
            </header>

            <!-- Calculator Form -->
            <section aria-labelledby="calculator-heading">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Soil Nail Wall Input Parameters
              </h2>

              <div class="grid md:grid-cols-2 gap-6">
                <!-- Geometry -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">Wall Geometry</h3>

                  <div>
                    <label
                      for="wallHeight"
                      class="block text-sm font-medium text-gray-700"
                      >Wall height H
                      <span class="text-gray-500">(m)</span></label
                    >
                    <input
                      id="wallHeight"
                      type="number"
                      step="0.1"
                      value="8"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>

                  <div>
                    <label
                      for="faceBatter"
                      class="block text-sm font-medium text-gray-700"
                      >Face batter (from vertical)
                      <span class="text-gray-500">β (°)</span></label
                    >
                    <input
                      id="faceBatter"
                      type="number"
                      step="0.5"
                      value="0"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="nailInclination"
                        class="block text-sm font-medium text-gray-700"
                        >Nail inclination
                        <span class="text-gray-500"
                          >α (° from horizontal)</span
                        ></label
                      >
                      <input
                        id="nailInclination"
                        type="number"
                        step="1"
                        value="15"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="nailLengthRatio"
                        class="block text-sm font-medium text-gray-700"
                        >Nail length ratio
                        <span class="text-gray-500">L/H</span></label
                      >
                      <input
                        id="nailLengthRatio"
                        type="number"
                        step="0.1"
                        value="0.8"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="vertSpacing"
                        class="block text-sm font-medium text-gray-700"
                        >Vertical spacing
                        <span class="text-gray-500">Sv (m)</span></label
                      >
                      <input
                        id="vertSpacing"
                        type="number"
                        step="0.1"
                        value="1.5"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="horizSpacing"
                        class="block text-sm font-medium text-gray-700"
                        >Horizontal spacing
                        <span class="text-gray-500">Sh (m)</span></label
                      >
                      <input
                        id="horizSpacing"
                        type="number"
                        step="0.1"
                        value="1.5"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>
                </div>

                <!-- Soil & Water -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">
                    Soil & Groundwater
                  </h3>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="unitWeight"
                        class="block text-sm font-medium text-gray-700"
                        >Unit weight γ
                        <span class="text-gray-500">(kN/m³)</span></label
                      >
                      <input
                        id="unitWeight"
                        type="number"
                        step="0.5"
                        value="18"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="phi"
                        class="block text-sm font-medium text-gray-700"
                        >Friction angle φ
                        <span class="text-gray-500">(°)</span></label
                      >
                      <input
                        id="phi"
                        type="number"
                        step="0.5"
                        value="30"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>

                  <div>
                    <label
                      for="cohesion"
                      class="block text-sm font-medium text-gray-700"
                      >Cohesion c
                      <span class="text-gray-500"
                        >(kPa, 0 for granular)</span
                      ></label
                    >
                    <input
                      id="cohesion"
                      type="number"
                      step="1"
                      value="0"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="surcharge"
                        class="block text-sm font-medium text-gray-700"
                        >Uniform surcharge q
                        <span class="text-gray-500">(kPa)</span></label
                      >
                      <input
                        id="surcharge"
                        type="number"
                        step="1"
                        value="10"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="gwDepth"
                        class="block text-sm font-medium text-gray-700"
                        >Groundwater depth
                        <span class="text-gray-500"
                          >zw (m below top)</span
                        ></label
                      >
                      <input
                        id="gwDepth"
                        type="number"
                        step="0.5"
                        value="999"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                      <p class="text-xs text-gray-500 mt-1">
                        Use large value (e.g. 999) for dry conditions.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Nail & Bond -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">
                    Nail & Bond Properties
                  </h3>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="barDiameter"
                        class="block text-sm font-medium text-gray-700"
                        >Bar diameter
                        <span class="text-gray-500">db (mm)</span></label
                      >
                      <input
                        id="barDiameter"
                        type="number"
                        step="1"
                        value="25"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="fy"
                        class="block text-sm font-medium text-gray-700"
                        >Steel yield strength
                        <span class="text-gray-500">fy (MPa)</span></label
                      >
                      <input
                        id="fy"
                        type="number"
                        step="10"
                        value="500"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>

                  <div>
                    <label
                      for="bondStrength"
                      class="block text-sm font-medium text-gray-700"
                      >Design bond strength τb
                      <span class="text-gray-500">(kPa)</span></label
                    >
                    <input
                      id="bondStrength"
                      type="number"
                      step="5"
                      value="100"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Typical 60–150 kPa depending on soil and grout.
                    </p>
                  </div>

                  <div>
                    <label
                      for="overburdenFactor"
                      class="block text-sm font-medium text-gray-700"
                      >Overburden factor K (for lateral pressure)</label
                    >
                    <input
                      id="overburdenFactor"
                      type="number"
                      step="0.05"
                      value="0.33"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Use active earth pressure coefficient Ka for preliminary
                      design.
                    </p>
                  </div>
                </div>

                <!-- Safety Factors -->
                <div class="space-y-4">
                  <h3 class="font-semibold text-gray-800">
                    Safety Factors & Settings
                  </h3>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="fsGlobal"
                        class="block text-sm font-medium text-gray-700"
                        >Target global FS</label
                      >
                      <input
                        id="fsGlobal"
                        type="number"
                        step="0.05"
                        value="1.5"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="fsTension"
                        class="block text-sm font-medium text-gray-700"
                        >FS in tension</label
                      >
                      <input
                        id="fsTension"
                        type="number"
                        step="0.05"
                        value="1.5"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>

                  <div class="grid grid-cols-2 gap-3">
                    <div>
                      <label
                        for="fsBond"
                        class="block text-sm font-medium text-gray-700"
                        >FS in bond</label
                      >
                      <input
                        id="fsBond"
                        type="number"
                        step="0.05"
                        value="1.5"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                    <div>
                      <label
                        for="phiReduction"
                        class="block text-sm font-medium text-gray-700"
                        >Strength reduction factor φR</label
                      >
                      <input
                        id="phiReduction"
                        type="number"
                        step="0.05"
                        value="0.9"
                        class="mt-1 w-full border rounded-md px-3 py-2"
                      />
                    </div>
                  </div>

                  <div>
                    <label
                      for="numSlices"
                      class="block text-sm font-medium text-gray-700"
                      >Number of slices for global check</label
                    >
                    <input
                      id="numSlices"
                      type="number"
                      step="1"
                      value="20"
                      class="mt-1 w-full border rounded-md px-3 py-2"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Used for a simplified planar failure surface check.
                    </p>
                  </div>
                </div>
              </div>

              <div class="mt-6 flex flex-wrap gap-3 items-center">
                <button
                  id="calculateBtn"
                  class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-md"
                >
                  Calculate soil nail design
                </button>
                <button
                  id="resetBtn"
                  class="border border-gray-300 text-gray-700 px-4 py-2 rounded-md"
                >
                  Reset
                </button>
                <span id="calcStatus" class="text-sm text-gray-500"></span>
              </div>
            </section>

            <!-- Results -->
            <section class="mt-8" aria-labelledby="results-heading">
              <h2 id="results-heading" class="text-xl font-semibold mb-4">
                Design Results
              </h2>

              <div id="resultsContainer" class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                  <div class="border rounded-lg p-4 bg-gray-50">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Global Stability
                      <span
                        id="fsGlobalBadge"
                        class="result-badge px-2 py-1 rounded-full bg-gray-200 text-gray-700"
                        >FS</span
                      >
                    </h3>
                    <p class="text-sm text-gray-700">
                      Approximate factor of safety against global failure for a
                      planar slip surface.
                    </p>
                    <p class="mt-2 text-lg font-semibold">
                      FS<sub>global</sub> ≈ <span id="fsGlobalOut">–</span>
                    </p>
                    <p class="text-xs text-gray-500 mt-1">
                      Target FS<sub>global</sub> =
                      <span id="fsGlobalTargetOut">1.5</span>
                    </p>
                  </div>

                  <div class="border rounded-lg p-4 bg-gray-50">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Nail Length & Layout
                      <span
                        class="result-badge px-2 py-1 rounded-full bg-blue-100 text-blue-700"
                        >Geometry</span
                      >
                    </h3>
                    <p class="text-sm text-gray-700">
                      Nail length and density required to stabilize the wall.
                    </p>
                    <ul class="mt-2 text-sm text-gray-800 space-y-1">
                      <li>
                        Required nail length L ≈
                        <span id="nailLengthOut">–</span> m
                      </li>
                      <li>
                        Nails per vertical meter:
                        <span id="nailsPerHeightOut">–</span>
                      </li>
                      <li>
                        Nails per square meter of wall:
                        <span id="nailsPerAreaOut">–</span>
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="grid md:grid-cols-3 gap-4">
                  <div class="border rounded-lg p-4 bg-gray-50">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Nail Tension
                      <span
                        id="tensionBadge"
                        class="result-badge px-2 py-1 rounded-full bg-gray-200 text-gray-700"
                        >Check</span
                      >
                    </h3>
                    <p class="text-sm text-gray-700">
                      Maximum nail tensile demand vs. steel capacity.
                    </p>
                    <ul class="mt-2 text-sm text-gray-800 space-y-1">
                      <li>
                        T<sub>max</sub> ≈
                        <span id="tensionDemandOut">–</span> kN
                      </li>
                      <li>
                        T<sub>cap</sub> ≈
                        <span id="tensionCapacityOut">–</span> kN
                      </li>
                      <li>Utilization: <span id="tensionUtilOut">–</span> %</li>
                    </ul>
                  </div>

                  <div class="border rounded-lg p-4 bg-gray-50">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Bond Capacity
                      <span
                        id="bondBadge"
                        class="result-badge px-2 py-1 rounded-full bg-gray-200 text-gray-700"
                        >Check</span
                      >
                    </h3>
                    <p class="text-sm text-gray-700">
                      Available bond vs. required bond along the nail.
                    </p>
                    <ul class="mt-2 text-sm text-gray-800 space-y-1">
                      <li>
                        Bond capacity ≈ <span id="bondCapacityOut">–</span> kN
                      </li>
                      <li>
                        Demand (per nail) ≈ <span id="bondDemandOut">–</span> kN
                      </li>
                      <li>Utilization: <span id="bondUtilOut">–</span> %</li>
                    </ul>
                  </div>

                  <div class="border rounded-lg p-4 bg-gray-50">
                    <h3
                      class="font-semibold mb-2 flex items-center justify-between"
                    >
                      Facing Pressure
                      <span
                        class="result-badge px-2 py-1 rounded-full bg-blue-100 text-blue-700"
                        >Service</span
                      >
                    </h3>
                    <p class="text-sm text-gray-700">
                      Estimated maximum lateral pressure at mid-height.
                    </p>
                    <ul class="mt-2 text-sm text-gray-800 space-y-1">
                      <li>p<sub>max</sub> ≈ <span id="pMaxOut">–</span> kPa</li>
                      <li>
                        Nail load at mid-height ≈
                        <span id="midNailLoadOut">–</span> kN
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="mt-4">
                  <h3 class="font-semibold mb-2">Design Summary</h3>
                  <pre
                    id="designSummary"
                    class="text-xs bg-gray-900 text-green-100 rounded-md p-3 overflow-x-auto whitespace-pre-wrap"
                  >
Run the calculation to see a text summary of the soil nail wall design.</pre
                  >
                </div>
              </div>
            </section>

            <!-- Theory & Guide -->
            <section class="mt-10 prose">
              <h2>Soil Nail Design – Methodology & Assumptions</h2>
              <p>
                This calculator follows the general philosophy of FHWA soil nail
                wall design (e.g., FHWA-NHI-14-007) and various DOT manuals. It
                is intended for <strong>preliminary design</strong> and
                educational use, not for final construction documents.
              </p>

              <h3>1. Geometry and layout</h3>
              <p>
                The wall is defined by its height \(H\), face batter angle
                \(\beta\) (from vertical), and a uniform soil profile. Nails are
                installed at inclination \(\alpha\) from the horizontal, with
                vertical spacing \(S_v\) and horizontal spacing \(S_h\). The
                nail length is taken as:
              </p>
              <div class="formula-box">\( L = (L/H) \times H \)</div>
              <p>
                Typical preliminary values are \(L/H = 0.7\)–\(1.0\), \(\alpha =
                10^\circ\)–\(20^\circ\), and \(S_v, S_h = 1.0\)–\(2.0\) m.
              </p>

              <h3>2. Earth pressure and lateral load</h3>
              <p>
                For a vertical wall with frictional soil, the active earth
                pressure coefficient \(K_a\) is often used:
              </p>
              <div class="formula-box">
                \( K_a = \tan^2\left(45^\circ - \dfrac{\varphi}{2}\right) \)
              </div>
              <p>
                The calculator lets you input a generic coefficient \(K\) (often
                taken as \(K_a\)) and computes the lateral pressure at depth
                \(z\):
              </p>
              <div class="formula-box">
                \( \sigma_h(z) = K \, \gamma' \, z + K \, q \)
              </div>
              <p>
                where \(\gamma'\) is the effective unit weight (reduced below
                the groundwater table) and \(q\) is the uniform surcharge.
              </p>

              <h3>3. Nail tensile capacity</h3>
              <p>The steel cross-sectional area is:</p>
              <div class="formula-box">\( A_s = \dfrac{\pi d_b^2}{4} \)</div>
              <p>The design tensile capacity (factored) is:</p>
              <div class="formula-box">
                \( T_{\text{cap}} = \dfrac{\varphi_R \, f_y \, A_s}{10^3} \quad
                [\text{kN}] \)
              </div>
              <p>
                where \(f_y\) is in MPa and \(A_s\) in mm². The calculator
                compares this to the maximum tensile demand per nail and reports
                a utilization ratio.
              </p>

              <h3>4. Bond capacity along the nail</h3>
              <p>
                The bond capacity is computed from the perimeter of the grout
                column and the bond length:
              </p>
              <div class="formula-box">
                \( Q_{\text{bond}} = \dfrac{\tau_b \, \pi \, d_g \,
                L_{\text{bond}}}{10^3} \quad [\text{kN}] \)
              </div>
              <p>
                where \(\tau_b\) is the design bond strength (kPa), \(d_g\) is
                the grout diameter (assumed slightly larger than the bar), and
                \(L_{\text{bond}}\) is the effective bonded length behind the
                potential failure surface. For simplicity, this tool assumes the
                entire nail length is bonded and uses a default grout diameter
                of 100 mm unless adjusted in code.
              </p>

              <h3>5. Global stability check (simplified)</h3>
              <p>
                A simplified planar failure surface is assumed, extending from
                the toe to the ground surface at an angle related to the soil
                friction angle. The resisting forces from soil shear strength
                and nail forces are compared to the driving forces from
                self-weight and surcharge:
              </p>
              <div class="formula-box">
                \( FS_{\text{global}} = \dfrac{\sum R}{\sum S} \)
              </div>
              <p>
                This is <strong>not</strong> a full Bishop or Morgenstern–Price
                analysis, but it gives a quick indication of whether the wall
                geometry and nail layout are reasonable.
              </p>

              <h3>6. Typical design ranges</h3>
              <ul>
                <li>
                  Wall height: 4–20 m (higher walls require more rigorous
                  analysis).
                </li>
                <li>
                  Nail length: 0.7–1.0 H, with at least 4–5 m bonded length
                  beyond the failure surface.
                </li>
                <li>Nail spacing: 1.0–2.0 m vertically and horizontally.</li>
                <li>
                  Bond strength: 60–150 kPa depending on soil and grout quality.
                </li>
                <li>
                  Target factors of safety: 1.5–2.0 for global stability,
                  1.5–2.0 for nail tension and bond.
                </li>
              </ul>

              <h3>7. Limitations and good practice</h3>
              <ul>
                <li>
                  This tool assumes homogeneous soil and a simple geometry;
                  layered soils, complex topography, and seismic loading are not
                  explicitly modeled.
                </li>
                <li>
                  Facing design (shotcrete, bearing plates, connection details)
                  is not covered and must be designed separately.
                </li>
                <li>
                  Always calibrate input parameters (φ, c, γ, τb) using
                  site-specific geotechnical investigation and laboratory tests.
                </li>
                <li>
                  Verify the design with a full limit-equilibrium or numerical
                  analysis (e.g., SLOPE/W, PLAXIS, FLAC) before construction.
                </li>
              </ul>

              <h3>References & further reading</h3>
              <ul>
                <li>
                  FHWA-NHI-14-007 – <em>Soil Nail Walls Reference Manual</em>.
                </li>
                <li>
                  Relevant state DOT geotechnical design manuals (e.g.,
                  Caltrans, NYSDOT, ODOT).
                </li>
                <li>
                  EN 1997-1 (Eurocode 7) and associated national annexes for
                  geotechnical design.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-10">
              <h2 class="text-xl font-semibold mb-4">
                Frequently Asked Questions
              </h2>
              <div class="space-y-3" id="faq-container">
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Can I use this soil nail design calculator for final design?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    No. The calculator is for preliminary sizing and educational
                    purposes only. Final design must follow the governing
                    standard (e.g., FHWA, AASHTO, Eurocode 7, local DOT manuals)
                    and be prepared and sealed by a qualified engineer using
                    detailed geotechnical data and more rigorous analysis
                    methods.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How should I choose the bond strength τb?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Bond strength depends on soil type, grout quality, drilling
                    method, and installation. Typical design values range from
                    about 60 kPa in weak soils to over 150 kPa in dense sands or
                    weathered rock. Use values recommended in FHWA manuals or
                    local guidance, and adjust based on load testing where
                    available.
                  </p>
                </details>
                <details class="border rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Does the calculator consider seismic loading?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    No explicit seismic earth pressure model is included. For
                    seismic design, you should apply an increased equivalent
                    lateral pressure or use a pseudo-static analysis with
                    horizontal seismic coefficients as required by your code,
                    and verify the design with a full stability analysis.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Soil, Nail, Design.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Engineering Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/soil-nail-design.html"
                  class="hidden"
                ></a>
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pile-capacity"
                  class="text-blue-600 hover:underline"
                  >Pile Capacity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bearing-capacity"
                  class="text-blue-600 hover:underline"
                  >Soil Bearing Capacity</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/slope-stability"
                  class="text-blue-600 hover:underline"
                  >Slope Stability (Method of Slices)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retaining-wall-stability"
                  class="text-blue-600 hover:underline"
                  >Retaining Wall Stability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/eurocode-7-slope-stability"
                  class="text-blue-600 hover:underline"
                  >Eurocode 7 Slope Stability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/green-roof-load"
                  class="text-blue-600 hover:underline"
                  >Green Roof Load</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beam-deflection"
                  class="text-blue-600 hover:underline"
                  >Beam Deflection</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/factor-of-safety"
                  class="text-blue-600 hover:underline"
                  >Factor of Safety Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/categories/engineering"
                  class="text-gray-700 hover:underline"
                  >All Engineering Calculators</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function deg2rad(d) {
        return (d * Math.PI) / 180;
      }

      function formatNumber(val, decimals = 2) {
        if (!isFinite(val)) return "–";
        return Number(val).toFixed(decimals);
      }

      function setBadge(el, ok) {
        if (!el) return;
        el.classList.remove(
          "bg-gray-200",
          "text-gray-700",
          "bg-red-100",
          "text-red-700",
          "bg-green-100",
          "text-green-700"
        );
        if (ok === null) {
          el.classList.add("bg-gray-200", "text-gray-700");
          el.textContent = "FS";
        } else if (ok) {
          el.classList.add("bg-green-100", "text-green-700");
          el.textContent = "OK";
        } else {
          el.classList.add("bg-red-100", "text-red-700");
          el.textContent = "Check";
        }
      }

      function calculateSoilNailDesign() {
        const statusEl = document.getElementById("calcStatus");
        statusEl.textContent = "Calculating...";

        // Inputs
        const H = parseFloat(document.getElementById("wallHeight").value);
        const beta = deg2rad(
          parseFloat(document.getElementById("faceBatter").value || 0)
        );
        const alpha = deg2rad(
          parseFloat(document.getElementById("nailInclination").value || 15)
        );
        const Lratio = parseFloat(
          document.getElementById("nailLengthRatio").value || 0.8
        );
        const Sv = parseFloat(
          document.getElementById("vertSpacing").value || 1.5
        );
        const Sh = parseFloat(
          document.getElementById("horizSpacing").value || 1.5
        );

        const gamma = parseFloat(
          document.getElementById("unitWeight").value || 18
        );
        const phi = deg2rad(
          parseFloat(document.getElementById("phi").value || 30)
        );
        const c = parseFloat(document.getElementById("cohesion").value || 0);
        const q = parseFloat(document.getElementById("surcharge").value || 0);
        const zw = parseFloat(document.getElementById("gwDepth").value || 999);

        const db = parseFloat(
          document.getElementById("barDiameter").value || 25
        ); // mm
        const fy = parseFloat(document.getElementById("fy").value || 500); // MPa
        const tau_b = parseFloat(
          document.getElementById("bondStrength").value || 100
        ); // kPa
        const K = parseFloat(
          document.getElementById("overburdenFactor").value || 0.33
        );

        const FSg_target = parseFloat(
          document.getElementById("fsGlobal").value || 1.5
        );
        const FSt = parseFloat(
          document.getElementById("fsTension").value || 1.5
        );
        const FSb = parseFloat(document.getElementById("fsBond").value || 1.5);
        const phiR = parseFloat(
          document.getElementById("phiReduction").value || 0.9
        );
        const nSlices = Math.max(
          5,
          parseInt(document.getElementById("numSlices").value || 20, 10)
        );

        // Basic checks
        if (!H || H <= 0 || !Sv || !Sh) {
          statusEl.textContent =
            "Please enter valid wall height and nail spacing.";
          return;
        }

        const gamma_w = 9.81; // kN/m3
        const gamma_eff = zw < H ? gamma - gamma_w : gamma;

        const L = Lratio * H;
        const nailsPerHeight = 1.0 / Sv;
        const nailsPerArea = 1.0 / (Sv * Sh);

        // Earth pressure at mid-height
        const zMid = H / 2;
        const sigma_h_mid = K * gamma_eff * zMid + K * q; // kPa
        const pMax = sigma_h_mid; // approx

        // Nail load at mid-height (tributary area Sv*Sh)
        const nailLoadMid = (pMax * Sv * Sh) / 1000; // kN

        // Steel area and capacity
        const As = (Math.PI * Math.pow(db, 2)) / 4; // mm2
        const T_cap = (phiR * fy * As) / 1000; // kN (MPa*mm2/1000 = kN)
        const T_demand = nailLoadMid * FSt; // design demand with FS in tension
        const tensionUtil = (T_demand / T_cap) * 100;

        // Bond capacity (assume grout diameter 100 mm)
        const dg = 100; // mm
        const Lbond = L; // assume full length bonded
        const perimeter = (Math.PI * dg) / 1000; // m
        const Q_bond = (tau_b * perimeter * Lbond) / 1000; // kN
        const Q_demand = nailLoadMid * FSb;
        const bondUtil = (Q_demand / Q_bond) * 100;

        // Simplified global FS using planar wedge
        // Assume failure plane at angle theta = 45 + phi/2 from horizontal
        const theta = deg2rad(45) + phi / 2;
        const lengthPlane = H / Math.sin(theta);
        const weight = 0.5 * H * lengthPlane * gamma_eff; // per unit width, triangular wedge
        const surchargeForce = (q * H) / Math.tan(theta); // approx
        const driving =
          weight * Math.sin(theta) + surchargeForce * Math.sin(theta);
        const resistingSoil =
          (weight * Math.cos(theta) + surchargeForce * Math.cos(theta)) *
            Math.tan(phi) +
          c * lengthPlane;
        // Nails intersecting plane: assume one row per Sv, each contributing T_cap * cos(alpha)
        const nRows = Math.floor(H / Sv);
        const nailResist = nRows * (T_cap / FSt) * Math.cos(alpha); // available resistance along plane
        const resistingTotal = resistingSoil + nailResist;
        const FS_global = resistingTotal / driving;

        // Update outputs
        document.getElementById("fsGlobalOut").textContent = formatNumber(
          FS_global,
          2
        );
        document.getElementById("fsGlobalTargetOut").textContent = formatNumber(
          FSg_target,
          2
        );
        document.getElementById("nailLengthOut").textContent = formatNumber(
          L,
          2
        );
        document.getElementById("nailsPerHeightOut").textContent = formatNumber(
          nailsPerHeight,
          2
        );
        document.getElementById("nailsPerAreaOut").textContent = formatNumber(
          nailsPerArea,
          2
        );

        document.getElementById("tensionDemandOut").textContent = formatNumber(
          T_demand,
          1
        );
        document.getElementById("tensionCapacityOut").textContent =
          formatNumber(T_cap, 1);
        document.getElementById("tensionUtilOut").textContent = isFinite(
          tensionUtil
        )
          ? formatNumber(tensionUtil, 0)
          : "–";

        document.getElementById("bondCapacityOut").textContent = formatNumber(
          Q_bond,
          1
        );
        document.getElementById("bondDemandOut").textContent = formatNumber(
          Q_demand,
          1
        );
        document.getElementById("bondUtilOut").textContent = isFinite(bondUtil)
          ? formatNumber(bondUtil, 0)
          : "–";

        document.getElementById("pMaxOut").textContent = formatNumber(pMax, 1);
        document.getElementById("midNailLoadOut").textContent = formatNumber(
          nailLoadMid,
          1
        );

        // Badges
        setBadge(
          document.getElementById("fsGlobalBadge"),
          FS_global >= FSg_target
        );
        setBadge(document.getElementById("tensionBadge"), tensionUtil <= 100);
        setBadge(document.getElementById("bondBadge"), bondUtil <= 100);

        // Summary
        const summaryLines = [];
        summaryLines.push("Preliminary Soil Nail Wall Design Summary");
        summaryLines.push("----------------------------------------");
        summaryLines.push(`Wall height H: ${formatNumber(H, 2)} m`);
        summaryLines.push(
          `Nail length L: ${formatNumber(L, 2)} m (L/H = ${formatNumber(
            Lratio,
            2
          )})`
        );
        summaryLines.push(
          `Nail spacing: Sv = ${formatNumber(Sv, 2)} m, Sh = ${formatNumber(
            Sh,
            2
          )} m`
        );
        summaryLines.push(
          `Nail inclination: ${formatNumber(
            parseFloat(document.getElementById("nailInclination").value || 15),
            1
          )}° from horizontal`
        );
        summaryLines.push("");
        summaryLines.push(
          `Soil: γ = ${formatNumber(gamma, 1)} kN/m³, φ = ${formatNumber(
            parseFloat(document.getElementById("phi").value || 30),
            1
          )}°, c = ${formatNumber(c, 1)} kPa`
        );
        summaryLines.push(
          `Surcharge q = ${formatNumber(
            q,
            1
          )} kPa, groundwater depth zw = ${formatNumber(zw, 2)} m`
        );
        summaryLines.push("");
        summaryLines.push(
          `Approx. max lateral pressure at mid-height: p_max ≈ ${formatNumber(
            pMax,
            1
          )} kPa`
        );
        summaryLines.push(
          `Nail load at mid-height (tributary Sv*Sh): ≈ ${formatNumber(
            nailLoadMid,
            1
          )} kN`
        );
        summaryLines.push("");
        summaryLines.push(
          `Steel bar: db = ${formatNumber(db, 0)} mm, fy = ${formatNumber(
            fy,
            0
          )} MPa`
        );
        summaryLines.push(
          `Steel tensile capacity (factored): T_cap ≈ ${formatNumber(
            T_cap,
            1
          )} kN`
        );
        summaryLines.push(
          `Tensile demand (with FS_t = ${formatNumber(
            FSt,
            2
          )}): T_demand ≈ ${formatNumber(T_demand, 1)} kN`
        );
        summaryLines.push(
          `Tension utilization: ${
            isFinite(tensionUtil) ? formatNumber(tensionUtil, 0) + " %" : "n/a"
          }`
        );
        summaryLines.push("");
        summaryLines.push(
          `Bond strength τ_b = ${formatNumber(
            tau_b,
            1
          )} kPa, assumed grout diameter = ${dg} mm`
        );
        summaryLines.push(
          `Bond capacity per nail: Q_bond ≈ ${formatNumber(Q_bond, 1)} kN`
        );
        summaryLines.push(
          `Bond demand (with FS_b = ${formatNumber(
            FSb,
            2
          )}): Q_demand ≈ ${formatNumber(Q_demand, 1)} kN`
        );
        summaryLines.push(
          `Bond utilization: ${
            isFinite(bondUtil) ? formatNumber(bondUtil, 0) + " %" : "n/a"
          }`
        );
        summaryLines.push("");
        summaryLines.push(
          `Approximate global factor of safety FS_global ≈ ${formatNumber(
            FS_global,
            2
          )} (target = ${formatNumber(FSg_target, 2)})`
        );
        summaryLines.push("");
        summaryLines.push(
          "Note: This is a simplified, planar-wedge check for preliminary design only. Use a full limit-equilibrium or numerical analysis and follow FHWA/local code requirements for final design."
        );

        document.getElementById("designSummary").textContent =
          summaryLines.join("\n");

        statusEl.textContent = "Calculation complete (preliminary results).";
      }

      document
        .getElementById("calculateBtn")
        .addEventListener("click", calculateSoilNailDesign);

      document.getElementById("resetBtn").addEventListener("click", () => {
        // Simple reload to restore defaults
        window.location.reload();
      });

      // Run once on load for default example
      window.addEventListener("DOMContentLoaded", calculateSoilNailDesign);
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
