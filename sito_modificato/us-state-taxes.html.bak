<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/us-state-taxes" />
    <title>Us State Taxes Calculator: Urgent [Urgent 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Us State Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Us State Taxes Calculator: Urgent [Urgent 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Us State Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/us-state-taxes" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Us State Taxes Calculator: Urgent [Urgent 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Us State Taxes Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Finance Calculators", "item": "https://calcdomain.com/categories/finance"}, {"@type": "ListItem", "position": 3, "name": "Taxes Calculators", "item": "https://calcdomain.com/subcategories/taxes"}, {"@type": "ListItem", "position": 4, "name": "US State Taxes Calculator", "item": "https://calcdomain.com/us-state-taxes"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/finance" class="text-blue-600 hover:underline">Finance Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/taxes" class="text-blue-600 hover:underline">Taxes Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">US State Taxes Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                US State Taxes Calculator
              </h1>
              <p class="text-gray-600">
                Estimate and compare state income and sales tax burdens across
                all 50 states plus DC.
              </p>
            </header>

            <!-- Calculator Card -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Estimate your US state tax bill
              </h2>
              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <div>
                    <label
                      for="income"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Annual taxable income (USD)</label
                    >
                    <input
                      type="number"
                      id="income"
                      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      value="80000"
                      min="0"
                      step="1000"
                    />
                  </div>

                  <div>
                    <label
                      for="filing-status"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Filing status</label
                    >
                    <select
                      id="filing-status"
                      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    >
                      <option value="single">Single</option>
                      <option value="married">Married filing jointly</option>
                      <option value="hoh">Head of household</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="home-state"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Home state</label
                    >
                    <select
                      id="home-state"
                      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    ></select>
                  </div>

                  <div>
                    <label
                      for="compare-state"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Compare with (optional)</label
                    >
                    <select
                      id="compare-state"
                      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                    >
                      <option value="">— None —</option>
                    </select>
                  </div>

                  <div>
                    <label
                      for="taxable-spending"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Annual taxable spending (subject to sales tax)</label
                    >
                    <input
                      type="number"
                      id="taxable-spending"
                      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                      value="30000"
                      min="0"
                      step="500"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Rough estimate of how much you spend on goods/services
                      that are typically taxed.
                    </p>
                  </div>

                  <div class="flex items-center space-x-2">
                    <input
                      id="include-sales"
                      type="checkbox"
                      class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                      checked
                    />
                    <label for="include-sales" class="text-sm text-gray-700"
                      >Include sales tax in total burden</label
                    >
                  </div>

                  <button
                    id="calc-btn"
                    class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 transition-colors"
                  >
                    Calculate state taxes
                  </button>
                </div>

                <div class="bg-gray-50 border rounded-md p-4 space-y-4">
                  <h3 class="font-semibold text-gray-800">Results</h3>
                  <div id="results-home" class="text-sm space-y-1">
                    <p class="font-medium">
                      Home state:
                      <span
                        id="res-home-name"
                        class="font-semibold text-blue-700"
                        >—</span
                      >
                    </p>
                    <p>
                      Estimated state income tax:
                      <span id="res-home-income" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p>
                      Estimated state sales tax:
                      <span id="res-home-sales" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p>
                      Total state tax burden:
                      <span id="res-home-total" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p class="text-xs text-gray-500 mt-1">
                      Does not include federal tax, payroll tax, property tax,
                      or local income taxes.
                    </p>
                  </div>

                  <div
                    id="results-compare"
                    class="text-sm space-y-1 hidden border-t pt-3 mt-3"
                  >
                    <p class="font-medium">
                      Comparison state:
                      <span
                        id="res-comp-name"
                        class="font-semibold text-blue-700"
                        >—</span
                      >
                    </p>
                    <p>
                      Estimated state income tax:
                      <span id="res-comp-income" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p>
                      Estimated state sales tax:
                      <span id="res-comp-sales" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p>
                      Total state tax burden:
                      <span id="res-comp-total" class="font-mono font-semibold"
                        >$0</span
                      >
                    </p>
                    <p class="mt-2 text-sm">
                      Difference vs home state:
                      <span
                        id="res-diff"
                        class="font-mono font-semibold"
                      ></span>
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <!-- Comparison Table -->
            <section aria-labelledby="table-heading" class="mb-10">
              <h2 id="table-heading" class="text-xl font-semibold mb-3">
                Compare all US states
              </h2>
              <p class="text-sm text-gray-600 mb-3">
                Sort and filter states by top marginal income tax rate, average
                sales tax, and estimated total burden on your inputs.
              </p>

              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-3"
              >
                <div class="flex items-center space-x-2">
                  <label for="table-filter" class="text-sm text-gray-700"
                    >Highlight:</label
                  >
                  <select
                    id="table-filter"
                    class="border rounded-md px-2 py-1 text-sm"
                  >
                    <option value="none">All states</option>
                    <option value="no-income">No income tax states</option>
                    <option value="high-income">Top income tax (≥ 9%)</option>
                    <option value="low-income">Low income tax (≤ 3%)</option>
                  </select>
                </div>
                <p class="text-xs text-gray-500">
                  Rates are approximate and may not reflect the latest
                  legislative changes.
                </p>
              </div>

              <div
                class="border rounded-md overflow-hidden max-h-96 overflow-y-auto table-sticky"
              >
                <table class="min-w-full text-xs md:text-sm">
                  <thead>
                    <tr class="bg-gray-100 text-gray-700">
                      <th
                        class="px-3 py-2 text-left cursor-pointer"
                        data-sort="state"
                      >
                        State
                      </th>
                      <th
                        class="px-3 py-2 text-right cursor-pointer"
                        data-sort="incomeRate"
                      >
                        Top income tax rate
                      </th>
                      <th
                        class="px-3 py-2 text-right cursor-pointer"
                        data-sort="salesRate"
                      >
                        Avg sales tax
                      </th>
                      <th
                        class="px-3 py-2 text-right cursor-pointer"
                        data-sort="incomeTax"
                      >
                        Est. income tax
                      </th>
                      <th
                        class="px-3 py-2 text-right cursor-pointer"
                        data-sort="salesTax"
                      >
                        Est. sales tax
                      </th>
                      <th
                        class="px-3 py-2 text-right cursor-pointer"
                        data-sort="totalTax"
                      >
                        Total state tax
                      </th>
                    </tr>
                  </thead>
                  <tbody
                    id="states-tbody"
                    class="divide-y divide-gray-100"
                  ></tbody>
                </table>
              </div>
            </section>

            <!-- Explanatory Content -->
            <section class="prose">
              <h2>How this US state taxes calculator works</h2>
              <p>
                This tool gives you a quick, comparable snapshot of how much you
                might pay in
                <strong>state income tax</strong> and
                <strong>state &amp; local sales tax</strong> in each US state,
                based on your income and spending assumptions.
              </p>

              <h3>1. State income tax estimate</h3>
              <p>
                For each state we store a simplified representation of its
                <strong>top marginal income tax rate</strong>
                and whether it has a broad-based income tax at all. To keep the
                tool fast and easy to use, we approximate your state income tax
                as:
              </p>
              <div class="formula-box text-sm">
                <p>
                  <strong>Estimated state income tax</strong> ≈
                  <code>taxable income × effective income tax rate</code>
                </p>
                <p class="mt-2">
                  where the effective rate is a fraction of the top marginal
                  rate (for example, about 60–70% of the top rate for
                  middle‑to‑upper‑middle incomes).
                </p>
              </div>
              <p>
                States with <strong>no broad wage income tax</strong> (such as
                Texas or Florida) are modeled with a 0% income tax rate. States
                that tax only certain types of income (e.g., interest/dividends)
                are treated as having no wage tax for this simplified
                calculator.
              </p>

              <h3>2. Sales tax estimate</h3>
              <p>
                We also store an approximate
                <strong>average combined state and local sales tax rate</strong>
                for each state. Your estimated sales tax is:
              </p>
              <div class="formula-box text-sm">
                <p>
                  <strong>Estimated sales tax</strong> =
                  <code>taxable spending × avg. sales tax rate</code>
                </p>
              </div>
              <p>
                You control the <em>taxable spending</em> input. This should be
                your rough annual spending on goods and services that are
                typically subject to sales tax in your state (for example, many
                retail purchases, some services, etc.).
              </p>

              <h3>3. Total state tax burden</h3>
              <p>
                If you choose to include sales tax, the calculator adds the two
                components:
              </p>
              <div class="formula-box text-sm">
                <p>
                  <strong>Total state tax burden</strong> =
                  <code>state income tax + state &amp; local sales tax</code>
                </p>
              </div>
              <p>
                This is <strong>not</strong> a full picture of your tax
                situation. It excludes federal income tax, payroll taxes,
                property tax, excise taxes, and any city/county income taxes.
              </p>

              <h2>Limitations and assumptions</h2>
              <ul>
                <li>
                  <strong>Simplified brackets.</strong> Real state tax systems
                  use multiple brackets, deductions, and credits. We approximate
                  with a single effective rate.
                </li>
                <li>
                  <strong>No local income tax.</strong> Some cities and counties
                  (for example, in New York, Ohio, Pennsylvania) levy their own
                  income taxes. These are not included.
                </li>
                <li>
                  <strong>Average sales tax rates.</strong> We use a single
                  average combined rate per state. Your actual rate may be
                  higher or lower depending on your city or county.
                </li>
                <li>
                  <strong>Taxable income input.</strong> The income you enter is
                  treated as already adjusted for deductions and exemptions.
                </li>
                <li>
                  <strong>Not legal or tax advice.</strong> Use this tool for
                  education and planning only. For filing or major financial
                  decisions, consult a qualified tax professional or your
                  state’s official resources.
                </li>
              </ul>

              <h2>States with no state income tax</h2>
              <p>
                As of recent data, the following states do not levy a
                broad-based income tax on wages:
              </p>
              <ul>
                <li>Alaska</li>
                <li>Florida</li>
                <li>Nevada</li>
                <li>South Dakota</li>
                <li>Tennessee</li>
                <li>Texas</li>
                <li>Washington</li>
                <li>Wyoming</li>
              </ul>
              <p>
                New Hampshire taxes some investment income but not wages. Even
                in no‑income‑tax states, residents still pay federal income tax,
                payroll taxes, and often higher sales or property taxes.
              </p>

              <h2>Using this tool to compare states</h2>
              <p>
                The real strength of this calculator is in
                <strong>side‑by‑side comparisons</strong>. Try:
              </p>
              <ul>
                <li>Entering your income and spending once.</li>
                <li>Selecting your current state as “Home state”.</li>
                <li>
                  Choosing a potential destination state as “Compare with”.
                </li>
                <li>
                  Scanning the table to see where your total state tax burden
                  would be lowest.
                </li>
              </ul>
              <p>
                Combine these results with cost‑of‑living data, housing costs,
                and wage differences to get a more complete picture of what
                moving to a new state might mean for your finances.
              </p>

              <h2>Data sources and keeping information current</h2>
              <p>
                State tax laws change frequently. For up‑to‑date official
                information, always refer to:
              </p>
              <ul>
                <li>
                  Your state’s Department of Revenue or tax agency website.
                </li>
                <li>IRS resources on state and local tax links.</li>
                <li>
                  Reputable non‑profit research organizations that track state
                  tax policy.
                </li>
              </ul>
              <p>
                We periodically review and update the underlying rates, but
                cannot guarantee that every figure reflects the latest
                legislative changes at all times.
              </p>
            </section>

            <!-- FAQ -->
            <section class="mt-10">
              <h2 class="text-xl font-semibold mb-4">US state taxes – FAQ</h2>
              <div class="space-y-3" id="faq-container">
                <div class="border rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Which US states have no state income tax?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    As of the most recent data, the states with no broad state
                    income tax on wages are Alaska, Florida, Nevada, South
                    Dakota, Tennessee, Texas, Washington, and Wyoming. New
                    Hampshire taxes some investment income but not wages.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Does a higher income tax rate always mean a higher tax
                      bill?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Not necessarily. Your actual bill depends on your income
                    level, deductions, credits, and how the brackets are
                    structured. A state with a high top rate might still tax
                    your specific income at a relatively low effective rate,
                    while a flat‑tax state could collect more from you even with
                    a lower headline rate.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >Are property taxes included in this calculator?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    No. This tool focuses on state income tax and average state
                    &amp; local sales tax. Property taxes vary widely by county
                    and city and are not modeled here. If you are comparing
                    states for a potential move, be sure to look up typical
                    property tax rates and housing prices as well.
                  </div>
                </div>

                <div class="border rounded-md">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium"
                      >How accurate is this US state taxes calculator?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    It is designed for quick comparisons and education, not for
                    filing. We use simplified brackets and average rates. Your
                    actual tax liability may differ due to deductions, credits,
                    local taxes, and special rules (for example, different
                    treatment of retirement income or capital gains). Always
                    confirm with official state resources or a tax professional
                    before making important decisions.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Us, State, Taxes.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Financial notes</h2><p class="text-sm text-gray-700">Enter annualized rates consistent with the period (monthly/annual). Separate gross vs. net cash flows and apply end‑of‑period timing assumptions.</p><p class="text-sm text-gray-700 mt-2">Key entities: Us, State, Taxes.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: rates > 0, consistent cash flows, period and rate alignment.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More tax & income tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/us-federal-taxes"
                  class="text-blue-600 hover:underline"
                  >US Federal Taxes Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/payroll-take-home-pay"
                  class="text-blue-600 hover:underline"
                  >Take-Home Pay (Payroll)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/income-tax-calculator"
                  class="text-blue-600 hover:underline"
                  >Income Tax Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-bracket-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Bracket Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/tax-refund-calculator"
                  class="text-blue-600 hover:underline"
                  >Tax Refund Estimator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sales-tax"
                  class="text-blue-600 hover:underline"
                  >Sales Tax Calculator (by state)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/property-tax"
                  class="text-blue-600 hover:underline"
                  >Property Tax Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Popular US state tax pages
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/california-income-tax"
                  class="text-blue-600 hover:underline"
                  >California State Income Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/new-york-income-tax"
                  class="text-blue-600 hover:underline"
                  >New York State Income Tax</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/texas-income-tax"
                  class="text-blue-600 hover:underline"
                  >Texas State Taxes Overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/florida-income-tax"
                  class="text-blue-600 hover:underline"
                  >Florida State Taxes Overview</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/washington-income-tax"
                  class="text-blue-600 hover:underline"
                  >Washington State Taxes Overview</a
                >
              </li>
            </ul>
            <p class="mt-3 text-xs text-gray-500">
              Looking for a specific state? Use the search bar at the top and
              type the state name plus “tax”.
            </p>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Simplified state tax data (illustrative, not official) ---
      const STATE_TAX_DATA = [
        // name, code, topIncomeRate, avgSalesRate, hasIncomeTax
        {
          name: "Alabama",
          code: "AL",
          incomeRate: 0.05,
          salesRate: 0.0924,
          hasIncome: true,
        },
        {
          name: "Alaska",
          code: "AK",
          incomeRate: 0.0,
          salesRate: 0.0176,
          hasIncome: false,
        },
        {
          name: "Arizona",
          code: "AZ",
          incomeRate: 0.025,
          salesRate: 0.084,
          hasIncome: true,
        },
        {
          name: "Arkansas",
          code: "AR",
          incomeRate: 0.049,
          salesRate: 0.0947,
          hasIncome: true,
        },
        {
          name: "California",
          code: "CA",
          incomeRate: 0.133,
          salesRate: 0.0868,
          hasIncome: true,
        },
        {
          name: "Colorado",
          code: "CO",
          incomeRate: 0.044,
          salesRate: 0.0777,
          hasIncome: true,
        },
        {
          name: "Connecticut",
          code: "CT",
          incomeRate: 0.0699,
          salesRate: 0.0635,
          hasIncome: true,
        },
        {
          name: "Delaware",
          code: "DE",
          incomeRate: 0.066,
          salesRate: 0.0,
          hasIncome: true,
        },
        {
          name: "District of Columbia",
          code: "DC",
          incomeRate: 0.1075,
          salesRate: 0.061,
          hasIncome: true,
        },
        {
          name: "Florida",
          code: "FL",
          incomeRate: 0.0,
          salesRate: 0.0702,
          hasIncome: false,
        },
        {
          name: "Georgia",
          code: "GA",
          incomeRate: 0.0575,
          salesRate: 0.0737,
          hasIncome: true,
        },
        {
          name: "Hawaii",
          code: "HI",
          incomeRate: 0.11,
          salesRate: 0.0444,
          hasIncome: true,
        },
        {
          name: "Idaho",
          code: "ID",
          incomeRate: 0.058,
          salesRate: 0.0602,
          hasIncome: true,
        },
        {
          name: "Illinois",
          code: "IL",
          incomeRate: 0.0495,
          salesRate: 0.0874,
          hasIncome: true,
        },
        {
          name: "Indiana",
          code: "IN",
          incomeRate: 0.0323,
          salesRate: 0.07,
          hasIncome: true,
        },
        {
          name: "Iowa",
          code: "IA",
          incomeRate: 0.068,
          salesRate: 0.0694,
          hasIncome: true,
        },
        {
          name: "Kansas",
          code: "KS",
          incomeRate: 0.057,
          salesRate: 0.0868,
          hasIncome: true,
        },
        {
          name: "Kentucky",
          code: "KY",
          incomeRate: 0.05,
          salesRate: 0.06,
          hasIncome: true,
        },
        {
          name: "Louisiana",
          code: "LA",
          incomeRate: 0.048,
          salesRate: 0.0955,
          hasIncome: true,
        },
        {
          name: "Maine",
          code: "ME",
          incomeRate: 0.0715,
          salesRate: 0.055,
          hasIncome: true,
        },
        {
          name: "Maryland",
          code: "MD",
          incomeRate: 0.0575,
          salesRate: 0.06,
          hasIncome: true,
        },
        {
          name: "Massachusetts",
          code: "MA",
          incomeRate: 0.05,
          salesRate: 0.0635,
          hasIncome: true,
        },
        {
          name: "Michigan",
          code: "MI",
          incomeRate: 0.0425,
          salesRate: 0.06,
          hasIncome: true,
        },
        {
          name: "Minnesota",
          code: "MN",
          incomeRate: 0.0985,
          salesRate: 0.0749,
          hasIncome: true,
        },
        {
          name: "Mississippi",
          code: "MS",
          incomeRate: 0.05,
          salesRate: 0.0707,
          hasIncome: true,
        },
        {
          name: "Missouri",
          code: "MO",
          incomeRate: 0.0495,
          salesRate: 0.0819,
          hasIncome: true,
        },
        {
          name: "Montana",
          code: "MT",
          incomeRate: 0.0675,
          salesRate: 0.0,
          hasIncome: true,
        },
        {
          name: "Nebraska",
          code: "NE",
          incomeRate: 0.0684,
          salesRate: 0.0689,
          hasIncome: true,
        },
        {
          name: "Nevada",
          code: "NV",
          incomeRate: 0.0,
          salesRate: 0.0823,
          hasIncome: false,
        },
        {
          name: "New Hampshire",
          code: "NH",
          incomeRate: 0.05,
          salesRate: 0.0,
          hasIncome: false,
        }, // interest/dividends only
        {
          name: "New Jersey",
          code: "NJ",
          incomeRate: 0.1075,
          salesRate: 0.066,
          hasIncome: true,
        },
        {
          name: "New Mexico",
          code: "NM",
          incomeRate: 0.059,
          salesRate: 0.0778,
          hasIncome: true,
        },
        {
          name: "New York",
          code: "NY",
          incomeRate: 0.109,
          salesRate: 0.086,
          hasIncome: true,
        },
        {
          name: "North Carolina",
          code: "NC",
          incomeRate: 0.0475,
          salesRate: 0.0699,
          hasIncome: true,
        },
        {
          name: "North Dakota",
          code: "ND",
          incomeRate: 0.029,
          salesRate: 0.0685,
          hasIncome: true,
        },
        {
          name: "Ohio",
          code: "OH",
          incomeRate: 0.0399,
          salesRate: 0.0717,
          hasIncome: true,
        },
        {
          name: "Oklahoma",
          code: "OK",
          incomeRate: 0.0475,
          salesRate: 0.0898,
          hasIncome: true,
        },
        {
          name: "Oregon",
          code: "OR",
          incomeRate: 0.099,
          salesRate: 0.0,
          hasIncome: true,
        },
        {
          name: "Pennsylvania",
          code: "PA",
          incomeRate: 0.0307,
          salesRate: 0.0634,
          hasIncome: true,
        },
        {
          name: "Rhode Island",
          code: "RI",
          incomeRate: 0.0599,
          salesRate: 0.07,
          hasIncome: true,
        },
        {
          name: "South Carolina",
          code: "SC",
          incomeRate: 0.07,
          salesRate: 0.0744,
          hasIncome: true,
        },
        {
          name: "South Dakota",
          code: "SD",
          incomeRate: 0.0,
          salesRate: 0.064,
          hasIncome: false,
        },
        {
          name: "Tennessee",
          code: "TN",
          incomeRate: 0.0,
          salesRate: 0.0955,
          hasIncome: false,
        },
        {
          name: "Texas",
          code: "TX",
          incomeRate: 0.0,
          salesRate: 0.0819,
          hasIncome: false,
        },
        {
          name: "Utah",
          code: "UT",
          incomeRate: 0.0485,
          salesRate: 0.0719,
          hasIncome: true,
        },
        {
          name: "Vermont",
          code: "VT",
          incomeRate: 0.0875,
          salesRate: 0.0624,
          hasIncome: true,
        },
        {
          name: "Virginia",
          code: "VA",
          incomeRate: 0.0575,
          salesRate: 0.0565,
          hasIncome: true,
        },
        {
          name: "Washington",
          code: "WA",
          incomeRate: 0.0,
          salesRate: 0.0929,
          hasIncome: false,
        },
        {
          name: "West Virginia",
          code: "WV",
          incomeRate: 0.065,
          salesRate: 0.0646,
          hasIncome: true,
        },
        {
          name: "Wisconsin",
          code: "WI",
          incomeRate: 0.0765,
          salesRate: 0.0543,
          hasIncome: true,
        },
        {
          name: "Wyoming",
          code: "WY",
          incomeRate: 0.0,
          salesRate: 0.0536,
          hasIncome: false,
        },
      ];

      function formatCurrency(value) {
        return "$" + value.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      function calcEffectiveIncomeRate(state, filingStatus) {
        if (!state.hasIncome || state.incomeRate === 0) return 0;
        // Simple heuristic: effective rate is 60–70% of top rate depending on filing status
        const factor =
          filingStatus === "married"
            ? 0.6
            : filingStatus === "hoh"
            ? 0.65
            : 0.7;
        return state.incomeRate * factor;
      }

      function computeStateTax(
        state,
        income,
        spending,
        filingStatus,
        includeSales
      ) {
        const effRate = calcEffectiveIncomeRate(state, filingStatus);
        const incomeTax = income * effRate;
        const salesTax = includeSales ? spending * state.salesRate : 0;
        return {
          incomeTax,
          salesTax,
          total: incomeTax + salesTax,
          effRate,
        };
      }

      function populateStateSelects() {
        const homeSel = document.getElementById("home-state");
        const compSel = document.getElementById("compare-state");
        STATE_TAX_DATA.forEach((s) => {
          const opt1 = document.createElement("option");
          opt1.value = s.code;
          opt1.textContent = s.name;
          homeSel.appendChild(opt1);

          const opt2 = document.createElement("option");
          opt2.value = s.code;
          opt2.textContent = s.name;
          compSel.appendChild(opt2);
        });
        // Default selections
        homeSel.value = "CA";
        compSel.value = "TX";
      }

      function updateResults() {
        const income = parseFloat(document.getElementById("income").value) || 0;
        const spending =
          parseFloat(document.getElementById("taxable-spending").value) || 0;
        const filingStatus = document.getElementById("filing-status").value;
        const homeCode = document.getElementById("home-state").value;
        const compCode = document.getElementById("compare-state").value;
        const includeSales = document.getElementById("include-sales").checked;

        const homeState =
          STATE_TAX_DATA.find((s) => s.code === homeCode) || STATE_TAX_DATA[0];
        const homeRes = computeStateTax(
          homeState,
          income,
          spending,
          filingStatus,
          includeSales
        );

        document.getElementById("res-home-name").textContent = homeState.name;
        document.getElementById("res-home-income").textContent = formatCurrency(
          homeRes.incomeTax
        );
        document.getElementById("res-home-sales").textContent = formatCurrency(
          homeRes.salesTax
        );
        document.getElementById("res-home-total").textContent = formatCurrency(
          homeRes.total
        );

        const compContainer = document.getElementById("results-compare");
        if (compCode) {
          const compState = STATE_TAX_DATA.find((s) => s.code === compCode);
          const compRes = computeStateTax(
            compState,
            income,
            spending,
            filingStatus,
            includeSales
          );
          document.getElementById("res-comp-name").textContent = compState.name;
          document.getElementById("res-comp-income").textContent =
            formatCurrency(compRes.incomeTax);
          document.getElementById("res-comp-sales").textContent =
            formatCurrency(compRes.salesTax);
          document.getElementById("res-comp-total").textContent =
            formatCurrency(compRes.total);

          const diff = compRes.total - homeRes.total;
          const diffEl = document.getElementById("res-diff");
          diffEl.textContent =
            (diff >= 0 ? "+" : "−") + formatCurrency(Math.abs(diff));
          diffEl.className =
            "font-mono font-semibold " +
            (diff > 0
              ? "text-red-600"
              : diff < 0
              ? "text-green-600"
              : "text-gray-800");
          compContainer.classList.remove("hidden");
        } else {
          compContainer.classList.add("hidden");
        }

        renderTable(income, spending, filingStatus, includeSales);
      }

      let currentSort = { key: "state", asc: true };

      function renderTable(income, spending, filingStatus, includeSales) {
        const tbody = document.getElementById("states-tbody");
        const filter = document.getElementById("table-filter").value;

        let rows = STATE_TAX_DATA.map((s) => {
          const res = computeStateTax(
            s,
            income,
            spending,
            filingStatus,
            includeSales
          );
          return {
            state: s.name,
            code: s.code,
            incomeRate: s.incomeRate,
            salesRate: s.salesRate,
            incomeTax: res.incomeTax,
            salesTax: res.salesTax,
            totalTax: res.total,
            hasIncome: s.hasIncome,
          };
        });

        if (filter === "no-income") {
          rows = rows.filter((r) => !r.hasIncome || r.incomeRate === 0);
        } else if (filter === "high-income") {
          rows = rows.filter((r) => r.incomeRate >= 0.09);
        } else if (filter === "low-income") {
          rows = rows.filter((r) => r.incomeRate > 0 && r.incomeRate <= 0.03);
        }

        rows.sort((a, b) => {
          const key = currentSort.key;
          let va = a[key];
          let vb = b[key];
          if (typeof va === "string") {
            va = va.toLowerCase();
            vb = vb.toLowerCase();
          }
          if (va < vb) return currentSort.asc ? -1 : 1;
          if (va > vb) return currentSort.asc ? 1 : -1;
          return 0;
        });

        tbody.innerHTML = "";
        rows.forEach((r) => {
          const tr = document.createElement("tr");
          tr.className = "hover:bg-gray-50";
          tr.innerHTML = `
        <td class="px-3 py-2 whitespace-nowrap">${r.state}</td>
        <td class="px-3 py-2 text-right">${(r.incomeRate * 100).toFixed(
          1
        )}%</td>
        <td class="px-3 py-2 text-right">${(r.salesRate * 100).toFixed(1)}%</td>
        <td class="px-3 py-2 text-right">${formatCurrency(r.incomeTax)}</td>
        <td class="px-3 py-2 text-right">${formatCurrency(r.salesTax)}</td>
        <td class="px-3 py-2 text-right font-semibold">${formatCurrency(
          r.totalTax
        )}</td>
      `;
          tbody.appendChild(tr);
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        populateStateSelects();
        updateResults();

        document.getElementById("calc-btn").addEventListener("click", (e) => {
          e.preventDefault();
          updateResults();
        });

        ["income", "taxable-spending"].forEach((id) => {
          document.getElementById(id).addEventListener("change", updateResults);
          document.getElementById(id).addEventListener("blur", updateResults);
        });
        [
          "filing-status",
          "home-state",
          "compare-state",
          "include-sales",
          "table-filter",
        ].forEach((id) => {
          document.getElementById(id).addEventListener("change", updateResults);
        });

        document.querySelectorAll("th[data-sort]").forEach((th) => {
          th.addEventListener("click", () => {
            const keyMap = {
              state: "state",
              incomeRate: "incomeRate",
              salesRate: "salesRate",
              incomeTax: "incomeTax",
              salesTax: "salesTax",
              totalTax: "totalTax",
            };
            const key = keyMap[th.getAttribute("data-sort")];
            if (currentSort.key === key) {
              currentSort.asc = !currentSort.asc;
            } else {
              currentSort.key = key;
              currentSort.asc = key === "state"; // default asc for state name, desc for numeric
            }
            updateResults();
          });
        });

        // Simple FAQ toggle (in addition to global script_faq if present)
        document
          .querySelectorAll("#faq-container .faq-question")
          .forEach((btn) => {
            btn.addEventListener("click", () => {
              const ans = btn.parentElement.querySelector(".faq-answer");
              const icon = btn.querySelector("span:last-child");
              const isHidden = ans.classList.contains("hidden");
              document
                .querySelectorAll("#faq-container .faq-answer")
                .forEach((a) => a.classList.add("hidden"));
              document
                .querySelectorAll(
                  "#faq-container .faq-question span:last-child"
                )
                .forEach((i) => (i.textContent = "+"));
              if (isHidden) {
                ans.classList.remove("hidden");
                icon.textContent = "−";
              }
            });
          });
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
