<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Trapezoid Area Calculator – Bases, Height, Vertices &amp; Isosceles</title>
    <meta name="description" content="Trapezoid area calculator with multiple methods. Compute area from bases and height, isosceles trapezoid sides, or coordinates of vertices. Get perimeter, midsegment, height and step-by-step formulas.">
    <link rel="canonical" href="https://calcdomain.com/trapezoid-area">
    
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .code-like { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        .badge { display: inline-flex; align-items: center; border-radius: 9999px; padding: 0.1rem 0.65rem; font-size: 0.7rem; font-weight: 500; }
        .result-label { font-weight: 500; color: #111827; }
        .result-value { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    </style>
    
    <!-- HEAD_SCRIPTS_E_META -->
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

    <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/categories/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Core Math Algebra",
          "item": "https://calcdomain.com/subcategories/core-math-algebra"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is the formula for the area of a trapezoid?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "If a trapezoid has two parallel bases b1 and b2 and height h (the distance between the bases), its area is A = (b1 + b2) · h / 2. The calculator uses this as the primary formula when you provide bases and height."
          }
        },
        {
          "@type": "Question",
          "name": "What do I need to calculate trapezoid area?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The simplest option is to know the lengths of both parallel bases and the height. This calculator can also compute area of an isosceles trapezoid from the two bases and the equal leg, or from the coordinates of the four vertices using the shoelace formula."
          }
        },
        {
          "@type": "Question",
          "name": "Does the order of vertices matter for the coordinate method?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. For the coordinate method, you should enter the four vertices in order around the boundary of the trapezoid, either clockwise or counterclockwise. If the points are out of order, the area may be incorrect or the shape may not be a trapezoid."
          }
        },
        {
          "@type": "Question",
          "name": "Can this calculator compute the perimeter as well?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. If you provide the lengths of the non-parallel sides in the bases and height mode, or if you use the coordinate mode, the calculator will also compute the perimeter and basic side-length diagnostics."
          }
        },
        {
          "@type": "Question",
          "name": "What units does the trapezoid area calculator use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can select any linear unit such as meters, centimeters, inches, or feet. The area is reported in the corresponding squared unit (m², cm², in², ft²). Conversions between linear units are not applied automatically; the tool assumes all inputs are in the same unit."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to use the trapezoid area calculator",
      "description": "Step-by-step instructions to calculate the area and perimeter of a trapezoid from different sets of input data.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Choose the calculation method",
          "text": "Select whether you want to compute area from bases and height, from bases and equal leg (isosceles trapezoid), or from the coordinates of the four vertices."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Enter the known dimensions",
          "text": "Fill in the required lengths or coordinates. For bases and height, provide both bases and the height, and optionally side lengths for the perimeter. For the isosceles method, provide the two bases and the equal leg. For the coordinate method, enter the four vertices in order around the trapezoid."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Set the unit and precision",
          "text": "Select the linear unit (for example, meters or feet) and the number of decimal places you want the results to be rounded to."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Run the calculation",
          "text": "Click the Calculate button. The calculator will return the area, perimeter (if possible), midsegment length, and the height (if it was computed, not entered)."
        },
        {
          "@type": "HowToStep",
          "position": 5,
          "name": "Review the formulas and interpretation",
          "text": "Use the detailed explanation below the calculator to review the formulas used for each method and understand how the geometry of the trapezoid affects the area."
        }
      ]
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- BODY_SCRIPTS_INIZIO -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/math-conversions" class="hover:text-blue-600">Math & Conversions</a> &raquo; <a href="https://calcdomain.com/subcategories/core-math-algebra" class="hover:text-blue-600">Core Math Algebra</a></nav>
      
      <div class="flex flex-col lg:flex-row gap-8">
        
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">

            <h1 class="text-2xl md:text-3xl font-bold mb-3">Trapezoid Area Calculator</h1>
            <p class="text-gray-700 mb-2">
              This <strong>trapezoid area calculator</strong> lets you compute the area of a trapezoid in several ways:
              from <strong>bases and height</strong>, from <strong>bases and equal leg</strong> for an isosceles trapezoid,
              or directly from the <strong>coordinates of the four vertices</strong>.
            </p>
            <p class="text-gray-700 mb-4">
              It also reports <strong>perimeter</strong> (when side lengths are known), the <strong>midsegment length</strong>,
              and the <strong>height</strong> (if it is derived instead of entered). Results are designed for both
              students and professionals who need fast and reliable geometric calculations.
            </p>

            <!-- INPUT SECTION -->
            <section class="mb-6">
              <h2 class="text-lg font-semibold mb-2">1. Enter trapezoid dimensions</h2>

              <!-- Method selection -->
              <div class="mb-4">
                <p class="text-sm font-medium text-gray-800 mb-1">Choose input method</p>
                <div class="grid md:grid-cols-3 gap-2 text-sm">
                  <label class="flex items-center gap-2 border border-gray-300 rounded-md px-3 py-2 cursor-pointer hover:bg-gray-50">
                    <input type="radio" name="trap-method" value="bases-height" class="text-blue-600" checked="">
                    <span class="font-medium">Bases + height</span>
                  </label>
                  <label class="flex items-center gap-2 border border-gray-300 rounded-md px-3 py-2 cursor-pointer hover:bg-gray-50">
                    <input type="radio" name="trap-method" value="isosceles" class="text-blue-600">
                    <span class="font-medium">Isosceles (bases + leg)</span>
                  </label>
                  <label class="flex items-center gap-2 border border-gray-300 rounded-md px-3 py-2 cursor-pointer hover:bg-gray-50">
                    <input type="radio" name="trap-method" value="vertices" class="text-blue-600">
                    <span class="font-medium">4 vertices (coordinates)</span>
                  </label>
                </div>
              </div>

              <!-- Unit & precision -->
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div>
                  <label for="trap-unit" class="block text-sm font-medium text-gray-700 mb-1">
                    Linear unit
                  </label>
                  <select id="trap-unit" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="m">meters (m)</option>
                    <option value="cm">centimeters (cm)</option>
                    <option value="mm">millimeters (mm)</option>
                    <option value="in">inches (in)</option>
                    <option value="ft">feet (ft)</option>
                  </select>
                </div>
                <div>
                  <label for="trap-decimals" class="block text-sm font-medium text-gray-700 mb-1">
                    Decimal places
                  </label>
                  <input id="trap-decimals" type="number" min="0" max="10" value="3" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              </div>

              <!-- Bases + height mode -->
              <div id="trap-section-bases-height" class="space-y-3">
                <p class="text-sm text-gray-700">
                  Provide both parallel bases \( b_1 \) and \( b_2 \), the height \( h \),
                  and optionally the non-parallel sides \( c \) and \( d \) for the perimeter.
                </p>
                <div class="grid md:grid-cols-3 gap-3">
                  <div>
                    <label for="trap-b1" class="block text-sm font-medium text-gray-700 mb-1">
                      Base 1 \( b_1 \)
                    </label>
                    <input id="trap-b1" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 8.5">
                  </div>
                  <div>
                    <label for="trap-b2" class="block text-sm font-medium text-gray-700 mb-1">
                      Base 2 \( b_2 \)
                    </label>
                    <input id="trap-b2" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 12">
                  </div>
                  <div>
                    <label for="trap-h" class="block text-sm font-medium text-gray-700 mb-1">
                      Height \( h \)
                    </label>
                    <input id="trap-h" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g. 5.2">
                  </div>
                </div>
                <div class="grid md:grid-cols-2 gap-3">
                  <div>
                    <label for="trap-c" class="block text-sm font-medium text-gray-700 mb-1">
                      Side \( c \) (optional)
                    </label>
                    <input id="trap-c" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="non-parallel side">
                  </div>
                  <div>
                    <label for="trap-d" class="block text-sm font-medium text-gray-700 mb-1">
                      Side \( d \) (optional)
                    </label>
                    <input id="trap-d" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="non-parallel side">
                  </div>
                </div>
              </div>

              <!-- Isosceles mode -->
              <div id="trap-section-isosceles" class="space-y-3 hidden">
                <p class="text-sm text-gray-700">
                  For an <strong>isosceles trapezoid</strong>, the two non-parallel sides are equal.
                  Provide the two bases and the leg length. The calculator derives the height using
                  Pythagoras and then computes area and perimeter.
                </p>
                <div class="grid md:grid-cols-3 gap-3">
                  <div>
                    <label for="trap-b1-iso" class="block text-sm font-medium text-gray-700 mb-1">
                      Base 1 \( b_1 \)
                    </label>
                    <input id="trap-b1-iso" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="shorter base">
                  </div>
                  <div>
                    <label for="trap-b2-iso" class="block text-sm font-medium text-gray-700 mb-1">
                      Base 2 \( b_2 \)
                    </label>
                    <input id="trap-b2-iso" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="longer base">
                  </div>
                  <div>
                    <label for="trap-leg-iso" class="block text-sm font-medium text-gray-700 mb-1">
                      Leg (equal side) \( l \)
                    </label>
                    <input id="trap-leg-iso" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="non-parallel side">
                  </div>
                </div>
              </div>

              <!-- Vertices mode -->
              <div id="trap-section-vertices" class="space-y-3 hidden">
                <p class="text-sm text-gray-700">
                  Enter the <strong>coordinates of the four vertices</strong> of the trapezoid in order
                  around the shape (clockwise or counterclockwise). The tool uses the
                  <strong>shoelace formula</strong> to compute area and also returns side lengths.
                </p>
                <div class="grid md:grid-cols-4 gap-3 text-xs md:text-sm">
                  <div>
                    <label class="block font-medium text-gray-700 mb-1">Vertex A</label>
                    <input id="trap-ax" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5 mb-1" placeholder="x₁">
                    <input id="trap-ay" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5" placeholder="y₁">
                  </div>
                  <div>
                    <label class="block font-medium text-gray-700 mb-1">Vertex B</label>
                    <input id="trap-bx" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5 mb-1" placeholder="x₂">
                    <input id="trap-by" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5" placeholder="y₂">
                  </div>
                  <div>
                    <label class="block font-medium text-gray-700 mb-1">Vertex C</label>
                    <input id="trap-cx" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5 mb-1" placeholder="x₃">
                    <input id="trap-cy" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5" placeholder="y₃">
                  </div>
                  <div>
                    <label class="block font-medium text-gray-700 mb-1">Vertex D</label>
                    <input id="trap-dx" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5 mb-1" placeholder="x₄">
                    <input id="trap-dy" type="text" class="w-full border border-gray-300 rounded-md px-2 py-1.5" placeholder="y₄">
                  </div>
                </div>
              </div>

              <!-- Buttons -->
              <div class="flex flex-wrap items-center gap-3 mt-4">
                <button id="trap-calc" type="button" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Calculate
                </button>
                <button id="trap-clear" type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
                  Clear
                </button>
                <span class="badge bg-gray-50 text-gray-700 border border-gray-300">
                  All dimensions must use the same linear unit
                </span>
              </div>

              <p id="trap-error" class="text-sm text-red-600 mt-2 hidden"></p>
            </section>

            <!-- RESULTS SECTION -->
            <section id="trap-results-section" class="mb-6 hidden">
              <h2 class="text-lg font-semibold mb-2">2. Results</h2>

              <div class="border border-gray-200 rounded-lg p-3 bg-gray-50 mb-3">
                <h3 class="text-sm font-semibold text-gray-800 mb-2">Geometric summary</h3>
                <p class="text-xs text-gray-800 mb-1">
                  <span class="result-label">Method:</span>
                  <span id="trap-out-method" class="result-value"></span>
                </p>
                <p class="text-xs text-gray-800 mb-1">
                  <span class="result-label">Key inputs:</span>
                  <span id="trap-out-inputs" class="result-value"></span>
                </p>
                <p class="text-xs text-gray-800 mb-1">
                  <span class="result-label">Classification:</span>
                  <span id="trap-out-classification" class="result-value"></span>
                </p>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="border border-gray-200 rounded-lg p-3 bg-white">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Area &amp; core metrics</h3>
                  <p class="text-xs text-gray-800 mb-1">
                    <span class="result-label">Area:</span>
                    <span id="trap-out-area" class="result-value"></span>
                  </p>
                  <p class="text-xs text-gray-800 mb-1">
                    <span class="result-label">Height:</span>
                    <span id="trap-out-height" class="result-value"></span>
                  </p>
                  <p class="text-xs text-gray-800 mb-1">
                    <span class="result-label">Midsegment length:</span>
                    <span id="trap-out-midsegment" class="result-value"></span>
                  </p>
                  <p class="text-xs text-gray-800 mb-1">
                    <span class="result-label">Perimeter:</span>
                    <span id="trap-out-perimeter" class="result-value"></span>
                  </p>
                </div>

                <div class="border border-gray-200 rounded-lg p-3 bg-white">
                  <h3 class="text-sm font-semibold text-gray-800 mb-2">Side lengths (when available)</h3>
                  <p id="trap-out-sides" class="text-xs text-gray-800 mb-1"></p>
                  <p id="trap-out-diagnostics" class="text-xs text-gray-500"></p>
                </div>
              </div>

              <div class="border border-gray-200 rounded-lg p-3 bg-white mb-3 overflow-x-auto">
                <h3 class="text-sm font-semibold text-gray-800 mb-2">Formula used</h3>
                <pre id="trap-out-formula" class="text-xs text-gray-800 whitespace-pre-wrap code-like"></pre>
              </div>

              <div id="trap-warning" class="text-xs text-yellow-800 bg-yellow-50 border border-yellow-200 rounded-md p-2 hidden"></div>
            </section>

            <!-- THEORY & EXPLANATION -->
            <section class="prose mt-6">
              <h2>Trapezoid area – main formulas</h2>
              <p>
                A <strong>trapezoid</strong> (or trapezium in some regions) is a quadrilateral with at least one pair
                of parallel sides. Those parallel sides are called the <em>bases</em>, usually denoted \( b_1 \) and \( b_2 \).
                The distance between them is the <strong>height</strong> \( h \).
              </p>
              <p>
                The fundamental area formula is
              </p>
              <div class="formula-box text-sm">
                \[
                  A = \frac{(b_1 + b_2)\,h}{2}.
                \]
              </div>
              <p>
                Intuitively, this is the area of a rectangle with height \( h \) and base equal to the
                <strong>average</strong> of the two bases:
              </p>
              <div class="formula-box text-sm">
                \[
                  A = \overline{m}\,h, \quad
                  \overline{m} = \frac{b_1 + b_2}{2}.
                \]
              </div>

              <h2>Isosceles trapezoid – bases and equal leg</h2>
              <p>
                In an <strong>isosceles trapezoid</strong> the non-parallel sides (legs) are equal: \( c = d = l \).
                If we know the two bases \( b_1 \leq b_2 \) and the leg \( l \), we can recover the height
                using Pythagoras.
              </p>
              <p>
                The horizontal offset at each side is
              </p>
              <div class="formula-box text-sm">
                \[
                  x = \frac{b_2 - b_1}{2},
                \]
              </div>
              <p>
                and the height is obtained from the right triangle:
              </p>
              <div class="formula-box text-sm">
                \[
                  h = \sqrt{l^2 - x^2},
                \]
              </div>
              <p>
                assuming \( l \geq x \). Then the area follows from the main formula above. The perimeter is
              </p>
              <div class="formula-box text-sm">
                \[
                  P = b_1 + b_2 + 2l.
                \]
              </div>

              <h2>Coordinates method – shoelace formula</h2>
              <p>
                If the vertices \( A(x_1,y_1), B(x_2,y_2), C(x_3,y_3), D(x_4,y_4) \) are known in order around
                the trapezoid, we can compute the area using the <strong>shoelace formula</strong>:
              </p>
              <div class="formula-box text-sm">
                \[
                  A = \frac{1}{2}\left|
                    x_1y_2 + x_2y_3 + x_3y_4 + x_4y_1
                    - (y_1x_2 + y_2x_3 + y_3x_4 + y_4x_1)
                  \right|.
                \]
              </div>
              <p>
                The calculator also computes each side length using the Euclidean distance
                \[
                  \text{side length} = \sqrt{(x_i - x_j)^2 + (y_i - y_j)^2},
                \]
                and reports the perimeter whenever all four sides are well-defined.
              </p>

              <h2>Worked example – bases and height</h2>
              <p>
                Suppose a trapezoid has bases \( b_1 = 8\;\text{m} \), \( b_2 = 14\;\text{m} \), and height \( h = 5\;\text{m} \).
              </p>
              <ol>
                <li>Compute the midsegment: \( \overline{m} = (8 + 14)/2 = 11 \;\text{m} \).</li>
                <li>Compute the area: \( A = \overline{m}\,h = 11 \cdot 5 = 55\;\text{m}^2 \).</li>
              </ol>
              <p>
                Entering these values into the calculator with unit <em>meters</em> returns an area of
                \( 55\;\text{m}^2 \), plus the chosen extra metrics if side lengths are supplied.
              </p>

              <h2>Trapezoid geometry – FAQ</h2>

              <div class="mt-4 space-y-3">
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">What is the midsegment of a trapezoid?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      The <strong>midsegment</strong> (or median) of a trapezoid is the segment that joins the midpoints
                      of the two non-parallel sides. Its length is the average of the bases:
                      \[
                        \overline{m} = \frac{b_1 + b_2}{2}.
                      \]
                      The area can be interpreted as the midsegment length times the height: \( A = \overline{m}\,h \).
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">Do the non-parallel sides affect the area?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      No. For a given pair of bases and height, the area is completely determined by
                      \[
                        A = \frac{(b_1 + b_2)\,h}{2}.
                      \]
                      The non-parallel sides affect the perimeter and the overall shape but not the area,
                      as long as the bases and the height remain fixed.
                    </p>
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg overflow-hidden">
                  <button type="button" class="w-full text-left faq-question px-4 py-3 flex items-center justify-between">
                    <span class="font-medium text-gray-800">How can I tell if four points form a trapezoid?</span>
                    <span class="ml-2 text-gray-400">+</span>
                  </button>
                  <div class="faq-answer px-4 pb-4 pt-1 text-sm text-gray-700 hidden">
                    <p>
                      In analytic geometry, a quadrilateral is a trapezoid if at least one pair of opposite sides
                      is parallel. You can check this by comparing slopes of sides:
                      \[
                        \text{slope}(AB) = \text{slope}(CD)
                      \]
                      or
                      \[
                        \text{slope}(BC) = \text{slope}(DA).
                      \]
                      This calculator focuses on area and does not fully validate whether a four-point input
                      is strictly a trapezoid, so it is good practice to check the geometry if this matters.
                    </p>
                  </div>
                </div>
              </div>
            </section>

          </div>
        
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A = \frac{(b_1 + b_2)\,h}{2}.\]</div>
  <pre class="auditspine-mono">A = \frac{(b_1 + b_2)\,h}{2}.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A = \overline{m}\,h, \quad \overline{m} = \frac{b_1 + b_2}{2}.\]</div>
  <pre class="auditspine-mono">A = \overline{m}\,h, \quad \overline{m} = \frac{b_1 + b_2}{2}.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[x = \frac{b_2 - b_1}{2},\]</div>
  <pre class="auditspine-mono">x = \frac{b_2 - b_1}{2},</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[h = \sqrt{l^2 - x^2},\]</div>
  <pre class="auditspine-mono">h = \sqrt{l^2 - x^2},</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[P = b_1 + b_2 + 2l.\]</div>
  <pre class="auditspine-mono">P = b_1 + b_2 + 2l.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[A = \frac{1}{2}\left| x_1y_2 + x_2y_3 + x_3y_4 + x_4y_1 - (y_1x_2 + y_2x_3 + y_3x_4 + y_4x_1) \right|.\]</div>
  <pre class="auditspine-mono">A = \frac{1}{2}\left| x_1y_2 + x_2y_3 + x_3y_4 + x_4y_1 - (y_1x_2 + y_2x_3 + y_3x_4 + y_4x_1) \right|.</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ A = \frac{(b_1 + b_2)\,h}{2}. \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ A = \overline{m}\,h, \quad \overline{m} = \frac{b_1 + b_2}{2}. \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ x = \frac{b_2 - b_1}{2}, \]</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">\[ h = \sqrt{l^2 - x^2}, \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>NIST — Weights and measures</strong> — nist.gov · Accessed 2026-01-19<br><a href="https://www.nist.gov/pml/weights-and-measures" target="_blank" rel="nofollow noopener">https://www.nist.gov/pml/weights-and-measures</a></li>
<li><strong>FTC — Consumer advice</strong> — consumer.ftc.gov · Accessed 2026-01-19<br><a href="https://consumer.ftc.gov/" target="_blank" rel="nofollow noopener">https://consumer.ftc.gov/</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
        
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">Core Math &amp; Algebra tools</h2>
            <ul class="space-y-2 text-sm">
              <li><a href="https://calcdomain.com/monte-carlo-simulation" class="text-blue-600 hover:underline">Monte Carlo Simulation</a></li>
              <li><a href="https://calcdomain.com/lottery-odds" class="text-blue-600 hover:underline">Lottery Odds</a></li>
              <li><a href="https://calcdomain.com/dot-product" class="text-blue-600 hover:underline">Dot Product</a></li>
              <li><a href="https://calcdomain.com/matrix-determinant" class="text-blue-600 hover:underline">Matrix Determinant</a></li>
              <li><a href="https://calcdomain.com/partial-fraction-decomposition" class="text-blue-600 hover:underline">Partial Fraction Decomposition</a></li>
              <li><span class="text-gray-500">Trapezoid Area – you are here</span></li>
              <li><a href="https://calcdomain.com/combination-and-permutation" class="text-blue-600 hover:underline">Combination and Permutation</a></li>
              <li><a href="https://calcdomain.com/torus-volume" class="text-blue-600 hover:underline">Torus Volume</a></li>
              <li><a href="https://calcdomain.com/matrix-transpose" class="text-blue-600 hover:underline">Matrix Transpose</a></li>
              <li><a href="https://calcdomain.com/surface-area" class="text-blue-600 hover:underline">Surface Area</a></li>
              <li><a href="https://calcdomain.com/modular-exponentiation" class="text-blue-600 hover:underline">Modular Exponentiation</a></li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Related geometry tools</h2>
            <ul class="space-y-2 text-sm">
              <li><a href="https://calcdomain.com/triangle-area" class="text-blue-600 hover:underline">Triangle Area</a></li>
              <li><a href="https://calcdomain.com/rectangle-area" class="text-blue-600 hover:underline">Rectangle Area</a></li>
              <li><a href="https://calcdomain.com/circle-area" class="text-blue-600 hover:underline">Circle Area</a></li>
            </ul>
          </div>
        </aside>
        
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer>










    
    <script src="/assets/js/script_menu.js" defer=""></script>
    <script src="/assets/js/script_faq.js" defer=""></script>
    <script src="search.js" defer=""></script>
    
    <script>
      // --- Utility: parse numbers with commas/spaces ---
      function trapToNumber(value) {
        if (value === null || value === undefined) return NaN;
        var s = String(value).trim();
        if (!s) return NaN;
        s = s.replace(/\s+/g, '').replace(',', '.');
        var num = Number(s);
        return Number.isFinite(num) ? num : NaN;
      }

      function trapFormat(num, decimals) {
        if (!Number.isFinite(num)) return '—';
        return num.toFixed(decimals);
      }

      function trapShow(el, show) {
        if (!el) return;
        if (show) el.classList.remove('hidden');
        else el.classList.add('hidden');
      }

      (function () {
        var methodRadios = document.querySelectorAll('input[name="trap-method"]');
        var sectionBH = document.getElementById('trap-section-bases-height');
        var sectionIso = document.getElementById('trap-section-isosceles');
        var sectionVert = document.getElementById('trap-section-vertices');
        var errorEl = document.getElementById('trap-error');
        var resultsSection = document.getElementById('trap-results-section');
        var warningEl = document.getElementById('trap-warning');

        function setMethod(method) {
          trapShow(sectionBH, method === 'bases-height');
          trapShow(sectionIso, method === 'isosceles');
          trapShow(sectionVert, method === 'vertices');
          errorEl.textContent = '';
          trapShow(errorEl, false);
          trapShow(resultsSection, false);
          trapShow(warningEl, false);
        }

        methodRadios.forEach(function (r) {
          r.addEventListener('change', function () {
            if (this.checked) setMethod(this.value);
          });
        });

        // Initial method
        setMethod('bases-height');

        function showError(msg) {
          errorEl.textContent = msg;
          trapShow(errorEl, true);
        }

        function clearError() {
          errorEl.textContent = '';
          trapShow(errorEl, false);
        }

        function showWarning(msg) {
          warningEl.textContent = msg;
          trapShow(warningEl, true);
        }

        function clearWarning() {
          warningEl.textContent = '';
          trapShow(warningEl, false);
        }

        function clearResults() {
          trapShow(resultsSection, false);
          clearWarning();
          document.getElementById('trap-out-method').textContent = '';
          document.getElementById('trap-out-inputs').textContent = '';
          document.getElementById('trap-out-classification').textContent = '';
          document.getElementById('trap-out-area').textContent = '';
          document.getElementById('trap-out-height').textContent = '';
          document.getElementById('trap-out-midsegment').textContent = '';
          document.getElementById('trap-out-perimeter').textContent = '';
          document.getElementById('trap-out-sides').textContent = '';
          document.getElementById('trap-out-diagnostics').textContent = '';
          document.getElementById('trap-out-formula').textContent = '';
        }

        document.getElementById('trap-clear').addEventListener('click', function () {
          clearError();
          clearResults();
          // clear inputs
          document.getElementById('trap-b1').value = '';
          document.getElementById('trap-b2').value = '';
          document.getElementById('trap-h').value = '';
          document.getElementById('trap-c').value = '';
          document.getElementById('trap-d').value = '';

          document.getElementById('trap-b1-iso').value = '';
          document.getElementById('trap-b2-iso').value = '';
          document.getElementById('trap-leg-iso').value = '';

          ['ax','ay','bx','by','cx','cy','dx','dy'].forEach(function (p) {
            var el = document.getElementById('trap-' + p);
            if (el) el.value = '';
          });
        });

        document.getElementById('trap-calc').addEventListener('click', function () {
          clearError();
          clearResults();
          clearWarning();

          var unit = document.getElementById('trap-unit').value || '';
          var dec = Number(document.getElementById('trap-decimals').value);
          if (!Number.isFinite(dec)) dec = 3;
          dec = Math.max(0, Math.min(10, Math.round(dec)));
          document.getElementById('trap-decimals').value = dec;

          var method = 'bases-height';
          methodRadios.forEach(function (r) {
            if (r.checked) method = r.value;
          });

          try {
            if (method === 'bases-height') {
              calcBasesHeight(unit, dec);
            } else if (method === 'isosceles') {
              calcIsosceles(unit, dec);
            } else if (method === 'vertices') {
              calcVertices(unit, dec);
            }
          } catch (e) {
            showError(e.message || 'Unable to compute the trapezoid area. Please check your inputs.');
          }
        });

        function calcBasesHeight(unit, dec) {
          var b1 = trapToNumber(document.getElementById('trap-b1').value);
          var b2 = trapToNumber(document.getElementById('trap-b2').value);
          var h  = trapToNumber(document.getElementById('trap-h').value);
          var c  = trapToNumber(document.getElementById('trap-c').value);
          var d  = trapToNumber(document.getElementById('trap-d').value);

          if (!Number.isFinite(b1) || !Number.isFinite(b2) || !Number.isFinite(h)) {
            throw new Error('Please enter valid numeric values for both bases and the height.');
          }
          if (b1 <= 0 || b2 <= 0 || h <= 0) {
            throw new Error('Bases and height must be strictly positive.');
          }

          var area = (b1 + b2) * h / 2;
          var mid = (b1 + b2) / 2;
          var perimeter = NaN;
          var sidesText = '';
          var diagText = '';

          var haveC = Number.isFinite(c) && c > 0;
          var haveD = Number.isFinite(d) && d > 0;

          if (haveC || haveD) {
            if (!haveC || !haveD) {
              showWarning('Only one non-parallel side is provided. Perimeter will be incomplete.');
            }
            var sum = b1 + b2;
            if (haveC) sum += c;
            if (haveD) sum += d;
            perimeter = sum;
            sidesText = 'b1 = ' + trapFormat(b1, dec) + unit + ', ' +
                        'b2 = ' + trapFormat(b2, dec) + unit +
                        (haveC ? ', c = ' + trapFormat(c, dec) + unit : '') +
                        (haveD ? ', d = ' + trapFormat(d, dec) + unit : '');
          } else {
            sidesText = 'Non-parallel sides not provided; perimeter requires c and d.';
          }

          var classification = 'General trapezoid (bases and height provided). ' +
                               'Area depends only on the two bases and the height.';

          fillOutputs({
            methodLabel: 'Bases and height',
            inputs: 'b1 = ' + trapFormat(b1, dec) + unit + ', ' +
                    'b2 = ' + trapFormat(b2, dec) + unit + ', ' +
                    'h = ' + trapFormat(h, dec) + unit,
            classification: classification,
            area: area,
            height: h,
            mid: mid,
            perimeter: perimeter,
            sidesText: sidesText,
            diagText: diagText,
            unit: unit,
            dec: dec,
            formulaText:
              'Area formula (bases + height):\n' +
              '  A = (b1 + b2) * h / 2\n\n' +
              'With b1 = ' + trapFormat(b1, dec) + unit +
              ', b2 = ' + trapFormat(b2, dec) + unit +
              ', h = ' + trapFormat(h, dec) + unit + ',\n' +
              '  A = (' + trapFormat(b1, dec) + ' + ' + trapFormat(b2, dec) +
              ') * ' + trapFormat(h, dec) + ' / 2\n' +
              '    = ' + trapFormat(area, dec) + ' ' + unit + '².\n\n' +
              'Midsegment m = (b1 + b2) / 2 = ' + trapFormat(mid, dec) + ' ' + unit + '.\n' +
              'Perimeter P = b1 + b2 + c + d (when c and d are provided).'
          });
        }

        function calcIsosceles(unit, dec) {
          var b1 = trapToNumber(document.getElementById('trap-b1-iso').value);
          var b2 = trapToNumber(document.getElementById('trap-b2-iso').value);
          var l  = trapToNumber(document.getElementById('trap-leg-iso').value);

          if (!Number.isFinite(b1) || !Number.isFinite(b2) || !Number.isFinite(l)) {
            throw new Error('Please enter valid numeric values for both bases and the leg.');
          }
          if (b1 <= 0 || b2 <= 0 || l <= 0) {
            throw new Error('All dimensions must be strictly positive.');
          }

          var shortB = Math.min(b1, b2);
          var longB  = Math.max(b1, b2);
          var swapped = (shortB !== b1);

          var x = (longB - shortB) / 2;
          if (l < x) {
            throw new Error('The leg is too short to form an isosceles trapezoid with these bases (l must be ≥ (|b2-b1|)/2).');
          }

          var h = Math.sqrt(l*l - x*x);
          var area = (shortB + longB) * h / 2;
          var mid = (shortB + longB) / 2;
          var perimeter = shortB + longB + 2*l;

          var classification = 'Isosceles trapezoid (equal legs). Bases have been ordered so that b1 ≤ b2.';

          var baseLabel = 'b1 = ' + trapFormat(shortB, dec) + unit +
                          ', b2 = ' + trapFormat(longB, dec) + unit +
                          (swapped ? ' (inputs reordered so that b1 ≤ b2)' : '');
          var sidesText = baseLabel + ', legs c = d = ' + trapFormat(l, dec) + unit + '.';

          fillOutputs({
            methodLabel: 'Isosceles trapezoid (bases and leg)',
            inputs: baseLabel + ', leg l = ' + trapFormat(l, dec) + unit,
            classification: classification,
            area: area,
            height: h,
            mid: mid,
            perimeter: perimeter,
            sidesText: sidesText,
            diagText: 'Horizontal offset on each side: x = (b2 - b1) / 2 = ' +
                      trapFormat(x, dec) + unit + '.',
            unit: unit,
            dec: dec,
            formulaText:
              'Isosceles trapezoid method:\n' +
              '  Let b1 ≤ b2, leg l, and x = (b2 - b1) / 2.\n' +
              '  Height: h = sqrt(l² - x²)\n' +
              '  Area:   A = (b1 + b2) * h / 2\n' +
              '  Perim:  P = b1 + b2 + 2l\n\n' +
              'With b1 = ' + trapFormat(shortB, dec) + unit +
              ', b2 = ' + trapFormat(longB, dec) + unit +
              ', l = ' + trapFormat(l, dec) + unit + ':\n' +
              '  x = (b2 - b1) / 2 = ' + trapFormat(x, dec) + ' ' + unit + '\n' +
              '  h = sqrt(' + trapFormat(l, dec) + '² - ' + trapFormat(x, dec) + '²) = ' +
              trapFormat(h, dec) + ' ' + unit + '\n' +
              '  A = (' + trapFormat(shortB, dec) + ' + ' + trapFormat(longB, dec) +
              ') * ' + trapFormat(h, dec) + ' / 2 = ' +
              trapFormat(area, dec) + ' ' + unit + '²\n' +
              '  P = ' + trapFormat(shortB, dec) + ' + ' + trapFormat(longB, dec) +
              ' + 2·' + trapFormat(l, dec) + ' = ' + trapFormat(perimeter, dec) + ' ' + unit + '.'
          });
        }

        function calcVertices(unit, dec) {
          function getCoord(id) {
            return trapToNumber(document.getElementById(id).value);
          }
          var ax = getCoord('trap-ax'), ay = getCoord('trap-ay');
          var bx = getCoord('trap-bx'), by = getCoord('trap-by');
          var cx = getCoord('trap-cx'), cy = getCoord('trap-cy');
          var dx = getCoord('trap-dx'), dy = getCoord('trap-dy');

          var coords = [ax,ay,bx,by,cx,cy,dx,dy];
          for (var i = 0; i < coords.length; i++) {
            if (!Number.isFinite(coords[i])) {
              throw new Error('Please enter valid numeric coordinates for all four vertices.');
            }
          }

          // Shoelace formula
          var sum1 = ax*by + bx*cy + cx*dy + dx*ay;
          var sum2 = ay*bx + by*cx + cy*dx + dy*ax;
          var area = 0.5 * Math.abs(sum1 - sum2);

          if (area <= 0) {
            showWarning('The polygon defined by these vertices has zero area or the vertices are collinear.');
          }

          function dist(x1,y1,x2,y2) {
            var dx = x1 - x2, dy = y1 - y2;
            return Math.sqrt(dx*dx + dy*dy);
          }

          var AB = dist(ax,ay,bx,by);
          var BC = dist(bx,by,cx,cy);
          var CD = dist(cx,cy,dx,dy);
          var DA = dist(dx,dy,ax,ay);

          var perimeter = AB + BC + CD + DA;

          var sidesText = 'AB = ' + trapFormat(AB, dec) + ', ' +
                          'BC = ' + trapFormat(BC, dec) + ', ' +
                          'CD = ' + trapFormat(CD, dec) + ', ' +
                          'DA = ' + trapFormat(DA, dec);

          var classification = 'Quadrilateral area from coordinates using the shoelace formula. ' +
                               'If opposite sides are parallel, the shape is a trapezoid.';

          var inputsText = 'A(' + trapFormat(ax, dec) + ', ' + trapFormat(ay, dec) + '), ' +
                           'B(' + trapFormat(bx, dec) + ', ' + trapFormat(by, dec) + '), ' +
                           'C(' + trapFormat(cx, dec) + ', ' + trapFormat(cy, dec) + '), ' +
                           'D(' + trapFormat(dx, dec) + ', ' + trapFormat(dy, dec) + ')';

          fillOutputs({
            methodLabel: 'Vertices (shoelace formula)',
            inputs: inputsText,
            classification: classification,
            area: area,
            height: NaN,
            mid: NaN,
            perimeter: perimeter,
            sidesText: sidesText,
            diagText: 'Perimeter is the sum of all four side lengths. ' +
                      'This method assumes the vertices are given in order around the shape.',
            unit: unit,
            dec: dec,
            formulaText:
              'Shoelace formula for quadrilateral ABCD:\n' +
              '  A = 1/2 · |x1·y2 + x2·y3 + x3·y4 + x4·y1\n' +
              '              - (y1·x2 + y2·x3 + y3·x4 + y4·x1)|\n\n' +
              'With the entered coordinates, the calculator evaluates this expression\n' +
              'and reports the absolute value as the area.'
          });
        }

        function fillOutputs(opts) {
          var unit = opts.unit || '';
          var dec = opts.dec || 3;

          document.getElementById('trap-out-method').textContent = opts.methodLabel || '';
          document.getElementById('trap-out-inputs').textContent = opts.inputs || '';
          document.getElementById('trap-out-classification').textContent = opts.classification || '';

          var areaStr = trapFormat(opts.area, dec);
          if (areaStr !== '—') areaStr += ' ' + unit + '²';
          document.getElementById('trap-out-area').textContent = areaStr;

          var hStr = trapFormat(opts.height, dec);
          if (hStr !== '—') hStr += ' ' + unit;
          document.getElementById('trap-out-height').textContent = hStr;

          var mStr = trapFormat(opts.mid, dec);
          if (mStr !== '—') mStr += ' ' + unit;
          document.getElementById('trap-out-midsegment').textContent = mStr;

          var pStr = trapFormat(opts.perimeter, dec);
          if (pStr !== '—') pStr += ' ' + unit;
          document.getElementById('trap-out-perimeter').textContent = pStr;

          document.getElementById('trap-out-sides').textContent = opts.sidesText || '';
          document.getElementById('trap-out-diagnostics').textContent = opts.diagText || '';
          document.getElementById('trap-out-formula').textContent = opts.formulaText || '';

          trapShow(resultsSection, true);
        }
      })();
    </script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    


</body></html>