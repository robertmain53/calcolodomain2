<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/flash-distillation" />
    <title>Flash Distillation Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Flash Distillation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Flash Distillation Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Flash Distillation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/flash-distillation" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Flash Distillation Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Flash Distillation Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Miscellaneous Calculators", "item": "https://calcdomain.com/subcategories/miscellaneous"}, {"@type": "ListItem", "position": 4, "name": "Flash Distillation Calculator", "item": "https://calcdomain.com/flash-distillation"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/miscellaneous" class="text-blue-600 hover:underline">Miscellaneous Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Flash Distillation Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Flash Distillation Calculator
              </h1>
              <p class="text-gray-600">
                Compute phase split and equilibrium compositions for a binary
                flash drum using Raoult’s law and the Rachford–Rice equation.
                Supports isothermal and isobaric (pressure-specified) flashes.
              </p>
            </header>

            <!-- Mode Tabs -->
            <div class="flex flex-wrap gap-2 mb-4" role="tablist">
              <button
                id="tab-isothermal"
                class="px-3 py-1.5 text-sm border rounded-full tab-active"
                type="button"
                role="tab"
                aria-selected="true"
              >
                Isothermal / Isobaric Flash
              </button>
              <button
                id="tab-adiabatic"
                class="px-3 py-1.5 text-sm border rounded-full"
                type="button"
                role="tab"
                aria-selected="false"
              >
                Adiabatic Flash (Energy Balance)
              </button>
            </div>

            <!-- Calculator Form -->
            <section aria-label="Flash distillation calculator">
              <div id="panel-isothermal" role="tabpanel">
                <h2 class="text-lg font-semibold mb-2">
                  1. Feed & Operating Conditions
                </h2>
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="feed-rate"
                      >Feed flow rate F</label
                    >
                    <div class="flex">
                      <input
                        id="feed-rate"
                        type="number"
                        step="any"
                        class="flex-1 border rounded-l px-3 py-2"
                        value="100"
                      />
                      <span
                        class="inline-flex items-center px-3 border border-l-0 rounded-r bg-gray-50 text-sm text-gray-600"
                        >kmol/h</span
                      >
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="feed-comp"
                      >Feed mole fraction of component 1 (z₁)</label
                    >
                    <input
                      id="feed-comp"
                      type="number"
                      step="any"
                      min="0"
                      max="1"
                      class="w-full border rounded px-3 py-2"
                      value="0.5"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Binary system: z₂ = 1 − z₁.
                    </p>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 mb-4">
                  <div>
                    <label class="block text-sm font-medium mb-1" for="pressure"
                      >Flash pressure P</label
                    >
                    <div class="flex">
                      <input
                        id="pressure"
                        type="number"
                        step="any"
                        class="flex-1 border rounded-l px-3 py-2"
                        value="1"
                      />
                      <select
                        id="pressure-unit"
                        class="border border-l-0 rounded-r px-2 bg-gray-50 text-sm"
                      >
                        <option value="bar">bar</option>
                        <option value="kpa">kPa</option>
                        <option value="atm">atm</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium mb-1"
                      for="temperature"
                      >Flash temperature T</label
                    >
                    <div class="flex">
                      <input
                        id="temperature"
                        type="number"
                        step="any"
                        class="flex-1 border rounded-l px-3 py-2"
                        value="80"
                      />
                      <select
                        id="temperature-unit"
                        class="border border-l-0 rounded-r px-2 bg-gray-50 text-sm"
                      >
                        <option value="C">°C</option>
                        <option value="K">K</option>
                      </select>
                    </div>
                  </div>
                </div>

                <h2 class="text-lg font-semibold mb-2 mt-4">
                  2. Component Data (Antoine Parameters)
                </h2>
                <p class="text-sm text-gray-600 mb-2">
                  Enter Antoine constants for vapor pressure:
                  log<sub>10</sub>(P<sub>sat</sub>/bar) = A − B/(T + C), T in
                  °C.
                </p>

                <div class="border rounded-lg p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">
                    Component 1 (more volatile)
                  </h3>
                  <div class="input-grid">
                    <div>
                      <label class="block text-xs font-medium mb-1" for="A1"
                        >A₁</label
                      >
                      <input
                        id="A1"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="6.87987"
                      />
                    </div>
                    <div>
                      <label class="block text-xs font-medium mb-1" for="B1"
                        >B₁</label
                      >
                      <input
                        id="B1"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="1196.76"
                      />
                    </div>
                    <div>
                      <label class="block text-xs font-medium mb-1" for="C1"
                        >C₁</label
                      >
                      <input
                        id="C1"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="-45.17"
                      />
                    </div>
                  </div>
                </div>

                <div class="border rounded-lg p-3 mb-4">
                  <h3 class="font-semibold text-sm mb-2">
                    Component 2 (less volatile)
                  </h3>
                  <div class="input-grid">
                    <div>
                      <label class="block text-xs font-medium mb-1" for="A2"
                        >A₂</label
                      >
                      <input
                        id="A2"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="6.95464"
                      />
                    </div>
                    <div>
                      <label class="block text-xs font-medium mb-1" for="B2"
                        >B₂</label
                      >
                      <input
                        id="B2"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="1344.8"
                      />
                    </div>
                    <div>
                      <label class="block text-xs font-medium mb-1" for="C2"
                        >C₂</label
                      >
                      <input
                        id="C2"
                        type="number"
                        step="any"
                        class="w-full border rounded px-2 py-1.5"
                        value="-53.0"
                      />
                    </div>
                  </div>
                </div>

                <button
                  id="btn-calc"
                  type="button"
                  class="w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium"
                >
                  Calculate Flash
                </button>
                <p id="error-msg" class="text-sm text-red-600 mt-2 hidden"></p>

                <h2 class="text-lg font-semibold mt-6 mb-2">Results</h2>
                <div id="results" class="space-y-3 text-sm hidden">
                  <div class="grid md:grid-cols-3 gap-3">
                    <div class="bg-blue-50 border border-blue-100 rounded p-3">
                      <div
                        class="text-xs uppercase text-blue-700 font-semibold mb-1"
                      >
                        Phase split
                      </div>
                      <div class="result-badge text-sm">
                        V/F = <span id="res-vfrac" class="font-semibold"></span
                        ><br />
                        L/F = <span id="res-lfrac" class="font-semibold"></span>
                      </div>
                    </div>
                    <div
                      class="bg-green-50 border border-green-100 rounded p-3"
                    >
                      <div
                        class="text-xs uppercase text-green-700 font-semibold mb-1"
                      >
                        Vapor composition y
                      </div>
                      <div class="result-badge text-sm">
                        y₁ = <span id="res-y1" class="font-semibold"></span
                        ><br />
                        y₂ = <span id="res-y2" class="font-semibold"></span>
                      </div>
                    </div>
                    <div
                      class="bg-amber-50 border border-amber-100 rounded p-3"
                    >
                      <div
                        class="text-xs uppercase text-amber-700 font-semibold mb-1"
                      >
                        Liquid composition x
                      </div>
                      <div class="result-badge text-sm">
                        x₁ = <span id="res-x1" class="font-semibold"></span
                        ><br />
                        x₂ = <span id="res-x2" class="font-semibold"></span>
                      </div>
                    </div>
                  </div>
                  <div class="text-xs text-gray-600">
                    Material balance check: Fz₁ = <span id="res-mb1"></span>, V
                    y₁ + L x₁ = <span id="res-mb2"></span> (kmol/h).
                  </div>
                </div>
              </div>

              <!-- Adiabatic panel (simplified note) -->
              <div id="panel-adiabatic" class="hidden" role="tabpanel">
                <p class="text-sm text-gray-700 mb-3">
                  Adiabatic flash requires an energy balance in addition to
                  phase equilibrium. This simplified mode lets you estimate the
                  outlet temperature by iterating on T until the enthalpy of
                  products equals the feed enthalpy.
                </p>
                <p class="text-sm text-gray-500 mb-3">
                  For now, use the isothermal/isobaric mode above and adjust
                  temperature manually to match your energy balance. A full
                  enthalpy-based adiabatic flash (with Cp and latent heats) will
                  be added in a future update.
                </p>
              </div>
            </section>

            <section class="prose mt-8">
              <h2>How the flash distillation calculator works</h2>
              <p>
                This tool models a single-stage, equilibrium flash of a binary
                mixture using Raoult’s law. You specify the feed flow rate and
                composition, operating pressure and temperature, and Antoine
                constants for each component. The calculator then:
              </p>
              <ol>
                <li>
                  Computes saturation pressures \(P_{i}^{sat}(T)\) from the
                  Antoine equation.
                </li>
                <li>Computes K-values \(K_i = P_{i}^{sat}/P\).</li>
                <li>
                  Solves the Rachford–Rice equation for the vapor fraction
                  \(V/F\).
                </li>
                <li>
                  Calculates liquid and vapor compositions from overall material
                  balances.
                </li>
              </ol>

              <h3>1. Antoine equation for vapor pressure</h3>
              <div class="formula-box">
                \[ \log_{10}\left(\frac{P_i^{sat}}{\text{bar}}\right) = A_i -
                \frac{B_i}{T + C_i} \] where \(T\) is in °C and \(P_i^{sat}\) is
                in bar.
              </div>
              <p>
                From this, the K-value for component \(i\) at pressure \(P\) is:
              </p>
              <div class="formula-box">
                \[ K_i = \frac{y_i}{x_i} = \frac{P_i^{sat}(T)}{P} \]
              </div>

              <h3>2. Rachford–Rice equation</h3>
              <p>
                For a binary feed with overall mole fractions \(z_1\) and \(z_2
                = 1 - z_1\), the Rachford–Rice equation for the vapor fraction
                \(\beta = V/F\) is:
              </p>
              <div class="formula-box">
                \[ f(\beta) = \sum_{i=1}^{2} \frac{z_i (K_i - 1)}{1 + \beta (K_i
                - 1)} = 0 \]
              </div>
              <p>
                The calculator finds \(\beta\) numerically in the physically
                meaningful range where both vapor and liquid exist.
              </p>

              <h3>3. Phase compositions</h3>
              <p>
                Once \(\beta\) is known, liquid and vapor compositions follow
                from:
              </p>
              <div class="formula-box">
                \[ x_i = \frac{z_i}{1 + \beta (K_i - 1)}, \qquad y_i = K_i x_i
                \]
              </div>
              <p>
                Phase flow rates are \(V = \beta F\) and \(L = (1 - \beta) F\).
                The tool reports the phase fractions \(V/F\) and \(L/F\) along
                with \(x_i\) and \(y_i\).
              </p>

              <h2>Assumptions and limitations</h2>
              <ul>
                <li>Binary mixture only (two components).</li>
                <li>Ideal vapor and liquid phases (Raoult’s law is valid).</li>
                <li>
                  Constant pressure and temperature (isothermal/isobaric flash).
                </li>
                <li>No heat losses or pressure drop within the flash drum.</li>
              </ul>
              <p>
                For multi-component, highly non-ideal, or high-pressure systems,
                an equation of state or activity-coefficient model (e.g., NRTL,
                UNIQUAC) is required; use a process simulator for design-grade
                work.
              </p>

              <h2>Worked example</h2>
              <p>Consider a 100 kmol/h feed of a binary mixture with:</p>
              <ul>
                <li>\(z_1 = 0.5\), \(z_2 = 0.5\)</li>
                <li>
                  Flash conditions: \(T = 80^\circ\text{C}\), \(P = 1\
                  \text{bar}\)
                </li>
                <li>Antoine constants as in the default inputs above.</li>
              </ul>
              <p>The calculator will:</p>
              <ol>
                <li>Compute \(P_1^{sat}\) and \(P_2^{sat}\) at 80 °C.</li>
                <li>Compute \(K_1\) and \(K_2\).</li>
                <li>
                  Find a vapor fraction \(\beta\) between 0 and 1 that satisfies
                  Rachford–Rice.
                </li>
                <li>
                  Return \(V/F\), \(L/F\), and the phase compositions \(x_i\),
                  \(y_i\).
                </li>
              </ol>

              <h2>FAQ</h2>
              <h3>What is flash distillation?</h3>
              <p>
                Flash distillation is a single-stage separation where a liquid
                feed is partially vaporized by a sudden change in pressure or
                temperature. The resulting vapor and liquid phases are allowed
                to reach equilibrium and are then separated, producing a vapor
                richer in light components and a liquid richer in heavy
                components.
              </p>

              <h3>How do I choose Antoine constants?</h3>
              <p>
                Antoine parameters are tabulated for many pure components in
                handbooks and databases. Make sure the constants you use are
                valid over the temperature range of interest and that the units
                (especially for pressure) match the form used in this
                calculator.
              </p>

              <h3>Why do I sometimes get “no two-phase solution”?</h3>
              <p>
                For some combinations of T, P, and composition, the mixture is
                either all liquid or all vapor. In those cases, the
                Rachford–Rice equation has no solution with \(0 &lt; \beta &lt;
                1\), and the calculator reports that no two-phase flash is
                possible under the specified conditions.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Flash, Distillation.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">More Science Calculators</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/arrhenius-equation"
                  class="text-blue-600 hover:underline"
                  >Arrhenius Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/beer-lambert-law"
                  class="text-blue-600 hover:underline"
                  >Beer-Lambert Law</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stoichiometry"
                  class="text-blue-600 hover:underline"
                  >Stoichiometry</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/ideal-gas-law"
                  class="text-blue-600 hover:underline"
                  >Ideal Gas Law</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molarity"
                  class="text-blue-600 hover:underline"
                  >Molarity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/molar-mass"
                  class="text-blue-600 hover:underline"
                  >Molar Mass</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/nernst-equation"
                  class="text-blue-600 hover:underline"
                  >Nernst Equation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/chemical-equation-balancer"
                  class="text-blue-600 hover:underline"
                  >Chemical Equation Balancer</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Related Topics</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/chemistry"
                  class="text-blue-600 hover:underline"
                  >Chemistry Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/life-and-earth-sciences"
                  class="text-blue-600 hover:underline"
                  >Life &amp; Earth Sciences</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pressure"
                  class="text-blue-600 hover:underline"
                  >Pressure Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/density"
                  class="text-blue-600 hover:underline"
                  >Density Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility functions
      function toKelvin(T, unit) {
        return unit === "C" ? T + 273.15 : T;
      }
      function toCelsius(T, unit) {
        return unit === "K" ? T - 273.15 : T;
      }
      function pressureToBar(P, unit) {
        if (unit === "bar") return P;
        if (unit === "kpa") return P / 100;
        if (unit === "atm") return P * 1.01325;
        return P;
      }

      function antoinePsatBar(A, B, C, T_C) {
        // log10(Psat/bar) = A - B/(T + C)
        return Math.pow(10, A - B / (T_C + C));
      }

      function rachfordRice(z1, K1, K2) {
        const z2 = 1 - z1;
        const eps = 1e-10;

        // Check trivial cases: all liquid or all vapor
        const Kmin = Math.min(K1, K2);
        const Kmax = Math.max(K1, K2);
        if (Kmax <= 1)
          return {
            twoPhase: false,
            message: "Mixture is all liquid at these conditions (K_i ≤ 1).",
          };
        if (Kmin >= 1)
          return {
            twoPhase: false,
            message: "Mixture is all vapor at these conditions (K_i ≥ 1).",
          };

        // Find bounds for beta where denominators stay positive
        function f(beta) {
          const term1 = (z1 * (K1 - 1)) / (1 + beta * (K1 - 1));
          const term2 = (z2 * (K2 - 1)) / (1 + beta * (K2 - 1));
          return term1 + term2;
        }

        let betaL = 0.0,
          betaU = 1.0;
        // Ensure denominators positive
        const denom1L = 1 + betaL * (K1 - 1);
        const denom1U = 1 + betaU * (K1 - 1);
        const denom2L = 1 + betaL * (K2 - 1);
        const denom2U = 1 + betaU * (K2 - 1);
        if (denom1L <= 0 || denom1U <= 0 || denom2L <= 0 || denom2U <= 0) {
          // fallback: shrink interval
          betaL = -0.999 / Math.max(K1 - 1, K2 - 1);
          betaU = 0.999 / Math.min(K1 - 1, K2 - 1);
        }

        let fL = f(betaL);
        let fU = f(betaU);
        if (isNaN(fL) || isNaN(fU) || fL * fU > 0) {
          return {
            twoPhase: false,
            message:
              "No two-phase solution for these conditions (Rachford–Rice has no root in 0–1).",
          };
        }

        // Bisection
        let beta = 0.5 * (betaL + betaU);
        for (let i = 0; i < 100; i++) {
          beta = 0.5 * (betaL + betaU);
          const fB = f(beta);
          if (Math.abs(fB) < 1e-10 || betaU - betaL < 1e-8) break;
          if (fL * fB < 0) {
            betaU = beta;
            fU = fB;
          } else {
            betaL = beta;
            fL = fB;
          }
        }
        if (beta < -eps || beta > 1 + eps) {
          return {
            twoPhase: false,
            message:
              "Computed vapor fraction is outside 0–1; no physical two-phase solution.",
          };
        }
        return { twoPhase: true, beta: Math.max(0, Math.min(1, beta)) };
      }

      function formatNum(x, digits = 4) {
        if (!isFinite(x)) return "—";
        return Number(x).toFixed(digits);
      }

      document.addEventListener("DOMContentLoaded", () => {
        const tabIso = document.getElementById("tab-isothermal");
        const tabAd = document.getElementById("tab-adiabatic");
        const panelIso = document.getElementById("panel-isothermal");
        const panelAd = document.getElementById("panel-adiabatic");

        tabIso.addEventListener("click", () => {
          tabIso.classList.add("tab-active");
          tabIso.setAttribute("aria-selected", "true");
          tabAd.classList.remove("tab-active");
          tabAd.setAttribute("aria-selected", "false");
          panelIso.classList.remove("hidden");
          panelAd.classList.add("hidden");
        });

        tabAd.addEventListener("click", () => {
          tabAd.classList.add("tab-active");
          tabAd.setAttribute("aria-selected", "true");
          tabIso.classList.remove("tab-active");
          tabIso.setAttribute("aria-selected", "false");
          panelAd.classList.remove("hidden");
          panelIso.classList.add("hidden");
        });

        const btnCalc = document.getElementById("btn-calc");
        const errEl = document.getElementById("error-msg");
        const resBox = document.getElementById("results");

        btnCalc.addEventListener("click", () => {
          errEl.classList.add("hidden");
          resBox.classList.add("hidden");
          errEl.textContent = "";

          const F = parseFloat(document.getElementById("feed-rate").value);
          const z1 = parseFloat(document.getElementById("feed-comp").value);
          const P = parseFloat(document.getElementById("pressure").value);
          const Punit = document.getElementById("pressure-unit").value;
          const Tval = parseFloat(document.getElementById("temperature").value);
          const Tunit = document.getElementById("temperature-unit").value;

          const A1 = parseFloat(document.getElementById("A1").value);
          const B1 = parseFloat(document.getElementById("B1").value);
          const C1 = parseFloat(document.getElementById("C1").value);
          const A2 = parseFloat(document.getElementById("A2").value);
          const B2 = parseFloat(document.getElementById("B2").value);
          const C2 = parseFloat(document.getElementById("C2").value);

          if (!isFinite(F) || F <= 0) {
            errEl.textContent = "Feed flow rate must be a positive number.";
            errEl.classList.remove("hidden");
            return;
          }
          if (!isFinite(z1) || z1 < 0 || z1 > 1) {
            errEl.textContent =
              "Feed mole fraction z₁ must be between 0 and 1.";
            errEl.classList.remove("hidden");
            return;
          }
          if (!isFinite(P) || P <= 0) {
            errEl.textContent = "Pressure must be a positive number.";
            errEl.classList.remove("hidden");
            return;
          }
          if (!isFinite(Tval)) {
            errEl.textContent = "Temperature must be a valid number.";
            errEl.classList.remove("hidden");
            return;
          }

          const T_C = toCelsius(Tval, Tunit);
          const P_bar = pressureToBar(P, Punit);

          const Psat1 = antoinePsatBar(A1, B1, C1, T_C);
          const Psat2 = antoinePsatBar(A2, B2, C2, T_C);

          if (
            !isFinite(Psat1) ||
            !isFinite(Psat2) ||
            Psat1 <= 0 ||
            Psat2 <= 0
          ) {
            errEl.textContent =
              "Check Antoine parameters and temperature; computed saturation pressures are invalid.";
            errEl.classList.remove("hidden");
            return;
          }

          const K1 = Psat1 / P_bar;
          const K2 = Psat2 / P_bar;

          const rr = rachfordRice(z1, K1, K2);
          if (!rr.twoPhase) {
            errEl.textContent = rr.message;
            errEl.classList.remove("hidden");
            return;
          }

          const beta = rr.beta;
          const z2 = 1 - z1;

          const x1 = z1 / (1 + beta * (K1 - 1));
          const x2 = z2 / (1 + beta * (K2 - 1));
          const y1 = K1 * x1;
          const y2 = K2 * x2;

          const V = beta * F;
          const L = (1 - beta) * F;

          // Material balance check for component 1
          const Fz1 = F * z1;
          const Vy1_Lx1 = V * y1 + L * x1;

          document.getElementById("res-vfrac").textContent = formatNum(beta, 4);
          document.getElementById("res-lfrac").textContent = formatNum(
            1 - beta,
            4
          );
          document.getElementById("res-y1").textContent = formatNum(y1, 4);
          document.getElementById("res-y2").textContent = formatNum(y2, 4);
          document.getElementById("res-x1").textContent = formatNum(x1, 4);
          document.getElementById("res-x2").textContent = formatNum(x2, 4);
          document.getElementById("res-mb1").textContent = formatNum(Fz1, 4);
          document.getElementById("res-mb2").textContent = formatNum(
            Vy1_Lx1,
            4
          );

          resBox.classList.remove("hidden");
        });
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
