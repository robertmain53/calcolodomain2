<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Permutation and Combination Calculator – nPr, nCr, With & Without Repetition</title>
  <meta name="description" content="Permutation and combination calculator. Compute nPr and nCr, with and without repetition, see the exact count, factorial formula breakdown, and plain-language interpretation. Ideal for probability, statistics, and exam preparation." />
  <link rel="canonical" href="https://calcdomain.com/permutation-and-combination" />

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    body { font-family: 'Inter', sans-serif; }
    .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow:
        0 10px 15px -3px rgba(0,0,0,0.1),
        0 4px 6px -2px rgba(0,0,0,0.05);
    }
    .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
    .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .prose p { margin-bottom: 1rem; line-height: 1.6; }
    .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
    .prose li { margin-bottom: 0.5rem; }
    .formula-box {
      background: #f3f4f6;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      padding: 1rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .muted-note {
      font-size: 0.75rem;
      color: #6b7280;
    }
    .pill-badge {
      display: inline-flex;
      align-items: center;
      padding: 0.2rem 0.6rem;
      border-radius: 9999px;
      font-size: 0.7rem;
      font-weight: 500;
      background-color: #eff6ff;
      color: #1d4ed8;
    }
    .chip {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      border: 1px solid #e5e7eb;
      padding: 0.15rem 0.6rem;
      font-size: 0.7rem;
      color: #4b5563;
      background-color: #f9fafb;
      margin-right: 0.25rem;
      margin-bottom: 0.25rem;
      cursor: default;
    }
    .chip-button { cursor: pointer; }
    .badge-small {
      display: inline-flex;
      align-items: center;
      padding: 0.1rem 0.45rem;
      border-radius: 9999px;
      font-size: 0.65rem;
      font-weight: 500;
      background-color: #f3f4f6;
      color: #4b5563;
    }
    .vector-pill {
      display: inline-flex;
      align-items: baseline;
      padding: 0.1rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.7rem;
      background-color: #eff6ff;
      color: #1f2937;
      margin-right: 0.25rem;
      margin-bottom: 0.25rem;
    }
    .pill-state {
      display: inline-flex;
      align-items: center;
      padding: 0.15rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.7rem;
      background-color: #ecfdf3;
      color: #166534;
      border: 1px solid #bbf7d0;
    }
    .pill-state.bad {
      background-color: #fef2f2;
      color: #991b1b;
      border-color: #fecaca;
    }
    .table-scroll {
      overflow-x: auto;
      margin-top: 0.75rem;
      margin-bottom: 0.75rem;
    }
    .table-scroll table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }
    .table-scroll th,
    .table-scroll td {
      border: 1px solid #e5e7eb;
      padding: 0.25rem 0.5rem;
      text-align: center;
      white-space: nowrap;
    }
    .table-scroll th {
      background-color: #f9fafb;
      font-weight: 600;
    }
    .tag {
      display: inline-flex;
      align-items: center;
      padding: 0.15rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.65rem;
      background-color: #eef2ff;
      color: #3730a3;
      margin-right: 0.25rem;
      margin-bottom: 0.25rem;
    }
  </style>

  <!-- HEAD_SCRIPTS_E_META -->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>

  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA" />

  <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
  <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

  <script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
  <script>
    window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
  </script>

  <script type="application/ld+json">
[
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://calcdomain.com"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Math & Conversions",
        "item": "https://calcdomain.com/categories/math-conversions"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Core Math & Algebra",
        "item": "https://calcdomain.com/subcategories/core-math-algebra"
      },
      {
        "@type": "ListItem",
        "position": 4,
        "name": "Permutation and Combination",
        "item": "https://calcdomain.com/permutation-and-combination"
      }
    ]
  },
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "Compute permutations and combinations for n objects taking r at a time",
    "description": "Step-by-step guide to computing permutations and combinations, with and without repetition, for n objects taken r at a time.",
    "step": [
      {
        "@type": "HowToStep",
        "position": 1,
        "name": "Specify n and r",
        "text": "Enter the total number of distinct objects n and the number of positions or selections r. Make sure n and r are non-negative integers and, for scenarios without repetition, r is not greater than n."
      },
      {
        "@type": "HowToStep",
        "position": 2,
        "name": "Choose whether order matters",
        "text": "If you care about order (for example, seating arrangements or PIN codes), choose a permutation scenario. If you only care which items are chosen, choose a combination scenario."
      },
      {
        "@type": "HowToStep",
        "position": 3,
        "name": "Choose whether repetition is allowed",
        "text": "If the same object can be selected more than once, enable repetition. If each object can only be used at most once, choose the no-repetition option."
      },
      {
        "@type": "HowToStep",
        "position": 4,
        "name": "Calculate and interpret the result",
        "text": "Click the calculate button. The calculator applies the appropriate formula (nPr, nCr, n^r, or C(n+r−1, r)), shows the factorial breakdown, and provides a plain-language interpretation of the result."
      }
    ]
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is the difference between permutations and combinations?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Permutations count arrangements where order matters (for example, seatings or ordered codes). Combinations count selections where order does not matter (for example, choosing a committee). For the same n and r, permutations always give a value greater than or equal to combinations."
        }
      },
      {
        "@type": "Question",
        "name": "What formulas does this calculator use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Without repetition, permutations are computed as nPr = n! / (n − r)! and combinations as nCr = n! / (r!(n − r)!). With repetition, permutations are n^r and combinations are C(n + r − 1, r). The calculator automatically selects the correct formula from your choices."
        }
      },
      {
        "@type": "Question",
        "name": "How large can n and r be?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The calculator uses exact integer arithmetic based on BigInt in modern browsers. For performance and readability, we recommend using n and r up to a few hundred, or slightly larger if you only need the scientific notation approximation."
        }
      },
      {
        "@type": "Question",
        "name": "Why do I get an error when r is greater than n?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "When repetition is not allowed, you cannot choose or arrange more objects than you have. In those scenarios r must be less than or equal to n. If you need to model choices with replacement, turn on the repetition option instead."
        }
      },
      {
        "@type": "Question",
        "name": "How can I use these results in probability problems?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Permutation and combination counts are often the numerator or denominator in probability calculations. For example, the number of favourable outcomes may be a combination count, and the total number of possible outcomes may be another combination or permutation count. The ratio of these gives the probability."
        }
      }
    ]
  }
]
  </script>
</head>

<body class="bg-gray-50 text-gray-800">
  <!-- BODY_SCRIPTS_INIZIO -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
     crossorigin="anonymous"></script>

  <header class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off" />
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="hidden md:flex items-center space-x-6">
          <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
          <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <div class="container mx-auto px-4 py-8">
    <!-- Breadcrumb -->
    <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
      <a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a>
      <span class="mx-1 text-gray-400">/</span>
      <a href="https://calcdomain.com/categories/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a>
      <span class="mx-1 text-gray-400">/</span>
      <a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp; Algebra</a>
      <span class="mx-1 text-gray-400">/</span>
      <span class="text-gray-500">Permutation and Combination</span>
    </nav>

    <div class="flex flex-col lg:flex-row gap-8">
      <!-- MAIN -->
      <main class="w-full lg:w-2/3">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <div class="flex flex-wrap items-center gap-2 mb-3">
            <h1 class="text-2xl md:text-3xl font-bold">Permutation and Combination Calculator</h1>
            <span class="pill-badge">nPr · nCr · Repetition</span>
          </div>
          <p class="text-gray-700 mb-3">
            Choose the number of objects n and the number selected r, indicate whether order matters
            and whether repetition is allowed, and get the exact count of permutations or combinations,
            with a full factorial breakdown and interpretation.
          </p>
          <div class="mb-4 flex flex-wrap gap-2">
            <span class="chip">permutations (order matters)</span>
            <span class="chip">combinations (order doesn’t matter)</span>
            <span class="chip">with &amp; without repetition</span>
            <span class="chip">exam &amp; probability problems</span>
          </div>

          <!-- Calculator -->
          <section aria-labelledby="pc-heading" class="mt-4 mb-8">
            <h2 id="pc-heading" class="text-xl font-semibold mb-3">
              Count permutations and combinations for n objects
            </h2>

            <form id="pc-form" class="space-y-5" novalidate>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label for="pc-n" class="block text-xs font-medium text-gray-700 mb-1">
                    Total objects (n)
                  </label>
                  <input
                    type="number"
                    id="pc-n"
                    inputmode="numeric"
                    min="0"
                    step="1"
                    value="10"
                    class="w-full border-gray-300 rounded-md px-3 py-2 text-sm"
                  />
                  <p class="muted-note mt-1">
                    Non-negative integer; typically n ≥ 1.
                  </p>
                </div>
                <div>
                  <label for="pc-r" class="block text-xs font-medium text-gray-700 mb-1">
                    Selected positions (r)
                  </label>
                  <input
                    type="number"
                    id="pc-r"
                    inputmode="numeric"
                    min="0"
                    step="1"
                    value="3"
                    class="w-full border-gray-300 rounded-md px-3 py-2 text-sm"
                  />
                  <p class="muted-note mt-1">
                    Non-negative integer; r = 0 is allowed (empty selection).
                  </p>
                </div>
                <div>
                  <label class="block text-xs font-medium text-gray-700 mb-1">
                    Quick examples
                  </label>
                  <div class="flex flex-wrap gap-2 text-xs">
                    <button type="button" class="chip chip-button" data-pc-example="10,3">10 objects, choose 3</button>
                    <button type="button" class="chip chip-button" data-pc-example="5,5">5 objects, choose all</button>
                    <button type="button" class="chip chip-button" data-pc-example="52,5">52 cards, pick 5</button>
                  </div>
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <fieldset class="border border-gray-200 rounded-lg p-3">
                  <legend class="text-sm font-semibold text-gray-800 px-1">Scenario</legend>
                  <div class="space-y-2 text-sm">
                    <label class="flex items-center gap-2">
                      <input type="radio" name="pc-type" value="permutation" class="border-gray-300" checked />
                      <span>
                        <strong>Permutation</strong> – order matters
                        <span class="block muted-note">Seating arrangements, PIN codes, ordered lists.</span>
                      </span>
                    </label>
                    <label class="flex items-center gap-2">
                      <input type="radio" name="pc-type" value="combination" class="border-gray-300" />
                      <span>
                        <strong>Combination</strong> – order does not matter
                        <span class="block muted-note">Committees, lottery tickets, subsets.</span>
                      </span>
                    </label>
                  </div>
                </fieldset>

                <fieldset class="border border-gray-200 rounded-lg p-3">
                  <legend class="text-sm font-semibold text-gray-800 px-1">Repetition</legend>
                  <div class="space-y-2 text-sm">
                    <label class="flex items-center gap-2">
                      <input type="radio" name="pc-rep" value="no" class="border-gray-300" checked />
                      <span>
                        <strong>No repetition</strong> – each object used at most once
                        <span class="block muted-note">Typical card draws without replacement.</span>
                      </span>
                    </label>
                    <label class="flex items-center gap-2">
                      <input type="radio" name="pc-rep" value="yes" class="border-gray-300" />
                      <span>
                        <strong>Repetition allowed</strong> – objects can repeat
                        <span class="block muted-note">PIN codes, dice throws, selections with replacement.</span>
                      </span>
                    </label>
                  </div>
                </fieldset>
              </div>

              <div class="flex flex-wrap items-center gap-3">
                <button
                  type="submit"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  Calculate count
                </button>
                <button
                  type="button"
                  id="pc-reset"
                  class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400"
                >
                  Reset
                </button>

                <div class="flex flex-wrap gap-2 text-xs mt-1">
                  <span class="tag">nPr</span>
                  <span class="tag">nCr</span>
                  <span class="tag">n<sup>r</sup></span>
                  <span class="tag">C(n + r − 1, r)</span>
                </div>
              </div>
            </form>

            <div id="pc-error" class="mt-4 text-sm text-red-600 hidden"></div>

            <div id="pc-results" class="mt-5 hidden border border-gray-200 rounded-lg p-4">
              <h3 class="text-md font-semibold text-gray-900 mb-2">Result and interpretation</h3>
              <p id="pc-result-main" class="text-sm text-gray-800 mb-2"></p>
              <p id="pc-result-state" class="text-xs text-gray-800 mb-2"></p>

              <div id="pc-formula-box" class="mt-3 text-sm text-gray-800"></div>
              <div id="pc-approx" class="mt-3 text-xs text-gray-700"></div>
            </div>
          </section>

          <!-- Explanatory content -->
          <section class="prose prose-sm md:prose-base mt-10">
            <h2>Permutations vs combinations – the core idea</h2>
            <p>
              In counting problems, we often need to answer questions like “How many ways can I arrange or choose items?”.
              The two main tools are:
            </p>
            <ul>
              <li><strong>Permutations</strong>: count <em>arrangements</em> (order matters).</li>
              <li><strong>Combinations</strong>: count <em>selections</em> (order does not matter).</li>
            </ul>
            <p>
              For the same n and r, the number of permutations is always at least the number of combinations, because
              each unordered selection can be arranged in r! different ordered ways.
            </p>

            <div class="formula-box text-sm">
              <p class="font-semibold mb-2">Core formulas</p>
              <p>
                <strong>Permutations without repetition</strong> (n distinct objects, taking r):
                \[
                  {}_nP_r = P(n,r) = \frac{n!}{(n-r)!},
                \]
                defined for integers 0 ≤ r ≤ n.
              </p>
              <p>
                <strong>Combinations without repetition</strong>:
                \[
                  {}_nC_r = C(n,r) = \binom{n}{r} =
                  \frac{n!}{r!(n-r)!}.
                \]
              </p>
              <p>
                <strong>Permutations with repetition</strong>:
                \[
                  P_{\text{rep}}(n,r) = n^r,
                \]
                since each of the r positions can be filled with any of the n objects.
              </p>
              <p>
                <strong>Combinations with repetition</strong> (or “multicombinations”):
                \[
                  C_{\text{rep}}(n,r) = \binom{n + r - 1}{r},
                \]
                counting multisets of size r from n types.
              </p>
            </div>

            <h2>How this calculator selects the right formula</h2>
            <p>
              Based on your choices of “Permutation/Combination” and “Repetition: yes/no”, the tool applies:
            </p>
            <ul>
              <li>Permutation, no repetition → \(P(n,r) = \dfrac{n!}{(n-r)!}\)</li>
              <li>Combination, no repetition → \(\binom{n}{r} = \dfrac{n!}{r!(n-r)!}\)</li>
              <li>Permutation, repetition → \(n^r\)</li>
              <li>Combination, repetition → \(\binom{n+r-1}{r}\)</li>
            </ul>
            <p>
              Internally, the calculator uses efficient multiplicative formulas (instead of raw factorials) to
              avoid overflow and to keep results exact, even for quite large n and r.
            </p>

            <h2>Worked examples</h2>
            <div class="table-scroll">
              <table>
                <thead>
                  <tr>
                    <th>Scenario</th>
                    <th>Type</th>
                    <th>n</th>
                    <th>r</th>
                    <th>Formula</th>
                    <th>Count</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Seat 3 of 10 students in a row</td>
                    <td>Permutation, no repetition</td>
                    <td>10</td>
                    <td>3</td>
                    <td>10P3 = 10 · 9 · 8</td>
                    <td>720</td>
                  </tr>
                  <tr>
                    <td>Pick 3 students for a committee</td>
                    <td>Combination, no repetition</td>
                    <td>10</td>
                    <td>3</td>
                    <td>10C3 = 10! / (3! 7!)</td>
                    <td>120</td>
                  </tr>
                  <tr>
                    <td>3-digit PIN from 10 digits (0–9)</td>
                    <td>Permutation, repetition</td>
                    <td>10</td>
                    <td>3</td>
                    <td>10<sup>3</sup></td>
                    <td>1,000</td>
                  </tr>
                  <tr>
                    <td>Choose 3 scoops from 5 flavours (repetition allowed)</td>
                    <td>Combination, repetition</td>
                    <td>5</td>
                    <td>3</td>
                    <td>C(5 + 3 − 1, 3) = C(7, 3)</td>
                    <td>35</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <h2>Common mistakes and how to avoid them</h2>
            <ul>
              <li>Using permutations when order does not matter – this overcounts by a factor of r!.</li>
              <li>Forgetting that, without replacement, r cannot exceed n.</li>
              <li>Ignoring repetition when modelling PIN codes, rolling dice, or sampling with replacement.</li>
              <li>Dropping constraints from the story – always translate the wording into “order?” and “repetition?”.</li>
            </ul>

            <h2>How this helps in probability and statistics</h2>
            <p>
              Once you know the number of possible outcomes and favourable outcomes, you can compute probabilities:
            </p>
            <p>
              \[
                \text{Probability} = \frac{\text{number of favourable outcomes}}{\text{total number of outcomes}}.
              \]
            </p>
            <p>
              For example, when drawing 5 cards from 52 without replacement, the total number of possible hands is
              \(\binom{52}{5}\). If you want the probability of a specific pattern (say, a flush), the numerator will
              be another combination count, and the calculator can help you check both values.
            </p>

            <h2>Related combinatorics &amp; algebra tools</h2>
            <ul>
              <li><a href="https://calcdomain.com/geometric-sequence">Geometric Sequence</a></li>
              <li><a href="https://calcdomain.com/probability">Probability Calculator</a></li>
              <li><a href="https://calcdomain.com/prime-factorization">Prime Factorization</a></li>
              <li><a href="https://calcdomain.com/eulers-totient-function">Euler's Totient Function</a></li>
              <li><a href="https://calcdomain.com/modular-inverse">Modular Inverse</a></li>
              <li><a href="https://calcdomain.com/boolean-algebra">Boolean Algebra</a></li>
              <li><a href="https://calcdomain.com/linear-transformation">Linear Transformation</a></li>
            </ul>
          </section>
        </div>
      </main>

      <!-- SIDEBAR -->
      <aside class="w-full lg:w-1/3">
        <div class="bg-white p-4 rounded-lg shadow-md mb-6">
          <h2 class="text-lg font-semibold mb-3">More in Core Math &amp; Algebra</h2>
          <ul class="space-y-2 text-sm">
            <li><a href="https://calcdomain.com/probability" class="text-blue-600 hover:underline">Probability</a></li>
            <li><a href="https://calcdomain.com/geometric-sequence" class="text-blue-600 hover:underline">Geometric Sequence</a></li>
            <li><a href="https://calcdomain.com/boolean-algebra" class="text-blue-600 hover:underline">Boolean Algebra</a></li>
            <li><a href="https://calcdomain.com/eulers-totient-function" class="text-blue-600 hover:underline">Euler's Totient Function</a></li>
            <li><a href="https://calcdomain.com/linear-transformation" class="text-blue-600 hover:underline">Linear Transformation</a></li>
            <li><a href="https://calcdomain.com/covariance-matrix" class="text-blue-600 hover:underline">Covariance Matrix</a></li>
            <li><a href="https://calcdomain.com/fft" class="text-blue-600 hover:underline">FFT – Fast Fourier Transform</a></li>
            <li><a href="https://calcdomain.com/prime-factorization" class="text-blue-600 hover:underline">Prime Factorization</a></li>
            <li><a href="https://calcdomain.com/gcf" class="text-blue-600 hover:underline">Greatest Common Factor (GCF)</a></li>
            <li><a href="https://calcdomain.com/remainder" class="text-blue-600 hover:underline">Remainder</a></li>
            <li><a href="https://calcdomain.com/modular-inverse" class="text-blue-600 hover:underline">Modular Inverse</a></li>
          </ul>
        </div>

        <div class="bg-white p-4 rounded-lg shadow-md">
          <h2 class="text-lg font-semibold mb-3">Permutation vs combination checklist</h2>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
            <li>Does <strong>order</strong> matter? → permutation.</li>
            <li>Is <strong>repetition</strong> allowed? → use repetition formulas.</li>
            <li>Without repetition, make sure r ≤ n.</li>
            <li>For probability, identify total vs favourable outcomes.</li>
            <li>Use factorial identities to simplify expressions.</li>
          </ul>
        </div>
      </aside>
    </div>
  </div>

  <footer class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">
            Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
          </p>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/coordinate-converters" class="text-gray-400 hover:text-white">Coordinate Converters</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script src="/assets/js/script_menu.js" defer></script>
  <script src="/assets/js/script_faq.js" defer></script>
  <script src="search.js" defer></script>

  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <script>
    (function () {
      function $(id) { return document.getElementById(id); }
      function show(el) { el && el.classList.remove('hidden'); }
      function hide(el) { el && el.classList.add('hidden'); }

      // Mobile menu
      var toggle = document.getElementById('mobile-menu-toggle');
      var mobileMenu = document.getElementById('mobile-menu');
      if (toggle && mobileMenu) {
        toggle.addEventListener('click', function () {
          var isHidden = mobileMenu.classList.contains('hidden');
          if (isHidden) {
            mobileMenu.classList.remove('hidden');
            toggle.setAttribute('aria-expanded', 'true');
          } else {
            mobileMenu.classList.add('hidden');
            toggle.setAttribute('aria-expanded', 'false');
          }
        });
      }

      function toInt(value) {
        if (typeof value === 'number') return Math.floor(value);
        var v = String(value || '').trim();
        if (!v) return NaN;
        var n = Number(v);
        if (!Number.isFinite(n)) return NaN;
        return Math.floor(n);
      }

      // BigInt helpers
      function toBigInt(n) {
        return BigInt(n);
      }

      function combBigInt(n, r) {
        // nCr using multiplicative formula with BigInt
        if (r < 0 || r > n) return 0n;
        if (r === 0 || r === n) return 1n;
        if (r > n - r) r = n - r; // symmetry
        var res = 1n;
        for (var i = 1n; i <= BigInt(r); i++) {
          res = res * (BigInt(n) - BigInt(r) + i) / i;
        }
        return res;
      }

      function permBigInt(n, r) {
        // nPr without repetition
        if (r < 0 || r > n) return 0n;
        var res = 1n;
        for (var i = 0n; i < BigInt(r); i++) {
          res = res * (BigInt(n) - i);
        }
        return res;
      }

      function powBigInt(n, r) {
        var base = BigInt(n);
        var exp = BigInt(r);
        var res = 1n;
        while (exp > 0n) {
          if (exp & 1n) res *= base;
          base *= base;
          exp >>= 1n;
        }
        return res;
      }

      function bigIntToApproxStr(x) {
        var s = x.toString();
        var len = s.length;
        if (len <= 15) return s; // already manageable
        var leading = s.slice(0, 3);
        var mantissa = leading[0] + '.' + leading.slice(1);
        var exp = len - 1;
        return mantissa + ' × 10^' + exp;
      }

      function scenarioLabel(type, rep) {
        if (type === 'permutation' && rep === 'no') return 'Permutations without repetition (nPr)';
        if (type === 'permutation' && rep === 'yes') return 'Permutations with repetition (n^r)';
        if (type === 'combination' && rep === 'no') return 'Combinations without repetition (nCr)';
        if (type === 'combination' && rep === 'yes') return 'Combinations with repetition (multicombinations)';
        return '';
      }

      function buildFormulaLatex(n, r, type, rep, valueStr) {
        if (type === 'permutation' && rep === 'no') {
          return '' +
            '<p><strong>Formula:</strong> permutation without repetition</p>' +
            '<p>\\[ P(n,r) = {}_nP_r = \\frac{n!}{(n-r)!} \\]</p>' +
            '<p>For n = ' + n + ', r = ' + r +
            ' this gives \\( P(' + n + ',' + r + ') = ' + valueStr + ' \\).</p>';
        }
        if (type === 'combination' && rep === 'no') {
          return '' +
            '<p><strong>Formula:</strong> combination without repetition</p>' +
            '<p>\\[ C(n,r) = {}_nC_r = \\binom{n}{r} = \\frac{n!}{r!(n-r)!} \\]</p>' +
            '<p>For n = ' + n + ', r = ' + r +
            ' this gives \\( \\binom{' + n + '}{' + r + '} = ' + valueStr + ' \\).</p>';
        }
        if (type === 'permutation' && rep === 'yes') {
          return '' +
            '<p><strong>Formula:</strong> permutation with repetition</p>' +
            '<p>\\[ P_{\\text{rep}}(n,r) = n^r \\]</p>' +
            '<p>For n = ' + n + ', r = ' + r +
            ' this gives \\( ' + n + '^{' + r + '} = ' + valueStr + ' \\).</p>';
        }
        if (type === 'combination' && rep === 'yes') {
          return '' +
            '<p><strong>Formula:</strong> combination with repetition</p>' +
            '<p>\\[ C_{\\text{rep}}(n,r) = \\binom{n + r - 1}{r} \\]</p>' +
            '<p>For n = ' + n + ', r = ' + r +
            ' this gives \\( \\binom{' + (n + r - 1) + '}{' + r + '} = ' + valueStr + ' \\).</p>';
        }
        return '';
      }

      function buildInterpretation(n, r, type, rep, countStr) {
        var scenario = '';
        if (type === 'permutation') {
          if (rep === 'no') scenario = 'arrangements of ' + r + ' distinct objects chosen from ' + n + ' without repetition (each object used at most once).';
          else scenario = 'ordered sequences of length ' + r + ' where each position can be any of the ' + n + ' objects (repetition allowed).';
        } else {
          if (rep === 'no') scenario = 'ways to choose ' + r + ' distinct objects from ' + n + ' when order does not matter, with no repetition.';
          else scenario = 'multisets of size ' + r + ' chosen from ' + n + ' types of objects (combinations with repetition).';
        }

        return 'There are <strong>' + countStr + '</strong> ' + scenario;
      }

      var form = $('pc-form');
      var nInput = $('pc-n');
      var rInput = $('pc-r');
      var errorBox = $('pc-error');
      var resultsBox = $('pc-results');
      var mainOut = $('pc-result-main');
      var stateOut = $('pc-result-state');
      var formulaOut = $('pc-formula-box');
      var approxOut = $('pc-approx');
      var resetBtn = $('pc-reset');

      function handleSubmit(e) {
        e.preventDefault();
        hide(errorBox);
        hide(resultsBox);

        mainOut.innerHTML = '';
        stateOut.innerHTML = '';
        formulaOut.innerHTML = '';
        approxOut.innerHTML = '';

        var n = toInt(nInput.value);
        var r = toInt(rInput.value);

        if (!Number.isFinite(n) || n < 0) {
          errorBox.textContent = 'Please enter a non-negative integer for n.';
          show(errorBox);
          return;
        }
        if (!Number.isFinite(r) || r < 0) {
          errorBox.textContent = 'Please enter a non-negative integer for r.';
          show(errorBox);
          return;
        }

        var type = (document.querySelector('input[name="pc-type"]:checked') || {}).value || 'permutation';
        var rep = (document.querySelector('input[name="pc-rep"]:checked') || {}).value || 'no';

        // Constraints
        if (rep === 'no' && r > n) {
          errorBox.textContent = 'Without repetition you cannot choose or arrange more elements than you have: r must be ≤ n.';
          show(errorBox);
          return;
        }
        if (n === 0 && r > 0 && rep === 'no') {
          errorBox.textContent = 'With n = 0 and r > 0 there are no valid selections without repetition.';
          show(errorBox);
          return;
        }

        // Computation
        var bigVal;
        if (type === 'permutation' && rep === 'no') {
          bigVal = permBigInt(n, r);
        } else if (type === 'permutation' && rep === 'yes') {
          bigVal = powBigInt(n, r);
        } else if (type === 'combination' && rep === 'no') {
          bigVal = combBigInt(n, r);
        } else {
          // combination with repetition
          var N = n + r - 1;
          bigVal = combBigInt(N, r);
        }

        var valStr = bigVal.toString();
        mainOut.innerHTML =
          '<span class="vector-pill">n = ' + n + '</span>' +
          '<span class="vector-pill">r = ' + r + '</span>' +
          '<span class="vector-pill">count = ' + valStr + '</span>';

        stateOut.innerHTML =
          '<span class="pill-state">' + scenarioLabel(type, rep) + '</span>';

        formulaOut.innerHTML = buildFormulaLatex(n, r, type, rep, valStr);

        var approx = bigIntToApproxStr(bigVal);
        if (approx !== valStr) {
          approxOut.innerHTML =
            'Scientific notation (approximate): <strong>' + approx + '</strong>.';
        } else {
          approxOut.textContent =
            'The count is small enough to be displayed exactly without scientific notation.';
        }

        var interp = buildInterpretation(n, r, type, rep, valStr);
        formulaOut.innerHTML += '<p class="mt-2">' + interp + '</p>';

        show(resultsBox);

        if (window.MathJax && window.MathJax.typesetPromise) {
          window.MathJax.typesetPromise();
        }
      }

      function handleReset() {
        nInput.value = '10';
        rInput.value = '3';
        (document.querySelector('input[name="pc-type"][value="permutation"]') || {}).checked = true;
        (document.querySelector('input[name="pc-rep"][value="no"]') || {}).checked = true;
        hide(errorBox);
        hide(resultsBox);
        mainOut.innerHTML = '';
        stateOut.innerHTML = '';
        formulaOut.innerHTML = '';
        approxOut.innerHTML = '';
      }

      // Example chips
      document.querySelectorAll('.chip-button[data-pc-example]').forEach(function (chip) {
        chip.addEventListener('click', function () {
          var val = chip.getAttribute('data-pc-example') || '';
          var parts = val.split(',');
          if (parts.length === 2) {
            nInput.value = parts[0].trim();
            rInput.value = parts[1].trim();
            form.dispatchEvent(new Event('submit'));
          }
        });
      });

      if (form) form.addEventListener('submit', handleSubmit);
      if (resetBtn) resetBtn.addEventListener('click', handleReset);
    })();
  </script>
</body>
</html>
