<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>AHP Calculator – Analytic Hierarchy Process (Multi-Criteria Decision)</title>
  <meta name="description" content="Free AHP calculator (Analytic Hierarchy Process). Define criteria and alternatives, perform pairwise comparisons using Saaty scale, get weights, consistency ratio (CR), and global priorities. Browser-based, no upload.">
  <link rel="canonical" href="https://calcdomain.com/ahp">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
    .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.4rem; margin-bottom: .6rem; }
    .prose p { margin-bottom: 1rem; line-height: 1.6; }
    .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem; overflow-x:auto; margin:1rem 0; }
    table { width:100%; border-collapse:collapse; }
    th, td { border:1px solid #e5e7eb; padding:.45rem .5rem; text-align:center; font-size:.78rem; }
    th { background:#f9fafb; }
    .select-cell select { width:100%; }
    .section-box { background:white; border:1px solid #e5e7eb; border-radius:.75rem; padding:1rem; margin-bottom:1.5rem; }
    .metric-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(130px,1fr)); gap:1rem; }
    .metric-box { background:#f9fafb; border:1px solid #e5e7eb; border-radius:.75rem; padding:.65rem .75rem; }
    .metric-label { font-size:.65rem; text-transform:uppercase; color:#6b7280; }
    .metric-value { font-size:1.25rem; font-weight:700; }
    .error-box { background:#fef2f2; border:1px solid #fee2e2; color:#b91c1c; border-radius:.5rem; padding:.5rem .7rem; }
    .scroll-x { overflow-x:auto; }
    .badge-ok { background:#ecfdf3; color:#166534; font-size:.65rem; border-radius:9999px; padding:.15rem .7rem; }
    .badge-bad { background:#fef2f2; color:#b91c1c; font-size:.65rem; border-radius:9999px; padding:.15rem .7rem; }
  </style>

  <!-- HEAD SCRIPTS E META (forniti) -->
  <!-- Google tag (gtag.js) -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7MB5V1LZRN');
  </script>

  <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA">

  <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
  <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

  <script async="" src="//www.ezojs.com/ezoic/sa.min.js"></script>
  <script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
  </script>
  <!-- /HEAD SCRIPTS E META -->

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"BreadcrumbList",
        "itemListElement":[
          { "@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/" },
          { "@type":"ListItem","position":2,"name":"Math & Conversions","item":"https://calcdomain.com/math-conversions" },
          { "@type":"ListItem","position":3,"name":"AHP Calculator","item":"https://calcdomain.com/ahp" }
        ]
      },
      {
        "@type":"FAQPage",
        "mainEntity":[
          {
            "@type":"Question",
            "name":"What is AHP (Analytic Hierarchy Process)?",
            "acceptedAnswer":{"@type":"Answer","text":"AHP is a structured technique to choose among alternatives using pairwise comparisons of criteria and alternatives. It produces weights and checks consistency of judgments."}
          },
          {
            "@type":"Question",
            "name":"What is an acceptable consistency ratio (CR) in AHP?",
            "acceptedAnswer":{"@type":"Answer","text":"A consistency ratio (CR) below 0.10 is typically considered acceptable according to Saaty. Higher values suggest revising your pairwise comparisons."}
          },
          {
            "@type":"Question",
            "name":"How many criteria and alternatives can I use?",
            "acceptedAnswer":{"@type":"Answer","text":"This calculator supports up to 5 criteria and 5 alternatives, which covers most decision cases."}
          }
        ]
      },
      {
        "@type":"HowTo",
        "name":"How to run a decision with AHP",
        "step":[
          {"@type":"HowToStep","name":"Define criteria","text":"List the criteria that matter for your decision (e.g. cost, quality, time)."},
          {"@type":"HowToStep","name":"Compare criteria in pairs","text":"Use 1–9 Saaty scale to say how much more important a criterion is over another."},
          {"@type":"HowToStep","name":"Compare alternatives under each criterion","text":"Again use 1–9 scale."},
          {"@type":"HowToStep","name":"Review weights and consistency","text":"Check CR; if too high, adjust judgments."}
        ]
      }
    ]
  }
  </script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
.auditspine-badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  border:1px solid #e5e7eb;
  background:#f8fafc;
  color:#0f172a;
}
.auditspine-badge-warn{
  background:#fff7ed;
  border-color:#fed7aa;
  color:#9a3412;
}
</style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- BODY SCRIPTS INIZIO (forniti) -->
  <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939" crossorigin="anonymous"></script>
  <!-- /BODY SCRIPTS -->

  <header class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex justify-between items-center">
        <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
        <div class="w-full max-w-md hidden md:block mx-8">
          <div class="relative">
            <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
          </div>
        </div>
        <div class="hidden md:flex items-center space-x-6">
          <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
          <a href="https://calcdomain.com/#categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
        </div>
        <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </button>
      </div>
      <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
        <div class="mb-4">
          <div class="relative">
            <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
          </div>
        </div>
        <div class="space-y-2">
          <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
          <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
        </div>
      </nav>
    </nav>
  </header>

  <div class="container mx-auto px-4 py-8">
    <!-- breadcrumb -->
    <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
      <ol class="flex flex-wrap items-center gap-2" aria-label="Breadcrumb">
        <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
        <li aria-hidden="true">/</li>
        <li><a href="https://calcdomain.com/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a></li>
        <li aria-hidden="true">/</li>
        <li class="text-gray-500" aria-current="page">AHP</li>
      </ol>
    </nav>

    <div class="flex flex-col lg:flex-row gap-8">
      <main class="w-full lg:w-2/3">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h1 class="text-3xl font-bold mb-4">AHP Calculator (Analytic Hierarchy Process)</h1>
          <p class="text-gray-700 mb-5">Define <strong>criteria</strong> and <strong>alternatives</strong>, fill in pairwise comparison matrices using the 1–9 Saaty scale, and the tool will compute: criteria weights, alternative weights per criterion, overall priority of alternatives, and the consistency ratio.</p>

          <div id="error-box" class="error-box mb-4 hidden">
            <p id="error-msg" class="text-sm">Please provide valid numbers of criteria and alternatives.</p>
          </div>

          <!-- configuration -->
          <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
            <div>
              <label for="criteria-count" class="block mb-1 font-semibold"># Criteria</label>
              <input id="criteria-count" type="number" min="2" max="5" value="3" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
            <div>
              <label for="alternatives-count" class="block mb-1 font-semibold"># Alternatives</label>
              <input id="alternatives-count" type="number" min="2" max="5" value="3" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
            <div class="md:col-span-2">
              <label for="criteria-names" class="block mb-1 font-semibold">Criteria names (comma separated)</label>
              <input id="criteria-names" type="text" value="Cost,Quality,Time" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
            <div>
              <label for="alt-names" class="block mb-1 font-semibold">Alt. names</label>
              <input id="alt-names" type="text" value="Option A,Option B,Option C" class="w-full border border-gray-300 rounded-md px-3 py-2">
            </div>
          </div>

          <div class="flex flex-wrap gap-3 mb-5">
            <button id="btn-build" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md">Build matrices</button>
            <button id="btn-calc" class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-md">Calculate AHP</button>
          </div>

          <!-- metrics -->
          <div class="metric-grid mb-6">
            <div class="metric-box">
              <p class="metric-label">Criteria matrix CR</p>
              <p id="out-cr" class="metric-value">—</p>
            </div>
            <div class="metric-box">
              <p class="metric-label">Best alternative</p>
              <p id="out-best" class="metric-value text-base">—</p>
            </div>
            <div class="metric-box">
              <p class="metric-label">Total alternatives</p>
              <p id="out-alt-count" class="metric-value">3</p>
            </div>
          </div>

          <!-- dynamic area -->
          <div id="dynamic-area"></div>

          <!-- global result -->
          <div id="global-results" class="section-box hidden">
            <h2 class="text-xl font-semibold mb-3">Overall priorities</h2>
            <div class="scroll-x">
              <table id="global-table">
                <thead>
                  <tr id="global-head">
                    <th>Alternative</th>
                    <th>Priority</th>
                  </tr>
                </thead>
                <tbody id="global-body"></tbody>
              </table>
            </div>
          </div>

          <div class="prose">
            <h2>How this AHP calculator works</h2>
            <p>This tool implements the classic Saaty method:</p>
            <ol>
              <li>Create the criteria pairwise comparison matrix \(A\).</li>
              <li>Normalize columns and average rows to get the criteria weight vector.</li>
              <li>Compute \(\lambda_{max}\), Consistency Index \(CI = (\lambda_{max} - n)/(n-1)\) and Consistency Ratio \(CR = CI / RI\).</li>
              <li>For each criterion, build an alternatives matrix and repeat.</li>
              <li>Multiply criteria weights by local alternative weights to get the global priorities.</li>
            </ol>
            <h3>Saaty scale (1–9)</h3>
            <ul>
              <li>1 = equal importance</li>
              <li>3 = moderate importance</li>
              <li>5 = strong importance</li>
              <li>7 = very strong importance</li>
              <li>9 = extreme importance</li>
              <li>2,4,6,8 = intermediate values</li>
              <li>Reciprocals (1/3, 1/5, …) for the opposite judgement</li>
            </ul>
          </div>

          <script>
            (function() {
              const btnBuild = document.getElementById('btn-build');
              const btnCalc = document.getElementById('btn-calc');
              const dynArea = document.getElementById('dynamic-area');
              const criteriaCountEl = document.getElementById('criteria-count');
              const altCountEl = document.getElementById('alternatives-count');
              const criteriaNamesEl = document.getElementById('criteria-names');
              const altNamesEl = document.getElementById('alt-names');
              const errBox = document.getElementById('error-box');
              const errMsg = document.getElementById('error-msg');
              const outCR = document.getElementById('out-cr');
              const outBest = document.getElementById('out-best');
              const outAltCount = document.getElementById('out-alt-count');
              const globalResults = document.getElementById('global-results');
              const globalBody = document.getElementById('global-body');

              const RI = { 1:0, 2:0, 3:0.58, 4:0.90, 5:1.12 };

              function showError(msg) {
                errMsg.textContent = msg;
                errBox.classList.remove('hidden');
              }
              function clearError() {
                errBox.classList.add('hidden');
              }
              function parseNames(str, fallbackCount, prefix) {
                const parts = str.split(',').map(s => s.trim()).filter(Boolean);
                if (parts.length >= fallbackCount) return parts.slice(0, fallbackCount);
                const arr = [];
                for (let i = 0; i < fallbackCount; i++) {
                  arr.push(parts[i] || prefix + ' ' + (i+1));
                }
                return arr;
              }
              function createScaleSelect(name, row, col) {
                const sel = document.createElement('select');
                sel.name = name;
                sel.dataset.row = row;
                sel.dataset.col = col;
                const options = [
                  {v:"1", t:"1 – equal"},
                  {v:"2", t:"2"},
                  {v:"3", t:"3 – moderate"},
                  {v:"4", t:"4"},
                  {v:"5", t:"5 – strong"},
                  {v:"6", t:"6"},
                  {v:"7", t:"7 – very strong"},
                  {v:"8", t:"8"},
                  {v:"9", t:"9 – extreme"},
                  {v:"1/2", t:"1/2"},
                  {v:"1/3", t:"1/3"},
                  {v:"1/4", t:"1/4"},
                  {v:"1/5", t:"1/5"},
                  {v:"1/6", t:"1/6"},
                  {v:"1/7", t:"1/7"},
                  {v:"1/8", t:"1/8"},
                  {v:"1/9", t:"1/9"}
                ];
                options.forEach(o => {
                  const opt = document.createElement('option');
                  opt.value = o.v;
                  opt.textContent = o.t;
                  sel.appendChild(opt);
                });
                sel.value = "1";
                return sel;
              }
              function valToNum(v) {
                if (v.includes('/')) {
                  const [num, den] = v.split('/');
                  return parseFloat(num)/parseFloat(den);
                }
                return parseFloat(v);
              }

              function buildMatrices() {
                clearError();
                const critCount = parseInt(criteriaCountEl.value, 10);
                const altCount = parseInt(altCountEl.value, 10);
                if (critCount < 2 || critCount > 5 || altCount < 2 || altCount > 5) {
                  showError('Criteria and alternatives must be between 2 and 5.');
                  return;
                }
                const criteriaNames = parseNames(criteriaNamesEl.value, critCount, 'Criterion');
                const altNames = parseNames(altNamesEl.value, altCount, 'Alternative');
                dynArea.innerHTML = "";

                // criteria matrix
                const critBox = document.createElement('div');
                critBox.className = "section-box";
                critBox.innerHTML = "<h2 class='text-lg font-semibold mb-3'>1. Criteria pairwise comparison</h2>";
                const critTableWrap = document.createElement('div');
                critTableWrap.className = "scroll-x mb-4";
                const critTable = document.createElement('table');
                critTable.id = "criteria-matrix";
                const thead = document.createElement('thead');
                const hr = document.createElement('tr');
                hr.appendChild(document.createElement('th'));
                criteriaNames.forEach(n => {
                  const th = document.createElement('th');
                  th.textContent = n;
                  hr.appendChild(th);
                });
                thead.appendChild(hr);
                critTable.appendChild(thead);
                const tbody = document.createElement('tbody');
                for (let i = 0; i < critCount; i++) {
                  const tr = document.createElement('tr');
                  const th = document.createElement('th');
                  th.textContent = criteriaNames[i];
                  tr.appendChild(th);
                  for (let j = 0; j < critCount; j++) {
                    const td = document.createElement('td');
                    if (i === j) {
                      td.textContent = "1";
                      td.dataset.fixed = "1";
                    } else if (i < j) {
                      td.className = "select-cell";
                      const sel = createScaleSelect("crit-"+i+"-"+j, i, j);
                      sel.addEventListener('change', () => {
                        // mirror
                        const val = sel.value;
                        const mirror = critTable.querySelector('select[name="crit-'+j+'-'+i+'"]');
                        if (mirror) {
                          // set reciprocal
                          if (val.includes('/')) {
                            const [a,b] = val.split('/');
                            mirror.value = (b + "/" + a);
                          } else {
                            mirror.value = "1/" + val;
                          }
                        }
                      });
                      td.appendChild(sel);
                    } else {
                      // i>j
                      td.className = "select-cell";
                      const sel = createScaleSelect("crit-"+i+"-"+j, i, j);
                      sel.value = "1/1";
                      td.appendChild(sel);
                    }
                    tr.appendChild(td);
                  }
                  tbody.appendChild(tr);
                }
                critTable.appendChild(tbody);
                critTableWrap.appendChild(critTable);
                critBox.appendChild(critTableWrap);
                dynArea.appendChild(critBox);

                // alternatives matrices
                const altContainer = document.createElement('div');
                altContainer.className = "";
                for (let c = 0; c < critCount; c++) {
                  const altBox = document.createElement('div');
                  altBox.className = "section-box";
                  altBox.innerHTML = "<h2 class='text-lg font-semibold mb-3'>2."+(c+1)+" Alternatives vs Alternatives – criterion: "+criteriaNames[c]+"</h2>";
                  const altWrap = document.createElement('div');
                  altWrap.className = "scroll-x mb-4";
                  const altTable = document.createElement('table');
                  altTable.id = "alt-matrix-"+c;
                  const aHead = document.createElement('thead');
                  const ahr = document.createElement('tr');
                  ahr.appendChild(document.createElement('th'));
                  altNames.forEach(a => {
                    const th = document.createElement('th');
                    th.textContent = a;
                    ahr.appendChild(th);
                  });
                  aHead.appendChild(ahr);
                  altTable.appendChild(aHead);
                  const aBody = document.createElement('tbody');
                  for (let i = 0; i < altCount; i++) {
                    const trA = document.createElement('tr');
                    const thA = document.createElement('th');
                    thA.textContent = altNames[i];
                    trA.appendChild(thA);
                    for (let j = 0; j < altCount; j++) {
                      const tdA = document.createElement('td');
                      if (i === j) {
                        tdA.textContent = "1";
                        tdA.dataset.fixed = "1";
                      } else if (i < j) {
                        tdA.className = "select-cell";
                        const sel = createScaleSelect("alt-"+c+"-"+i+"-"+j, i, j);
                        sel.addEventListener('change', () => {
                          const val = sel.value;
                          const mirror = altTable.querySelector('select[name="alt-'+c+'-'+j+'-'+i+'"]');
                          if (mirror) {
                            if (val.includes('/')) {
                              const [a,b] = val.split('/');
                              mirror.value = (b + "/" + a);
                            } else {
                              mirror.value = "1/" + val;
                            }
                          }
                        });
                        tdA.appendChild(sel);
                      } else {
                        tdA.className = "select-cell";
                        const sel = createScaleSelect("alt-"+c+"-"+i+"-"+j, i, j);
                        sel.value = "1/1";
                        tdA.appendChild(sel);
                      }
                      trA.appendChild(tdA);
                    }
                    aBody.appendChild(trA);
                  }
                  altTable.appendChild(aBody);
                  altWrap.appendChild(altTable);
                  altBox.appendChild(altWrap);
                  altContainer.appendChild(altBox);
                }
                dynArea.appendChild(altContainer);

                outAltCount.textContent = altCount;
              }

              function matrixFromTable(table) {
                const rows = Array.from(table.querySelectorAll('tbody tr'));
                const n = rows.length;
                const M = Array.from({length:n}, () => Array(n).fill(1));
                rows.forEach((tr, i) => {
                  const cells = Array.from(tr.querySelectorAll('td'));
                  cells.forEach((td, j) => {
                    const sel = td.querySelector('select');
                    if (sel) {
                      M[i][j] = valToNum(sel.value);
                    } else if (td.dataset.fixed === "1") {
                      M[i][j] = 1;
                    }
                  });
                });
                return M;
              }

              function normalizeColumns(M) {
                const n = M.length;
                const colSums = Array(n).fill(0);
                for (let j = 0; j < n; j++) {
                  for (let i = 0; i < n; i++) colSums[j] += M[i][j];
                }
                const norm = Array.from({length:n}, () => Array(n).fill(0));
                for (let j = 0; j < n; j++) {
                  for (let i = 0; i < n; i++) {
                    norm[i][j] = M[i][j] / colSums[j];
                  }
                }
                return norm;
              }

              function priorityFromMatrix(M) {
                const n = M.length;
                const norm = normalizeColumns(M);
                const w = Array(n).fill(0);
                for (let i = 0; i < n; i++) {
                  let sum = 0;
                  for (let j = 0; j < n; j++) sum += norm[i][j];
                  w[i] = sum / n;
                }
                // consistency
                const Aw = Array(n).fill(0);
                for (let i = 0; i < n; i++) {
                  let s = 0;
                  for (let j = 0; j < n; j++) s += M[i][j] * w[j];
                  Aw[i] = s;
                }
                let lambdaMax = 0;
                for (let i = 0; i < n; i++) {
                  lambdaMax += Aw[i] / w[i];
                }
                lambdaMax /= n;
                const CI = (lambdaMax - n) / (n - 1);
                const ri = RI[n] || 1.12;
                const CR = ri === 0 ? 0 : CI / ri;
                return { w, CI, CR, lambdaMax };
              }

              function calculate() {
                clearError();
                const critTable = document.getElementById('criteria-matrix');
                if (!critTable) {
                  showError('Build the matrices first.');
                  return;
                }
                const critM = matrixFromTable(critTable);
                const critRes = priorityFromMatrix(critM);
                const critWeights = critRes.w;
                outCR.innerHTML = critRes.CR.toFixed(3) + (critRes.CR <= 0.1 ? " <span class='badge-ok'>OK</span>" : " <span class='badge-bad'>Revise</span>");

                const critCount = critM.length;
                const altCount = parseInt(altCountEl.value, 10);
                const altNames = parseNames(altNamesEl.value, altCount, 'Alternative');
                const criteriaNames = parseNames(criteriaNamesEl.value, critCount, 'Criterion');

                // for each criterion, get alt matrix
                const localAltWeights = []; // array of arrays
                for (let c = 0; c < critCount; c++) {
                  const altTable = document.getElementById('alt-matrix-'+c);
                  const altM = matrixFromTable(altTable);
                  const altRes = priorityFromMatrix(altM);
                  localAltWeights.push(altRes.w);
                }

                // global priorities
                const global = Array(altCount).fill(0);
                for (let c = 0; c < critCount; c++) {
                  for (let a = 0; a < altCount; a++) {
                    global[a] += critWeights[c] * localAltWeights[c][a];
                  }
                }

                // fill global table
                globalBody.innerHTML = "";
                const pairs = altNames.map((name, idx) => ({name, val: global[idx]}));
                pairs.sort((a,b) => b.val - a.val);
                pairs.forEach(p => {
                  const tr = document.createElement('tr');
                  const td1 = document.createElement('td'); td1.textContent = p.name;
                  const td2 = document.createElement('td'); td2.textContent = p.val.toFixed(4);
                  tr.appendChild(td1); tr.appendChild(td2);
                  globalBody.appendChild(tr);
                });
                globalResults.classList.remove('hidden');
                outBest.textContent = pairs[0] ? pairs[0].name : '—';
              }

              btnBuild.addEventListener('click', buildMatrices);
              btnCalc.addEventListener('click', calculate);

              // initial
              buildMatrices();
            })();
          </script>

        </div>
      
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge auditspine-badge-warn">Audit: Needs review</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      <br><strong>Note:</strong> This page needs review to confirm formulas and sources.
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\\]</div>
  <pre class="auditspine-mono">','\</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><em>No sources provided in audit spec.</em></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verification pending</strong> · Last code update: 2026-01-19<br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>

      <aside class="w-full lg:w-1/3">
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
          <h2 class="text-lg font-semibold mb-4">Related analytics / decision tools</h2>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/multiple-linear-regression" class="text-blue-600 hover:underline">Multiple Linear Regression</a></li>
            <li><a href="https://calcdomain.com/two-way-anova" class="text-blue-600 hover:underline">Two-way ANOVA</a></li>
            <li><a href="https://calcdomain.com/forecasting" class="text-blue-600 hover:underline">Forecasting</a></li>
            <li><a href="https://calcdomain.com/cronbach-s-alpha-calculator" class="text-blue-600 hover:underline">Cronbach's Alpha</a></li>
            <li><a href="https://calcdomain.com/sample-size" class="text-blue-600 hover:underline">Sample Size</a></li>
          </ul>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
          <h2 class="text-lg font-semibold mb-4">Tips for better AHP</h2>
          <p class="text-gray-700 text-sm mb-2">• Keep criteria number small (3–5) to maintain consistency.</p>
          <p class="text-gray-700 text-sm mb-2">• If CR &gt; 0.1, revise the most “extreme” judgments first.</p>
          <p class="text-gray-700 text-sm">• Document your hierarchy and judgments for auditability.</p>
        </div>
      </aside>
    </div>
  </div>

  <footer class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
          <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Categories</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/coordinate-converters" class="text-gray-400 hover:text-white">Coordinate Converters</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
            <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
            <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
            <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
            <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
            <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
            <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
            <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
            <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
      </div>
    </div>
  </footer>

  <script src="/assets/js/script_menu.js" defer=""></script>
  <script src="/assets/js/script_faq.js" defer=""></script>
  <script src="search.js" defer=""></script>

  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>


</body></html>