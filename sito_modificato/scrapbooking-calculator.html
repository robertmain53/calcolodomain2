<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/scrapbooking-calculator">





  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Scrapbooking Calculator — Layout, Cut List, Cost &amp; Materials</title>
  <meta name="description" content="Plan perfect scrapbook pages. Auto-calc optimal photo grid, print size, mats, gutters, waste %, material sheets and total cost. Supports inches/mm, A-series &amp; US sizes.">
  
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0f172a">

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com" defer=""></script>
  <!-- MathJax for LaTeX -->
  <script>
  (function() {

    'use strict';

  window.MathJax = { tex: { inlineMath: [['\\(','\\)'], ['

  })();</script>

  <style>
    :root {
      --focus: 3px solid #2563eb;
    }
    /* Inter font-like stack without external load to keep CWV tight */
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";}
    .prose{max-width: 68ch}
    .formula-box{background:#f3f4f6;border:1px solid #d1d5db;border-radius:12px;padding:1rem;overflow:auto}
    .result-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:1rem}
    .result-card h4{font-size:.95rem;color:#4b5563;margin:0 0 .25rem}
    .result-card p{font-size:1.45rem;font-weight:800;color:#1d4ed8;margin:0}
    /* Accessible focus */
    a:focus, button:focus, select:focus, input:focus, summary:focus {outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,.35); border-color:#2563eb}
    /* Min-height to prevent CLS in results */
    #results { min-height: 320px }
    /* Big touch targets */
    .touch-target{min-height:48px; min-width:48px}
    /* Print */
    @media print {
      header, nav, .aside, #content-ecosystem, .no-print { display:none !important; }
      #print-section { display:block !important; }
    }
  </style>

  <!-- JSON-LD: WebPage + WebApplication + Breadcrumb + HowTo -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Scrapbooking Calculator",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "description": "Plan scrapbook layouts with auto grid fitting, cut list, waste %, materials and cost. Supports inches/mm, A-series & US sizes.",
      "inLanguage": "en",
      "isPartOf": {
        "@type": "Website",
        "name": "CalcDomain",
        "url": "https://calcdomain.com"
      },
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "dateModified": "2025-10-30"
    },
    {
      "@type": "WebApplication",
      "name": "Scrapbooking Calculator",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Web",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Lifestyle & Everyday",
          "item": "https://calcdomain.com/categories/lifestyle-everyday"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Hobbies",
          "item": "https://calcdomain.com/subcategories/hobbies"
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to plan a scrapbook page",
      "description": "Enter album page size, margins, photo count and spacing to get optimal grid, print sizes, mats and cut list.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Choose page size",
          "text": "Pick a preset (12×12, A4, Letter) or custom."
        },
        {
          "@type": "HowToStep",
          "name": "Set margins & gutters",
          "text": "Define safe margin and spacing."
        },
        {
          "@type": "HowToStep",
          "name": "Enter photos",
          "text": "Select count and aspect ratio or fixed print size."
        },
        {
          "@type": "HowToStep",
          "name": "Materials & costs",
          "text": "Cardstock size, mat border, costs for sheets and adhesive."
        },
        {
          "@type": "HowToStep",
          "name": "Review cut list",
          "text": "Follow auto-generated cut list and cost summary."
        }
      ]
    }
  ]
}
</script>

<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>
</head>
<body class="bg-gray-50 text-gray-900"><header id="siteHeader">
  <div class="nav container">
    <a class="brand" href="https://calcdomain.com">CalcDomain</a>
    <div class="navRight">
      <a class="pill" href="https://calcdomain.com/search">Advanced Search</a>
      <span class="pill">Categories</span>
    </div>
  </div>
</header><div class="container">
  <main style="margin:24px 0 40px;" id="mainContent">
    <h1 id="pageTitle">scrapbooking calculator</h1>
    <p class="sub" id="pageSub">Plan perfect scrapbook pages. Auto-calc optimal photo grid, print size, mats, gutters, waste %, material sheets and total cost. Supports inches/mm, A-series &amp; US sizes.</p>
    <div id="errorBox" class="alert" role="alert" aria-live="polite"></div>

    <div class="calc-hero" id="calcHero">
      <section class="card" id="inputsCard" aria-label="Calculator inputs"><div id="print-section" class="bg-white rounded-xl shadow-sm p-5 sm:p-6">
      <!-- 1) H1 -->
      <h1 class="text-3xl sm:text-4xl font-extrabold mb-2">scrapbooking calculator</h1>
      <!-- 2) Intro -->
      <p class="text-gray-700 mb-6">Plan a perfectly balanced scrapbook page in minutes. This calculator finds the optimal photo grid and print sizes for your album page, generates a precise cut list for mats and backgrounds, estimates waste, and totals material cost — with accessible, mobile-first UX for hobbyists and professionals.</p>

      <!-- 3) Calculator UI -->
      <section id="calculator-ui" class="space-y-7" aria-labelledby="calc-heading">
        <h2 id="calc-heading" class="sr-only">Calculator Inputs</h2>

        <!-- Unit & Presets -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
          <div>
            <label for="units" class="block text-sm font-medium text-gray-800">Units <span aria-hidden="true" class="text-red-600 font-bold">*</span></label>
            <select id="units" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true">
              <option value="in" selected="">Inches (in)</option>
              <option value="mm">Millimetres (mm)</option>
            </select>
            <p id="unitsHelp" class="text-xs text-gray-600 mt-1">Switching units converts all fields safely.</p>
          </div>

          <div>
            <label for="pagePreset" class="block text-sm font-medium text-gray-800">Album Page Preset</label>
            <div class="flex items-center gap-2">
              <select id="pagePreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="pagePresetTip">
                <option value="12x12">12 × 12 in (square)</option>
                <option value="letter">Letter 8.5 × 11 in</option>
                <option value="a4">A4 210 × 297 mm</option>
                <option value="a5">A5 148 × 210 mm</option>
                <option value="custom" selected="">Custom</option>
              </select>
              <button type="button" class="touch-target px-2 py-2 rounded-lg border" aria-expanded="false" aria-controls="pagePresetTip">?</button>
            </div>
            <div id="pagePresetTip" class="hidden text-sm text-gray-600 mt-2">Pick a preset or leave Custom to enter exact width/height.</div>
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label for="pageW" class="block text-sm font-medium text-gray-800">Page Width <span class="text-red-600 font-bold">*</span></label>
              <input id="pageW" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageWErr unitsHelp">
              <p id="pageWErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
            <div>
              <label for="pageH" class="block text-sm font-medium text-gray-800">Page Height <span class="text-red-600 font-bold">*</span></label>
              <input id="pageH" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageHErr unitsHelp">
              <p id="pageHErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
          </div>
        </div>

        <!-- Margins / Bleed / Gutters -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Margins, Bleed &amp; Gutters</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="safeMargin" class="block text-sm font-medium text-gray-800">Safe Margin (all sides)</label>
              <input id="safeMargin" type="number" step="0.5" min="0" value="10" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="safeTip">
              <p id="safeTip" class="text-xs text-gray-600 mt-1">Keep content away from edges to avoid clipping.</p>
            </div>
            <div>
              <label for="bleed" class="block text-sm font-medium text-gray-800">Bleed (optional)</label>
              <input id="bleed" type="number" step="0.5" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="bleedTip">
              <p id="bleedTip" class="text-xs text-gray-600 mt-1">For printing: extra area to trim off.</p>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="gutterX" class="block text-sm font-medium text-gray-800">Gutter (X)</label>
                <input id="gutterX" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="gutterY" class="block text-sm font-medium text-gray-800">Gutter (Y)</label>
                <input id="gutterY" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <!-- Photos -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Photos &amp; Grid</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="photoCount" class="block text-sm font-medium text-gray-800">Number of Photos <span class="text-red-600 font-bold">*</span></label>
              <input id="photoCount" type="number" min="1" max="20" value="4" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="photoErr">
              <p id="photoErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>

            <div>
              <label for="photoMode" class="block text-sm font-medium text-gray-800">Photo Size Mode</label>
              <select id="photoMode" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="photoModeTip">
                <option value="aspect" selected="">Fit by Aspect Ratio</option>
                <option value="fixed">Use Fixed Print Size</option>
              </select>
              <p id="photoModeTip" class="text-xs text-gray-600 mt-1">Aspect mode maximizes photo size within grid.</p>
            </div>

            <div id="aspectWrap">
              <label for="aspect" class="block text-sm font-medium text-gray-800">Aspect Ratio</label>
              <select id="aspect" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="3:2" selected="">3:2 (DSLR / 6×4")</option>
                <option value="4:3">4:3 (phones/compact)</option>
                <option value="1:1">1:1 (square)</option>
                <option value="7:5">7:5 (5×7")</option>
                <option value="5:4">5:4 (8×10")</option>
              </select>
            </div>

            <div id="fixedWrap" class="hidden grid grid-cols-2 gap-3 sm:col-span-2">
              <div>
                <label for="fixedW" class="block text-sm font-medium text-gray-800">Print Width</label>
                <input id="fixedW" type="number" step="0.1" min="5" value="100" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="fixedH" class="block text-sm font-medium text-gray-800">Print Height</label>
                <input id="fixedH" type="number" step="0.1" min="5" value="150" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>

            <div>
              <label for="preferRows" class="block text-sm font-medium text-gray-800">Preferred Rows (optional)</label>
              <input id="preferRows" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="rowsTip">
              <p id="rowsTip" class="text-xs text-gray-600 mt-1">0 = auto choose best grid.</p>
            </div>
            <div>
              <label for="preferCols" class="block text-sm font-medium text-gray-800">Preferred Columns (optional)</label>
              <input id="preferCols" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
            </div>
            <div>
              <label for="matBorder" class="block text-sm font-medium text-gray-800">Mat Border</label>
              <input id="matBorder" type="number" step="0.5" min="0" value="3" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="matTip">
              <p id="matTip" class="text-xs text-gray-600 mt-1">Extra border around each photo (for matting).</p>
            </div>
          </div>
        </fieldset>

        <!-- Materials & Costs -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Materials &amp; Cost</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="sheetPreset" class="block text-sm font-medium text-gray-800">Cardstock Sheet</label>
              <select id="sheetPreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="12x12" selected="">12 × 12 in sheet</option>
                <option value="a4">A4 sheet</option>
                <option value="letter">Letter sheet</option>
                <option value="custom">Custom sheet</option>
              </select>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="sheetW" class="block text-sm font-medium text-gray-800">Sheet Width</label>
                <input id="sheetW" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="sheetH" class="block text-sm font-medium text-gray-800">Sheet Height</label>
                <input id="sheetH" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="costPerSheet" class="block text-sm font-medium text-gray-800">Cost per Sheet</label>
                <input id="costPerSheet" type="number" step="0.01" min="0" value="0.80" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="adhesiveCostPerM" class="block text-sm font-medium text-gray-800">Adhesive Cost / meter</label>
                <input id="adhesiveCostPerM" type="number" step="0.01" min="0" value="0.06" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <div class="flex flex-wrap gap-3">
          <button id="calcBtn" class="touch-target px-4 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 focus:outline-none btn">Calculate</button>
          <button id="clearBtn" class="touch-target px-4 py-3 rounded-lg border font-semibold bg-white hover:bg-gray-50 focus:outline-none">Reset</button>
        </div>
      </section>

      <!-- 4) Results -->
      <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-xl p-4 sm:p-6" aria-live="polite">
        <h2 class="text-xl font-bold text-blue-900 mb-3">Results</h2>

        <div class="grid md:grid-cols-4 sm:grid-cols-2 gap-4">
          <div class="result-card"><h4>Grid</h4><p id="resGrid">—</p></div>
          <div class="result-card"><h4>Max Print Size</h4><p id="resPrint">—</p></div>
          <div class="result-card"><h4>Waste</h4><p id="resWaste">—</p></div>
          <div class="result-card"><h4>Total Cost</h4><p id="resCost">—</p></div>
        </div>

        <details class="mt-6 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Cut List &amp; Materials</summary>
          <div class="p-4 overflow-x-auto">
            <table class="min-w-full text-sm">
              <thead class="bg-gray-100 text-gray-700">
                <tr>
                  <th class="text-left px-3 py-2">Item</th>
                  <th class="text-right px-3 py-2">Qty</th>
                  <th class="text-right px-3 py-2">Width</th>
                  <th class="text-right px-3 py-2">Height</th>
                  <th class="text-right px-3 py-2">From Sheet</th>
                </tr>
              </thead>
              <tbody id="cutList"></tbody>
            </table>
            <p class="text-xs text-gray-600 mt-3" id="kerfNote">Assumes ~2 mm kerf/trim allowance.</p>
          </div>
        </details>

        <details class="mt-4 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Layout Notes</summary>
          <div class="p-4 text-sm text-gray-700" id="layoutNotes">—</div>
        </details>
      </section>

      <!-- 5) Authoritative Ecosystem -->
      <section id="content-ecosystem" class="mt-10 prose">
        <h2>Authoritative Data Source &amp; Methodology</h2>
        <ul>
          <li><strong>ISO 216:2007</strong> — A-series paper sizes (A4, A5, etc.). <a href="https://www.iso.org/standard/36631.html" rel="nofollow">ISO</a>, and summary <a href="https://en.wikipedia.org/wiki/ISO_216" rel="nofollow">overview</a>. “Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.” :contentReference[oaicite:0]{index=0}</li>
          <li><strong>ANSI/ASME Y14.1</strong> — US inch-based paper sizes (Letter, Tabloid). <a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" rel="nofollow">Reference</a>. :contentReference[oaicite:1]{index=1}</li>
          <li><strong>Common photo print sizes</strong> — Industry references for 4×6, 5×7, 8×10, etc. <a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" rel="nofollow">Adobe</a>, <a href="https://www.framedestination.com/info/picture-frame-sizes.html" rel="nofollow">FrameDestination</a>. :contentReference[oaicite:2]{index=2}</li>
          <li><strong>Scrapbook page formats</strong> — Common 12×12 in, 8.5×11 in, 6×6 in. <a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" rel="nofollow">12x12 Cardstock</a>, <a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" rel="nofollow">Hobbycraft</a>. :contentReference[oaicite:3]{index=3}</li>
        </ul>

        <h2>The Formula Explained</h2>
        <div class="formula-box">
          <p>Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\):</p>
          \[
            W_s = W - 2(m+b), \quad H_s = H - 2(m+b)
          \]
          <p>With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect):</p>
          \[
            w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right),
            \quad h_{\max} = \frac{w_{\max}}{a}
          \]
          <p>For fixed print size \((w_p,h_p)\), grid feasibility requires:</p>
          \[
            c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s
          \]
          <p>Mat border \(b_m\) grows each print to:</p>
          \[
            w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m
          \]
          <p>Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\):</p>
          \[
            \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%
          \]
        </div>

        <h2>Glossary of Variables</h2>
        <ul>
          <li><strong>W,H</strong>: Page width/height.</li>
          <li><strong>m</strong>: Safe margin; <strong>b</strong>: bleed.</li>
          <li><strong>g<sub>x</sub>, g<sub>y</sub></strong>: Horizontal/vertical gutter.</li>
          <li><strong>n</strong>: Number of photos; <strong>r,c</strong>: chosen rows/cols (with \(rc \ge n\)).</li>
          <li><strong>a</strong>: Photo aspect ratio width:height (e.g., 3:2).</li>
          <li><strong>w<sub>p</sub>, h<sub>p</sub></strong>: Final print width/height per photo.</li>
          <li><strong>b<sub>m</sub></strong>: Mat border thickness.</li>
          <li><strong>Waste %</strong>: Unused safe area after placing photos &amp; mats.</li>
        </ul>

        <h2>How It Works: A Step-by-Step Example</h2>
        <h3>Come Funziona: Un Esempio Passo-Passo</h3>
        <ol>
          <li><strong>Page</strong>: 12×12 in, margin 0.5 in, bleed 0.</li>
          <li><strong>Photos</strong>: 4 photos, aspect 3:2, gutters 0.25 in.</li>
          <li><strong>Auto grid</strong>: picks 2×2. Calculates \(W_s=11\), \(H_s=11\).</li>
          <li><strong>Max print</strong>: fits both axes → about 5.0×3.33 in each.</li>
          <li><strong>Mats</strong>: 0.125 in border → 5.25×3.58 in trims.</li>
          <li><strong>Cut list &amp; cost</strong>: shows exact pieces from 12×12 sheets plus adhesive length and total cost.</li>
        </ol>

        <h2>FAQ</h2>
        <details><summary>Can I force a specific grid (like 3×2)?</summary><p>Yes. Enter preferred rows/columns. If not feasible, the calculator warns and falls back to the nearest feasible grid.</p></details>
        <details><summary>How is waste % computed?</summary><p>It compares the safe area (after margins/bleed) to the total matted photo area placed.</p></details>
        <details><summary>What if I use fixed print sizes?</summary><p>Switch to “Use Fixed Print Size” and enter the exact print dimensions; the tool checks feasibility and shows the largest feasible grid.</p></details>
        <details><summary>Does it support A-series and US sizes?</summary><p>Yes, presets include A4/A5 and Letter. Data is based on ISO 216 and ANSI/ASME Y14.1 references.</p></details>
        <details><summary>Can I use different gutters horizontally/vertically?</summary><p>Yes. Use Gutter X and Gutter Y for asymmetric spacing (useful for titles or journaling areas).</p></details>
        <details><summary>Is the cut list precise for real cutting?</summary><p>It adds ~2 mm kerf allowance globally; adjust if your trimmer requires more.</p></details>
        <details><summary>How are costs calculated?</summary><p>Costs = sheets needed × cost per sheet + estimated adhesive (perimeter of mats and photos) × cost per meter.</p></details>

        <h2>Competitor Gap Analysis (UX &amp; Feature Depth)</h2>
        <ul>
          <li><strong>Craftybase Craft Calculator</strong> focuses on pricing (materials, labor, markup) — no layout engine, grid fitting, or cut list. :contentReference[oaicite:4]{index=4}</li>
          <li><strong>CraftCalculators</strong> offers pricing/production tools and spreadsheets — not scrapbook-specific page layout math. :contentReference[oaicite:5]{index=5}</li>
          <li><strong>Crafting with Donna</strong> curates calculators/tutorials but lacks dynamic page layout with waste &amp; cost integration. :contentReference[oaicite:6]{index=6}</li>
          <li><strong>Canva/Mixbook/YouTube</strong> provide inspiration &amp; editors, but not an engineering-grade calculator with cut lists, mats and unit conversions. :contentReference[oaicite:7]{index=7}
          </li>
        </ul>
        <p><strong>Our edge</strong>: professional formulae with unit conversion, grid optimizer, precise cut list, waste %, cost roll-up, accessible inline validation, and authoritative references.</p>

        <!-- 6) Author signature -->
        <div class="mt-6 p-4 bg-gray-50 border rounded-lg text-sm text-gray-700">
          <p><strong>Strumento sviluppato da Ugo Candido</strong>. Contenuti verificati da CalcDomain Editorial Board.<br>
          Ultima revisione per l'accuratezza in data: <time datetime="2025-10-30">October 30, 2025</time></p>
        </div>
      </section>
    </div>
<div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;">
<button id="resetBtn" type="button" class="btn btnSecondary">Reset</button>
</div>
</section>
      <section class="card sticky-box" id="resultsCard" aria-label="Calculator results"></section>
    </div>

    <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
      <h2>Full original guide (expanded)</h2>
    <header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a class="text-2xl font-extrabold text-blue-700 focus:outline-none" href="https://calcdomain.com">CalcDomain</a>
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> » <a href="https://calcdomain.com/categories/lifestyle-everyday" class="hover:text-blue-600">Lifestyle &amp; Everyday</a> » <a href="https://calcdomain.com/subcategories/hobbies" class="hover:text-blue-600">Hobbies</a></nav>
    </div>
  </header><main class="max-w-6xl mx-auto px-4 py-8">
    
  
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[W_s = W - 2(m+b), \quad H_s = H - 2(m+b)\]</div>
  <pre class="auditspine-mono">W_s = W - 2(m+b), \quad H_s = H - 2(m+b)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}\]</div>
  <pre class="auditspine-mono">w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s\]</div>
  <pre class="auditspine-mono">c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m\]</div>
  <pre class="auditspine-mono">w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%\]</div>
  <pre class="auditspine-mono">\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\): \[ W_s = W - 2(m+b), \quad H_s = H - 2(m+b) \] With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect): \[ w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a} \] For fixed print size \((w_p,h_p)\), grid feasibility requires: \[ c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s \] Mat border \(b_m\) grows each print to: \[ w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m \] Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\): \[ \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\% \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>ISO</strong> — iso.org · Accessed 2026-01-19<br><a href="https://www.iso.org/standard/36631.html" target="_blank" rel="nofollow noopener">https://www.iso.org/standard/36631.html</a></li>
<li><strong>overview</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ISO_216" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ISO_216</a></li>
<li><strong>Reference</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1</a></li>
<li><strong>Adobe</strong> — adobe.com · Accessed 2026-01-19<br><a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" target="_blank" rel="nofollow noopener">https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html</a></li>
<li><strong>FrameDestination</strong> — framedestination.com · Accessed 2026-01-19<br><a href="https://www.framedestination.com/info/picture-frame-sizes.html" target="_blank" rel="nofollow noopener">https://www.framedestination.com/info/picture-frame-sizes.html</a></li>
<li><strong>12x12 Cardstock</strong> — 12x12cardstock.shop · Accessed 2026-01-19<br><a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" target="_blank" rel="nofollow noopener">https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper</a></li>
<li><strong>Hobbycraft</strong> — hobbycraft.co.uk · Accessed 2026-01-19<br><a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" target="_blank" rel="nofollow noopener">https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->


</main><footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                                                                        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer><style>
    :root {
      --focus: 3px solid #2563eb;
    }
    /* Inter font-like stack without external load to keep CWV tight */
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";}
    .prose{max-width: 68ch}
    .formula-box{background:#f3f4f6;border:1px solid #d1d5db;border-radius:12px;padding:1rem;overflow:auto}
    .result-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:1rem}
    .result-card h4{font-size:.95rem;color:#4b5563;margin:0 0 .25rem}
    .result-card p{font-size:1.45rem;font-weight:800;color:#1d4ed8;margin:0}
    /* Accessible focus */
    a:focus, button:focus, select:focus, input:focus, summary:focus {outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,.35); border-color:#2563eb}
    /* Min-height to prevent CLS in results */
    #results { min-height: 320px }
    /* Big touch targets */
    .touch-target{min-height:48px; min-width:48px}
    /* Print */
    @media print {
      header, nav, .aside, #content-ecosystem, .no-print { display:none !important; }
      #print-section { display:block !important; }
    }
  </style><style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style><header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a class="text-2xl font-extrabold text-blue-700 focus:outline-none" href="https://calcdomain.com">CalcDomain</a>
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> » <a href="https://calcdomain.com/categories/lifestyle-everyday" class="hover:text-blue-600">Lifestyle &amp; Everyday</a> » <a href="https://calcdomain.com/subcategories/hobbies" class="hover:text-blue-600">Hobbies</a></nav>
    </div>
  </header><main class="max-w-6xl mx-auto px-4 py-8">
    <div id="print-section" class="bg-white rounded-xl shadow-sm p-5 sm:p-6">
      <!-- 1) H1 -->
      <h1 class="text-3xl sm:text-4xl font-extrabold mb-2">scrapbooking calculator</h1>
      <!-- 2) Intro -->
      <p class="text-gray-700 mb-6">Plan a perfectly balanced scrapbook page in minutes. This calculator finds the optimal photo grid and print sizes for your album page, generates a precise cut list for mats and backgrounds, estimates waste, and totals material cost — with accessible, mobile-first UX for hobbyists and professionals.</p>

      <!-- 3) Calculator UI -->
      <section id="calculator-ui" class="space-y-7" aria-labelledby="calc-heading">
        <h2 id="calc-heading" class="sr-only">Calculator Inputs</h2>

        <!-- Unit & Presets -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
          <div>
            <label for="units" class="block text-sm font-medium text-gray-800">Units <span aria-hidden="true" class="text-red-600 font-bold">*</span></label>
            <select id="units" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true">
              <option value="in" selected="">Inches (in)</option>
              <option value="mm">Millimetres (mm)</option>
            </select>
            <p id="unitsHelp" class="text-xs text-gray-600 mt-1">Switching units converts all fields safely.</p>
          </div>

          <div>
            <label for="pagePreset" class="block text-sm font-medium text-gray-800">Album Page Preset</label>
            <div class="flex items-center gap-2">
              <select id="pagePreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="pagePresetTip">
                <option value="12x12">12 × 12 in (square)</option>
                <option value="letter">Letter 8.5 × 11 in</option>
                <option value="a4">A4 210 × 297 mm</option>
                <option value="a5">A5 148 × 210 mm</option>
                <option value="custom" selected="">Custom</option>
              </select>
              <button type="button" class="touch-target px-2 py-2 rounded-lg border" aria-expanded="false" aria-controls="pagePresetTip">?</button>
            </div>
            <div id="pagePresetTip" class="hidden text-sm text-gray-600 mt-2">Pick a preset or leave Custom to enter exact width/height.</div>
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label for="pageW" class="block text-sm font-medium text-gray-800">Page Width <span class="text-red-600 font-bold">*</span></label>
              <input id="pageW" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageWErr unitsHelp">
              <p id="pageWErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
            <div>
              <label for="pageH" class="block text-sm font-medium text-gray-800">Page Height <span class="text-red-600 font-bold">*</span></label>
              <input id="pageH" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageHErr unitsHelp">
              <p id="pageHErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
          </div>
        </div>

        <!-- Margins / Bleed / Gutters -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Margins, Bleed &amp; Gutters</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="safeMargin" class="block text-sm font-medium text-gray-800">Safe Margin (all sides)</label>
              <input id="safeMargin" type="number" step="0.5" min="0" value="10" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="safeTip">
              <p id="safeTip" class="text-xs text-gray-600 mt-1">Keep content away from edges to avoid clipping.</p>
            </div>
            <div>
              <label for="bleed" class="block text-sm font-medium text-gray-800">Bleed (optional)</label>
              <input id="bleed" type="number" step="0.5" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="bleedTip">
              <p id="bleedTip" class="text-xs text-gray-600 mt-1">For printing: extra area to trim off.</p>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="gutterX" class="block text-sm font-medium text-gray-800">Gutter (X)</label>
                <input id="gutterX" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="gutterY" class="block text-sm font-medium text-gray-800">Gutter (Y)</label>
                <input id="gutterY" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <!-- Photos -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Photos &amp; Grid</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="photoCount" class="block text-sm font-medium text-gray-800">Number of Photos <span class="text-red-600 font-bold">*</span></label>
              <input id="photoCount" type="number" min="1" max="20" value="4" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="photoErr">
              <p id="photoErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>

            <div>
              <label for="photoMode" class="block text-sm font-medium text-gray-800">Photo Size Mode</label>
              <select id="photoMode" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="photoModeTip">
                <option value="aspect" selected="">Fit by Aspect Ratio</option>
                <option value="fixed">Use Fixed Print Size</option>
              </select>
              <p id="photoModeTip" class="text-xs text-gray-600 mt-1">Aspect mode maximizes photo size within grid.</p>
            </div>

            <div id="aspectWrap">
              <label for="aspect" class="block text-sm font-medium text-gray-800">Aspect Ratio</label>
              <select id="aspect" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="3:2" selected="">3:2 (DSLR / 6×4")</option>
                <option value="4:3">4:3 (phones/compact)</option>
                <option value="1:1">1:1 (square)</option>
                <option value="7:5">7:5 (5×7")</option>
                <option value="5:4">5:4 (8×10")</option>
              </select>
            </div>

            <div id="fixedWrap" class="hidden grid grid-cols-2 gap-3 sm:col-span-2">
              <div>
                <label for="fixedW" class="block text-sm font-medium text-gray-800">Print Width</label>
                <input id="fixedW" type="number" step="0.1" min="5" value="100" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="fixedH" class="block text-sm font-medium text-gray-800">Print Height</label>
                <input id="fixedH" type="number" step="0.1" min="5" value="150" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>

            <div>
              <label for="preferRows" class="block text-sm font-medium text-gray-800">Preferred Rows (optional)</label>
              <input id="preferRows" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="rowsTip">
              <p id="rowsTip" class="text-xs text-gray-600 mt-1">0 = auto choose best grid.</p>
            </div>
            <div>
              <label for="preferCols" class="block text-sm font-medium text-gray-800">Preferred Columns (optional)</label>
              <input id="preferCols" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
            </div>
            <div>
              <label for="matBorder" class="block text-sm font-medium text-gray-800">Mat Border</label>
              <input id="matBorder" type="number" step="0.5" min="0" value="3" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="matTip">
              <p id="matTip" class="text-xs text-gray-600 mt-1">Extra border around each photo (for matting).</p>
            </div>
          </div>
        </fieldset>

        <!-- Materials & Costs -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Materials &amp; Cost</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="sheetPreset" class="block text-sm font-medium text-gray-800">Cardstock Sheet</label>
              <select id="sheetPreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="12x12" selected="">12 × 12 in sheet</option>
                <option value="a4">A4 sheet</option>
                <option value="letter">Letter sheet</option>
                <option value="custom">Custom sheet</option>
              </select>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="sheetW" class="block text-sm font-medium text-gray-800">Sheet Width</label>
                <input id="sheetW" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="sheetH" class="block text-sm font-medium text-gray-800">Sheet Height</label>
                <input id="sheetH" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="costPerSheet" class="block text-sm font-medium text-gray-800">Cost per Sheet</label>
                <input id="costPerSheet" type="number" step="0.01" min="0" value="0.80" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="adhesiveCostPerM" class="block text-sm font-medium text-gray-800">Adhesive Cost / meter</label>
                <input id="adhesiveCostPerM" type="number" step="0.01" min="0" value="0.06" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <div class="flex flex-wrap gap-3">
          <button id="calcBtn__dup2" class="touch-target px-4 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 focus:outline-none">Calculate</button>
          <button id="clearBtn" class="touch-target px-4 py-3 rounded-lg border font-semibold bg-white hover:bg-gray-50 focus:outline-none">Reset</button>
        </div>
      </section>

      <!-- 4) Results -->
      <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-xl p-4 sm:p-6" aria-live="polite">
        <h2 class="text-xl font-bold text-blue-900 mb-3">Results</h2>

        <div class="grid md:grid-cols-4 sm:grid-cols-2 gap-4">
          <div class="result-card"><h4>Grid</h4><p id="resGrid">—</p></div>
          <div class="result-card"><h4>Max Print Size</h4><p id="resPrint">—</p></div>
          <div class="result-card"><h4>Waste</h4><p id="resWaste">—</p></div>
          <div class="result-card"><h4>Total Cost</h4><p id="resCost">—</p></div>
        </div>

        <details class="mt-6 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Cut List &amp; Materials</summary>
          <div class="p-4 overflow-x-auto">
            <table class="min-w-full text-sm">
              <thead class="bg-gray-100 text-gray-700">
                <tr>
                  <th class="text-left px-3 py-2">Item</th>
                  <th class="text-right px-3 py-2">Qty</th>
                  <th class="text-right px-3 py-2">Width</th>
                  <th class="text-right px-3 py-2">Height</th>
                  <th class="text-right px-3 py-2">From Sheet</th>
                </tr>
              </thead>
              <tbody id="cutList"></tbody>
            </table>
            <p class="text-xs text-gray-600 mt-3" id="kerfNote">Assumes ~2 mm kerf/trim allowance.</p>
          </div>
        </details>

        <details class="mt-4 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Layout Notes</summary>
          <div class="p-4 text-sm text-gray-700" id="layoutNotes">—</div>
        </details>
      </section>

      <!-- 5) Authoritative Ecosystem -->
      <section id="content-ecosystem" class="mt-10 prose">
        <h2>Authoritative Data Source &amp; Methodology</h2>
        <ul>
          <li><strong>ISO 216:2007</strong> — A-series paper sizes (A4, A5, etc.). <a href="https://www.iso.org/standard/36631.html" rel="nofollow">ISO</a>, and summary <a href="https://en.wikipedia.org/wiki/ISO_216" rel="nofollow">overview</a>. “Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.” :contentReference[oaicite:0]{index=0}</li>
          <li><strong>ANSI/ASME Y14.1</strong> — US inch-based paper sizes (Letter, Tabloid). <a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" rel="nofollow">Reference</a>. :contentReference[oaicite:1]{index=1}</li>
          <li><strong>Common photo print sizes</strong> — Industry references for 4×6, 5×7, 8×10, etc. <a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" rel="nofollow">Adobe</a>, <a href="https://www.framedestination.com/info/picture-frame-sizes.html" rel="nofollow">FrameDestination</a>. :contentReference[oaicite:2]{index=2}</li>
          <li><strong>Scrapbook page formats</strong> — Common 12×12 in, 8.5×11 in, 6×6 in. <a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" rel="nofollow">12x12 Cardstock</a>, <a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" rel="nofollow">Hobbycraft</a>. :contentReference[oaicite:3]{index=3}</li>
        </ul>

        <h2>The Formula Explained</h2>
        <div class="formula-box">
          <p>Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\):</p>
          \[
            W_s = W - 2(m+b), \quad H_s = H - 2(m+b)
          \]
          <p>With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect):</p>
          \[
            w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right),
            \quad h_{\max} = \frac{w_{\max}}{a}
          \]
          <p>For fixed print size \((w_p,h_p)\), grid feasibility requires:</p>
          \[
            c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s
          \]
          <p>Mat border \(b_m\) grows each print to:</p>
          \[
            w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m
          \]
          <p>Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\):</p>
          \[
            \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%
          \]
        </div>

        <h2>Glossary of Variables</h2>
        <ul>
          <li><strong>W,H</strong>: Page width/height.</li>
          <li><strong>m</strong>: Safe margin; <strong>b</strong>: bleed.</li>
          <li><strong>g<sub>x</sub>, g<sub>y</sub></strong>: Horizontal/vertical gutter.</li>
          <li><strong>n</strong>: Number of photos; <strong>r,c</strong>: chosen rows/cols (with \(rc \ge n\)).</li>
          <li><strong>a</strong>: Photo aspect ratio width:height (e.g., 3:2).</li>
          <li><strong>w<sub>p</sub>, h<sub>p</sub></strong>: Final print width/height per photo.</li>
          <li><strong>b<sub>m</sub></strong>: Mat border thickness.</li>
          <li><strong>Waste %</strong>: Unused safe area after placing photos &amp; mats.</li>
        </ul>

        <h2>How It Works: A Step-by-Step Example</h2>
        <h3>Come Funziona: Un Esempio Passo-Passo</h3>
        <ol>
          <li><strong>Page</strong>: 12×12 in, margin 0.5 in, bleed 0.</li>
          <li><strong>Photos</strong>: 4 photos, aspect 3:2, gutters 0.25 in.</li>
          <li><strong>Auto grid</strong>: picks 2×2. Calculates \(W_s=11\), \(H_s=11\).</li>
          <li><strong>Max print</strong>: fits both axes → about 5.0×3.33 in each.</li>
          <li><strong>Mats</strong>: 0.125 in border → 5.25×3.58 in trims.</li>
          <li><strong>Cut list &amp; cost</strong>: shows exact pieces from 12×12 sheets plus adhesive length and total cost.</li>
        </ol>

        <h2>FAQ</h2>
        <details><summary>Can I force a specific grid (like 3×2)?</summary><p>Yes. Enter preferred rows/columns. If not feasible, the calculator warns and falls back to the nearest feasible grid.</p></details>
        <details><summary>How is waste % computed?</summary><p>It compares the safe area (after margins/bleed) to the total matted photo area placed.</p></details>
        <details><summary>What if I use fixed print sizes?</summary><p>Switch to “Use Fixed Print Size” and enter the exact print dimensions; the tool checks feasibility and shows the largest feasible grid.</p></details>
        <details><summary>Does it support A-series and US sizes?</summary><p>Yes, presets include A4/A5 and Letter. Data is based on ISO 216 and ANSI/ASME Y14.1 references.</p></details>
        <details><summary>Can I use different gutters horizontally/vertically?</summary><p>Yes. Use Gutter X and Gutter Y for asymmetric spacing (useful for titles or journaling areas).</p></details>
        <details><summary>Is the cut list precise for real cutting?</summary><p>It adds ~2 mm kerf allowance globally; adjust if your trimmer requires more.</p></details>
        <details><summary>How are costs calculated?</summary><p>Costs = sheets needed × cost per sheet + estimated adhesive (perimeter of mats and photos) × cost per meter.</p></details>

        <h2>Competitor Gap Analysis (UX &amp; Feature Depth)</h2>
        <ul>
          <li><strong>Craftybase Craft Calculator</strong> focuses on pricing (materials, labor, markup) — no layout engine, grid fitting, or cut list. :contentReference[oaicite:4]{index=4}</li>
          <li><strong>CraftCalculators</strong> offers pricing/production tools and spreadsheets — not scrapbook-specific page layout math. :contentReference[oaicite:5]{index=5}</li>
          <li><strong>Crafting with Donna</strong> curates calculators/tutorials but lacks dynamic page layout with waste &amp; cost integration. :contentReference[oaicite:6]{index=6}</li>
          <li><strong>Canva/Mixbook/YouTube</strong> provide inspiration &amp; editors, but not an engineering-grade calculator with cut lists, mats and unit conversions. :contentReference[oaicite:7]{index=7}
          </li>
        </ul>
        <p><strong>Our edge</strong>: professional formulae with unit conversion, grid optimizer, precise cut list, waste %, cost roll-up, accessible inline validation, and authoritative references.</p>

        <!-- 6) Author signature -->
        <div class="mt-6 p-4 bg-gray-50 border rounded-lg text-sm text-gray-700">
          <p><strong>Strumento sviluppato da Ugo Candido</strong>. Contenuti verificati da CalcDomain Editorial Board.<br>
          Ultima revisione per l'accuratezza in data: <time datetime="2025-10-30">October 30, 2025</time></p>
        </div>
      </section>
    </div>
  
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[W_s = W - 2(m+b), \quad H_s = H - 2(m+b)\]</div>
  <pre class="auditspine-mono">W_s = W - 2(m+b), \quad H_s = H - 2(m+b)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}\]</div>
  <pre class="auditspine-mono">w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s\]</div>
  <pre class="auditspine-mono">c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m\]</div>
  <pre class="auditspine-mono">w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%\]</div>
  <pre class="auditspine-mono">\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\): \[ W_s = W - 2(m+b), \quad H_s = H - 2(m+b) \] With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect): \[ w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a} \] For fixed print size \((w_p,h_p)\), grid feasibility requires: \[ c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s \] Mat border \(b_m\) grows each print to: \[ w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m \] Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\): \[ \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\% \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>ISO</strong> — iso.org · Accessed 2026-01-19<br><a href="https://www.iso.org/standard/36631.html" target="_blank" rel="nofollow noopener">https://www.iso.org/standard/36631.html</a></li>
<li><strong>overview</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ISO_216" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ISO_216</a></li>
<li><strong>Reference</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1</a></li>
<li><strong>Adobe</strong> — adobe.com · Accessed 2026-01-19<br><a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" target="_blank" rel="nofollow noopener">https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html</a></li>
<li><strong>FrameDestination</strong> — framedestination.com · Accessed 2026-01-19<br><a href="https://www.framedestination.com/info/picture-frame-sizes.html" target="_blank" rel="nofollow noopener">https://www.framedestination.com/info/picture-frame-sizes.html</a></li>
<li><strong>12x12 Cardstock</strong> — 12x12cardstock.shop · Accessed 2026-01-19<br><a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" target="_blank" rel="nofollow noopener">https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper</a></li>
<li><strong>Hobbycraft</strong> — hobbycraft.co.uk · Accessed 2026-01-19<br><a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" target="_blank" rel="nofollow noopener">https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main><footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer><style>
    :root {
      --focus: 3px solid #2563eb;
    }
    /* Inter font-like stack without external load to keep CWV tight */
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";}
    .prose{max-width: 68ch}
    .formula-box{background:#f3f4f6;border:1px solid #d1d5db;border-radius:12px;padding:1rem;overflow:auto}
    .result-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:1rem}
    .result-card h4{font-size:.95rem;color:#4b5563;margin:0 0 .25rem}
    .result-card p{font-size:1.45rem;font-weight:800;color:#1d4ed8;margin:0}
    /* Accessible focus */
    a:focus, button:focus, select:focus, input:focus, summary:focus {outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,.35); border-color:#2563eb}
    /* Min-height to prevent CLS in results */
    #results { min-height: 320px }
    /* Big touch targets */
    .touch-target{min-height:48px; min-width:48px}
    /* Print */
    @media print {
      header, nav, .aside, #content-ecosystem, .no-print { display:none !important; }
      #print-section { display:block !important; }
    }
  </style><style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style><header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a class="text-2xl font-extrabold text-blue-700 focus:outline-none" href="https://calcdomain.com">CalcDomain</a>
      <nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> » <a href="https://calcdomain.com/categories/lifestyle-everyday" class="hover:text-blue-600">Lifestyle &amp; Everyday</a> » <a href="https://calcdomain.com/subcategories/hobbies" class="hover:text-blue-600">Hobbies</a></nav>
    </div>
  </header><main class="max-w-6xl mx-auto px-4 py-8">
    <div id="print-section" class="bg-white rounded-xl shadow-sm p-5 sm:p-6">
      <!-- 1) H1 -->
      <h1 class="text-3xl sm:text-4xl font-extrabold mb-2">scrapbooking calculator</h1>
      <!-- 2) Intro -->
      <p class="text-gray-700 mb-6">Plan a perfectly balanced scrapbook page in minutes. This calculator finds the optimal photo grid and print sizes for your album page, generates a precise cut list for mats and backgrounds, estimates waste, and totals material cost — with accessible, mobile-first UX for hobbyists and professionals.</p>

      <!-- 3) Calculator UI -->
      <section id="calculator-ui" class="space-y-7" aria-labelledby="calc-heading">
        <h2 id="calc-heading" class="sr-only">Calculator Inputs</h2>

        <!-- Unit & Presets -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
          <div>
            <label for="units" class="block text-sm font-medium text-gray-800">Units <span aria-hidden="true" class="text-red-600 font-bold">*</span></label>
            <select id="units" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true">
              <option value="in" selected="">Inches (in)</option>
              <option value="mm">Millimetres (mm)</option>
            </select>
            <p id="unitsHelp" class="text-xs text-gray-600 mt-1">Switching units converts all fields safely.</p>
          </div>

          <div>
            <label for="pagePreset" class="block text-sm font-medium text-gray-800">Album Page Preset</label>
            <div class="flex items-center gap-2">
              <select id="pagePreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="pagePresetTip">
                <option value="12x12">12 × 12 in (square)</option>
                <option value="letter">Letter 8.5 × 11 in</option>
                <option value="a4">A4 210 × 297 mm</option>
                <option value="a5">A5 148 × 210 mm</option>
                <option value="custom" selected="">Custom</option>
              </select>
              <button type="button" class="touch-target px-2 py-2 rounded-lg border" aria-expanded="false" aria-controls="pagePresetTip">?</button>
            </div>
            <div id="pagePresetTip" class="hidden text-sm text-gray-600 mt-2">Pick a preset or leave Custom to enter exact width/height.</div>
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label for="pageW" class="block text-sm font-medium text-gray-800">Page Width <span class="text-red-600 font-bold">*</span></label>
              <input id="pageW" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageWErr unitsHelp">
              <p id="pageWErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
            <div>
              <label for="pageH" class="block text-sm font-medium text-gray-800">Page Height <span class="text-red-600 font-bold">*</span></label>
              <input id="pageH" type="number" inputmode="decimal" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="pageHErr unitsHelp">
              <p id="pageHErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>
          </div>
        </div>

        <!-- Margins / Bleed / Gutters -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Margins, Bleed &amp; Gutters</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="safeMargin" class="block text-sm font-medium text-gray-800">Safe Margin (all sides)</label>
              <input id="safeMargin" type="number" step="0.5" min="0" value="10" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="safeTip">
              <p id="safeTip" class="text-xs text-gray-600 mt-1">Keep content away from edges to avoid clipping.</p>
            </div>
            <div>
              <label for="bleed" class="block text-sm font-medium text-gray-800">Bleed (optional)</label>
              <input id="bleed" type="number" step="0.5" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="bleedTip">
              <p id="bleedTip" class="text-xs text-gray-600 mt-1">For printing: extra area to trim off.</p>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="gutterX" class="block text-sm font-medium text-gray-800">Gutter (X)</label>
                <input id="gutterX" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="gutterY" class="block text-sm font-medium text-gray-800">Gutter (Y)</label>
                <input id="gutterY" type="number" step="0.5" min="0" value="6" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <!-- Photos -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Photos &amp; Grid</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="photoCount" class="block text-sm font-medium text-gray-800">Number of Photos <span class="text-red-600 font-bold">*</span></label>
              <input id="photoCount" type="number" min="1" max="20" value="4" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-required="true" aria-describedby="photoErr">
              <p id="photoErr" class="text-xs text-red-700 mt-1 hidden"></p>
            </div>

            <div>
              <label for="photoMode" class="block text-sm font-medium text-gray-800">Photo Size Mode</label>
              <select id="photoMode" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="photoModeTip">
                <option value="aspect" selected="">Fit by Aspect Ratio</option>
                <option value="fixed">Use Fixed Print Size</option>
              </select>
              <p id="photoModeTip" class="text-xs text-gray-600 mt-1">Aspect mode maximizes photo size within grid.</p>
            </div>

            <div id="aspectWrap">
              <label for="aspect" class="block text-sm font-medium text-gray-800">Aspect Ratio</label>
              <select id="aspect" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="3:2" selected="">3:2 (DSLR / 6×4")</option>
                <option value="4:3">4:3 (phones/compact)</option>
                <option value="1:1">1:1 (square)</option>
                <option value="7:5">7:5 (5×7")</option>
                <option value="5:4">5:4 (8×10")</option>
              </select>
            </div>

            <div id="fixedWrap" class="hidden grid grid-cols-2 gap-3 sm:col-span-2">
              <div>
                <label for="fixedW" class="block text-sm font-medium text-gray-800">Print Width</label>
                <input id="fixedW" type="number" step="0.1" min="5" value="100" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="fixedH" class="block text-sm font-medium text-gray-800">Print Height</label>
                <input id="fixedH" type="number" step="0.1" min="5" value="150" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>

            <div>
              <label for="preferRows" class="block text-sm font-medium text-gray-800">Preferred Rows (optional)</label>
              <input id="preferRows" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="rowsTip">
              <p id="rowsTip" class="text-xs text-gray-600 mt-1">0 = auto choose best grid.</p>
            </div>
            <div>
              <label for="preferCols" class="block text-sm font-medium text-gray-800">Preferred Columns (optional)</label>
              <input id="preferCols" type="number" min="0" value="0" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
            </div>
            <div>
              <label for="matBorder" class="block text-sm font-medium text-gray-800">Mat Border</label>
              <input id="matBorder" type="number" step="0.5" min="0" value="3" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target" aria-describedby="matTip">
              <p id="matTip" class="text-xs text-gray-600 mt-1">Extra border around each photo (for matting).</p>
            </div>
          </div>
        </fieldset>

        <!-- Materials & Costs -->
        <fieldset class="border rounded-xl p-4">
          <legend class="text-sm font-semibold text-gray-900">Materials &amp; Cost</legend>
          <div class="grid sm:grid-cols-3 gap-4 mt-2">
            <div>
              <label for="sheetPreset" class="block text-sm font-medium text-gray-800">Cardstock Sheet</label>
              <select id="sheetPreset" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
                <option value="12x12" selected="">12 × 12 in sheet</option>
                <option value="a4">A4 sheet</option>
                <option value="letter">Letter sheet</option>
                <option value="custom">Custom sheet</option>
              </select>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="sheetW" class="block text-sm font-medium text-gray-800">Sheet Width</label>
                <input id="sheetW" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="sheetH" class="block text-sm font-medium text-gray-800">Sheet Height</label>
                <input id="sheetH" type="number" step="0.1" min="10" value="305" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label for="costPerSheet" class="block text-sm font-medium text-gray-800">Cost per Sheet</label>
                <input id="costPerSheet" type="number" step="0.01" min="0" value="0.80" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
              <div>
                <label for="adhesiveCostPerM" class="block text-sm font-medium text-gray-800">Adhesive Cost / meter</label>
                <input id="adhesiveCostPerM" type="number" step="0.01" min="0" value="0.06" class="mt-1 w-full border rounded-lg px-3 py-2 touch-target">
              </div>
            </div>
          </div>
        </fieldset>

        <div class="flex flex-wrap gap-3">
          <button id="calcBtn__dup3" class="touch-target px-4 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 focus:outline-none">Calculate</button>
          <button id="clearBtn" class="touch-target px-4 py-3 rounded-lg border font-semibold bg-white hover:bg-gray-50 focus:outline-none">Reset</button>
        </div>
      </section>

      <!-- 4) Results -->
      <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-xl p-4 sm:p-6" aria-live="polite">
        <h2 class="text-xl font-bold text-blue-900 mb-3">Results</h2>

        <div class="grid md:grid-cols-4 sm:grid-cols-2 gap-4">
          <div class="result-card"><h4>Grid</h4><p id="resGrid">—</p></div>
          <div class="result-card"><h4>Max Print Size</h4><p id="resPrint">—</p></div>
          <div class="result-card"><h4>Waste</h4><p id="resWaste">—</p></div>
          <div class="result-card"><h4>Total Cost</h4><p id="resCost">—</p></div>
        </div>

        <details class="mt-6 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Cut List &amp; Materials</summary>
          <div class="p-4 overflow-x-auto">
            <table class="min-w-full text-sm">
              <thead class="bg-gray-100 text-gray-700">
                <tr>
                  <th class="text-left px-3 py-2">Item</th>
                  <th class="text-right px-3 py-2">Qty</th>
                  <th class="text-right px-3 py-2">Width</th>
                  <th class="text-right px-3 py-2">Height</th>
                  <th class="text-right px-3 py-2">From Sheet</th>
                </tr>
              </thead>
              <tbody id="cutList"></tbody>
            </table>
            <p class="text-xs text-gray-600 mt-3" id="kerfNote">Assumes ~2 mm kerf/trim allowance.</p>
          </div>
        </details>

        <details class="mt-4 bg-white rounded-lg border">
          <summary class="px-4 py-3 font-semibold cursor-pointer">Layout Notes</summary>
          <div class="p-4 text-sm text-gray-700" id="layoutNotes">—</div>
        </details>
      </section>

      <!-- 5) Authoritative Ecosystem -->
      <section id="content-ecosystem" class="mt-10 prose">
        <h2>Authoritative Data Source &amp; Methodology</h2>
        <ul>
          <li><strong>ISO 216:2007</strong> — A-series paper sizes (A4, A5, etc.). <a href="https://www.iso.org/standard/36631.html" rel="nofollow">ISO</a>, and summary <a href="https://en.wikipedia.org/wiki/ISO_216" rel="nofollow">overview</a>. “Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.” :contentReference[oaicite:0]{index=0}</li>
          <li><strong>ANSI/ASME Y14.1</strong> — US inch-based paper sizes (Letter, Tabloid). <a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" rel="nofollow">Reference</a>. :contentReference[oaicite:1]{index=1}</li>
          <li><strong>Common photo print sizes</strong> — Industry references for 4×6, 5×7, 8×10, etc. <a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" rel="nofollow">Adobe</a>, <a href="https://www.framedestination.com/info/picture-frame-sizes.html" rel="nofollow">FrameDestination</a>. :contentReference[oaicite:2]{index=2}</li>
          <li><strong>Scrapbook page formats</strong> — Common 12×12 in, 8.5×11 in, 6×6 in. <a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" rel="nofollow">12x12 Cardstock</a>, <a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" rel="nofollow">Hobbycraft</a>. :contentReference[oaicite:3]{index=3}</li>
        </ul>

        <h2>The Formula Explained</h2>
        <div class="formula-box">
          <p>Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\):</p>
          \[
            W_s = W - 2(m+b), \quad H_s = H - 2(m+b)
          \]
          <p>With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect):</p>
          \[
            w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right),
            \quad h_{\max} = \frac{w_{\max}}{a}
          \]
          <p>For fixed print size \((w_p,h_p)\), grid feasibility requires:</p>
          \[
            c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s
          \]
          <p>Mat border \(b_m\) grows each print to:</p>
          \[
            w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m
          \]
          <p>Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\):</p>
          \[
            \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%
          \]
        </div>

        <h2>Glossary of Variables</h2>
        <ul>
          <li><strong>W,H</strong>: Page width/height.</li>
          <li><strong>m</strong>: Safe margin; <strong>b</strong>: bleed.</li>
          <li><strong>g<sub>x</sub>, g<sub>y</sub></strong>: Horizontal/vertical gutter.</li>
          <li><strong>n</strong>: Number of photos; <strong>r,c</strong>: chosen rows/cols (with \(rc \ge n\)).</li>
          <li><strong>a</strong>: Photo aspect ratio width:height (e.g., 3:2).</li>
          <li><strong>w<sub>p</sub>, h<sub>p</sub></strong>: Final print width/height per photo.</li>
          <li><strong>b<sub>m</sub></strong>: Mat border thickness.</li>
          <li><strong>Waste %</strong>: Unused safe area after placing photos &amp; mats.</li>
        </ul>

        <h2>How It Works: A Step-by-Step Example</h2>
        <h3>Come Funziona: Un Esempio Passo-Passo</h3>
        <ol>
          <li><strong>Page</strong>: 12×12 in, margin 0.5 in, bleed 0.</li>
          <li><strong>Photos</strong>: 4 photos, aspect 3:2, gutters 0.25 in.</li>
          <li><strong>Auto grid</strong>: picks 2×2. Calculates \(W_s=11\), \(H_s=11\).</li>
          <li><strong>Max print</strong>: fits both axes → about 5.0×3.33 in each.</li>
          <li><strong>Mats</strong>: 0.125 in border → 5.25×3.58 in trims.</li>
          <li><strong>Cut list &amp; cost</strong>: shows exact pieces from 12×12 sheets plus adhesive length and total cost.</li>
        </ol>

        <h2>FAQ</h2>
        <details><summary>Can I force a specific grid (like 3×2)?</summary><p>Yes. Enter preferred rows/columns. If not feasible, the calculator warns and falls back to the nearest feasible grid.</p></details>
        <details><summary>How is waste % computed?</summary><p>It compares the safe area (after margins/bleed) to the total matted photo area placed.</p></details>
        <details><summary>What if I use fixed print sizes?</summary><p>Switch to “Use Fixed Print Size” and enter the exact print dimensions; the tool checks feasibility and shows the largest feasible grid.</p></details>
        <details><summary>Does it support A-series and US sizes?</summary><p>Yes, presets include A4/A5 and Letter. Data is based on ISO 216 and ANSI/ASME Y14.1 references.</p></details>
        <details><summary>Can I use different gutters horizontally/vertically?</summary><p>Yes. Use Gutter X and Gutter Y for asymmetric spacing (useful for titles or journaling areas).</p></details>
        <details><summary>Is the cut list precise for real cutting?</summary><p>It adds ~2 mm kerf allowance globally; adjust if your trimmer requires more.</p></details>
        <details><summary>How are costs calculated?</summary><p>Costs = sheets needed × cost per sheet + estimated adhesive (perimeter of mats and photos) × cost per meter.</p></details>

        <h2>Competitor Gap Analysis (UX &amp; Feature Depth)</h2>
        <ul>
          <li><strong>Craftybase Craft Calculator</strong> focuses on pricing (materials, labor, markup) — no layout engine, grid fitting, or cut list. :contentReference[oaicite:4]{index=4}</li>
          <li><strong>CraftCalculators</strong> offers pricing/production tools and spreadsheets — not scrapbook-specific page layout math. :contentReference[oaicite:5]{index=5}</li>
          <li><strong>Crafting with Donna</strong> curates calculators/tutorials but lacks dynamic page layout with waste &amp; cost integration. :contentReference[oaicite:6]{index=6}</li>
          <li><strong>Canva/Mixbook/YouTube</strong> provide inspiration &amp; editors, but not an engineering-grade calculator with cut lists, mats and unit conversions. :contentReference[oaicite:7]{index=7}
          </li>
        </ul>
        <p><strong>Our edge</strong>: professional formulae with unit conversion, grid optimizer, precise cut list, waste %, cost roll-up, accessible inline validation, and authoritative references.</p>

        <!-- 6) Author signature -->
        <div class="mt-6 p-4 bg-gray-50 border rounded-lg text-sm text-gray-700">
          <p><strong>Strumento sviluppato da Ugo Candido</strong>. Contenuti verificati da CalcDomain Editorial Board.<br>
          Ultima revisione per l'accuratezza in data: <time datetime="2025-10-30">October 30, 2025</time></p>
        </div>
      </section>
    </div>
  
<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[W_s = W - 2(m+b), \quad H_s = H - 2(m+b)\]</div>
  <pre class="auditspine-mono">W_s = W - 2(m+b), \quad H_s = H - 2(m+b)</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}\]</div>
  <pre class="auditspine-mono">w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a}</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s\]</div>
  <pre class="auditspine-mono">c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m\]</div>
  <pre class="auditspine-mono">w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%\]</div>
  <pre class="auditspine-mono">\text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\%</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">Let page width/height be \(W,H\). Safe content rectangle subtracts margins \(m\) (all sides) and bleed \(b\): \[ W_s = W - 2(m+b), \quad H_s = H - 2(m+b) \] With gutters \(g_x, g_y\), rows \(r\), cols \(c\), aspect \(a = \frac{w}{h}\) (if fitting by aspect): \[ w_{\max} = \min\!\left(\frac{W_s - (c-1)g_x}{c},\; a\cdot\frac{H_s - (r-1)g_y}{r}\right), \quad h_{\max} = \frac{w_{\max}}{a} \] For fixed print size \((w_p,h_p)\), grid feasibility requires: \[ c\,w_p + (c-1)g_x \le W_s,\quad r\,h_p + (r-1)g_y \le H_s \] Mat border \(b_m\) grows each print to: \[ w_m = w_p + 2b_m,\quad h_m = h_p + 2b_m \] Waste percent uses page safe area \(A_s=W_sH_s\) vs. used area \(A_u = n\,w_m h_m\): \[ \text{Waste} = \max\!\left(0,\;1 - \frac{A_u}{A_s}\right)\times 100\% \]</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>ISO</strong> — iso.org · Accessed 2026-01-19<br><a href="https://www.iso.org/standard/36631.html" target="_blank" rel="nofollow noopener">https://www.iso.org/standard/36631.html</a></li>
<li><strong>overview</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ISO_216" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ISO_216</a></li>
<li><strong>Reference</strong> — en.wikipedia.org · Accessed 2026-01-19<br><a href="https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1" target="_blank" rel="nofollow noopener">https://en.wikipedia.org/wiki/ANSI/ASME_Y14.1</a></li>
<li><strong>Adobe</strong> — adobe.com · Accessed 2026-01-19<br><a href="https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html" target="_blank" rel="nofollow noopener">https://www.adobe.com/uk/creativecloud/photography/discover/standard-photo-sizes.html</a></li>
<li><strong>FrameDestination</strong> — framedestination.com · Accessed 2026-01-19<br><a href="https://www.framedestination.com/info/picture-frame-sizes.html" target="_blank" rel="nofollow noopener">https://www.framedestination.com/info/picture-frame-sizes.html</a></li>
<li><strong>12x12 Cardstock</strong> — 12x12cardstock.shop · Accessed 2026-01-19<br><a href="https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper" target="_blank" rel="nofollow noopener">https://www.12x12cardstock.shop/blogs/news/the-essential-guide-to-choosing-scrapbook-paper</a></li>
<li><strong>Hobbycraft</strong> — hobbycraft.co.uk · Accessed 2026-01-19<br><a href="https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html" target="_blank" rel="nofollow noopener">https://www.hobbycraft.co.uk/help-centre/further-info/cp-paper-size-guide.html</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main><footer class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
        <p class="text-gray-400 mb-4">
          Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.
        </p>
        </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Categories</h4>
                                                                                                                                                                                                <ul class="space-y-2">
          <li><a href="https://calcdomain.com/categories/construction" class="text-gray-400 hover:text-white">Construction</a></li>
          <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
          <li><a href="https://calcdomain.com/categories/engineering" class="text-gray-400 hover:text-white">Engineering</a></li>
          <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
          <li><a href="https://calcdomain.com/categories/general" class="text-gray-400 hover:text-white">General</a></li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
          <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
          <li><a href="https://calcdomain.com/categories/math" class="text-gray-400 hover:text-white">Math</a></li>
          <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
          <li><a href="https://calcdomain.com/categories/science" class="text-gray-400 hover:text-white">Science</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
          <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
          <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
          <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
          <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold mb-4">Support</h4>
        <ul class="space-y-2">
          <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
          <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
          <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
          <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
          <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
        </ul>
      </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
      <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer></section>

    <section class="meta-section" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
  <details id="formulaDetails">
    <summary style="cursor:pointer; font-weight:700; color:var(--text)">Formulas</summary>
    <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
      <p style="margin:0;">(Formulas preserved from original page content, if present.)</p>
    </div>
  </details>

  

  

  <div class="badge-row" id="badgeRow">
    <div class="badge" id="versionBadge">Version 0.1.0-draft</div>
  </div>

<details id="citationDetails" style="margin-top:10px;">
  <summary style="cursor:pointer; font-weight:700; color:var(--text)">Citations</summary>
  <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
    <p style="margin:0;">Add authoritative sources relevant to this calculator (standards bodies, manuals, official docs).</p>
  </div>
</details>

<details id="changelogDetails" style="margin-top:10px;">
  <summary style="cursor:pointer; font-weight:700; color:var(--text)">Changelog</summary>
  <div style="margin-top:12px; padding:12px; background:#fff; border:1px solid var(--line); border-radius:8px;">
    <ul style="padding-left:18px; margin:0;">
      <li>0.1.0-draft — 2026-01-19: Initial draft (review required).</li>
    </ul>
  </div>
</details>
</section>
  </main>
</div><footer id="siteFooter" class="bg-gray-900 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="border-t border-gray-800 pt-8 text-center text-gray-400">
      <p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
    </div>
  </div>
</footer><script defer="">
  (function() {

    'use strict';

  (function(){
    // State helpers
    const $ = (id)=>document.getElementById(id);
    const els = {
      units: $("units"), pagePreset: $("pagePreset"), pageW: $("pageW"), pageH: $("pageH"),
      safeMargin: $("safeMargin"), bleed: $("bleed"), gutterX: $("gutterX"), gutterY: $("gutterY"),
      photoCount: $("photoCount"), photoMode: $("photoMode"), aspect: $("aspect"),
      fixedW: $("fixedW"), fixedH: $("fixedH"),
      preferRows: $("preferRows"), preferCols: $("preferCols"), matBorder: $("matBorder"),
      sheetPreset: $("sheetPreset"), sheetW: $("sheetW"), sheetH: $("sheetH"),
      costPerSheet: $("costPerSheet"), adhesiveCostPerM: $("adhesiveCostPerM"),
      calcBtn: $("calcBtn"), clearBtn: $("clearBtn"),
      resGrid: $("resGrid"), resPrint: $("resPrint"), resWaste: $("resWaste"), resCost: $("resCost"),
      cutList: $("cutList"), layoutNotes: $("layoutNotes"),
      pageWErr: $("pageWErr"), pageHErr: $("pageHErr"),
      pagePresetTip: $("pagePresetTip"), photoErr: $("photoErr"),
      aspectWrap: $("aspectWrap"), fixedWrap: $("fixedWrap")
    };

    // Tooltip handlers (generic: toggle next sibling with id reference)
    document.querySelectorAll('button[aria-controls]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const panel = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.classList.toggle('hidden', expanded);
      });
    });

    // Unit conversions
    const IN_PER_MM = 1/25.4;
    function toUnits(val, from, to){
      const n = Number(val)||0;
      if(from===to) return n;
      if(from==='mm' && to==='in') return n*IN_PER_MM;
      if(from==='in' && to==='mm') return n/IN_PER_MM;
      return n;
    }
    function formatMeasure(v, units){ // pretty with 2 decimals
      const n = Number(v)||0;
      return (units==='in' ? n.toFixed(2) + " in" : n.toFixed(0) + " mm");
    }
    function formatMoney(n){ return Intl.NumberFormat(undefined,{style:"currency",currency:"USD"}).format(Number(n)||0); }

    // Presets
    function applyPagePreset(){
      const u = els.units.value;
      const p = els.pagePreset.value;
      let w, h;
      if(p==='12x12'){ w = toUnits(12,'in',u); h = w; }
      else if(p==='letter'){ w = toUnits(8.5,'in',u); h = toUnits(11,'in',u); }
      else if(p==='a4'){ w = toUnits(210,'mm',u); h = toUnits(297,'mm',u); }
      else if(p==='a5'){ w = toUnits(148,'mm',u); h = toUnits(210,'mm',u); }
      else { return; }
      els.pageW.value = (u==='in' ? w.toFixed(2) : Math.round(w));
      els.pageH.value = (u==='in' ? h.toFixed(2) : Math.round(h));
    }
    function applySheetPreset(){
      const u = els.units.value;
      const p = els.sheetPreset.value;
      let w,h;
      if(p==='12x12'){ w=toUnits(12,'in',u); h=w; }
      else if(p==='a4'){ w=toUnits(210,'mm',u); h=toUnits(297,'mm',u); }
      else if(p==='letter'){ w=toUnits(8.5,'in',u); h=toUnits(11,'in',u); }
      else return;
      els.sheetW.value = (u==='in'? w.toFixed(2) : Math.round(w));
      els.sheetH.value = (u==='in'? h.toFixed(2) : Math.round(h));
    }

    // Switch between aspect/fixed modes
    function refreshPhotoMode(){
      const mode = els.photoMode.value;
      const showFixed = (mode==='fixed');
      els.fixedWrap.classList.toggle('hidden', !showFixed);
      els.aspectWrap.classList.toggle('hidden', showFixed);
    }

    // Validation (on blur)
    function setErr(el, errId, msg){
      const tgt = document.getElementById(errId);
      if(!tgt) return;
      if(msg){
        tgt.textContent = msg;
        tgt.classList.remove('hidden');
        el.setAttribute('aria-describedby', errId);
      }else{
        tgt.textContent = "";
        tgt.classList.add('hidden');
        // keep aria-describedby if other helpers exist
      }
    }
    function validatePositive(el, errId, min){
      const v = Number(el.value);
      if(isNaN(v) || v < (min??0)){
        setErr(el, errId, "Please enter a valid value ≥ " + (min??0) + ".");
        return false;
      }
      setErr(el, errId, "");
      return true;
    }
    els.pageW.addEventListener('blur', ()=>validatePositive(els.pageW,'pageWErr',1));
    els.pageH.addEventListener('blur', ()=>validatePositive(els.pageH,'pageHErr',1));
    els.photoCount.addEventListener('blur', ()=>{
      const ok = validatePositive(els.photoCount,'photoErr',1);
      if(ok && Number(els.photoCount.value)>60){
        setErr(els.photoCount,'photoErr',"For best readability, keep photos ≤ 60.");
      }
    });

    // Core algorithm
    function parseAspect(str){
      const [w,h] = (str||"").split(":").map(Number);
      if(!w || !h) return 3/2;
      return w/h;
    }
    function pickGrid(n, preferR, preferC){
      // If user specified feasible rows/cols use it, else try near-square
      if(preferR>0 && preferC>0 && preferR*preferC>=n) return {r:preferR,c:preferC, reason:"user"};
      // heuristic: try all combos rc >= n with minimal (r*c - n), then minimal |r-c|
      let best=null;
      for(let r=1;r<=n;r++){
        const c=Math.ceil(n/r);
        const over=c*r-n;
        const sqDiff=Math.abs(r-c);
        const score = over*100 + sqDiff; // prioritize minimal overfill
        if(!best || score < best.score){ best={r,c,score}; }
      }
      // nudge toward preferred single dimension if provided
      if(preferR>0){
        const c=Math.ceil(n/preferR);
        if(preferR*c>=n && Math.abs(preferR-c) <= Math.abs(best.r-best.c)) best={r:preferR,c,score:0};
      }
      if(preferC>0){
        const r=Math.ceil(n/preferC);
        if(r*preferC>=n && Math.abs(r-preferC) <= Math.abs(best.r-best.c)) best={r, c:preferC, score:0};
      }
      return {r:best.r, c:best.c, reason:"auto"};
    }

    function calculate(){
      // read units and convert everything to mm for math, then back for display
      const u = els.units.value;

      // helpers to get mm numbers
      const v = (el)=> toUnits(Number(el.value)||0, u, 'mm');

      // Page & safe area
      const W = v(els.pageW), H = v(els.pageH);
      const m = v(els.safeMargin), b = v(els.bleed);
      const gx = v(els.gutterX), gy = v(els.gutterY);
      const n = Math.max(1, Math.floor(Number(els.photoCount.value)||0));

      if(W<=0||H<=0){ els.layoutNotes.textContent="Enter a valid page width/height."; return; }

      const Ws = Math.max(0, W - 2*(m+b));
      const Hs = Math.max(0, H - 2*(m+b));
      if(Ws<=0 || Hs<=0){ els.layoutNotes.textContent="Margins/bleed exceed page size. Reduce them."; return; }

      // Grid
      const prefR = Math.max(0, Math.floor(Number(els.preferRows.value)||0));
      const prefC = Math.max(0, Math.floor(Number(els.preferCols.value)||0));
      const {r,c,reason} = pickGrid(n, prefR, prefC);

      // Photo sizing
      let wp, hp;
      const mode = els.photoMode.value;
      if(mode==='fixed'){
        wp = v(els.fixedW);
        hp = v(els.fixedH);
        // check feasibility with gutters
        if( c*wp + (c-1)*gx > Ws || r*hp + (r-1)*gy > Hs ){
          els.resGrid.textContent = "Not feasible";
          els.resPrint.textContent = "—";
          els.resWaste.textContent = "—";
          els.resCost.textContent = "—";
          els.layoutNotes.textContent = "Fixed print size cannot fit the preferred grid. Reduce size or gutters, or let the calculator auto-fit by aspect.";
          els.cutList.innerHTML = "";
          return;
        }
      } else {
        const a = parseAspect(els.aspect.value);
        const maxByW = (Ws - (c-1)*gx)/c;
        const maxByH = a * (Hs - (r-1)*gy)/r;
        wp = Math.min(maxByW, maxByH);
        hp = wp / a;
      }

      // Mat border and counts
      const bm = v(els.matBorder);
      const wm = wp + 2*bm;
      const hm = hp + 2*bm;

      // Waste %
      const usedArea = (wm*hm) * n;
      const safeArea = Ws*Hs;
      const waste = Math.max(0, 1 - (usedArea/safeArea))*100;

      // Sheets and cut list (simple tiling)
      const SW = v(els.sheetW), SH = v(els.sheetH);
      const kerf = 2; // mm generic allowance
      function tilesFit(sheetW, sheetH, pieceW, pieceH){
        const cols = Math.floor((sheetW + kerf) / (pieceW + kerf));
        const rows = Math.floor((sheetH + kerf) / (pieceH + kerf));
        return {cols, rows, count: cols*rows};
      }
      // try both orientations for mats per sheet
      const t1 = tilesFit(SW,SH, wm,hm);
      const t2 = tilesFit(SW,SH, hm,wm);
      const perSheet = Math.max(t1.count, t2.count) || 1;
      const matSheets = Math.ceil(n / perSheet);

      // Background panel (optional): full page safe area backing
      // We'll include 1 background panel equal to Ws×Hs if user wants; here always list as optional
      const bgNeeded = 1;
      const bgFit1 = tilesFit(SW,SH, Ws, Hs);
      const bgFit2 = tilesFit(SW,SH, Hs, Ws);
      const bgPerSheet = Math.max(bgFit1.count, bgFit2.count) || 1;
      const bgSheets = Math.ceil(bgNeeded / bgPerSheet);

      // Adhesive perimeter estimate (mats + photos)
      const totalPerimeterMM = n * (2*(wm+hm) + 2*(wp+hp));
      const adhesiveMeters = totalPerimeterMM/1000;
      const adhesiveCost = adhesiveMeters * Number(els.adhesiveCostPerM.value||0);

      const sheetCost = (matSheets + bgSheets) * Number(els.costPerSheet.value||0);
      const totalCost = sheetCost + adhesiveCost;

      // Outputs
      const dispUnits = els.units.value;
      const out = (mm)=> dispUnits==='in' ? (toUnits(mm,'mm','in')).toFixed(2)+" in" : Math.round(mm)+" mm";
      els.resGrid.textContent = `${r} × ${c}` + (reason==="user" ? " (forced)" : "");
      els.resPrint.textContent = `${out(wp)} × ${out(hp)} per photo`;
      els.resWaste.textContent = waste.toFixed(1) + " %";
      els.resCost.textContent = formatMoney(totalCost);

      // Cut list rows
      const rows = [];
      rows.push({item:"Photo prints (for reference)", qty:n, w:out(wp), h:out(hp), sheet:"—"});
      rows.push({item:"Photo mats", qty:n, w:out(wm), h:out(hm), sheet:`~${perSheet} pcs/sheet → ${matSheets} sheet(s)`});
      rows.push({item:"Background panel (safe area)", qty:bgNeeded, w:out(Ws), h:out(Hs), sheet:`${bgPerSheet} pcs/sheet → ${bgSheets} sheet(s)`});
      rows.push({item:"Adhesive (estimate)", qty:"—", w:"—", h:"—", sheet:`~${adhesiveMeters.toFixed(2)} m`});

      els.cutList.innerHTML = rows.map(r=>{
        return `<tr class="border-b">
          <td class="px-3 py-2 text-left">${r.item}</td>
          <td class="px-3 py-2 text-right">${r.qty}</td>
          <td class="px-3 py-2 text-right">${r.w}</td>
          <td class="px-3 py-2 text-right">${r.h}</td>
          <td class="px-3 py-2 text-right">${r.sheet}</td>
        </tr>`;
      }).join("");

      // Notes
      els.layoutNotes.innerHTML =
        `Safe area: ${out(Ws)} × ${out(Hs)}. Gaps: ${out(v(els.gutterX))} (X) & ${out(v(els.gutterY))} (Y). ` +
        `Mat border: ${out(bm)}. Sheets: ${matSheets + bgSheets} total. ` +
        `If prints are borderless, set bleed & keep margin ≥ ${dispUnits==='in' ? '0.25 in' : '6 mm'}.`;

    } // calculate

    // Events
    els.units.addEventListener('change', ()=>{
      // convert every numeric field to new units
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      const from = (els.units.value==='in'?'mm':'in'); // we stored current as what's displayed; but we convert by reading old, assume previous was opposite? Safer: detect by current placeholder flag.
      // Better: capture old unit before change
    });
    // Track last unit to convert properly
    let lastUnits = els.units.value;
    els.units.addEventListener('change', ()=>{
      const newU = els.units.value;
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      fields.forEach(f=>{
        const mm = toUnits(Number(f.value)||0, lastUnits, 'mm');
        const vNew = toUnits(mm, 'mm', newU);
        f.value = (newU==='in') ? Number(vNew).toFixed(2) : Math.round(vNew);
      });
      lastUnits = newU;
      applyPagePreset(); // keep in sync if user flips preset afterward
      applySheetPreset();
      calculate();
    });

    els.pagePreset.addEventListener('change', ()=>{ applyPagePreset(); calculate(); });
    els.sheetPreset.addEventListener('change', ()=>{ applySheetPreset(); calculate(); });
    els.photoMode.addEventListener('change', ()=>{ refreshPhotoMode(); calculate(); });

    ["pageW","pageH","safeMargin","bleed","gutterX","gutterY",
     "photoCount","aspect","fixedW","fixedH","preferRows","preferCols",
     "matBorder","sheetW","sheetH","costPerSheet","adhesiveCostPerM"].forEach(id=>{
      $(id).addEventListener('input', ()=>calculate());
     });

    els.calcBtn.addEventListener('click', (e)=>{ e.preventDefault(); calculate(); });
    els.clearBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      els.units.value = 'in'; lastUnits='in';
      els.pagePreset.value='custom'; els.pageW.value=305; els.pageH.value=305;
      els.safeMargin.value=10; els.bleed.value=0; els.gutterX.value=6; els.gutterY.value=6;
      els.photoCount.value=4; els.photoMode.value='aspect'; els.aspect.value='3:2';
      els.fixedW.value=100; els.fixedH.value=150; els.preferRows.value=0; els.preferCols.value=0;
      els.matBorder.value=3;
      els.sheetPreset.value='12x12'; els.sheetW.value=305; els.sheetH.value=305;
      els.costPerSheet.value=0.80; els.adhesiveCostPerM.value=0.06;
      refreshPhotoMode(); calculate();
    });

    // init
    refreshPhotoMode();
    applyPagePreset();
    applySheetPreset();
    calculate();
  })();
  

  })();</script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Scrapbooking Calculator",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "description": "Plan scrapbook layouts with auto grid fitting, cut list, waste %, materials and cost. Supports inches/mm, A-series & US sizes.",
      "inLanguage": "en",
      "isPartOf": {
        "@type": "Website",
        "name": "CalcDomain",
        "url": "https://calcdomain.com"
      },
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "dateModified": "2025-10-30"
    },
    {
      "@type": "WebApplication",
      "name": "Scrapbooking Calculator",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Web",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Lifestyle & Everyday",
          "item": "https://calcdomain.com/categories/lifestyle-everyday"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Hobbies",
          "item": "https://calcdomain.com/subcategories/hobbies"
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to plan a scrapbook page",
      "description": "Enter album page size, margins, photo count and spacing to get optimal grid, print sizes, mats and cut list.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Choose page size",
          "text": "Pick a preset (12×12, A4, Letter) or custom."
        },
        {
          "@type": "HowToStep",
          "name": "Set margins & gutters",
          "text": "Define safe margin and spacing."
        },
        {
          "@type": "HowToStep",
          "name": "Enter photos",
          "text": "Select count and aspect ratio or fixed print size."
        },
        {
          "@type": "HowToStep",
          "name": "Materials & costs",
          "text": "Cardstock size, mat border, costs for sheets and adhesive."
        },
        {
          "@type": "HowToStep",
          "name": "Review cut list",
          "text": "Follow auto-generated cut list and cost summary."
        }
      ]
    }
  ]
}
</script><script defer="">
  (function() {

    'use strict';

  (function(){
    // State helpers
    const $ = (id)=>document.getElementById(id);
    const els = {
      units: $("units"), pagePreset: $("pagePreset"), pageW: $("pageW"), pageH: $("pageH"),
      safeMargin: $("safeMargin"), bleed: $("bleed"), gutterX: $("gutterX"), gutterY: $("gutterY"),
      photoCount: $("photoCount"), photoMode: $("photoMode"), aspect: $("aspect"),
      fixedW: $("fixedW"), fixedH: $("fixedH"),
      preferRows: $("preferRows"), preferCols: $("preferCols"), matBorder: $("matBorder"),
      sheetPreset: $("sheetPreset"), sheetW: $("sheetW"), sheetH: $("sheetH"),
      costPerSheet: $("costPerSheet"), adhesiveCostPerM: $("adhesiveCostPerM"),
      calcBtn: $("calcBtn"), clearBtn: $("clearBtn"),
      resGrid: $("resGrid"), resPrint: $("resPrint"), resWaste: $("resWaste"), resCost: $("resCost"),
      cutList: $("cutList"), layoutNotes: $("layoutNotes"),
      pageWErr: $("pageWErr"), pageHErr: $("pageHErr"),
      pagePresetTip: $("pagePresetTip"), photoErr: $("photoErr"),
      aspectWrap: $("aspectWrap"), fixedWrap: $("fixedWrap")
    };

    // Tooltip handlers (generic: toggle next sibling with id reference)
    document.querySelectorAll('button[aria-controls]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const panel = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.classList.toggle('hidden', expanded);
      });
    });

    // Unit conversions
    const IN_PER_MM = 1/25.4;
    function toUnits(val, from, to){
      const n = Number(val)||0;
      if(from===to) return n;
      if(from==='mm' && to==='in') return n*IN_PER_MM;
      if(from==='in' && to==='mm') return n/IN_PER_MM;
      return n;
    }
    function formatMeasure(v, units){ // pretty with 2 decimals
      const n = Number(v)||0;
      return (units==='in' ? n.toFixed(2) + " in" : n.toFixed(0) + " mm");
    }
    function formatMoney(n){ return Intl.NumberFormat(undefined,{style:"currency",currency:"USD"}).format(Number(n)||0); }

    // Presets
    function applyPagePreset(){
      const u = els.units.value;
      const p = els.pagePreset.value;
      let w, h;
      if(p==='12x12'){ w = toUnits(12,'in',u); h = w; }
      else if(p==='letter'){ w = toUnits(8.5,'in',u); h = toUnits(11,'in',u); }
      else if(p==='a4'){ w = toUnits(210,'mm',u); h = toUnits(297,'mm',u); }
      else if(p==='a5'){ w = toUnits(148,'mm',u); h = toUnits(210,'mm',u); }
      else { return; }
      els.pageW.value = (u==='in' ? w.toFixed(2) : Math.round(w));
      els.pageH.value = (u==='in' ? h.toFixed(2) : Math.round(h));
    }
    function applySheetPreset(){
      const u = els.units.value;
      const p = els.sheetPreset.value;
      let w,h;
      if(p==='12x12'){ w=toUnits(12,'in',u); h=w; }
      else if(p==='a4'){ w=toUnits(210,'mm',u); h=toUnits(297,'mm',u); }
      else if(p==='letter'){ w=toUnits(8.5,'in',u); h=toUnits(11,'in',u); }
      else return;
      els.sheetW.value = (u==='in'? w.toFixed(2) : Math.round(w));
      els.sheetH.value = (u==='in'? h.toFixed(2) : Math.round(h));
    }

    // Switch between aspect/fixed modes
    function refreshPhotoMode(){
      const mode = els.photoMode.value;
      const showFixed = (mode==='fixed');
      els.fixedWrap.classList.toggle('hidden', !showFixed);
      els.aspectWrap.classList.toggle('hidden', showFixed);
    }

    // Validation (on blur)
    function setErr(el, errId, msg){
      const tgt = document.getElementById(errId);
      if(!tgt) return;
      if(msg){
        tgt.textContent = msg;
        tgt.classList.remove('hidden');
        el.setAttribute('aria-describedby', errId);
      }else{
        tgt.textContent = "";
        tgt.classList.add('hidden');
        // keep aria-describedby if other helpers exist
      }
    }
    function validatePositive(el, errId, min){
      const v = Number(el.value);
      if(isNaN(v) || v < (min??0)){
        setErr(el, errId, "Please enter a valid value ≥ " + (min??0) + ".");
        return false;
      }
      setErr(el, errId, "");
      return true;
    }
    els.pageW.addEventListener('blur', ()=>validatePositive(els.pageW,'pageWErr',1));
    els.pageH.addEventListener('blur', ()=>validatePositive(els.pageH,'pageHErr',1));
    els.photoCount.addEventListener('blur', ()=>{
      const ok = validatePositive(els.photoCount,'photoErr',1);
      if(ok && Number(els.photoCount.value)>60){
        setErr(els.photoCount,'photoErr',"For best readability, keep photos ≤ 60.");
      }
    });

    // Core algorithm
    function parseAspect(str){
      const [w,h] = (str||"").split(":").map(Number);
      if(!w || !h) return 3/2;
      return w/h;
    }
    function pickGrid(n, preferR, preferC){
      // If user specified feasible rows/cols use it, else try near-square
      if(preferR>0 && preferC>0 && preferR*preferC>=n) return {r:preferR,c:preferC, reason:"user"};
      // heuristic: try all combos rc >= n with minimal (r*c - n), then minimal |r-c|
      let best=null;
      for(let r=1;r<=n;r++){
        const c=Math.ceil(n/r);
        const over=c*r-n;
        const sqDiff=Math.abs(r-c);
        const score = over*100 + sqDiff; // prioritize minimal overfill
        if(!best || score < best.score){ best={r,c,score}; }
      }
      // nudge toward preferred single dimension if provided
      if(preferR>0){
        const c=Math.ceil(n/preferR);
        if(preferR*c>=n && Math.abs(preferR-c) <= Math.abs(best.r-best.c)) best={r:preferR,c,score:0};
      }
      if(preferC>0){
        const r=Math.ceil(n/preferC);
        if(r*preferC>=n && Math.abs(r-preferC) <= Math.abs(best.r-best.c)) best={r, c:preferC, score:0};
      }
      return {r:best.r, c:best.c, reason:"auto"};
    }

    function calculate(){
      // read units and convert everything to mm for math, then back for display
      const u = els.units.value;

      // helpers to get mm numbers
      const v = (el)=> toUnits(Number(el.value)||0, u, 'mm');

      // Page & safe area
      const W = v(els.pageW), H = v(els.pageH);
      const m = v(els.safeMargin), b = v(els.bleed);
      const gx = v(els.gutterX), gy = v(els.gutterY);
      const n = Math.max(1, Math.floor(Number(els.photoCount.value)||0));

      if(W<=0||H<=0){ els.layoutNotes.textContent="Enter a valid page width/height."; return; }

      const Ws = Math.max(0, W - 2*(m+b));
      const Hs = Math.max(0, H - 2*(m+b));
      if(Ws<=0 || Hs<=0){ els.layoutNotes.textContent="Margins/bleed exceed page size. Reduce them."; return; }

      // Grid
      const prefR = Math.max(0, Math.floor(Number(els.preferRows.value)||0));
      const prefC = Math.max(0, Math.floor(Number(els.preferCols.value)||0));
      const {r,c,reason} = pickGrid(n, prefR, prefC);

      // Photo sizing
      let wp, hp;
      const mode = els.photoMode.value;
      if(mode==='fixed'){
        wp = v(els.fixedW);
        hp = v(els.fixedH);
        // check feasibility with gutters
        if( c*wp + (c-1)*gx > Ws || r*hp + (r-1)*gy > Hs ){
          els.resGrid.textContent = "Not feasible";
          els.resPrint.textContent = "—";
          els.resWaste.textContent = "—";
          els.resCost.textContent = "—";
          els.layoutNotes.textContent = "Fixed print size cannot fit the preferred grid. Reduce size or gutters, or let the calculator auto-fit by aspect.";
          els.cutList.innerHTML = "";
          return;
        }
      } else {
        const a = parseAspect(els.aspect.value);
        const maxByW = (Ws - (c-1)*gx)/c;
        const maxByH = a * (Hs - (r-1)*gy)/r;
        wp = Math.min(maxByW, maxByH);
        hp = wp / a;
      }

      // Mat border and counts
      const bm = v(els.matBorder);
      const wm = wp + 2*bm;
      const hm = hp + 2*bm;

      // Waste %
      const usedArea = (wm*hm) * n;
      const safeArea = Ws*Hs;
      const waste = Math.max(0, 1 - (usedArea/safeArea))*100;

      // Sheets and cut list (simple tiling)
      const SW = v(els.sheetW), SH = v(els.sheetH);
      const kerf = 2; // mm generic allowance
      function tilesFit(sheetW, sheetH, pieceW, pieceH){
        const cols = Math.floor((sheetW + kerf) / (pieceW + kerf));
        const rows = Math.floor((sheetH + kerf) / (pieceH + kerf));
        return {cols, rows, count: cols*rows};
      }
      // try both orientations for mats per sheet
      const t1 = tilesFit(SW,SH, wm,hm);
      const t2 = tilesFit(SW,SH, hm,wm);
      const perSheet = Math.max(t1.count, t2.count) || 1;
      const matSheets = Math.ceil(n / perSheet);

      // Background panel (optional): full page safe area backing
      // We'll include 1 background panel equal to Ws×Hs if user wants; here always list as optional
      const bgNeeded = 1;
      const bgFit1 = tilesFit(SW,SH, Ws, Hs);
      const bgFit2 = tilesFit(SW,SH, Hs, Ws);
      const bgPerSheet = Math.max(bgFit1.count, bgFit2.count) || 1;
      const bgSheets = Math.ceil(bgNeeded / bgPerSheet);

      // Adhesive perimeter estimate (mats + photos)
      const totalPerimeterMM = n * (2*(wm+hm) + 2*(wp+hp));
      const adhesiveMeters = totalPerimeterMM/1000;
      const adhesiveCost = adhesiveMeters * Number(els.adhesiveCostPerM.value||0);

      const sheetCost = (matSheets + bgSheets) * Number(els.costPerSheet.value||0);
      const totalCost = sheetCost + adhesiveCost;

      // Outputs
      const dispUnits = els.units.value;
      const out = (mm)=> dispUnits==='in' ? (toUnits(mm,'mm','in')).toFixed(2)+" in" : Math.round(mm)+" mm";
      els.resGrid.textContent = `${r} × ${c}` + (reason==="user" ? " (forced)" : "");
      els.resPrint.textContent = `${out(wp)} × ${out(hp)} per photo`;
      els.resWaste.textContent = waste.toFixed(1) + " %";
      els.resCost.textContent = formatMoney(totalCost);

      // Cut list rows
      const rows = [];
      rows.push({item:"Photo prints (for reference)", qty:n, w:out(wp), h:out(hp), sheet:"—"});
      rows.push({item:"Photo mats", qty:n, w:out(wm), h:out(hm), sheet:`~${perSheet} pcs/sheet → ${matSheets} sheet(s)`});
      rows.push({item:"Background panel (safe area)", qty:bgNeeded, w:out(Ws), h:out(Hs), sheet:`${bgPerSheet} pcs/sheet → ${bgSheets} sheet(s)`});
      rows.push({item:"Adhesive (estimate)", qty:"—", w:"—", h:"—", sheet:`~${adhesiveMeters.toFixed(2)} m`});

      els.cutList.innerHTML = rows.map(r=>{
        return `<tr class="border-b">
          <td class="px-3 py-2 text-left">${r.item}</td>
          <td class="px-3 py-2 text-right">${r.qty}</td>
          <td class="px-3 py-2 text-right">${r.w}</td>
          <td class="px-3 py-2 text-right">${r.h}</td>
          <td class="px-3 py-2 text-right">${r.sheet}</td>
        </tr>`;
      }).join("");

      // Notes
      els.layoutNotes.innerHTML =
        `Safe area: ${out(Ws)} × ${out(Hs)}. Gaps: ${out(v(els.gutterX))} (X) & ${out(v(els.gutterY))} (Y). ` +
        `Mat border: ${out(bm)}. Sheets: ${matSheets + bgSheets} total. ` +
        `If prints are borderless, set bleed & keep margin ≥ ${dispUnits==='in' ? '0.25 in' : '6 mm'}.`;

    } // calculate

    // Events
    els.units.addEventListener('change', ()=>{
      // convert every numeric field to new units
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      const from = (els.units.value==='in'?'mm':'in'); // we stored current as what's displayed; but we convert by reading old, assume previous was opposite? Safer: detect by current placeholder flag.
      // Better: capture old unit before change
    });
    // Track last unit to convert properly
    let lastUnits = els.units.value;
    els.units.addEventListener('change', ()=>{
      const newU = els.units.value;
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      fields.forEach(f=>{
        const mm = toUnits(Number(f.value)||0, lastUnits, 'mm');
        const vNew = toUnits(mm, 'mm', newU);
        f.value = (newU==='in') ? Number(vNew).toFixed(2) : Math.round(vNew);
      });
      lastUnits = newU;
      applyPagePreset(); // keep in sync if user flips preset afterward
      applySheetPreset();
      calculate();
    });

    els.pagePreset.addEventListener('change', ()=>{ applyPagePreset(); calculate(); });
    els.sheetPreset.addEventListener('change', ()=>{ applySheetPreset(); calculate(); });
    els.photoMode.addEventListener('change', ()=>{ refreshPhotoMode(); calculate(); });

    ["pageW","pageH","safeMargin","bleed","gutterX","gutterY",
     "photoCount","aspect","fixedW","fixedH","preferRows","preferCols",
     "matBorder","sheetW","sheetH","costPerSheet","adhesiveCostPerM"].forEach(id=>{
      $(id).addEventListener('input', ()=>calculate());
     });

    els.calcBtn.addEventListener('click', (e)=>{ e.preventDefault(); calculate(); });
    els.clearBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      els.units.value = 'in'; lastUnits='in';
      els.pagePreset.value='custom'; els.pageW.value=305; els.pageH.value=305;
      els.safeMargin.value=10; els.bleed.value=0; els.gutterX.value=6; els.gutterY.value=6;
      els.photoCount.value=4; els.photoMode.value='aspect'; els.aspect.value='3:2';
      els.fixedW.value=100; els.fixedH.value=150; els.preferRows.value=0; els.preferCols.value=0;
      els.matBorder.value=3;
      els.sheetPreset.value='12x12'; els.sheetW.value=305; els.sheetH.value=305;
      els.costPerSheet.value=0.80; els.adhesiveCostPerM.value=0.06;
      refreshPhotoMode(); calculate();
    });

    // init
    refreshPhotoMode();
    applyPagePreset();
    applySheetPreset();
    calculate();
  })();
  

  })();</script><script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Scrapbooking Calculator",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "description": "Plan scrapbook layouts with auto grid fitting, cut list, waste %, materials and cost. Supports inches/mm, A-series & US sizes.",
      "inLanguage": "en",
      "isPartOf": {
        "@type": "Website",
        "name": "CalcDomain",
        "url": "https://calcdomain.com"
      },
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "dateModified": "2025-10-30"
    },
    {
      "@type": "WebApplication",
      "name": "Scrapbooking Calculator",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Web",
      "url": "https://calcdomain.com/scrapbooking-calculator",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Lifestyle & Everyday",
          "item": "https://calcdomain.com/categories/lifestyle-everyday"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Hobbies",
          "item": "https://calcdomain.com/subcategories/hobbies"
        }
      ]
    },
    {
      "@type": "HowTo",
      "name": "How to plan a scrapbook page",
      "description": "Enter album page size, margins, photo count and spacing to get optimal grid, print sizes, mats and cut list.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Choose page size",
          "text": "Pick a preset (12×12, A4, Letter) or custom."
        },
        {
          "@type": "HowToStep",
          "name": "Set margins & gutters",
          "text": "Define safe margin and spacing."
        },
        {
          "@type": "HowToStep",
          "name": "Enter photos",
          "text": "Select count and aspect ratio or fixed print size."
        },
        {
          "@type": "HowToStep",
          "name": "Materials & costs",
          "text": "Cardstock size, mat border, costs for sheets and adhesive."
        },
        {
          "@type": "HowToStep",
          "name": "Review cut list",
          "text": "Follow auto-generated cut list and cost summary."
        }
      ]
    }
  ]
}
</script><script defer="">
  (function() {

    'use strict';

  (function(){
    // State helpers
    const $ = (id)=>document.getElementById(id);
    const els = {
      units: $("units"), pagePreset: $("pagePreset"), pageW: $("pageW"), pageH: $("pageH"),
      safeMargin: $("safeMargin"), bleed: $("bleed"), gutterX: $("gutterX"), gutterY: $("gutterY"),
      photoCount: $("photoCount"), photoMode: $("photoMode"), aspect: $("aspect"),
      fixedW: $("fixedW"), fixedH: $("fixedH"),
      preferRows: $("preferRows"), preferCols: $("preferCols"), matBorder: $("matBorder"),
      sheetPreset: $("sheetPreset"), sheetW: $("sheetW"), sheetH: $("sheetH"),
      costPerSheet: $("costPerSheet"), adhesiveCostPerM: $("adhesiveCostPerM"),
      calcBtn: $("calcBtn"), clearBtn: $("clearBtn"),
      resGrid: $("resGrid"), resPrint: $("resPrint"), resWaste: $("resWaste"), resCost: $("resCost"),
      cutList: $("cutList"), layoutNotes: $("layoutNotes"),
      pageWErr: $("pageWErr"), pageHErr: $("pageHErr"),
      pagePresetTip: $("pagePresetTip"), photoErr: $("photoErr"),
      aspectWrap: $("aspectWrap"), fixedWrap: $("fixedWrap")
    };

    // Tooltip handlers (generic: toggle next sibling with id reference)
    document.querySelectorAll('button[aria-controls]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const panel = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.classList.toggle('hidden', expanded);
      });
    });

    // Unit conversions
    const IN_PER_MM = 1/25.4;
    function toUnits(val, from, to){
      const n = Number(val)||0;
      if(from===to) return n;
      if(from==='mm' && to==='in') return n*IN_PER_MM;
      if(from==='in' && to==='mm') return n/IN_PER_MM;
      return n;
    }
    function formatMeasure(v, units){ // pretty with 2 decimals
      const n = Number(v)||0;
      return (units==='in' ? n.toFixed(2) + " in" : n.toFixed(0) + " mm");
    }
    function formatMoney(n){ return Intl.NumberFormat(undefined,{style:"currency",currency:"USD"}).format(Number(n)||0); }

    // Presets
    function applyPagePreset(){
      const u = els.units.value;
      const p = els.pagePreset.value;
      let w, h;
      if(p==='12x12'){ w = toUnits(12,'in',u); h = w; }
      else if(p==='letter'){ w = toUnits(8.5,'in',u); h = toUnits(11,'in',u); }
      else if(p==='a4'){ w = toUnits(210,'mm',u); h = toUnits(297,'mm',u); }
      else if(p==='a5'){ w = toUnits(148,'mm',u); h = toUnits(210,'mm',u); }
      else { return; }
      els.pageW.value = (u==='in' ? w.toFixed(2) : Math.round(w));
      els.pageH.value = (u==='in' ? h.toFixed(2) : Math.round(h));
    }
    function applySheetPreset(){
      const u = els.units.value;
      const p = els.sheetPreset.value;
      let w,h;
      if(p==='12x12'){ w=toUnits(12,'in',u); h=w; }
      else if(p==='a4'){ w=toUnits(210,'mm',u); h=toUnits(297,'mm',u); }
      else if(p==='letter'){ w=toUnits(8.5,'in',u); h=toUnits(11,'in',u); }
      else return;
      els.sheetW.value = (u==='in'? w.toFixed(2) : Math.round(w));
      els.sheetH.value = (u==='in'? h.toFixed(2) : Math.round(h));
    }

    // Switch between aspect/fixed modes
    function refreshPhotoMode(){
      const mode = els.photoMode.value;
      const showFixed = (mode==='fixed');
      els.fixedWrap.classList.toggle('hidden', !showFixed);
      els.aspectWrap.classList.toggle('hidden', showFixed);
    }

    // Validation (on blur)
    function setErr(el, errId, msg){
      const tgt = document.getElementById(errId);
      if(!tgt) return;
      if(msg){
        tgt.textContent = msg;
        tgt.classList.remove('hidden');
        el.setAttribute('aria-describedby', errId);
      }else{
        tgt.textContent = "";
        tgt.classList.add('hidden');
        // keep aria-describedby if other helpers exist
      }
    }
    function validatePositive(el, errId, min){
      const v = Number(el.value);
      if(isNaN(v) || v < (min??0)){
        setErr(el, errId, "Please enter a valid value ≥ " + (min??0) + ".");
        return false;
      }
      setErr(el, errId, "");
      return true;
    }
    els.pageW.addEventListener('blur', ()=>validatePositive(els.pageW,'pageWErr',1));
    els.pageH.addEventListener('blur', ()=>validatePositive(els.pageH,'pageHErr',1));
    els.photoCount.addEventListener('blur', ()=>{
      const ok = validatePositive(els.photoCount,'photoErr',1);
      if(ok && Number(els.photoCount.value)>60){
        setErr(els.photoCount,'photoErr',"For best readability, keep photos ≤ 60.");
      }
    });

    // Core algorithm
    function parseAspect(str){
      const [w,h] = (str||"").split(":").map(Number);
      if(!w || !h) return 3/2;
      return w/h;
    }
    function pickGrid(n, preferR, preferC){
      // If user specified feasible rows/cols use it, else try near-square
      if(preferR>0 && preferC>0 && preferR*preferC>=n) return {r:preferR,c:preferC, reason:"user"};
      // heuristic: try all combos rc >= n with minimal (r*c - n), then minimal |r-c|
      let best=null;
      for(let r=1;r<=n;r++){
        const c=Math.ceil(n/r);
        const over=c*r-n;
        const sqDiff=Math.abs(r-c);
        const score = over*100 + sqDiff; // prioritize minimal overfill
        if(!best || score < best.score){ best={r,c,score}; }
      }
      // nudge toward preferred single dimension if provided
      if(preferR>0){
        const c=Math.ceil(n/preferR);
        if(preferR*c>=n && Math.abs(preferR-c) <= Math.abs(best.r-best.c)) best={r:preferR,c,score:0};
      }
      if(preferC>0){
        const r=Math.ceil(n/preferC);
        if(r*preferC>=n && Math.abs(r-preferC) <= Math.abs(best.r-best.c)) best={r, c:preferC, score:0};
      }
      return {r:best.r, c:best.c, reason:"auto"};
    }

    function calculate(){
      // read units and convert everything to mm for math, then back for display
      const u = els.units.value;

      // helpers to get mm numbers
      const v = (el)=> toUnits(Number(el.value)||0, u, 'mm');

      // Page & safe area
      const W = v(els.pageW), H = v(els.pageH);
      const m = v(els.safeMargin), b = v(els.bleed);
      const gx = v(els.gutterX), gy = v(els.gutterY);
      const n = Math.max(1, Math.floor(Number(els.photoCount.value)||0));

      if(W<=0||H<=0){ els.layoutNotes.textContent="Enter a valid page width/height."; return; }

      const Ws = Math.max(0, W - 2*(m+b));
      const Hs = Math.max(0, H - 2*(m+b));
      if(Ws<=0 || Hs<=0){ els.layoutNotes.textContent="Margins/bleed exceed page size. Reduce them."; return; }

      // Grid
      const prefR = Math.max(0, Math.floor(Number(els.preferRows.value)||0));
      const prefC = Math.max(0, Math.floor(Number(els.preferCols.value)||0));
      const {r,c,reason} = pickGrid(n, prefR, prefC);

      // Photo sizing
      let wp, hp;
      const mode = els.photoMode.value;
      if(mode==='fixed'){
        wp = v(els.fixedW);
        hp = v(els.fixedH);
        // check feasibility with gutters
        if( c*wp + (c-1)*gx > Ws || r*hp + (r-1)*gy > Hs ){
          els.resGrid.textContent = "Not feasible";
          els.resPrint.textContent = "—";
          els.resWaste.textContent = "—";
          els.resCost.textContent = "—";
          els.layoutNotes.textContent = "Fixed print size cannot fit the preferred grid. Reduce size or gutters, or let the calculator auto-fit by aspect.";
          els.cutList.innerHTML = "";
          return;
        }
      } else {
        const a = parseAspect(els.aspect.value);
        const maxByW = (Ws - (c-1)*gx)/c;
        const maxByH = a * (Hs - (r-1)*gy)/r;
        wp = Math.min(maxByW, maxByH);
        hp = wp / a;
      }

      // Mat border and counts
      const bm = v(els.matBorder);
      const wm = wp + 2*bm;
      const hm = hp + 2*bm;

      // Waste %
      const usedArea = (wm*hm) * n;
      const safeArea = Ws*Hs;
      const waste = Math.max(0, 1 - (usedArea/safeArea))*100;

      // Sheets and cut list (simple tiling)
      const SW = v(els.sheetW), SH = v(els.sheetH);
      const kerf = 2; // mm generic allowance
      function tilesFit(sheetW, sheetH, pieceW, pieceH){
        const cols = Math.floor((sheetW + kerf) / (pieceW + kerf));
        const rows = Math.floor((sheetH + kerf) / (pieceH + kerf));
        return {cols, rows, count: cols*rows};
      }
      // try both orientations for mats per sheet
      const t1 = tilesFit(SW,SH, wm,hm);
      const t2 = tilesFit(SW,SH, hm,wm);
      const perSheet = Math.max(t1.count, t2.count) || 1;
      const matSheets = Math.ceil(n / perSheet);

      // Background panel (optional): full page safe area backing
      // We'll include 1 background panel equal to Ws×Hs if user wants; here always list as optional
      const bgNeeded = 1;
      const bgFit1 = tilesFit(SW,SH, Ws, Hs);
      const bgFit2 = tilesFit(SW,SH, Hs, Ws);
      const bgPerSheet = Math.max(bgFit1.count, bgFit2.count) || 1;
      const bgSheets = Math.ceil(bgNeeded / bgPerSheet);

      // Adhesive perimeter estimate (mats + photos)
      const totalPerimeterMM = n * (2*(wm+hm) + 2*(wp+hp));
      const adhesiveMeters = totalPerimeterMM/1000;
      const adhesiveCost = adhesiveMeters * Number(els.adhesiveCostPerM.value||0);

      const sheetCost = (matSheets + bgSheets) * Number(els.costPerSheet.value||0);
      const totalCost = sheetCost + adhesiveCost;

      // Outputs
      const dispUnits = els.units.value;
      const out = (mm)=> dispUnits==='in' ? (toUnits(mm,'mm','in')).toFixed(2)+" in" : Math.round(mm)+" mm";
      els.resGrid.textContent = `${r} × ${c}` + (reason==="user" ? " (forced)" : "");
      els.resPrint.textContent = `${out(wp)} × ${out(hp)} per photo`;
      els.resWaste.textContent = waste.toFixed(1) + " %";
      els.resCost.textContent = formatMoney(totalCost);

      // Cut list rows
      const rows = [];
      rows.push({item:"Photo prints (for reference)", qty:n, w:out(wp), h:out(hp), sheet:"—"});
      rows.push({item:"Photo mats", qty:n, w:out(wm), h:out(hm), sheet:`~${perSheet} pcs/sheet → ${matSheets} sheet(s)`});
      rows.push({item:"Background panel (safe area)", qty:bgNeeded, w:out(Ws), h:out(Hs), sheet:`${bgPerSheet} pcs/sheet → ${bgSheets} sheet(s)`});
      rows.push({item:"Adhesive (estimate)", qty:"—", w:"—", h:"—", sheet:`~${adhesiveMeters.toFixed(2)} m`});

      els.cutList.innerHTML = rows.map(r=>{
        return `<tr class="border-b">
          <td class="px-3 py-2 text-left">${r.item}</td>
          <td class="px-3 py-2 text-right">${r.qty}</td>
          <td class="px-3 py-2 text-right">${r.w}</td>
          <td class="px-3 py-2 text-right">${r.h}</td>
          <td class="px-3 py-2 text-right">${r.sheet}</td>
        </tr>`;
      }).join("");

      // Notes
      els.layoutNotes.innerHTML =
        `Safe area: ${out(Ws)} × ${out(Hs)}. Gaps: ${out(v(els.gutterX))} (X) & ${out(v(els.gutterY))} (Y). ` +
        `Mat border: ${out(bm)}. Sheets: ${matSheets + bgSheets} total. ` +
        `If prints are borderless, set bleed & keep margin ≥ ${dispUnits==='in' ? '0.25 in' : '6 mm'}.`;

    } // calculate

    // Events
    els.units.addEventListener('change', ()=>{
      // convert every numeric field to new units
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      const from = (els.units.value==='in'?'mm':'in'); // we stored current as what's displayed; but we convert by reading old, assume previous was opposite? Safer: detect by current placeholder flag.
      // Better: capture old unit before change
    });
    // Track last unit to convert properly
    let lastUnits = els.units.value;
    els.units.addEventListener('change', ()=>{
      const newU = els.units.value;
      const fields = [els.pageW,els.pageH,els.safeMargin,els.bleed,els.gutterX,els.gutterY,els.fixedW,els.fixedH,els.matBorder,els.sheetW,els.sheetH];
      fields.forEach(f=>{
        const mm = toUnits(Number(f.value)||0, lastUnits, 'mm');
        const vNew = toUnits(mm, 'mm', newU);
        f.value = (newU==='in') ? Number(vNew).toFixed(2) : Math.round(vNew);
      });
      lastUnits = newU;
      applyPagePreset(); // keep in sync if user flips preset afterward
      applySheetPreset();
      calculate();
    });

    els.pagePreset.addEventListener('change', ()=>{ applyPagePreset(); calculate(); });
    els.sheetPreset.addEventListener('change', ()=>{ applySheetPreset(); calculate(); });
    els.photoMode.addEventListener('change', ()=>{ refreshPhotoMode(); calculate(); });

    ["pageW","pageH","safeMargin","bleed","gutterX","gutterY",
     "photoCount","aspect","fixedW","fixedH","preferRows","preferCols",
     "matBorder","sheetW","sheetH","costPerSheet","adhesiveCostPerM"].forEach(id=>{
      $(id).addEventListener('input', ()=>calculate());
     });

    els.calcBtn.addEventListener('click', (e)=>{ e.preventDefault(); calculate(); });
    els.clearBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      els.units.value = 'in'; lastUnits='in';
      els.pagePreset.value='custom'; els.pageW.value=305; els.pageH.value=305;
      els.safeMargin.value=10; els.bleed.value=0; els.gutterX.value=6; els.gutterY.value=6;
      els.photoCount.value=4; els.photoMode.value='aspect'; els.aspect.value='3:2';
      els.fixedW.value=100; els.fixedH.value=150; els.preferRows.value=0; els.preferCols.value=0;
      els.matBorder.value=3;
      els.sheetPreset.value='12x12'; els.sheetW.value=305; els.sheetH.value=305;
      els.costPerSheet.value=0.80; els.adhesiveCostPerM.value=0.06;
      refreshPhotoMode(); calculate();
    });

    // init
    refreshPhotoMode();
    applyPagePreset();
    applySheetPreset();
    calculate();
  })();
  

  })();</script></body></html>