<!DOCTYPE html><html lang="en"><head>
<link rel="canonical" href="https://calcdomain.com/limiting-reactant">





 
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg">
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png">
<link rel="manifest" href="https://calcdomain.com/site.webmanifest">
<meta charset="utf-8">
<title>Limiting Reactant Calculator | Science • Chemistry</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Limiting reactant calculator: determine the limiting reagent, theoretical yield, and excess reactants from stoichiometry. Mobile-first, accessible, and accurate." name="description">
<meta content="Ugo Candido" name="author">

<meta content="#ffffff" name="theme-color">
<meta content="index,follow" name="robots">
<meta content="website" property="og:type">
<meta content="Limiting Reactant Calculator" property="og:title">
<meta content="Determine the limiting reagent, theoretical yield, and excess reactants with an accessible, mobile-first stoichiometry calculator." property="og:description">
<meta content="https://calcdomain.com/science/chemistry/limiting-reactant-calculator" property="og:url">
<meta content="CalcDomain" property="og:site_name">
<meta content="summary" name="twitter:card">
<meta content="Limiting Reactant Calculator" name="twitter:title">
<meta content="Accurate, accessible stoichiometry tool to find the limiting reactant and theoretical yield." name="twitter:description">
<style>
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#6C757D; --border-color:#DEE2E6;
      --success-color:#198754; --error-color:#DC3545; --warning-color:#FFC107;

      --font-sans-serif: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

      --touch-target-min:48px;
      --container-max-width:1200px;
      --sidebar-width:clamp(300px,40vw,460px);
      --gap:1rem; --gap-lg:2rem;
    }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{ animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important; scroll-behavior:auto!important; }
    }
    *{ box-sizing:border-box; }
    html{ font-size:16px; }
    body{
      margin:0; font-family:var(--font-sans-serif); color:var(--text-color);
      background:var(--background-color); line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{ color:var(--primary-color); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    a:focus{ outline:3px solid var(--primary-color); outline-offset:2px; }
    h1,h2,h3{ color:var(--secondary-color); margin:0 0 .75rem; line-height:1.2; }
    h1{ font-size:clamp(1.75rem,4.5vw,2.5rem); }
    h2{ font-size:clamp(1.35rem,3.5vw,1.75rem); margin-top:2rem; }
    h3{ font-size:clamp(1.1rem,3vw,1.25rem); margin-top:1rem; }
    p{ margin:0 0 1rem; max-width:75ch; }
    code, .formula, .latex { font-family:var(--font-mono); background:#eef2f6; padding:.15rem .35rem; border-radius:4px; }
    .container{ max-width:var(--container-max-width); margin-inline:auto; padding:0 clamp(1rem,4vw,2rem); }
    .skip-link{
      position:absolute; left:8px; top:-40px; background:var(--primary-color); color:#fff; padding:.5rem .75rem; border-radius:4px; z-index:1000;
    }
    .skip-link:focus{ top:8px; }
    header{ background:var(--surface-color); border-bottom:1px solid var(--border-color); }
    .header-inner{ display:flex; gap:.75rem; align-items:center; padding:.75rem 0; }
    .logo{ font-weight:700; color:var(--primary-color); font-size:1.25rem; }
    .site-search{ margin-left:auto; display:flex; gap:.5rem; align-items:center; }
    .site-search input[type="search"]{
      padding:.6rem .8rem; border:1px solid var(--border-color); border-radius:8px; min-height:var(--touch-target-min); width:min(320px,60vw);
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:.7rem 1rem; border-radius:8px; min-height:var(--touch-target-min);
      border:1px solid transparent; background:var(--primary-color); color:#fff; font-weight:600; cursor:pointer;
    }
    .btn.secondary{ background:#fff; color:var(--primary-color); border-color:var(--primary-color); }
    .btn.ghost{ background:transparent; color:var(--primary-color); border-color:var(--border-color); }
    .btn:focus{ outline:3px solid var(--primary-color); outline-offset:2px; }
    .btn.small{ padding:.5rem .75rem; min-height:40px; }

    main{ padding:var(--gap-lg) 0; }
    nav.breadcrumb{ font-size:.95rem; color:var(--muted-text-color); margin-bottom:1rem; }
    nav.breadcrumb a{ color:inherit; }

    .calculator-layout{
      display:grid; grid-template-columns:1fr; gap:var(--gap-lg);
    }
    @media (min-width: 992px){
      .calculator-layout{ grid-template-columns: var(--sidebar-width) 1fr; align-items:start; }
    }

    .card{
      background:var(--surface-color); border:1px solid var(--border-color); border-radius:12px;
      padding:clamp(1rem,3vw,1.5rem); box-shadow:0 1px 2px rgba(0,0,0,.04);
    }

    .form-group{ margin-bottom:1rem; }
    label{ display:block; font-weight:600; margin-bottom:.5rem; }
    .input-row{ display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
    .form-control{
      width:100%; padding:.75rem .9rem; border:1px solid var(--border-color); border-radius:8px; min-height:var(--touch-target-min); font-size:1rem; background:#fff;
    }
    .form-control:focus{ outline:3px solid var(--primary-color); outline-offset:2px; border-color:var(--primary-color); }
    .form-control[aria-invalid="true"]{ border-color:var(--error-color); }
    select.form-control{ padding-right:2rem; }
    .inline-help{
      margin-left:.25rem; display:inline-flex; align-items:center; justify-content:center;
      width:28px; height:28px; border-radius:50%; border:1px solid var(--border-color); background:#fff; color:var(--secondary-color);
      font-weight:700; line-height:1; cursor:pointer;
    }
    .inline-help[aria-expanded="true"]{ background:rgba(0,90,156,.06); }
    .tooltip{
      display:none; background:#0b1f33; color:#fff; padding:.5rem .75rem; border-radius:8px; margin:.5rem 0 0;
    }
    .tooltip[data-show="true"]{ display:block; }
    .error-message{ color:var(--error-color); font-size:.9rem; margin-top:.35rem; min-height:1.25rem; }

    .fieldset{ border:1px dashed var(--border-color); padding:1rem; border-radius:10px; }
    .fieldset legend{ font-weight:700; color:var(--secondary-color); padding:0 .25rem; }
    .row-actions{ display:flex; gap:.5rem; flex-wrap:wrap; }

    .results-container{
      margin-top:1rem; background:var(--background-color); border:1px solid var(--border-color);
      border-radius:12px; padding:1rem; min-height:240px;
    }
    .result-item{ display:flex; justify-content:space-between; align-items:flex-start; gap:1rem; padding:.5rem 0; border-bottom:1px solid var(--border-color); }
    .result-item:last-child{ border-bottom:none; }
    .result-label{ color:var(--muted-text-color); }
    .result-value{ font-weight:700; color:var(--success-color); }
    .notice{ padding:.75rem 1rem; border-radius:8px; border:1px solid var(--border-color); background:#fff6e5; color:#663c00; }

    .formula-box{ background:#eef2f6; border:1px solid var(--border-color); border-radius:8px; padding:1rem; overflow:auto; }
    ul.clean{ padding-left:1rem; }
    .author-box{ color:var(--muted-text-color); font-size:.95rem; border-top:1px solid var(--border-color); margin-top:2rem; padding-top:1rem; }

    footer{ background:var(--secondary-color); color:#fff; margin-top:3rem; }
    .footer-inner{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.5rem; padding:2rem 0; }
    .footer-inner a{ color:#fff; }
    .footer-bottom{ text-align:center; border-top:1px solid rgba(255,255,255,.2); padding:1rem 0; font-size:.95rem; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Limiting Reactant Calculator",
  "description": "Determine the limiting reagent, theoretical yield, and excess reactants from a balanced reaction. Accessible, mobile-first tool for students and professionals.",
  "url": "https://calcdomain.com/limiting-reactant",
  "inLanguage": "en",
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Compute the limiting reactant and theoretical yield for 2 H2 + O2 → 2 H2O using 10.0 g H2 and 80.0 g O2.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter stoichiometric coefficients",
          "text": "Set ν(H2)=2, ν(O2)=1, and ν(H2O)=2."
        },
        {
          "@type": "HowToStep",
          "name": "Convert masses to moles",
          "text": "Use n = m / M: n(H2)=10.0/2.016≈4.96 mol; n(O2)=80.0/32.00=2.50 mol."
        },
        {
          "@type": "HowToStep",
          "name": "Find reaction extent",
          "text": "ξ = min(n_i / ν_i) = min(4.96/2, 2.50/1) = 2.48."
        },
        {
          "@type": "HowToStep",
          "name": "Identify limiting reactant",
          "text": "H2 is limiting because 4.96/2 < 2.50/1."
        },
        {
          "@type": "HowToStep",
          "name": "Compute theoretical yield",
          "text": "n(H2O)=ξ·ν(H2O)=2.48·2=4.96 mol; m(H2O)=4.96·18.015≈89.4 g."
        },
        {
          "@type": "HowToStep",
          "name": "Find excess remaining",
          "text": "n_excess(O2)=n_i−ξ·ν_i=2.50−2.48=0.02 mol ≈ 0.64 g O2."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is a limiting reactant?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It is the reactant that is completely consumed first, limiting how much product can form."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need a balanced equation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Stoichiometric coefficients must come from a balanced chemical equation."
          }
        },
        {
          "@type": "Question",
          "name": "Can I enter grams instead of moles?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Enter mass in grams and the corresponding molar mass to convert to moles automatically."
          }
        },
        {
          "@type": "Question",
          "name": "How are excess reactants calculated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The calculator computes the reaction extent (ξ) and subtracts consumed moles (ξ·ν) from the initial moles for each reactant."
          }
        },
        {
          "@type": "Question",
          "name": "Does the tool consider percent yield?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This version reports theoretical yield (100% yield). Multiply by your percent yield (as a fraction) to estimate actual yield."
          }
        },
        {
          "@type": "Question",
          "name": "Is the tool WCAG-compliant?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The interface is designed to meet WCAG 2.1 AA with visible focus states, keyboard navigation, and ARIA live regions for results."
          }
        }
      ]
    }
  ],
  "reviewedBy": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "dateModified": "2026-01-19"
}</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer=""></script>
<!-- MathJax for LaTeX formulas -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\(','\)'], ['$', '$']],
      displayMath: [['$','$'], ['\[','\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link rel="preload" href="https://calcdomain.com/assets/js/mobile-menu.js" as="script">
<link rel="preload" href="https://calcdomain.com/assets/js/page-enhancements.js" as="script">


<style>
/* AUDIT_SPINE_CSS */
.auditspine-note{
  border:1px solid #e5e7eb;
  background:#fff;
  border-radius:12px;
  padding:12px;
  color:#475569;
  font-size:13px;
  line-height:1.5;
}
.auditspine-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.auditspine-changelog{
  border:1px solid #e5e7eb;
  background:#fff;
  border-left:5px solid #334155;
  border-radius:12px;
  padding:12px;
  font-size:13px;
  color:#475569;
}
.auditspine-formula{
  margin:10px 0;
  background:#0b1220;
  color:#e5e7eb;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.12);
  overflow-x:auto;
}
.auditspine-formula pre{margin:8px 0 0; white-space:pre-wrap;}
.auditspine-hr{border:none; border-top:1px solid #e5e7eb; margin:18px 0;}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "General",
      "item": "https://calcdomain.com/categories/general"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Miscellaneous",
      "item": "https://calcdomain.com/subcategories/miscellaneous"
    }
  ]
}
</script>
</head>
<body>

<a class="skip-link" href="#main">Skip to main content</a>
<header>
<div class="container header-inner">
CalcDomain
<form action="https://calcdomain.com/search" aria-label="Site" class="site-search" method="get" role="search">
<label class="sr-only" for="q">Search calculators</label>
<input aria-label="Search calculators" id="q" name="q" placeholder="Search calculators…" type="search">
<button aria-label="Submit search" class="btn secondary" type="submit">Search</button>
</form>
</div>
</header>
<main class="container" id="main" role="main">
<nav class="text-sm mb-4 text-gray-600" aria-label="Breadcrumbs"><a href="https://calcdomain.com" class="hover:text-blue-600">Home</a> &raquo; <a href="https://calcdomain.com/categories/general" class="hover:text-blue-600">General</a> &raquo; <a href="https://calcdomain.com/subcategories/miscellaneous" class="hover:text-blue-600">Miscellaneous</a></nav>
<h1>Limiting Reactant Calculator</h1>
<p>
      This professional-grade limiting reactant calculator helps students, educators, and engineers identify the limiting reagent, theoretical product yield, and excess reactants from a balanced chemical equation. It accepts inputs in moles or grams (with molar mass) and provides clear, step-by-step results.
    </p>
<div class="calculator-layout">
<section aria-labelledby="calculator-heading" class="card" id="calculator">
<h2 id="calculator-heading">Calculator</h2>
<form id="lrForm" novalidate="">
<fieldset aria-describedby="reactantsHelp" class="fieldset">
<legend>Reactants</legend>
<p class="sr-only" id="reactantsHelp">Enter at least two reactants with their stoichiometric coefficients and amounts. If you use grams, provide molar mass.</p>
<div aria-live="off" class="grid-rows" id="reactantsContainer"></div>
<div class="row-actions" style="margin-top:.5rem;">
<button aria-describedby="addReactantHint" class="btn ghost small" id="addReactantBtn" type="button">+ Add reactant</button>
<span class="sr-only" id="addReactantHint">Adds another reactant row (maximum five)</span>
</div>
</fieldset>
<fieldset class="fieldset" style="margin-top:1rem;">
<legend>Product (for yield)</legend>
<div class="form-group">
<label for="productName">Product name (optional)</label>
<input class="form-control" id="productName" inputmode="text" name="productName" placeholder="e.g., H2O">
</div>
<div class="form-group">
<div class="input-row">
<div style="flex:1 1 160px; min-width:160px;">
<label for="productCoeff">Stoichiometric coefficient (ν)</label>
<input aria-describedby="productCoeffErr" aria-required="true" class="form-control" id="productCoeff" min="0.0001" name="productCoeff" step="any" type="number" value="1">
<div aria-live="polite" class="error-message" id="productCoeffErr" role="alert"></div>
</div>
<div style="flex:1 1 160px; min-width:160px;">
<label for="productMM">Molar mass (g/mol) <span aria-hidden="true">(optional)</span>
<button aria-controls="mmProdHelp" aria-expanded="false" aria-label="What is molar mass?" class="inline-help" id="mmProdHelpBtn" type="button">?</button>
</label>
<input aria-describedby="mmProdHelp productMMErr" class="form-control" id="productMM" min="0.0001" name="productMM" placeholder="e.g., 18.015" step="any" type="number">
<div class="tooltip" id="mmProdHelp" role="note">Molar mass converts moles to grams: m = n × M. Provide it to get product mass.</div>
<div aria-live="polite" class="error-message" id="productMMErr" role="alert"></div>
</div>
</div>
</div>
</fieldset>
<div class="row-actions" style="margin-top:.75rem; gap:.5rem;">
<button class="btn" id="loadExampleBtn" type="button">Load example</button>
<button class="btn secondary" id="resetBtn" type="reset">Reset</button>
</div>
<p aria-live="polite" class="error-message" id="formGlobalError" role="alert" style="margin-top:.5rem;"></p>
</form>
</section>
<section aria-labelledby="results-heading" class="card" id="results">
<h2 id="results-heading">Results</h2>
<div aria-atomic="true" aria-live="polite" class="results-container" id="resultsContainer">
<p class="notice" id="placeholderResult">Enter your reactants and product details to see the limiting reactant, theoretical yield, and excess amounts here.</p>
</div>
</section>
</div>
<section aria-labelledby="source-heading" class="card">
<h2 id="source-heading">Data Source and Methodology</h2>
<p>
        Primary reference: LibreTexts Chemistry, “Determining the Limiting Reactant” (accessed 2025), available at
        <a href="https://chem.libretexts.org/Bookshelves/General_Chemistry/Map%3A_General_Chemistry_(Petrucci_et_al.)/04%3A_Chemical_Reactions/4.4%3A_Determining_the_Limiting_Reactant" rel="noopener" target="_blank">chem.libretexts.org</a>.
      </p>
<p><em>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</em></p>
</section>
<section aria-labelledby="formulas-heading" class="card">
<h2 id="formulas-heading">The Formula Explained</h2>
<div aria-label="Formulas" class="formula-box">
<p class="latex">ξ = \min_i \left(\dfrac{n_i}{\nu_i}\right)</p>
<p class="latex">n_{\text{prod}} = ξ \cdot \nu_{\text{prod}}</p>
<p class="latex">n_{i,\text{excess}} = n_i - ξ \cdot \nu_i</p>
<p class="latex">m = n \cdot M \quad \text{with} \quad M = \text{molar mass (g/mol)}</p>
</div>
<p>Where n are moles, ν are stoichiometric coefficients from the balanced equation, ξ is the reaction extent, and M is the molar mass.</p>
</section>
<section aria-labelledby="glossary-heading" class="card">
<h2 id="glossary-heading">Glossary of Variables</h2>
<ul class="clean">
        - Reactant name: Label for each reactant (optional, for clarity).<br>
        - Stoichiometric coefficient (ν): Number from the balanced equation; must be positive.<br>
        - Amount: Quantity available of the reactant in either moles or grams.<br>
        - Molar mass (M): Required when entering grams; used to convert mass to moles (n = m/M).<br>
        - Reaction extent (ξ): Minimum of n_i/ν_i across all reactants; determines how far the reaction can proceed.<br>
        - Theoretical product moles (n_prod): Computed as ξ·ν_prod.<br>
        - Theoretical product mass (m_prod): n_prod·M_prod if product molar mass is provided.<br>
        - Excess remaining: n_i − ξ·ν_i (and mass if M is provided).
      </ul>
</section>
<section aria-labelledby="example-heading" class="card">
<h2 id="example-heading">Worked Example</h2>
<h3>How It Works: A Step-By-Step Example</h3>
<p>Balanced reaction: 2 H2 + O2 → 2 H2O</p>
<ol>
<li>Inputs: 10.0 g H2 (M=2.016 g/mol), 80.0 g O2 (M=32.00 g/mol); product H2O with ν=2 and M=18.015 g/mol.</li>
<li>Convert to moles: n(H2)=10.0/2.016≈4.96 mol; n(O2)=80.0/32.00=2.50 mol.</li>
<li>Reaction extent: ξ = min(4.96/2, 2.50/1) = min(2.48, 2.50) = 2.48 → H2 is limiting.</li>
<li>Product: n(H2O)=ξ·ν=2.48·2=4.96 mol; m(H2O)=4.96·18.015≈89.4 g.</li>
<li>Excess O2 remaining: n=2.50−2.48=0.02 mol → m≈0.02·32.00=0.64 g.</li>
</ol>
</section>
<section aria-labelledby="faq-heading" class="card">
<h2 id="faq-heading">Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Do I need to balance the equation first?</h3>
<p>Yes. Stoichiometric coefficients must come from a correctly balanced equation to ensure accurate results.</p>
<h3>What if two reactants tie as limiting?</h3>
<p>In rare cases, ratios can be equal within rounding tolerance. The tool will report both as co-limiting reactants.</p>
<h3>Can I enter a mixture of grams and moles?</h3>
<p>Yes. Each reactant may be entered in either grams (with molar mass) or moles independently.</p>
<h3>How precise are the results?</h3>
<p>We keep internal precision high and display results with sensible rounding. You can copy exact values from the details table.</p>
<h3>Does this include percent yield?</h3>
<p>No. It reports theoretical yield. Multiply by your percent yield (as a decimal) to estimate actual yield.</p>
<h3>Where can I find molar masses?</h3>
<p>Use reliable sources such as NIST Chemistry WebBook or your course reference tables. Always ensure the correct formula.</p>
<h3>Is this tool accessible?</h3>
<p>Yes. It adheres to WCAG 2.1 AA with visible focus, keyboard operability, ARIA error messaging, and live results updates.</p>
</div>
</section>
<div class="author-box">
    </div>

<!-- AUDIT_SPINE_START -->
<hr class="auditspine-hr">
<section aria-label="Formulas, sources, changelog, verification">
  <span class="auditspine-badge">Audit: Complete</span>

  <details style="margin-top:10px">
    <summary><strong>Formula (LaTeX) + variables + units</strong></summary>
    <div class="auditspine-note" style="margin-top:10px">
      This section shows the formulas used by the calculator engine, plus variable definitions and units.
      
    </div>
    <div class="auditspine-formula">
      <div style="margin:10px 0">
  <div><strong>Formula (extracted LaTeX)</strong></div>
  <div style="margin-top:6px">\[','\]</div>
  <pre class="auditspine-mono">','</pre>
</div>
<div style="margin:10px 0">
  <div><strong>Formula (extracted text)</strong></div>
  
  <pre class="auditspine-mono">ξ = \min_i \left(\dfrac{n_i}{\nu_i}\right) n_{\text{prod}} = ξ \cdot \nu_{\text{prod}} n_{i,\text{excess}} = n_i - ξ \cdot \nu_i m = n \cdot M \quad \text{with} \quad M = \text{molar mass (g/mol)}</pre>
</div>
      <div style="margin-top:12px"><strong>Variables and units</strong></div>
      <ul style="margin:8px 0 0 18px">
        <li><em>No variables provided in audit spec.</em></li>
      </ul>
    </div>
  </details>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Sources (authoritative):</strong>
    <ul style="margin:8px 0 0 18px">
      <li><strong>Science</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/science" target="_blank" rel="nofollow noopener">https://calcdomain.com/science</a></li>
<li><strong>Chemistry</strong> — calcdomain.com · Accessed 2026-01-19<br><a href="https://calcdomain.com/subcategories/chemistry" target="_blank" rel="nofollow noopener">https://calcdomain.com/subcategories/chemistry</a></li>
<li><strong>chem.libretexts.org</strong> — chem.libretexts.org · Accessed 2026-01-19<br><a href="https://chem.libretexts.org/Bookshelves/General_Chemistry/Map%3A_General_Chemistry_(Petrucci_et_al.)/04%3A_Chemical_Reactions/4.4%3A_Determining_the_Limiting_Reactant" target="_blank" rel="nofollow noopener">https://chem.libretexts.org/Bookshelves/General_Chemistry/Map%3A_General_Chemistry_(Petrucci_et_al.)/04%3A_Chemical_Reactions/4.4%3A_Determining_the_Limiting_Reactant</a></li>
    </ul>
  </div>

  <div class="auditspine-changelog" style="margin-top:12px">
    <strong>Changelog</strong><br>
    <div style="margin-top:6px">
      <strong>Version:</strong> 0.1.0-draft<br>
      <strong>Last code update:</strong> 2026-01-19
    </div>
    <div style="margin-top:10px">
  <strong>0.1.0-draft</strong> · 2026-01-19
  <ul style="margin:6px 0 0 18px">
    <li>Initial audit spec draft generated from HTML extraction (review required).</li>
<li>Verify formulas match the calculator engine and convert any text-only formulas to LaTeX.</li>
<li>Confirm sources are authoritative and relevant to the calculator methodology.</li>
  </ul>
</div>
  </div>

  <div class="auditspine-note" style="margin-top:12px">
    <strong>Verified by Ugo Candido on 2026-01-19</strong><br>
    <a href="https://calcdomain.com/ugocandido" target="_blank" rel="noopener">Profile</a> ·
    <a href="https://www.linkedin.com/in/ugocandido92821/" target="_blank" rel="noopener">LinkedIn</a>
  </div>
</section>
<!-- AUDIT_SPINE_END -->
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      'use strict';

      const reactantsContainer = document.getElementById('reactantsContainer');
      const addReactantBtn = document.getElementById('addReactantBtn');
      const loadExampleBtn = document.getElementById('loadExampleBtn');
      const resetBtn = document.getElementById('resetBtn');
      const form = document.getElementById('lrForm');
      const resultsContainer = document.getElementById('resultsContainer');
      const globalError = document.getElementById('formGlobalError');
      const mmProdHelpBtn = document.getElementById('mmProdHelpBtn');
      const mmProdHelp = document.getElementById('mmProdHelp');
      const productCoeff = document.getElementById('productCoeff');
      const productCoeffErr = document.getElementById('productCoeffErr');
      const productMM = document.getElementById('productMM');

      let reactantCount = 0;
      const MAX_REACTANTS = 5;

      function uid(prefix){ return prefix + '-' + Math.random().toString(36).slice(2,9); }
      function toNumber(v){ const n = typeof v === 'number' ? v : parseFloat(String(v).replace(',', '.')); return Number.isFinite(n) ? n : NaN; }
      function clampDecimals(n, d=6){ return Number.isFinite(n) ? Number(n.toFixed(d)) : n; }
      function setError(input, msg, errEl){
        input.setAttribute('aria-invalid', msg ? 'true':'false');
        if(errEl){ errEl.textContent = msg || ''; }
      }

      function buildReactantRow(){
        if(reactantCount >= MAX_REACTANTS) return;
        reactantCount++;
        const idx = reactantCount;

        const rid = uid('reactant');
        const nameId = uid('name');
        const coeffId = uid('coeff');
        const amountId = uid('amount');
        const unitId = uid('unit');
        const mmId = uid('mm');
        const tipBtnId = uid('tipbtn');
        const tipId = uid('tip');
        const errNameId = uid('errn');
        const errCoeffId = uid('errc');
        const errAmountId = uid('erra');
        const errMmId = uid('errm');

        const fs = document.createElement('fieldset');
        fs.className = 'fieldset';
        fs.id = rid;
        fs.innerHTML = `
          <legend>Reactant ${idx}</legend>
          <div class="form-group">
            <label for="${nameId}">Name (optional)</label>
            <input id="${nameId}" class="form-control" type="text" inputmode="text" placeholder="e.g., H2" aria-describedby="${errNameId}">
            <div id="${errNameId}" class="error-message" role="alert" aria-live="polite"></div>
          </div>

          <div class="input-row">
            <div class="form-group" style="flex:1 1 140px; min-width:140px;">
              <label for="${coeffId}">Stoichiometric coefficient (ν) *</label>
              <input id="${coeffId}" class="form-control" type="number" step="any" min="0.0001" value="1" aria-required="true" aria-describedby="${errCoeffId}">
              <div id="${errCoeffId}" class="error-message" role="alert" aria-live="polite"></div>
            </div>

            <div class="form-group" style="flex:1 1 140px; min-width:140px;">
              <label for="${amountId}">Amount *</label>
              <input id="${amountId}" class="form-control" type="number" step="any" min="0.0000001" placeholder="e.g., 5.0" aria-required="true" aria-describedby="${errAmountId}">
              <div id="${errAmountId}" class="error-message" role="alert" aria-live="polite"></div>
            </div>

            <div class="form-group" style="flex:1 1 140px; min-width:140px;">
              <label for="${unitId}">Unit *</label>
              <select id="${unitId}" class="form-control" aria-required="true" aria-label="Unit for reactant ${idx}">
                <option value="mol">mol</option>
                <option value="g">g</option>
              </select>
            </div>
          </div>

          <div class="form-group" data-mm-row style="display:none;">
            <label for="${mmId}">Molar mass (g/mol) *
              <button type="button" class="inline-help" id="${tipBtnId}" aria-controls="${tipId}" aria-expanded="false" aria-label="More info about molar mass">?</button>
            </label>
            <input id="${mmId}" class="form-control" type="number" step="any" min="0.0001" placeholder="Required when using grams" aria-describedby="${tipId} ${errMmId}">
            <div id="${tipId}" class="tooltip" role="note">Required if the amount is given in grams. We convert to moles using n = m/M.</div>
            <div id="${errMmId}" class="error-message" role="alert" aria-live="polite"></div>
          </div>

          <div class="row-actions">
            <button type="button" class="btn ghost small" data-remove>Remove</button>
          </div>
        `;

        reactantsContainer.appendChild(fs);

        const nameEl   = fs.querySelector('#'+nameId);
        const coeffEl  = fs.querySelector('#'+coeffId);
        const amountEl = fs.querySelector('#'+amountId);
        const unitEl   = fs.querySelector('#'+unitId);
        const mmRow    = fs.querySelector('[data-mm-row]');
        const mmEl     = fs.querySelector('#'+mmId);
        const rmBtn    = fs.querySelector('[data-remove]');
        const tipBtn   = fs.querySelector('#'+tipBtnId);
        const tip      = fs.querySelector('#'+tipId);

        // Tooltips
        tipBtn.addEventListener('click', () => {
          const show = tip.getAttribute('data-show') !== 'true';
          tip.setAttribute('data-show', String(show));
          tipBtn.setAttribute('aria-expanded', String(show));
        });

        // Validation handlers
        [coeffEl, amountEl, mmEl].forEach(el => {
          el.addEventListener('blur', () => validateField(el));
          el.addEventListener('input', compute);
        });
        unitEl.addEventListener('change', () => {
          const isG = unitEl.value === 'g';
          mmRow.style.display = isG ? '' : 'none';
          mmEl.value = isG ? mmEl.value : '';
          validateField(mmEl);
          compute();
        });
        nameEl.addEventListener('input', compute);

        rmBtn.addEventListener('click', () => {
          fs.remove();
          reactantCount = Math.max(0, reactantCount - 1);
          renumberReactantLegends();
          compute();
          ensureRemoveVisibility();
        });

        ensureRemoveVisibility();
      }

      function renumberReactantLegends(){
        [...reactantsContainer.querySelectorAll('.fieldset > legend')].forEach((lg, i) => lg.textContent = `Reactant ${i+1}`);
      }

      function ensureRemoveVisibility(){
        const rows = [...reactantsContainer.querySelectorAll('.fieldset')];
        const showRemove = rows.length > 2;
        rows.forEach(row => {
          const btn = row.querySelector('[data-remove]');
          if(btn){ btn.style.display = showRemove ? '' : 'none'; }
        });
        addReactantBtn.disabled = rows.length >= MAX_REACTANTS;
        addReactantBtn.setAttribute('aria-disabled', String(addReactantBtn.disabled));
      }

      function validateField(el){
        const id = el.id;
        const val = toNumber(el.value);
        const errEl = el.parentElement.querySelector('.error-message');
        if(el === productCoeff){
          if(!Number.isFinite(val) || val <= 0){ setError(el, 'Enter a positive coefficient for the product (ν > 0).', productCoeffErr); return false; }
          setError(el, '', productCoeffErr); return true;
        }

        // Reactant fields
        if(id.includes('coeff')){
          if(!Number.isFinite(val) || val <= 0){ setError(el, 'Coefficient must be a positive number (ν > 0).', errEl); return false; }
          setError(el, '', errEl); return true;
        }
        if(id.includes('amount')){
          if(!Number.isFinite(val) || val <= 0){ setError(el, 'Amount must be a positive number.', errEl); return false; }
          setError(el, '', errEl); return true;
        }
        if(id.includes('mm')){
          const unitSel = el.closest('.fieldset').querySelector('select.form-control');
          if(unitSel && unitSel.value === 'g'){
            if(!Number.isFinite(val) || val <= 0){ setError(el, 'Molar mass is required and must be positive when using grams.', errEl); return false; }
            setError(el, '', errEl); return true;
          } else {
            setError(el, '', errEl); return true;
          }
        }
        return true;
      }

      function validateAll(){
        let ok = true;
        globalError.textContent = '';

        // Product coefficient
        if(!validateField(productCoeff)) ok = false;

        // Reactants
        const rows = [...reactantsContainer.querySelectorAll('.fieldset')];
        if(rows.length < 2){
          globalError.textContent = 'Please enter at least two reactants.';
          ok = false;
        }
        rows.forEach(row => {
          row.querySelectorAll('input').forEach(inp => {
            if(inp.type === 'number'){
              if(!validateField(inp)) ok = false;
            }
          });
        });

        return ok;
      }

      function collectData(){
        const rows = [...reactantsContainer.querySelectorAll('.fieldset')];
        return rows.map(row => {
          const name = row.querySelector('input[type="text"]').value.trim();
          const coeff = toNumber(row.querySelector('input[id*="coeff"]').value);
          const amount = toNumber(row.querySelector('input[id*="amount"]').value);
          const unit = row.querySelector('select').value;
          const mmEl = row.querySelector('input[id*="mm"]');
          const mm = mmEl && mmEl.value ? toNumber(mmEl.value) : NaN;
          let n = unit === 'mol' ? amount : (Number.isFinite(mm) && mm > 0 ? amount / mm : NaN);
          return {
            name: name || '(reactant)',
            coeff, amount, unit, mm,
            moles: n
          };
        });
      }

      function compute(){
        // inline validation and compute
        const isValid = validateAll();
        if(!isValid){ renderPlaceholder('Please correct the highlighted fields to see results.'); return; }

        const productNu = toNumber(productCoeff.value);
        const productM = toNumber(productMM.value);
        const reactants = collectData();

        // Check all reactant moles present
        if(reactants.some(r => !Number.isFinite(r.moles) || r.moles <= 0 || !Number.isFinite(r.coeff) || r.coeff <= 0)){
          renderPlaceholder('Please provide positive amounts and coefficients.'); return;
        }

        // Compute extent
        const ratios = reactants.map(r => r.moles / r.coeff);
        const xi = Math.min(...ratios);
        const tol = 1e-9;
        const limitingIdx = reactants.map((r,i) => Math.abs(ratios[i] - xi) <= tol ? i : -1).filter(i => i >= 0);
        const limitingNames = limitingIdx.map(i => reactants[i].name);

        // Consumption and excess
        reactants.forEach(r => {
          r.consumed = xi * r.coeff;
          r.remaining = Math.max(0, r.moles - r.consumed);
          r.remainingMass = Number.isFinite(r.mm) && r.mm > 0 ? r.remaining * r.mm : NaN;
          r.initialMass = (r.unit === 'g') ? r.amount : (Number.isFinite(r.mm) && r.mm > 0 ? r.moles * r.mm : NaN);
          r.consumedMass = Number.isFinite(r.mm) && r.mm > 0 ? r.consumed * r.mm : NaN;
        });

        // Product
        const nProd = xi * productNu;
        const mProd = (Number.isFinite(productM) && productM > 0) ? nProd * productM : NaN;

        renderResults({
          limiting: limitingNames,
          xi, reactants, nProd, mProd
        });
      }

      function renderPlaceholder(text){
        resultsContainer.innerHTML = `<p class="notice">${text}</p>`;
      }

      function fmt(n, unit){
        if(!Number.isFinite(n)) return '—';
        const v = Math.abs(n) >= 100 ? n.toFixed(2) : Math.abs(n) >= 1 ? n.toFixed(3) : n.toExponential(3);
        return unit ? `${v} ${unit}` : v;
      }

      function renderResults(model){
        const { limiting, xi, reactants, nProd, mProd } = model;
        const productName = (document.getElementById('productName').value || 'Product').trim();
        const limitingLabel = limiting.length > 1 ? 'Limiting reactants' : 'Limiting reactant';
        const limitingList = limiting.map(n => `<li>${escapeHTML(n)}</li>`).join('');

        const reactantDetails = reactants.map(r => `
          <tr>
            <td>${escapeHTML(r.name)}</td>
            <td>${fmt(r.moles,'mol')}</td>
            <td>${fmt(r.consumed,'mol')}</td>
            <td>${fmt(r.remaining,'mol')}</td>
            <td>${fmt(r.initialMass,'g')}</td>
            <td>${fmt(r.consumedMass,'g')}</td>
            <td>${fmt(r.remainingMass,'g')}</td>
          </tr>
        `).join('');

        resultsContainer.innerHTML = `
          <div class="result-item">
            <div class="result-label">${limitingLabel}</div>
            <div class="result-value"><ul style="margin:0; padding-left:1rem;">${limitingList}</ul></div>
          </div>
          <div class="result-item">
            <div class="result-label">Reaction extent (ξ)</div>
            <div class="result-value">${fmt(xi,'')}</div>
          </div>
          <div class="result-item">
            <div class="result-label">Theoretical yield (moles)</div>
            <div class="result-value">${fmt(nProd,'mol')} of ${escapeHTML(productName)}</div>
          </div>
          <div class="result-item">
            <div class="result-label">Theoretical yield (mass)</div>
            <div class="result-value">${fmt(mProd,'g')} of ${escapeHTML(productName)}</div>
          </div>

          <div style="overflow:auto; margin-top:.5rem;">
            <h3>Detailed Reactant Balance</h3>
            <table style="width:100%; border-collapse:collapse; min-width:680px;">
              <thead>
                <tr>
                  <th style="text-align:left; border-bottom:1px solid var(--border-color); padding:.5rem;">Reactant</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Initial (mol)</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Consumed (mol)</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Remaining (mol)</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Initial (g)</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Consumed (g)</th>
                  <th style="text-align:right; border-bottom:1px solid var(--border-color); padding:.5rem;">Remaining (g)</th>
                </tr>
              </thead>
              <tbody>
                ${reactantDetails}
              </tbody>
            </table>
          </div>
        `;
      }

      function escapeHTML(s){
        return s.replace(/[&<>"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch]));
      }

      // Event wiring: product help tooltip
      mmProdHelpBtn.addEventListener('click', () => {
        const show = mmProdHelp.getAttribute('data-show') !== 'true';
        mmProdHelp.setAttribute('data-show', String(show));
        mmProdHelpBtn.setAttribute('aria-expanded', String(show));
      });

      productCoeff.addEventListener('blur', () => validateField(productCoeff));
      productCoeff.addEventListener('input', compute);
      productMM.addEventListener('input', compute);

      addReactantBtn.addEventListener('click', () => {
        buildReactantRow();
        ensureRemoveVisibility();
      });

      loadExampleBtn.addEventListener('click', () => {
        // Ensure at least 2 rows
        while(reactantsContainer.children.length < 2){ buildReactantRow(); }
        // If more than 2, clear extras
        while(reactantsContainer.children.length > 2){ reactantsContainer.lastElementChild.remove(); reactantCount--; }
        ensureRemoveVisibility();

        const rows = [...reactantsContainer.querySelectorAll('.fieldset')];
        const [r1, r2] = rows;

        // Reactant 1: H2 (limiting)
        r1.querySelector('input[type="text"]').value = 'H2';
        r1.querySelector('input[id*="coeff"]').value = '2';
        r1.querySelector('select').value = 'g';
        r1.querySelector('input[id*="amount"]').value = '10';
        const mmRow1 = r1.querySelector('[data-mm-row]');
        mmRow1.style.display = '';
        const mm1 = r1.querySelector('input[id*="mm"]');
        mm1.value = '2.016';

        // Reactant 2: O2
        r2.querySelector('input[type="text"]').value = 'O2';
        r2.querySelector('input[id*="coeff"]').value = '1';
        r2.querySelector('select').value = 'g';
        r2.querySelector('input[id*="amount"]').value = '80';
        const mmRow2 = r2.querySelector('[data-mm-row]');
        mmRow2.style.display = '';
        const mm2 = r2.querySelector('input[id*="mm"]');
        mm2.value = '32.00';

        // Product: H2O
        document.getElementById('productName').value = 'H2O';
        document.getElementById('productCoeff').value = '2';
        document.getElementById('productMM').value = '18.015';

        compute();
      });

      resetBtn.addEventListener('click', () => {
        setTimeout(() => {
          reactantsContainer.innerHTML = '';
          reactantCount = 0;
          buildReactantRow();
          buildReactantRow();
          ensureRemoveVisibility();
          productCoeff.value = '1';
          productMM.value = '';
          document.getElementById('productName').value = '';
          globalError.textContent = '';
          renderPlaceholder('Enter your reactants and product details to see the limiting reactant, theoretical yield, and excess amounts here.');
        }, 0);
      });

      // Initialize with two rows
      buildReactantRow();
      buildReactantRow();
      compute();
    })();
  </script>

</body></html>