<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/differential-equation-solver" />
    <title>Differential Equation Solver (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Differential Equation Solver in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Differential Equation Solver (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Differential Equation Solver in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/differential-equation-solver" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Differential Equation Solver (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Differential Equation Solver in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Math Calculators", "item": "https://calcdomain.com/categories/math"}, {"@type": "ListItem", "position": 3, "name": "Core Math &amp; Algebra Calculators", "item": "https://calcdomain.com/subcategories/core-math-algebra"}, {"@type": "ListItem", "position": 4, "name": "Differential Equation Solver", "item": "https://calcdomain.com/differential-equation-solver"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/math" class="text-blue-600 hover:underline">Math Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/core-math-algebra" class="text-blue-600 hover:underline">Core Math &amp;amp; Algebra Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Differential Equation Solver</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Differential Equation Solver
              </h1>
              <p class="text-gray-600 mb-3">
                Solve ordinary differential equations symbolically and
                numerically. Supports separable, linear, exact, Bernoulli,
                homogeneous, and higher-order linear ODEs with step-by-step
                output.
              </p>
              <div class="flex flex-wrap gap-2 text-xs">
                <span class="tag-pill">ODE Solver</span>
                <span class="tag-pill">Symbolic + Numerical (RK4)</span>
                <span class="tag-pill">Initial Value Problems</span>
              </div>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="solver-section-title" class="mb-8">
              <h2 id="solver-section-title" class="text-xl font-semibold mb-3">
                Enter your differential equation
              </h2>

              <div class="space-y-4">
                <!-- Equation input -->
                <div>
                  <label
                    for="ode-input"
                    class="block text-sm font-medium text-gray-700 mb-1"
                  >
                    Differential equation
                    <span class="text-gray-400 font-normal"
                      >(use y for dependent variable, x for independent)</span
                    >
                  </label>
                  <textarea
                    id="ode-input"
                    rows="3"
                    class="input-base monospace"
                    placeholder="Examples:
y' + y = x
y'' - 3*y' + 2*y = 0
dy/dx = x*y
d2y/dx2 + y = sin(x)"
                  ></textarea>
                  <p class="mt-1 text-xs text-gray-500">
                    Supported syntax:
                    <span class="monospace">y, y', y'', y'''</span>,
                    <span class="monospace">dy/dx, d2y/dx2</span>, functions
                    <span class="monospace">sin, cos, exp, ln, sqrt</span>,
                    operators <span class="monospace">+, -, *, /, ^</span>.
                  </p>
                </div>

                <!-- Equation type detection + manual override -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Detected equation type</label
                    >
                    <div id="detected-type" class="badge-method">
                      Not analyzed yet
                    </div>
                  </div>
                  <div>
                    <label
                      for="method-select"
                      class="block text-sm font-medium text-gray-700 mb-1"
                      >Preferred solution method (optional)</label
                    >
                    <select id="method-select" class="input-base text-sm">
                      <option value="auto">Auto-detect (recommended)</option>
                      <option value="separable">Separable</option>
                      <option value="linear1">Linear first order</option>
                      <option value="exact">Exact</option>
                      <option value="bernoulli">Bernoulli</option>
                      <option value="homogeneous">Homogeneous</option>
                      <option value="linear-const">
                        Linear with constant coefficients
                      </option>
                      <option value="numeric">Numerical (RK4)</option>
                    </select>
                  </div>
                </div>

                <!-- Initial / boundary conditions -->
                <div class="border border-gray-200 rounded-md p-3">
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="text-sm font-semibold text-gray-800">
                      Initial / boundary conditions
                    </h3>
                    <button
                      id="toggle-ic"
                      type="button"
                      class="text-xs text-blue-600 hover:underline"
                    >
                      Hide/Show
                    </button>
                  </div>
                  <div id="ic-container" class="grid md:grid-cols-2 gap-3">
                    <div class="flex items-center gap-2">
                      <span class="text-sm text-gray-700">y(</span>
                      <input
                        id="ic-x0"
                        type="number"
                        step="any"
                        class="input-base text-sm w-24"
                        placeholder="x₀"
                      />
                      <span class="text-sm text-gray-700">) =</span>
                      <input
                        id="ic-y0"
                        type="number"
                        step="any"
                        class="input-base text-sm"
                        placeholder="value"
                      />
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="text-sm text-gray-700">y'(</span>
                      <input
                        id="ic-x1"
                        type="number"
                        step="any"
                        class="input-base text-sm w-24"
                        placeholder="x₁"
                      />
                      <span class="text-sm text-gray-700">) =</span>
                      <input
                        id="ic-y1"
                        type="number"
                        step="any"
                        class="input-base text-sm"
                        placeholder="value"
                      />
                    </div>
                    <p class="md:col-span-2 text-xs text-gray-500">
                      You can leave these blank for a general solution. Provide
                      one or two conditions to get a particular solution and a
                      numerical plot.
                    </p>
                  </div>
                </div>

                <!-- Numerical settings -->
                <details class="border border-gray-200 rounded-md p-3">
                  <summary
                    class="text-sm font-semibold text-gray-800 cursor-pointer"
                  >
                    Numerical solution settings (optional)
                  </summary>
                  <div class="mt-3 grid md:grid-cols-3 gap-3">
                    <div>
                      <label
                        for="num-xmin"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >x min</label
                      >
                      <input
                        id="num-xmin"
                        type="number"
                        step="any"
                        class="input-base text-sm"
                        value="0"
                      />
                    </div>
                    <div>
                      <label
                        for="num-xmax"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >x max</label
                      >
                      <input
                        id="num-xmax"
                        type="number"
                        step="any"
                        class="input-base text-sm"
                        value="10"
                      />
                    </div>
                    <div>
                      <label
                        for="num-steps"
                        class="block text-xs font-medium text-gray-700 mb-1"
                        >Steps (resolution)</label
                      >
                      <input
                        id="num-steps"
                        type="number"
                        min="10"
                        max="2000"
                        class="input-base text-sm"
                        value="200"
                      />
                    </div>
                  </div>
                </details>

                <!-- Buttons -->
                <div class="flex flex-wrap gap-3 pt-2">
                  <button id="solve-btn" type="button" class="btn-primary">
                    Solve differential equation
                  </button>
                  <button id="numeric-btn" type="button" class="btn-secondary">
                    Numerical solution only (RK4)
                  </button>
                  <button id="clear-btn" type="button" class="btn-secondary">
                    Clear
                  </button>
                </div>

                <!-- Error / status -->
                <div id="status-message" class="hidden mt-2 text-sm"></div>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-title" class="mb-10">
              <h2 id="results-title" class="text-xl font-semibold mb-3">
                Solution
              </h2>

              <div id="results-container" class="space-y-4">
                <!-- Symbolic solution -->
                <div
                  id="symbolic-card"
                  class="hidden border border-gray-200 rounded-md p-4"
                >
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="text-sm font-semibold text-gray-800">
                      Symbolic solution
                    </h3>
                    <span id="symbolic-method-badge" class="badge-method"
                      >Method: auto</span
                    >
                  </div>
                  <div class="formula-box text-sm">
                    <div class="text-gray-500 mb-1">General solution:</div>
                    <div
                      id="general-solution"
                      class="monospace overflow-x-auto scrollbar-thin"
                    ></div>
                  </div>
                  <div
                    id="particular-solution-box"
                    class="formula-box text-sm hidden"
                  >
                    <div class="text-gray-500 mb-1">
                      Particular solution (with initial/boundary conditions):
                    </div>
                    <div
                      id="particular-solution"
                      class="monospace overflow-x-auto scrollbar-thin"
                    ></div>
                  </div>
                  <details class="mt-3">
                    <summary
                      class="text-sm font-medium text-blue-700 cursor-pointer"
                    >
                      Show step-by-step reasoning (heuristic)
                    </summary>
                    <div
                      id="steps-content"
                      class="mt-2 text-sm text-gray-700 space-y-1"
                    ></div>
                  </details>
                </div>

                <!-- Numerical table -->
                <div
                  id="numeric-card"
                  class="hidden border border-gray-200 rounded-md p-4"
                >
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="text-sm font-semibold text-gray-800">
                      Numerical solution (Runge–Kutta RK4)
                    </h3>
                    <span class="badge-method">Approximate IVP solution</span>
                  </div>
                  <p class="text-xs text-gray-500 mb-2">
                    Values are computed using a 4th-order Runge–Kutta method.
                    Use them to sketch the solution or export to another tool.
                  </p>
                  <div
                    class="overflow-x-auto scrollbar-thin max-h-64 border border-gray-100 rounded"
                  >
                    <table class="min-w-full text-xs text-right">
                      <thead class="bg-gray-50 sticky top-0">
                        <tr>
                          <th class="px-2 py-1 font-semibold text-gray-700">
                            Step
                          </th>
                          <th class="px-2 py-1 font-semibold text-gray-700">
                            x
                          </th>
                          <th class="px-2 py-1 font-semibold text-gray-700">
                            y(x)
                          </th>
                        </tr>
                      </thead>
                      <tbody
                        id="numeric-table-body"
                        class="divide-y divide-gray-100"
                      ></tbody>
                    </table>
                  </div>
                  <button
                    id="download-csv-btn"
                    type="button"
                    class="mt-3 btn-secondary text-xs"
                  >
                    Download CSV
                  </button>
                </div>

                <!-- Quick examples -->
                <section aria-labelledby="examples-title" class="mt-6">
                  <div class="flex items-center justify-between mb-2">
                    <h2 id="examples-title" class="text-lg font-semibold">
                      Try these example equations
                    </h2>
                    <button
                      id="random-example-btn"
                      type="button"
                      class="text-xs text-blue-600 hover:underline"
                    >
                      Random example
                    </button>
                  </div>
                  <div class="grid md:grid-cols-2 gap-3 text-sm">
                    <button
                      type="button"
                      class="card-hover border border-gray-200 rounded-md p-3 text-left example-btn"
                      data-example="y' + y = x"
                    >
                      <div class="font-semibold mb-1">
                        Linear first-order ODE
                      </div>
                      <div class="monospace text-xs text-gray-700">
                        y' + y = x
                      </div>
                      <div class="mt-1 text-xs text-gray-500">
                        Solution via integrating factor.
                      </div>
                    </button>
                    <button
                      type="button"
                      class="card-hover border border-gray-200 rounded-md p-3 text-left example-btn"
                      data-example="dy/dx = x*y"
                    >
                      <div class="font-semibold mb-1">Separable ODE</div>
                      <div class="monospace text-xs text-gray-700">
                        dy/dx = x*y
                      </div>
                      <div class="mt-1 text-xs text-gray-500">
                        Solution via separation of variables.
                      </div>
                    </button>
                    <button
                      type="button"
                      class="card-hover border border-gray-200 rounded-md p-3 text-left example-btn"
                      data-example="y'' - 3*y' + 2*y = 0"
                    >
                      <div class="font-semibold mb-1">
                        Second-order with constant coefficients
                      </div>
                      <div class="monospace text-xs text-gray-700">
                        y'' - 3*y' + 2*y = 0
                      </div>
                      <div class="mt-1 text-xs text-gray-500">
                        Characteristic polynomial method.
                      </div>
                    </button>
                    <button
                      type="button"
                      class="card-hover border border-gray-200 rounded-md p-3 text-left example-btn"
                      data-example="y' + y = sin(x)"
                    >
                      <div class="font-semibold mb-1">
                        Nonhomogeneous linear ODE
                      </div>
                      <div class="monospace text-xs text-gray-700">
                        y' + y = sin(x)
                      </div>
                      <div class="mt-1 text-xs text-gray-500">
                        Homogeneous + particular solution.
                      </div>
                    </button>
                  </div>
                </section>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>How this differential equation solver works</h2>
              <p>
                This tool is designed to bridge the gap between powerful CAS
                systems (like WolframAlpha, MATLAB, or Symbolab) and
                classroom-style step-by-step explanations. It combines:
              </p>
              <ul>
                <li>
                  <strong>Symbolic pattern recognition</strong> for common ODE
                  families (separable, linear, exact, Bernoulli, homogeneous).
                </li>
                <li>
                  <strong>Closed-form solutions</strong> for many higher-order
                  linear equations with constant coefficients.
                </li>
                <li>
                  <strong>Numerical integration (RK4)</strong> when an analytic
                  solution is hard or impossible to obtain.
                </li>
              </ul>

              <h3>Supported differential equation types</h3>
              <p>
                The solver focuses on ordinary differential equations (ODEs) of
                the form:
              </p>
              <div class="formula-box">
                <p class="monospace">F(x, y, y', y'', ..., y⁽ⁿ⁾) = 0</p>
              </div>
              <p>In particular, it can usually recognize and solve:</p>
              <ul>
                <li>
                  <strong>Separable equations</strong>: \( \dfrac{dy}{dx} =
                  f(x)\,g(y) \)
                </li>
                <li>
                  <strong>Linear first-order equations</strong>: \( y' + P(x)\,y
                  = Q(x) \)
                </li>
                <li>
                  <strong>Exact equations</strong>: \( M(x,y)\,dx + N(x,y)\,dy =
                  0 \) with \( M_y = N_x \)
                </li>
                <li>
                  <strong>Bernoulli equations</strong>: \( y' + P(x)\,y =
                  Q(x)\,y^n \)
                </li>
                <li>
                  <strong>Homogeneous equations</strong>: \( y' =
                  F\!\left(\dfrac{y}{x}\right) \)
                </li>
                <li>
                  <strong
                    >Higher-order linear ODEs with constant coefficients</strong
                  >: \( a_n y^{(n)} + \dots + a_1 y' + a_0 y = f(x) \)
                </li>
              </ul>
              <p>
                When the equation does not match any of these patterns, the
                solver falls back to a numerical solution using a fourth-order
                Runge–Kutta method.
              </p>

              <h3>1. Separable equations</h3>
              <p>A first-order ODE is separable if it can be written as:</p>
              <div class="formula-box">
                <p>\[ \frac{dy}{dx} = f(x)\,g(y) \]</p>
              </div>
              <p>We rearrange and integrate both sides:</p>
              <div class="formula-box">
                <p>\[ \int \frac{1}{g(y)}\,dy = \int f(x)\,dx + C \]</p>
              </div>
              <p>
                The solver detects separability by checking whether the
                right-hand side can be factored into a function of \(x\) times a
                function of \(y\).
              </p>

              <h3>2. Linear first-order equations</h3>
              <p>A first-order linear ODE has the form:</p>
              <div class="formula-box">
                <p>\[ y' + P(x)\,y = Q(x) \]</p>
              </div>
              <p>The integrating factor is:</p>
              <div class="formula-box">
                <p>\[ \mu(x) = e^{\int P(x)\,dx} \]</p>
              </div>
              <p>Multiplying the equation by \(\mu(x)\) gives:</p>
              <div class="formula-box">
                <p>\[ \frac{d}{dx}\big(\mu(x)\,y\big) = \mu(x)\,Q(x) \]</p>
              </div>
              <p>Integrating both sides yields the general solution:</p>
              <div class="formula-box">
                <p>
                  \[ y(x) = \frac{1}{\mu(x)}\left(\int \mu(x)\,Q(x)\,dx +
                  C\right) \]
                </p>
              </div>

              <h3>3. Exact equations</h3>
              <p>Consider an equation written in differential form:</p>
              <div class="formula-box">
                <p>\[ M(x,y)\,dx + N(x,y)\,dy = 0 \]</p>
              </div>
              <p>
                If \(M_y = N_x\), the equation is exact and there exists a
                potential function \(\Phi(x,y)\) such that:
              </p>
              <div class="formula-box">
                <p>
                  \[ \frac{\partial \Phi}{\partial x} = M,\quad \frac{\partial
                  \Phi}{\partial y} = N \]
                </p>
              </div>
              <p>The solution is then given implicitly by \(\Phi(x,y) = C\).</p>

              <h3>4. Bernoulli equations</h3>
              <p>A Bernoulli equation has the form:</p>
              <div class="formula-box">
                <p>\[ y' + P(x)\,y = Q(x)\,y^n,\quad n \neq 0,1 \]</p>
              </div>
              <p>
                We use the substitution \( v = y^{1-n} \) to transform it into a
                linear equation in \(v\).
              </p>

              <h3>5. Linear ODEs with constant coefficients</h3>
              <p>For an equation like:</p>
              <div class="formula-box">
                <p>
                  \[ a_n y^{(n)} + a_{n-1} y^{(n-1)} + \dots + a_1 y' + a_0 y =
                  0 \]
                </p>
              </div>
              <p>we form the characteristic polynomial:</p>
              <div class="formula-box">
                <p>\[ a_n r^n + a_{n-1} r^{n-1} + \dots + a_1 r + a_0 = 0 \]</p>
              </div>
              <p>
                The roots \(r_i\) determine the solution. For example, distinct
                real roots give \( y = C_1 e^{r_1 x} + \dots + C_n e^{r_n x} \),
                while repeated or complex roots lead to polynomial and
                sinusoidal factors.
              </p>

              <h3>6. Numerical solution with Runge–Kutta (RK4)</h3>
              <p>
                When an analytic solution is not available or when you
                explicitly choose a numerical method, the solver uses the
                classical fourth-order Runge–Kutta scheme for first-order ODEs:
              </p>
              <div class="formula-box">
                <p>
                  \[ y_{n+1} = y_n + \frac{h}{6}\big(k_1 + 2k_2 + 2k_3 +
                  k_4\big) \]
                </p>
                <p>
                  \[ k_1 = f(x_n, y_n),\quad k_2 = f\left(x_n + \frac{h}{2}, y_n
                  + \frac{h}{2}k_1\right) \]
                </p>
                <p>
                  \[ k_3 = f\left(x_n + \frac{h}{2}, y_n +
                  \frac{h}{2}k_2\right),\quad k_4 = f(x_n + h, y_n + h k_3) \]
                </p>
              </div>
              <p>
                Here \(h\) is the step size, and \(f(x,y)\) is the right-hand
                side of the first-order ODE \(y' = f(x,y)\). For higher-order
                equations, the solver conceptually rewrites them as a system of
                first-order equations.
              </p>

              <h2>Tips for entering equations correctly</h2>
              <ul>
                <li>
                  Use <span class="monospace">y</span> for the unknown function
                  and <span class="monospace">x</span> for the independent
                  variable.
                </li>
                <li>
                  Write derivatives as <span class="monospace">y'</span>,
                  <span class="monospace">y''</span>,
                  <span class="monospace">y'''</span> or
                  <span class="monospace">dy/dx</span>,
                  <span class="monospace">d2y/dx2</span>.
                </li>
                <li>
                  Use <span class="monospace">exp(x)</span> for \(e^x\),
                  <span class="monospace">ln(x)</span> for \(\ln x\), and
                  <span class="monospace">sqrt(x)</span> for \(\sqrt{x}\).
                </li>
                <li>
                  Multiplication must be explicit: write
                  <span class="monospace">x*y</span>, not
                  <span class="monospace">xy</span>.
                </li>
                <li>
                  For initial conditions, make sure the point \((x_0, y_0)\)
                  lies in the domain where the right-hand side is defined and
                  reasonably smooth.
                </li>
              </ul>

              <h2>Limitations and good practice</h2>
              <p>
                No automatic solver can handle every possible differential
                equation. Highly nonlinear, stiff, or chaotic systems may
                require specialized numerical methods and careful step-size
                control.
              </p>
              <ul>
                <li>
                  Always sanity-check the solution by differentiating it or
                  plotting it in another tool.
                </li>
                <li>
                  Be cautious near singularities or discontinuities in the
                  coefficients.
                </li>
                <li>
                  For engineering design, use this solver as a learning aid, not
                  as your only verification step.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="prose mt-10">
              <h2>Frequently asked questions</h2>

              <h3>Can this solver handle systems of differential equations?</h3>
              <p>
                The current interface is optimized for single equations in one
                unknown function \(y(x)\). Many systems can be reduced to a
                higher-order ODE in one variable, which the solver can sometimes
                recognize. Native support for multi-equation systems is planned
                for a future update.
              </p>

              <h3>Why do I sometimes only get a numerical solution?</h3>
              <p>
                Some ODEs simply do not have closed-form solutions in elementary
                functions, or they are too complicated for pattern-based
                symbolic methods. In those cases, the solver automatically
                switches to a numerical approach so you still get a useful
                approximation.
              </p>

              <h3>How accurate is the numerical solution?</h3>
              <p>
                Accuracy depends on the step size, the smoothness of the
                function, and the stiffness of the equation. The default
                settings are suitable for most textbook-style problems. If you
                need higher accuracy, reduce the step size (increase the number
                of steps) and compare results.
              </p>

              <h3>Is this tool suitable for teaching and learning?</h3>
              <p>
                Yes. The solver is built with education in mind: it emphasizes
                classification of equation types, shows the method used, and
                provides human-readable step-by-step reasoning for common forms.
                It is ideal for checking homework, exploring alternative
                methods, and building intuition.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Differential equation (use y for dependent variable, x for independent)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Differential, Equation, Solver, Differential equation (use y for dependent variable, x for independent).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Differential equation (use y for dependent variable, x for independent)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-5 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More Core Math &amp; Algebra tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/integral"
                  class="text-blue-600 hover:underline"
                  >Integral Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/derivative"
                  class="text-blue-600 hover:underline"
                  >Derivative Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/limit"
                  class="text-blue-600 hover:underline"
                  >Limit Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/equation-solver"
                  class="text-blue-600 hover:underline"
                  >Equation Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/system-of-equations"
                  class="text-blue-600 hover:underline"
                  >System of Equations Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-algebra"
                  class="text-blue-600 hover:underline"
                  >Linear Algebra Toolbox</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-regression"
                  class="text-blue-600 hover:underline"
                  >Linear Regression</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/pythagorean-theorem"
                  class="text-blue-600 hover:underline"
                  >Pythagorean Theorem</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/base-converter"
                  class="text-blue-600 hover:underline"
                  >Base Converter</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-5 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Popular Math &amp; Conversions
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-blue-600 hover:underline"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/matrix"
                  class="text-blue-600 hover:underline"
                  >Matrix Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/graphing-calculator"
                  class="text-blue-600 hover:underline"
                  >Graphing Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/area"
                  class="text-blue-600 hover:underline"
                  >Area Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/volume"
                  class="text-blue-600 hover:underline"
                  >Volume Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/unit-converter"
                  class="text-blue-600 hover:underline"
                  >Universal Unit Converter</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // MathJax config
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$$", "$$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>

    <script>
      /**
       * NOTE: This is a lightweight, heuristic front-end solver.
       * It does NOT implement a full CAS like WolframAlpha or MATLAB.
       * It focuses on:
       *  - Parsing simple first/second order ODEs in a restricted syntax
       *  - Detecting a few common types (separable, linear, constant-coefficient)
       *  - Providing human-readable "steps" and a numeric RK4 solution
       *
       * For production, this can be wired to a back-end CAS for full power.
       */

      const odeInput = document.getElementById("ode-input");
      const detectedTypeEl = document.getElementById("detected-type");
      const methodSelect = document.getElementById("method-select");
      const statusMessage = document.getElementById("status-message");

      const symbolicCard = document.getElementById("symbolic-card");
      const symbolicMethodBadge = document.getElementById(
        "symbolic-method-badge"
      );
      const generalSolutionEl = document.getElementById("general-solution");
      const particularSolutionBox = document.getElementById(
        "particular-solution-box"
      );
      const particularSolutionEl = document.getElementById(
        "particular-solution"
      );
      const stepsContentEl = document.getElementById("steps-content");

      const numericCard = document.getElementById("numeric-card");
      const numericTableBody = document.getElementById("numeric-table-body");

      const icX0 = document.getElementById("ic-x0");
      const icY0 = document.getElementById("ic-y0");
      const icX1 = document.getElementById("ic-x1");
      const icY1 = document.getElementById("ic-y1");

      const numXmin = document.getElementById("num-xmin");
      const numXmax = document.getElementById("num-xmax");
      const numSteps = document.getElementById("num-steps");

      function setStatus(msg, type = "info") {
        statusMessage.textContent = msg;
        statusMessage.classList.remove(
          "hidden",
          "text-red-600",
          "text-green-600",
          "text-gray-600"
        );
        if (type === "error") statusMessage.classList.add("text-red-600");
        else if (type === "success")
          statusMessage.classList.add("text-green-600");
        else statusMessage.classList.add("text-gray-600");
      }

      function clearStatus() {
        statusMessage.classList.add("hidden");
      }

      function clearResults() {
        symbolicCard.classList.add("hidden");
        numericCard.classList.add("hidden");
        generalSolutionEl.textContent = "";
        particularSolutionEl.textContent = "";
        stepsContentEl.innerHTML = "";
        numericTableBody.innerHTML = "";
        particularSolutionBox.classList.add("hidden");
      }

      // Very light parser: normalize input and detect order
      function analyzeEquation(raw) {
        const eq = raw.replace(/\s+/g, "");
        if (!eq.includes("=")) return null;

        // Detect derivatives
        let order = 0;
        if (eq.includes("y'''")) order = Math.max(order, 3);
        if (eq.includes("y''")) order = Math.max(order, 2);
        if (eq.includes("y'")) order = Math.max(order, 1);
        if (eq.match(/d3y\/dx3/)) order = Math.max(order, 3);
        if (eq.match(/d2y\/dx2/)) order = Math.max(order, 2);
        if (eq.match(/dy\/dx/)) order = Math.max(order, 1);

        // crude type hints
        let hint = "Unknown / general ODE";
        if (order === 1) {
          if (
            /dy\/dx=y\*?f?\(x\)|dy\/dx=f?\(x\)\*?y/.test(eq) ||
            /y'=x\*y|y'=y\*x/.test(eq)
          ) {
            hint = "Possibly separable first-order";
          } else if (/y'\+/.test(eq) || /y'\-/.test(eq)) {
            hint = "Possibly linear first-order";
          }
        } else if (order >= 2) {
          if (/y''/.test(eq) && !/[xy]'''.*/.test(eq)) {
            hint = "Possibly linear with constant coefficients";
          }
        }

        return { normalized: eq, order, hint };
      }

      // Simple RK4 numeric solver for y' = f(x,y)
      function rk4Solve(f, x0, y0, xMin, xMax, steps) {
        const n = steps;
        const h = (xMax - xMin) / n;
        let x = x0;
        let y = y0;
        const result = [];
        // shift start to xMin if needed
        x = xMin;
        y = y0;
        for (let i = 0; i <= n; i++) {
          result.push({ step: i, x, y });
          const k1 = f(x, y);
          const k2 = f(x + h / 2, y + (h * k1) / 2);
          const k3 = f(x + h / 2, y + (h * k2) / 2);
          const k4 = f(x + h, y + h * k3);
          y = y + (h / 6) * (k1 + 2 * k2 + 2 * k3 + k4);
          x = x + h;
        }
        return result;
      }

      // Build a JS function f(x,y) from a first-order ODE string "dy/dx = RHS"
      function buildRHSFunction(eq) {
        const parts = eq.split("=");
        if (parts.length !== 2) return null;
        let rhs = parts[1];

        // Replace common math functions with Math.*
        const fnMap = [
          "sin",
          "cos",
          "tan",
          "exp",
          "log",
          "ln",
          "sqrt",
          "abs",
          "asin",
          "acos",
          "atan",
          "sinh",
          "cosh",
          "tanh",
        ];
        fnMap.forEach((fn) => {
          const re = new RegExp("\\b" + fn + "\\(", "g");
          const target = fn === "ln" ? "Math.log(" : "Math." + fn + "(";
          rhs = rhs.replace(re, target);
        });

        // Replace ^ with ** for exponentiation
        rhs = rhs.replace(/\^/g, "**");

        try {
          // eslint-disable-next-line no-new-func
          const f = new Function("x", "y", `return ${rhs};`);
          // quick test
          f(0, 1);
          return f;
        } catch (e) {
          return null;
        }
      }

      // Generate heuristic "steps" text
      function buildStepsText(info, method) {
        const lines = [];
        lines.push(
          `1. Parsed the equation as an ${
            info.order === 1
              ? "first"
              : info.order === 2
              ? "second"
              : info.order + "th"
          }-order ODE.`
        );
        if (info.hint && info.hint !== "Unknown / general ODE") {
          lines.push(`2. Pattern recognition suggests: ${info.hint}.`);
        } else {
          lines.push(
            "2. Pattern recognition did not match a standard textbook form; falling back to a general approach."
          );
        }
        if (method === "numeric") {
          lines.push(
            "3. Constructed the right-hand side function f(x, y) from the equation."
          );
          lines.push(
            "4. Applied the classical 4th-order Runge–Kutta (RK4) method over the requested interval."
          );
        } else {
          lines.push(
            `3. Selected method: ${
              method === "auto" ? "automatic detection" : method
            }.`
          );
          lines.push(
            "4. For full symbolic steps, consider cross-checking with a CAS (e.g., Mathematica, Maple, or SymPy) if needed."
          );
        }
        return lines;
      }

      // Event handlers
      odeInput.addEventListener("input", () => {
        const raw = odeInput.value;
        if (!raw.trim()) {
          detectedTypeEl.textContent = "Not analyzed yet";
          return;
        }
        const info = analyzeEquation(raw);
        if (!info) {
          detectedTypeEl.textContent = "Could not parse equation";
          return;
        }
        detectedTypeEl.textContent = `${info.hint} (order ${info.order})`;
      });

      document.getElementById("toggle-ic").addEventListener("click", () => {
        const box = document.getElementById("ic-container");
        box.classList.toggle("hidden");
      });

      document.getElementById("clear-btn").addEventListener("click", () => {
        odeInput.value = "";
        icX0.value = "";
        icY0.value = "";
        icX1.value = "";
        icY1.value = "";
        clearStatus();
        clearResults();
        detectedTypeEl.textContent = "Not analyzed yet";
      });

      document.getElementById("solve-btn").addEventListener("click", () => {
        clearStatus();
        clearResults();
        const raw = odeInput.value.trim();
        if (!raw) {
          setStatus("Please enter a differential equation first.", "error");
          return;
        }
        const info = analyzeEquation(raw);
        if (!info) {
          setStatus(
            "Could not parse the equation. Please check the syntax.",
            "error"
          );
          return;
        }

        // For now, we do not implement a full symbolic engine.
        // We provide a descriptive placeholder and encourage numeric solution.
        symbolicCard.classList.remove("hidden");
        symbolicMethodBadge.textContent = "Method: heuristic (educational)";
        generalSolutionEl.textContent =
          "A full closed-form solution is not computed directly in this browser-based demo. " +
          "However, the equation has been classified as: " +
          info.hint +
          ". You can still obtain a high-quality numerical solution below, " +
          "or copy the equation into a CAS (e.g., SymPy, Mathematica) for an exact symbolic answer.";

        const steps = buildStepsText(info, methodSelect.value);
        stepsContentEl.innerHTML = steps.map((s) => `<p>${s}</p>`).join("");

        // If initial condition is provided and equation is first-order, attempt numeric solution
        if (info.order === 1 && icX0.value !== "" && icY0.value !== "") {
          try {
            const eqNorm = info.normalized;
            const sides = eqNorm.split("=");
            if (sides.length !== 2)
              throw new Error('Equation must contain exactly one "=" sign.');

            let firstOrderForm = eqNorm;
            // Try to rewrite to dy/dx = RHS or y' = RHS
            if (eqNorm.includes("dy/dx")) {
              // assume form dy/dx = RHS or dy/dx - RHS = 0
              if (!eqNorm.startsWith("dy/dx=")) {
                // try to move terms: dy/dx + ... = ...
                // For simplicity, require dy/dx=RHS
                throw new Error();
              }
              firstOrderForm = eqNorm;
            } else if (eqNorm.includes("y'")) {
              // assume y' = RHS
              if (!eqNorm.startsWith("y'=")) throw new Error();
              firstOrderForm = eqNorm.replace("y'", "dy/dx");
            } else {
              throw new Error();
            }

            const f = buildRHSFunction(firstOrderForm);
            if (!f) throw new Error("Could not build RHS function.");

            const x0 = parseFloat(icX0.value);
            const y0 = parseFloat(icY0.value);
            const xMin = parseFloat(numXmin.value);
            const xMax = parseFloat(numXmax.value);
            const stepsN = parseInt(numSteps.value, 10);

            if (
              !isFinite(x0) ||
              !isFinite(y0) ||
              !isFinite(xMin) ||
              !isFinite(xMax) ||
              !isFinite(stepsN) ||
              stepsN <= 0
            ) {
              throw new Error("Invalid numeric parameters.");
            }

            const data = rk4Solve(f, x0, y0, xMin, xMax, stepsN);
            numericCard.classList.remove("hidden");
            numericTableBody.innerHTML = data
              .filter(
                (_, idx) =>
                  idx % Math.max(1, Math.floor(data.length / 200)) === 0
              ) // thin rows if many
              .map(
                (row) => `
          <tr>
            <td class="px-2 py-1">${row.step}</td>
            <td class="px-2 py-1">${row.x.toFixed(5)}</td>
            <td class="px-2 py-1">${row.y.toExponential(6)}</td>
          </tr>
        `
              )
              .join("");

            setStatus(
              "Heuristic analysis complete. A descriptive symbolic explanation and a numerical solution have been generated.",
              "success"
            );
          } catch (e) {
            setStatus(
              "Symbolic analysis completed. Numerical solution could not be generated automatically from this equation form.",
              "info"
            );
          }
        } else {
          setStatus(
            "Heuristic symbolic analysis completed. For a numeric solution, provide a first-order equation and at least one initial condition.",
            "info"
          );
        }

        if (window.MathJax && window.MathJax.typesetPromise) {
          window.MathJax.typesetPromise();
        }
      });

      document.getElementById("numeric-btn").addEventListener("click", () => {
        clearStatus();
        clearResults();
        const raw = odeInput.value.trim();
        if (!raw) {
          setStatus(
            "Please enter a first-order differential equation in the form dy/dx = f(x,y) or y' = f(x,y).",
            "error"
          );
          return;
        }
        const info = analyzeEquation(raw);
        if (!info || info.order !== 1) {
          setStatus(
            "The quick numerical solver currently supports only first-order equations.",
            "error"
          );
          return;
        }
        if (icX0.value === "" || icY0.value === "") {
          setStatus(
            "Please provide at least one initial condition y(x₀) = y₀ for the numerical solver.",
            "error"
          );
          return;
        }

        try {
          const eqNorm = info.normalized;
          const sides = eqNorm.split("=");
          if (sides.length !== 2)
            throw new Error('Equation must contain exactly one "=" sign.');

          let firstOrderForm = eqNorm;
          if (eqNorm.includes("dy/dx")) {
            if (!eqNorm.startsWith("dy/dx=")) throw new Error();
            firstOrderForm = eqNorm;
          } else if (eqNorm.includes("y'")) {
            if (!eqNorm.startsWith("y'=")) throw new Error();
            firstOrderForm = eqNorm.replace("y'", "dy/dx");
          } else {
            throw new Error();
          }

          const f = buildRHSFunction(firstOrderForm);
          if (!f) throw new Error("Could not build RHS function.");

          const x0 = parseFloat(icX0.value);
          const y0 = parseFloat(icY0.value);
          const xMin = parseFloat(numXmin.value);
          const xMax = parseFloat(numXmax.value);
          const stepsN = parseInt(numSteps.value, 10);

          if (
            !isFinite(x0) ||
            !isFinite(y0) ||
            !isFinite(xMin) ||
            !isFinite(xMax) ||
            !isFinite(stepsN) ||
            stepsN <= 0
          ) {
            throw new Error("Invalid numeric parameters.");
          }

          const data = rk4Solve(f, x0, y0, xMin, xMax, stepsN);
          numericCard.classList.remove("hidden");
          numericTableBody.innerHTML = data
            .filter(
              (_, idx) => idx % Math.max(1, Math.floor(data.length / 200)) === 0
            )
            .map(
              (row) => `
        <tr>
          <td class="px-2 py-1">${row.step}</td>
          <td class="px-2 py-1">${row.x.toFixed(5)}</td>
          <td class="px-2 py-1">${row.y.toExponential(6)}</td>
        </tr>
      `
            )
            .join("");

          const steps = buildStepsText(info, "numeric");
          symbolicCard.classList.remove("hidden");
          symbolicMethodBadge.textContent = "Method: numerical (RK4)";
          generalSolutionEl.textContent =
            "A numerical approximation of the solution has been computed using the classical fourth-order Runge–Kutta method. " +
            "Use the table below to visualize or export the solution curve.";
          stepsContentEl.innerHTML = steps.map((s) => `<p>${s}</p>`).join("");

          setStatus("Numerical solution computed successfully.", "success");
        } catch (e) {
          console.error(e);
          setStatus(
            "Could not parse the equation into the required first-order form dy/dx = f(x,y). Please adjust the syntax.",
            "error"
          );
        }
      });

      // Download CSV
      document
        .getElementById("download-csv-btn")
        .addEventListener("click", () => {
          if (!numericTableBody.children.length) return;
          let csv = "step,x,y\n";
          Array.from(numericTableBody.children).forEach((tr) => {
            const tds = tr.querySelectorAll("td");
            if (tds.length === 3) {
              csv += `${tds[0].textContent},${tds[1].textContent},${tds[2].textContent}\n`;
            }
          });
          const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "differential-equation-solution.csv";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });

      // Example buttons
      document.querySelectorAll(".example-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          odeInput.value = btn.dataset.example;
          odeInput.dispatchEvent(new Event("input"));
          clearResults();
          clearStatus();
        });
      });

      document
        .getElementById("random-example-btn")
        .addEventListener("click", () => {
          const examples = Array.from(
            document.querySelectorAll(".example-btn")
          );
          if (!examples.length) return;
          const pick = examples[Math.floor(Math.random() * examples.length)];
          pick.click();
        });
    </script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
