<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Volume Calculator (Box, Cylinder, Sphere, Cone, Prism) | Convert to L, m³, ft³, gallons</title>
    <meta name="description" content="Free volume calculator for common 3D shapes: rectangular box, cylinder, sphere, cone, triangular prism and more. Enter dimensions in mm, cm, m or inches and get volume in m³, cm³, liters, ft³ and US gallons. Includes formulas and FAQ.">
    <link rel="canonical" href="https://calcdomain.com/volume-calculator">

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .card-hover { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .prose { max-width: 65ch; margin-left: auto; margin-right: auto; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .formula-box { background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
        .badge { display: inline-flex; align-items: center; gap: .4rem; background: #e0ecff; color: #1f4fff; font-size: .75rem; padding: .25rem .5rem; border-radius: 9999px; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: .75rem; }
        .dim-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: .75rem; }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <meta name="google-site-verification" content="_tiTZ9ivAdtXcAS9CMnTNJ549Sg39WVqP_ZFbWgglNA" />

    <script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
    <script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

    <script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
    <script>
        window.ezstandalone = window.ezstandalone || {};
        ezstandalone.cmd = ezstandalone.cmd || [];
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
            { "@type": "ListItem", "position": 2, "name": "Math & Conversions", "item": "https://calcdomain.com/math-conversions" },
            { "@type": "ListItem", "position": 3, "name": "Volume Calculator", "item": "https://calcdomain.com/volume-calculator" }
          ]
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "How do I calculate volume?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Volume depends on the shape. For a rectangular box use V = L × W × H. For a cylinder use V = π × r² × h. For a sphere use V = 4/3 × π × r³. This tool lets you pick the shape and enter dimensions in your preferred unit."
              }
            },
            {
              "@type": "Question",
              "name": "Which units does this volume calculator support?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "You can enter input in millimeters, centimeters, meters or inches. The calculator returns volume in cubic meters, cubic centimeters, liters, cubic feet and US gallons."
              }
            },
            {
              "@type": "Question",
              "name": "Can I use this to estimate tank capacity?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, if the tank is roughly a box, cylinder, cone or sphere you can use the corresponding shape. For complex industrial tanks, use manufacturer drawings or a tank-specific calculator."
              }
            }
          ]
        },
        {
          "@type": "HowTo",
          "name": "How to use the Volume Calculator",
          "step": [
            { "@type": "HowToStep", "name": "Choose shape", "text": "Pick the 3D geometric shape that matches your object (box, cylinder, sphere, cone, triangular prism)." },
            { "@type": "HowToStep", "name": "Set units", "text": "Select the unit for dimensions (mm, cm, m, in)." },
            { "@type": "HowToStep", "name": "Enter dimensions", "text": "Enter length, width, height or radius/diameter as required by the shape." },
            { "@type": "HowToStep", "name": "Calculate", "text": "Press calculate to get volume in multiple output units, including liters and US gallons." }
          ]
        }
      ]
    }
    </script>
</head>
<body class="bg-gray-50 text-gray-800">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
         crossorigin="anonymous"></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a href="https://calcdomain.com" class="text-2xl font-bold text-blue-600">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off" />
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a href="https://calcdomain.com/search" class="text-gray-700 hover:text-blue-600 transition-colors">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="text-gray-700 hover:text-blue-600 transition-colors">Categories</a>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex items-center gap-2">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li aria-hidden="true">/</li>
          <li><a href="https://calcdomain.com/math-conversions" class="text-blue-600 hover:underline">Math &amp; Conversions</a></li>
          <li aria-hidden="true">/</li>
          <li class="text-gray-500" aria-current="page">Volume Calculator</li>
        </ol>
      </nav>

      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <span class="badge mb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M9.5 2.5v6l-5 5 6 6 5-5h6"/></svg>
                Geometry / Solid
              </span>
              <h1 class="text-2xl md:text-3xl font-bold mb-2">Volume Calculator</h1>
              <p class="text-gray-600">Calculate the volume of common 3D shapes (box, cylinder, sphere, cone, triangular prism) and convert to liters, m³, ft³ and US gallons. Perfect for construction, shipping, tanks, science and everyday usage.</p>
            </header>

            <!-- Calculator -->
            <section aria-labelledby="volume-calculator" class="mb-8">
              <h2 id="volume-calculator" class="text-xl font-semibold mb-4">Calculator</h2>
              <div class="grid gap-4 md:grid-cols-2 mb-4">
                <div>
                  <label for="shape" class="block text-sm font-medium text-gray-700 mb-1">Shape</label>
                  <select id="shape" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="box" selected>Rectangular box / cuboid</option>
                    <option value="cylinder">Cylinder</option>
                    <option value="sphere">Sphere</option>
                    <option value="cone">Cone</option>
                    <option value="triangular_prism">Triangular prism</option>
                  </select>
                </div>
                <div>
                  <label for="unit" class="block text-sm font-medium text-gray-700 mb-1">Input unit</label>
                  <select id="unit" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="mm">millimeters (mm)</option>
                    <option value="cm">centimeters (cm)</option>
                    <option value="m" selected>meters (m)</option>
                    <option value="in">inches (in)</option>
                  </select>
                </div>
              </div>

              <!-- Dynamic dimensions -->
              <div id="dimensions" class="dim-grid mb-4">
                <!-- box defaults -->
                <div>
                  <label for="dim-length" class="block text-sm font-medium text-gray-700 mb-1">Length</label>
                  <input id="dim-length" type="number" min="0" step="any" value="2" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                  <label for="dim-width" class="block text-sm font-medium text-gray-700 mb-1">Width</label>
                  <input id="dim-width" type="number" min="0" step="any" value="1.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                  <label for="dim-height" class="block text-sm font-medium text-gray-700 mb-1">Height</label>
                  <input id="dim-height" type="number" min="0" step="any" value="1" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
              </div>

              <button id="calc-btn" class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Calculate volume</button>
            </section>

            <!-- Results -->
            <section aria-labelledby="results" class="mb-8">
              <h2 id="results" class="text-xl font-semibold mb-3">Results</h2>
              <div class="bg-blue-50 border border-blue-100 rounded-lg p-4">
                <p class="text-sm text-gray-600 mb-3">All volumes below are the same quantity expressed in different units.</p>
                <div class="results-grid">
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Cubic meters (m³)</p>
                    <p id="res-m3" class="text-2xl font-bold text-gray-900">—</p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Liters (L)</p>
                    <p id="res-l" class="text-2xl font-bold text-gray-900">—</p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Cubic centimeters (cm³)</p>
                    <p id="res-cm3" class="text-2xl font-bold text-gray-900">—</p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">Cubic feet (ft³)</p>
                    <p id="res-ft3" class="text-2xl font-bold text-gray-900">—</p>
                  </div>
                  <div>
                    <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">US gallons (gal)</p>
                    <p id="res-gal" class="text-2xl font-bold text-gray-900">—</p>
                  </div>
                </div>
              </div>
            </section>

            <!-- Quick reference table -->
            <section aria-labelledby="quick-table" class="mb-8">
              <h2 id="quick-table" class="text-xl font-semibold mb-3">Common volume formulas</h2>
              <div class="overflow-x-auto rounded-lg border border-gray-200">
                <table class="min-w-full divide-y divide-gray-200 text-sm">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-4 py-2 text-left font-semibold text-gray-700">Shape</th>
                      <th class="px-4 py-2 text-left font-semibold text-gray-700">Formula</th>
                      <th class="px-4 py-2 text-left font-semibold text-gray-700">Dimensions</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-100">
                    <tr>
                      <td class="px-4 py-2">Rectangular box</td>
                      <td class="px-4 py-2">V = L × W × H</td>
                      <td class="px-4 py-2">L = length, W = width, H = height</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-2">Cylinder</td>
                      <td class="px-4 py-2">V = π × r² × h</td>
                      <td class="px-4 py-2">r = radius, h = height</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-2">Sphere</td>
                      <td class="px-4 py-2">V = 4/3 × π × r³</td>
                      <td class="px-4 py-2">r = radius</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-2">Cone</td>
                      <td class="px-4 py-2">V = 1/3 × π × r² × h</td>
                      <td class="px-4 py-2">r = radius, h = height</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-2">Triangular prism</td>
                      <td class="px-4 py-2">V = (b × h<sub>tri</sub> / 2) × L</td>
                      <td class="px-4 py-2">b = base of triangle, h<sub>tri</sub> = triangle height, L = prism length</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <!-- Explanations -->
            <section class="prose">
              <h2>How this volume calculator works</h2>
              <p>This tool follows the same logic as popular sites like Calculator.net and Omni, but keeps the workflow to 3 steps: choose shape, enter dimensions, read volume in multiple units. The key advantage is that all unit conversions are handled automatically.</p>

              <h3>1. Normalize to meters</h3>
              <p>Whatever unit you choose (mm, cm, m, inches), the calculator converts every dimension to meters so that intermediate calculations are consistent.</p>

              <h3>2. Apply the geometric formula</h3>
              <p>The correct formula for the selected shape is applied:</p>
              <div class="formula-box">
                <p><strong>Box:</strong> \( V = L \times W \times H \)</p>
                <p><strong>Cylinder:</strong> \( V = \pi r^2 h \)</p>
                <p><strong>Sphere:</strong> \( V = \frac{4}{3} \pi r^3 \)</p>
                <p><strong>Cone:</strong> \( V = \frac{1}{3} \pi r^2 h \)</p>
                <p><strong>Triangular prism:</strong> \( V = \frac{b \times h_{tri}}{2} \times L \)</p>
              </div>

              <h3>3. Convert to user-friendly units</h3>
              <p>From cubic meters (m³) we derive:</p>
              <ul>
                <li><strong>Liters:</strong> 1 m³ = 1000 L</li>
                <li><strong>Cubic centimeters:</strong> 1 m³ = 1,000,000 cm³</li>
                <li><strong>Cubic feet:</strong> 1 m³ ≈ 35.3147 ft³</li>
                <li><strong>US gallons:</strong> 1 m³ ≈ 264.172 gal</li>
              </ul>

              <h2>FAQ</h2>
              <h3>Can I enter diameter instead of radius?</h3>
              <p>Yes: for cylinder, sphere and cone you can enter radius directly. If you have diameter, just divide by 2 before entering.</p>
              <h3>Is this accurate for construction material estimation?</h3>
              <p>Yes for regular shapes. For irregular or sloped shapes (roofs, truncated cones, L-shaped pools) you should break the volume into simpler solids and sum the results.</p>
            </section>
          </div>
        </main>

        <aside class="w-full lg:w-1/3">
          <div class="bg-white rounded-lg shadow-md p-4 mb-6">
            <h2 class="text-lg font-semibold mb-3">Related geometry calculators</h2>
            <ul class="space-y-2">
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/area">Area Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/cylinder-volume-calculator">Cylinder Volume Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/sphere-volume-calculator">Sphere Volume Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/cone-volume-calculator">Cone Volume Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/surface-area-calculator">Surface Area Calculator</a></li>
              <li><a class="text-blue-600 hover:underline" href="https://calcdomain.com/measurement-unit-conversions">Measurement Unit Conversions</a></li>
            </ul>
          </div>
          <div class="bg-white rounded-lg shadow-md p-4">
            <h2 class="text-lg font-semibold mb-3">About this calculator</h2>
            <p class="text-sm text-gray-600">Author: CalcDomain Geometry Desk<br>Reviewed: 6 November 2025<br>Category: Math &amp; Conversions → Generale</p>
          </div>
        </aside>
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/health-fitness" class="text-gray-400 hover:text-white">Health & Fitness</a></li>
              <li><a href="https://calcdomain.com/math-conversions" class="text-gray-400 hover:text-white">Math & Conversions</a></li>
              <li><a href="https://calcdomain.com/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle & Everyday</a></li>
              <li><a href="https://calcdomain.com/construction-diy" class="text-gray-400 hover:text-white">Construction & DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bmi-calculator" class="text-gray-400 hover:text-white">BMI Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>&copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/script_menu.js" defer></script>
    <script src="/assets/js/script_faq.js" defer></script>
    <script src="search.js" defer></script>

    <script>
      const shapeEl = document.getElementById('shape');
      const unitEl = document.getElementById('unit');
      const dimensionsEl = document.getElementById('dimensions');
      const resM3 = document.getElementById('res-m3');
      const resL = document.getElementById('res-l');
      const resCm3 = document.getElementById('res-cm3');
      const resFt3 = document.getElementById('res-ft3');
      const resGal = document.getElementById('res-gal');

      function buildDimensions(shape) {
        dimensionsEl.innerHTML = '';
        const addField = (id, label, def='') => {
          const wrap = document.createElement('div');
          wrap.innerHTML = `
            <label for="${id}" class="block text-sm font-medium text-gray-700 mb-1">${label}</label>
            <input id="${id}" type="number" min="0" step="any" value="${def}" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500">
          `;
          dimensionsEl.appendChild(wrap);
        };

        switch (shape) {
          case 'box':
            addField('dim-length', 'Length', '2');
            addField('dim-width', 'Width', '1.5');
            addField('dim-height', 'Height', '1');
            break;
          case 'cylinder':
            addField('dim-radius', 'Radius', '0.5');
            addField('dim-height', 'Height', '1.2');
            break;
          case 'sphere':
            addField('dim-radius', 'Radius', '0.75');
            break;
          case 'cone':
            addField('dim-radius', 'Radius', '0.5');
            addField('dim-height', 'Height', '1');
            break;
          case 'triangular_prism':
            addField('dim-base', 'Triangle base (b)', '1');
            addField('dim-tri-height', 'Triangle height (h)', '0.5');
            addField('dim-length', 'Prism length (L)', '2');
            break;
        }
      }

      buildDimensions(shapeEl.value);
      shapeEl.addEventListener('change', () => buildDimensions(shapeEl.value));

      function toMeters(value, unit) {
        const v = parseFloat(value);
        if (isNaN(v) || v < 0) return NaN;
        switch (unit) {
          case 'mm': return v / 1000;
          case 'cm': return v / 100;
          case 'm': return v;
          case 'in': return v * 0.0254;
          default: return v;
        }
      }

      function calculateVolume() {
        const shape = shapeEl.value;
        const unit = unitEl.value;

        let volume_m3 = 0;

        if (shape === 'box') {
          const L = toMeters(document.getElementById('dim-length').value, unit);
          const W = toMeters(document.getElementById('dim-width').value, unit);
          const H = toMeters(document.getElementById('dim-height').value, unit);
          if ([L,W,H].some(isNaN)) return;
          volume_m3 = L * W * H;
        } else if (shape === 'cylinder') {
          const r = toMeters(document.getElementById('dim-radius').value, unit);
          const h = toMeters(document.getElementById('dim-height').value, unit);
          if ([r,h].some(isNaN)) return;
          volume_m3 = Math.PI * r * r * h;
        } else if (shape === 'sphere') {
          const r = toMeters(document.getElementById('dim-radius').value, unit);
          if (isNaN(r)) return;
          volume_m3 = (4/3) * Math.PI * Math.pow(r, 3);
        } else if (shape === 'cone') {
          const r = toMeters(document.getElementById('dim-radius').value, unit);
          const h = toMeters(document.getElementById('dim-height').value, unit);
          if ([r,h].some(isNaN)) return;
          volume_m3 = (1/3) * Math.PI * r * r * h;
        } else if (shape === 'triangular_prism') {
          const b = toMeters(document.getElementById('dim-base').value, unit);
          const ht = toMeters(document.getElementById('dim-tri-height').value, unit);
          const L = toMeters(document.getElementById('dim-length').value, unit);
          if ([b,ht,L].some(isNaN)) return;
          const areaTri = (b * ht) / 2;
          volume_m3 = areaTri * L;
        }

        // conversions
        const LITERS_PER_M3 = 1000;
        const CM3_PER_M3 = 1_000_000;
        const FT3_PER_M3 = 35.3146667215;
        const GAL_PER_M3 = 264.172052358;

        const volL = volume_m3 * LITERS_PER_M3;
        const volCm3 = volume_m3 * CM3_PER_M3;
        const volFt3 = volume_m3 * FT3_PER_M3;
        const volGal = volume_m3 * GAL_PER_M3;

        resM3.textContent = volume_m3 > 0 ? volume_m3.toFixed(6) : '0';
        resL.textContent = volL > 0 ? volL.toFixed(2) : '0';
        resCm3.textContent = volCm3 > 0 ? volCm3.toFixed(0) : '0';
        resFt3.textContent = volFt3 > 0 ? volFt3.toFixed(4) : '0';
        resGal.textContent = volGal > 0 ? volGal.toFixed(3) : '0';
      }

      document.getElementById('calc-btn').addEventListener('click', calculateVolume);
      // initial calc
      calculateVolume();
    </script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$','$'], ['\\[','\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</body>
</html>
