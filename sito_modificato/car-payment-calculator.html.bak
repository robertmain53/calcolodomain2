<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/car-payment-calculator" />
    <title>Car Payment Calculator Guide [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Car Payment Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Car Payment Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Car Payment Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/car-payment-calculator" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Car Payment Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Car Payment Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "FinancialProduct",
        "name": "Car Payment Calculator",
        "description": "Interactive car payment calculator that estimates monthly auto loan payments, total interest, amortization schedule, and affordability based on price, down payment, trade-in, taxes, and fees.",
        "url": "https://calcdomain.com/car-payment-calculator",
        "category": "https://schema.org/LoanOrCredit",
        "serviceType": "Auto loan payment estimation",
        "provider": {
          "@type": "Organization",
          "name": "CalcDomain",
          "url": "https://calcdomain.com"
        }
      }</script>
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Automotive Calculators", "item": "https://calcdomain.com/subcategories/automotive"}, {"@type": "ListItem", "position": 4, "name": "Car Payment Calculator", "item": "https://calcdomain.com/car-payment-calculator"}]}</script>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How is a car payment calculated?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Most car loans are simple fixed-rate installment loans. The monthly payment is calculated using the standard loan amortization formula: Payment = r × P / (1 − (1 + r)^−n), where P is the amount financed after down payment, trade-in, taxes and fees; r is the monthly interest rate (APR ÷ 12); and n is the total number of monthly payments."
            }
          },
          {
            "@type": "Question",
            "name": "How much car can I afford based on my budget?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "A common rule of thumb is toour take-home pay. This calculator includes an affordability mode: enter your target monthly payment, APR, and term, and it will estimate the maximum car price you can afford."
            }
          },
          {
            "@type": "Question",
            "name": "Does this car payment calculator include taxes and fees?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. You can either enter your sales tax rate and let the calculator apply it to the taxable portion of the car price, or manually enter a dollar amount for additional fees such as documentation, registration, and extended warranties. These are added to the amount financed unless you choose to pay them upfront."
            }
          },
          {
            "@type": "Question",
            "name": "Is it better to choose a longer or shorter loan term?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Shorter terms usually mean higher monthly payments but much less total interest paid and less risk of being upside-down on your loan. Longer terms lower the monthly payment but increase total interest and keep you in debt longer. Use the comparison tab in this calculator to see the trade-offs between two different terms side-by-side."
            }
          },
          {
            "@type": "Question",
            "name": "How does my credit score affect my car payment?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Your credit score strongly influences the APR you are offered. Higher scores usually qualify for lower interest rates, which can save thousands over the life of a loan. In this calculator you can quickly test different APRs to see how much a better or worse rate would change your monthly payment and total interest."
            }
          }
        ]
      }</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/automotive" class="text-blue-600 hover:underline">Automotive Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Car Payment Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <section aria-labelledby="car-payment-calculator-heading">
              <div class="mb-6">
                <h1
                  id="car-payment-calculator-heading"
                  class="text-2xl md:text-3xl font-bold mb-2"
                >
                  Car Payment Calculator
                </h1>
                <p class="text-gray-700">
                  Estimate your monthly car payment, total interest, and true
                  out‑the‑door cost. Compare two loan options side‑by‑side and
                  switch between “Payment” and “Affordability” modes.
                </p>
              </div>

              <div class="mb-6">
                <div
                  class="inline-flex rounded-md shadow-sm border border-gray-200 overflow-hidden"
                  role="tablist"
                >
                  <button
                    id="mode-payment"
                    type="button"
                    role="tab"
                    aria-selected="true"
                    class="px-4 py-2 text-sm font-medium bg-blue-600 text-white focus:outline-none"
                  >
                    Payment mode
                  </button>
                  <button
                    id="mode-affordability"
                    type="button"
                    role="tab"
                    aria-selected="false"
                    class="px-4 py-2 text-sm font-medium bg-white text-gray-700 hover:bg-gray-50 focus:outline-none"
                  >
                    Affordability mode
                  </button>
                </div>
              </div>

              <!-- PAYMENT MODE -->
              <div id="payment-mode-panel">
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                  <div>
                    <h2 class="text-lg font-semibold mb-3">
                      Car & loan details
                    </h2>
                    <div class="space-y-3">
                      <div>
                        <label
                          for="price"
                          class="block text-sm font-medium text-gray-700"
                          >Car price</label
                        >
                        <div class="mt-1 flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="price"
                            type="number"
                            min="0"
                            step="100"
                            class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="35000"
                          />
                        </div>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="downPayment"
                            class="block text-sm font-medium text-gray-700"
                            >Down payment</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="downPayment"
                              type="number"
                              min="0"
                              step="100"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="5000"
                            />
                          </div>
                        </div>
                        <div>
                          <label
                            for="tradeIn"
                            class="block text-sm font-medium text-gray-700"
                            >Trade‑in value</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="tradeIn"
                              type="number"
                              min="0"
                              step="100"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="0"
                            />
                          </div>
                        </div>
                      </div>

                      <div>
                        <label
                          for="amountOwedOnTrade"
                          class="block text-sm font-medium text-gray-700"
                          >Amount still owed on trade‑in (if any)</label
                        >
                        <div class="mt-1 flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="amountOwedOnTrade"
                            type="number"
                            min="0"
                            step="100"
                            class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="0"
                          />
                        </div>
                        <p class="text-xs text-gray-500 mt-1">
                          Negative equity (if owed &gt; trade‑in) will be rolled
                          into the new loan.
                        </p>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="salesTaxRate"
                            class="block text-sm font-medium text-gray-700"
                            >Sales tax rate</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="salesTaxRate"
                              type="number"
                              min="0"
                              step="0.1"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="7.0"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >%</span
                            >
                          </div>
                        </div>
                        <div>
                          <label
                            for="fees"
                            class="block text-sm font-medium text-gray-700"
                            >Fees (doc, registration, etc.)</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="fees"
                              type="number"
                              min="0"
                              step="50"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="800"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="apr"
                            class="block text-sm font-medium text-gray-700"
                            >APR (interest rate)</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="apr"
                              type="number"
                              min="0"
                              step="0.1"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="5.5"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >%</span
                            >
                          </div>
                        </div>
                        <div>
                          <label
                            for="termMonths"
                            class="block text-sm font-medium text-gray-700"
                            >Term</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="termMonths"
                              type="number"
                              min="12"
                              step="12"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="60"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >months</span
                            >
                          </div>
                        </div>
                      </div>

                      <div class="flex items-center mt-2">
                        <input
                          id="includeInsurance"
                          type="checkbox"
                          class="h-4 w-4 text-blue-600 border-gray-300 rounded"
                        />
                        <label
                          for="includeInsurance"
                          class="ml-2 text-sm text-gray-700"
                          >Estimate monthly insurance</label
                        >
                      </div>
                      <div id="insurance-row" class="hidden">
                        <label
                          for="insuranceMonthly"
                          class="block text-sm font-medium text-gray-700 mt-2"
                          >Estimated monthly insurance</label
                        >
                        <div class="mt-1 flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="insuranceMonthly"
                            type="number"
                            min="0"
                            step="5"
                            class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="150"
                          />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div>
                    <h2 class="text-lg font-semibold mb-3">Results</h2>
                    <div class="space-y-3">
                      <div
                        class="bg-blue-50 border border-blue-100 rounded-lg p-4"
                      >
                        <p class="text-sm text-gray-600 mb-1">
                          Estimated monthly car payment
                        </p>
                        <p
                          id="resultMonthlyPayment"
                          class="text-3xl font-bold text-blue-700"
                        >
                          $0
                        </p>
                        <p
                          id="resultMonthlyWithInsurance"
                          class="text-sm text-gray-700 mt-1 hidden"
                        >
                          With insurance:
                          <span class="font-semibold" id="resultMonthlyTotal"
                            >$0</span
                          >/month
                        </p>
                      </div>

                      <div class="grid grid-cols-2 gap-3 text-sm">
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">Amount financed</p>
                          <p
                            id="resultAmountFinanced"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">Total of payments</p>
                          <p
                            id="resultTotalPaid"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">Total interest</p>
                          <p
                            id="resultTotalInterest"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">
                            Estimated out‑the‑door cost
                          </p>
                          <p
                            id="resultOutTheDoor"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                      </div>

                      <div>
                        <label
                          for="extraPayment"
                          class="block text-sm font-medium text-gray-700"
                          >Optional extra principal per month</label
                        >
                        <div class="mt-1 flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="extraPayment"
                            type="number"
                            min="0"
                            step="10"
                            class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="0"
                          />
                        </div>
                        <p class="text-xs text-gray-500 mt-1">
                          See how paying extra each month shortens your loan and
                          reduces interest.
                        </p>
                      </div>

                      <div
                        class="bg-green-50 border border-green-100 rounded-lg p-3 text-sm"
                      >
                        <p class="text-gray-700 mb-1">With extra payments</p>
                        <p class="flex justify-between">
                          <span>Loan paid off in:</span>
                          <span id="resultExtraTerm">–</span>
                        </p>
                        <p class="flex justify-between">
                          <span>Interest saved:</span>
                          <span id="resultExtraInterestSaved">–</span>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Comparison -->
                <div class="mt-8 border-t pt-6">
                  <h2 class="text-lg font-semibold mb-3">
                    Compare two loan options
                  </h2>
                  <p class="text-sm text-gray-600 mb-4">
                    Quickly see how different terms or APRs change your payment
                    and total interest.
                  </p>
                  <div class="grid md:grid-cols-2 gap-4 text-sm">
                    <div class="border rounded-lg p-4">
                      <h3 class="font-semibold mb-2">Option A</h3>
                      <div class="space-y-2">
                        <div>
                          <label
                            for="cmpAprA"
                            class="block text-xs text-gray-700"
                            >APR (%)</label
                          >
                          <input
                            id="cmpAprA"
                            type="number"
                            min="0"
                            step="0.1"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="4.5"
                          />
                        </div>
                        <div>
                          <label
                            for="cmpTermA"
                            class="block text-xs text-gray-700"
                            >Term (months)</label
                          >
                          <input
                            id="cmpTermA"
                            type="number"
                            min="12"
                            step="12"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="48"
                          />
                        </div>
                        <div
                          class="mt-2 bg-gray-50 border border-gray-200 rounded-md p-2"
                        >
                          <p>
                            Payment:
                            <span id="cmpPaymentA" class="font-semibold"
                              >$0</span
                            >
                          </p>
                          <p>
                            Total interest:
                            <span id="cmpInterestA" class="font-semibold"
                              >$0</span
                            >
                          </p>
                        </div>
                      </div>
                    </div>
                    <div class="border rounded-lg p-4">
                      <h3 class="font-semibold mb-2">Option B</h3>
                      <div class="space-y-2">
                        <div>
                          <label
                            for="cmpAprB"
                            class="block text-xs text-gray-700"
                            >APR (%)</label
                          >
                          <input
                            id="cmpAprB"
                            type="number"
                            min="0"
                            step="0.1"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="6.5"
                          />
                        </div>
                        <div>
                          <label
                            for="cmpTermB"
                            class="block text-xs text-gray-700"
                            >Term (months)</label
                          >
                          <input
                            id="cmpTermB"
                            type="number"
                            min="12"
                            step="12"
                            class="mt-1 block w-full rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="72"
                          />
                        </div>
                        <div
                          class="mt-2 bg-gray-50 border border-gray-200 rounded-md p-2"
                        >
                          <p>
                            Payment:
                            <span id="cmpPaymentB" class="font-semibold"
                              >$0</span
                            >
                          </p>
                          <p>
                            Total interest:
                            <span id="cmpInterestB" class="font-semibold"
                              >$0</span
                            >
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Amortization table -->
                <div class="mt-8 border-t pt-6">
                  <details open>
                    <summary
                      class="cursor-pointer text-sm font-semibold text-gray-800 mb-2"
                    >
                      Amortization schedule (first 24 months)
                    </summary>
                    <div class="overflow-x-auto border rounded-lg">
                      <table class="min-w-full text-xs">
                        <thead class="bg-gray-100">
                          <tr>
                            <th
                              class="px-2 py-1 text-left font-semibold text-gray-700"
                            >
                              Month
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Payment
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Principal
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Interest
                            </th>
                            <th
                              class="px-2 py-1 text-right font-semibold text-gray-700"
                            >
                              Balance
                            </th>
                          </tr>
                        </thead>
                        <tbody id="amortizationBody"></tbody>
                      </table>
                    </div>
                  </details>
                </div>
              </div>

              <!-- AFFORDABILITY MODE -->
              <div id="affordability-mode-panel" class="hidden mt-4">
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                  <div>
                    <h2 class="text-lg font-semibold mb-3">
                      Affordability inputs
                    </h2>
                    <div class="space-y-3">
                      <div>
                        <label
                          for="affMonthlyBudget"
                          class="block text-sm font-medium text-gray-700"
                          >Target monthly payment (car only)</label
                        >
                        <div class="mt-1 flex rounded-md shadow-sm">
                          <span
                            class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                            >$</span
                          >
                          <input
                            id="affMonthlyBudget"
                            type="number"
                            min="0"
                            step="10"
                            class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                            value="500"
                          />
                        </div>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="affApr"
                            class="block text-sm font-medium text-gray-700"
                            >APR</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="affApr"
                              type="number"
                              min="0"
                              step="0.1"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="5.5"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >%</span
                            >
                          </div>
                        </div>
                        <div>
                          <label
                            for="affTermMonths"
                            class="block text-sm font-medium text-gray-700"
                            >Term</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="affTermMonths"
                              type="number"
                              min="12"
                              step="12"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="60"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >months</span
                            >
                          </div>
                        </div>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="affDownPayment"
                            class="block text-sm font-medium text-gray-700"
                            >Down payment</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="affDownPayment"
                              type="number"
                              min="0"
                              step="100"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="5000"
                            />
                          </div>
                        </div>
                        <div>
                          <label
                            for="affTradeInNet"
                            class="block text-sm font-medium text-gray-700"
                            >Net trade‑in (value − payoff)</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="affTradeInNet"
                              type="number"
                              step="100"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="0"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="grid grid-cols-2 gap-3">
                        <div>
                          <label
                            for="affSalesTaxRate"
                            class="block text-sm font-medium text-gray-700"
                            >Sales tax rate</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <input
                              id="affSalesTaxRate"
                              type="number"
                              min="0"
                              step="0.1"
                              class="flex-1 block w-full rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="7.0"
                            />
                            <span
                              class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500"
                              >%</span
                            >
                          </div>
                        </div>
                        <div>
                          <label
                            for="affFees"
                            class="block text-sm font-medium text-gray-700"
                            >Fees (added to loan)</label
                          >
                          <div class="mt-1 flex rounded-md shadow-sm">
                            <span
                              class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500"
                              >$</span
                            >
                            <input
                              id="affFees"
                              type="number"
                              min="0"
                              step="50"
                              class="flex-1 block w-full rounded-none rounded-r-md border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                              value="800"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div>
                    <h2 class="text-lg font-semibold mb-3">
                      What you can afford
                    </h2>
                    <div class="space-y-3">
                      <div
                        class="bg-blue-50 border border-blue-100 rounded-lg p-4"
                      >
                        <p class="text-sm text-gray-600 mb-1">
                          Maximum car price you can afford
                        </p>
                        <p
                          id="affResultMaxPrice"
                          class="text-3xl font-bold text-blue-700"
                        >
                          $0
                        </p>
                      </div>
                      <div class="grid grid-cols-2 gap-3 text-sm">
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">Amount financed</p>
                          <p
                            id="affResultAmountFinanced"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                        <div
                          class="bg-gray-50 border border-gray-200 rounded-lg p-3"
                        >
                          <p class="text-gray-500">Total interest</p>
                          <p
                            id="affResultTotalInterest"
                            class="font-semibold text-gray-800"
                          >
                            $0
                          </p>
                        </div>
                      </div>
                      <p class="text-xs text-gray-500">
                        Tip: Many advisors suggest keeping your car payment
                        under 10–15% of your take‑home pay and total car costs
                        (including insurance and fuel) under ~20%.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="prose mt-10">
              <h2>How this car payment calculator works</h2>
              <p>
                This tool uses the standard loan amortization formula used by
                banks and credit unions to compute fixed monthly payments on an
                auto loan.
              </p>

              <div class="formula-box">
                <p class="font-semibold mb-1">Monthly payment formula</p>
                <p>Let:</p>
                <ul>
                  <li><strong>P</strong> = amount financed (loan principal)</li>
                  <li>
                    <strong>APR</strong> = annual percentage rate (as a decimal,
                    e.g. 6% → 0.06)
                  </li>
                  <li><strong>r</strong> = monthly interest rate = APR ÷ 12</li>
                  <li>
                    <strong>n</strong> = total number of monthly payments (term
                    in months)
                  </li>
                </ul>
                <p>Then the monthly payment is:</p>
                <p><code>Payment = r × P / (1 − (1 + r)<sup>−n</sup>)</code></p>
              </div>

              <h3>Step 1 – Calculate the amount financed</h3>
              <p>
                The calculator first determines how much you are actually
                borrowing:
              </p>
              <ul>
                <li><strong>Car price</strong></li>
                <li>− <strong>Down payment</strong></li>
                <li>− <strong>Trade‑in value</strong></li>
                <li>
                  + <strong>Amount still owed on trade‑in</strong> (negative
                  equity rolled in)
                </li>
                <li>
                  + <strong>Sales tax</strong> (price minus down payment, times
                  tax rate – this can vary by state)
                </li>
                <li>
                  + <strong>Fees</strong> (documentation, registration, etc., if
                  financed)
                </li>
              </ul>
              <p>
                The result is the <strong>amount financed</strong>, which is
                used as <strong>P</strong> in the payment formula.
              </p>

              <h3>Step 2 – Apply the loan formula</h3>
              <p>Using your APR and term, the calculator computes:</p>
              <ul>
                <li><strong>Monthly payment</strong> (principal + interest)</li>
                <li>
                  <strong>Total of payments</strong> = monthly payment × number
                  of months
                </li>
                <li>
                  <strong>Total interest</strong> = total of payments − amount
                  financed
                </li>
              </ul>

              <h3>Step 3 – Extra payments and payoff time</h3>
              <p>
                If you add an extra amount toward principal each month, the
                calculator simulates the loan month‑by‑month to estimate:
              </p>
              <ul>
                <li>How many months earlier the loan will be paid off</li>
                <li>
                  How much interest you will save compared with the standard
                  schedule
                </li>
              </ul>

              <h2>Understanding each input</h2>
              <h3>Car price</h3>
              <p>
                The negotiated purchase price of the vehicle before taxes and
                fees. This is usually the “sale price” on the purchase
                agreement, not the MSRP.
              </p>

              <h3>Down payment</h3>
              <p>Cash you pay upfront. A larger down payment:</p>
              <ul>
                <li>Reduces the amount financed</li>
                <li>Lowers your monthly payment</li>
                <li>
                  Reduces the risk of being “upside‑down” (owing more than the
                  car is worth)
                </li>
              </ul>

              <h3>Trade‑in value and amount owed</h3>
              <p>If you trade in your current car:</p>
              <ul>
                <li>
                  <strong>Trade‑in value</strong> is what the dealer pays for
                  your old car.
                </li>
                <li>
                  <strong>Amount still owed</strong> is your remaining loan
                  balance on that car.
                </li>
              </ul>
              <p>
                If you owe more than the trade‑in value, the difference is
                <strong>negative equity</strong> and is added to your new loan.
              </p>

              <h3>Sales tax and fees</h3>
              <p>
                Sales tax is usually applied to the purchase price minus
                trade‑in and sometimes minus down payment, depending on local
                rules. Fees can include:
              </p>
              <ul>
                <li>Dealer documentation fee</li>
                <li>Title and registration</li>
                <li>Emission or inspection fees</li>
                <li>Optional add‑ons (warranties, GAP, etc.)</li>
              </ul>

              <h3>APR and term</h3>
              <ul>
                <li>
                  <strong>APR</strong> is the annual interest rate on your loan.
                </li>
                <li>
                  <strong>Term</strong> is the length of the loan in months
                  (e.g. 36, 48, 60, 72).
                </li>
              </ul>
              <p>
                Shorter terms mean higher payments but much less total interest.
                Longer terms lower the payment but cost more overall.
              </p>

              <h2>Tips for choosing the right car loan</h2>
              <ul>
                <li>
                  <strong>Shop the rate</strong> – Get quotes from banks, credit
                  unions, and online lenders, not just the dealer.
                </li>
                <li>
                  <strong>Avoid very long terms</strong> – 72–84 month loans can
                  keep you upside‑down for years.
                </li>
                <li>
                  <strong>Consider total cost, not just payment</strong> – Use
                  the calculator to see total interest and out‑the‑door cost.
                </li>
                <li>
                  <strong>Pay extra when you can</strong> – Even small extra
                  principal payments can save hundreds in interest.
                </li>
              </ul>

              <h2>FAQ</h2>

              <h3>Can I use this for used cars?</h3>
              <p>
                Yes. The math is the same for new and used vehicles. Just enter
                the actual purchase price and the APR and term your lender
                offers for used cars.
              </p>

              <h3>Does this calculator include insurance and fuel?</h3>
              <p>
                It can optionally include an estimated monthly insurance cost to
                show your <strong>total car outlay</strong>, but it does not
                model fuel or maintenance. You can mentally add those to see
                your full transportation budget.
              </p>

              <h3>Why is my dealer payment different?</h3>
              <p>
                Dealers may include additional products (GAP, warranties), use
                slightly different tax rules, or quote a different APR. Use this
                calculator as a benchmark and ask the dealer to explain any
                differences line‑by‑line.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Car, Payment, Calculator.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Finance Calculators
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-blue-600 hover:underline"
                  >Auto Loan & Affordability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-lease-calculator"
                  class="text-blue-600 hover:underline"
                  >Auto Lease Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-blue-600 hover:underline"
                  >Mortgage Payment Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/loan-amortization-calculator"
                  class="text-blue-600 hover:underline"
                  >Advanced Loan Amortization</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/credit-card-payoff-calculator"
                  class="text-blue-600 hover:underline"
                  >Credit Card Payoff Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dti-ratio"
                  class="text-blue-600 hover:underline"
                  >Debt‑to‑Income (DTI) Ratio</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/50-30-20-budget"
                  class="text-blue-600 hover:underline"
                  >50/30/20 Budget Calculator</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">More from Finance</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/compound-interest-calculator"
                  class="text-blue-600 hover:underline"
                  >Compound Interest</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/inflation"
                  class="text-blue-600 hover:underline"
                  >Inflation Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-blue-600 hover:underline"
                  >House Affordability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/paycheck"
                  class="text-blue-600 hover:underline"
                  >Paycheck Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/retirement"
                  class="text-blue-600 hover:underline"
                  >Retirement Planner</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      function formatCurrency(value) {
        if (!isFinite(value)) return "$0";
        return value.toLocaleString(undefined, {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 2,
        });
      }

      function calcMonthlyPayment(P, apr, n) {
        const r = apr / 100 / 12;
        if (n <= 0) return 0;
        if (r === 0) return P / n;
        return (r * P) / (1 - Math.pow(1 + r, -n));
      }

      function buildAmortization(P, apr, n, extra) {
        const r = apr / 100 / 12;
        const schedule = [];
        let balance = P;
        const basePayment = calcMonthlyPayment(P, apr, n);
        let month = 1;
        let totalInterest = 0;

        while (balance > 0.01 && month <= n + 360) {
          const interest = balance * r;
          let principal = basePayment - interest + extra;
          if (principal > balance) {
            principal = balance;
          }
          const payment = principal + interest;
          balance -= principal;
          totalInterest += interest;
          schedule.push({
            month,
            payment,
            principal,
            interest,
            balance: Math.max(balance, 0),
          });
          month++;
          if (month > 600) break; // safety cap
        }
        return { schedule, totalInterest, months: schedule.length };
      }

      function updateCalculator() {
        // Inputs
        const price = parseFloat(document.getElementById("price").value) || 0;
        const down =
          parseFloat(document.getElementById("downPayment").value) || 0;
        const tradeIn =
          parseFloat(document.getElementById("tradeIn").value) || 0;
        const owed =
          parseFloat(document.getElementById("amountOwedOnTrade").value) || 0;
        const taxRate =
          parseFloat(document.getElementById("salesTaxRate").value) || 0;
        const fees = parseFloat(document.getElementById("fees").value) || 0;
        const apr = parseFloat(document.getElementById("apr").value) || 0;
        const term =
          parseInt(document.getElementById("termMonths").value, 10) || 0;
        const extra =
          parseFloat(document.getElementById("extraPayment").value) || 0;
        const includeInsurance =
          document.getElementById("includeInsurance").checked;
        const insuranceMonthly =
          parseFloat(document.getElementById("insuranceMonthly").value) || 0;

        const netTrade = tradeIn - owed;
        const taxableBase = Math.max(price - tradeIn, 0); // conservative; rules vary by state
        const taxAmount = taxableBase * (taxRate / 100);
        const amountFinanced = Math.max(
          price - down - tradeIn + owed + taxAmount + fees,
          0
        );
        const outTheDoor = price + taxAmount + fees;

        const monthly = calcMonthlyPayment(amountFinanced, apr, term);
        const totalPaid = monthly * term;
        const totalInterest = totalPaid - amountFinanced;

        document.getElementById("resultMonthlyPayment").textContent =
          formatCurrency(monthly);
        document.getElementById("resultAmountFinanced").textContent =
          formatCurrency(amountFinanced);
        document.getElementById("resultTotalPaid").textContent =
          formatCurrency(totalPaid);
        document.getElementById("resultTotalInterest").textContent =
          formatCurrency(totalInterest);
        document.getElementById("resultOutTheDoor").textContent =
          formatCurrency(outTheDoor);

        const monthlyWithInsuranceRow = document.getElementById(
          "resultMonthlyWithInsurance"
        );
        const monthlyTotalSpan = document.getElementById("resultMonthlyTotal");
        if (includeInsurance && insuranceMonthly > 0) {
          monthlyWithInsuranceRow.classList.remove("hidden");
          monthlyTotalSpan.textContent = formatCurrency(
            monthly + insuranceMonthly
          );
        } else {
          monthlyWithInsuranceRow.classList.add("hidden");
        }

        // Extra payment simulation
        const extraInfoTerm = document.getElementById("resultExtraTerm");
        const extraInfoSaved = document.getElementById(
          "resultExtraInterestSaved"
        );
        if (extra > 0 && amountFinanced > 0 && term > 0) {
          const base = buildAmortization(amountFinanced, apr, term, 0);
          const withExtra = buildAmortization(amountFinanced, apr, term, extra);
          const monthsSaved = base.months - withExtra.months;
          const interestSaved = base.totalInterest - withExtra.totalInterest;
          extraInfoTerm.textContent =
            monthsSaved > 0
              ? `${withExtra.months} months (${monthsSaved} months sooner)`
              : `${withExtra.months} months`;
          extraInfoSaved.textContent =
            interestSaved > 0 ? formatCurrency(interestSaved) : "$0";
        } else {
          extraInfoTerm.textContent = "–";
          extraInfoSaved.textContent = "–";
        }

        // Comparison
        const cmpAprA =
          parseFloat(document.getElementById("cmpAprA").value) || 0;
        const cmpTermA =
          parseInt(document.getElementById("cmpTermA").value, 10) || 0;
        const cmpAprB =
          parseFloat(document.getElementById("cmpAprB").value) || 0;
        const cmpTermB =
          parseInt(document.getElementById("cmpTermB").value, 10) || 0;

        const payA = calcMonthlyPayment(amountFinanced, cmpAprA, cmpTermA);
        const totA = payA * cmpTermA;
        const intA = totA - amountFinanced;

        const payB = calcMonthlyPayment(amountFinanced, cmpAprB, cmpTermB);
        const totB = payB * cmpTermB;
        const intB = totB - amountFinanced;

        document.getElementById("cmpPaymentA").textContent =
          formatCurrency(payA);
        document.getElementById("cmpInterestA").textContent = isFinite(intA)
          ? formatCurrency(intA)
          : "$0";
        document.getElementById("cmpPaymentB").textContent =
          formatCurrency(payB);
        document.getElementById("cmpInterestB").textContent = isFinite(intB)
          ? formatCurrency(intB)
          : "$0";

        // Amortization (first 24 months)
        const amortBody = document.getElementById("amortizationBody");
        amortBody.innerHTML = "";
        if (amountFinanced > 0 && term > 0) {
          const schedule = buildAmortization(
            amountFinanced,
            apr,
            term,
            0
          ).schedule;
          schedule.slice(0, 24).forEach((row) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
          <td class="px-2 py-1 text-gray-700">${row.month}</td>
          <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            row.payment
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            row.principal
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            row.interest
          )}</td>
          <td class="px-2 py-1 text-right text-gray-700">${formatCurrency(
            row.balance
          )}</td>
        `;
            amortBody.appendChild(tr);
          });
        }

        // Affordability update (if visible)
        updateAffordability();
      }

      function updateAffordability() {
        const budget =
          parseFloat(document.getElementById("affMonthlyBudget").value) || 0;
        const apr = parseFloat(document.getElementById("affApr").value) || 0;
        const term =
          parseInt(document.getElementById("affTermMonths").value, 10) || 0;
        const down =
          parseFloat(document.getElementById("affDownPayment").value) || 0;
        const netTrade =
          parseFloat(document.getElementById("affTradeInNet").value) || 0;
        const taxRate =
          parseFloat(document.getElementById("affSalesTaxRate").value) || 0;
        const fees = parseFloat(document.getElementById("affFees").value) || 0;

        if (budget <= 0 || term <= 0) {
          document.getElementById("affResultMaxPrice").textContent = "$0";
          document.getElementById("affResultAmountFinanced").textContent = "$0";
          document.getElementById("affResultTotalInterest").textContent = "$0";
          return;
        }

        const r = apr / 100 / 12;
        let P;
        if (r === 0) {
          P = budget * term;
        } else {
          P = (budget * (1 - Math.pow(1 + r, -term))) / r;
        }

        const amountFinanced = Math.max(P - fees, 0);
        const taxableBase = amountFinanced + down + netTrade; // approximate
        const taxAmount = taxableBase * (taxRate / 100);
        const maxPrice = amountFinanced + down + netTrade - taxAmount;

        const totalPaid = budget * term;
        const totalInterest = totalPaid - amountFinanced;

        document.getElementById("affResultMaxPrice").textContent =
          formatCurrency(maxPrice);
        document.getElementById("affResultAmountFinanced").textContent =
          formatCurrency(amountFinanced);
        document.getElementById("affResultTotalInterest").textContent =
          isFinite(totalInterest) ? formatCurrency(totalInterest) : "$0";
      }

      function toggleMode(mode) {
        const paymentPanel = document.getElementById("payment-mode-panel");
        const affPanel = document.getElementById("affordability-mode-panel");
        const btnPayment = document.getElementById("mode-payment");
        const btnAff = document.getElementById("mode-affordability");

        if (mode === "payment") {
          paymentPanel.classList.remove("hidden");
          affPanel.classList.add("hidden");
          btnPayment.classList.add("bg-blue-600", "text-white");
          btnPayment.classList.remove("bg-white", "text-gray-700");
          btnAff.classList.remove("bg-blue-600", "text-white");
          btnAff.classList.add("bg-white", "text-gray-700");
          btnPayment.setAttribute("aria-selected", "true");
          btnAff.setAttribute("aria-selected", "false");
        } else {
          paymentPanel.classList.add("hidden");
          affPanel.classList.remove("hidden");
          btnAff.classList.add("bg-blue-600", "text-white");
          btnAff.classList.remove("bg-white", "text-gray-700");
          btnPayment.classList.remove("bg-blue-600", "text-white");
          btnPayment.classList.add("bg-white", "text-gray-700");
          btnAff.setAttribute("aria-selected", "true");
          btnPayment.setAttribute("aria-selected", "false");
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        const idsToWatch = [
          "price",
          "downPayment",
          "tradeIn",
          "amountOwedOnTrade",
          "salesTaxRate",
          "fees",
          "apr",
          "termMonths",
          "extraPayment",
          "cmpAprA",
          "cmpTermA",
          "cmpAprB",
          "cmpTermB",
          "includeInsurance",
          "insuranceMonthly",
        ];
        idsToWatch.forEach((id) => {
          const el = document.getElementById(id);
          if (!el) return;
          el.addEventListener("input", updateCalculator);
          el.addEventListener("change", updateCalculator);
        });

        document
          .getElementById("includeInsurance")
          .addEventListener("change", function () {
            const row = document.getElementById("insurance-row");
            if (this.checked) {
              row.classList.remove("hidden");
            } else {
              row.classList.add("hidden");
            }
            updateCalculator();
          });

        const affIds = [
          "affMonthlyBudget",
          "affApr",
          "affTermMonths",
          "affDownPayment",
          "affTradeInNet",
          "affSalesTaxRate",
          "affFees",
        ];
        affIds.forEach((id) => {
          const el = document.getElementById(id);
          if (!el) return;
          el.addEventListener("input", updateAffordability);
          el.addEventListener("change", updateAffordability);
        });

        document
          .getElementById("mode-payment")
          .addEventListener("click", () => toggleMode("payment"));
        document
          .getElementById("mode-affordability")
          .addEventListener("click", () => toggleMode("affordability"));

        updateCalculator();
      });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
