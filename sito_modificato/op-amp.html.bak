<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/op-amp" />
    
    
    <title>Op Amp Calculator Guide [Exclusive 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Op Amp Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." /> />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Op Amp Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Op Amp Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/op-amp" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Op Amp Calculator Guide [Exclusive 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Op Amp Calculator Guide fast with our exclusive tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Engineering", "item": "https://calcdomain.com/categories/engineering"}, {"@type": "ListItem", "position": 3, "name": "Electrical", "item": "https://calcdomain.com/subcategories/electrical"}, {"@type": "ListItem", "position": 4, "name": "Op Amp Calculator (Inverting, Non\u2011Inverting, Summing,\n                Differential)", "item": "https://calcdomain.com/op-amp"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/engineering" class="text-blue-600 hover:underline">Engineering</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/electrical" class="text-blue-600 hover:underline">Electrical</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Op Amp Calculator (Inverting, Non‑Inverting, Summing,
                Differential)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Op Amp Calculator (Inverting, Non‑Inverting, Summing,
                Differential)
              </h1>
              <p class="text-gray-600">
                Design and analyze common operational amplifier circuits. Choose
                a topology, enter resistor values and input voltages, and
                instantly get gain, output voltage and suggested resistor
                values.
              </p>
            </header>

            <!-- Topology selector -->
            <section class="mb-6">
              <label
                for="topology"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Configuration</label
              >
              <select
                id="topology"
                class="w-full md:w-80 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="inverting">Inverting amplifier</option>
                <option value="noninverting">Non‑inverting amplifier</option>
                <option value="summing">Summing amplifier (2 inputs)</option>
                <option value="differential">Differential amplifier</option>
                <option value="comparator">Comparator (ideal)</option>
              </select>
              <p class="mt-2 text-xs text-gray-500">
                Ideal op amp assumptions: infinite open‑loop gain, infinite
                input impedance, zero output impedance, and operation within the
                supply rails.
              </p>
            </section>

            <!-- Supply rails -->
            <section class="mb-4 grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 mb-1"
                  for="vplus"
                  >Positive supply \(V_{+}\)</label
                >
                <div class="flex items-center gap-2">
                  <input
                    id="vplus"
                    type="number"
                    step="0.1"
                    value="15"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <span class="text-sm text-gray-600">V</span>
                </div>
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-gray-700 mb-1"
                  for="vminus"
                  >Negative supply \(V_{-}\)</label
                >
                <div class="flex items-center gap-2">
                  <input
                    id="vminus"
                    type="number"
                    step="0.1"
                    value="-15"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                  <span class="text-sm text-gray-600">V</span>
                </div>
              </div>
            </section>

            <!-- Dynamic input area -->
            <section id="opamp-inputs" class="mb-6 space-y-4">
              <!-- Filled by JS depending on topology -->
            </section>

            <!-- Design helper -->
            <section id="design-helper" class="mb-6 hidden">
              <h2 class="text-lg font-semibold mb-2">Design for Target Gain</h2>
              <p class="text-sm text-gray-600 mb-2">
                Enter a desired closed‑loop gain and one resistor value. The
                calculator will suggest the other resistor.
              </p>
              <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 items-end">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="target-gain"
                    >Target gain \(|A_v|\)</label
                  >
                  <input
                    id="target-gain"
                    type="number"
                    step="0.1"
                    value="10"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="design-known"
                    >Known resistor</label
                  >
                  <select
                    id="design-known"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="rin">Input resistor (Rin / Rg)</option>
                    <option value="rf">Feedback resistor (Rf)</option>
                  </select>
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 mb-1"
                    for="design-rknown"
                    >Known value</label
                  >
                  <div class="flex items-center gap-2">
                    <input
                      id="design-rknown"
                      type="number"
                      step="100"
                      value="10000"
                      class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <span class="text-sm text-gray-600">Ω</span>
                  </div>
                </div>
              </div>
              <button
                id="btn-design"
                class="mt-3 inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                Suggest resistor
              </button>
              <p id="design-result" class="mt-2 text-sm text-gray-700"></p>
            </section>

            <!-- Actions -->
            <div class="flex flex-wrap items-center gap-3 mb-6">
              <button
                id="btn-calc"
                class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                Calculate
              </button>
              <button
                id="btn-reset"
                class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300"
              >
                Reset
              </button>
              <span
                id="saturation-badge"
                class="badge hidden px-2 py-1 rounded-full bg-red-100 text-red-700"
                >Output saturated at supply rails</span
              >
            </div>

            <!-- Results -->
            <section id="results" class="mb-8">
              <h2 class="text-lg font-semibold mb-3">Results</h2>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="p-4 rounded-lg bg-gray-50 border border-gray-200">
                  <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">
                    Closed‑loop gain
                  </p>
                  <p id="res-gain" class="text-xl font-semibold text-gray-900">
                    –
                  </p>
                  <p id="res-gain-db" class="text-sm text-gray-600 mt-1">
                    – dB
                  </p>
                </div>
                <div class="p-4 rounded-lg bg-gray-50 border border-gray-200">
                  <p class="text-xs uppercase tracking-wide text-gray-500 mb-1">
                    Output voltage
                  </p>
                  <p id="res-vout" class="text-xl font-semibold text-gray-900">
                    –
                  </p>
                  <p id="res-rails" class="text-sm text-gray-600 mt-1">
                    Limited by \(V_{+}\) / \(V_{-}\)
                  </p>
                </div>
              </div>
            </section>

            <!-- Theory & formulas -->
            <section class="prose">
              <h2>How this op amp calculator works</h2>
              <p>
                This tool assumes an
                <strong>ideal operational amplifier</strong> with negative
                feedback (except in comparator mode). It implements the standard
                closed‑form equations for the most common configurations.
              </p>

              <h3>Inverting amplifier</h3>
              <div class="formula-box">
                <p>
                  <strong>Gain:</strong> \( A_v = \dfrac{V_{out}}{V_{in}} =
                  -\dfrac{R_f}{R_{in}} \)
                </p>
                <p>
                  <strong>Output voltage:</strong> \( V_{out} =
                  -\dfrac{R_f}{R_{in}} \, V_{in} \)
                </p>
                <p>
                  <strong>Input impedance:</strong> \( Z_{in} \approx R_{in} \)
                </p>
              </div>
              <p>
                The negative sign means the output is 180° out of phase with the
                input.
              </p>

              <h3>Non‑inverting amplifier</h3>
              <div class="formula-box">
                <p><strong>Gain:</strong> \( A_v = 1 + \dfrac{R_f}{R_g} \)</p>
                <p>
                  <strong>Output voltage:</strong> \( V_{out} = \left(1 +
                  \dfrac{R_f}{R_g}\right) V_{in} \)
                </p>
                <p>
                  <strong>Input impedance:</strong> ideally infinite (limited by
                  the op amp input impedance).
                </p>
              </div>

              <h3>Summing amplifier (2‑input inverting)</h3>
              <div class="formula-box">
                <p>For two inputs \(V_1\) and \(V_2\):</p>
                <p>
                  \[ V_{out} = -R_f \left(\frac{V_1}{R_1} +
                  \frac{V_2}{R_2}\right) \]
                </p>
                <p>
                  If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2)
                  \).
                </p>
              </div>

              <h3>Differential amplifier</h3>
              <p>With matched resistor ratios \(R_2/R_1 = R_4/R_3\):</p>
              <div class="formula-box">
                <p>\[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \]</p>
              </div>
              <p>
                This configuration amplifies the difference between two input
                signals while rejecting common‑mode voltage.
              </p>

              <h3>Comparator (ideal)</h3>
              <div class="formula-box">
                <p>For an ideal comparator without hysteresis:</p>
                <p>
                  \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} >
                  V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases}
                  \]
                </p>
              </div>
              <p>
                In practice, dedicated comparator ICs are preferred over
                general‑purpose op amps for fast or noisy signals.
              </p>

              <h2>Practical design tips</h2>
              <ul>
                <li>
                  <strong>Stay within the supply rails:</strong> the output
                  cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips
                  the ideal result to those rails.
                </li>
                <li>
                  <strong>Choose reasonable resistor values:</strong>
                  1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase
                  noise and offset; very small values increase current and
                  loading.
                </li>
                <li>
                  <strong>Bandwidth and slew rate:</strong> high closed‑loop
                  gain reduces bandwidth. Check the op amp’s gain‑bandwidth
                  product and slew rate for your signal frequency and amplitude.
                </li>
                <li>
                  <strong>Input common‑mode range:</strong> for non‑inverting
                  and differential circuits, ensure the input voltages stay
                  within the specified common‑mode range of the chosen op amp.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-8">
              <h2 class="text-lg font-semibold mb-3">Op amp FAQ</h2>
              <div class="space-y-3" id="faq-container">
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What is an op amp?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    An operational amplifier (op amp) is a high‑gain
                    differential amplifier with very high input impedance and
                    low output impedance. With external resistors and feedback
                    you can implement amplifiers, filters, integrators,
                    differentiators, comparators and many other analog
                    functions.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    Why does this calculator assume an “ideal” op amp?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Ideal equations are accurate enough for most hand
                    calculations and early design work. Real‑world effects such
                    as finite open‑loop gain, input bias currents, offset
                    voltage, slew‑rate limiting and output current limits are
                    device‑specific and are best checked against the op amp’s
                    datasheet and a circuit simulator.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    How do I pick resistor values for a given gain?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    Choose a convenient base value (for example 10&nbsp;kΩ) and
                    then scale the other resistor according to the gain formula.
                    For an inverting amplifier with gain −10, you could use Rin
                    = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this
                    calculator automates that step.
                  </p>
                </details>
                <details class="border border-gray-200 rounded-md p-3">
                  <summary class="font-medium cursor-pointer">
                    What happens when the op amp saturates?
                  </summary>
                  <p class="mt-2 text-sm text-gray-700">
                    When the ideal output exceeds the supply rails, the real
                    device saturates and the output stays near the positive or
                    negative rail. This calculator detects that condition and
                    shows the clipped value along with a saturation warning
                    badge.
                  </p>
                </details>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Configuration Inverting amplifier Non‑inverting amplifier Summing amplifier (2 inputs) Differential amplifier Comparator (ideal) Ideal op amp assumptions: infinite open‑loop gain, infinite input impedance, zero output impedance, and operation within the supply rails. Positive supply \(V_{+}\) V Negative supply \(V_{-}\) V Design for Target Gain Enter a desired closed‑loop gain and one resistor value. The calculator will suggest the other resistor. Target gain \(|A_v|\) Known resistor Input resistor (Rin / Rg) Feedback resistor (Rf) Known value Ω Suggest resistor Calculate Reset Output saturated at supply rails Results Closed‑loop gain – – dB Output voltage – Limited by \(V_{+}\) / \(V_{-}\) How this op amp calculator works This tool assumes an ideal operational amplifier with negative feedback (except in comparator mode). It implements the standard closed‑form equations for the most common configurations. Inverting amplifier Gain: \( A_v = \dfrac{V_{out}}{V_{in}} = -\dfrac{R_f}{R_{in}} \) Output voltage: \( V_{out} = -\dfrac{R_f}{R_{in}} \, V_{in} \) Input impedance: \( Z_{in} \approx R_{in} \) The negative sign means the output is 180° out of phase with the input. Non‑inverting amplifier Gain: \( A_v = 1 + \dfrac{R_f}{R_g} \) Output voltage: \( V_{out} = \left(1 + \dfrac{R_f}{R_g}\right) V_{in} \) Input impedance: ideally infinite (limited by the op amp input impedance). Summing amplifier (2‑input inverting) For two inputs \(V_1\) and \(V_2\): \[ V_{out} = -R_f \left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right) \] If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2) \). Differential amplifier With matched resistor ratios \(R_2/R_1 = R_4/R_3\): \[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \] This configuration amplifies the difference between two input signals while rejecting common‑mode voltage. Comparator (ideal) For an ideal comparator without hysteresis: \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} > V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases} \] In practice, dedicated comparator ICs are preferred over general‑purpose op amps for fast or noisy signals. Practical design tips Stay within the supply rails: the output cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips the ideal result to those rails. Choose reasonable resistor values: 1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase noise and offset; very small values increase current and loading. Bandwidth and slew rate: high closed‑loop gain reduces bandwidth. Check the op amp’s gain‑bandwidth product and slew rate for your signal frequency and amplitude. Input common‑mode range: for non‑inverting and differential circuits, ensure the input voltages stay within the specified common‑mode range of the chosen op amp. Op amp FAQ What is an op amp? An operational amplifier (op amp) is a high‑gain differential amplifier with very high input impedance and low output impedance. With external resistors and feedback you can implement amplifiers, filters, integrators, differentiators, comparators and many other analog functions. Why does this calculator assume an “ideal” op amp? Ideal equations are accurate enough for most hand calculations and early design work. Real‑world effects such as finite open‑loop gain, input bias currents, offset voltage, slew‑rate limiting and output current limits are device‑specific and are best checked against the op amp’s datasheet and a circuit simulator. How do I pick resistor values for a given gain? Choose a convenient base value (for example 10&nbsp;kΩ) and then scale the other resistor according to the gain formula. For an inverting amplifier with gain −10, you could use Rin = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this calculator automates that step. What happens when the op amp saturates? When the ideal output exceeds the supply rails, the real device saturates and the output stays near the positive or negative rail. This calculator detects that condition and shows the clipped value along with a saturation warning badge. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Math &amp; Electronics Tools Ohm's Law Calculator Voltage Divider Calculator Inductor &amp; Capacitor Reactance Filter Design Calculator RC Filter Calculator Series &amp; Parallel Resistor Resistor Color Code 555 Timer Calculator Explore Core Math &amp; Algebra Complex Number Calculator Equation Solver Linear Algebra Tools Fast Fourier Transform (FFT) Graphing Calculator CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility helpers function clamp(value, min, max) { return Math.min(Math.max(value, min), max); } function toNumber(id, fallback = 0) { const v = parseFloat(document.getElementById(id).value); return isNaN(v) ? fallback : v; } function formatVolt(v) { if (!isFinite(v)) return "–"; if (Math.abs(v) = 1000) return g.toExponential(3); return g.toFixed(3); } const topologySelect = document.getElementById("topology"); const inputsContainer = document.getElementById("opamp-inputs"); const designHelper = document.getElementById("design-helper"); const satBadge = document.getElementById("saturation-badge"); function renderInputs() { const t = topologySelect.value; satBadge.classList.add("hidden"); let html = ""; if (t === "inverting") { designHelper.classList.remove("hidden"); html = ` Input voltage \\(V_{in}\\)</li><li>Input resistor \\(R_{in}\\)</li><li>Feedback resistor \\(R_f\\)</li><li>Input voltage \\(V_{in}\\)</li><li>Ground resistor \\(R_g\\)</li><li>Feedback resistor \\(R_f\\)</li><li>Input 1 \\(V_1\\)</li><li>Input 2 \\(V_2\\)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Op, Amp, Configuration Inverting amplifier Non‑inverting amplifier Summing amplifier (2 inputs) Differential amplifier Comparator (ideal) Ideal op amp assumptions: infinite open‑loop gain, infinite input impedance, zero output impedance, and operation within the supply rails. Positive supply \(V_{+}\) V Negative supply \(V_{-}\) V Design for Target Gain Enter a desired closed‑loop gain and one resistor value. The calculator will suggest the other resistor. Target gain \(|A_v|\) Known resistor Input resistor (Rin / Rg) Feedback resistor (Rf) Known value Ω Suggest resistor Calculate Reset Output saturated at supply rails Results Closed‑loop gain – – dB Output voltage – Limited by \(V_{+}\) / \(V_{-}\) How this op amp calculator works This tool assumes an ideal operational amplifier with negative feedback (except in comparator mode). It implements the standard closed‑form equations for the most common configurations. Inverting amplifier Gain: \( A_v = \dfrac{V_{out}}{V_{in}} = -\dfrac{R_f}{R_{in}} \) Output voltage: \( V_{out} = -\dfrac{R_f}{R_{in}} \, V_{in} \) Input impedance: \( Z_{in} \approx R_{in} \) The negative sign means the output is 180° out of phase with the input. Non‑inverting amplifier Gain: \( A_v = 1 + \dfrac{R_f}{R_g} \) Output voltage: \( V_{out} = \left(1 + \dfrac{R_f}{R_g}\right) V_{in} \) Input impedance: ideally infinite (limited by the op amp input impedance). Summing amplifier (2‑input inverting) For two inputs \(V_1\) and \(V_2\): \[ V_{out} = -R_f \left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right) \] If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2) \). Differential amplifier With matched resistor ratios \(R_2/R_1 = R_4/R_3\): \[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \] This configuration amplifies the difference between two input signals while rejecting common‑mode voltage. Comparator (ideal) For an ideal comparator without hysteresis: \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} > V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases} \] In practice, dedicated comparator ICs are preferred over general‑purpose op amps for fast or noisy signals. Practical design tips Stay within the supply rails: the output cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips the ideal result to those rails. Choose reasonable resistor values: 1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase noise and offset; very small values increase current and loading. Bandwidth and slew rate: high closed‑loop gain reduces bandwidth. Check the op amp’s gain‑bandwidth product and slew rate for your signal frequency and amplitude. Input common‑mode range: for non‑inverting and differential circuits, ensure the input voltages stay within the specified common‑mode range of the chosen op amp. Op amp FAQ What is an op amp? An operational amplifier (op amp) is a high‑gain differential amplifier with very high input impedance and low output impedance. With external resistors and feedback you can implement amplifiers, filters, integrators, differentiators, comparators and many other analog functions. Why does this calculator assume an “ideal” op amp? Ideal equations are accurate enough for most hand calculations and early design work. Real‑world effects such as finite open‑loop gain, input bias currents, offset voltage, slew‑rate limiting and output current limits are device‑specific and are best checked against the op amp’s datasheet and a circuit simulator. How do I pick resistor values for a given gain? Choose a convenient base value (for example 10&nbsp;kΩ) and then scale the other resistor according to the gain formula. For an inverting amplifier with gain −10, you could use Rin = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this calculator automates that step. What happens when the op amp saturates? When the ideal output exceeds the supply rails, the real device saturates and the output stays near the positive or negative rail. This calculator detects that condition and shows the clipped value along with a saturation warning badge. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Inputs used by this calculator Configuration Inverting amplifier Non‑inverting amplifier Summing amplifier (2 inputs) Differential amplifier Comparator (ideal) Ideal op amp assumptions: infinite open‑loop gain, infinite input impedance, zero output impedance, and operation within the supply rails. Positive supply \(V_{+}\) V Negative supply \(V_{-}\) V Design for Target Gain Enter a desired closed‑loop gain and one resistor value. The calculator will suggest the other resistor. Target gain \(|A_v|\) Known resistor Input resistor (Rin / Rg) Feedback resistor (Rf) Known value Ω Suggest resistor Calculate Reset Output saturated at supply rails Results Closed‑loop gain – – dB Output voltage – Limited by \(V_{+}\) / \(V_{-}\) How this op amp calculator works This tool assumes an ideal operational amplifier with negative feedback (except in comparator mode). It implements the standard closed‑form equations for the most common configurations. Inverting amplifier Gain: \( A_v = \dfrac{V_{out}}{V_{in}} = -\dfrac{R_f}{R_{in}} \) Output voltage: \( V_{out} = -\dfrac{R_f}{R_{in}} \, V_{in} \) Input impedance: \( Z_{in} \approx R_{in} \) The negative sign means the output is 180° out of phase with the input. Non‑inverting amplifier Gain: \( A_v = 1 + \dfrac{R_f}{R_g} \) Output voltage: \( V_{out} = \left(1 + \dfrac{R_f}{R_g}\right) V_{in} \) Input impedance: ideally infinite (limited by the op amp input impedance). Summing amplifier (2‑input inverting) For two inputs \(V_1\) and \(V_2\): \[ V_{out} = -R_f \left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right) \] If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2) \). Differential amplifier With matched resistor ratios \(R_2/R_1 = R_4/R_3\): \[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \] This configuration amplifies the difference between two input signals while rejecting common‑mode voltage. Comparator (ideal) For an ideal comparator without hysteresis: \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} > V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases} \] In practice, dedicated comparator ICs are preferred over general‑purpose op amps for fast or noisy signals. Practical design tips Stay within the supply rails: the output cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips the ideal result to those rails. Choose reasonable resistor values: 1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase noise and offset; very small values increase current and loading. Bandwidth and slew rate: high closed‑loop gain reduces bandwidth. Check the op amp’s gain‑bandwidth product and slew rate for your signal frequency and amplitude. Input common‑mode range: for non‑inverting and differential circuits, ensure the input voltages stay within the specified common‑mode range of the chosen op amp. Op amp FAQ What is an op amp? An operational amplifier (op amp) is a high‑gain differential amplifier with very high input impedance and low output impedance. With external resistors and feedback you can implement amplifiers, filters, integrators, differentiators, comparators and many other analog functions. Why does this calculator assume an “ideal” op amp? Ideal equations are accurate enough for most hand calculations and early design work. Real‑world effects such as finite open‑loop gain, input bias currents, offset voltage, slew‑rate limiting and output current limits are device‑specific and are best checked against the op amp’s datasheet and a circuit simulator. How do I pick resistor values for a given gain? Choose a convenient base value (for example 10&nbsp;kΩ) and then scale the other resistor according to the gain formula. For an inverting amplifier with gain −10, you could use Rin = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this calculator automates that step. What happens when the op amp saturates? When the ideal output exceeds the supply rails, the real device saturates and the output stays near the positive or negative rail. This calculator detects that condition and shows the clipped value along with a saturation warning badge. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Math &amp; Electronics Tools Ohm's Law Calculator Voltage Divider Calculator Inductor &amp; Capacitor Reactance Filter Design Calculator RC Filter Calculator Series &amp; Parallel Resistor Resistor Color Code 555 Timer Calculator Explore Core Math &amp; Algebra Complex Number Calculator Equation Solver Linear Algebra Tools Fast Fourier Transform (FFT) Graphing Calculator CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility helpers function clamp(value, min, max) { return Math.min(Math.max(value, min), max); } function toNumber(id, fallback = 0) { const v = parseFloat(document.getElementById(id).value); return isNaN(v) ? fallback : v; } function formatVolt(v) { if (!isFinite(v)) return "–"; if (Math.abs(v) = 1000) return g.toExponential(3); return g.toFixed(3); } const topologySelect = document.getElementById("topology"); const inputsContainer = document.getElementById("opamp-inputs"); const designHelper = document.getElementById("design-helper"); const satBadge = document.getElementById("saturation-badge"); function renderInputs() { const t = topologySelect.value; satBadge.classList.add("hidden"); let html = ""; if (t === "inverting") { designHelper.classList.remove("hidden"); html = ` Input voltage \\(V_{in}\\) Input resistor \\(R_{in}\\) Feedback resistor \\(R_f\\) Input voltage \\(V_{in}\\) Ground resistor \\(R_g\\) Feedback resistor \\(R_f\\) Input 1 \\(V_1\\) Input 2 \\(V_2\\) Consistency checks Checks: non-negative values, plausible ranges, coherent outputs. Related Math &amp; Electronics Tools Ohm's Law Calculator Voltage Divider Calculator Inductor &amp; Capacitor Reactance Filter Design Calculator RC Filter Calculator Series &amp; Parallel Resistor Resistor Color Code 555 Timer Calculator Explore Core Math &amp; Algebra Complex Number Calculator Equation Solver Linear Algebra Tools Fast Fourier Transform (FFT) Graphing Calculator CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility helpers function clamp(value, min, max) { return Math.min(Math.max(value, min), max); } function toNumber(id, fallback = 0) { const v = parseFloat(document.getElementById(id).value); return isNaN(v) ? fallback : v; } function formatVolt(v) { if (!isFinite(v)) return "–"; if (Math.abs(v) = 1000) return g.toExponential(3); return g.toFixed(3); } const topologySelect = document.getElementById("topology"); const inputsContainer = document.getElementById("opamp-inputs"); const designHelper = document.getElementById("design-helper"); const satBadge = document.getElementById("saturation-badge"); function renderInputs() { const t = topologySelect.value; satBadge.classList.add("hidden"); let html = ""; if (t === "inverting") { designHelper.classList.remove("hidden"); html = ` Input voltage \\(V_{in}\\), Input resistor \\(R_{in}\\), Feedback resistor \\(R_f\\), Input voltage \\(V_{in}\\), Ground resistor \\(R_g\\), Input 1 \\(V_1\\).</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Configuration Inverting amplifier Non‑inverting amplifier Summing amplifier (2 inputs) Differential amplifier Comparator (ideal) Ideal op amp assumptions: infinite open‑loop gain, infinite input impedance, zero output impedance, and operation within the supply rails. Positive supply \(V_{+}\) V Negative supply \(V_{-}\) V Design for Target Gain Enter a desired closed‑loop gain and one resistor value. The calculator will suggest the other resistor. Target gain \(|A_v|\) Known resistor Input resistor (Rin / Rg) Feedback resistor (Rf) Known value Ω Suggest resistor Calculate Reset Output saturated at supply rails Results Closed‑loop gain – – dB Output voltage – Limited by \(V_{+}\) / \(V_{-}\) How this op amp calculator works This tool assumes an ideal operational amplifier with negative feedback (except in comparator mode). It implements the standard closed‑form equations for the most common configurations. Inverting amplifier Gain: \( A_v = \dfrac{V_{out}}{V_{in}} = -\dfrac{R_f}{R_{in}} \) Output voltage: \( V_{out} = -\dfrac{R_f}{R_{in}} \, V_{in} \) Input impedance: \( Z_{in} \approx R_{in} \) The negative sign means the output is 180° out of phase with the input. Non‑inverting amplifier Gain: \( A_v = 1 + \dfrac{R_f}{R_g} \) Output voltage: \( V_{out} = \left(1 + \dfrac{R_f}{R_g}\right) V_{in} \) Input impedance: ideally infinite (limited by the op amp input impedance). Summing amplifier (2‑input inverting) For two inputs \(V_1\) and \(V_2\): \[ V_{out} = -R_f \left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right) \] If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2) \). Differential amplifier With matched resistor ratios \(R_2/R_1 = R_4/R_3\): \[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \] This configuration amplifies the difference between two input signals while rejecting common‑mode voltage. Comparator (ideal) For an ideal comparator without hysteresis: \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} > V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases} \] In practice, dedicated comparator ICs are preferred over general‑purpose op amps for fast or noisy signals. Practical design tips Stay within the supply rails: the output cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips the ideal result to those rails. Choose reasonable resistor values: 1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase noise and offset; very small values increase current and loading. Bandwidth and slew rate: high closed‑loop gain reduces bandwidth. Check the op amp’s gain‑bandwidth product and slew rate for your signal frequency and amplitude. Input common‑mode range: for non‑inverting and differential circuits, ensure the input voltages stay within the specified common‑mode range of the chosen op amp. Op amp FAQ What is an op amp? An operational amplifier (op amp) is a high‑gain differential amplifier with very high input impedance and low output impedance. With external resistors and feedback you can implement amplifiers, filters, integrators, differentiators, comparators and many other analog functions. Why does this calculator assume an “ideal” op amp? Ideal equations are accurate enough for most hand calculations and early design work. Real‑world effects such as finite open‑loop gain, input bias currents, offset voltage, slew‑rate limiting and output current limits are device‑specific and are best checked against the op amp’s datasheet and a circuit simulator. How do I pick resistor values for a given gain? Choose a convenient base value (for example 10&nbsp;kΩ) and then scale the other resistor according to the gain formula. For an inverting amplifier with gain −10, you could use Rin = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this calculator automates that step. What happens when the op amp saturates? When the ideal output exceeds the supply rails, the real device saturates and the output stays near the positive or negative rail. This calculator detects that condition and shows the clipped value along with a saturation warning badge. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Inputs used by this calculator Configuration Inverting amplifier Non‑inverting amplifier Summing amplifier (2 inputs) Differential amplifier Comparator (ideal) Ideal op amp assumptions: infinite open‑loop gain, infinite input impedance, zero output impedance, and operation within the supply rails. Positive supply \(V_{+}\) V Negative supply \(V_{-}\) V Design for Target Gain Enter a desired closed‑loop gain and one resistor value. The calculator will suggest the other resistor. Target gain \(|A_v|\) Known resistor Input resistor (Rin / Rg) Feedback resistor (Rf) Known value Ω Suggest resistor Calculate Reset Output saturated at supply rails Results Closed‑loop gain – – dB Output voltage – Limited by \(V_{+}\) / \(V_{-}\) How this op amp calculator works This tool assumes an ideal operational amplifier with negative feedback (except in comparator mode). It implements the standard closed‑form equations for the most common configurations. Inverting amplifier Gain: \( A_v = \dfrac{V_{out}}{V_{in}} = -\dfrac{R_f}{R_{in}} \) Output voltage: \( V_{out} = -\dfrac{R_f}{R_{in}} \, V_{in} \) Input impedance: \( Z_{in} \approx R_{in} \) The negative sign means the output is 180° out of phase with the input. Non‑inverting amplifier Gain: \( A_v = 1 + \dfrac{R_f}{R_g} \) Output voltage: \( V_{out} = \left(1 + \dfrac{R_f}{R_g}\right) V_{in} \) Input impedance: ideally infinite (limited by the op amp input impedance). Summing amplifier (2‑input inverting) For two inputs \(V_1\) and \(V_2\): \[ V_{out} = -R_f \left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right) \] If \(R_1 = R_2 = R\): \( V_{out} = -\dfrac{R_f}{R} (V_1 + V_2) \). Differential amplifier With matched resistor ratios \(R_2/R_1 = R_4/R_3\): \[ V_{out} = \frac{R_2}{R_1} (V_2 - V_1) \] This configuration amplifies the difference between two input signals while rejecting common‑mode voltage. Comparator (ideal) For an ideal comparator without hysteresis: \[ V_{out} = \begin{cases} V_{+} & \text{if } V_{in+} > V_{in-} \\ V_{-} & \text{if } V_{in+} \le V_{in-} \end{cases} \] In practice, dedicated comparator ICs are preferred over general‑purpose op amps for fast or noisy signals. Practical design tips Stay within the supply rails: the output cannot exceed \(V_{+}\) or \(V_{-}\). This calculator clips the ideal result to those rails. Choose reasonable resistor values: 1&nbsp;kΩ–1&nbsp;MΩ is typical. Very large values increase noise and offset; very small values increase current and loading. Bandwidth and slew rate: high closed‑loop gain reduces bandwidth. Check the op amp’s gain‑bandwidth product and slew rate for your signal frequency and amplitude. Input common‑mode range: for non‑inverting and differential circuits, ensure the input voltages stay within the specified common‑mode range of the chosen op amp. Op amp FAQ What is an op amp? An operational amplifier (op amp) is a high‑gain differential amplifier with very high input impedance and low output impedance. With external resistors and feedback you can implement amplifiers, filters, integrators, differentiators, comparators and many other analog functions. Why does this calculator assume an “ideal” op amp? Ideal equations are accurate enough for most hand calculations and early design work. Real‑world effects such as finite open‑loop gain, input bias currents, offset voltage, slew‑rate limiting and output current limits are device‑specific and are best checked against the op amp’s datasheet and a circuit simulator. How do I pick resistor values for a given gain? Choose a convenient base value (for example 10&nbsp;kΩ) and then scale the other resistor according to the gain formula. For an inverting amplifier with gain −10, you could use Rin = 10&nbsp;kΩ and Rf = 100&nbsp;kΩ. The design helper in this calculator automates that step. What happens when the op amp saturates? When the ideal output exceeds the supply rails, the real device saturates and the output stays near the positive or negative rail. This calculator detects that condition and shows the clipped value along with a saturation warning badge. About the author Ugo Candido builds financial tools and educational resources to help readers make better money decisions. He focuses on practical, transparent models that reflect how lenders calculate payments and total cost of ownership. Contact: info@calcdomain.com Editorial policy CalcDomain content is created for educational purposes and is reviewed for clarity, accuracy, and transparency. We do not accept paid placements that influence calculator outputs. Inputs and assumptions are shown directly in the interface so you can verify how results are produced. Methodology Results use standard formulas and the values you provide. Figures are estimates and may differ from lender quotes. For decisions that require professional guidance, consult a licensed advisor. Sources NIST: The International System of Units (SI) OpenStax: College Algebra Related Math &amp; Electronics Tools Ohm's Law Calculator Voltage Divider Calculator Inductor &amp; Capacitor Reactance Filter Design Calculator RC Filter Calculator Series &amp; Parallel Resistor Resistor Color Code 555 Timer Calculator Explore Core Math &amp; Algebra Complex Number Calculator Equation Solver Linear Algebra Tools Fast Fourier Transform (FFT) Graphing Calculator CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility helpers function clamp(value, min, max) { return Math.min(Math.max(value, min), max); } function toNumber(id, fallback = 0) { const v = parseFloat(document.getElementById(id).value); return isNaN(v) ? fallback : v; } function formatVolt(v) { if (!isFinite(v)) return "–"; if (Math.abs(v) = 1000) return g.toExponential(3); return g.toFixed(3); } const topologySelect = document.getElementById("topology"); const inputsContainer = document.getElementById("opamp-inputs"); const designHelper = document.getElementById("design-helper"); const satBadge = document.getElementById("saturation-badge"); function renderInputs() { const t = topologySelect.value; satBadge.classList.add("hidden"); let html = ""; if (t === "inverting") { designHelper.classList.remove("hidden"); html = ` Input voltage \\(V_{in}\\) Input resistor \\(R_{in}\\) Feedback resistor \\(R_f\\) Input voltage \\(V_{in}\\) Ground resistor \\(R_g\\) Feedback resistor \\(R_f\\) Input 1 \\(V_1\\) Input 2 \\(V_2\\) Consistency checks Checks: non-negative values, plausible ranges, coherent outputs. Related Math &amp; Electronics Tools Ohm's Law Calculator Voltage Divider Calculator Inductor &amp; Capacitor Reactance Filter Design Calculator RC Filter Calculator Series &amp; Parallel Resistor Resistor Color Code 555 Timer Calculator Explore Core Math &amp; Algebra Complex Number Calculator Equation Solver Linear Algebra Tools Fast Fourier Transform (FFT) Graphing Calculator CalcDomain Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need. Categories Finance Health & Fitness Math & Conversions Lifestyle & Everyday Construction & DIY Popular Tools Mortgage Calculator Percentage Calculator BMI Calculator Auto Loan Calculator House Affordability Support About Us Contact Privacy Policy Terms of Service Site Map &copy; 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone // Utility helpers function clamp(value, min, max) { return Math.min(Math.max(value, min), max); } function toNumber(id, fallback = 0) { const v = parseFloat(document.getElementById(id).value); return isNaN(v) ? fallback : v; } function formatVolt(v) { if (!isFinite(v)) return "–"; if (Math.abs(v) = 1000) return g.toExponential(3); return g.toFixed(3); } const topologySelect = document.getElementById("topology"); const inputsContainer = document.getElementById("opamp-inputs"); const designHelper = document.getElementById("design-helper"); const satBadge = document.getElementById("saturation-badge"); function renderInputs() { const t = topologySelect.value; satBadge.classList.add("hidden"); let html = ""; if (t === "inverting") { designHelper.classList.remove("hidden"); html = ` Input voltage \\(V_{in}\\)</li><li>Input resistor \\(R_{in}\\)</li><li>Feedback resistor \\(R_f\\)</li><li>Input voltage \\(V_{in}\\)</li><li>Ground resistor \\(R_g\\)</li><li>Feedback resistor \\(R_f\\)</li><li>Input 1 \\(V_1\\)</li><li>Input 2 \\(V_2\\)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Math &amp; Electronics Tools
            </h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/ohm-s-law-calculator"
                  class="text-blue-600 hover:underline"
                  >Ohm's Law Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/voltage-divider"
                  class="text-blue-600 hover:underline"
                  >Voltage Divider Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/reactance"
                  class="text-blue-600 hover:underline"
                  >Inductor &amp; Capacitor Reactance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/filter-design"
                  class="text-blue-600 hover:underline"
                  >Filter Design Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rc-filter"
                  class="text-blue-600 hover:underline"
                  >RC Filter Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/series-parallel-resistor"
                  class="text-blue-600 hover:underline"
                  >Series &amp; Parallel Resistor</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/resistor-color-code"
                  class="text-blue-600 hover:underline"
                  >Resistor Color Code</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/555-timer"
                  class="text-blue-600 hover:underline"
                  >555 Timer Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Explore Core Math &amp; Algebra
            </h2>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/complex-number"
                  class="text-blue-600 hover:underline"
                  >Complex Number Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/equation-solver"
                  class="text-blue-600 hover:underline"
                  >Equation Solver</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-algebra"
                  class="text-blue-600 hover:underline"
                  >Linear Algebra Tools</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/fft"
                  class="text-blue-600 hover:underline"
                  >Fast Fourier Transform (FFT)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/graphing-calculator"
                  class="text-blue-600 hover:underline"
                  >Graphing Calculator</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // Utility helpers
      function clamp(value, min, max) {
        return Math.min(Math.max(value, min), max);
      }
      function toNumber(id, fallback = 0) {
        const v = parseFloat(document.getElementById(id).value);
        return isNaN(v) ? fallback : v;
      }
      function formatVolt(v) {
        if (!isFinite(v)) return "–";
        if (Math.abs(v) < 1e-3) return (v * 1e3).toFixed(3) + " mV";
        if (Math.abs(v) < 1) return v.toFixed(4) + " V";
        return v.toFixed(3) + " V";
      }
      function formatGain(g) {
        if (!isFinite(g)) return "–";
        if (Math.abs(g) >= 1000) return g.toExponential(3);
        return g.toFixed(3);
      }

      const topologySelect = document.getElementById("topology");
      const inputsContainer = document.getElementById("opamp-inputs");
      const designHelper = document.getElementById("design-helper");
      const satBadge = document.getElementById("saturation-badge");

      function renderInputs() {
        const t = topologySelect.value;
        satBadge.classList.add("hidden");
        let html = "";

        if (t === "inverting") {
          designHelper.classList.remove("hidden");
          html = `
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="vin">Input voltage \\(V_{in}\\)</label>
            <div class="flex items-center gap-2">
              <input id="vin" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="rin">Input resistor \\(R_{in}\\)</label>
            <div class="flex items-center gap-2">
              <input id="rin" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="rf">Feedback resistor \\(R_f\\)</label>
            <div class="flex items-center gap-2">
              <input id="rf" type="number" step="100" value="100000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
        </div>
      `;
        } else if (t === "noninverting") {
          designHelper.classList.remove("hidden");
          html = `
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="vin">Input voltage \\(V_{in}\\)</label>
            <div class="flex items-center gap-2">
              <input id="vin" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="rg">Ground resistor \\(R_g\\)</label>
            <div class="flex items-center gap-2">
              <input id="rg" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="rf">Feedback resistor \\(R_f\\)</label>
            <div class="flex items-center gap-2">
              <input id="rf" type="number" step="100" value="90000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
        </div>
      `;
        } else if (t === "summing") {
          designHelper.classList.add("hidden");
          html = `
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="v1">Input 1 \\(V_1\\)</label>
            <div class="flex items-center gap-2">
              <input id="v1" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="v2">Input 2 \\(V_2\\)</label>
            <div class="flex items-center gap-2">
              <input id="v2" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r1">Input resistor 1 \\(R_1\\)</label>
            <div class="flex items-center gap-2">
              <input id="r1" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r2">Input resistor 2 \\(R_2\\)</label>
            <div class="flex items-center gap-2">
              <input id="r2" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div class="sm:col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-1" for="rf">Feedback resistor \\(R_f\\)</label>
            <div class="flex items-center gap-2">
              <input id="rf" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
        </div>
      `;
        } else if (t === "differential") {
          designHelper.classList.add("hidden");
          html = `
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="v1">Input \\(V_1\\) (inverting)</label>
            <div class="flex items-center gap-2">
              <input id="v1" type="number" step="0.01" value="0.2" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="v2">Input \\(V_2\\) (non‑inverting)</label>
            <div class="flex items-center gap-2">
              <input id="v2" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r1">Resistor \\(R_1\\)</label>
            <div class="flex items-center gap-2">
              <input id="r1" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r2">Resistor \\(R_2\\)</label>
            <div class="flex items-center gap-2">
              <input id="r2" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r3">Resistor \\(R_3\\)</label>
            <div class="flex items-center gap-2">
              <input id="r3" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="r4">Resistor \\(R_4\\)</label>
            <div class="flex items-center gap-2">
              <input id="r4" type="number" step="100" value="10000" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">Ω</span>
            </div>
          </div>
        </div>
        <p class="mt-2 text-xs text-gray-500">For an ideal differential amplifier, choose resistor ratios such that \\(R_2/R_1 = R_4/R_3\\).</p>
      `;
        } else if (t === "comparator") {
          designHelper.classList.add("hidden");
          html = `
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="vplus_in">Non‑inverting input \\(V_{in+}\\)</label>
            <div class="flex items-center gap-2">
              <input id="vplus_in" type="number" step="0.01" value="1.0" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" for="vminus_in">Inverting input \\(V_{in-}\\)</label>
            <div class="flex items-center gap-2">
              <input id="vminus_in" type="number" step="0.01" value="0.5" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span class="text-sm text-gray-600">V</span>
            </div>
          </div>
        </div>
        <p class="mt-2 text-xs text-gray-500">This ideal comparator has no hysteresis. In practice, add positive feedback (Schmitt trigger) to avoid chatter around the threshold.</p>
      `;
        }

        inputsContainer.innerHTML = html;
        if (window.MathJax) {
          MathJax.typesetPromise();
        }
      }

      topologySelect.addEventListener("change", renderInputs);
      renderInputs();

      function calculate() {
        const t = topologySelect.value;
        const vplus = toNumber("vplus", 15);
        const vminus = toNumber("vminus", -15);
        let gain = NaN;
        let voutIdeal = NaN;

        if (t === "inverting") {
          const vin = toNumber("vin");
          const rin = toNumber("rin");
          const rf = toNumber("rf");
          if (rin === 0) {
            gain = NaN;
            voutIdeal = NaN;
          } else {
            gain = -rf / rin;
            voutIdeal = gain * vin;
          }
        } else if (t === "noninverting") {
          const vin = toNumber("vin");
          const rg = toNumber("rg");
          const rf = toNumber("rf");
          if (rg === 0) {
            gain = NaN;
            voutIdeal = NaN;
          } else {
            gain = 1 + rf / rg;
            voutIdeal = gain * vin;
          }
        } else if (t === "summing") {
          const v1 = toNumber("v1");
          const v2 = toNumber("v2");
          const r1 = toNumber("r1");
          const r2 = toNumber("r2");
          const rf = toNumber("rf");
          if (r1 === 0 || r2 === 0) {
            gain = NaN;
            voutIdeal = NaN;
          } else {
            voutIdeal = -rf * (v1 / r1 + v2 / r2);
            // Effective gain relative to V1 if V2=0 is -Rf/R1; we show magnitude of combined effect as N/A
            gain = NaN;
          }
        } else if (t === "differential") {
          const v1 = toNumber("v1");
          const v2 = toNumber("v2");
          const r1 = toNumber("r1");
          const r2 = toNumber("r2");
          const r3 = toNumber("r3");
          const r4 = toNumber("r4");
          if (r1 === 0 || r3 === 0) {
            gain = NaN;
            voutIdeal = NaN;
          } else {
            // Assume matched ratios; use R2/R1 as differential gain
            const k1 = r2 / r1;
            const k2 = r4 / r3;
            const k = (k1 + k2) / 2; // average if slightly mismatched
            gain = k;
            voutIdeal = k * (v2 - v1);
          }
        } else if (t === "comparator") {
          const vp = toNumber("vplus_in");
          const vm = toNumber("vminus_in");
          if (vp > vm) {
            voutIdeal = vplus;
          } else {
            voutIdeal = vminus;
          }
          gain = Infinity;
        }

        let voutClamped = voutIdeal;
        let saturated = false;
        if (isFinite(voutIdeal)) {
          if (voutIdeal > vplus) {
            voutClamped = vplus;
            saturated = true;
          } else if (voutIdeal < vminus) {
            voutClamped = vminus;
            saturated = true;
          }
        }

        document.getElementById("res-gain").textContent =
          t === "summing" ? "N/A (multi‑input)" : formatGain(gain);
        const gainDbEl = document.getElementById("res-gain-db");
        if (!isFinite(gain) || t === "summing") {
          gainDbEl.textContent = "– dB";
        } else if (!isFinite(Math.abs(gain))) {
          gainDbEl.textContent = "Comparator (very high gain)";
        } else {
          const db = 20 * Math.log10(Math.abs(gain));
          gainDbEl.textContent = db.toFixed(2) + " dB";
        }

        document.getElementById("res-vout").textContent =
          formatVolt(voutClamped);
        document.getElementById("res-rails").textContent = isFinite(voutIdeal)
          ? `Ideal: ${formatVolt(voutIdeal)}  •  Rails: ${formatVolt(
              vminus
            )} to ${formatVolt(vplus)}`
          : "Check your inputs and resistor values.";

        if (saturated) {
          satBadge.classList.remove("hidden");
        } else {
          satBadge.classList.add("hidden");
        }
      }

      document.getElementById("btn-calc").addEventListener("click", calculate);

      document.getElementById("btn-reset").addEventListener("click", () => {
        document.getElementById("vplus").value = 15;
        document.getElementById("vminus").value = -15;
        topologySelect.value = "inverting";
        renderInputs();
        document.getElementById("res-gain").textContent = "–";
        document.getElementById("res-gain-db").textContent = "– dB";
        document.getElementById("res-vout").textContent = "–";
        document.getElementById("res-rails").textContent = "Limited by V+ / V-";
        satBadge.classList.add("hidden");
      });

      document.getElementById("btn-design").addEventListener("click", () => {
        const t = topologySelect.value;
        if (t !== "inverting" && t !== "noninverting") {
          document.getElementById("design-result").textContent =
            "Design helper is only available for inverting and non‑inverting amplifiers.";
          return;
        }
        const targetGain = parseFloat(
          document.getElementById("target-gain").value
        );
        const knownType = document.getElementById("design-known").value;
        const rKnown = parseFloat(
          document.getElementById("design-rknown").value
        );
        const resEl = document.getElementById("design-result");

        if (!isFinite(targetGain) || !isFinite(rKnown) || rKnown <= 0) {
          resEl.textContent = "Enter a valid target gain and resistor value.";
          return;
        }

        let rOther;
        if (t === "inverting") {
          if (knownType === "rin") {
            rOther = Math.abs(targetGain) * rKnown; // Rf
            document.getElementById("rin").value = rKnown;
            document.getElementById("rf").value = rOther.toFixed(0);
            resEl.textContent = `For |Av| ≈ ${targetGain}, choose Rf ≈ ${rOther.toFixed(
              0
            )} Ω with Rin = ${rKnown.toFixed(0)} Ω.`;
          } else {
            rOther = rKnown / Math.abs(targetGain); // Rin
            document.getElementById("rf").value = rKnown;
            document.getElementById("rin").value = rOther.toFixed(0);
            resEl.textContent = `For |Av| ≈ ${targetGain}, choose Rin ≈ ${rOther.toFixed(
              0
            )} Ω with Rf = ${rKnown.toFixed(0)} Ω.`;
          }
        } else if (t === "noninverting") {
          if (targetGain <= 1) {
            resEl.textContent = "Non‑inverting gain must be greater than 1.";
            return;
          }
          if (knownType === "rin") {
            // Here "rin" corresponds to Rg
            const rg = rKnown;
            const rf = (targetGain - 1) * rg;
            document.getElementById("rg").value = rg.toFixed(0);
            document.getElementById("rf").value = rf.toFixed(0);
            resEl.textContent = `For Av ≈ ${targetGain}, choose Rf ≈ ${rf.toFixed(
              0
            )} Ω with Rg = ${rg.toFixed(0)} Ω.`;
          } else {
            // known Rf
            const rf = rKnown;
            const rg = rf / (targetGain - 1);
            document.getElementById("rf").value = rf.toFixed(0);
            document.getElementById("rg").value = rg.toFixed(0);
            resEl.textContent = `For Av ≈ ${targetGain}, choose Rg ≈ ${rg.toFixed(
              0
            )} Ω with Rf = ${rf.toFixed(0)} Ω.`;
          }
        }
      });

      // Mobile menu toggle
      document
        .getElementById("mobile-menu-toggle")
        .addEventListener("click", () => {
          const menu = document.getElementById("mobile-menu");
          const expanded = menu.classList.contains("hidden");
          menu.classList.toggle("hidden");
          document
            .getElementById("mobile-menu-toggle")
            .setAttribute("aria-expanded", expanded ? "true" : "false");
        });

      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
