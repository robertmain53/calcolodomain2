<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/poker-odds" />
    <title>Poker Odds Calculator Guide [Unmissable 2024] | CalcDomain</title>
    <meta name="description" content="Calculate Poker Odds Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Poker Odds Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta property="og:description" content="Calculate Poker Odds Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />
    <meta property="og:url" content="https://calcdomain.com/poker-odds" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Poker Odds Calculator Guide [Unmissable 2024] | CalcDomain" />
    <meta name="twitter:description" content="Calculate Poker Odds Calculator Guide fast with our unmissable tool. Get clear results, formulas, and tips - act now. No signup. Try it today. Free to use." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Lifestyle & Everyday Calculators", "item": "https://calcdomain.com/categories/lifestyle-everyday"}, {"@type": "ListItem", "position": 3, "name": "Hobbies Calculators", "item": "https://calcdomain.com/subcategories/hobbies"}, {"@type": "ListItem", "position": 4, "name": "Poker Odds Calculator (Texas Hold\u2019em)", "item": "https://calcdomain.com/poker-odds"}]}</script>
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-blue-600 hover:underline">Lifestyle &amp; Everyday Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/hobbies" class="text-blue-600 hover:underline">Hobbies Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Poker Odds Calculator (Texas Hold’em)</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl md:text-3xl font-bold mb-2">
                Poker Odds Calculator (Texas Hold’em)
              </h1>
              <p class="text-gray-600">
                Compute exact Texas Hold’em odds, equity, and winning chances
                for up to 9 players. Great for study, hand reviews, and range
                training.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-label="Poker odds calculator" class="space-y-6">
              <!-- Game settings -->
              <div class="grid md:grid-cols-2 gap-4">
                <div class="space-y-2">
                  <label
                    for="player-count"
                    class="block text-sm font-medium text-gray-700"
                    >Number of players</label
                  >
                  <select
                    id="player-count"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="2">2 players (Heads-up)</option>
                    <option value="3">3 players</option>
                    <option value="4">4 players</option>
                    <option value="5">5 players</option>
                    <option value="6">6 players</option>
                    <option value="7">7 players</option>
                    <option value="8">8 players</option>
                    <option value="9">9 players</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label
                    for="calc-mode"
                    class="block text-sm font-medium text-gray-700"
                    >Calculation mode</label
                  >
                  <select
                    id="calc-mode"
                    class="w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="auto">Auto (exact when possible)</option>
                    <option value="exact">Exact enumeration</option>
                    <option value="mc-2000">
                      Monte Carlo – 2,000 trials (fast)
                    </option>
                    <option value="mc-10000">
                      Monte Carlo – 10,000 trials (balanced)
                    </option>
                    <option value="mc-100000">
                      Monte Carlo – 100,000 trials (very accurate)
                    </option>
                  </select>
                </div>
              </div>

              <!-- Players & board -->
              <div class="space-y-4">
                <h2
                  class="text-lg font-semibold flex items-center justify-between"
                >
                  Players &amp; Board
                  <span class="text-xs text-gray-500"
                    >Click a slot, then pick cards below</span
                  >
                </h2>

                <!-- Players list -->
                <div id="players-container" class="space-y-3">
                  <!-- Filled dynamically -->
                </div>

                <!-- Board -->
                <div class="border-t pt-4 mt-2">
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="font-medium text-gray-800">Board cards</h3>
                    <div class="flex gap-2 text-xs">
                      <span
                        class="px-2 py-0.5 rounded-full bg-gray-100 text-gray-600"
                        >Flop: 3</span
                      >
                      <span
                        class="px-2 py-0.5 rounded-full bg-gray-100 text-gray-600"
                        >Turn: +1</span
                      >
                      <span
                        class="px-2 py-0.5 rounded-full bg-gray-100 text-gray-600"
                        >River: +1</span
                      >
                    </div>
                  </div>
                  <div class="flex items-center gap-3 flex-wrap">
                    <div class="flex gap-2" id="board-flop">
                      <div
                        class="hand-slot"
                        data-slot-type="board"
                        data-board-index="0"
                      >
                        Flop 1
                      </div>
                      <div
                        class="hand-slot"
                        data-slot-type="board"
                        data-board-index="1"
                      >
                        Flop 2
                      </div>
                      <div
                        class="hand-slot"
                        data-slot-type="board"
                        data-board-index="2"
                      >
                        Flop 3
                      </div>
                    </div>
                    <div class="flex gap-2" id="board-turn">
                      <div
                        class="hand-slot"
                        data-slot-type="board"
                        data-board-index="3"
                      >
                        Turn
                      </div>
                    </div>
                    <div class="flex gap-2" id="board-river">
                      <div
                        class="hand-slot"
                        data-slot-type="board"
                        data-board-index="4"
                      >
                        River
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card picker -->
              <div class="border-t pt-4">
                <div class="flex items-center justify-between mb-3">
                  <h2 class="text-lg font-semibold">Card picker</h2>
                  <div class="flex flex-wrap gap-2 text-xs">
                    <button
                      id="btn-clear-all"
                      type="button"
                      class="px-3 py-1 rounded-full border border-gray-300 text-gray-700 hover:bg-gray-50"
                    >
                      Clear all
                    </button>
                    <button
                      id="btn-randomize"
                      type="button"
                      class="px-3 py-1 rounded-full border border-blue-500 text-blue-600 hover:bg-blue-50"
                    >
                      Randomize unknown
                    </button>
                  </div>
                </div>
                <div class="space-y-2">
                  <div
                    class="flex gap-2 items-center text-xs text-gray-500 mb-1"
                  >
                    <span class="w-2 h-2 rounded-full bg-green-500"></span
                    ><span>Available</span>
                    <span class="w-2 h-2 rounded-full bg-gray-300 ml-3"></span
                    ><span>Used</span>
                  </div>
                  <div id="card-picker" class="space-y-2">
                    <!-- Ranks x Suits grid -->
                  </div>
                </div>
              </div>

              <!-- Actions -->
              <div class="flex flex-wrap items-center gap-3 border-t pt-4">
                <button
                  id="btn-calc"
                  type="button"
                  class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md shadow-sm"
                >
                  Calculate odds
                </button>
                <button
                  id="btn-training"
                  type="button"
                  class="inline-flex items-center justify-center px-3 py-2 border border-emerald-500 text-emerald-600 text-sm font-medium rounded-md hover:bg-emerald-50"
                >
                  Start training hand
                </button>
                <p id="calc-status" class="text-xs text-gray-500"></p>
              </div>

              <!-- Results -->
              <div id="results-section" class="mt-4 hidden">
                <h2 class="text-lg font-semibold mb-3">Results</h2>
                <div
                  id="results-summary"
                  class="grid md:grid-cols-2 gap-3 mb-4 text-sm text-gray-700"
                >
                  <!-- Filled dynamically -->
                </div>
                <div id="results-table" class="space-y-3">
                  <!-- Player rows -->
                </div>
              </div>

              <!-- Training mode -->
              <div id="training-section" class="mt-6 hidden border-t pt-4">
                <h2 class="text-lg font-semibold mb-2">Training mode</h2>
                <p class="text-sm text-gray-600 mb-3">
                  We’ve dealt you a random situation. Estimate your equity
                  before revealing the exact odds.
                </p>
                <div class="grid md:grid-cols-2 gap-4 mb-3">
                  <div>
                    <label
                      for="training-guess"
                      class="block text-sm font-medium text-gray-700"
                      >Your equity guess (%)</label
                    >
                    <input
                      id="training-guess"
                      type="number"
                      min="0"
                      max="100"
                      step="0.1"
                      class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                      placeholder="e.g. 35"
                    />
                  </div>
                  <div class="flex items-end gap-2">
                    <button
                      id="btn-training-check"
                      type="button"
                      class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium rounded-md"
                    >
                      Check answer
                    </button>
                    <button
                      id="btn-training-new"
                      type="button"
                      class="px-3 py-2 border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50"
                    >
                      New hand
                    </button>
                  </div>
                </div>
                <p id="training-feedback" class="text-sm"></p>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="mt-8 prose">
              <h2>How this poker odds calculator works</h2>
              <p>
                This tool evaluates Texas Hold’em hands by simulating all
                possible remaining cards (or a large random sample) and counting
                how often each player wins or ties. It supports up to 9 players
                and any stage of the hand: preflop, flop, turn, or river.
              </p>

              <h3>Equity, win%, and tie%</h3>
              <p>For each player we compute:</p>
              <ul>
                <li>
                  <strong>Win%</strong> – probability that the player wins the
                  whole pot.
                </li>
                <li>
                  <strong>Tie%</strong> – probability that the player ties and
                  splits the pot.
                </li>
                <li>
                  <strong>Equity%</strong> – average share of the pot: \[
                  \text{Equity} = \text{Win\%} +
                  \frac{\text{Tie\%}}{\text{number of players in tie}} \] In a
                  two-player pot this simplifies to: \[ \text{Equity} =
                  \text{Win\%} + 0.5 \times \text{Tie\%} \]
                </li>
              </ul>

              <h3>Exact enumeration vs Monte Carlo simulation</h3>
              <p>
                When the number of unknown cards is small (for example, only the
                river card is unknown), the calculator can enumerate every
                possible remaining card and return <strong>exact</strong> odds.
                When many cards are unknown (preflop multi-way pots), the number
                of combinations explodes, so we use a fast Monte Carlo
                simulation:
              </p>
              <div class="formula-box text-sm">
                <ol>
                  <li>Randomly shuffle the remaining deck.</li>
                  <li>Deal the missing board cards.</li>
                  <li>Evaluate all hands and record the winner(s).</li>
                  <li>Repeat this process N times (2,000–100,000).</li>
                  <li>
                    Estimate probabilities as <code>wins / N</code> and
                    <code>ties / N</code>.
                  </li>
                </ol>
              </div>
              <p>
                The more trials we run, the closer the estimates get to the true
                probabilities. For study and training, 10,000 trials is usually
                more than enough.
              </p>

              <h2>Quick reference: common Texas Hold’em odds</h2>
              <p>These are approximate odds you can memorize for live play:</p>
              <div class="overflow-x-auto">
                <table class="min-w-full text-sm border border-gray-200">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="px-3 py-2 text-left border-b">Situation</th>
                      <th class="px-3 py-2 text-left border-b">Outs</th>
                      <th class="px-3 py-2 text-left border-b">
                        Turn+River (from flop)
                      </th>
                      <th class="px-3 py-2 text-left border-b">
                        One card (turn or river)
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b">
                      <td class="px-3 py-2">Open-ended straight draw</td>
                      <td class="px-3 py-2">8</td>
                      <td class="px-3 py-2">~31.5%</td>
                      <td class="px-3 py-2">~17.4%</td>
                    </tr>
                    <tr class="border-b">
                      <td class="px-3 py-2">Flush draw</td>
                      <td class="px-3 py-2">9</td>
                      <td class="px-3 py-2">~35.0%</td>
                      <td class="px-3 py-2">~19.6%</td>
                    </tr>
                    <tr class="border-b">
                      <td class="px-3 py-2">Gutshot straight draw</td>
                      <td class="px-3 py-2">4</td>
                      <td class="px-3 py-2">~16.5%</td>
                      <td class="px-3 py-2">~8.7%</td>
                    </tr>
                    <tr class="border-b">
                      <td class="px-3 py-2">Two overcards (e.g. A K vs 9 8)</td>
                      <td class="px-3 py-2">~6</td>
                      <td class="px-3 py-2">~24–25%</td>
                      <td class="px-3 py-2">~13%</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">
                        Set vs overpair (e.g. 5 5 vs A A on 5 9 J)
                      </td>
                      <td class="px-3 py-2">–</td>
                      <td class="px-3 py-2">Set is ~95% favorite</td>
                      <td class="px-3 py-2">–</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <h3>The “Rule of 2 and 4”</h3>
              <p>
                At the table you don’t have time to run full combinatorics. A
                common shortcut is:
              </p>
              <ul>
                <li>
                  <strong>From the turn</strong> (one card to come):
                  <code>Equity ≈ outs × 2</code>.
                </li>
                <li>
                  <strong>From the flop</strong> (two cards to come):
                  <code>Equity ≈ outs × 4</code>.
                </li>
              </ul>
              <p>
                For example, with a flush draw on the flop you have 9 outs: \[ 9
                \times 4 \approx 36\% \quad (\text{exact: } 35\%) \]
              </p>

              <h2>Using odds to make better decisions</h2>
              <h3>Pot odds</h3>
              <p>
                Pot odds compare the price of a call to the size of the pot:
              </p>
              <div class="formula-box text-sm">
                \[ \text{Pot odds} = \frac{\text{Amount to call}}{\text{Pot
                after you call}} \]
              </div>
              <p>
                If the pot is $90 and you must call $10, the pot will be $100
                after you call. Your pot odds are: \[ 10 / 100 = 10\% \] You
                should continue if your equity is higher than 10%.
              </p>

              <h3>Implied odds and reverse implied odds</h3>
              <ul>
                <li>
                  <strong>Implied odds</strong> – future money you can win when
                  you hit your draw.
                </li>
                <li>
                  <strong>Reverse implied odds</strong> – money you may lose
                  when you hit but are still second best (e.g. small flush vs
                  nut flush).
                </li>
              </ul>
              <p>
                The calculator gives you the raw equity. It’s up to you to
                adjust for implied and reverse implied odds based on stack sizes
                and opponent tendencies.
              </p>

              <h2>FAQ</h2>
              <h3>Can I enter hand ranges instead of exact cards?</h3>
              <p>
                This version focuses on exact cards for clarity and speed. A
                future update may add range vs range simulations (e.g. UTG
                opening range vs BB calling range).
              </p>

              <h3>Why do my odds change when I add more players?</h3>
              <p>
                With more opponents there are more ways for someone to make a
                better hand, so your equity usually decreases. However,
                multi-way pots can also improve the value of strong drawing
                hands that can win big pots when they hit.
              </p>

              <h3>Is this calculator suitable for tournaments?</h3>
              <p>
                Yes. The underlying card odds are the same in cash games and
                tournaments. What changes is the <em>value</em> of chips (ICM),
                which this tool does not model. Use it to understand hand
                strength, then apply tournament strategy separately.
              </p>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Poker, Odds.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>
        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              Related Lifestyle & Everyday tools
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/darts-checkout"
                  class="text-blue-600 hover:underline"
                  >Darts Checkout</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/poker-odds"
                  class="text-gray-500 cursor-default"
                  >Poker Odds (you are here)</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/rock-paper-scissors-simulator"
                  class="text-blue-600 hover:underline"
                  >Rock Paper Scissors Simulator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/slot-machine-payout"
                  class="text-blue-600 hover:underline"
                  >Slot Machine Payout</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/roulette-odds"
                  class="text-blue-600 hover:underline"
                  >Roulette Odds</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lottery-calculator"
                  class="text-blue-600 hover:underline"
                  >Lottery Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/odds-calculator"
                  class="text-blue-600 hover:underline"
                  >Odds Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/cardio-calculator"
                  class="text-blue-600 hover:underline"
                  >Cardio Calculator</a
                >
              </li>
            </ul>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">
              Tips for studying poker odds
            </h2>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>
                Drill common spots (flush draws, straight draws, overpairs)
                until you can estimate equity quickly.
              </li>
              <li>
                Use training mode to test your intuition, then compare with
                exact results.
              </li>
              <li>
                Review big pots from your sessions and run them through the
                calculator.
              </li>
              <li>
                Combine odds with position, stack depth, and opponent tendencies
                for better decisions.
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      // --- Poker odds calculator JS ---

      const RANKS = [
        "A",
        "K",
        "Q",
        "J",
        "T",
        "9",
        "8",
        "7",
        "6",
        "5",
        "4",
        "3",
        "2",
      ];
      const SUITS = ["♠", "♥", "♦", "♣"];
      const SUIT_CODES = ["s", "h", "d", "c"]; // internal

      let deck = [];
      let usedCards = new Set(); // e.g. "As", "Td"
      let activeSlot = null; // { type: 'player'|'board', playerIndex?, cardIndex?|boardIndex }

      const players = [];
      const maxPlayers = 9;

      function initDeck() {
        deck = [];
        for (let r = 0; r < RANKS.length; r++) {
          for (let s = 0; s < SUITS.length; s++) {
            deck.push(RANKS[r] + SUIT_CODES[s]);
          }
        }
      }

      function cardToDisplay(card) {
        const rank = card[0];
        const suitCode = card[1];
        const suitIndex = SUIT_CODES.indexOf(suitCode);
        const suitChar = SUITS[suitIndex];
        return rank + suitChar;
      }

      function createPlayers(count) {
        players.length = 0;
        for (let i = 0; i < count; i++) {
          players.push({
            index: i,
            cards: [null, null],
          });
        }
      }

      function renderPlayers() {
        const container = document.getElementById("players-container");
        container.innerHTML = "";
        players.forEach((p) => {
          const div = document.createElement("div");
          div.className =
            "flex items-center justify-between gap-3 flex-wrap border border-gray-200 rounded-md px-3 py-2";

          const left = document.createElement("div");
          left.className = "flex items-center gap-2";
          const label = document.createElement("span");
          label.className = "text-sm font-medium text-gray-800";
          label.textContent = "Player " + (p.index + 1);
          left.appendChild(label);

          const slots = document.createElement("div");
          slots.className = "flex gap-2";
          for (let i = 0; i < 2; i++) {
            const slot = document.createElement("div");
            slot.className = "hand-slot";
            slot.dataset.slotType = "player";
            slot.dataset.playerIndex = p.index;
            slot.dataset.cardIndex = i;
            slot.textContent = i === 0 ? "Card 1" : "Card 2";
            if (p.cards[i]) {
              slot.classList.add("filled");
              slot.textContent = cardToDisplay(p.cards[i]);
            }
            slot.addEventListener("click", () => setActiveSlot(slot));
            slots.appendChild(slot);
          }
          left.appendChild(slots);

          const right = document.createElement("div");
          right.className = "flex items-center gap-2 text-xs";
          const randomBtn = document.createElement("button");
          randomBtn.type = "button";
          randomBtn.className =
            "px-2 py-1 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50";
          randomBtn.textContent = "Random";
          randomBtn.addEventListener("click", () => randomizePlayer(p.index));
          const clearBtn = document.createElement("button");
          clearBtn.type = "button";
          clearBtn.className =
            "px-2 py-1 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50";
          clearBtn.textContent = "Clear";
          clearBtn.addEventListener("click", () => clearPlayer(p.index));
          right.appendChild(randomBtn);
          right.appendChild(clearBtn);

          div.appendChild(left);
          div.appendChild(right);
          container.appendChild(div);
        });

        // reattach board slot listeners
        document
          .querySelectorAll('.hand-slot[data-slot-type="board"]')
          .forEach((slot) => {
            slot.addEventListener("click", () => setActiveSlot(slot));
          });
      }

      function setActiveSlot(slot) {
        document
          .querySelectorAll(".hand-slot")
          .forEach((s) => s.classList.remove("ring-2", "ring-blue-400"));
        slot.classList.add("ring-2", "ring-blue-400");
        activeSlot = {
          type: slot.dataset.slotType,
          playerIndex:
            slot.dataset.playerIndex !== undefined
              ? parseInt(slot.dataset.playerIndex)
              : null,
          cardIndex:
            slot.dataset.cardIndex !== undefined
              ? parseInt(slot.dataset.cardIndex)
              : null,
          boardIndex:
            slot.dataset.boardIndex !== undefined
              ? parseInt(slot.dataset.boardIndex)
              : null,
          element: slot,
        };
      }

      function renderCardPicker() {
        const container = document.getElementById("card-picker");
        container.innerHTML = "";

        RANKS.forEach((rank) => {
          const row = document.createElement("div");
          row.className = "flex items-center gap-2";
          const label = document.createElement("div");
          label.className = "w-6 text-xs text-gray-500 text-right";
          label.textContent = rank;
          row.appendChild(label);

          SUIT_CODES.forEach((suitCode, idx) => {
            const card = rank + suitCode;
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className =
              "poker-card " +
              (suitCode === "h" || suitCode === "d" ? "red" : "");
            btn.dataset.card = card;
            btn.textContent = cardToDisplay(card);
            if (usedCards.has(card)) {
              btn.classList.add("disabled");
            }
            btn.addEventListener("click", () => onCardClick(card));
            row.appendChild(btn);
          });

          container.appendChild(row);
        });
      }

      function onCardClick(card) {
        if (!activeSlot) return;
        if (usedCards.has(card)) return;

        // Remove previous card from this slot if any
        if (activeSlot.type === "player") {
          const p = players[activeSlot.playerIndex];
          const prev = p.cards[activeSlot.cardIndex];
          if (prev) usedCards.delete(prev);
          p.cards[activeSlot.cardIndex] = card;
          activeSlot.element.classList.add("filled");
          activeSlot.element.textContent = cardToDisplay(card);
        } else if (activeSlot.type === "board") {
          const boardIndex = activeSlot.boardIndex;
          const prev = board[boardIndex];
          if (prev) usedCards.delete(prev);
          board[boardIndex] = card;
          activeSlot.element.classList.add("filled");
          activeSlot.element.textContent = cardToDisplay(card);
        }

        usedCards.add(card);
        renderCardPicker();
      }

      function clearPlayer(index) {
        const p = players[index];
        p.cards.forEach((c) => {
          if (c) usedCards.delete(c);
        });
        p.cards = [null, null];
        renderPlayers();
        renderCardPicker();
      }

      function randomCard(excludeSet) {
        const available = deck.filter((c) => !excludeSet.has(c));
        if (available.length === 0) return null;
        return available[Math.floor(Math.random() * available.length)];
      }

      function randomizePlayer(index) {
        const p = players[index];
        p.cards.forEach((c) => {
          if (c) usedCards.delete(c);
        });
        p.cards = [null, null];
        for (let i = 0; i < 2; i++) {
          const c = randomCard(usedCards);
          if (!c) break;
          p.cards[i] = c;
          usedCards.add(c);
        }
        renderPlayers();
        renderCardPicker();
      }

      const board = [null, null, null, null, null];

      function clearBoard() {
        for (let i = 0; i < 5; i++) {
          if (board[i]) usedCards.delete(board[i]);
          board[i] = null;
        }
        document
          .querySelectorAll('.hand-slot[data-slot-type="board"]')
          .forEach((slot, idx) => {
            slot.classList.remove("filled", "ring-2", "ring-blue-400");
            slot.textContent =
              idx < 3 ? "Flop " + (idx + 1) : idx === 3 ? "Turn" : "River";
          });
        activeSlot = null;
        renderCardPicker();
      }

      function clearAll() {
        usedCards.clear();
        players.forEach((p) => (p.cards = [null, null]));
        clearBoard();
        renderPlayers();
        renderCardPicker();
        document.getElementById("results-section").classList.add("hidden");
        document.getElementById("training-section").classList.add("hidden");
        document.getElementById("calc-status").textContent = "";
      }

      // --- Hand evaluation helpers (simplified but correct ranking) ---

      const RANK_ORDER = [
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "T",
        "J",
        "Q",
        "K",
        "A",
      ];

      function rankValue(r) {
        return RANK_ORDER.indexOf(r);
      }

      function combinations(arr, k) {
        const result = [];
        function helper(start, combo) {
          if (combo.length === k) {
            result.push(combo.slice());
            return;
          }
          for (let i = start; i < arr.length; i++) {
            combo.push(arr[i]);
            helper(i + 1, combo);
            combo.pop();
          }
        }
        helper(0, []);
        return result;
      }

      function evaluate5(cards) {
        // cards: array of 5 like "As"
        const ranks = cards.map((c) => c[0]);
        const suits = cards.map((c) => c[1]);
        const counts = {};
        ranks.forEach((r) => (counts[r] = (counts[r] || 0) + 1));
        const uniqueRanks = Object.keys(counts).sort(
          (a, b) => rankValue(b) - rankValue(a)
        );
        const countValues = Object.values(counts).sort((a, b) => b - a);
        const isFlush = suits.every((s) => s === suits[0]);

        // Straight detection (including wheel A-5)
        const sortedVals = [...new Set(ranks.map(rankValue))].sort(
          (a, b) => a - b
        );
        let isStraight = false;
        let highStraight = null;
        if (sortedVals.length === 5 && sortedVals[4] - sortedVals[0] === 4) {
          isStraight = true;
          highStraight = sortedVals[4];
        } else if (
          JSON.stringify(sortedVals) === JSON.stringify([0, 1, 2, 3, 12])
        ) {
          // A-5
          isStraight = true;
          highStraight = 3; // 5-high
        }

        // Straight flush / Royal flush
        if (isFlush && isStraight) {
          return [8, highStraight]; // 8 = straight flush
        }

        // Four of a kind
        if (countValues[0] === 4) {
          const fourRank = uniqueRanks.find((r) => counts[r] === 4);
          const kicker = uniqueRanks.find((r) => counts[r] === 1);
          return [7, rankValue(fourRank), rankValue(kicker)];
        }

        // Full house
        if (countValues[0] === 3 && countValues[1] === 2) {
          const threeRank = uniqueRanks.find((r) => counts[r] === 3);
          const pairRank = uniqueRanks.find((r) => counts[r] === 2);
          return [6, rankValue(threeRank), rankValue(pairRank)];
        }

        // Flush
        if (isFlush) {
          const vals = ranks.map(rankValue).sort((a, b) => b - a);
          return [5, ...vals];
        }

        // Straight
        if (isStraight) {
          return [4, highStraight];
        }

        // Three of a kind
        if (countValues[0] === 3) {
          const threeRank = uniqueRanks.find((r) => counts[r] === 3);
          const kickers = uniqueRanks
            .filter((r) => counts[r] === 1)
            .map(rankValue)
            .sort((a, b) => b - a);
          return [3, rankValue(threeRank), ...kickers];
        }

        // Two pair
        if (countValues[0] === 2 && countValues[1] === 2) {
          const pairRanks = uniqueRanks
            .filter((r) => counts[r] === 2)
            .map(rankValue)
            .sort((a, b) => b - a);
          const kicker = uniqueRanks.find((r) => counts[r] === 1);
          return [2, ...pairRanks, rankValue(kicker)];
        }

        // One pair
        if (countValues[0] === 2) {
          const pairRank = uniqueRanks.find((r) => counts[r] === 2);
          const kickers = uniqueRanks
            .filter((r) => counts[r] === 1)
            .map(rankValue)
            .sort((a, b) => b - a);
          return [1, rankValue(pairRank), ...kickers];
        }

        // High card
        const vals = ranks.map(rankValue).sort((a, b) => b - a);
        return [0, ...vals];
      }

      function compareRanks(a, b) {
        for (let i = 0; i < Math.max(a.length, b.length); i++) {
          const av = a[i] ?? -1;
          const bv = b[i] ?? -1;
          if (av > bv) return 1;
          if (av < bv) return -1;
        }
        return 0;
      }

      function bestHand7(cards7) {
        const combos = combinations(cards7, 5);
        let best = null;
        combos.forEach((c) => {
          const rank = evaluate5(c);
          if (!best || compareRanks(rank, best) > 0) {
            best = rank;
          }
        });
        return best;
      }

      function getUnknownBoardIndices() {
        const idxs = [];
        for (let i = 0; i < 5; i++) if (!board[i]) idxs.push(i);
        return idxs;
      }

      function getKnownBoard() {
        return board.filter((c) => c !== null);
      }

      function getKnownCards() {
        const arr = [];
        players.forEach((p) =>
          p.cards.forEach((c) => {
            if (c) arr.push(c);
          })
        );
        getKnownBoard().forEach((c) => arr.push(c));
        return arr;
      }

      function validateInput() {
        const count = players.length;
        if (count < 2) {
          return "Please select at least 2 players.";
        }
        for (let i = 0; i < count; i++) {
          const p = players[i];
          if (!p.cards[0] || !p.cards[1]) {
            return "Player " + (i + 1) + " is missing cards.";
          }
        }
        return null;
      }

      function enumerateUnknownBoards() {
        const unknownIdx = getUnknownBoardIndices();
        const known = getKnownBoard();
        const exclude = new Set(getKnownCards());
        const remaining = deck.filter((c) => !exclude.has(c));
        const k = unknownIdx.length;
        if (k === 0) return [board.slice()];

        const combos = combinations(remaining, k);
        const boards = [];
        combos.forEach((combo) => {
          const b = board.slice();
          combo.forEach((card, i) => {
            b[unknownIdx[i]] = card;
          });
          boards.push(b);
        });
        return boards;
      }

      function shouldUseExact(mode) {
        const unknown = getUnknownBoardIndices().length;
        const knownCards = getKnownCards().length;
        const remaining = 52 - knownCards;
        const combosCount = combinationsCount(remaining, unknown);
        if (mode === "exact") return true;
        if (mode.startsWith("mc-")) return false;
        // auto: exact if combinations <= 50k
        return combosCount <= 50000;
      }

      function combinationsCount(n, k) {
        if (k === 0) return 1;
        if (k > n) return 0;
        let res = 1;
        for (let i = 1; i <= k; i++) {
          res = (res * (n - i + 1)) / i;
        }
        return res;
      }

      function runExact() {
        const boards = enumerateUnknownBoards();
        const wins = new Array(players.length).fill(0);
        const ties = new Array(players.length).fill(0);
        let total = 0;

        boards.forEach((b) => {
          total++;
          const ranks = players.map((p) => {
            const cards7 = [...p.cards, ...b];
            return bestHand7(cards7);
          });
          let bestIndex = 0;
          for (let i = 1; i < ranks.length; i++) {
            if (compareRanks(ranks[i], ranks[bestIndex]) > 0) bestIndex = i;
          }
          const bestRank = ranks[bestIndex];
          const winners = [];
          ranks.forEach((r, idx) => {
            if (compareRanks(r, bestRank) === 0) winners.push(idx);
          });
          if (winners.length === 1) {
            wins[winners[0]]++;
          } else {
            winners.forEach((idx) => ties[idx]++);
          }
        });

        return { wins, ties, total };
      }

      function parseModeTrials(mode) {
        if (mode.startsWith("mc-")) {
          const n = parseInt(mode.split("-")[1], 10);
          return isNaN(n) ? 10000 : n;
        }
        return 10000;
      }

      function runMonteCarlo(trials) {
        const wins = new Array(players.length).fill(0);
        const ties = new Array(players.length).fill(0);
        let total = 0;

        const unknownIdx = getUnknownBoardIndices();
        const known = getKnownBoard();
        const knownSet = new Set(getKnownCards());

        for (let t = 0; t < trials; t++) {
          // build random board
          const remaining = deck.filter((c) => !knownSet.has(c));
          // shuffle remaining
          for (let i = remaining.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [remaining[i], remaining[j]] = [remaining[j], remaining[i]];
          }
          const b = board.slice();
          unknownIdx.forEach((idx, i) => {
            b[idx] = remaining[i];
          });

          total++;
          const ranks = players.map((p) => {
            const cards7 = [...p.cards, ...b];
            return bestHand7(cards7);
          });
          let bestIndex = 0;
          for (let i = 1; i < ranks.length; i++) {
            if (compareRanks(ranks[i], ranks[bestIndex]) > 0) bestIndex = i;
          }
          const bestRank = ranks[bestIndex];
          const winners = [];
          ranks.forEach((r, idx) => {
            if (compareRanks(r, bestRank) === 0) winners.push(idx);
          });
          if (winners.length === 1) {
            wins[winners[0]]++;
          } else {
            winners.forEach((idx) => ties[idx]++);
          }
        }

        return { wins, ties, total };
      }

      function computeResults() {
        const error = validateInput();
        if (error) {
          alert(error);
          return;
        }
        const mode = document.getElementById("calc-mode").value;
        const statusEl = document.getElementById("calc-status");
        statusEl.textContent = "Calculating...";

        setTimeout(() => {
          const useExact = shouldUseExact(mode);
          let res;
          if (useExact) {
            res = runExact();
          } else {
            const trials = parseModeTrials(mode);
            res = runMonteCarlo(trials);
          }

          const { wins, ties, total } = res;
          const equities = [];
          for (let i = 0; i < players.length; i++) {
            const winPct = (wins[i] / total) * 100;
            const tiePct = (ties[i] / total) * 100;
            // approximate equity: win% + tie% / number of players
            const equity = winPct + tiePct / players.length;
            equities.push({ winPct, tiePct, equity });
          }

          renderResults(equities, total, useExact);
          statusEl.textContent = useExact
            ? "Exact calculation over " +
              total.toLocaleString() +
              " board combinations."
            : "Monte Carlo simulation with " +
              total.toLocaleString() +
              " trials.";
        }, 10);
      }

      function renderResults(equities, total, exact) {
        const section = document.getElementById("results-section");
        section.classList.remove("hidden");

        const summary = document.getElementById("results-summary");
        const knownBoardCount = getKnownBoard().length;
        const stage =
          knownBoardCount === 0
            ? "Preflop"
            : knownBoardCount === 3
            ? "Flop"
            : knownBoardCount === 4
            ? "Turn"
            : "River";

        summary.innerHTML = `
      <div class="bg-gray-50 border border-gray-200 rounded-md px-3 py-2">
        <div class="text-xs uppercase tracking-wide text-gray-500 mb-1">Hand stage</div>
        <div class="text-sm font-medium text-gray-800">${stage}</div>
      </div>
      <div class="bg-gray-50 border border-gray-200 rounded-md px-3 py-2">
        <div class="text-xs uppercase tracking-wide text-gray-500 mb-1">Method</div>
        <div class="text-sm font-medium text-gray-800">
          ${
            exact ? "Exact enumeration" : "Monte Carlo simulation"
          } (${total.toLocaleString()} samples)
        </div>
      </div>
    `;

        const table = document.getElementById("results-table");
        table.innerHTML = "";
        const bestEquity = Math.max(...equities.map((e) => e.equity));

        players.forEach((p, idx) => {
          const e = equities[idx];
          const row = document.createElement("div");
          row.className =
            "border border-gray-200 rounded-md px-3 py-2 flex flex-col gap-2";

          const header = document.createElement("div");
          header.className = "flex items-center justify-between gap-2";
          const left = document.createElement("div");
          left.className = "flex items-center gap-2";
          const name = document.createElement("span");
          name.className = "text-sm font-semibold text-gray-800";
          name.textContent = "Player " + (idx + 1);
          const cardsSpan = document.createElement("span");
          cardsSpan.className = "text-xs text-gray-600";
          cardsSpan.textContent =
            cardToDisplay(p.cards[0]) + " " + cardToDisplay(p.cards[1]);
          left.appendChild(name);
          left.appendChild(cardsSpan);

          const badge = document.createElement("span");
          badge.className =
            "result-badge" +
            (Math.abs(e.equity - bestEquity) < 1e-6 ? " best" : "");
          badge.textContent =
            Math.abs(e.equity - bestEquity) < 1e-6 ? "Best hand" : "In play";

          header.appendChild(left);
          header.appendChild(badge);

          const bar = document.createElement("div");
          bar.className = "range-bar";
          const inner = document.createElement("div");
          inner.className = "range-bar-inner";
          inner.style.width = e.equity.toFixed(1) + "%";
          bar.appendChild(inner);

          const stats = document.createElement("div");
          stats.className = "flex flex-wrap gap-4 text-xs text-gray-700 mt-1";
          stats.innerHTML = `
        <span><strong>Equity:</strong> ${e.equity.toFixed(1)}%</span>
        <span><strong>Win%:</strong> ${e.winPct.toFixed(1)}%</span>
        <span><strong>Tie%:</strong> ${e.tiePct.toFixed(1)}%</span>
      `;

          row.appendChild(header);
          row.appendChild(bar);
          row.appendChild(stats);
          table.appendChild(row);
        });
      }

      // --- Training mode ---

      let trainingActive = false;
      let trainingHeroIndex = 0;
      let trainingEquity = 0;

      function startTrainingHand() {
        clearAll();
        trainingActive = true;
        document.getElementById("training-section").classList.remove("hidden");
        document.getElementById("training-feedback").textContent = "";
        dealTrainingScenario();
      }

      function dealTrainingScenario() {
        usedCards.clear();
        players.forEach((p) => (p.cards = [null, null]));
        for (let i = 0; i < 5; i++) board[i] = null;

        // 2–3 players random, flop or turn
        const playerCount = Math.floor(Math.random() * 2) + 2; // 2 or 3
        document.getElementById("player-count").value = String(playerCount);
        createPlayers(playerCount);

        // random hero index
        trainingHeroIndex = 0;

        // deal hero cards
        for (let i = 0; i < 2; i++) {
          const c = randomCard(usedCards);
          if (!c) break;
          players[trainingHeroIndex].cards[i] = c;
          usedCards.add(c);
        }

        // deal villain cards
        for (let p = 1; p < playerCount; p++) {
          for (let i = 0; i < 2; i++) {
            const c = randomCard(usedCards);
            if (!c) break;
            players[p].cards[i] = c;
            usedCards.add(c);
          }
        }

        // random board stage: flop or turn
        const stage = Math.random() < 0.5 ? 3 : 4;
        for (let i = 0; i < stage; i++) {
          const c = randomCard(usedCards);
          if (!c) break;
          board[i] = c;
          usedCards.add(c);
        }

        renderPlayers();
        // render board
        document
          .querySelectorAll('.hand-slot[data-slot-type="board"]')
          .forEach((slot, idx) => {
            if (board[idx]) {
              slot.classList.add("filled");
              slot.textContent = cardToDisplay(board[idx]);
            } else {
              slot.classList.remove("filled");
              slot.textContent =
                idx < 3 ? "Flop " + (idx + 1) : idx === 3 ? "Turn" : "River";
            }
            slot.addEventListener("click", () => setActiveSlot(slot));
          });
        renderCardPicker();

        // compute hero equity for feedback
        const mode = "mc-10000";
        const res = runMonteCarlo(parseModeTrials(mode));
        const { wins, ties, total } = res;
        const winPct = (wins[trainingHeroIndex] / total) * 100;
        const tiePct = (ties[trainingHeroIndex] / total) * 100;
        trainingEquity = winPct + tiePct / players.length;
      }

      function checkTrainingAnswer() {
        if (!trainingActive) return;
        const input = document.getElementById("training-guess");
        const val = parseFloat(input.value);
        const fb = document.getElementById("training-feedback");
        if (isNaN(val)) {
          fb.textContent = "Enter your best guess first.";
          fb.className = "text-sm text-red-600";
          return;
        }
        const diff = Math.abs(val - trainingEquity);
        let msg;
        let cls;
        if (diff <= 3) {
          msg = `Excellent! Your guess (${val.toFixed(
            1
          )}%) is very close. Actual equity: ${trainingEquity.toFixed(1)}%.`;
          cls = "text-sm text-emerald-600";
        } else if (diff <= 8) {
          msg = `Not bad. Your guess (${val.toFixed(
            1
          )}%) is reasonably close. Actual equity: ${trainingEquity.toFixed(
            1
          )}%.`;
          cls = "text-sm text-amber-600";
        } else {
          msg = `Keep practicing. Your guess (${val.toFixed(
            1
          )}%) is off by ${diff.toFixed(
            1
          )} points. Actual equity: ${trainingEquity.toFixed(1)}%.`;
          cls = "text-sm text-red-600";
        }
        fb.textContent = msg;
        fb.className = cls;
      }

      // --- Event listeners & init ---

      document.addEventListener("DOMContentLoaded", () => {
        initDeck();
        const playerCountSelect = document.getElementById("player-count");
        createPlayers(parseInt(playerCountSelect.value, 10));
        renderPlayers();
        renderCardPicker();

        playerCountSelect.addEventListener("change", () => {
          const count = parseInt(playerCountSelect.value, 10);
          createPlayers(count);
          // clear used cards and board when changing player count
          usedCards.clear();
          for (let i = 0; i < 5; i++) board[i] = null;
          renderPlayers();
          document
            .querySelectorAll('.hand-slot[data-slot-type="board"]')
            .forEach((slot, idx) => {
              slot.classList.remove("filled", "ring-2", "ring-blue-400");
              slot.textContent =
                idx < 3 ? "Flop " + (idx + 1) : idx === 3 ? "Turn" : "River";
              slot.addEventListener("click", () => setActiveSlot(slot));
            });
          renderCardPicker();
          document.getElementById("results-section").classList.add("hidden");
          document.getElementById("training-section").classList.add("hidden");
        });

        document
          .getElementById("btn-clear-all")
          .addEventListener("click", clearAll);
        document
          .getElementById("btn-randomize")
          .addEventListener("click", () => {
            // randomize all unknown player cards and board
            usedCards.clear();
            players.forEach((p, idx) => randomizePlayer(idx));
            for (let i = 0; i < 5; i++) {
              if (board[i]) usedCards.delete(board[i]);
              board[i] = null;
            }
            // randomize flop, turn, river
            for (let i = 0; i < 5; i++) {
              const c = randomCard(usedCards);
              if (!c) break;
              board[i] = c;
              usedCards.add(c);
            }
            renderPlayers();
            document
              .querySelectorAll('.hand-slot[data-slot-type="board"]')
              .forEach((slot, idx) => {
                if (board[idx]) {
                  slot.classList.add("filled");
                  slot.textContent = cardToDisplay(board[idx]);
                } else {
                  slot.classList.remove("filled");
                  slot.textContent =
                    idx < 3
                      ? "Flop " + (idx + 1)
                      : idx === 3
                      ? "Turn"
                      : "River";
                }
                slot.addEventListener("click", () => setActiveSlot(slot));
              });
            renderCardPicker();
          });

        document
          .getElementById("btn-calc")
          .addEventListener("click", computeResults);
        document
          .getElementById("btn-training")
          .addEventListener("click", startTrainingHand);
        document
          .getElementById("btn-training-check")
          .addEventListener("click", checkTrainingAnswer);
        document
          .getElementById("btn-training-new")
          .addEventListener("click", () => {
            document.getElementById("training-guess").value = "";
            document.getElementById("training-feedback").textContent = "";
            dealTrainingScenario();
          });

        // attach board slot listeners
        document
          .querySelectorAll('.hand-slot[data-slot-type="board"]')
          .forEach((slot) => {
            slot.addEventListener("click", () => setActiveSlot(slot));
          });
      });
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
</body>
</html>
