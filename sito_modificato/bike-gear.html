<!DOCTYPE html><html lang="en"><head>
    <link rel="canonical" href="https://calcdomain.com/bike-gear">
    <title>Bike Gear Calculator | Health and Fitness</title>
    <meta name="description" content="Calculate the optimal bike gear ratio for your cycling needs with our interactive tool. Perfect for cyclists striving for performance improvement.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Bike Gear Calculator | Health and Fitness">
    <meta property="og:description" content="Calculate the optimal bike gear ratio for your cycling needs with our interactive tool. Perfect for cyclists striving for performance improvement.">
    <meta property="og:url" content="https://calcdomain.com/bike-gear">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bike Gear Calculator | Health and Fitness">
    <meta name="twitter:description" content="Calculate the optimal bike gear ratio for your cycling needs with our interactive tool. Perfect for cyclists striving for performance improvement.">

    <link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg">
    <link rel="shortcut icon" href="https://calcdomain.com/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png">
    <link rel="manifest" href="https://calcdomain.com/site.webmanifest">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', 'ui-sans-serif', 'system-ui', -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; background: #f8fafc; color: #0f172a; }
        .nav { width: 100%; }
        .calc-hero { display: grid; gap: 1.5rem; }
        @media (min-width: 1024px) {
            .calc-hero { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        .card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 1rem; box-shadow: 0 25px 50px -12px rgba(15, 23, 42, 0.35); }
        .sticky-box { position: sticky; top: 1.25rem; align-self: start; }
        .calc-input { width: 100%; padding: 0.65rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.65rem; font-size: 0.95rem; background: #fff; }
        .calc-input:focus { outline: none; border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15); }
        .calc-label { display: block; font-size: 0.85rem; font-weight: 600; color: #475569; margin-bottom: 0.3rem; }
        .result-box { background: linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%); border-radius: 1rem; padding: 1.5rem; text-align: center; border: 1px solid #bfdbfe; }
        .result-value { font-size: 2.75rem; font-weight: 800; color: #1d4ed8; }
        .kpi-row { display: flex; justify-content: space-between; padding: 0.75rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.95rem; }
        .kpi-row:last-child { border-bottom: none; }
        .kpi-label { color: #475569; }
        .kpi-value { font-weight: 700; color: #0f172a; }
        .btn { display: inline-flex; align-items: center; justify-content: center; border-radius: 0.75rem; padding: 0.875rem 1rem; font-weight: 600; transition: background 0.2s ease, border-color 0.2s ease; }
        .btn-primary { background: #2563eb; color: #ffffff; border: 1px solid transparent; }
        .btn-primary:hover { background: #1d4ed8; }
        .btn-secondary { background: #ffffff; color: #1f2937; border: 1px solid #d1d5db; }
        .btn-secondary:hover { background: #f8fafc; }
        .btnSecondary { border: 1px solid #d1d5db; }
        .alert-alert { display: none; }
        .alert { display: none; }
        .alert-error { display: none; padding: 0.75rem; margin-top: 0.75rem; border-radius: 0.5rem; background: #fef2f2; border-left: 4px solid #dc2626; color: #991b1b; font-size: 0.9rem; }
        .content-card { padding: 1.75rem; }
        .content-card h2, .content-card h3 { color: #0f172a; }
        .meta-section { padding: 1.5rem; }
        .sub { color: #475569; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Bike Gear Calculator",
        "description": "Calculate the optimal bike gear ratio for your cycling needs.",
        "url": "https://calcdomain.com/bike-gear",
        "reviewedBy": { "@type": "Person", "name": "Ugo Candido" },
        "dateModified": "2026-01-19"
    }</script>
</head><body class="bg-gray-50 text-gray-800">
    <header id="siteHeader" class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="nav container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a class="brand text-2xl font-bold text-blue-600" href="https://calcdomain.com">CalcDomain</a>
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input type="search" id="search-input" placeholder="Search for a calculator..." class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" autocomplete="off">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <div id="search-results" class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"></div>
            </div>
          </div>
          <div class="navRight hidden md:flex items-center space-x-6">
            <a class="pill text-gray-700 hover:text-blue-600 transition-colors" href="https://calcdomain.com/search">Advanced Search</a>
            <span class="pill text-gray-700 hover:text-blue-600 transition-colors">Categories</span>
          </div>
          <button id="mobile-menu-toggle" class="md:hidden p-2" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" type="button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        <nav id="mobile-menu" class="md:hidden mt-4 hidden" aria-label="Mobile menu" role="navigation">
          <div class="mb-4">
            <div class="relative">
              <input type="search" id="mobile-search-input" placeholder="Search calculators..." class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a href="https://calcdomain.com/search" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
            <a href="https://calcdomain.com/#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
          </div>
        </nav>
      </nav>
    </header>

    <main id="mainContent" class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
        <ol class="flex flex-wrap items-center gap-1">
          <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
          <li class="text-gray-400">/</li>
          <li><a href="https://calcdomain.com/categories/health-fitness" class="text-blue-600 hover:underline">Health &amp; Fitness</a></li>
          <li class="text-gray-400">/</li>
          <li><span class="text-gray-800">Bike Gear Calculator</span></li>
        </ol>
      </nav>

      <div class="space-y-3">
        <h1 id="pageTitle" class="text-3xl font-bold text-gray-900">Bike Gear Calculator</h1>
        <p id="pageSub" class="sub text-lg text-gray-600">Calculate the optimal bike gear ratio for your cycling needs with our interactive tool. Perfect for cyclists striving for performance improvement.</p>
        <div id="errorBox" class="alert alert-error" role="alert" aria-live="polite"></div>
      </div>

      <div class="calc-hero mt-8" id="calcHero" aria-label="Calculator hero">
        <section class="card" id="inputsCard" aria-label="Calculator inputs">
          <div id="calculator-ui" class="bg-gray-50 p-6 rounded-lg border border-gray-200">
            <h3 class="text-lg font-bold text-gray-700 mb-4 mt-0">Calculator Inputs</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="wheelDiameter" class="calc-label">Wheel Diameter (inches)</label>
                <input id="wheelDiameter" type="number" class="calc-input" value="26" step="0.25" min="0" inputmode="decimal">
              </div>
              <div>
                <label for="crankLength" class="calc-label">Crank Length (mm)</label>
                <input id="crankLength" type="number" class="calc-input" value="170" step="1" min="0" inputmode="decimal">
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
              <div>
                <label for="frontTeeth" class="calc-label">Front Gear Teeth</label>
                <input id="frontTeeth" type="number" class="calc-input" value="50" step="1" min="0" inputmode="numeric">
              </div>
              <div>
                <label for="rearTeeth" class="calc-label">Rear Gear Teeth</label>
                <input id="rearTeeth" type="number" class="calc-input" value="11" step="1" min="0" inputmode="numeric">
              </div>
            </div>
            <div class="flex gap-3 mt-6">
              <button class="btn btn-primary flex-1" id="calcBtn" type="button">Calculate</button>
              <button class="btn btn-secondary flex-1 btnSecondary" id="resetBtn" type="button">Reset</button>
            </div>
          </div>
          <div data-canon-btnrow="1" style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;"></div>
        </section>

        <section class="card sticky-box" id="resultsCard" aria-label="Calculator results">
          <div class="result-box mb-4">
            <div class="text-xs font-bold uppercase tracking-wide text-gray-500 mb-1">Gear Ratio (per crank revolution)</div>
            <div class="result-value" id="gearRatioValue">0.00</div>
          </div>
          <div class="bg-white border border-gray-200 rounded-lg p-4">
            <div class="kpi-row">
              <span class="kpi-label">Front / Rear Ratio</span>
              <span class="kpi-value" id="frontRearValue">0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Wheel / Crank Ratio</span>
              <span class="kpi-value" id="wheelCrankValue">0.00</span>
            </div>
            <div class="kpi-row">
              <span class="kpi-label">Gear Inches</span>
              <span class="kpi-value" id="gearInchesValue">0.00 in</span>
            </div>
          </div>
          <p id="resultsNote" class="text-sm text-gray-600 mt-4">Fill in the inputs and click Calculate to see how your gear setup performs.</p>
        </section>
      </div>

      <div class="flex flex-col lg:flex-row gap-8 mt-10">
        <section class="w-full lg:w-2/3 space-y-8">
          <section class="card content-card" id="howToUse" aria-label="How to use and methodology">
            <h2 class="text-2xl font-semibold">How to Use This Calculator</h2>
            <p>This tool helps cyclists find the optimal gear ratio for their bikes, enhancing performance and ensuring preparedness for varied terrain. It is suitable for both amateur and professional riders.</p>
            <p>Enter the wheel diameter, crank length, front gear teeth, and rear gear teeth. Click Calculate or change any input—results update immediately after a brief debounce.</p>

            <h2 class="text-2xl font-semibold mt-6">Methodology</h2>
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
              <p>The calculator follows the standard gear ratio formula by dividing the front gear by the rear gear and then accounting for the wheel-to-crank length relationship. Gear inches are computed as the front/rear ratio multiplied by the wheel diameter to highlight how far the bike travels with each crank rotation.</p>
            </div>
            <ul class="list-disc pl-5 mt-4 space-y-2 text-gray-700">
              <li>Gear ratio expresses the number of wheel rotations per full crank revolution.</li>
              <li>Wheel-to-crank ratio adjusts for varying crank lengths so you see the effective leverage in your setup.</li>
              <li>Gear inches appear in the results to support side-by-side comparisons with other builds.</li>
            </ul>

            <section class="mt-6">
              <h3 class="text-xl font-semibold">Glossary of Terms</h3>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                <li><strong>Wheel Diameter:</strong> The diameter of the bike's wheel in inches.</li>
                <li><strong>Crank Length:</strong> The length of the bike's crank in millimeters.</li>
                <li><strong>Front Gear Teeth:</strong> Number of teeth on the front chainring.</li>
                <li><strong>Rear Gear Teeth:</strong> Number of teeth on the rear cassette gear.</li>
                <li><strong>Gear Ratio:</strong> Ratio of teeth on the front sprocket versus the rear sprocket, adjusted by wheel and crank geometry.</li>
                <li><strong>Gear Inches:</strong> Effective wheel diameter in inches per crank revolution, useful for comparing setups.</li>
              </ul>
            </section>

            <section class="mt-6">
              <h3 class="text-xl font-semibold">Example</h3>
              <p>With a 26-inch wheel, 170mm crank, 50 front teeth, and 11 rear teeth, the calculator shows the gear ratio and gear inches for that build. Adjust any input to see how the ratio and leverage change.</p>
            </section>

            <section class="mt-6">
              <h3 class="text-xl font-semibold">Frequently Asked Questions (FAQ)</h3>
              <div class="space-y-4 mt-3 text-gray-700">
                <div>
                  <p class="font-semibold">What is a gear ratio?</p>
                  <p>A gear ratio is the relationship between the teeth on two gears that determine how many wheel rotations occur for each crank rotation.</p>
                </div>
                <div>
                  <p class="font-semibold">Why is gear ratio important?</p>
                  <p>Gear ratio affects your pedaling cadence, acceleration, and ability to climb or descend efficiently, so picking the right ratio streamlines performance.</p>
                </div>
                <div>
                  <p class="font-semibold">Can I use this calculator for any bicycle?</p>
                  <p>Yes, it works with most road, gravel, and mountain bikes that provide the required measurements.</p>
                </div>
                <div>
                  <p class="font-semibold">How do I determine the number of teeth on my gear?</p>
                  <p>The gear tooth counts are typically stamped on the chainrings and cassette cogs or available in your manufacturer specifications.</p>
                </div>
                <div>
                  <p class="font-semibold">What should I consider when selecting a gear ratio?</p>
                  <p>Factor in your terrain, strength, desired cadence, and how often you climb versus sprint to choose a configuration that fits your riding style.</p>
                </div>
              </div>
            </section>
          </section>

          <section class="card meta-section space-y-4" id="pageMeta" aria-label="Verification, changelog, formulas, citations">
            <details id="formulaDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Formulas</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <p><strong>Gear Ratio Formula:</strong></p>
                <p class="font-mono mt-2">Gear Ratio = (Front Gear Teeth / Rear Gear Teeth) × (Wheel Diameter / Crank Length)</p>
                <p class="mt-3"><strong>Gear Inches:</strong> (Front Gear Teeth / Rear Gear Teeth) × Wheel Diameter</p>
                <ul class="list-disc list-inside mt-3 text-gray-600">
                  <li>Front Gear Teeth: Number of teeth on the leading chainring.</li>
                  <li>Rear Gear Teeth: Number of teeth on the selected cassette cog.</li>
                  <li>Wheel Diameter: Measured in inches.</li>
                  <li>Crank Length: Measured in millimeters.</li>
                </ul>
              </div>
            </details>

            <details class="mt-3" id="citationDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Citations</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <p>Cycling Gear Ratios Encyclopedia: <a href="https://www.encyclopaedia.com/cycling-gear-ratios" target="_blank" rel="noopener" class="text-blue-600 hover:underline">https://www.encyclopaedia.com/cycling-gear-ratios</a></p>
              </div>
            </details>

            <details class="mt-3" id="changelogDetails">
              <summary class="cursor-pointer font-bold text-gray-800">Changelog</summary>
              <div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg text-sm">
                <ul class="list-disc list-inside space-y-1">
                  <li>v0.1.0-draft — 2026-01-19: Initial audit spec draft generated from HTML extraction.</li>
                  <li>Documented the gear ratio formula and verified sources for cycling gear ratios.</li>
                  <li>Confirmed clarity of input requirements and the supporting glossary and FAQs.</li>
                </ul>
              </div>
            </details>

            <div class="flex gap-2 mt-4 flex-wrap">
              <span class="inline-flex items-center gap-1 border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">
                <span class="text-green-600 font-bold">✓</span> Verified by Ugo Candido
              </span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Last Updated: 2026-01-19</span>
              <span class="inline-flex items-center border border-gray-200 px-3 py-1 rounded-full bg-white text-sm">Version 0.1.0-draft</span>
            </div>
          
          <div class="badge" id="versionBadge">Version 1.5.0</div></section>
        </section>

        <aside class="w-full lg:w-1/3">
          <div class="sticky top-24 space-y-8">
            <div id="sidebar-ad-placeholder-top"></div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-lg mb-4">Related Calculators</h3>
              <ul class="space-y-3">
                <li><a href="https://calcdomain.com/bike-cadence" class="text-blue-600 hover:underline">Bike Cadence Calculator</a></li>
                <li><a href="https://calcdomain.com/bike-size" class="text-blue-600 hover:underline">Bike Size Calculator</a></li>
                <li><a href="https://calcdomain.com/bike-gear" class="text-blue-600 hover:underline">Bike Gear Calculator</a></li>
                <li><a href="https://calcdomain.com/auto-cycling" class="text-blue-600 hover:underline">Cycling Performance Tools</a></li>
                <li><a href="https://calcdomain.com/track-time" class="text-blue-600 hover:underline">Cycling Pace Calculator</a></li>
              </ul>
            </div>
          </div>
        </aside>
      </div>
    </main>

    <footer id="siteFooter" class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/categories/finance" class="text-gray-400 hover:text-white">Finance</a></li>
              <li><a href="https://calcdomain.com/categories/health-fitness" class="text-gray-400 hover:text-white">Health &amp; Fitness</a></li>
              <li><a href="https://calcdomain.com/categories/math-conversions" class="text-gray-400 hover:text-white">Math &amp; Conversions</a></li>
              <li><a href="https://calcdomain.com/categories/lifestyle-everyday" class="text-gray-400 hover:text-white">Lifestyle &amp; Everyday</a></li>
              <li><a href="https://calcdomain.com/categories/construction-diy" class="text-gray-400 hover:text-white">Construction &amp; DIY</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/mortgage-payment" class="text-gray-400 hover:text-white">Mortgage Calculator</a></li>
              <li><a href="https://calcdomain.com/percentage-calculator" class="text-gray-400 hover:text-white">Percentage Calculator</a></li>
              <li><a href="https://calcdomain.com/bike-gear" class="text-gray-400 hover:text-white">Bike Gear Calculator</a></li>
              <li><a href="https://calcdomain.com/auto-loan-calculator" class="text-gray-400 hover:text-white">Auto Loan Calculator</a></li>
              <li><a href="https://calcdomain.com/house-affordability" class="text-gray-400 hover:text-white">House Affordability</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="https://calcdomain.com/about" class="text-gray-400 hover:text-white">About Us</a></li>
              <li><a href="https://calcdomain.com/contact" class="text-gray-400 hover:text-white">Contact</a></li>
              <li><a href="https://calcdomain.com/privacy" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
              <li><a href="https://calcdomain.com/terms" class="text-gray-400 hover:text-white">Terms of Service</a></li>
              <li><a href="https://calcdomain.com/sitemap.xml" class="text-gray-400 hover:text-white">Site Map</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>© 2026 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      window.MathJax = {
        tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['$', '$'], ['\\[', '\\]']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script>
      (function () {
        var loadMathJax = function () {
          if (window.__mathjaxLoading) return;
          window.__mathjaxLoading = true;
          var script = document.createElement("script");
          script.id = "MathJax-script";
          script.async = true;
          script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
          document.head.appendChild(script);
        };

        var target = document.querySelector(
          ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
        );

        if (!target) return;

        if ("IntersectionObserver" in window) {
          var observer = new IntersectionObserver(
            function (entries) {
              if (entries.some(function (entry) { return entry.isIntersecting; })) {
                observer.disconnect();
                loadMathJax();
              }
            },
            { rootMargin: "200px" }
          );
          observer.observe(target);
        } else {
          window.addEventListener(
            "load",
            function () {
              setTimeout(loadMathJax, 1000);
            },
            { once: true }
          );
        }
      })();
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7MB5V1LZRN');
    </script>

    <script>
    (function () {
      'use strict';

    const debounce = (fn, delay = 100) => {
      let t;
      return (...args) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...args), delay);
      };
    };


      const defaults = {
        wheelDiameter: 26,
        crankLength: 170,
        frontTeeth: 50,
        rearTeeth: 11
      };

      const els = {
        wheelDiameter: document.getElementById('wheelDiameter'),
        crankLength: document.getElementById('crankLength'),
        frontTeeth: document.getElementById('frontTeeth'),
        rearTeeth: document.getElementById('rearTeeth'),
        gearRatioValue: document.getElementById('gearRatioValue'),
        frontRearValue: document.getElementById('frontRearValue'),
        wheelCrankValue: document.getElementById('wheelCrankValue'),
        gearInchesValue: document.getElementById('gearInchesValue'),
        resultsNote: document.getElementById('resultsNote'),
        errorBox: document.getElementById('errorBox'),
        calcBtn: document.getElementById('calcBtn'),
        resetBtn: document.getElementById('resetBtn')
      };

      const round2 = (value) => Math.round((value + Number.EPSILON) * 100) / 100;

      const formatNumber = (value, decimals = 2) => {
        const safe = Number.isFinite(value) ? value : 0;
        return safe.toFixed(decimals);
      };

      function parseInputs() {
        return {
          wheelDiameter: parseFloat(els.wheelDiameter.value),
          crankLength: parseFloat(els.crankLength.value),
          frontTeeth: parseFloat(els.frontTeeth.value),
          rearTeeth: parseFloat(els.rearTeeth.value)
        };
      }

      function validate(inputs) {
        const errors = [];
        if (!Number.isFinite(inputs.wheelDiameter) || inputs.wheelDiameter <= 0) {
          errors.push('Wheel diameter must be greater than 0.');
        }
        if (!Number.isFinite(inputs.crankLength) || inputs.crankLength <= 0) {
          errors.push('Crank length must be greater than 0.');
        }
        if (!Number.isFinite(inputs.frontTeeth) || inputs.frontTeeth <= 0) {
          errors.push('Front gear teeth must be greater than 0.');
        }
        if (!Number.isFinite(inputs.rearTeeth) || inputs.rearTeeth <= 0) {
          errors.push('Rear gear teeth must be greater than 0.');
        }
        return { ok: errors.length === 0, errors };
      }

      function compute(inputs) {
        const frontRear = inputs.frontTeeth / inputs.rearTeeth;
        const wheelCrank = inputs.wheelDiameter / inputs.crankLength;
        if (!Number.isFinite(frontRear) || !Number.isFinite(wheelCrank)) {
          return null;
        }
        const gearRatio = frontRear * wheelCrank;
        if (!Number.isFinite(gearRatio)) {
          return null;
        }
        const gearInches = frontRear * inputs.wheelDiameter;
        return {
          gearRatio: round2(gearRatio),
          frontRear: round2(frontRear),
          wheelCrank: round2(wheelCrank),
          gearInches: round2(gearInches)
        };
      }

      function format(outputs) {
        return {
          gearRatioText: formatNumber(outputs.gearRatio),
          frontRearText: formatNumber(outputs.frontRear),
          wheelCrankText: formatNumber(outputs.wheelCrank),
          gearInchesText: `${formatNumber(outputs.gearInches)} in`
        };
      }

      function render(formatted, errors) {
        if (errors && errors.length) {
          els.errorBox.style.display = 'block';
          els.errorBox.textContent = errors.join(' ');
          return;
        }
        els.errorBox.style.display = 'none';
        els.errorBox.textContent = '';

        if (!formatted) {
          els.gearRatioValue.textContent = '0.00';
          els.frontRearValue.textContent = '0.00';
          els.wheelCrankValue.textContent = '0.00';
          els.gearInchesValue.textContent = '0.00 in';
          els.resultsNote.textContent = 'Fill in the inputs and click Calculate to see how your gear setup performs.';
          return;
        }

        els.gearRatioValue.textContent = formatted.gearRatioText;
        els.frontRearValue.textContent = formatted.frontRearText;
        els.wheelCrankValue.textContent = formatted.wheelCrankText;
        els.gearInchesValue.textContent = formatted.gearInchesText;
        els.resultsNote.textContent = `Gear inches (${formatted.gearInchesText}) describe the effective wheel diameter per crank revolution.`;
      }

      function update() {
        const inputs = parseInputs();
        const validation = validate(inputs);
        if (!validation.ok) {
          render(null, validation.errors);
          return;
        }
        const outputs = compute(inputs);
        if (!outputs) {
          render(null, ['Unable to compute with the provided numbers.']);
          return;
        }
        const formatted = format(outputs);
        render(formatted, []);
      }

      function resetDefaults() {
        els.wheelDiameter.value = defaults.wheelDiameter;
        els.crankLength.value = defaults.crankLength;
        els.frontTeeth.value = defaults.frontTeeth;
        els.rearTeeth.value = defaults.rearTeeth;
    const debouncedUpdate = debounce(update, 100);

    document.querySelectorAll('#inputsCard input, #inputsCard select, #inputsCard textarea')
      .forEach((el) => {
        el.addEventListener('input', debouncedUpdate);
        el.addEventListener('change', debouncedUpdate);
      });

        update();
      }

      els.calcBtn.addEventListener('click', update);
      els.resetBtn.addEventListener('click', function () {
        resetDefaults();
      });

      const debouncedUpdate = (function () {
        let timer;
        return function () {
          clearTimeout(timer);
          timer = setTimeout(update, 100);
        };
      })();

      input.addEventListener('change', debouncedUpdate);
      });

      resetDefaults();
    })();
    </script>
  </body></html>
