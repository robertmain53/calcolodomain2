<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="canonical" href="https://calcdomain.com/bacterial-growth-curve" />
    <title>Bacterial Growth Curve Calculator (2024 Guide) | CalcDomain</title>
    <meta name="description" content="Calculate Bacterial Growth Curve Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bacterial Growth Curve Calculator (2024 Guide) | CalcDomain" />
    <meta property="og:description" content="Calculate Bacterial Growth Curve Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />
    <meta property="og:url" content="https://calcdomain.com/bacterial-growth-curve" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bacterial Growth Curve Calculator (2024 Guide) | CalcDomain" />
    <meta name="twitter:description" content="Calculate Bacterial Growth Curve Calculator in seconds with this free tool. Get accurate results, formulas, and tips - start now. No signup. Try it today." />

    
    <link rel="preload" href="https://calcdomain.com/assets/tailwind.min.css" as="style">
    <link rel="stylesheet" href="https://calcdomain.com/assets/tailwind.min.css">
    <!-- Google tag (gtag.js) -->
    
    
    
    
    

    

    
  
    <style>
      body { margin: 0; }
      .mb-10 { margin-bottom: 2.5rem; }
      .mt-10 { margin-top: 2.5rem; }
    </style>
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ugo Candido",
        "url": "https://www.linkedin.com/in/ugocandido92821/",
        "sameAs": ["https://www.linkedin.com/in/ugocandido92821/"],
        "email": "info@calcdomain.com",
        "description": "Ugo Candido builds calculators and educational resources to help readers make better decisions with transparent, practical models."
      }</script>
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/"}, {"@type": "ListItem", "position": 2, "name": "Science Calculators", "item": "https://calcdomain.com/categories/science"}, {"@type": "ListItem", "position": 3, "name": "Biology Calculators", "item": "https://calcdomain.com/subcategories/biology"}, {"@type": "ListItem", "position": 4, "name": "Bacterial Growth Curve Calculator", "item": "https://calcdomain.com/bacterial-growth-curve"}]}</script>
</head>
  <body class="bg-gray-50 text-gray-800">
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9476637732224939"
      crossorigin="anonymous"
    ></script>

    <header class="bg-white shadow-sm sticky top-0 z-50">
      <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
        <div class="flex justify-between items-center">
          <a
            href="https://calcdomain.com"
            class="text-2xl font-bold text-blue-600"
            >CalcDomain</a
          >
          <div class="w-full max-w-md hidden md:block mx-8">
            <div class="relative">
              <input
                type="search"
                id="search-input"
                placeholder="Search for a calculator..."
                class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                autocomplete="off"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
              <div
                id="search-results"
                class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200"
              ></div>
            </div>
          </div>
          <div class="hidden md:flex items-center space-x-6">
            <a
              href="https://calcdomain.com/search"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Categories</a
            >
          </div>
          <button
            id="mobile-menu-toggle"
            class="md:hidden p-2"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
        <nav
          id="mobile-menu"
          class="md:hidden mt-4 hidden"
          aria-label="Mobile menu"
          role="navigation"
        >
          <div class="mb-4">
            <div class="relative">
              <input
                type="search"
                id="mobile-search-input"
                placeholder="Search calculators..."
                class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <svg
                class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </div>
          </div>
          <div class="space-y-2">
            <a
              href="https://calcdomain.com/search"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Advanced Search</a
            >
            <a
              href="https://calcdomain.com/#categories"
              class="block py-2 text-gray-700 hover:text-blue-600"
              >Categories</a
            >
          </div>
        </nav>
      </nav>
    </header>

    <div class="container mx-auto px-4 py-8">
      <nav id="breadcrumb-container" class="text-sm mb-4 text-gray-600">
  <ol class="flex flex-wrap items-center gap-1">
    <li><a href="https://calcdomain.com" class="text-blue-600 hover:underline">Home</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/categories/science" class="text-blue-600 hover:underline">Science Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><a href="https://calcdomain.com/subcategories/biology" class="text-blue-600 hover:underline">Biology Calculators</a></li>
    <li class="text-gray-400">/</li>
    <li><span class="text-gray-800">Bacterial Growth Curve Calculator</span></li>
  </ol>
</nav>
      <div class="flex flex-col lg:flex-row gap-8">
        <main class="w-full lg:w-2/3">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <header class="mb-6">
              <h1 class="text-2xl font-bold mb-2">
                Bacterial Growth Curve Calculator
              </h1>
              <p class="text-gray-700">
                Model lag, exponential, stationary, and death phases of a
                bacterial culture. Compute cell counts, doubling time, and
                visualize the growth curve on a semi-log plot.
              </p>
            </header>

            <!-- Calculator UI -->
            <section aria-labelledby="calculator-heading" class="mb-8">
              <h2 id="calculator-heading" class="text-xl font-semibold mb-4">
                Bacterial Growth Curve Simulator
              </h2>

              <div class="grid md:grid-cols-2 gap-6 mb-4">
                <div>
                  <label
                    for="inputMode"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Input type</label
                  >
                  <select
                    id="inputMode"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="cfu">CFU (cells/mL)</option>
                    <option value="od">Optical density (OD)</option>
                  </select>
                </div>
                <div>
                  <label
                    for="scaleMode"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Y-axis scale</label
                  >
                  <select
                    id="scaleMode"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="log10">Log10 scale (recommended)</option>
                    <option value="linear">Linear scale</option>
                  </select>
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <div>
                    <label
                      for="n0"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Initial value N<sub>0</sub>
                    </label>
                    <input
                      type="number"
                      id="n0"
                      class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      value="1e6"
                      min="1"
                      step="any"
                    />
                    <p class="text-xs text-gray-500 mt-1">
                      Initial CFU/mL or OD at t = 0.
                    </p>
                  </div>

                  <div>
                    <label
                      for="genTime"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Generation (doubling) time g
                    </label>
                    <div class="flex gap-2">
                      <input
                        type="number"
                        id="genTime"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="30"
                        min="0.1"
                        step="any"
                      />
                      <select
                        id="timeUnit"
                        class="border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="min">min</option>
                        <option value="h">h</option>
                      </select>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">
                      Time required for the population to double during log
                      phase.
                    </p>
                  </div>

                  <div>
                    <label
                      for="totalTime"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Total simulation time
                    </label>
                    <div class="flex gap-2">
                      <input
                        type="number"
                        id="totalTime"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="12"
                        min="0.1"
                        step="any"
                      />
                      <select
                        id="totalTimeUnit"
                        class="border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="h">h</option>
                        <option value="min">min</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="space-y-4">
                  <div>
                    <label
                      for="lagTime"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Lag phase duration
                    </label>
                    <div class="flex gap-2">
                      <input
                        type="number"
                        id="lagTime"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="1"
                        min="0"
                        step="any"
                      />
                      <select
                        id="lagTimeUnit"
                        class="border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="h">h</option>
                        <option value="min">min</option>
                      </select>
                    </div>
                  </div>

                  <div>
                    <label
                      for="logDuration"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Exponential (log) phase duration
                    </label>
                    <div class="flex gap-2">
                      <input
                        type="number"
                        id="logDuration"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="5"
                        min="0.1"
                        step="any"
                      />
                      <select
                        id="logDurationUnit"
                        class="border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="h">h</option>
                        <option value="min">min</option>
                      </select>
                    </div>
                  </div>

                  <div>
                    <label
                      for="stationaryDuration"
                      class="block text-sm font-medium text-gray-700 mb-1"
                    >
                      Stationary phase duration
                    </label>
                    <div class="flex gap-2 mb-1">
                      <input
                        type="number"
                        id="stationaryDuration"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="3"
                        min="0"
                        step="any"
                      />
                      <select
                        id="stationaryDurationUnit"
                        class="border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                      >
                        <option value="h">h</option>
                        <option value="min">min</option>
                      </select>
                    </div>
                    <label
                      class="inline-flex items-center text-xs text-gray-600"
                    >
                      <input
                        type="checkbox"
                        id="enableDeathPhase"
                        class="mr-2"
                      />
                      Include death phase after stationary
                    </label>
                    <div id="deathPhaseContainer" class="mt-2 hidden">
                      <label
                        for="deathRate"
                        class="block text-xs font-medium text-gray-700 mb-1"
                      >
                        Death rate (fraction lost per hour in death phase)
                      </label>
                      <input
                        type="number"
                        id="deathRate"
                        class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        value="0.3"
                        min="0"
                        max="1"
                        step="0.01"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-4 flex flex-wrap gap-3 items-center">
                <button
                  id="simulateBtn"
                  class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500"
                >
                  Simulate growth curve
                </button>
                <button
                  id="resetBtn"
                  class="inline-flex items-center px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200"
                >
                  Reset
                </button>
                <span id="errorMsg" class="text-sm text-red-600"></span>
              </div>
            </section>

            <!-- Results -->
            <section aria-labelledby="results-heading" class="mb-8">
              <h2 id="results-heading" class="text-xl font-semibold mb-4">
                Key results
              </h2>
              <div class="grid md:grid-cols-3 gap-4 mb-4">
                <div class="bg-blue-50 border border-blue-100 rounded-lg p-3">
                  <div
                    class="text-xs uppercase tracking-wide text-blue-700 font-semibold mb-1"
                  >
                    Doubling time g
                  </div>
                  <div
                    id="doublingTimeOut"
                    class="text-lg font-semibold text-blue-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-blue-700 mt-1">
                    In minutes and hours.
                  </div>
                </div>
                <div class="bg-green-50 border border-green-100 rounded-lg p-3">
                  <div
                    class="text-xs uppercase tracking-wide text-green-700 font-semibold mb-1"
                  >
                    Max value at end of log phase
                  </div>
                  <div
                    id="maxValueOut"
                    class="text-lg font-semibold text-green-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-green-700 mt-1">
                    CFU/mL or OD at t = lag + log.
                  </div>
                </div>
                <div
                  class="bg-purple-50 border border-purple-100 rounded-lg p-3"
                >
                  <div
                    class="text-xs uppercase tracking-wide text-purple-700 font-semibold mb-1"
                  >
                    Total number of generations
                  </div>
                  <div
                    id="generationsOut"
                    class="text-lg font-semibold text-purple-900"
                  >
                    –
                  </div>
                  <div class="text-xs text-purple-700 mt-1">
                    During exponential phase.
                  </div>
                </div>
              </div>

              <div
                class="bg-gray-50 border border-gray-200 rounded-lg p-3 text-xs text-gray-700 mb-4"
              >
                <p class="mb-1">
                  <span class="font-semibold">Tip:</span> You can export the
                  simulated data as CSV for plotting in Excel, R, or GraphPad.
                </p>
                <button
                  id="downloadCsvBtn"
                  class="mt-1 inline-flex items-center px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"
                  disabled
                >
                  Download CSV
                </button>
              </div>

              <div class="mb-4">
                <canvas
                  id="growthChart"
                  aria-label="Bacterial growth curve chart"
                  role="img"
                ></canvas>
              </div>

              <div class="overflow-x-auto">
                <table
                  class="min-w-full text-xs border border-gray-200 rounded-lg overflow-hidden"
                >
                  <thead class="bg-gray-100">
                    <tr>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                      >
                        Time (h)
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                      >
                        Time (min)
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                      >
                        Value
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                      >
                        log<sub>10</sub>(Value)
                      </th>
                      <th
                        class="px-3 py-2 text-left font-semibold text-gray-700 border-b"
                      >
                        Phase
                      </th>
                    </tr>
                  </thead>
                  <tbody id="dataTableBody">
                    <tr>
                      <td class="px-3 py-2 text-gray-500" colspan="5">
                        Run a simulation to see tabulated results.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <!-- Doubling time from two points -->
            <section
              aria-labelledby="doubling-from-points-heading"
              class="mb-10"
            >
              <h2
                id="doubling-from-points-heading"
                class="text-xl font-semibold mb-3"
              >
                Estimate doubling time from two measurements
              </h2>
              <p class="text-sm text-gray-700 mb-3">
                If you have two measurements in the exponential phase (CFU or
                OD), you can estimate the specific growth rate and doubling
                time.
              </p>
              <div class="grid md:grid-cols-4 gap-4 items-end">
                <div>
                  <label
                    for="t1"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >t<sub>1</sub> (h)</label
                  >
                  <input
                    type="number"
                    id="t1"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    value="2"
                    step="any"
                  />
                </div>
                <div>
                  <label
                    for="n1"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >N<sub>1</sub></label
                  >
                  <input
                    type="number"
                    id="n1"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    value="1e7"
                    min="1"
                    step="any"
                  />
                </div>
                <div>
                  <label
                    for="t2"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >t<sub>2</sub> (h)</label
                  >
                  <input
                    type="number"
                    id="t2"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    value="4"
                    step="any"
                  />
                </div>
                <div>
                  <label
                    for="n2"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >N<sub>2</sub></label
                  >
                  <input
                    type="number"
                    id="n2"
                    class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                    value="8e7"
                    min="1"
                    step="any"
                  />
                </div>
              </div>
              <div class="mt-3 flex flex-wrap gap-3 items-center">
                <button
                  id="estimateDoublingBtn"
                  class="inline-flex items-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500"
                >
                  Estimate doubling time
                </button>
                <span
                  id="doublingFromPointsOut"
                  class="text-sm text-gray-800"
                ></span>
              </div>
            </section>

            <!-- Explanatory content -->
            <section class="prose">
              <h2>Understanding the bacterial growth curve</h2>
              <p>
                In a closed batch culture, a bacterial population typically
                follows a characteristic
                <strong>growth curve</strong> when plotted as cell number (or
                optical density) versus time. On a semi-logarithmic plot
                (log<sub>10</sub> N vs. time), four main phases are observed:
              </p>
              <ul>
                <li>
                  <strong>Lag phase</strong> – cells adapt to the new
                  environment, synthesize enzymes, but do not divide rapidly.
                </li>
                <li>
                  <strong>Exponential (log) phase</strong> – cells divide at a
                  constant rate; growth is exponential and the log plot is
                  linear.
                </li>
                <li>
                  <strong>Stationary phase</strong> – nutrient depletion and
                  waste accumulation balance growth and death; net growth is ~0.
                </li>
                <li>
                  <strong>Death (decline) phase</strong> – death rate exceeds
                  growth rate; viable cell numbers decrease, often
                  exponentially.
                </li>
              </ul>

              <h3>Mathematical model used in this calculator</h3>
              <p>
                The calculator uses a simple piecewise model that captures the
                essential shape of the growth curve. Time is internally
                converted to hours. Let:
              </p>
              <ul>
                <li>\( N_0 \) = initial cell count (CFU/mL) or OD</li>
                <li>\( g \) = generation (doubling) time in hours</li>
                <li>\( t \) = time in hours</li>
                <li>\( t_\text{lag} \) = lag phase duration</li>
                <li>\( t_\text{log} \) = exponential phase duration</li>
                <li>\( t_\text{stat} \) = stationary phase duration</li>
              </ul>

              <div class="formula-box">
                <p class="font-semibold mb-1">Exponential growth (log phase)</p>
                <p>The population during the log phase is modeled as:</p>
                <p>
                  \( N(t) = N_0 \cdot 2^{\dfrac{t - t_\text{lag}}{g}} \quad
                  \text{for } t_\text{lag} \le t \le t_\text{lag} + t_\text{log}
                  \)
                </p>
                <p class="mt-2">
                  In natural logarithms, this is equivalent to:
                </p>
                <p>
                  \( N(t) = N_0 \cdot e^{\mu (t - t_\text{lag})} \), where \(
                  \mu = \dfrac{\ln 2}{g} \) is the specific growth rate.
                </p>
              </div>

              <div class="formula-box">
                <p class="font-semibold mb-1">Piecewise model for all phases</p>
                <p>The calculator approximates the full curve as:</p>
                <ul>
                  <li>
                    <strong>Lag:</strong> \( N(t) = N_0 \) for \( 0 \le t &lt;
                    t_\text{lag} \)
                  </li>
                  <li>
                    <strong>Log:</strong> \( N(t) = N_0 \cdot 2^{(t -
                    t_\text{lag})/g} \) for \( t_\text{lag} \le t &lt;
                    t_\text{lag} + t_\text{log} \)
                  </li>
                  <li>
                    <strong>Stationary:</strong> \( N(t) = N_\text{max} \) for
                    \( t_\text{lag} + t_\text{log} \le t &lt; t_\text{lag} +
                    t_\text{log} + t_\text{stat} \)
                  </li>
                  <li>
                    <strong>Death (optional):</strong> \( N(t) = N_\text{max}
                    \cdot e^{-k (t - t_\text{lag} - t_\text{log} -
                    t_\text{stat})} \) afterwards, where \( k \) is the death
                    rate constant.
                  </li>
                </ul>
                <p>
                  Here \( N_\text{max} = N_0 \cdot 2^{t_\text{log}/g} \) is the
                  population at the end of the log phase.
                </p>
              </div>

              <h3>How to estimate doubling time from experimental data</h3>
              <p>
                When you have experimental measurements (CFU or OD) in the
                exponential phase, you can estimate the
                <strong>specific growth rate</strong> \( \mu \) and
                <strong>doubling time</strong> \( g \) using two points:
              </p>
              <ol>
                <li>
                  Choose two time points \( t_1 \) and \( t_2 \) within the
                  linear log-phase region.
                </li>
                <li>
                  Record the corresponding values \( N_1 \) and \( N_2 \) (CFU
                  or OD).
                </li>
                <li>
                  Compute the specific growth rate: \( \mu = \dfrac{\ln N_2 -
                  \ln N_1}{t_2 - t_1} \).
                </li>
                <li>
                  Compute the doubling time: \( g = \dfrac{\ln 2}{\mu} \).
                </li>
              </ol>
              <p>
                The “Estimate doubling time from two measurements” tool above
                performs exactly this calculation for you.
              </p>

              <h3>CFU vs. OD: which should I use?</h3>
              <ul>
                <li>
                  <strong>CFU (colony-forming units)</strong> – measures viable
                  cells; obtained by serial dilution and plating. Highly
                  accurate but labor-intensive.
                </li>
                <li>
                  <strong>OD (optical density)</strong> – measures turbidity
                  (total biomass); quick and non-destructive but must be
                  calibrated to CFU for quantitative work.
                </li>
              </ul>
              <p>
                In many teaching labs, OD<sub>600</sub> is used to monitor
                growth in real time, and a calibration curve (OD vs. CFU/mL) is
                used to convert between the two.
              </p>

              <h2>Practical tips for working with bacterial growth curves</h2>
              <ul>
                <li>
                  Always include <strong>replicates</strong> to account for
                  biological and technical variability.
                </li>
                <li>
                  Use a <strong>semi-log plot</strong> (log<sub>10</sub> N vs.
                  time) to clearly identify the exponential phase.
                </li>
                <li>
                  Keep cultures well mixed and incubated at the appropriate
                  temperature and aeration.
                </li>
                <li>
                  When using OD, stay within the
                  <strong>linear range</strong> of the spectrophotometer (often
                  OD &lt; 0.8–1.0).
                </li>
                <li>
                  For accurate CFU counts, choose plates with
                  <strong>30–300 colonies</strong> after dilution.
                </li>
              </ul>
            </section>

            <!-- FAQ -->
            <section class="mt-10">
              <h2 class="text-xl font-semibold mb-4">
                Frequently asked questions
              </h2>
              <div class="space-y-3" id="faq-container">
                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Why is the exponential phase linear on a semi-log
                      plot?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    During exponential growth, the population follows \( N(t) =
                    N_0 e^{\mu t} \). Taking the logarithm gives \( \log_{10}
                    N(t) = \log_{10} N_0 + (\mu / \ln 10) t \), which is a
                    straight line with slope proportional to the specific growth
                    rate. That is why plotting log<sub>10</sub> N vs. time makes
                    the log phase appear linear and easy to analyze.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >Can I use this calculator for yeast or other
                      microbes?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    Yes. The underlying mathematics of exponential growth
                    applies to many microorganisms, including yeast, fungi, and
                    some mammalian cell lines, as long as they exhibit a clear
                    exponential phase in batch culture. You simply need to enter
                    the appropriate doubling time and phase durations for your
                    organism and conditions.
                  </div>
                </div>

                <div class="border border-gray-200 rounded-lg">
                  <button
                    class="w-full text-left px-4 py-3 flex justify-between items-center faq-question"
                  >
                    <span class="font-medium text-gray-800"
                      >How realistic is the simple piecewise model?</span
                    >
                    <span class="text-gray-500 text-sm">+</span>
                  </button>
                  <div
                    class="px-4 pb-3 hidden faq-answer text-sm text-gray-700"
                  >
                    The model used here is intentionally simple and pedagogical.
                    Real growth curves can show gradual transitions between
                    phases, changes in growth rate, and complex death dynamics.
                    For teaching, planning experiments, or quick
                    back-of-the-envelope calculations, the piecewise model is
                    usually sufficient. For research-level modeling, more
                    advanced models (e.g., logistic, Gompertz, Baranyi) may be
                    used.
                  </div>
                </div>
              </div>
            </section>
          </div>



            <section class="mt-10" id="author">
              <h2 class="text-xl font-semibold mb-4">About the author</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  <a href="https://www.linkedin.com/in/ugocandido92821/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Ugo Candido</a>
                  builds financial tools and educational resources to help
                  readers make better money decisions. He focuses on practical,
                  transparent models that reflect how lenders calculate
                  payments and total cost of ownership.
                </p>
                <p class="text-sm text-gray-700 mt-3">
                  Contact: <a href="mailto:info@calcdomain.com" class="text-blue-600 hover:underline">info@calcdomain.com</a>
                </p>
              </div>
            </section>

            <section class="mt-10" id="editorial-policy">
              <h2 class="text-xl font-semibold mb-4">Editorial policy</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  CalcDomain content is created for educational purposes and is
                  reviewed for clarity, accuracy, and transparency. We do not
                  accept paid placements that influence calculator outputs.
                  Inputs and assumptions are shown directly in the interface so
                  you can verify how results are produced.
                </p>
              </div>
            </section>

            <section class="mt-10" id="methodology">
              <h2 class="text-xl font-semibold mb-4">Methodology</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                  Results use standard formulas and the values you provide.
                  Figures are estimates and may differ from lender quotes.
                  For decisions that require professional guidance, consult a
                  licensed advisor.
                </p>
              </div>
            </section>

        
            <section class="mt-10" id="sources">
              <h2 class="text-xl font-semibold mb-4">Sources</h2>
              <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                  <li>
                    <a href="https://www.nist.gov/pml/owm/metric-si/si-units" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      NIST: The International System of Units (SI)
                    </a>
                  </li>
                  <li>
                    <a href="https://openstax.org/details/books/college-algebra" class="text-blue-600 hover:underline" target="_blank" rel="noopener">
                      OpenStax: College Algebra
                    </a>
                  </li>
                </ul>
              </div>
            </section>

        





<section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Input type CFU (cells/mL) Optical density (OD) Y-axis scale Log10 scale (recommended) Linear scale Initial value N 0</li><li>Generation (doubling) time g</li><li>Total simulation time</li><li>Lag phase duration</li><li>Exponential (log) phase duration</li><li>Stationary phase duration</li><li>Include death phase after stationary</li><li>Death rate (fraction lost per hour in death phase)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Operational notes</h2><p class="text-sm text-gray-700">Fill in realistic values and keep units and timeframes consistent.</p><p class="text-sm text-gray-700 mt-2">Key entities: Bacterial, Growth, Curve, Input type CFU (cells/mL) Optical density (OD) Y-axis scale Log10 scale (recommended) Linear scale Initial value N 0, Generation (doubling) time g, Total simulation time, Lag phase duration, Exponential (log) phase duration.</p></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Inputs used by this calculator</h2><ul class="text-sm text-gray-700 list-disc pl-5"><li>Input type CFU (cells/mL) Optical density (OD) Y-axis scale Log10 scale (recommended) Linear scale Initial value N 0</li><li>Generation (doubling) time g</li><li>Total simulation time</li><li>Lag phase duration</li><li>Exponential (log) phase duration</li><li>Stationary phase duration</li><li>Include death phase after stationary</li><li>Death rate (fraction lost per hour in death phase)</li></ul></section><section class="bg-white p-4 rounded-lg shadow-md mt-6"><h2 class="text-lg font-semibold mb-2">Consistency checks</h2><p class="text-sm text-gray-700">Checks: non-negative values, plausible ranges, coherent outputs.</p></section><!-- %%EEAT_STRIP%% -->
<!-- %%QUALITY_BLOCKS%% -->
<!-- %%FAQ_JSONLD%% -->
</main>

        <aside class="w-full lg:w-1/3">
          <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-lg font-semibold mb-3">
              More in Core Math &amp; Algebra
            </h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/probability"
                  class="text-blue-600 hover:underline"
                  >Probability</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/standard-deviation"
                  class="text-blue-600 hover:underline"
                  >Standard Deviation</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/mean-calculator-median-mode"
                  class="text-blue-600 hover:underline"
                  >Mean, Median, Mode, Range</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/binomial-distribution"
                  class="text-blue-600 hover:underline"
                  >Binomial Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/poisson-distribution"
                  class="text-blue-600 hover:underline"
                  >Poisson Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/exponential-distribution"
                  class="text-blue-600 hover:underline"
                  >Exponential Distribution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/linear-regression"
                  class="text-blue-600 hover:underline"
                  >Linear Regression</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/central-limit-theorem"
                  class="text-blue-600 hover:underline"
                  >Central Limit Theorem</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/statistics"
                  class="text-blue-600 hover:underline"
                  >Statistics Toolbox</a
                >
              </li>
            </ul>
          </div>

          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="text-lg font-semibold mb-3">Related Science tools</h2>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="https://calcdomain.com/molarity"
                  class="text-blue-600 hover:underline"
                  >Molarity Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/serial-dilution"
                  class="text-blue-600 hover:underline"
                  >Serial Dilution</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percent-yield"
                  class="text-blue-600 hover:underline"
                  >Percent Yield</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/stoichiometry"
                  class="text-blue-600 hover:underline"
                  >Stoichiometry</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/radioactive-decay"
                  class="text-blue-600 hover:underline"
                  >Radioactive Decay</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/half-life"
                  class="text-blue-600 hover:underline"
                  >Half-Life</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/dna-concentration"
                  class="text-blue-600 hover:underline"
                  >DNA Concentration</a
                >
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>

    <footer class="bg-gray-900 text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
            <p class="text-gray-400 mb-4">
              Your trusted source for free online calculators. Accurate, fast,
              and reliable calculations for every need.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Categories</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/finance"
                  class="text-gray-400 hover:text-white"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/health-fitness"
                  class="text-gray-400 hover:text-white"
                  >Health & Fitness</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/math-conversions"
                  class="text-gray-400 hover:text-white"
                  >Math & Conversions</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/lifestyle-everyday"
                  class="text-gray-400 hover:text-white"
                  >Lifestyle & Everyday</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/construction-diy"
                  class="text-gray-400 hover:text-white"
                  >Construction & DIY</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/mortgage-payment"
                  class="text-gray-400 hover:text-white"
                  >Mortgage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/percentage-calculator"
                  class="text-gray-400 hover:text-white"
                  >Percentage Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/bmi-calculator"
                  class="text-gray-400 hover:text-white"
                  >BMI Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/auto-loan-calculator"
                  class="text-gray-400 hover:text-white"
                  >Auto Loan Calculator</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/house-affordability"
                  class="text-gray-400 hover:text-white"
                  >House Affordability</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="https://calcdomain.com/about"
                  class="text-gray-400 hover:text-white"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/contact"
                  class="text-gray-400 hover:text-white"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/privacy"
                  class="text-gray-400 hover:text-white"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/terms"
                  class="text-gray-400 hover:text-white"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="https://calcdomain.com/sitemap.xml"
                  class="text-gray-400 hover:text-white"
                  >Site Map</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 CalcDomain. All Rights Reserved. | Free Online
            Calculators for Everyone
          </p>
        </div>
      </div>
    </footer>

    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/search.js"></script>

    <script>
      document.addEventListener("click", function (e) {
        if (e.target.closest(".faq-question")) {
          const btn = e.target.closest(".faq-question");
          const answer = btn.parentElement.querySelector(".faq-answer");
          const symbol = btn.querySelector("span:last-child");
          const isHidden = answer.classList.contains("hidden");
          document
            .querySelectorAll(".faq-answer")
            .forEach((el) => el.classList.add("hidden"));
          document
            .querySelectorAll(".faq-question span:last-child")
            .forEach((el) => (el.textContent = "+"));
          if (isHidden) {
            answer.classList.remove("hidden");
            symbol.textContent = "−";
          }
        }
      });

      const enableDeathPhase = document.getElementById("enableDeathPhase");
      const deathPhaseContainer = document.getElementById(
        "deathPhaseContainer"
      );
      enableDeathPhase.addEventListener("change", () => {
        deathPhaseContainer.classList.toggle(
          "hidden",
          !enableDeathPhase.checked
        );
      });

      let growthChart = null;
      let lastSimulatedData = null;

      function toHours(value, unit) {
        const v = parseFloat(value);
        if (!isFinite(v)) return NaN;
        if (unit === "min") return v / 60;
        return v;
      }

      function formatSci(num) {
        if (!isFinite(num)) return "–";
        if (num === 0) return "0";
        const abs = Math.abs(num);
        if (abs >= 1e4 || abs <= 1e-3) {
          return num.toExponential(2);
        }
        return num.toLocaleString(undefined, { maximumFractionDigits: 3 });
      }

      function simulateGrowth() {
        const n0 = parseFloat(document.getElementById("n0").value);
        const genTime = parseFloat(document.getElementById("genTime").value);
        const timeUnit = document.getElementById("timeUnit").value;
        const totalTime = parseFloat(
          document.getElementById("totalTime").value
        );
        const totalTimeUnit = document.getElementById("totalTimeUnit").value;
        const lagTime = parseFloat(document.getElementById("lagTime").value);
        const lagTimeUnit = document.getElementById("lagTimeUnit").value;
        const logDuration = parseFloat(
          document.getElementById("logDuration").value
        );
        const logDurationUnit =
          document.getElementById("logDurationUnit").value;
        const stationaryDuration = parseFloat(
          document.getElementById("stationaryDuration").value
        );
        const stationaryDurationUnit = document.getElementById(
          "stationaryDurationUnit"
        ).value;
        const deathEnabled = enableDeathPhase.checked;
        const deathRate = parseFloat(
          document.getElementById("deathRate").value
        );
        const inputMode = document.getElementById("inputMode").value;
        const scaleMode = document.getElementById("scaleMode").value;
        const errorMsg = document.getElementById("errorMsg");
        errorMsg.textContent = "";

        if (
          !(n0 > 0) ||
          !(genTime > 0) ||
          !(totalTime > 0) ||
          !(logDuration > 0)
        ) {
          errorMsg.textContent =
            "Please enter positive values for N0, generation time, total time, and log phase duration.";
          return;
        }

        const g_h = toHours(genTime, timeUnit);
        const T_h = toHours(totalTime, totalTimeUnit);
        const lag_h = Math.max(0, toHours(lagTime, lagTimeUnit));
        const log_h = toHours(logDuration, logDurationUnit);
        const stat_h = Math.max(
          0,
          toHours(stationaryDuration, stationaryDurationUnit)
        );

        if (
          !isFinite(g_h) ||
          !isFinite(T_h) ||
          !isFinite(lag_h) ||
          !isFinite(log_h) ||
          !isFinite(stat_h)
        ) {
          errorMsg.textContent = "One or more inputs are invalid.";
          return;
        }

        const minRequired = lag_h + log_h + stat_h;
        if (T_h < minRequired) {
          errorMsg.textContent =
            "Total time should be at least lag + log + stationary duration.";
          return;
        }

        const mu = Math.log(2) / g_h;
        const tEndLag = lag_h;
        const tEndLog = lag_h + log_h;
        const tEndStat = tEndLog + stat_h;
        const Nmax = n0 * Math.pow(2, log_h / g_h);

        const points = [];
        const step = T_h <= 2 ? T_h / 40 : T_h <= 10 ? T_h / 80 : T_h / 120;
        for (let t = 0; t <= T_h + 1e-9; t += step) {
          let N, phase;
          if (t < tEndLag) {
            N = n0;
            phase = "Lag";
          } else if (t < tEndLog) {
            N = n0 * Math.exp(mu * (t - tEndLag));
            phase = "Log";
          } else if (t < tEndStat) {
            N = Nmax;
            phase = "Stationary";
          } else if (deathEnabled) {
            const k =
              deathRate > 0 ? -Math.log(1 - Math.min(deathRate, 0.999)) : 0;
            N = Nmax * Math.exp(-k * (t - tEndStat));
            phase = "Death";
          } else {
            N = Nmax;
            phase = "Stationary";
          }
          points.push({ t_h: t, t_min: t * 60, N, phase });
        }

        // Update key results
        const doublingTimeOut = document.getElementById("doublingTimeOut");
        const maxValueOut = document.getElementById("maxValueOut");
        const generationsOut = document.getElementById("generationsOut");

        const g_min = g_h * 60;
        doublingTimeOut.textContent = `${g_min.toFixed(1)} min (${g_h.toFixed(
          2
        )} h)`;
        maxValueOut.textContent =
          formatSci(Nmax) + (inputMode === "cfu" ? " CFU/mL" : " OD");
        const generations = log_h / g_h;
        generationsOut.textContent = generations.toFixed(2);

        // Chart
        const ctx = document.getElementById("growthChart").getContext("2d");
        const labels = points.map((p) => p.t_h);
        const dataValues = points.map((p) => p.N);
        const logValues = points.map((p) => (p.N > 0 ? Math.log10(p.N) : null));

        if (growthChart) {
          growthChart.destroy();
        }

        const yData = scaleMode === "log10" ? logValues : dataValues;
        const yLabel =
          scaleMode === "log10"
            ? inputMode === "cfu"
              ? "log10(CFU/mL)"
              : "log10(OD)"
            : inputMode === "cfu"
            ? "CFU/mL"
            : "OD";

        growthChart = new Chart(ctx, {
          type: "line",
          data: {
            labels,
            datasets: [
              {
                label: "Growth curve",
                data: yData,
                borderColor: "#2563eb",
                backgroundColor: "rgba(37, 99, 235, 0.1)",
                tension: 0.15,
                pointRadius: 0,
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            interaction: { mode: "index", intersect: false },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    const idx = context.dataIndex;
                    const p = points[idx];
                    const base = inputMode === "cfu" ? "CFU/mL" : "OD";
                    const val = formatSci(p.N);
                    const logv = p.N > 0 ? Math.log10(p.N).toFixed(3) : "–";
                    return ` ${val} ${base} (log10=${logv}), Phase: ${p.phase}`;
                  },
                },
              },
            },
            scales: {
              x: {
                title: { display: true, text: "Time (h)" },
              },
              y: {
                title: { display: true, text: yLabel },
                ticks: {
                  callback: function (value) {
                    return value;
                  },
                },
              },
            },
          },
        });

        // Table
        const tbody = document.getElementById("dataTableBody");
        tbody.innerHTML = "";
        points.forEach((p) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <td class="px-3 py-1.5 border-t text-gray-800">${p.t_h.toFixed(3)}</td>
        <td class="px-3 py-1.5 border-t text-gray-800">${p.t_min.toFixed(
          1
        )}</td>
        <td class="px-3 py-1.5 border-t text-gray-800">${formatSci(p.N)}</td>
        <td class="px-3 py-1.5 border-t text-gray-800">${
          p.N > 0 ? Math.log10(p.N).toFixed(3) : "–"
        }</td>
        <td class="px-3 py-1.5 border-t text-gray-800">${p.phase}</td>
      `;
          tbody.appendChild(tr);
        });

        lastSimulatedData = { points, inputMode };
        document.getElementById("downloadCsvBtn").disabled = false;
      }

      document
        .getElementById("simulateBtn")
        .addEventListener("click", simulateGrowth);

      document.getElementById("resetBtn").addEventListener("click", () => {
        document.getElementById("n0").value = 1e6;
        document.getElementById("genTime").value = 30;
        document.getElementById("timeUnit").value = "min";
        document.getElementById("totalTime").value = 12;
        document.getElementById("totalTimeUnit").value = "h";
        document.getElementById("lagTime").value = 1;
        document.getElementById("lagTimeUnit").value = "h";
        document.getElementById("logDuration").value = 5;
        document.getElementById("logDurationUnit").value = "h";
        document.getElementById("stationaryDuration").value = 3;
        document.getElementById("stationaryDurationUnit").value = "h";
        document.getElementById("inputMode").value = "cfu";
        document.getElementById("scaleMode").value = "log10";
        enableDeathPhase.checked = false;
        deathPhaseContainer.classList.add("hidden");
        document.getElementById("deathRate").value = 0.3;
        document.getElementById("errorMsg").textContent = "";
        document.getElementById("doublingTimeOut").textContent = "–";
        document.getElementById("maxValueOut").textContent = "–";
        document.getElementById("generationsOut").textContent = "–";
        document.getElementById("dataTableBody").innerHTML =
          '<tr><td class="px-3 py-2 text-gray-500" colspan="5">Run a simulation to see tabulated results.</td></tr>';
        if (growthChart) {
          growthChart.destroy();
          growthChart = null;
        }
        lastSimulatedData = null;
        document.getElementById("downloadCsvBtn").disabled = true;
      });

      document
        .getElementById("downloadCsvBtn")
        .addEventListener("click", () => {
          if (!lastSimulatedData) return;
          const { points, inputMode } = lastSimulatedData;
          const base = inputMode === "cfu" ? "CFU_per_mL" : "OD";
          let csv = "time_h,time_min," + base + ",log10_value,phase\n";
          points.forEach((p) => {
            const logv = p.N > 0 ? Math.log10(p.N) : "";
            csv += `${p.t_h},${p.t_min},${p.N},${logv},${p.phase}\n`;
          });
          const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "bacterial_growth_curve.csv";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });

      document
        .getElementById("estimateDoublingBtn")
        .addEventListener("click", () => {
          const t1 = parseFloat(document.getElementById("t1").value);
          const t2 = parseFloat(document.getElementById("t2").value);
          const n1 = parseFloat(document.getElementById("n1").value);
          const n2 = parseFloat(document.getElementById("n2").value);
          const out = document.getElementById("doublingFromPointsOut");

          if (!(t2 > t1) || !(n1 > 0) || !(n2 > 0)) {
            out.textContent =
              "Please enter t2 > t1 and positive values for N1 and N2.";
            out.classList.remove("text-emerald-700");
            out.classList.add("text-red-600");
            return;
          }

          const mu = (Math.log(n2) - Math.log(n1)) / (t2 - t1); // per hour
          const g = Math.log(2) / mu; // hours
          const gMin = g * 60;
          out.textContent = `Estimated doubling time g ≈ ${gMin.toFixed(
            1
          )} min (${g.toFixed(2)} h), specific growth rate μ ≈ ${mu.toFixed(
            3
          )} h⁻¹.`;
          out.classList.remove("text-red-600");
          out.classList.add("text-emerald-700");
        });

      // Auto-run a default simulation on load
      document.addEventListener("DOMContentLoaded", simulateGrowth);
    </script>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["\\(", "\\)"],
            ["$", "$"],
          ],
          displayMath: [
            ["$", "$"],
            ["\\[", "\\]"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script>
  (function () {
    var loadMathJax = function () {
      if (window.__mathjaxLoading) return;
      window.__mathjaxLoading = true;
      var script = document.createElement("script");
      script.id = "MathJax-script";
      script.async = true;
      script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
      document.head.appendChild(script);
    };

    var target = document.querySelector(
      ".formula-box, .mathjax, .math, .formula, [data-mathjax]"
    );

    if (!target) return;

    if ("IntersectionObserver" in window) {
      var observer = new IntersectionObserver(
        function (entries) {
          if (entries.some(function (entry) { return entry.isIntersecting; })) {
            observer.disconnect();
            loadMathJax();
          }
        },
        { rootMargin: "200px" }
      );
      observer.observe(target);
    } else {
      window.addEventListener(
        "load",
        function () {
          setTimeout(loadMathJax, 1000);
        },
        { once: true }
      );
    }
  })();
</script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7MB5V1LZRN"></script>
<script>
  window.__cmpLoadQueued = window.__cmpLoadQueued || [];
  window.addEventListener("load", function () {
    var loadCmp = function () {
      var s1 = document.createElement("script");
      s1.src = "https://cmp.gatekeeperconsent.com/min.js";
      s1.async = true;
      s1.setAttribute("data-cfasync", "false");
      document.head.appendChild(s1);

      var s2 = document.createElement("script");
      s2.src = "https://the.gatekeeperconsent.com/cmp.min.js";
      s2.async = true;
      s2.setAttribute("data-cfasync", "false");
      document.head.appendChild(s2);
    };

    if ("requestIdleCallback" in window) {
      requestIdleCallback(loadCmp, { timeout: 2000 });
    } else {
      setTimeout(loadCmp, 1000);
    }
  });
</script>
<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
      window.ezstandalone = window.ezstandalone || {};
      ezstandalone.cmd = ezstandalone.cmd || [];
    </script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</body>
</html>
