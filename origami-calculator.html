<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/origami-calculator.html">





  <!-- Base -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Origami Calculator — Paper Size, Scaling, Pleats & Grids</title>
  <meta name="description" content="Calculate origami paper sizes (ISO A-series, squares, rectangles), scaling from diagrams, stripe/pleat spacing, and grid/diagonal lengths. Accessible, mobile-first, and accurate." />
  
  <meta name="author" content="Ugo Candido" />

  <!-- Icons / Manifest (safe fallbacks if not present) -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <!-- Tailwind (CDN, no blocking CSS file) -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="preload" as="style" onload="this.rel='stylesheet'">

  <!-- MathJax for LaTeX -->
  <script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- Inline critical styles (focus, prose, CLS guards) -->
  <style>
    :root{--ring:#2563eb}
    html{scroll-behavior:smooth}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}
    .prose{max-width:68ch}
    .prose h2{font-size:1.375rem;font-weight:700;margin-top:1.25rem;margin-bottom:.75rem}
    .prose h3{font-size:1.125rem;font-weight:700;margin-top:1rem;margin-bottom:.5rem}
    .formula-box{background:#f8fafc;border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem;overflow-x:auto}
    /* Accessible focus */
    :where(a,button,input,select,summary,details,[role="tab"],[role="tablist"],[role="tabpanel"]) :focus{outline:none}
    :where(a,button,input,select,summary,details,[role="tab"]) :focus-visible{outline:none}
    :where(a,button,input,select,summary,details,[role="tab"],[role="switch"],[role="tooltip"]):focus-visible{
      box-shadow:0 0 0 3px #bfdbfe,0 0 0 6px var(--ring);border-radius:.5rem
    }
    /* Touch targets */
    .touch-target{min-height:48px;min-width:48px}
    /* Prevent CLS in results containers */
    #results-wrapper{min-height:260px}
    .result-box{min-height:96px}
    /* Accessible tabs */
    .tab-active{border-color:#2563eb;color:#1f2937;background:#eff6ff}
    /* Tables */
    table{border-collapse:collapse}
    th,td{border-bottom:1px solid #e5e7eb}
    /* Print */
    @media print{
      header,nav,aside,footer,.no-print{display:none !important}
      main{padding:0}
      #print-section{display:block}
    }
  </style>

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Origami Calculator — Paper Size, Scaling, Pleats & Grids",
    "description":"Calculate origami paper sizes (ISO A-series, squares, rectangles), scaling from diagrams, stripe/pleat spacing, and grid/diagonal lengths.",
    "url":"https://calcdomain.com/origami-calculator.html",
    "inLanguage":"en",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"}
  }
  </script>

  <!-- JSON-LD: HowTo (Scale Planner) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to scale an origami model to a target size",
    "description":"Use the scale planner to compute the required paper size from the original diagram.",
    "step":[
      {"@type":"HowToStep","name":"Enter original diagram specs","text":"Input the original paper side length and the finished model size from the diagram."},
      {"@type":"HowToStep","name":"Enter your target finished size","text":"Type your desired finished model size and optional safety margin."},
      {"@type":"HowToStep","name":"Read required paper side","text":"The calculator outputs the scaled paper side and percentage scaling."}
    ],
    "tool":[{"@type":"HowToTool","name":"Origami Calculator — Scale Planner"}]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Does ISO A-series keep its aspect ratio when cut in half?","acceptedAnswer":{"@type":"Answer","text":"Yes. ISO 216 A-series uses the √2:1 ratio, so halving the longer side preserves the aspect."}},
      {"@type":"Question","name":"How do I find the biggest square I can cut from a rectangle?","acceptedAnswer":{"@type":"Answer","text":"Use the smaller side of the rectangle as the square side; the remainder is waste along the longer side."}},
      {"@type":"Question","name":"How precise should I be with margins when scaling models?","acceptedAnswer":{"@type":"Answer","text":"Keep 2–5% margin for trimming and thickness tolerance. The calculator lets you add a safety margin."}},
      {"@type":"Question","name":"What stripe width should I use for pleated designs?","acceptedAnswer":{"@type":"Answer","text":"Divide the usable width by the number of stripes after subtracting margins and gaps. The Stripe/Pleat tool computes this."}},
      {"@type":"Question","name":"How do I compute diagonal and grid spacing on a square?","acceptedAnswer":{"@type":"Answer","text":"Diagonal length is a·√2. For an n-division grid, each cell is a/n."}},
      {"@type":"Question","name":"Can I convert A4 to a perfect square without measuring?","acceptedAnswer":{"@type":"Answer","text":"Fold one short edge to align with the opposite long edge; the overlap is the trim. The calculator tells you the exact sizes."}}
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per requirements) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between" aria-label="Primary">
      <a class="text-xl font-bold text-blue-700 hover:text-blue-800 focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300 rounded" href="index.html">CalcDomain</a>
      <div class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="text-gray-700 hover:text-blue-700 focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300 rounded">Advanced Search</a>
        Categories
      </div>
      <button class="md:hidden touch-target px-3 py-2 rounded border border-gray-300 hover:bg-gray-100 focus-visible:ring-4 focus-visible:ring-blue-300" aria-expanded="false" aria-controls="mnav" id="mnavBtn">
        <span class="sr-only">Open menu</span>
        ☰
      </button>
    </nav>
    <div id="mnav" class="hidden md:hidden border-t">
      <div class="container mx-auto px-4 lg:px-6 py-3 space-y-2">
        <a href="search.html" class="block py-2 text-gray-700 hover:text-blue-700">Advanced Search</a>
        Categories
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <!-- Breadcrumb -->
    <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
      <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
      <a href="lifestyle-everyday.html" class="hover:text-blue-700">Lifestyle Everyday</a> &raquo;
      <a href="subcategories/hobbies.html" class="hover:text-blue-700">Hobbies</a> &raquo;
      <span class="text-gray-900">Origami Calculator</span>
    </nav>

    <div id="print-section" class="bg-white p-6 rounded-lg shadow-sm">
      <!-- 1. Page Title -->
      <h1 class="text-3xl font-extrabold tracking-tight mb-2">origami calculator</h1>

      <!-- 2. Intro -->
      <p class="text-gray-700 mb-6">
        Plan origami projects with engineering-grade precision: convert ISO A-series sizes to squares, compute required paper for scaling a diagram,
        lay out stripe/pleat grids with margins and gaps, and get diagonal & grid metrics instantly. Ideal for designers, teachers, and hobbyists.
      </p>

      <!-- 3. Calculator (tabs: Paper & Aspect, Scale Planner, Stripe/Pleat, Diagonals & Grid) -->
      <section aria-labelledby="calcTitle" class="mb-6">
        <h2 id="calcTitle" class="sr-only">Origami Calculator Interface</h2>

        <!-- Tabs -->
        <div role="tablist" aria-label="Calculator modes" class="flex flex-wrap gap-2 mb-4">
          <button role="tab" id="tab-paper" aria-controls="panel-paper" aria-selected="true"
                  class="touch-target px-4 py-2 rounded border border-gray-300 hover:bg-gray-50 focus-visible:ring-4 focus-visible:ring-blue-300 tab-active">
            Paper & Aspect
          </button>
          <button role="tab" id="tab-scale" aria-controls="panel-scale" aria-selected="false"
                  class="touch-target px-4 py-2 rounded border border-gray-300 hover:bg-gray-50 focus-visible:ring-4 focus-visible:ring-blue-300">
            Scale Planner
          </button>
          <button role="tab" id="tab-stripe" aria-controls="panel-stripe" aria-selected="false"
                  class="touch-target px-4 py-2 rounded border border-gray-300 hover:bg-gray-50 focus-visible:ring-4 focus-visible:ring-blue-300">
            Stripe / Pleat
          </button>
          <button role="tab" id="tab-diag" aria-controls="panel-diag" aria-selected="false"
                  class="touch-target px-4 py-2 rounded border border-gray-300 hover:bg-gray-50 focus-visible:ring-4 focus-visible:ring-blue-300">
            Diagonals & Grid
          </button>
        </div>

        <!-- Panels -->
        <div id="panel-paper" role="tabpanel" aria-labelledby="tab-paper" class="rounded-lg border border-gray-200 p-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- ISO selector -->
            <div>
              <div class="flex items-center gap-2">
                <label for="isoSize" class="block text-sm font-medium text-gray-800">ISO A-Series Size <span aria-hidden="true" class="text-red-600">*</span></label>
                <button type="button" id="isoTipBtn" class="touch-target w-8 h-8 text-sm rounded-full border border-gray-300 hover:bg-gray-100"
                        aria-expanded="false" aria-controls="isoTip" aria-describedby="isoSize isoTip">
                  ?
                </button>
              </div>
              <select id="isoSize" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300" aria-required="true" aria-describedby="isoErr isoTip">
                <option value="A4" selected>A4 (210 × 297 mm)</option>
                <option value="A3">A3 (297 × 420 mm)</option>
                <option value="A5">A5 (148 × 210 mm)</option>
                <option value="A2">A2 (420 × 594 mm)</option>
                <option value="A1">A1 (594 × 841 mm)</option>
                <option value="A0">A0 (841 × 1189 mm)</option>
                <option value="custom">Custom rectangle…</option>
              </select>
              <p id="isoTip" class="mt-2 text-xs text-gray-600 hidden">
                ISO 216 A-series keeps a √2:1 aspect. Halving the long side preserves the ratio. Choose “Custom” to enter any rectangle.
              </p>
              <p id="isoErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>

            <!-- Custom rectangle -->
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="rectW" class="block text-sm font-medium text-gray-800">Rect Width (mm)</label>
                <input type="number" id="rectW" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                       inputmode="decimal" step="0.1" placeholder="e.g., 210" aria-describedby="rectWErr">
                <p id="rectWErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
              </div>
              <div>
                <label for="rectH" class="block text-sm font-medium text-gray-800">Rect Height (mm)</label>
                <input type="number" id="rectH" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                       inputmode="decimal" step="0.1" placeholder="e.g., 297" aria-describedby="rectHErr">
                <p id="rectHErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
              </div>
            </div>

            <!-- Biggest square -->
            <div class="md:col-span-2">
              <div class="flex items-center gap-2">
                <label for="squareFromRect" class="block text-sm font-medium text-gray-800">Largest Square from Rectangle</label>
                <button type="button" id="sqTipBtn" class="touch-target w-8 h-8 text-sm rounded-full border border-gray-300 hover:bg-gray-100"
                        aria-expanded="false" aria-controls="sqTip">?</button>
              </div>
              <p id="sqTip" class="mt-1 text-xs text-gray-600 hidden">
                The largest square fits the shorter side of the rectangle; the leftover strip equals (longer − shorter).
              </p>
              <div class="text-sm text-gray-700 mt-2" id="squareFromRect" aria-live="polite"></div>
            </div>
          </div>
        </div>

        <div id="panel-scale" role="tabpanel" aria-labelledby="tab-scale" hidden class="rounded-lg border border-gray-200 p-4">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
              <label for="origPaper" class="block text-sm font-medium text-gray-800">Original Paper Side (mm) <span class="text-red-600" aria-hidden="true">*</span></label>
              <input type="number" id="origPaper" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="150" aria-required="true" aria-describedby="origPaperErr">
              <p id="origPaperErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="origModel" class="block text-sm font-medium text-gray-800">Finished Model Size in Diagram (mm)</label>
              <input type="number" id="origModel" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="75" aria-describedby="origModelErr">
              <p id="origModelErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="targetModel" class="block text-sm font-medium text-gray-800">Target Finished Model (mm) <span class="text-red-600" aria-hidden="true">*</span></label>
              <input type="number" id="targetModel" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="120" aria-required="true" aria-describedby="targetModelErr">
              <p id="targetModelErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="marginPct" class="block text-sm font-medium text-gray-800">Safety Margin (%)</label>
              <input type="number" id="marginPct" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="3">
            </div>
            <div class="md:col-span-2">
              <div class="text-sm text-gray-700 mt-7" id="scaleOutput" aria-live="polite"></div>
            </div>
          </div>
        </div>

        <div id="panel-stripe" role="tabpanel" aria-labelledby="tab-stripe" hidden class="rounded-lg border border-gray-200 p-4">
          <div class="grid grid-cols-1 md:grid-cols-5 gap-6">
            <div>
              <label for="sheetWidth" class="block text-sm font-medium text-gray-800">Usable Width (mm) <span class="text-red-600" aria-hidden="true">*</span></label>
              <input type="number" id="sheetWidth" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="210" aria-required="true" aria-describedby="sheetWidthErr">
              <p id="sheetWidthErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="stripeCount" class="block text-sm font-medium text-gray-800">Stripes / Pleats (N) <span class="text-red-600" aria-hidden="true">*</span></label>
              <input type="number" id="stripeCount" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="numeric" step="1" value="16" aria-required="true" aria-describedby="stripeCountErr">
              <p id="stripeCountErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="leftMargin" class="block text-sm font-medium text-gray-800">Left Margin (mm)</label>
              <input type="number" id="leftMargin" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="5">
            </div>
            <div>
              <label for="rightMargin" class="block text-sm font-medium text-gray-800">Right Margin (mm)</label>
              <input type="number" id="rightMargin" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="5">
            </div>
            <div>
              <div class="flex items-center gap-2">
                <label for="gap" class="block text-sm font-medium text-gray-800">Gap Between Stripes (mm)</label>
                <button type="button" id="gapTipBtn" class="touch-target w-8 h-8 text-sm rounded-full border border-gray-300 hover:bg-gray-100"
                        aria-expanded="false" aria-controls="gapTip">?</button>
              </div>
              <input type="number" id="gap" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="0">
              <p id="gapTip" class="mt-2 text-xs text-gray-600 hidden">Optional spacing line between pleats (e.g., guide marks).</p>
            </div>
            <div class="md:col-span-5">
              <div id="stripeOutput" class="text-sm text-gray-700" aria-live="polite"></div>
            </div>
          </div>
        </div>

        <div id="panel-diag" role="tabpanel" aria-labelledby="tab-diag" hidden class="rounded-lg border border-gray-200 p-4">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div>
              <label for="squareSide" class="block text-sm font-medium text-gray-800">Square Side a (mm) <span class="text-red-600" aria-hidden="true">*</span></label>
              <input type="number" id="squareSide" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="decimal" step="0.1" value="150" aria-required="true" aria-describedby="squareSideErr">
              <p id="squareSideErr" class="mt-2 text-sm text-red-700" aria-live="polite"></p>
            </div>
            <div>
              <label for="gridN" class="block text-sm font-medium text-gray-800">Grid Divisions (n)</label>
              <input type="number" id="gridN" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded focus-visible:ring-4 focus-visible:ring-blue-300"
                     inputmode="numeric" step="1" value="16">
            </div>
            <div class="md:col-span-2">
              <div id="diagOutput" class="text-sm text-gray-700 md:mt-7" aria-live="polite"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. Results Area -->
      <section id="results-wrapper" class="mt-6 bg-blue-50 border border-blue-100 rounded-lg p-4">
        <h2 class="text-lg font-semibold text-gray-900 mb-3">Results</h2>
        <div id="results" class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="result-box bg-white rounded-lg p-4 border">
            <h3 class="text-xs uppercase tracking-wide text-gray-500">Primary Output</h3>
            <p id="primaryOut" class="text-xl font-bold text-blue-700 mt-1">—</p>
          </div>
          <div class="result-box bg-white rounded-lg p-4 border">
            <h3 class="text-xs uppercase tracking-wide text-gray-500">Secondary</h3>
            <p id="secondaryOut" class="text-xl font-bold text-blue-700 mt-1">—</p>
          </div>
          <div class="result-box bg-white rounded-lg p-4 border">
            <h3 class="text-xs uppercase tracking-wide text-gray-500">Notes</h3>
            <p id="noteOut" class="text-sm text-gray-700 mt-1">—</p>
          </div>
        </div>
      </section>

      <!-- 5. E-E-A-T Content -->
      <section class="prose mt-8">
        <h2>Authoritative Data Source &amp; Methodology</h2>
        <ul>
          <li><strong>ISO 216:2007 – Writing paper and certain classes of printed matter — Trimmed sizes — A and B series, and indication of machine direction</strong>. Published by ISO (International Organization for Standardization). Official dimensions and √2 aspect rules are used for all A-series computations. <a href="https://www.iso.org/standard/36631.html" class="text-blue-700">Primary standard</a>. <em>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</em></li>
          <li><strong>Computational Origami</strong> (R. J. Lang). Conceptual background on mathematical modeling in origami design, grids, and scaling relationships. <a href="https://langorigami.com/article/computational-origami/" class="text-blue-700">Article</a>.</li>
        </ul>

        <h2>The Formula Explained</h2>
        <div class="formula-box">
          <p><strong>Largest square from rectangle</strong>: If rectangle is \(w \times h\) (mm), largest square side \(s\) is:</p>
          \[
            s=\min(w,h),\quad \text{waste}=\max(w,h)-s
          \]
          <p><strong>Scale planner</strong>: Original paper side \(P_0\) yields model size \(M_0\). For a target model \(M_t\):</p>
          \[
            k=\frac{M_t}{M_0},\quad P_t=k\cdot P_0,\quad P_t' = P_t\,(1+m)
          \]
          where \(m\) is margin fraction (e.g., 0.03 for 3%).<br/>
          <strong>Stripe/Pleat</strong>: with usable width \(W\), margins \(L,R\), gap \(g\), stripes \(N\): 
          \[
            w=\frac{W-(L+R)-(N-1)\,g}{N}
          \]
          <strong>Diagonal & grid</strong>: for square side \(a\) and grid \(n\): 
          \[
            d=a\sqrt{2},\quad \Delta=\frac{a}{n}
          \]
        </div>

        <h2>Glossary of Variables</h2>
        <table class="w-full text-sm">
          <thead class="bg-gray-100">
            <tr><th class="text-left p-2">Symbol / Field</th><th class="text-left p-2">Meaning</th><th class="text-left p-2">Units</th></tr>
          </thead>
          <tbody>
            <tr><td class="p-2">\(w,h\)</td><td>Rectangle width and height</td><td>mm</td></tr>
            <tr><td class="p-2">\(s\)</td><td>Largest square side fitting in the rectangle</td><td>mm</td></tr>
            <tr><td class="p-2">\(P_0\), \(M_0\)</td><td>Original paper side, finished model size from diagram</td><td>mm</td></tr>
            <tr><td class="p-2">\(M_t\)</td><td>Target finished model size</td><td>mm</td></tr>
            <tr><td class="p-2">\(k\)</td><td>Scale factor</td><td>—</td></tr>
            <tr><td class="p-2">\(P_t\), \(P_t'\)</td><td>Required paper side (raw / with margin)</td><td>mm</td></tr>
            <tr><td class="p-2">\(W\)</td><td>Usable sheet width for stripes/pleats</td><td>mm</td></tr>
            <tr><td class="p-2">\(L,R\)</td><td>Left and right margins</td><td>mm</td></tr>
            <tr><td class="p-2">\(g\)</td><td>Gap between stripes</td><td>mm</td></tr>
            <tr><td class="p-2">\(N\)</td><td>Number of stripes/pleats</td><td>—</td></tr>
            <tr><td class="p-2">\(a\)</td><td>Square side</td><td>mm</td></tr>
            <tr><td class="p-2">\(d\)</td><td>Diagonal of square</td><td>mm</td></tr>
            <tr><td class="p-2">\(\Delta\)</td><td>Grid spacing</td><td>mm</td></tr>
          </tbody>
        </table>

        <h2>How It Works: A Step-by-Step Example</h2>
        <h3>Target a 120&nbsp;mm crane from a diagram using 150&nbsp;mm paper → 75&nbsp;mm model</h3>
        <ol>
          <li>From the diagram: \(P_0=150\) mm produces \(M_0=75\) mm. You want \(M_t=120\) mm.</li>
          <li>Scale factor \(k=M_t/M_0=120/75=1.6\).</li>
          <li>Required paper side \(P_t=k\cdot P_0=1.6 \cdot 150=240\) mm.</li>
          <li>Add 3% safety margin: \(P_t' = 240 \times 1.03 = 247.2\) mm → cut a 248&nbsp;mm square.</li>
        </ol>

        <h2>Frequently Asked Questions</h2>
        <details class="no-print"><summary>Is A4 big enough for complex models?</summary><p>Often not. Use the Scale Planner to compute the required side from the model’s diagram specs. Many complex designs need 250–350&nbsp;mm squares or larger.</p></details>
        <details class="no-print"><summary>What paper thickness should I assume?</summary><p>For dry folding, 60–90&nbsp;gsm works for many models. Wet-folding and complex tessellations often benefit from thinner or specialized papers. Keep a 2–5% size margin.</p></details>
        <details class="no-print"><summary>Why do I get a negative stripe width?</summary><p>The combination of margins, gaps, and stripe count exceeds the usable width. Reduce margins/gaps or the number of stripes.</p></details>
        <details class="no-print"><summary>How do I convert to inches?</summary><p>Enter dimensions in millimeters; 25.4&nbsp;mm = 1&nbsp;inch. (A4 is ~8.27&nbsp;×&nbsp;11.69&nbsp;in.)</p></details>
        <details class="no-print"><summary>Can I preserve the √2 aspect when trimming?</summary><p>Yes—halve the long side to keep the A-series ratio. For a square, trim the long side down to the short side.</p></details>

        <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700">
          <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br>
          Last accuracy review: <time datetime="2025-10-30">October 30, 2025</time></p>
        </div>
      </section>
    </div>
  </main>

  <aside class="container mx-auto px-4 lg:px-6 pb-10">
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bg-gray-200 h-64 rounded-lg flex items-center justify-center text-gray-600">Ad Placement (300×600)</div>
      <div class="bg-white p-6 rounded-lg border">
        <h3 class="font-semibold text-lg mb-3">Why this calculator</h3>
        <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
          <li>Covers paper conversion, scaling, pleats, and grids in one place.</li>
          <li>Accessible, keyboard-friendly UI for classrooms and workshops.</li>
          <li>Backed by ISO 216 and clear geometric formulas.</li>
        </ul>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <h3 class="font-semibold text-lg mb-3">Related tools</h3>
        <ul class="space-y-2 text-sm">
          <li>Paper Ratio Converter</li>
          <li>Square From Rectangle</li>
          <li>Grid & Pleat Planner</li>
        </ul>
      </div>
    </div>
  </aside>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-4 lg:px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-3 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer placed before </body>) -->
  <script defer>
  (function(){
    // Mobile nav
    const mbtn=document.getElementById('mnavBtn'), mnav=document.getElementById('mnav');
    if(mbtn&&mnav){mbtn.addEventListener('click',()=>{const ex=mbtn.getAttribute('aria-expanded')==='true';mbtn.setAttribute('aria-expanded',String(!ex));mnav.classList.toggle('hidden');});}

    // Accessible tabs
    const tabs=[...document.querySelectorAll('[role="tab"]')];
    const panels=[...document.querySelectorAll('[role="tabpanel"]')];
    function activateTab(tab){
      tabs.forEach(t=>{t.classList.remove('tab-active');t.setAttribute('aria-selected','false');});
      panels.forEach(p=>p.hidden=true);
      tab.classList.add('tab-active');
      tab.setAttribute('aria-selected','true');
      const panel=document.getElementById(tab.getAttribute('aria-controls'));
      if(panel){panel.hidden=false;panel.focus?.();}
      // Reset result headline to avoid stale context
      setPrimary('—'); setSecondary('—'); setNote('—');
    }
    tabs.forEach(t=>{
      t.addEventListener('click',()=>activateTab(t));
      t.addEventListener('keydown',e=>{
        const i=tabs.indexOf(t);
        if(['ArrowRight','ArrowLeft','Home','End'].includes(e.key)){e.preventDefault();}
        if(e.key==='ArrowRight') activateTab(tabs[(i+1)%tabs.length]);
        if(e.key==='ArrowLeft') activateTab(tabs[(i-1+tabs.length)%tabs.length]);
        if(e.key==='Home') activateTab(tabs[0]);
        if(e.key==='End') activateTab(tabs[tabs.length-1]);
      });
    });

    // Tooltips
    function toggleTip(btnId, tipId){
      const b=document.getElementById(btnId), t=document.getElementById(tipId);
      if(!b||!t) return;
      b.addEventListener('click',()=>{
        const open=b.getAttribute('aria-expanded')==='true';
        b.setAttribute('aria-expanded',String(!open));
        t.classList.toggle('hidden');
      });
    }
    toggleTip('isoTipBtn','isoTip');
    toggleTip('sqTipBtn','sqTip');
    toggleTip('gapTipBtn','gapTip');

    // Results helpers
    const primaryOut=document.getElementById('primaryOut');
    const secondaryOut=document.getElementById('secondaryOut');
    const noteOut=document.getElementById('noteOut');
    function setPrimary(v){primaryOut.textContent=v;}
    function setSecondary(v){secondaryOut.textContent=v;}
    function setNote(v){noteOut.textContent=v;}

    // Number formatting
    const fmt=(n)=>Number(n).toFixed(2).replace(/\.00$/,'');
    const mm=(n)=>`${fmt(n)} mm`;

    // ISO sizes (mm)
    const ISO={ A0:[841,1189], A1:[594,841], A2:[420,594], A3:[297,420], A4:[210,297], A5:[148,210], A6:[105,148], A7:[74,105], A8:[52,74], A9:[37,52], A10:[26,37] };

    // Paper & Aspect panel
    const isoSize=document.getElementById('isoSize');
    const rectW=document.getElementById('rectW');
    const rectH=document.getElementById('rectH');
    const squareFromRect=document.getElementById('squareFromRect');
    const isoErr=document.getElementById('isoErr'), rectWErr=document.getElementById('rectWErr'), rectHErr=document.getElementById('rectHErr');

    function currentRect(){
      if(isoSize.value!=='custom'){
        const [w,h]=ISO[isoSize.value]||[210,297];
        rectW.value=w;rectH.value=h;
        return {w, h};
      }
      const w=parseFloat(rectW.value), h=parseFloat(rectH.value);
      return {w: isFinite(w)?w:NaN, h: isFinite(h)?h:NaN};
    }

    function validateRect({w,h}){
      let ok=true;
      isoErr.textContent='';
      rectWErr.textContent='';
      rectHErr.textContent='';
      if(isoSize.value==='custom'){
        if(!(w>0)){rectWErr.textContent='Enter a width greater than 0 mm.'; ok=false;}
        if(!(h>0)){rectHErr.textContent='Enter a height greater than 0 mm.'; ok=false;}
      }
      return ok;
    }

    function computeSquareFromRect(){
      const r=currentRect();
      if(!validateRect(r)){ setPrimary('—'); setSecondary('—'); setNote('Fix errors above.'); squareFromRect.textContent=''; return; }
      const w=r.w, h=r.h;
      const s=Math.min(w,h);
      const waste=Math.max(w,h)-s;
      squareFromRect.textContent=`Largest square: ${mm(s)} × ${mm(s)}. Trim ${mm(waste)} from the long side.`;
      setPrimary(`${mm(s)} square`);
      setSecondary(`Waste strip: ${mm(waste)}`);
      setNote(`ISO ratio √2:1 preserved when halving the long side; for squares, trim the long side down to ${mm(s)}.`);
    }

    ['change','blur','input'].forEach(ev=>{
      isoSize.addEventListener(ev,computeSquareFromRect);
      rectW.addEventListener(ev,computeSquareFromRect);
      rectH.addEventListener(ev,computeSquareFromRect);
    });

    // Scale Planner
    const origPaper=document.getElementById('origPaper');
    const origModel=document.getElementById('origModel');
    const targetModel=document.getElementById('targetModel');
    const marginPct=document.getElementById('marginPct');
    const scaleOutput=document.getElementById('scaleOutput');
    const origPaperErr=document.getElementById('origPaperErr');
    const origModelErr=document.getElementById('origModelErr');
    const targetModelErr=document.getElementById('targetModelErr');

    function validateScale(P0,M0,Mt){
      origPaperErr.textContent=''; origModelErr.textContent=''; targetModelErr.textContent='';
      let ok=true;
      if(!(P0>0)){origPaperErr.textContent='Enter the original square side (mm) > 0.'; ok=false;}
      if(!(Mt>0)){targetModelErr.textContent='Enter a target finished size (mm) > 0.'; ok=false;}
      if(!(M0>0)){origModelErr.textContent='Provide the finished model size shown in the diagram (> 0).'; ok=false;}
      return ok;
    }

    function scalePlanner(){
      const P0=parseFloat(origPaper.value);
      const M0=parseFloat(origModel.value);
      const Mt=parseFloat(targetModel.value);
      const m=(parseFloat(marginPct.value)||0)/100;

      if(!validateScale(P0,M0,Mt)){ setPrimary('—'); setSecondary('—'); setNote('Fix errors above.'); scaleOutput.textContent=''; return; }

      const k=Mt/M0;
      const Pt=k*P0;
      const PtM=Pt*(1+m);
      scaleOutput.textContent=`Scale factor k = ${fmt(k)}. Required paper side = ${mm(Pt)}. With ${fmt(m*100)}% margin → ${mm(PtM)} (cut ${Math.round(PtM)} mm).`;

      setPrimary(`Cut ${Math.round(PtM)} mm square`);
      setSecondary(`k = ${fmt(k)}×`);
      setNote(`Raw required side: ${mm(Pt)}. Margin added: ${fmt(m*100)}%.`);
    }

    [origPaper,origModel,targetModel,marginPct].forEach(el=>{
      ['input','blur','change'].forEach(ev=>el.addEventListener(ev,scalePlanner));
    });

    // Stripe / Pleat
    const sheetWidth=document.getElementById('sheetWidth');
    const stripeCount=document.getElementById('stripeCount');
    const leftMargin=document.getElementById('leftMargin');
    const rightMargin=document.getElementById('rightMargin');
    const gap=document.getElementById('gap');
    const stripeOutput=document.getElementById('stripeOutput');
    const sheetWidthErr=document.getElementById('sheetWidthErr');
    const stripeCountErr=document.getElementById('stripeCountErr');

    function stripeCalc(){
      sheetWidthErr.textContent=''; stripeCountErr.textContent='';
      const W=parseFloat(sheetWidth.value);
      const N=parseInt(stripeCount.value,10);
      const L=parseFloat(leftMargin.value)||0;
      const R=parseFloat(rightMargin.value)||0;
      const g=parseFloat(gap.value)||0;

      let ok=true;
      if(!(W>0)){sheetWidthErr.textContent='Enter usable width > 0 mm.'; ok=false;}
      if(!(N>0)){stripeCountErr.textContent='Enter stripe count N > 0.'; ok=false;}
      if(!ok){ setPrimary('—'); setSecondary('—'); setNote('Fix errors above.'); stripeOutput.textContent=''; return; }

      const usable=W-(L+R);
      const w=(usable-(N-1)*g)/N;
      if(!(w>0)){
        stripeOutput.textContent='The requested layout is impossible (negative or zero stripe width). Reduce margins/gap or N.';
        setPrimary('—'); setSecondary('—'); setNote('Reduce margins/gaps or stripes.');
        return;
      }
      const firstLine=L + w; // first crease from left edge if alternating
      stripeOutput.innerHTML=`Stripe width w = <strong>${mm(w)}</strong>. Total usable width: ${mm(usable)}. 
        First stripe boundary at ${mm(firstLine)} from left edge.`;

      setPrimary(`Stripe width ${mm(w)}`);
      setSecondary(`Usable ${mm(usable)}`);
      setNote(`Margins L/R: ${mm(L)} / ${mm(R)}; gap: ${mm(g)}; stripes: ${N}.`);
    }
    [sheetWidth,stripeCount,leftMargin,rightMargin,gap].forEach(el=>{
      ['input','blur','change'].forEach(ev=>el.addEventListener(ev,stripeCalc));
    });

    // Diagonals & Grid
    const squareSide=document.getElementById('squareSide');
    const gridN=document.getElementById('gridN');
    const diagOutput=document.getElementById('diagOutput');
    const squareSideErr=document.getElementById('squareSideErr');

    function diagCalc(){
      squareSideErr.textContent='';
      const a=parseFloat(squareSide.value);
      const n=parseInt(gridN.value,10)||0;
      if(!(a>0)){squareSideErr.textContent='Enter a square side a > 0 mm.'; setPrimary('—'); setSecondary('—'); setNote('Fix errors above.'); diagOutput.textContent=''; return;}
      const d=a*Math.SQRT2;
      let msg=`Diagonal d = ${mm(d)}.`;
      if(n>0){ const delta=a/n; msg+=` Grid spacing Δ = ${mm(delta)} for ${n} divisions.`; }
      diagOutput.textContent=msg;

      setPrimary(`Diagonal ${mm(d)}`);
      setSecondary(n>0?`Grid Δ = ${mm(a/n)}`:'—');
      setNote(n>0?`${n} divisions on ${mm(a)} square.`:'Add grid divisions to compute spacing.');
    }
    [squareSide,gridN].forEach(el=>{
      ['input','blur','change'].forEach(ev=>el.addEventListener(ev,diagCalc));
    });

    // Initial state
    computeSquareFromRect();
    scalePlanner();
    stripeCalc();
    diagCalc();
  })();
  </script>
</body>
</html>
