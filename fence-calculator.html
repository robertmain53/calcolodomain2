<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fence Calculator: Estimate Panels, Posts &amp; Concrete</title>
<meta name="description" content="Accurately calculate the exact number of fence panels, posts, rails, and bags of concrete needed for your project. Free, instant, and mobile-friendly calculator.">
<link rel="canonical" href="https://calcdomain.com/fence-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGjKrxZSSFNjzccdbavQWcfBfgSjLILCALH4MAHKLTKRx9M+A9OMoxFDWb" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURPlLJSzFJUgtrKIC1SPZRQnGOXOKjPnCJUvjUaOromEAFGYQI+t3O" crossorigin="anonymous" onload="renderMathInElement(document.body, { delimiters: [ {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false} ] });"></script>

<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.prose strong { font-weight: 600; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }

/* Result Card Styling */
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.05em; }
.result-card p { font-size: 2rem; font-weight: 700; color: #2563eb; line-height: 1.2; }

/* CLS Prevention: Set a min-height on the results area */
#results { min-height: 220px; }

/* Accessibility & Validation */
input:focus-visible, select:focus-visible, button:focus-visible {
outline: 3px solid #3b82f6 !important;
outline-offset: 2px;
}
input[aria-invalid="true"] {
border-color: #dc2626;
}
.error-message {
color: #dc2626;
font-size: 0.875rem;
margin-top: 0.25rem;
}

/* Print Styles */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
.no-print { display: none !important; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Fence Calculator: Estimate Panels, Posts & Concrete",
"description": "Accurately calculate the exact number of fence panels, posts, rails, and bags of concrete needed for your project.",
"url": "https://calcdomain.com/fence-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Construction", "item": "https://calcdomain.com/construction.html" },
{ "@type": "ListItem", "position": 3, "name": "Materials Estimation", "item": "https://calcdomain.com/subcategories/construction-materials-estimation.html" },
{ "@type": "ListItem", "position": 4, "name": "Fence Calculator", "item": "https://calcdomain.com/fence-calculator.html" }
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Calculate Fence Materials",
"description": "A step-by-step guide to estimating all materials for your fencing project, including panels, posts, and concrete.",
"step": [
{"@type": "HowToStep", "name": "Measure Fence Line", "text": "Enter the total linear length of your planned fence in feet."},
{"@type": "HowToStep", "name": "Define Panel Size", "text": "Input the width of the fence panels you intend to use (e.g., 6 ft or 8 ft)."},
{"@type": "HowToStep", "name": "Configure Posts & Concrete", "text": "Specify post hole dimensions (diameter, depth) and the concrete bag yield (in cubic feet)."},
{"@type": "HowToStep", "name": "Configure Rails", "text": "Enter the number of horizontal rails (stringers) you will use per panel (typically 2 or 3)."},
{"@type": "HowToStep", "name": "Calculate Results", "text": "The calculator instantly provides a complete materials list, including panels, posts, rails, and total bags of concrete."}
]
}
</script>

<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2 no-print" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="construction.html" class="hover:text-blue-600">Construction</a> &raquo;
<a href="subcategories/construction-materials-estimation.html" class="hover:text-blue-600">Materials Estimation</a> &raquo;
<span class="text-gray-900">Fence Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Fence Calculator: Estimate Panels, Posts &amp; Concrete</h1>
<p class="text-gray-600 mb-6">This comprehensive tool helps homeowners and contractors accurately estimate all materials needed for a fencing project. It calculates panels, posts, rails, and the precise amount of concrete, preventing over-buying or multiple trips to the store.</p>

<form id="calculator-ui" class="space-y-6" onsubmit="return false;">

<fieldset class="space-y-4">
<legend class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2 w-full">1. Fence Dimensions</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
<div>
<label for="totalLength" class="block text-sm font-medium text-gray-700">Total Fence Length (ft) <span class="text-red-600">*</span></label>
<input type="number" id="totalLength" value="100" min="1" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="lengthError" inputmode="decimal">
<span id="lengthError" class="error-message hidden" role="alert">Please enter a total length greater than 0.</span>
</div>
<div>
<label for="panelWidth" class="block text-sm font-medium text-gray-700">Fence Panel Width (ft) <span class="text-red-600">*</span></label>
<input type="number" id="panelWidth" value="8" min="1" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="panelWidthError" inputmode="decimal">
<span id="panelWidthError" class="error-message hidden" role="alert">Please enter a panel width greater than 0 (e.g., 6 or 8).</span>
</div>
</div>
</fieldset>

<fieldset class="space-y-4">
<legend class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2 w-full">2. Posts &amp; Concrete</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
<div>
<label for="holeDiameter" class="block text-sm font-medium text-gray-700">Post Hole Diameter (in) <span class="text-red-600">*</span></label>
<input type="number" id="holeDiameter" value="8" min="1" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="holeDiameterError" inputmode="numeric">
<span id="holeDiameterError" class="error-message hidden" role="alert">Please enter a hole diameter greater than 0.</span>
</div>
<div>
<label for="holeDepth" class="block text-sm font-medium text-gray-700">Post Hole Depth (ft) <span class="text-red-600">*</span></label>
<input type="number" id="holeDepth" value="2" min="0.5" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="holeDepthError" inputmode="decimal">
<span id="holeDepthError" class="error-message hidden" role="alert">Please enter a hole depth greater than 0.</span>
</div>
<div>
<label for="bagYield" class="block text-sm font-medium text-gray-700">Concrete Bag Yield (cu ft) <span class="text-red-600">*</span></label>
<input type="number" id="bagYield" value="0.45" min="0.01" step="0.01"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="bagYieldError" inputmode="decimal">
<span id="bagYieldError" class="error-message hidden" role="alert">Enter bag yield (e.g., 0.45 for 60lb bag).</span>
</div>
</div>
</fieldset>

<fieldset class="space-y-4">
<legend class="text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2 w-full">3. Rails (Stringers)</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
<div>
<label for="numRails" class="block text-sm font-medium text-gray-700">Rails per Panel <span class="text-red-600">*</span></label>
<input type="number" id="numRails" value="2" min="0" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="numRailsError" inputmode="numeric">
<span id="numRailsError" class="error-message hidden" role="alert">Enter number of rails (e.g., 2 or 3).</span>
</div>
</div>
</fieldset>

<div class="flex items-center space-x-4 pt-4">
<button type="button" id="reset-btn" class="px-6 py-2 bg-gray-600 text-white font-medium rounded-md shadow-sm hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 no-print" style="min-height: 48px; min-width: 48px;">
Reset
</button>
<button type="button" onclick="window.print()" class="px-6 py-2 bg-blue-600 text-white font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 no-print" style="min-height: 48px; min-width: 48px;">
Print Results
</button>
</div>
</form>

<section id="results" aria-live="polite" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Your Estimated Materials</h3>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
<div class="result-card">
<h4>Total Fence Panels</h4>
<p id="totalPanels">0</p>
</div>
<div class="result-card">
<h4>Total Fence Posts</h4>
<p id="totalPosts">0</p>
</div>
<div class="result-card">
<h4>Total Rails</h4>
<p id="totalRails">0</p>
</div>
<div class="result-card">
<h4>Bags of Concrete</h4>
<p id="totalConcreteBags">0</p>
</div>
</div>

<details class="mt-6 bg-white rounded-lg" id="detailsList">
<summary class="font-semibold text-gray-800 p-4">View Detailed Materials List</summary>
<div class="mt-2 overflow-x-auto border border-gray-200 rounded-lg" id="detailsContainer">
<table class="min-w-full text-sm">
<thead class="bg-gray-100 text-gray-700 uppercase">
<tr>
<th class="px-4 py-3 text-left">Material</th>
<th class="px-4 py-3 text-left">Calculation</th>
<th class="px-4 py-3 text-right">Quantity</th>
</tr>
</thead>
<tbody id="detailsBody">
<tr><td colspan="3" class="px-4 py-4 text-center text-gray-500">Enter valid data above to see details.</td></tr>
</tbody>
</table>
</div>
</details>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<section>
<h2>Authoritative Source &amp; Methodology</h2>
<p>This calculator provides material estimates based on standard geometric formulas and construction best practices. Our methodology for post hole volume is derived from first principles of geometry (volume of a cylinder). Recommendations for post hole depth are informed by guidelines such as the <strong>International Residential Code (IRC), Section R403 (Footings)</strong>, which advises setting footings on undisturbed ground and below the local frost line.</p>
<blockquote class="border-l-4 border-blue-500 pl-4 italic">
All calculations are estimates. Always consult local building codes for specific requirements in your area (e.S., frost line depth, footing size) and purchase a small surplus (5-10%) of materials to account for waste or cuts.
</blockquote>
</section>

<section>
<h2>The Formulas Explained</h2>
<p>The calculator uses the following formulas to determine your material list. Note: $ \lceil x \rceil $ denotes the "ceiling" function, meaning we round $ x $ up to the next whole number.</p>

<h3>1. Fence Panels</h3>
<p>We divide the total fence length by the width of a single panel and round up to ensure full coverage.</p>
<div class="formula-box">
$ \text{Total Panels} = \lceil \frac{\text{Total Fence Length (ft)}}{\text{Panel Width (ft)}} \rceil $
</div>

<h3>2. Fence Posts</h3>
<p>For a continuous fence line, you need one post for every panel, plus one final post to end the run.</p>
<div class="formula-box">
$ \text{Total Posts} = \text{Total Panels} + 1 $
</div>

<h3>3. Rails (Stringers)</h3>
<p>This is the total number of panels multiplied by the number of horizontal rails specified for each panel.</p>
<div class="formula-box">
$ \text{Total Rails} = \text{Total Panels} \times \text{Number of Rails} $
</div>

<h3>4. Concrete</h3>
<p>First, we find the volume of a single post hole (a cylinder) in cubic feet. The hole radius must be converted from inches to feet by dividing by 12.</p>
<div class="formula-box">
$ \text{Hole Radius (ft)} = \frac{\text{Hole Diameter (in)} / 12}{2} $
<br>
$ \text{Volume per Hole (cu ft)} = \pi \times (\text{Hole Radius (ft)})^2 \times \text{Hole Depth (ft)} $
</div>
<p>Next, we find the total volume required for all posts and divide by the cubic foot yield of one bag of concrete, rounding up.</p>
<div class="formula-box">
$ \text{Total Concrete Volume (cu ft)} = \text{Volume per Hole} \times \text{Total Posts} $
<br>
$ \text{Bags of Concrete} = \lceil \frac{\text{Total Concrete Volume (cu ft)}}{\text{Bag Yield (cu ft)}} \rceil $
</div>
</section>

<section>
<h2>Glossary of Variables</h2>
<dl class="space-y-2">
<dt class="font-semibold">Total Fence Length (ft)</dt>
<dd>The total linear distance, in feet, that you plan to fence.</dd>
<dt class="font-semibold">Panel Width (ft)</dt>
<dd>The width, in feet, of a single pre-built fence panel (e.g., 6 or 8 feet).</dd>
<dt class="font-semibold">Post Hole Diameter (in)</dt>
<dd>The width, in inches, of the auger or shovel you will use to dig the post holes (e.g., 8, 10, or 12 inches).</dd>
<dt class="font-semibold">Post Hole Depth (ft)</dt>
<dd>The depth, in feet, you will dig each hole. This should be below your local frost line.</dd>
<dt class="font-semibold">Concrete Bag Yield (cu ft)</dt>
<dd>The volume of concrete, in cubic feet, that one bag produces. This is listed on the bag (e.g., a 60lb bag yields ~0.45 cu ft).</dd>
<dt class="font-semibold">Rails per Panel</dt>
<dd>The number of horizontal supports (stringers) used in each panel (typically 2 for shorter fences, 3 for 6ft+ fences).</dd>
</dl>
</section>

<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's plan a <strong>100-foot</strong> fence using standard <strong>8-foot</strong> panels, with <strong>2 rails</strong> per panel. We'll use an <strong>8-inch</strong> auger to dig <strong>2-foot</strong> deep holes and use 60lb concrete bags (<strong>0.45 cu ft</strong> yield).</p>
<ol>
<li><strong>Calculate Panels:</strong>
$ \text{Panels} = \lceil 100 \text{ ft} / 8 \text{ ft} \rceil = \lceil 12.5 \rceil = $ <strong>13 panels</strong>
</li>
<li><strong>Calculate Posts:</strong>
$ \text{Posts} = 13 + 1 = $ <strong>14 posts</strong>
</li>
<li><strong>Calculate Rails:</strong>
$ \text{Rails} = 13 \text{ panels} \times 2 \text{ rails/panel} = $ <strong>26 rails</strong>
</li>
<li><strong>Calculate Concrete Volume:</strong>
<ul>
<li>$ \text{Radius} = (8 \text{ in} / 12) / 2 = 0.333 \text{ ft} $</li>
<li>$ \text{Volume per Hole} = \pi \times (0.333)^2 \times 2 \text{ ft} = 0.698 \text{ cu ft} $</li>
<li>$ \text{Total Volume} = 0.698 \text{ cu ft/hole} \times 14 \text{ posts} = 9.77 \text{ cu ft} $</li>
</ul>
</li>
<li><strong>Calculate Concrete Bags:</strong>
$ \text{Bags} = \lceil 9.77 \text{ cu ft} / 0.45 \text{ cu ft/bag} \rceil = \lceil 21.71 \rceil = $ <strong>22 bags</strong>
</li>
</ol>
</section>

<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What about gates? How do I account for them?</summary>
<p>This calculator assumes a continuous run of panels. If you are installing a gate, you should:
<br>1. Calculate the total fence run, *excluding* the gate width.
<br>2. Add 2 posts for the gate itself (one for the latch, one for the hinges).
<br>This calculator is best for estimating the panel sections. Your gate will be a separate kit.</p>
</details>
<details>
<summary>Why do I need an extra post (Panels + 1)?</summary>
<p>Imagine a single 8-foot panel. It needs a post on the left and a post on the right. That's 1 panel, 2 posts. Now add a second panel. You only need to add *one* more post to its right end. The pattern is always one post per panel, plus one final post to terminate the fence line. (Post 1 -> Panel 1 -> Post 2 -> Panel 2 -> Post 3).</p>
</details>
<details>
<summary>How deep should my post holes be?</summary>
<p>A common rule of thumb is that <strong>1/3 of the post length should be underground</strong>. For a 6-foot high fence (using an 8-foot post), this means at least 2 feet deep. However, the most important rule is to dig <strong>below your local frost line</strong> (the depth to which the ground freezes in winter). Check with your local building department for this requirement. Failing to do so can cause your posts to "heave" out of the ground.</p>
</details>
<details>
<summary>What if my fence isn't a single straight line?</summary>
<p>This calculator still works! The total length is the total linear footage, regardless of turns. The only change is that you will need **extra posts for each corner**. For a simple 90-degree turn, your corner post acts as the "end post" for one run and the "start post" for the next, so no extra post is needed. But for complex angles or to ensure strength, you may want to budget for an extra "corner" post at each turn.</p>
</details>
<details>
<summary>Should I add a gravel base for drainage?</summary>
<p>Yes. It is highly recommended to add 4-6 inches of gravel at the bottom of each post hole *before* adding concrete. This allows water to drain away from the bottom of the post, preventing rot (for wood posts) and frost heave. This calculator does not include gravel; you will need to purchase that separately.</p>
</details>
</section>

<div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Construction content and formulas verified by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-28">October 28, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3 no-print">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>

<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li><strong>All-in-One:</strong> Calculates panels, posts, rails, AND concrete in one step.</li>
<li><strong>Save Money:</strong> Prevents over-buying and eliminates surprise material shortages.</li>
<li><strong>Plan Your Project:</strong> Get a complete materials list before you start.</li>
<li><strong>Mobile-Friendly:</strong> Use it right in the store on your phone.</li>
</ul>
</div>

<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Construction Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="concrete-calculator.html" class="text-blue-600 hover:underline">Concrete Calculator (Slab, Footing, &amp; Column)</a></li>
<li><a href="decking-calculator.html" class="text-blue-600 hover:underline">Decking Calculator</a></li>
<li><a href="lumber-calculator.html" class="text-blue-600 hover:underline">Board Foot (Lumber) Calculator</a></li>
<li><a href="paint-calculator.html" class="text-blue-600 hover:underline">Paint Calculator</a></li>
<li><a href="gravel-calculator.html" class="text-blue-600 hover:underline">Gravel &amp; Sand Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12 no-print">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. Element References ---
const elements = {
// Inputs
totalLength: document.getElementById('totalLength'),
panelWidth: document.getElementById('panelWidth'),
holeDiameter: document.getElementById('holeDiameter'),
holeDepth: document.getElementById('holeDepth'),
bagYield: document.getElementById('bagYield'),
numRails: document.getElementById('numRails'),

// Error Spans
lengthError: document.getElementById('lengthError'),
panelWidthError: document.getElementById('panelWidthError'),
holeDiameterError: document.getElementById('holeDiameterError'),
holeDepthError: document.getElementById('holeDepthError'),
bagYieldError: document.getElementById('bagYieldError'),
numRailsError: document.getElementById('numRailsError'),

// Outputs
totalPanels: document.getElementById('totalPanels'),
totalPosts: document.getElementById('totalPosts'),
totalRails: document.getElementById('totalRails'),
totalConcreteBags: document.getElementById('totalConcreteBags'),
detailsBody: document.getElementById('detailsBody'),

// Buttons
resetBtn: document.getElementById('reset-btn'),
};

const inputs = [
elements.totalLength, elements.panelWidth, elements.holeDiameter,
elements.holeDepth, elements.bagYield, elements.numRails
];

const fmtNumber = (val) => new Intl.NumberFormat().format(val || 0);

// --- 2. Validation Logic ---

/**
* Validates a single field.
* @param {HTMLInputElement} inputEl - The input element.
* @param {HTMLElement} errorEl - The error message span.
* @param {string} message - The error message to show.
* @param {function} condition - A function that returns true if valid.
* @returns {boolean} - True if valid, false if invalid.
*/
function validateField(inputEl, errorEl, message, condition) {
let val;
if (inputEl.type === 'number') {
val = parseFloat(inputEl.value);
} else {
val = inputEl.value;
}

if (condition(val)) {
// Valid
inputEl.setAttribute('aria-invalid', 'false');
errorEl.classList.add('hidden');
errorEl.textContent = '';
return true;
} else {
// Invalid
inputEl.setAttribute('aria-invalid', 'true');
errorEl.textContent = message;
errorEl.classList.remove('hidden');
return false;
}
}

// --- 3. Core Calculation Logic ---

function calculateFence() {
// Run all validations
const isLengthValid = validateField(elements.totalLength, elements.lengthError, 'Length must be > 0.', val => val > 0);
const isPanelWidthValid = validateField(elements.panelWidth, elements.panelWidthError, 'Panel width must be > 0.', val => val > 0);
const isDiameterValid = validateField(elements.holeDiameter, elements.holeDiameterError, 'Diameter must be > 0.', val => val > 0);
const isDepthValid = validateField(elements.holeDepth, elements.holeDepthError, 'Depth must be > 0.', val => val > 0);
const isYieldValid = validateField(elements.bagYield, elements.bagYieldError, 'Bag yield must be > 0.', val => val > 0);
const isRailValid = validateField(elements.numRails, elements.numRailsError, 'Rails must be >= 0.', val => val >= 0);

// If any field is invalid, clear results and stop
if (!isLengthValid || !isPanelWidthValid || !isDiameterValid || !isDepthValid || !isYieldValid || !isRailValid) {
updateOutputs(0, 0, 0, 0);
renderDetailsList([]);
return;
}

// All valid, proceed with parsing and calculation
const totalLength = parseFloat(elements.totalLength.value);
const panelWidth = parseFloat(elements.panelWidth.value);
const numRails = parseFloat(elements.numRails.value);
const holeDiameter = parseFloat(elements.holeDiameter.value);
const holeDepth = parseFloat(elements.holeDepth.value);
const bagYield = parseFloat(elements.bagYield.value);

// Core Logic
const panels = Math.ceil(totalLength / panelWidth);
const posts = panels + 1;
const rails = panels * numRails;

// Concrete Logic
const holeRadiusFt = (holeDiameter / 12) / 2;
const holeVolumeCuFt = Math.PI * Math.pow(holeRadiusFt, 2) * holeDepth;
const totalConcreteVolume = holeVolumeCuFt * posts;
const concreteBags = (bagYield > 0) ? Math.ceil(totalConcreteVolume / bagYield) : 0;

// Update UI
updateOutputs(panels, posts, rails, concreteBags);

// Create data for the details table
const detailsData = [
{
item: 'Fence Panels',
calc: `${fmtNumber(totalLength)} ft / ${fmtNumber(panelWidth)} ft`,
qty: fmtNumber(panels)
},
{
item: 'Fence Posts',
calc: `${fmtNumber(panels)} panels + 1`,
qty: fmtNumber(posts)
},
{
item: 'Rails (Stringers)',
calc: `${fmtNumber(panels)} panels × ${fmtNumber(numRails)} rails/panel`,
qty: fmtNumber(rails)
},
{
item: 'Concrete (per hole)',
calc: `π × (${holeRadiusFt.toFixed(2)} ft)² × ${fmtNumber(holeDepth)} ft`,
qty: `${holeVolumeCuFt.toFixed(2)} cu ft`
},
{
item: 'Concrete (total)',
calc: `${holeVolumeCuFt.toFixed(2)} cu ft × ${fmtNumber(posts)} posts`,
qty: `${totalConcreteVolume.toFixed(2)} cu ft`
},
{
item: 'Concrete Bags',
calc: `${totalConcreteVolume.toFixed(2)} cu ft / ${bagYield} cu ft/bag`,
qty: fmtNumber(concreteBags)
}
];
renderDetailsList(detailsData);
}

// --- 4. UI Update Functions ---

/**
* Updates the 4 main result cards.
*/
function updateOutputs(panels, posts, rails, concreteBags) {
elements.totalPanels.textContent = fmtNumber(panels);
elements.totalPosts.textContent = fmtNumber(posts);
elements.totalRails.textContent = fmtNumber(rails);
elements.totalConcreteBags.textContent = fmtNumber(concreteBags);
}

/**
* Renders the detailed materials list table.
* @param {Array} data - Array of objects for the table rows.
*/
function renderDetailsList(data) {
const tbody = elements.detailsBody;
tbody.innerHTML = ''; // Clear previous results

if (!data || data.length === 0) {
tbody.innerHTML = '<tr><td colspan="3" class="px-4 py-4 text-center text-gray-500">Enter valid data above to see details.</td></tr>';
return;
}

data.forEach(row => {
const tr = document.createElement('tr');
tr.className = 'border-b border-gray-200';
tr.innerHTML = `
<td class="px-4 py-3 text-left font-medium">${row.item}</td>
<td class="px-4 py-3 text-left text-gray-600">${row.calc}</td>
<td class="px-4 py-3 text-right font-semibold">${row.qty}</td>
`;
tbody.appendChild(tr);
});
}

// --- 5. Event Listeners ---

// Calculate in real-time on input
inputs.forEach(input => {
input.addEventListener('input', calculateFence);
});

// Also validate on blur to catch empty fields
inputs.forEach(input => {
input.addEventListener('blur', calculateFence);
});

// Reset button logic
elements.resetBtn.addEventListener('click', () => {
document.getElementById('calculator-ui').reset(); // Reset form
// Clear all error states
inputs.forEach(input => {
input.setAttribute('aria-invalid', 'false');
});
[
elements.lengthError, elements.panelWidthError, elements.holeDiameterError,
elements.holeDepthError, elements.bagYieldError, elements.numRailsError
].forEach(errorEl => {
errorEl.classList.add('hidden');
errorEl.textContent = '';
});
// Recalculate with default values
calculateFence();
});

// Mobile menu toggle
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
menuToggle.addEventListener('click', () => {
const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
menuToggle.setAttribute('aria-expanded', !isExpanded);
mobileMenu.classList.toggle('hidden');
});

// --- 6. Initial Calculation ---
// Run once on page load with default values
calculateFence();

});
</script>
</body>
</html>