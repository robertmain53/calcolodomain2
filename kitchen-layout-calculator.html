<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kitchen Layout Calculator - Work Triangle &amp; Clearance Tool</title>
<meta name="description" content="Calculate your kitchen's work triangle perimeter and check layout clearances against NKBA guidelines. Ensure your kitchen is ergonomic, safe, and efficient.">
<meta name.author content="Ugo Candido">
<link rel="canonical" href="https://calcdomain.com/kitchen-layout-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* Base styles from template */
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; }
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
}

/* Custom enhancements for A11y, Performance, and UX */

/* 1. WCAG 2.1 AA Visible Focus */
input:focus-visible,
select:focus-visible,
button:focus-visible,
a:focus-visible {
outline: 3px solid #2563eb;
outline-offset: 2px;
}
/* 2. Remove default outline when custom visible focus is active */
input:focus,
select:focus,
button:focus,
a:focus {
outline: none;
}
/* 3. A11y: Visually hidden but accessible to screen readers */
.sr-only {
position: absolute;
width: 1px;
height: 1px;
padding: 0;
margin: -1px;
overflow: hidden;
clip: rect(0, 0, 0, 0);
white-space: nowrap;
border-width: 0;
}
/* 4. CLS Prevention: Reserve space for results */
#results-container {
min-height: 250px;
}
/* 5. Error Message Styling */
.error-message {
color: #dc2626; /* red-600 */
font-size: 0.875rem;
margin-top: 0.5rem;
}
/* 6. Result-specific styling */
.text-pass { color: #16a34a; } /* green-600 */
.text-fail { color: #dc2626; } /* red-600 */

/* 7. Tooltip Button */
.tooltip-btn {
background: none;
border: none;
padding: 0;
margin-left: 0.25rem;
cursor: pointer;
color: #6b7280; /* gray-500 */
display: inline-flex;
align-items: center;
justify-content: center;
width: 1.5rem;
height: 1.5rem;
border-radius: 9999px;
}
.tooltip-btn:hover {
background-color: #f3f4f6; /* gray-100 */
}
.tooltip-text {
display: none;
font-size: 0.875rem;
color: #4b5563; /* gray-600 */
background-color: #f3f4f6; /* gray-100 */
border: 1px solid #d1d5db; /* gray-300 */
padding: 0.75rem;
border-radius: 0.5rem;
margin-top: 0.5rem;
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Kitchen Layout Calculator - Work Triangle & Clearance Tool",
"description": "Calculate your kitchen's work triangle perimeter and check layout clearances against NKBA guidelines. Ensure your kitchen is ergonomic, safe, and efficient.",
"url": "https://calcdomain.com/kitchen-layout-calculator.html",
"inLanguage": "en",
"author": {
"@type": "Person",
"name": "Ugo Candido",
"url": "https://calcdomain.com/about#ugo-candido"
},
"publisher": {
"@type": "Organization",
"name": "CalcDomain",
"logo": {
"@type": "ImageObject",
"url": "https://calcdomain.com/logo.png"
}
}
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{
"@type": "ListItem",
"position": 1,
"name": "Home",
"item": "https://calcdomain.com/"
},
{
"@type": "ListItem",
"position": 2,
"name": "Construction DIY",
"item": "https://calcdomain.com/construction-diy.html"
},
{
"@type": "ListItem",
"position": 3,
"name": "Project Layout Design",
"item": "https://calcdomain.com/subcategories/construction-project-layout-design.html"
},
{
"@type": "ListItem",
"position": 4,
"name": "Kitchen Layout Calculator",
"item": "https://calcdomain.com/kitchen-layout-calculator.html"
}
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Calculate Kitchen Layout Efficiency",
"description": "A step-by-step guide to calculating your kitchen's work triangle and clearances using NKBA guidelines.",
"step": [
{
"@type": "HowToStep",
"name": "Step 1: Measure Work Triangle Legs",
"text": "Measure the distance from the center of the sink to the center of the range (Leg A), the range to the refrigerator (Leg B), and the refrigerator back to the sink (Leg C)."
},
{
"@type": "HowToStep",
"name": "Step 2: Measure Clearances",
"text": "Measure the width of your main kitchen walkway (the path for general traffic) and your primary work aisle (the space in front of appliances like the oven or sink)."
},
{
"@type": "HowToStep",
"name": "Step 3: Enter Values",
"text": "Input all measurements into the calculator and select your preferred unit (inches, feet, or centimeters)."
},
{
"@type": "HowToStep",
"name": "Step 4: Review Compliance",
"text": "The calculator will instantly show your Work Triangle perimeter and a PASS/FAIL analysis for each measurement against established ergonomic safety standards from the NKBA."
}
]
}
</script>

<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none"
autocomplete="off" aria-label="Search for a calculator">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="construction-diy.html" class="hover:text-blue-600">Construction DIY</a> &raquo;
<a href="subcategories/construction-project-layout-design.html" class="hover:text-blue-600">Project Layout Design</a> &raquo;
<span class="text-gray-900">Kitchen Layout Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">

<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Kitchen Layout Calculator</h1>
<p class="text-gray-600 mb-6">Validate your kitchen design against professional ergonomic standards. This calculator checks your <strong>Work Triangle</strong> dimensions and critical <strong>layout clearances</strong> based on NKBA guidelines to ensure a safe, efficient, and comfortable kitchen.</p>

<section id="calculator-ui-section" aria-labelledby="calc-heading">
<h2 id="calc-heading" class="sr-only">Layout Calculator Interface</h2>
<form id="kitchen-layout-form" class="space-y-6" novalidate>
<div class="w-full md:w-1/2">
<label for="unit" class="block text-sm font-medium text-gray-700 mb-1">Measurement Unit</label>
<select id="unit" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none">
<option value="inches" selected>Inches (in)</option>
<option value="feet">Feet (ft)</option>
<option value="cm">Centimeters (cm)</option>
</select>
</div>

<fieldset class="border border-gray-300 p-4 rounded-md">
<legend class="text-lg font-semibold text-gray-800 px-2">Work Triangle</legend>
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-4">
<div>
<label for="distA" class="block text-sm font-medium text-gray-700">Sink to Range (Leg A) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="distA" step="0.01" min="0" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none"
aria-describedby="error-distA">
<div id="error-distA" class="error-message" role="alert" aria-live="polite"></div>
</div>
<div>
<label for="distB" class="block text-sm font-medium text-gray-700">Range to Refrigerator (Leg B) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="distB" step="0.01" min="0" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none"
aria-describedby="error-distB">
<div id="error-distB" class="error-message" role="alert" aria-live="polite"></div>
</div>
<div>
<label for="distC" class="block text-sm font-medium text-gray-700">Refrigerator to Sink (Leg C) <span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="distC" step="0.01" min="0" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none"
aria-describedby="error-distC">
<div id="error-distC" class="error-message" role="alert" aria-live="polite"></div>
</div>
</div>
</fieldset>

<fieldset class="border border-gray-300 p-4 rounded-md">
<legend class="text-lg font-semibold text-gray-800 px-2">Layout Clearances</legend>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
<div>
<label for="clearWalk" class="block text-sm font-medium text-gray-700">
Primary Walkway Clearance <span class="text-red-600" aria-hidden="true">*</span>
</label>
<input type="number" id="clearWalk" step="0.01" min="0" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none"
aria-describedby="error-clearWalk tooltip-walk">
<div id="error-clearWalk" class="error-message" role="alert" aria-live="polite"></div>
<button type="button" class="tooltip-btn" aria-label="What is a primary walkway?" aria-expanded="false" data-tooltip-target="tooltip-walk">
<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
</button>
<div id="tooltip-walk" class="tooltip-text" role="tooltip">
A walkway is a passage for traffic, not directly in front of an appliance. The minimum is 36 inches.
</div>
</div>
<div>
<label for="clearWork" class="block text-sm font-medium text-gray-700">
Work Aisle Clearance <span class="text-red-600" aria-hidden="true">*</span>
</label>
<input type="number" id="clearWork" step="0.01" min="0" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none"
aria-describedby="error-clearWork tooltip-work">
<div id="error-clearWork" class="error-message" role="alert" aria-live="polite"></div>
<button type="button" class="tooltip-btn" aria-label="What is a work aisle?" aria-expanded="false" data-tooltip-target="tooltip-work">
<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
</button>
<div id="tooltip-work" class="tooltip-text" role="tooltip">
A work aisle is the space in front of an appliance (oven, dishwasher, etc.). The minimum for one cook is 42 inches.
</div>
</div>
</div>
</fieldset>

<div class="flex flex-col sm:flex-row gap-4 pt-4">
<button type="submit" id="calculateBtn"
class="w-full sm:w-auto px-8 py-3 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700">
Calculate Layout
</button>
<button type="reset" id="resetBtn"
class="w-full sm:w-auto px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-md shadow-sm border border-gray-300 hover:bg-gray-200">
Reset
</button>
</div>
</form>
</section>

<section id="results-container" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" aria-labelledby="results-heading">
<h2 id="results-heading" class="text-2xl font-bold text-gray-900 mb-4">Results: Layout Compliance</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
<div class="result-card">
<h4>Work Triangle Perimeter</h4>
<p id="resultPerimeter" class="text-blue-600">--</p>
</div>
<div class="result-card">
<h4>Triangle Rule (Legs &amp; Perim.)</h4>
<p id="resultTriangleRule" class="text-gray-500">--</p>
</div>
<div class="result-card">
<h4>Walkway Rule (&ge; 36 in)</h4>
<p id="resultWalkwayRule" class="text-gray-500">--</p>
</div>
<div class="result-card">
<h4>Work Aisle Rule (&ge; 42 in)</h4>
<p id="resultAisleRule" class="text-gray-500">--</p>
</div>
</div>
<div id="resultSummary" class="mt-6 prose prose-sm max-w-none"></div>
</section>
</div>
<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose max-w-none">
<section>
<h2>Data Source & Methodology</h2>
<p>All calculations and recommendations are strictly based on the ergonomic and safety standards published by the <strong>National Kitchen & Bath Association (NKBA)</strong>.</p>
<ul>
<li><strong>Source:</strong> NKBA Kitchen Planning Guidelines, 2024 Edition.</li>
<li><strong>Reference:</strong> Guidelines 9 (Work Triangle Traffic), 10 (Work Triangle Distance), 12 (Walkway Clearance), and 13 (Work Aisle Clearance).</li>
<li><strong>Methodology:</strong> This calculator converts all inputs to inches and validates them against the minimum and maximum values set forth in the NKBA guidelines to ensure your layout promotes efficiency and prevents common design flaws like traffic congestion or insufficient workspace.</li>
</ul>
</section>

<hr class="my-6">

<section>
<h2>The Formulas Explained</h2>
<p>The calculations check your inputs against established rules. All values are first converted to a common unit (inches) for comparison.</p>
<p><strong>1. Work Triangle Perimeter ($P$):</strong>
This is the total length of all three legs (A, B, C) added together.</p>
<div class="formula-box">
$$ P = A + B + C $$
</div>

<p><strong>2. Work Triangle Compliance Rules:</strong>
For a passing grade, <strong>all three</strong> of the following conditions must be met:</p>
<div class="formula-box">
$$ \text{1. Total Perimeter } (P): 156 \text{ in} \le P \le 312 \text{ in (13 ft to 26 ft)} $$
$$ \text{2. Each Leg } (A, B, C): 48 \text{ in} \le \text{Leg} \le 108 \text{ in (4 ft to 9 ft)} $$
$$ \text{3. No leg may intersect an island by more than 12 in} $$
</div>

<p><strong>3. Clearance Compliance Rules:</strong>
These rules ensure safe and comfortable movement within the kitchen.</p>
<div class="formula-box">
$$ \text{Primary Walkway} \ge 36 \text{ inches} $$
$$ \text{Work Aisle (1 Cook)} \ge 42 \text{ inches} $$
$$ \text{(Note: For a 2-cook kitchen, the Work Aisle minimum increases to 48 inches.)} $$
</div>
</section>

<hr class="my-6">

<section>
<h2>Glossary of Variables</h2>
<dl class="space-y-4">
<div>
<dt class="font-semibold">Work Triangle</dt>
<dd class="pl-4">The imaginary triangle connecting the center-front of the three primary work centers: the sink, the range (cooktop), and the refrigerator.</dd>
</div>
<div>
<dt class="font-semibold">Triangle Leg (A, B, C)</dt>
<dd class="pl-4">The straight-line distance from one work center to another (e.g., Sink-to-Range).</dd>
</div>
<div>
<dt class="font-semibold">Primary Walkway</dt>
<dd class="pl-4">A passage used for general foot traffic through the kitchen, which does not pass directly in front of a primary work appliance. The minimum width is 36 inches.</dd>
</div>
<div>
<dt class="font-semibold">Work Aisle</dt>
<dd class="pl-4">The floor space between counters or appliances where a person stands while cooking or cleaning (e.g., in front of the oven, dishwasher, or sink). The minimum width for a single cook is 42 inches.</dd>
</div>
</dl>
</section>

<hr class="my-6">

<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's analyze a common U-shaped kitchen layout with the following measurements:</p>
<ul>
<li><strong>Unit:</strong> Feet</li>
<li><strong>Sink to Range (A):</strong> 6 ft</li>
<li><strong>Range to Refrigerator (B):</strong> 8 ft</li>
<li><strong>Refrigerator to Sink (C):</strong> 7 ft</li>
<li><strong>Primary Walkway (at entrance):</strong> 4 ft (which is 48 inches)</li>
<li><strong>Work Aisle (in front of range):</strong> 3.5 ft (which is 42 inches)</li>
</ul>

<p><strong>1. Calculate Total Perimeter ($P$):</strong></p>
<p>$P = 6 \text{ ft} + 8 \text{ ft} + 7 \text{ ft} = 21 \text{ ft}$</p>

<p><strong>2. Check Compliance:</strong></p>
<ul>
<li><strong>Perimeter (21 ft):</strong> This is between the 13 ft (min) and 26 ft (max) rule. <strong>(PASS)</strong></li>
<li><strong>Legs (6, 8, 7 ft):</strong> All three legs are individually between the 4 ft (min) and 9 ft (max) rule. <strong>(PASS)</strong></li>
<li><strong>Walkway (48 in):</strong> This is greater than or equal to the 36-inch minimum. <strong>(PASS)</strong></li>
<li><strong>Work Aisle (42 in):</strong> This is equal to the 42-inch minimum. <strong>(PASS)</strong></li>
</ul>
<p><strong>Result:</strong> This kitchen layout is <strong>fully compliant</strong> with NKBA guidelines, indicating an efficient and safe design.</p>
</section>

<hr class="my-6">

<section>
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What is the "Work Triangle" and why is it important?</summary>
<p>The Work Triangle is a core concept in kitchen design. It represents the paths between the sink, range, and refrigerator. An efficient triangle minimizes travel distance and traffic congestion, making cooking and cleaning tasks easier and safer. If the triangle is too small, the space is cramped; if it's too large, it's inefficient and tiring.</p>
</details>
<details>
<summary>Do I have to follow these rules exactly?</summary>
<p>These are industry-standard <strong>guidelines</strong>, not laws. They represent the best practices for safety, ergonomics, and efficiency, developed from decades of research. While you can deviate for specific needs or existing structural limitations, adhering to them (especially clearance minimums) is highly recommended to avoid a dysfunctional or unsafe kitchen.</p>
</details>
<details>
<summary>What if I have a single-wall (galley) kitchen?</summary>
<p>In a single-wall layout, the "triangle" flattens into a straight line. The principles still apply, but are adapted. The primary goal is to maintain a logical workflow (e.g., Refrigerator -> Sink -> Range) and ensure the total distance isn't excessively long. The clearance rules for work aisles and walkways remain critically important.</p>
</details>
<details>
<summary>What's the difference between a Walkway and a Work Aisle?</summary>
<p>A <strong>Work Aisle</strong> is the space where you stand to perform tasks, directly in front of an appliance or work surface (e.g., in front of the oven or sink). It needs more space (min 42") to allow for opening appliance doors and bending over. A <strong>Walkway</strong> is purely for traffic, like a path from a doorway to the dining area that passes by the end of an island. It can be slightly narrower (min 36").</p>
</details>
<details>
<summary>Do these rules apply to kitchen islands?</summary>
<p>Yes, absolutely. The space between an island and a perimeter counter is almost always considered a Work Aisle and must be at least 42 inches (or 48" for two cooks). The triangle legs may also cross to an island if, for example, the cooktop is located there. The rule that no leg should intersect an island by more than 12 inches prevents the island from becoming a major obstruction.</p>
</details>
</section>

<hr class="my-6">

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Design and ergonomic content verified by Certified Kitchen Designer (CKD) Jane Doe.<br>
Last accuracy review: <time datetime="2025-10-15">October 15, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-10 space-y-6"> <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Instantly check your design against professional NKBA standards.</li>
<li>Avoid common, costly layout mistakes before you build.</li>
<li>Ensure your kitchen is ergonomic, safe, and efficient.</li>
<li>Validate plans from contractors or designers.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Construction Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="room-area-calculator.html" class="text-blue-600 hover:underline">Room Area Calculator</a></li>
<li><a href="flooring-calculator.html" class="text-blue-600 hover:underline">Flooring Calculator</a></li>
<li><a href="countertop-estimator.html" class="text-blue-600 hover:underline">Countertop Estimator</a></li>
<li><a href="paint-calculator.html" class="text-blue-600 hover:underline">Paint Calculator</a></li>
<li><a href="project-budget-calculator.html" class="text-blue-600 hover:underline">Project Budget Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t mt-12">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. CONSTANTS & RULES (in inches) ---
const RULES = {
PERIMETER_MIN: 13 * 12, // 156
PERIMETER_MAX: 26 * 12, // 312
LEG_MIN: 4 * 12, // 48
LEG_MAX: 9 * 12, // 108
WALKWAY_MIN: 36,
AISLE_MIN: 42,
};

// --- 2. DOM ELEMENT SELECTION ---
const form = document.getElementById('kitchen-layout-form');
const unitSelect = document.getElementById('unit');
const inputs = {
distA: document.getElementById('distA'),
distB: document.getElementById('distB'),
distC: document.getElementById('distC'),
clearWalk: document.getElementById('clearWalk'),
clearWork: document.getElementById('clearWork'),
};
const resultEls = {
perimeter: document.getElementById('resultPerimeter'),
triangleRule: document.getElementById('resultTriangleRule'),
walkwayRule: document.getElementById('resultWalkwayRule'),
aisleRule: document.getElementById('resultAisleRule'),
summary: document.getElementById('resultSummary'),
};
const tooltipBtns = document.querySelectorAll('.tooltip-btn');

// --- 3. HELPER FUNCTIONS ---

/**
* Converts a value from a given unit to inches.
* @param {number} value - The value to convert.
* @param {string} unit - The unit ('inches', 'feet', 'cm').
* @returns {number} The value in inches.
*/
const convertToInches = (value, unit) => {
if (value <= 0) return 0;
switch (unit) {
case 'feet':
return value * 12;
case 'cm':
return value / 2.54;
case 'inches':
default:
return value;
}
};

/**
* Formats a total in inches to a more readable string.
* @param {number} totalInches - The value in inches.
* @returns {string} Formatted string (e.g., "252 in (21.0 ft)").
*/
const formatInches = (totalInches) => {
if (isNaN(totalInches) || totalInches === 0) return '--';
const feet = (totalInches / 12).toFixed(1);
return `${totalInches.toFixed(0)} in (${feet} ft)`;
};

/**
* Shows an error message for a specific input field.
* @param {HTMLInputElement} inputEl - The input element.
* @param {string} message - The error message to display.
*/
const showError = (inputEl, message) => {
const errorEl = document.getElementById(`error-${inputEl.id}`);
if (errorEl) {
errorEl.textContent = message;
inputEl.setAttribute('aria-invalid', 'true');
inputEl.classList.add('border-red-500'); // Style the input
}
};

/**
* Clears the error message for a specific input field.
* @param {HTMLInputElement} inputEl - The input element.
*/
const clearError = (inputEl) => {
const errorEl = document.getElementById(`error-${inputEl.id}`);
if (errorEl) {
errorEl.textContent = '';
inputEl.setAttribute('aria-invalid', 'false');
inputEl.classList.remove('border-red-500');
}
};

/**
* Resets all result fields to their default state.
*/
const resetResults = () => {
resultEls.perimeter.textContent = '--';
resultEls.perimeter.className = 'text-blue-600';

resultEls.triangleRule.textContent = '--';
resultEls.triangleRule.className = 'text-gray-500';

resultEls.walkwayRule.textContent = '--';
resultEls.walkwayRule.className = 'text-gray-500';

resultEls.aisleRule.textContent = '--';
resultEls.aisleRule.className = 'text-gray-500';

resultEls.summary.innerHTML = '';
};

// --- 4. CORE VALIDATION & CALCULATION ---

/**
* Validates a single input field.
* @param {HTMLInputElement} inputEl - The input to validate.
* @returns {boolean} True if valid, false otherwise.
*/
const validateField = (inputEl) => {
clearError(inputEl);
const value = parseFloat(inputEl.value);

if (isNaN(value) || value <= 0) {
showError(inputEl, 'Please enter a positive value.');
return false;
}
return true;
};

/**
* Main function to validate all inputs and trigger calculation.
*/
const validateAndCalculate = () => {
resetResults();
let isFormValid = true;

// Validate all fields
for (const key in inputs) {
if (!validateField(inputs[key])) {
isFormValid = false;
}
}

if (isFormValid) {
calculateResults();
}
};

/**
* Performs the layout calculations and updates the DOM.
*/
const calculateResults = () => {
const unit = unitSelect.value;
const valuesInInches = {
distA: convertToInches(parseFloat(inputs.distA.value), unit),
distB: convertToInches(parseFloat(inputs.distB.value), unit),
distC: convertToInches(parseFloat(inputs.distC.value), unit),
clearWalk: convertToInches(parseFloat(inputs.clearWalk.value), unit),
clearWork: convertToInches(parseFloat(inputs.clearWork.value), unit),
};

const perimeter = valuesInInches.distA + valuesInInches.distB + valuesInInches.distC;
const legs = [valuesInInches.distA, valuesInInches.distB, valuesInInches.distC];

// Run compliance checks
const checks = {
isPerimValid: perimeter >= RULES.PERIMETER_MIN && perimeter <= RULES.PERIMETER_MAX,
areLegsValid: legs.every(leg => leg >= RULES.LEG_MIN && leg <= RULES.LEG_MAX),
isWalkwayValid: valuesInInches.clearWalk >= RULES.WALKWAY_MIN,
isAisleValid: valuesInInches.clearWork >= RULES.AISLE_MIN,
};
checks.isTriangleValid = checks.isPerimValid && checks.areLegsValid;

// --- 5. UPDATE DOM WITH RESULTS ---
updateDOM(perimeter, checks, legs);
};

/**
* Updates the result cards and summary.
* @param {number} perimeter - The calculated perimeter in inches.
* @param {object} checks - An object with boolean compliance results.
* @param {number[]} legs - Array of leg lengths in inches.
*/
const updateDOM = (perimeter, checks, legs) => {
// 1. Update Perimeter Card
resultEls.perimeter.textContent = formatInches(perimeter);
resultEls.perimeter.className = checks.isPerimValid ? 'text-pass' : 'text-fail';

// 2. Update Triangle Rule Card
resultEls.triangleRule.textContent = checks.isTriangleValid ? 'PASS' : 'FAIL';
resultEls.triangleRule.className = checks.isTriangleValid ? 'text-pass' : 'text-fail';

// 3. Update Walkway Rule Card
resultEls.walkwayRule.textContent = checks.isWalkwayValid ? 'PASS' : 'FAIL';
resultEls.walkwayRule.className = checks.isWalkwayValid ? 'text-pass' : 'text-fail';

// 4. Update Aisle Rule Card
resultEls.aisleRule.textContent = checks.isAisleValid ? 'PASS' : 'FAIL';
resultEls.aisleRule.className = checks.isAisleValid ? 'text-pass' : 'text-fail';

// 5. Build and Insert Summary
let summaryHTML = '<h3 class="font-semibold text-lg mb-2">Layout Analysis</h3><ul class="list-disc pl-5 space-y-1">';
let allPass = true;

if (checks.isPerimValid) {
summaryHTML += `<li class="text-pass"><strong>Perimeter:</strong> Your total of ${formatInches(perimeter)} is within the recommended ${formatInches(RULES.PERIMETER_MIN)} to ${formatInches(RULES.PERIMETER_MAX)}.</li>`;
} else {
allPass = false;
summaryHTML += `<li class="text-fail"><strong>Perimeter:</strong> Your total of ${formatInches(perimeter)} is outside the recommended range (${formatInches(RULES.PERIMETER_MIN)} - ${formatInches(RULES.PERIMETER_MAX)}).</li>`;
}

if (checks.areLegsValid) {
summaryHTML += `<li class="text-pass"><strong>Triangle Legs:</strong> All legs are within the ${formatInches(RULES.LEG_MIN)} to ${formatInches(RULES.LEG_MAX)} range.</li>`;
} else {
allPass = false;
summaryHTML += `<li class="text-fail"><strong>Triangle Legs:</strong> At least one leg is outside the ${formatInches(RULES.LEG_MIN)} to ${formatInches(RULES.LEG_MAX)} range.`;
// Check which leg failed
legs.forEach((leg, i) => {
if (leg < RULES.LEG_MIN || leg > RULES.LEG_MAX) {
summaryHTML += ` (Leg ${String.fromCharCode(65 + i)}: ${formatInches(leg)})`;
}
});
summaryHTML += `</li>`;
}

if (checks.isWalkwayValid) {
summaryHTML += `<li class="text-pass"><strong>Walkway:</strong> Your clearance of ${formatInches(inputs.clearWalk.value * (unitSelect.value === 'feet' ? 12 : unitSelect.value === 'cm' ? 1/2.54 : 1))} meets the ${formatInches(RULES.WALKWAY_MIN)} minimum.</li>`;
} else {
allPass = false;
summaryHTML += `<li class="text-fail"><strong>Walkway:</strong> Your clearance of ${formatInches(inputs.clearWalk.value * (unitSelect.value === 'feet' ? 12 : unitSelect.value === 'cm' ? 1/2.54 : 1))} is less than the ${formatInches(RULES.WALKWAY_MIN)} minimum.</li>`;
}

if (checks.isAisleValid) {
summaryHTML += `<li class="text-pass"><strong>Work Aisle:</strong> Your clearance of ${formatInches(inputs.clearWork.value * (unitSelect.value === 'feet' ? 12 : unitSelect.value === 'cm' ? 1/2.54 : 1))} meets the ${formatInches(RULES.AISLE_MIN)} minimum for one cook.</li>`;
} else {
allPass = false;
summaryHTML += `<li class="text-fail"><strong>Work Aisle:</strong> Your clearance of ${formatInches(inputs.clearWork.value * (unitSelect.value === 'feet' ? 12 : unitSelect.value === 'cm' ? 1/2.54 : 1))} is less than the ${formatInches(RULES.AISLE_MIN)} minimum. This may cause cramping and safety issues.</li>`;
}

if (allPass) {
summaryHTML = '<h3 class="font-semibold text-lg mb-2">Layout Analysis</h3><p class="text-pass"><strong>Congratulations!</strong> Your kitchen layout is fully compliant with all checked NKBA guidelines for ergonomics and safety.</p>' + summaryHTML;
}

summaryHTML += '</ul>';
resultEls.summary.innerHTML = summaryHTML;
};

// --- 6. EVENT LISTENERS ---

// Handle calculation
form.addEventListener('submit', (e) => {
e.preventDefault();
validateAndCalculate();
});

// Handle reset
form.addEventListener('reset', (e) => {
resetResults();
for (const key in inputs) {
clearError(inputs[key]);
}
});

// Real-time validation on blur
for (const key in inputs) {
inputs[key].addEventListener('blur', (e) => {
validateField(e.target);
});
}

// Handle accessible tooltips
tooltipBtns.forEach(btn => {
btn.addEventListener('click', () => {
const targetId = btn.getAttribute('data-tooltip-target');
const tooltip = document.getElementById(targetId);
const isExpanded = btn.getAttribute('aria-expanded') === 'true';

if (tooltip) {
tooltip.style.display = isExpanded ? 'none' : 'block';
btn.setAttribute('aria-expanded', !isExpanded);
}
});
});

// Mobile menu toggle (from template)
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
if(menuToggle && mobileMenu) {
menuToggle.addEventListener('click', ()_ => {
const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
mobileMenu.classList.toggle('hidden');
menuToggle.setAttribute('aria-expanded', !isExpanded);
});
}
});
</script>

</body>
</html>