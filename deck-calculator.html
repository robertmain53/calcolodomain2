<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decking Calculator - Estimate Boards, Joists & Materials</title>
    <meta name="description" content="Accurately calculate all materials for your deck project: decking boards, joists, bearers, stumps, and screws. Get instant estimates with wastage included.">
    <link rel="canonical" href="https://calcdomain.com/deck-calculator.html"/>

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .prose { max-width: 65ch; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.6; }
        .prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose li { margin-bottom: 0.5rem; }
        .prose table { border-collapse: collapse; width: 100%; margin-bottom: 1rem; }
        .prose th, .prose td { border: 1px solid #d1d5db; padding: 0.5rem 0.75rem; text-align: left; }
        .prose th { background-color: #f3f4f6; }
        
        .formula-box {
            background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.5rem;
            overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
        }
        details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
        details[open] > summary { margin-bottom: 0.5rem; }
        
        /* Stili dei Risultati e Prevenzione CLS */
        #results {
            min-height: 200px; /* Previene CLS al caricamento dei risultati */
        }
        .result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
        .result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; text-transform: uppercase; }
        .result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
        
        /* Accessibilit√†: Stile di Focus Visibile Personalizzato (WCAG 2.1) */
        :focus-visible {
            outline: 3px solid #2563eb;
            outline-offset: 2px;
            border-radius: 2px;
        }
        
        /* Messaggi di Errore Accessibili */
        .error-message {
            color: #dc2626;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none; /* Nascosto di default */
        }
        input[aria-invalid="true"] {
            border-color: #dc2626;
            box-shadow: 0 0 0 1px #dc2626;
        }
        input[aria-invalid="true"]:focus-visible {
            outline-color: #dc2626;
        }
        
        /* Tooltip Accessibili */
        .tooltip-btn {
            background: none;
            border: none;
            padding: 0.25rem;
            margin-left: 0.25rem;
            cursor: help;
            border-radius: 99px;
            color: #6b7280;
        }
        .tooltip-btn:hover { color: #111827; }
        .tooltip-content {
            display: none;
            background-color: #111827;
            color: #fff;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            position: relative;
            z-index: 10;
        }
        /* Classe 'active' per mostrare il tooltip via JS */
        .tooltip-content.active {
            display: block;
        }

        /* Stili di Stampa */
        @media print {
            body * { visibility: hidden; }
            #print-section, #print-section * { visibility: visible; }
            #print-section { position: absolute; left: 0; top: 0; width: 100%; }
            .no-print { display: none !important; }
        }
    </style>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Decking Calculator - Estimate Boards, Joists & Materials",
        "description": "Accurately calculate all materials for your deck project: decking boards, joists, bearers, stumps, and screws. Get instant estimates with wastage included.",
        "url": "https://calcdomain.com/deck-calculator.html",
        "inLanguage": "en",
        "author": {
            "@type": "Person",
            "name": "Ugo Candido"
        },
        "publisher": {
            "@type": "Organization",
            "name": "CalcDomain"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
            { "@type": "ListItem", "position": 2, "name": "Construction", "item": "https://calcdomain.com/construction.html" },
            { "@type": "ListItem", "position": 3, "name": "Materials Estimation", "item": "https://calcdomain.com/subcategories/construction-materials-estimation.html" },
            { "@type": "ListItem", "position": 4, "name": "Decking Calculator", "item": "https://calcdomain.com/deck-calculator.html" }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Calculate Decking Materials",
        "description": "A step-by-step guide to calculating all materials for your deck, including boards, substructure, and fixings.",
        "step": [
            {
                "@type": "HowToStep",
                "name": "1. Enter Deck Dimensions",
                "text": "Input your deck's overall length and width. Select whether you are using Imperial (feet/inches) or Metric (meters/mm) units."
            },
            {
                "@type": "HowToStep",
                "name": "2. Define Decking Board Specifications",
                "text": "Enter the width of your decking boards and the gap you plan to leave between them. This determines the total number of boards required."
            },
            {
                "@type": "HowToStep",
                "name": "3. Specify Substructure Spacing",
                "text": "Enter the spacing (center-to-center) for your joists, bearers, and stumps/posts. This is crucial for calculating the frame."
            },
            {
                "@type": "HowToStep",
                "name": "4. Set Wastage Allowance",
                "text": "Add a wastage percentage (typically 10-15%) to account for cuts, offcuts, and mistakes."
            },
            {
                "@type": "HowToStep",
                "name": "5. Review Materials List",
                "text": "The calculator provides a complete list of materials, including total linear feet/meters for boards, joists, bearers, and the total number of stumps and screws."
            }
        ]
    }
    </script>
    <script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm z-50">
    <nav class="container mx-auto px-4 lg:px-6 py-4">
        <div class="flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

            <div class="w-full max-w-md hidden md:block mx-8">
                <div class="relative">
                    <input type="search" id="search-input" placeholder="Search for a calculator..."
                        class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                        autocomplete="off">
                    <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                        fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
                </div>
            </div>

            <div class="hidden md:flex items-center space-x-6 text-sm">
                <a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
                <a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
            </div>

            <button id="mobile-menu-toggle" class="md:hidden p-2 no-print" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <div id="mobile-menu" class="md:hidden mt-4 hidden">
            <div class="space-y-2">
                <a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
                <a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
            </div>
        </div>
    </nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
    <div class="flex flex-col lg:flex-row gap-8">

        <section class="w-full lg:w-2/3">
            <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
                <a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
                <a href="construction.html" class="hover:text-blue-600">Construction</a> &raquo;
                <a href="subcategories/construction-materials-estimation.html" class="hover:text-blue-600">Materials Estimation</a> &raquo;
                <span class="text-gray-900">Decking Calculator</span>
            </nav>

            <div id="print-section">
                <section id="calculator-container" class="bg-white p-6 rounded-lg shadow-md" aria-labelledby="calculator-heading">
                    <h1 id="calculator-heading" class="text-3xl font-extrabold text-gray-900 mb-2">Decking Calculator</h1>
                    <p class="text-gray-600 mb-6">Estimate all materials for your project, from decking boards and screws to the complete substructure (joists, bearers, and stumps).</p>
                    
                    <form id="calculator-ui" class="space-y-6" onsubmit="return false;">
                        
                        <div>
                            <label for="units" class="block text-sm font-medium text-gray-700">Units</label>
                            <select id="units" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                                <option value="imperial" selected>Imperial (Feet & Inches)</option>
                                <option value="metric">Metric (Meters & Millimeters)</option>
                            </select>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="deckLength" class="block text-sm font-medium text-gray-700">Deck Length <span class="text-red-600" aria-hidden="true">*</span></label>
                                <div class="mt-1 relative rounded-md shadow-sm">
                                    <input type="number" id="deckLength" value="16" step="0.1" min="0" 
                                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                        aria-required="true" aria-describedby="deckLength-unit deckLength-error">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 sm:text-sm" id="deckLength-unit">ft</span>
                                    </div>
                                </div>
                                <p class="error-message" id="deckLength-error" role="alert">Please enter a positive length.</p>
                            </div>
                            
                            <div>
                                <label for="deckWidth" class="block text-sm font-medium text-gray-700">Deck Width <span class="text-red-600" aria-hidden="true">*</span></label>
                                <div class="mt-1 relative rounded-md shadow-sm">
                                    <input type="number" id="deckWidth" value="10" step="0.1" min="0"
                                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                        aria-required="true" aria-describedby="deckWidth-unit deckWidth-error">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 sm:text-sm" id="deckWidth-unit">ft</span>
                                    </div>
                                </div>
                                <p class="error-message" id="deckWidth-error" role="alert">Please enter a positive width.</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label for="boardWidth" class="block text-sm font-medium text-gray-700">Board Width <span class="text-red-600" aria-hidden="true">*</span></label>
                                <div class="mt-1 relative rounded-md shadow-sm">
                                    <input type="number" id="boardWidth" value="5.5" step="0.1" min="0"
                                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                        aria-required="true" aria-describedby="boardWidth-unit boardWidth-error">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 sm:text-sm" id="boardWidth-unit">in</span>
                                    </div>
                                </div>
                                <p class="error-message" id="boardWidth-error" role="alert">Enter a positive width.</p>
                            </div>
                            <div>
                                <label for="boardGap" class="block text-sm font-medium text-gray-700">Board Gap <span class="text-red-600" aria-hidden="true">*</span></label>
                                <div class="mt-1 relative rounded-md shadow-sm">
                                    <input type="number" id="boardGap" value="0.25" step="0.01" min="0"
                                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                        aria-required="true" aria-describedby="boardGap-unit boardGap-error">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 sm:text-sm" id="boardGap-unit">in</span>
                                    </div>
                                </div>
                                <p class="error-message" id="boardGap-error" role="alert">Enter a positive gap.</p>
                            </div>
                            <div>
                                <label for="wastage" class="block text-sm font-medium text-gray-700">Wastage % <span class="text-red-600" aria-hidden="true">*</span></label>
                                <div class="mt-1 relative rounded-md shadow-sm">
                                    <input type="number" id="wastage" value="10" step="1" min="0"
                                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                        aria-required="true" aria-describedby="wastage-unit wastage-error">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 sm:text-sm" id="wastage-unit">%</span>
                                    </div>
                                </div>
                                <p class="error-message" id="wastage-error" role="alert">Enter 0 or more.</p>
                            </div>
                        </div>

                        <details class="bg-gray-50 p-4 rounded-lg border border-gray-200" open>
                            <summary class="font-semibold text-lg text-gray-800">Substructure (Joists, Bearers, Stumps)</summary>
                            <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div>
                                    <label for="joistSpacing" class="block text-sm font-medium text-gray-700">Joist Spacing <span class="text-red-600" aria-hidden="true">*</span>
                                        <button type="button" class="tooltip-btn" aria-label="Info about Joist Spacing" aria-controls="tooltip-joist" aria-expanded="false">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                                        </button>
                                    </label>
                                    <div class="mt-1 relative rounded-md shadow-sm">
                                        <input type="number" id="joistSpacing" value="16" step="1" min="0"
                                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                            aria-required="true" aria-describedby="joistSpacing-unit joistSpacing-error tooltip-joist">
                                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                            <span class="text-gray-500 sm:text-sm" id="joistSpacing-unit">in</span>
                                        </div>
                                    </div>
                                    <p class="error-message" id="joistSpacing-error" role="alert">Enter a positive spacing.</p>
                                    <div id="tooltip-joist" class="tooltip-content" role="tooltip">
                                        Center-to-center spacing of the joists (the timbers that support the decking boards). Common is 12" or 16".
                                    </div>
                                </div>
                                <div>
                                    <label for="bearerSpacing" class="block text-sm font-medium text-gray-700">Bearer Spacing <span class="text-red-600" aria-hidden="true">*</span></label>
                                    <div class="mt-1 relative rounded-md shadow-sm">
                                        <input type="number" id="bearerSpacing" value="5" step="0.1" min="0"
                                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                            aria-required="true" aria-describedby="bearerSpacing-unit bearerSpacing-error">
                                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                            <span class="text-gray-500 sm:text-sm" id="bearerSpacing-unit">ft</span>
                                        </div>
                                    </div>
                                    <p class="error-message" id="bearerSpacing-error" role="alert">Enter a positive spacing.</p>
                                </div>
                                <div>
                                    <label for="stumpSpacing" class="block text-sm font-medium text-gray-700">Stump Spacing <span class="text-red-600" aria-hidden="true">*</span></label>
                                    <div class="mt-1 relative rounded-md shadow-sm">
                                        <input type="number" id="stumpSpacing" value="5" step="0.1" min="0"
                                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
                                            aria-required="true" aria-describedby="stumpSpacing-unit stumpSpacing-error">
                                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                            <span class="text-gray-500 sm:text-sm" id="stumpSpacing-unit">ft</span>
                                        </div>
                                    </div>
                                    <p class="error-message" id="stumpSpacing-error" role="alert">Enter a positive spacing.</p>
                                </div>
                            </div>
                        </details>
                    </form>
                </section>
                
                <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" aria-labelledby="results-heading">
                    <h2 id="results-heading" class="text-2xl font-bold text-gray-900 mb-4">Material Estimate</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="result-card">
                            <h4>Total Area</h4>
                            <p id="result-area">160 sq ft</p>
                        </div>
                        <div class="result-card">
                            <h4>Decking (w/ Waste)</h4>
                            <p id="result-decking">356 lin ft</p>
                        </div>
                        <div class="result-card">
                            <h4>Total Joists</h4>
                            <p id="result-joists">120 lin ft</p>
                        </div>
                        <div class="result-card">
                            <h4>Total Screws</h4>
                            <p id="result-screws">~864</p>
                        </div>
                    </div>

                    <details class="mt-6 bg-white rounded-lg" id="scheduleDetails">
                        <summary class="font-semibold text-gray-800">View Detailed Materials List</summary>
                        <div class="mt-4 overflow-x-auto border border-gray-200 rounded-lg" id="scheduleContainer">
                            <table class="min-w-full text-sm">
                                <thead class="bg-gray-100 text-gray-700 uppercase">
                                    <tr>
                                        <th class="px-4 py-2 text-left">Material</th>
                                        <th class="px-4 py-2 text-left">Details</th>
                                        <th class="px-4 py-2 text-right">Quantity</th>
                                    </tr>
                                </thead>
                                <tbody id="scheduleBody">
                                    </tbody>
                            </table>
                        </div>
                    </details>
                </section>
            </div> <article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
                
                <h2>Data Source and Methodology</h2>
                <p>This calculator's substructure estimations (joists, bearers, stumps) are based on common building practices and standards. For US-based projects, calculations are guided by principles in the <strong>International Residential Code (IRC), 2021 Edition, Chapter 5: Floors and Chapter 7: Wall Covering (for siding)</strong>.</p>
                <p>All calculations for materials are based on standard geometric formulas. We strongly recommend consulting the <strong><a href="https://codes.iccsafe.org/content/IRC2021P2" target="_blank" rel="noopener nofollow">official IRC source</a></strong> and verifying with your local building code authority before purchasing materials or beginning construction.</p>

                <h2>The Formulas Explained</h2>
                <p>The calculator uses these core formulas to estimate your materials:</p>
                
                <h3>1. Decking Boards</h3>
                <p>First, we determine the number of boards needed to span the deck, assuming boards run parallel to the **Width**.</p>
                <div class="formula-box">
                    $N_{boards} = \lceil \frac{DeckLength_{total\_inches}}{BoardWidth_{inches} + BoardGap_{inches}} \rceil$
                </div>
                <p>Total linear footage is then calculated, including the wastage factor:</p>
                <div class="formula-box">
                    $L_{decking} = N_{boards} \times DeckWidth_{feet} \times (1 + \frac{Wastage \%}{100})$
                </div>
                
                <h3>2. Substructure (Joists, Bearers)</h3>
                <p>The number of joists (running parallel to **Width**) is found by dividing the deck's length by the joist spacing:</p>
                <div class="formula-box">
                    $N_{joists} = \lceil \frac{DeckLength_{total\_inches}}{JoistSpacing_{inches}} \rceil + 1$
                </div>
                <p>The total linear feet of joist material is:</p>
                <div class="formula-box">
                    $L_{joists} = N_{joists} \times DeckWidth_{feet}$
                </div>
                <p>A similar logic is applied to calculate bearers and stumps based on their respective spacing inputs.</p>

                <h3>3. Fixings (Screws)</h3>
                <p>We assume 2 screws per joist at every decking board intersection:</p>
                <div class="formula-box">
                    $N_{screws} = N_{boards} \times N_{joists} \times 2$
                </div>

                <h2>Glossary of Variables</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Definition</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Deck Length & Width</strong></td>
                            <td>The outer dimensions of your deck.</td>
                        </tr>
                        <tr>
                            <td><strong>Board Width</strong></td>
                            <td>The actual measured width of a single decking board (e.g., 5.5" for a "5/4 x 6" board).</td>
                        </tr>
                        <tr>
                            <td><strong>Board Gap</strong></td>
                            <td>The small space left between boards for drainage and expansion (e.g., 1/4" or 5mm).</td>
                        </tr>
                        <tr>
                            <td><strong>Wastage %</strong></td>
                            <td>An extra percentage added to account for cuts, angled pieces, and errors. 10-15% is standard.</td>
                        </tr>
                        <tr>
                            <td><strong>Joist Spacing</strong></td>
                            <td>The distance from the center of one joist to the center of the next.</td>
                        </tr>
                        <tr>
                            <td><strong>Bearer Spacing</strong></td>
                            <td>The distance from the center of one bearer (beam) to the center of the next. Bearers support the joists.</td>
                        </tr>
                        <tr>
                            <td><strong>Stump Spacing</strong></td>
                            <td>The distance between support posts (stumps or piers) along a bearer.</td>
                        </tr>
                    </tbody>
                </table>
                
                <h2>How It Works: A Step-by-Step Example</h2>
                <p>Let's calculate the materials for a common <strong>16 ft (Length) x 10 ft (Width)</strong> deck.</p>
                <ul>
                    <li><strong>Inputs:</strong>
                        <ul>
                            <li>Deck Length: 16 ft (192 inches)</li>
                            <li>Deck Width: 10 ft</li>
                            <li>Board Width: 5.5 in</li>
                            <li>Board Gap: 0.25 in</li>
                            <li>Joist Spacing: 16 in</li>
                            <li>Wastage: 10%</li>
                        </ul>
                    </li>
                    <li><strong>Step 1: Calculate Number of Boards</strong>
                        <ul>
                            <li>Effective board width = 5.5 in + 0.25 in = 5.75 in</li>
                            <li>$N_{boards} = \lceil 192 \text{ in} / 5.75 \text{ in} \rceil = \lceil 33.39 \rceil = 34 \text{ boards}$</li>
                        </ul>
                    </li>
                    <li><strong>Step 2: Calculate Linear Decking (Pre-Wastage)</strong>
                        <ul>
                            <li>$L_{decking\_raw} = 34 \text{ boards} \times 10 \text{ ft} = 340 \text{ lin ft}$</li>
                        </ul>
                    </li>
                    <li><strong>Step 3: Add Wastage</strong>
                        <ul>
                            <li>$L_{decking\_final} = 340 \text{ lin ft} \times (1 + 0.10) = 374 \text{ lin ft}$</li>
                        </ul>
                    </li>
                     <li><strong>Step 4: Calculate Joists</strong>
                        <ul>
                            <li>$N_{joists} = \lceil 192 \text{ in} / 16 \text{ in} \rceil + 1 = 12 + 1 = 13 \text{ joists}$</li>
                            <li>$L_{joists} = 13 \text{ joists} \times 10 \text{ ft} = 130 \text{ lin ft}$</li>
                        </ul>
                    </li>
                </ul>

                <h2>Frequently Asked Questions (FAQ)</h2>
                <details>
                    <summary>Why is a wastage percentage so important?</summary>
                    <p>You will never use exactly 100% of your material. You must account for cuts at the end of rows, angled cuts, small mistakes, and boards that may have defects. A 10-15% wastage factor ensures you don't have to make a second trip to the store, saving you time and hassle.</p>
                </details>
                <details>
                    <summary>Does this calculator account for different deck shapes (L-shape, Octagon)?</summary>
                    <p>This calculator is designed for simple square or rectangular decks. For complex L-shapes, we recommend splitting your deck into two separate rectangles, calculating the materials for each, and adding them together.</p>
                </details>
                <details>
                    <summary>What direction do my decking boards run?</summary>
                    <p>This calculator assumes your decking boards run parallel to the "Deck Width" dimension, meaning they are laid across the joists which run parallel to the "Deck Length". If you want to lay them the other way, simply swap your Length and Width values in the calculator.</p>
                </details>
                <details>
                    <summary>How do I know what my joist and bearer spacing should be?</summary>
                    <p>This is critically important and is determined by your local building codes and the type of material you are using. For example, standard wood joists are often spaced at 16 inches on-center, but composite decking may require 12-inch spacing. **Always check the decking manufacturer's instructions and your local codes.** This calculator provides estimates, not a structural plan.</p>
                </details>
                <details>
                    <summary>What about hidden fasteners or clips?</summary>
                    <p>The "Total Screws" calculation assumes standard face-screwing (2 screws per joist intersection). If you are using a hidden clip system, the number of clips will be roughly the same as the number of screws calculated (one clip per joist intersection). Refer to your specific fastening system's instructions for exact quantities.</p>
                </details>

                <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
                    <p><strong>Tool developed by Ugo Candido.</strong> Construction methodology and content reviewed by the CalcDomain Editorial Board for accuracy.</p>
                    <p>Last accuracy review: <time datetime="2025-10-31">October 31, 2025</time></p>
                </div>
            </article>
        </section>

        <aside class="w-full lg:w-1/3 no-print">
            <div class="sticky top-24 space-y-6">
                <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
                    Ad Placement (300√ó600)
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-bold text-lg mb-3">Why Use This Calculator</h3>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
                        <li>Get a complete materials list, not just decking.</li>
                        <li>Includes substructure: joists, bearers, and stumps.</li>
                        <li>Instantly calculate the impact of different spacings.</li>
                        <li>Accounts for board gaps and critical wastage factor.</li>
                        <li>Mobile-first design for use on-site.</li>
                    </ul>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-bold text-lg mb-4">Related Construction Tools</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="concrete-calculator.html" class="text-blue-600 hover:underline">Concrete Slab Calculator</a></li>
                        <li><a href="rafter-calculator.html" class="text-blue-600 hover:underline">Roof Rafter Calculator</a></li>
                        <li><a href="paint-calculator.html" class="text-blue-600 hover:underline">Paint Calculator</a></li>
                        <li><a href="fence-calculator.html" class="text-blue-600 hover:underline">Fence Materials Calculator</a></li>
                    </ul>
                </div>
            </div>
        </aside>
    </div>
</main>

<footer class="bg-white border-t no-print">
    <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
        <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
        <div class="mt-4 space-x-4">
            <a href="about.html" class="hover:text-blue-600">About</a>
            <a href="contact.html" class="hover:text-blue-600">Contact</a>
            <a href="privacy.html" class="hover:text-blue-600">Privacy</a>
            <a href="terms.html" class="hover:text-blue-600">Terms</a>
        </div>
    </div>
</footer>

<script defer>
document.addEventListener('DOMContentLoaded', () => {

    // --- 1. Elementi DOM ---
    const elements = {
        // Inputs
        units: document.getElementById('units'),
        deckLength: document.getElementById('deckLength'),
        deckWidth: document.getElementById('deckWidth'),
        boardWidth: document.getElementById('boardWidth'),
        boardGap: document.getElementById('boardGap'),
        wastage: document.getElementById('wastage'),
        joistSpacing: document.getElementById('joistSpacing'),
        bearerSpacing: document.getElementById('bearerSpacing'),
        stumpSpacing: document.getElementById('stumpSpacing'),
        
        // Input Units
        deckLengthUnit: document.getElementById('deckLength-unit'),
        deckWidthUnit: document.getElementById('deckWidth-unit'),
        boardWidthUnit: document.getElementById('boardWidth-unit'),
        boardGapUnit: document.getElementById('boardGap-unit'),
        joistSpacingUnit: document.getElementById('joistSpacing-unit'),
        bearerSpacingUnit: document.getElementById('bearerSpacing-unit'),
        stumpSpacingUnit: document.getElementById('stumpSpacing-unit'),

        // Error Messages
        deckLengthError: document.getElementById('deckLength-error'),
        deckWidthError: document.getElementById('deckWidth-error'),
        boardWidthError: document.getElementById('boardWidth-error'),
        boardGapError: document.getElementById('boardGap-error'),
        wastageError: document.getElementById('wastage-error'),
        joistSpacingError: document.getElementById('joistSpacing-error'),
        bearerSpacingError: document.getElementById('bearerSpacing-error'),
        stumpSpacingError: document.getElementById('stumpSpacing-error'),

        // Outputs
        resultArea: document.getElementById('result-area'),
        resultDecking: document.getElementById('result-decking'),
        resultJoists: document.getElementById('result-joists'),
        resultScrews: document.getElementById('result-screws'),
        scheduleBody: document.getElementById('scheduleBody'),
        
        // Tooltips
        tooltipButtons: document.querySelectorAll('.tooltip-btn'),
        
        // Mobile Menu
        mobileMenuToggle: document.getElementById('mobile-menu-toggle'),
        mobileMenu: document.getElementById('mobile-menu')
    };

    // --- 2. Costanti di Conversione ---
    const M_TO_FT = 3.28084;
    const MM_TO_IN = 0.0393701;
    const FT_TO_M = 1 / M_TO_FT;
    const IN_TO_MM = 1 / MM_TO_IN;

    // --- 3. Funzioni di Validazione e UI ---

    /**
     * Valida un campo di input, mostra/nasconde l'errore e imposta ARIA.
     * @returns {boolean} True se valido, False se non valido.
     */
    function validateField(inputEl, errorEl, min = 0, allowZero = false) {
        let isValid = true;
        const value = parseFloat(inputEl.value);

        if (isNaN(value)) {
            isValid = false;
        } else if (allowZero) {
            if (value < min) isValid = false;
        } else {
            if (value <= min) isValid = false;
        }

        if (isValid) {
            errorEl.style.display = 'none';
            inputEl.setAttribute('aria-invalid', 'false');
            inputEl.setAttribute('aria-describedby', inputEl.id.replace('-error', '-unit')); // Rimuove l'errore da describedby
        } else {
            errorEl.style.display = 'block';
            inputEl.setAttribute('aria-invalid', 'true');
            // Aggiunge l'errore a describedby, mantenendo l'unit√†
            const unitId = inputEl.id.replace('-error', '-unit');
            const errorId = errorEl.id;
            if (!inputEl.getAttribute('aria-describedby').includes(errorId)) {
                inputEl.setAttribute('aria-describedby', `${unitId} ${errorId}`);
            }
        }
        return isValid;
    }

    /**
     * Aggiorna le etichette delle unit√† in base alla selezione.
     */
    function updateUnits() {
        const isMetric = elements.units.value === 'metric';
        
        if (isMetric) {
            elements.deckLengthUnit.textContent = 'm';
            elements.deckWidthUnit.textContent = 'm';
            elements.boardWidthUnit.textContent = 'mm';
            elements.boardGapUnit.textContent = 'mm';
            elements.joistSpacingUnit.textContent = 'mm';
            elements.bearerSpacingUnit.textContent = 'm';
            elements.stumpSpacingUnit.textContent = 'm';
        } else {
            elements.deckLengthUnit.textContent = 'ft';
            elements.deckWidthUnit.textContent = 'in';
            elements.boardWidthUnit.textContent = 'in';
            elements.boardGapUnit.textContent = 'in';
            elements.joistSpacingUnit.textContent = 'in';
            elements.bearerSpacingUnit.textContent = 'ft';
            elements.stumpSpacingUnit.textContent = 'ft';
        }
        // Ricalcola subito dopo il cambio di unit√†
        calculateMaterials();
    }

    // --- 4. Funzione di Calcolo Principale ---

    function calculateMaterials() {
        // Validazione
        const v1 = validateField(elements.deckLength, elements.deckLengthError);
        const v2 = validateField(elements.deckWidth, elements.deckWidthError);
        const v3 = validateField(elements.boardWidth, elements.boardWidthError);
        const v4 = validateField(elements.boardGap, elements.boardGapError, 0, true);
        const v5 = validateField(elements.wastage, elements.wastageError, 0, true);
        const v6 = validateField(elements.joistSpacing, elements.joistSpacingError);
        const v7 = validateField(elements.bearerSpacing, elements.bearerSpacingError);
        const v8 = validateField(elements.stumpSpacing, elements.stumpSpacingError);

        if (![v1, v2, v3, v4, v5, v6, v7, v8].every(Boolean)) {
            // Se c'√® un errore, ferma il calcolo
            return;
        }

        // Estrazione e Conversione Valori in un'unica unit√† (Inches)
        const isMetric = elements.units.value === 'metric';
        
        let lengthIn, widthIn, boardWidthIn, boardGapIn, joistSpacingIn, bearerSpacingIn, stumpSpacingIn;
        const wastage = parseFloat(elements.wastage.value) / 100;

        if (isMetric) {
            lengthIn = parseFloat(elements.deckLength.value) * M_TO_FT * 12;
            widthIn = parseFloat(elements.deckWidth.value) * M_TO_FT * 12;
            boardWidthIn = parseFloat(elements.boardWidth.value) * MM_TO_IN;
            boardGapIn = parseFloat(elements.boardGap.value) * MM_TO_IN;
            joistSpacingIn = parseFloat(elements.joistSpacing.value) * MM_TO_IN;
            bearerSpacingIn = parseFloat(elements.bearerSpacing.value) * M_TO_FT * 12;
            stumpSpacingIn = parseFloat(elements.stumpSpacing.value) * M_TO_FT * 12;
        } else {
            lengthIn = parseFloat(elements.deckLength.value) * 12;
            widthIn = parseFloat(elements.deckWidth.value) * 12; // Modificato: Larghezza in Piedi
            boardWidthIn = parseFloat(elements.boardWidth.value);
            boardGapIn = parseFloat(elements.boardGap.value);
            joistSpacingIn = parseFloat(elements.joistSpacing.value);
            bearerSpacingIn = parseFloat(elements.bearerSpacing.value) * 12;
            stumpSpacingIn = parseFloat(elements.stumpSpacing.value) * 12;
        }
        
        // Correzione: Larghezza in Piedi nel form Imperial
        if (!isMetric) {
            widthIn = parseFloat(elements.deckWidth.value) * 12;
        }


        // --- Calcoli ---

        // Area
        const totalAreaFt = (lengthIn / 12) * (widthIn / 12);
        const totalAreaM = totalAreaFt * FT_TO_M * FT_TO_M;

        // Decking (Assumendo che le tavole corrano lungo la LARGHEZZA (Width))
        // Le tavole sono supportate dai travetti (Joists), che corrono lungo la LUNGHEZZA (Length)
        const effectiveBoardWidth = boardWidthIn + boardGapIn;
        const numBoards = Math.ceil(lengthIn / effectiveBoardWidth);
        const linearFeetDecking = (numBoards * (widthIn / 12));
        const linearFeetDeckingWastage = linearFeetDecking * (1 + wastage);
        const linearMetersDeckingWastage = linearFeetDeckingWastage * FT_TO_M;

        // Joists (Travetti) (Corrono paralleli alla LUNGHEZZA, supportando le tavole)
        const numJoists = Math.ceil(lengthIn / joistSpacingIn) + 1;
        const linearFeetJoists = numJoists * (widthIn / 12); // Lunghezza di un travetto = Larghezza del deck
        const linearMetersJoists = linearFeetJoists * FT_TO_M;

        // Bearers (Portanti) (Corrono paralleli alla LARGHEZZA, supportando i travetti)
        const numBearers = Math.ceil(widthIn / bearerSpacingIn) + 1;
        const linearFeetBearers = numBearers * (lengthIn / 12); // Lunghezza di un portante = Lunghezza del deck
        const linearMetersBearers = linearFeetBearers * FT_TO_M;

        // Stumps (Pilastri) (Supportano i portanti)
        let numStumps = 0;
        if (stumpSpacingIn > 0) {
            const stumpsPerBearer = Math.ceil(lengthIn / stumpSpacingIn) + 1;
            numStumps = numBearers * stumpsPerBearer;
        }

        // Screws (Viti) (2 per ogni intersezione tavola/travetto)
        const numScrews = numBoards * numJoists * 2;

        // --- 5. Aggiornamento UI Risultati ---
        
        const fmtNum = (val) => new Intl.NumberFormat(undefined, { maximumFractionDigits: 0 }).format(val);
        const fmtLen = (val) => new Intl.NumberFormat(undefined, { maximumFractionDigits: 1 }).format(val);

        if (isMetric) {
            elements.resultArea.textContent = `${fmtLen(totalAreaM)} sq m`;
            elements.resultDecking.textContent = `${fmtLen(linearMetersDeckingWastage)} lin m`;
            elements.resultJoists.textContent = `${fmtLen(linearMetersJoists)} lin m`;
            elements.resultScrews.textContent = `~${fmtNum(numScrews)}`;
            
            updateScheduleTable([
                { m: 'Total Area', q: `${fmtLen(totalAreaM)} sq m` },
                { m: 'Decking Boards (w/ waste)', q: `${fmtLen(linearMetersDeckingWastage)} lin m` },
                { m: 'Joists', q: `${fmtLen(linearMetersJoists)} lin m` },
                { m: 'Bearers', q: `${fmtLen(linearMetersBearers)} lin m` },
                { m: 'Stumps / Posts', q: `${fmtNum(numStumps)} units` },
                { m: 'Decking Screws', q: `~${fmtNum(numScrews)} units` },
                { m: 'Number of Boards', d: `${fmtNum(numBoards)} boards @ ${fmtLen(widthIn/12 * FT_TO_M)}m long` },
                { m: 'Number of Joists', d: `${fmtNum(numJoists)} joists @ ${fmtLen(widthIn/12 * FT_TO_M)}m long` },
                { m: 'Number of Bearers', d: `${fmtNum(numBearers)} bearers @ ${fmtLen(lengthIn/12 * FT_TO_M)}m long` },
            ]);

        } else {
            elements.resultArea.textContent = `${fmtNum(totalAreaFt)} sq ft`;
            elements.resultDecking.textContent = `${fmtNum(linearFeetDeckingWastage)} lin ft`;
            elements.resultJoists.textContent = `${fmtNum(linearFeetJoists)} lin ft`;
            elements.resultScrews.textContent = `~${fmtNum(numScrews)}`;
            
            updateScheduleTable([
                { m: 'Total Area', q: `${fmtNum(totalAreaFt)} sq ft` },
                { m: 'Decking Boards (w/ waste)', q: `${fmtNum(linearFeetDeckingWastage)} lin ft` },
                { m: 'Joists', q: `${fmtNum(linearFeetJoists)} lin ft` },
                { m: 'Bearers', q: `${fmtNum(linearFeetBearers)} lin ft` },
                { m: 'Stumps / Posts', q: `${fmtNum(numStumps)} units` },
                { m: 'Decking Screws', q: `~${fmtNum(numScrews)} units` },
                { m: 'Number of Boards', d: `${fmtNum(numBoards)} boards @ ${fmtLen(widthIn/12)}ft long` },
                { m: 'Number of Joists', d: `${fmtNum(numJoists)} joists @ ${fmtLen(widthIn/12)}ft long` },
                { m: 'Number of Bearers', d: `${fmtNum(numBearers)} bearers @ ${fmtLen(lengthIn/12)}ft long` },
            ]);
        }
    }
    
    /**
     * Popola la tabella dei risultati dettagliati.
     * @param {Array<Object>} rows - Array di oggetti {m: material, q: quantity, d: details}
     */
    function updateScheduleTable(rows) {
        elements.scheduleBody.innerHTML = ''; // Pulisce la tabella
        rows.forEach(row => {
            const tr = document.createElement('tr');
            tr.className = 'border-b border-gray-200';
            
            if (row.m) { // Riga standard (Materiale, Quantit√†)
                tr.innerHTML = `
                    <td class="px-4 py-3 text-left font-medium text-gray-800">${row.m}</td>
                    <td class="px-4 py-3 text-left" colspan="1"></td>
                    <td class="px-4 py-3 text-right font-bold text-blue-600">${row.q}</td>
                `;
            } else if (row.d) { // Riga di dettaglio (sottile, grigia)
                tr.innerHTML = `
                    <td class="px-4 py-2 text-left text-sm text-gray-600" colspan="3">&hookrightarrow; ${row.d}</td>
                `;
            }
            elements.scheduleBody.appendChild(tr);
        });
    }

    // --- 6. Event Listeners ---

    // Aggiungi listener a tutti gli input del calcolatore
    const inputs = [
        elements.deckLength, elements.deckWidth, elements.boardWidth, 
        elements.boardGap, elements.wastage, elements.joistSpacing, 
        elements.bearerSpacing, elements.stumpSpacing
    ];
    inputs.forEach(input => {
        input.addEventListener('input', calculateMaterials);
    });

    // Listener per il cambio di unit√†
    elements.units.addEventListener('change', updateUnits);

    // Listener per i Tooltip Accessibili
    elements.tooltipButtons.forEach(button => {
        button.addEventListener('click', () => {
            const tooltipId = button.getAttribute('aria-controls');
            const tooltip = document.getElementById(tooltipId);
            const isExpanded = button.getAttribute('aria-expanded') === 'true';

            tooltip.classList.toggle('active');
            button.setAttribute('aria-expanded', !isExpanded);
        });
    });
    
    // Listener per il Menu Mobile (come da template)
    elements.mobileMenuToggle.addEventListener('click', () => {
        const isExpanded = elements.mobileMenuToggle.getAttribute('aria-expanded') === 'true';
        elements.mobileMenu.classList.toggle('hidden');
        elements.mobileMenuToggle.setAttribute('aria-expanded', !isExpanded);
    });

    // --- 7. Inizializzazione ---
    updateUnits(); // Imposta le unit√† corrette e calcola al caricamento
});
</script>

</body>
</html>