<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<title>Equation Solver | Algebra Calculator for Linear, Quadratic, and Systems</title>
<meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
<meta content="Professional equation solver for algebra. Solve linear and quadratic equations symbolically with steps, find numeric roots for complex equations, and solve 2×2–4×4 linear systems. WCAG 2.1 AA accessible and mobile-first." name="description"/>
<meta content="equation solver, algebra calculator, solve equations, quadratic formula, linear system solver" name="keywords"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/equation-solver.html" rel="canonical"/>
<meta content="#005A9C" name="theme-color"/>
<meta content="index, follow" name="robots"/>
<link as="style" href="style.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
<noscript><link href="style.css" rel="stylesheet"/></noscript>
<link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' fill='%23005A9C'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-size='36' fill='white' font-family='Arial,Helvetica,sans-serif'%3EΣ%3C/text%3E%3C/svg%3E" rel="icon"/>
<link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAACq6z6NAAAAAklEQVR4AewaftIAAAB/SURBVO3BQREAAAgDINc/9A0kQA5Sg3I8AAAAAElFTkSuQmCC" rel="apple-touch-icon"/>
<style>
    /* Critical CSS (mobile-first, WCAG 2.1 AA) */
    :root{
      --primary-color:#005A9C; --secondary-color:#003F6E; --accent-color:#00A4E4;
      --background-color:#F8F9FA; --surface-color:#FFFFFF;
      --text-color:#212529; --muted-text-color:#495057; --border-color:#DEE2E6;
      --success-color:#198754; --danger-color:#DC3545;
      --font-sans:'Inter',system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      --font-mono:'Source Code Pro',ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --radius-8:8px; --radius-12:12px; --gap:.75rem; --gap-lg:1.5rem; --touch:48px;
      --shadow:0 4px 10px rgba(0,0,0,.06);
    }
    @media (prefers-contrast:more){
      :root{ --primary-color:#003366; --secondary-color:#001a33; --text-color:#000; --border-color:#000; --background-color:#fff; }
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    body{margin:0; font-family:var(--font-sans); background:var(--background-color); color:var(--text-color); line-height:1.6; -webkit-font-smoothing:antialiased}
    a{color:var(--primary-color); text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1200px; margin:0 auto; padding:0 1rem}
    .skip-link{position:absolute; left:8px; top:-40px; background:var(--primary-color); color:#fff; padding:.5rem .75rem; border-radius:4px; z-index:1000}
    .skip-link:focus{top:8px}
    header.site-header{background:var(--surface-color); border-bottom:1px solid var(--border-color); box-shadow:var(--shadow)}
    .header-content{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:.75rem; padding:.75rem 0}
    .logo{font-weight:800; color:var(--primary-color)}
    .site-search{display:flex; gap:.5rem; align-items:center}
    .site-search input{flex:1; min-width:0; padding:.6rem .75rem; border:1px solid var(--border-color); border-radius:8px}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:.75rem 1rem; min-height:var(--touch); min-width:var(--touch); font-weight:700; border-radius:8px; border:1px solid transparent; cursor:pointer}
    .btn-primary{background:var(--primary-color); color:#fff}
    .btn-secondary{background:transparent; color:var(--primary-color); border-color:var(--primary-color)}
    .btn:focus{outline:3px solid var(--primary-color); outline-offset:2px}
    nav.main-nav{display:none} /* simplified for this standalone page */
    main{padding:1.5rem 0}
    nav[aria-label="breadcrumb"]{font-size:.9rem; color:var(--muted-text-color); margin-bottom:1rem}
    h1,h2,h3{color:var(--secondary-color); line-height:1.25}
    h1{font-size:1.9rem; margin:.25rem 0 0.5rem}
    .layout{display:grid; gap:1.5rem; grid-template-columns:1fr}
    @media(min-width:992px){ .layout{grid-template-columns:420px 1fr} }
    .card{background:var(--surface-color); border:1px solid var(--border-color); border-radius:12px; box-shadow:var(--shadow); padding:1.25rem}
    .form-group{margin-bottom:1rem}
    label{display:block; font-weight:700; margin-bottom:.4rem}
    .field-tip{display:inline-flex; align-items:center; gap:.35rem}
    .tip-btn{margin-left:.4rem; border:1px solid var(--border-color); background:#fff; color:#000; width:28px; height:28px; border-radius:50%; font-weight:800; cursor:pointer}
    .tip-btn:focus{outline:3px solid var(--primary-color); outline-offset:2px}
    .tooltip{display:none; background:#e9f4ff; border:1px solid #b6dbff; color:#0b3b66; padding:.5rem .75rem; border-radius:8px; margin:.25rem 0}
    .tooltip[aria-hidden="false"]{display:block}
    input[type="number"],input[type="text"],textarea,select{width:100%; min-height:var(--touch); padding:.7rem .8rem; border:1px solid var(--border-color); border-radius:8px; font-size:1rem}
    textarea{resize:vertical; min-height:120px}
    .radio-group{display:flex; gap:.5rem; padding:.25rem; border:1px solid var(--border-color); border-radius:8px}
    .radio-group input{position:absolute; opacity:0; width:0; height:0}
    .radio-group label{flex:1; text-align:center; padding:.6rem; border-radius:6px; cursor:pointer; min-height:var(--touch); display:flex; align-items:center; justify-content:center; border:1px solid transparent}
    .radio-group input:checked + label{background:var(--primary-color); color:#fff}
    .error{color:var(--danger-color); font-size:.9rem; margin-top:.25rem}
    .results{min-height:260px; border:1px solid var(--border-color); background:#f6f7f9; border-radius:12px; padding:1rem}
    .result-item{display:flex; justify-content:space-between; border-bottom:1px solid var(--border-color); padding:.6rem 0}
    .result-item:last-child{border-bottom:none}
    .result-value{font-weight:800; color:var(--success-color)}
    .formula-box{background:#eef1f5; border-radius:8px; padding:1rem; overflow:auto; font-family:var(--font-mono)}
    .kbd{font-family:var(--font-mono); background:#e9ecef; padding:.1rem .35rem; border-radius:4px}
    .author-box{font-size:.95rem; color:#495057; border-top:1px solid var(--border-color); padding-top:1rem; margin-top:1.5rem}
    footer{background:var(--secondary-color); color:#fff; margin-top:2rem}
    footer .footer{display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); padding:1.5rem 0}
    footer a{color:#fff}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
    /* Focus-visible for inputs */
    input:focus, textarea:focus, select:focus{outline:3px solid var(--primary-color); outline-offset:2px}
    /* Prevent content CLS within results sub-sections */
    #results-content > div{min-height:1.2rem}
  </style>
<!-- JSON-LD for E-E-A-T + Rich Results -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Equation Solver",
  "description": "Accessible, high-performance equation solver for algebra. Solve linear and quadratic equations with symbolic steps, find numeric roots for complex equations, and solve 2×2–4×4 linear systems.",
  "url": "https://calcdomain.com/equation-solver.html",
  "inLanguage": "en",
  "isPartOf": {
    "@type": "WebSite",
    "name": "CalcDomain",
    "url": "https://calcdomain.com"
  },
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://calcdomain.com/logo.png"
    }
  },
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://calcdomain.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Math",
        "item": "https://calcdomain.com/math.html"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Algebra",
        "item": "https://calcdomain.com/math/algebra.html"
      },
      {
        "@type": "ListItem",
        "position": 4,
        "name": "Equation Solver",
        "item": "https://calcdomain.com/math/algebra/equation-solver.html"
      }
    ]
  },
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "Solve a Single-Variable Equation",
      "description": "Enter an equation, choose a variable and method, then compute exact or numeric solutions.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter the equation",
          "text": "Type your equation, for example 2x^2 - 5x + 2 = 0 or sin(x) = 0.5."
        },
        {
          "@type": "HowToStep",
          "name": "Choose variable and method",
          "text": "Set the variable name (e.g., x) and method (Auto, Symbolic, or Numeric)."
        },
        {
          "@type": "HowToStep",
          "name": "Adjust interval (optional)",
          "text": "For numeric solving, set the search interval and tolerance."
        },
        {
          "@type": "HowToStep",
          "name": "Solve",
          "text": "Press Solve to compute solutions and see step-by-step reasoning where applicable."
        }
      ],
      "tool": "Equation Solver"
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Which equations can be solved exactly?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool provides exact, step-by-step solutions for linear and quadratic equations in one variable. More complex equations are solved numerically."
          }
        },
        {
          "@type": "Question",
          "name": "Can it solve systems of equations?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. It solves 2×2, 3×3, and 4×4 linear systems using Gaussian elimination with partial pivoting."
          }
        },
        {
          "@type": "Question",
          "name": "How accurate are numeric solutions?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Numeric solutions use bracketing and Newton refinement with configurable tolerance. Residuals and convergence indicators are reported."
          }
        },
        {
          "@type": "Question",
          "name": "Does it support functions like sin and log?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. The numeric solver supports common functions including sin, cos, tan, log, ln, exp, sqrt, and abs."
          }
        },
        {
          "@type": "Question",
          "name": "Is the tool accessible?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The interface follows WCAG 2.1 AA with full keyboard navigation, visible focus states, ARIA labeling, and responsive design."
          }
        }
      ]
    }
  ]
}
  </script>
<!-- MathJax for LaTeX rendering (deferred) -->
<script>
    window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }, options:{ renderActions: {addMenu: []}} };
  </script>
<script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>
<a class="skip-link" href="#main-content">Skip to main content</a>
<html><body><header class="bg-white shadow-sm sticky top-0 z-50">
<nav aria-label="Primary" class="container mx-auto px-4 lg:px-6 py-4">
<!-- TOP ROW -->
<div class="flex justify-between items-center">
<!-- LOGO -->
<a class="text-2xl font-bold text-blue-600" href="index.html">CalcDomain</a>
<!-- DESKTOP SEARCH -->
<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input autocomplete="off" class="w-full py-2 px-4 pr-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="search-input" placeholder="Search for a calculator..." type="search"/>
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<!-- CONTAINER RISULTATI RICERCA -->
<div class="absolute top-full left-0 right-0 bg-white shadow-lg rounded-lg mt-2 max-h-96 overflow-y-auto z-50 hidden border border-gray-200" id="search-results"></div>
</div>
</div>
<!-- NAVIGATION LINKS -->
<div class="hidden md:flex items-center space-x-6">
<a class="text-gray-700 hover:text-blue-600 transition-colors" href="search.html">Advanced Search</a>
<a class="text-gray-700 hover:text-blue-600 transition-colors" href="#categories">Categories</a>
</div>
<!-- MOBILE TOGGLE (ARIA added) -->
<button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu" class="md:hidden p-2" id="mobile-menu-toggle" type="button">
<svg aria-hidden="true" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<!-- MOBILE MENU (converted to <nav> with aria-label) -->
<nav aria-label="Mobile menu" class="md:hidden mt-4 hidden" id="mobile-menu" role="navigation">
<div class="mb-4">
<div class="relative">
<input class="w-full py-3 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="mobile-search-input" placeholder="Search calculators..." type="search"/>
<svg aria-hidden="true" class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
</div>
<div class="space-y-2">
<a class="block py-2 text-gray-700 hover:text-blue-600" href="search.html">Advanced Search</a>
<a class="block py-2 text-gray-700 hover:text-blue-600" href="#categories">Categories</a>
</div>
</nav>
</nav>
</header></body></html>
<main class="container" id="main-content" role="main">
<nav aria-label="breadcrumb">
<a href="/">Home</a> / <a href="https://calcdomain.com/math.html">Math</a> / <a href="https://calcdomain.com/math/algebra.html">Algebra</a> / Equation Solver
    </nav>
<h1>Equation Solver</h1>
<p>This professional-grade equation solver helps students, educators, and engineers solve algebraic problems faster and with confidence. It provides exact step-by-step solutions for linear and quadratic equations, robust numeric roots for complex equations, and a reliable solver for 2×2 to 4×4 linear systems—designed mobile-first and fully accessible.</p>
<div class="layout">
<!-- Calculator -->
<section aria-labelledby="calc-heading" class="card">
<h2 class="sr-only" id="calc-heading">Interactive Calculator</h2>
<!-- Mode -->
<div class="form-group">
<fieldset>
<legend class="sr-only">Choose calculator mode</legend>
<div aria-label="Calculator mode" class="radio-group" role="radiogroup">
<input checked="" id="modeEquation" name="calcMode" type="radio" value="equation"/>
<label for="modeEquation">Single Equation</label>
<input id="modeSystem" name="calcMode" type="radio" value="system"/>
<label for="modeSystem">Linear System</label>
</div>
</fieldset>
</div>
<!-- Single Equation Panel -->
<div aria-labelledby="eq-panel-heading" id="panel-equation" role="region">
<h3 class="sr-only" id="eq-panel-heading">Single Equation Inputs</h3>
<div class="form-group">
<label class="field-tip" for="equationInput">
              Equation *
              <button aria-controls="equationTip" aria-expanded="false" aria-label="Help: equation syntax" class="tip-btn" type="button">?</button>
</label>
<div aria-hidden="true" class="tooltip" id="equationTip" role="note">
              Enter an equation with one variable, e.g. 2x^2 - 5x + 2 = 0 or sin(x) = 0.5. Supported functions: sin, cos, tan, asin, acos, atan, ln (log), exp, sqrt, abs. Use ^ for powers and * for multiplication (e.g., 2*x).
            </div>
<textarea aria-describedby="equationError equationTip" aria-required="true" id="equationInput" placeholder="Examples: 2x^2 - 5x + 2 = 0  OR  sin(x) = 0.5"></textarea>
<div aria-live="polite" class="error" id="equationError" role="alert"></div>
</div>
<div class="form-group">
<label class="field-tip" for="variableInput">
              Variable name *
              <button aria-controls="varTip" aria-expanded="false" aria-label="Help: variable name" class="tip-btn" type="button">?</button>
</label>
<div aria-hidden="true" class="tooltip" id="varTip" role="note">
              Use a single letter for the variable, e.g., x or t. The solver is case-sensitive.
            </div>
<input aria-describedby="variableError varTip" aria-required="true" id="variableInput" inputmode="text" maxlength="3" type="text" value="x"/>
<div aria-live="polite" class="error" id="variableError" role="alert"></div>
</div>
<div class="form-group">
<label class="field-tip" for="methodSelect">
              Method *
              <button aria-controls="methodTip" aria-expanded="false" aria-label="Help: solving method" class="tip-btn" type="button">?</button>
</label>
<div aria-hidden="true" class="tooltip" id="methodTip" role="note">
              Auto detects linear/quadratic for exact solutions; otherwise uses numeric methods. Select Symbolic Only to restrict to exact solutions up to quadratic. Numeric Only always uses robust numeric solving.
            </div>
<select aria-describedby="methodError methodTip" aria-required="true" id="methodSelect">
<option selected="" value="auto">Auto (symbolic to quadratic, else numeric)</option>
<option value="symbolic">Symbolic Only (up to quadratic)</option>
<option value="numeric">Numeric Only</option>
</select>
<div aria-live="polite" class="error" id="methodError" role="alert"></div>
</div>
<div class="form-group">
<label class="field-tip">
              Numeric search interval
              <button aria-controls="intervalTip" aria-expanded="false" aria-label="Help: numeric search interval" class="tip-btn" type="button">?</button>
</label>
<div aria-hidden="true" class="tooltip" id="intervalTip" role="note">
              When using numeric solving, the solver scans [Min, Max] for roots and refines them. Adjust to include expected roots.
            </div>
<div style="display:grid; gap:.5rem; grid-template-columns:1fr 1fr">
<div>
<label for="minInput">Min</label>
<input aria-describedby="intervalError intervalTip" id="minInput" step="any" type="number" value="-100"/>
</div>
<div>
<label for="maxInput">Max</label>
<input aria-describedby="intervalError intervalTip" id="maxInput" step="any" type="number" value="100"/>
</div>
</div>
<div aria-live="polite" class="error" id="intervalError" role="alert"></div>
</div>
<div class="form-group" style="display:grid; gap:.5rem; grid-template-columns:1fr 1fr">
<div>
<label for="toleranceInput">Tolerance</label>
<input aria-describedby="tolError" id="toleranceInput" step="any" type="number" value="1e-8"/>
<div aria-live="polite" class="error" id="tolError" role="alert"></div>
</div>
<div>
<label for="maxIterInput">Max iterations</label>
<input aria-describedby="iterError" id="maxIterInput" min="1" step="1" type="number" value="100"/>
<div aria-live="polite" class="error" id="iterError" role="alert"></div>
</div>
</div>
</div>
<!-- Linear System Panel -->
<div aria-labelledby="sys-panel-heading" hidden="" id="panel-system" role="region">
<h3 class="sr-only" id="sys-panel-heading">Linear System Inputs</h3>
<div class="form-group">
<label for="sysSize">System size *</label>
<select aria-describedby="sysSizeError" aria-required="true" id="sysSize">
<option value="2">2 × 2</option>
<option value="3">3 × 3</option>
<option value="4">4 × 4</option>
</select>
<div aria-live="polite" class="error" id="sysSizeError" role="alert"></div>
</div>
<div class="form-group">
<label class="field-tip">
              Coefficient matrix A and vector b
              <button aria-controls="sysTip" aria-expanded="false" aria-label="Help: system coefficients" class="tip-btn" type="button">?</button>
</label>
<div aria-hidden="true" class="tooltip" id="sysTip" role="note">
              Enter the linear system in matrix form A·x = b. Fill the grid row-by-row. Leave empty for 0. Example (2×2): A = [[2,1],[1,-1]], b = [4,1].
            </div>
<div id="sysGrid" style="display:grid; gap:.5rem"></div>
<div aria-live="polite" class="error" id="sysError" role="alert"></div>
</div>
</div>
<div class="form-group" style="display:flex; gap:.5rem; flex-wrap:wrap">
<button class="btn btn-primary" id="solveBtn" type="button">Solve</button>
<button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
</div>
</section>
<!-- Results -->
<section aria-labelledby="results-heading" class="card">
<h2 id="results-heading">Results</h2>
<div aria-busy="false" aria-live="polite" class="results" id="results">
<div id="results-content">
<div class="result-item">
<span class="result-label">Status</span>
<span class="result-value" id="statusValue">Awaiting input</span>
</div>
<div class="result-item" hidden="" id="solutionsBlock">
<span class="result-label">Solutions</span>
<span class="result-value" id="solutionsValue"></span>
</div>
<div class="result-item" hidden="" id="residualBlock">
<span class="result-label">Max residual</span>
<span class="result-value" id="residualValue"></span>
</div>
<div class="result-item" hidden="" id="methodBlock">
<span class="result-label">Method</span>
<span class="result-value" id="methodValue"></span>
</div>
</div>
<div id="steps" style="margin-top:.75rem"></div>
</div>
</section>
</div>
<!-- Authoritative Content -->
<section class="card" style="margin-top:1.5rem">
<h2>Data Source and Methodology</h2>
<p>
        Authoritative references:
      </p>
<ul>
<li>
          NIST Digital Library of Mathematical Functions (DLMF), Release 1.2.1, 2024.
          <a href="https://dlmf.nist.gov/" rel="noopener">https://dlmf.nist.gov/</a>
</li>
<li>
          R. L. Burden &amp; J. D. Faires, Numerical Analysis, 10th ed., Cengage Learning, 2016.
        </li>
</ul>
<p><strong>All computations strictly follow formulas and methods from these sources. All calculations are rigorously based on the formulas and data provided by this source.</strong></p>
</section>
<section class="card" style="margin-top:1rem">
<h2>The Formulas Explained</h2>
<div class="formula-box">
<div>
          Linear equation:
          $$
            ax + b = 0 \quad \Rightarrow \quad x = -\frac{b}{a}, \quad a \neq 0.
          $$
        </div>
<div style="margin-top:.75rem">
          Quadratic equation:
          $$
            ax^2 + bx + c = 0 \;\Rightarrow\; x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a},\ a \neq 0.
          $$
        </div>
<div style="margin-top:.75rem">
          Bisection method (numeric):
          $$
            \text{Given } [L,R] \text{ with } f(L)f(R) \lt 0,\ m = \frac{L+R}{2},\ \text{choose the subinterval where the sign changes, repeat.}
          $$
        </div>
<div style="margin-top:.75rem">
          Newton refinement:
          $$
            x_{k+1} = x_k - \frac{f(x_k)}{f'(x_k)}, \quad
            f'(x) \approx \frac{f(x+h)-f(x-h)}{2h}.
          $$
        </div>
</div>
</section>
<section class="card" style="margin-top:1rem">
<h2>Glossary of Variables and Outputs</h2>
<ul>
<li><strong>Equation:</strong> The expression of equality to solve, e.g., 2x^2 - 5x + 2 = 0.</li>
<li><strong>Variable:</strong> The unknown symbol to solve for (default: x).</li>
<li><strong>Method:</strong> Auto, Symbolic Only (up to quadratic), or Numeric Only.</li>
<li><strong>Min/Max:</strong> Interval scanned for numeric roots.</li>
<li><strong>Tolerance:</strong> Target precision for numeric methods.</li>
<li><strong>Max iterations:</strong> Safety cap for numeric convergence loops.</li>
<li><strong>Solutions:</strong> Exact values (when symbolic) or numeric approximations.</li>
<li><strong>Residual:</strong> Maximum |f(x)| across reported solutions (smaller is better).</li>
</ul>
</section>
<section class="card" style="margin-top:1rem">
<h2>Worked Example</h2>
<h3>How It Works: A Step-by-Step Example</h3>
<p><strong>Problem:</strong> Solve 2x + 5 = 19.</p>
<ol>
<li>Rewrite: 2x + 5 = 19 → 2x = 19 − 5 = 14.</li>
<li>Divide both sides by 2: x = 14 ÷ 2 = 7.</li>
<li><strong>Result:</strong> x = 7.</li>
</ol>
<p>Using the quadratic form, for example x^2 − 5x + 6 = 0, the solver applies:</p>
<div class="formula-box">
        $a=1,\ b=-5,\ c=6,\ \Delta=b^2-4ac=25-24=1 \Rightarrow x=\frac{-b\pm\sqrt{\Delta}}{2a}=\frac{5\pm1}{2}=\{3,2\}.$
      </div>
</section>
<section class="card" style="margin-top:1rem">
<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What types of equations can this solve exactly?</summary>
<p>Linear and quadratic single-variable equations are solved symbolically with steps. Cubic and higher degrees, or equations with trigonometric/exponential functions, are solved numerically.</p>
</details>
<details>
<summary>How are numeric roots found?</summary>
<p>The solver scans the given interval for sign changes, applies bisection for bracketing, and refines with Newton’s method using a numerically estimated derivative.</p>
</details>
<details>
<summary>How do I write functions and powers?</summary>
<p>Use sin(x), cos(x), tan(x), ln(x) or log(x), exp(x), sqrt(x), abs(x). Use ^ for powers and include multiplication explicitly (e.g., 2*x, not 2x).</p>
</details>
<details>
<summary>Can I solve systems of equations?</summary>
<p>Yes, use the Linear System mode to solve 2×2, 3×3, or 4×4 systems via Gaussian elimination (with partial pivoting) for numerical stability.</p>
</details>
<details>
<summary>How do I interpret residuals?</summary>
<p>The residual |f(x)| indicates how well a value satisfies the equation. Values near or below the tolerance indicate high accuracy.</p>
</details>
<details>
<summary>Does the tool support complex solutions?</summary>
<p>For quadratics, complex solutions are displayed when the discriminant is negative. Numeric solving currently targets real roots within the interval.</p>
</details>
</section>
<div class="author-box">
<p>
        Tool developed by <strong>Ugo Candido</strong>. Content verified by <strong>CalcDomain Editorial Board</strong>.<br/>
        Last reviewed for accuracy on: <time datetime="2025-09-14">September 14, 2025</time>.
      </p>
</div>
</main>
<!-- Standard Footer --> <html><body><footer class="bg-gray-900 text-white py-12">
<div class="container mx-auto px-4">
<div class="grid grid-cols-1 md:grid-cols-4 gap-8">
<div>
<h3 class="text-2xl font-bold mb-4">CalcDomain</h3>
<p class="text-gray-400 mb-4">Your trusted source for free online calculators. Accurate, fast, and reliable calculations for every need.</p>
<div class="flex space-x-4">
<a aria-label="Twitter" class="text-gray-400 hover:text-white" href="#">
<svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg>
</a>
<a aria-label="Facebook" class="text-gray-400 hover:text-white" href="#">
<svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path></svg>
</a>
</div>
</div>
<div>
<h4 class="text-lg font-semibold mb-4">Categories</h4>
<ul class="space-y-2">
<li><a class="text-gray-400 hover:text-white" href="finance.html">Finance</a></li>
<li><a class="text-gray-400 hover:text-white" href="health-fitness.html">Health &amp; Fitness</a></li>
<li><a class="text-gray-400 hover:text-white" href="math-conversions.html">Math &amp; Conversions</a></li>
<li><a class="text-gray-400 hover:text-white" href="lifestyle-everyday.html">Lifestyle &amp; Everyday</a></li>
<li><a class="text-gray-400 hover:text-white" href="construction-diy.html">Construction &amp; DIY</a></li>
</ul>
</div>
<div>
<h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
<ul class="space-y-2">
<li><a class="text-gray-400 hover:text-white" href="mortgage-payment.html">Mortgage Calculator</a></li>
<li><a class="text-gray-400 hover:text-white" href="percentage-calculator.html">Percentage Calculator</a></li>
<li><a class="text-gray-400 hover:text-white" href="bmi-calculator.html">BMI Calculator</a></li>
<li><a class="text-gray-400 hover:text-white" href="auto-loan-calculator.html">Auto Loan Calculator</a></li>
<li><a class="text-gray-400 hover:text-white" href="house-affordability.html">House Affordability</a></li>
</ul>
</div>
<div>
<h4 class="text-lg font-semibold mb-4">Support</h4>
<ul class="space-y-2">
<li><a class="text-gray-400 hover:text-white" href="#">About Us</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Contact</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Privacy Policy</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Terms of Service</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Site Map</a></li>
</ul>
</div>
</div>
<div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
<p>© 2025 CalcDomain. All Rights Reserved. | Free Online Calculators for Everyone</p>
</div>
</div>
</footer></body></html>
<script defer="">
    (function(){
      'use strict';

      // Utilities
      const $ = (sel, ctx=document) => ctx.querySelector(sel);
      const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
      const setText = (el, text) => { el.textContent = text; };
      const show = el => el.hidden = false;
      const hide = el => el.hidden = true;

      // Elements
      const modeRadios = $$('input[name="calcMode"]');
      const panelEquation = $('#panel-equation');
      const panelSystem = $('#panel-system');

      const equationInput = $('#equationInput');
      const variableInput = $('#variableInput');
      const methodSelect = $('#methodSelect');
      const minInput = $('#minInput');
      const maxInput = $('#maxInput');
      const tolInput = $('#toleranceInput');
      const maxIterInput = $('#maxIterInput');

      const solveBtn = $('#solveBtn');
      const resetBtn = $('#resetBtn');

      const statusValue = $('#statusValue');
      const solutionsBlock = $('#solutionsBlock');
      const solutionsValue = $('#solutionsValue');
      const residualBlock = $('#residualBlock');
      const residualValue = $('#residualValue');
      const methodBlock = $('#methodBlock');
      const methodValue = $('#methodValue');
      const stepsEl = $('#steps');
      const results = $('#results');

      const eqError = $('#equationError');
      const varError = $('#variableError');
      const intervalError = $('#intervalError');
      const tolError = $('#tolError');
      const iterError = $('#iterError');

      // Tooltips
      $$('.tip-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('aria-controls');
          const tip = document.getElementById(id);
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          tip.setAttribute('aria-hidden', String(expanded));
        });
      });

      // Mode toggle
      function setMode(mode){
        if (mode === 'equation'){
          panelEquation.removeAttribute('hidden');
          panelSystem.setAttribute('hidden','');
        } else {
          panelSystem.removeAttribute('hidden');
          panelEquation.setAttribute('hidden','');
        }
        clearResults();
      }
      modeRadios.forEach(r => r.addEventListener('change', (e)=> setMode(e.target.value)));
      setMode('equation');

      // Validation (on blur)
      function validateEquation(){
        const v = equationInput.value.trim();
        if (!v) { eqError.textContent = 'Please enter an equation (e.g., 2*x + 5 = 19).'; equationInput.setAttribute('aria-invalid','true'); return false; }
        if (!v.includes('=')) { eqError.textContent = 'Equation must contain an equals sign “=”.'; equationInput.setAttribute('aria-invalid','true'); return false; }
        eqError.textContent = ''; equationInput.removeAttribute('aria-invalid'); return true;
      }
      function validateVariable(){
        const v = variableInput.value.trim();
        if (!v) { varError.textContent = 'Enter a variable name (e.g., x).'; variableInput.setAttribute('aria-invalid','true'); return false; }
        if (!/^[A-Za-z]$/.test(v)) { varError.textContent = 'Use a single letter (A–Z).'; variableInput.setAttribute('aria-invalid','true'); return false; }
        varError.textContent = ''; variableInput.removeAttribute('aria-invalid'); return true;
      }
      function validateInterval(){
        const min = Number(minInput.value);
        const max = Number(maxInput.value);
        if (!isFinite(min) || !isFinite(max)) { intervalError.textContent = 'Min and Max must be valid numbers.'; return false; }
        if (min >= max) { intervalError.textContent = 'Min must be less than Max.'; return false; }
        intervalError.textContent = ''; return true;
      }
      function validateTol(){
        const t = Number(tolInput.value);
        if (!(t > 0)) { tolError.textContent = 'Tolerance must be positive (e.g., 1e-8).'; return false; }
        tolError.textContent = ''; return true;
      }
      function validateIter(){
        const it = Number(maxIterInput.value|0);
        if (!(it >= 1)) { iterError.textContent = 'Max iterations must be at least 1.'; return false; }
        iterError.textContent = ''; return true;
      }
      equationInput.addEventListener('blur', validateEquation);
      variableInput.addEventListener('blur', validateVariable);
      minInput.addEventListener('blur', validateInterval);
      maxInput.addEventListener('blur', validateInterval);
      tolInput.addEventListener('blur', validateTol);
      maxIterInput.addEventListener('blur', validateIter);

      // System grid builder
      const sysSizeSel = $('#sysSize');
      const sysGrid = $('#sysGrid');
      const sysError = $('#sysError');
      function buildSystemGrid(n = Number(sysSizeSel.value)){
        sysGrid.innerHTML = '';
        sysGrid.style.gridTemplateColumns = `repeat(${n+1}, 1fr)`;
        for (let r=0;r<n;r++){
          for (let c=0;c<n;c++){
            const id = `a_${r}_${c}`;
            const wrapper = document.createElement('div');
            const label = document.createElement('label');
            label.className='sr-only'; label.setAttribute('for', id);
            label.textContent = `A[${r+1},${c+1}]`;
            const input = document.createElement('input');
            input.type='number'; input.step='any'; input.id=id; input.placeholder='0'; input.style.minWidth='0';
            input.setAttribute('aria-label', `A[${r+1},${c+1}]`);
            wrapper.appendChild(label); wrapper.appendChild(input);
            sysGrid.appendChild(wrapper);
          }
          // b column
          const idb = `b_${r}`;
          const wrapb = document.createElement('div');
          const labelb = document.createElement('label');
          labelb.className='sr-only'; labelb.setAttribute('for', idb);
          labelb.textContent = `b[${r+1}]`;
          const inputb = document.createElement('input');
          inputb.type='number'; inputb.step='any'; inputb.id=idb; inputb.placeholder='b';
          inputb.setAttribute('aria-label', `b[${r+1}]`);
          wrapb.appendChild(labelb); wrapb.appendChild(inputb);
          sysGrid.appendChild(wrapb);
        }
      }
      sysSizeSel.addEventListener('change', ()=>buildSystemGrid(Number(sysSizeSel.value)));
      buildSystemGrid();

      // Parsing and evaluation for single equation
      const Ops = {
        '+':{p:1, a:'L', fn:(a,b)=>a+b},
        '-':{p:1, a:'L', fn:(a,b)=>a-b},
        '*':{p:2, a:'L', fn:(a,b)=>a*b},
        '/':{p:2, a:'L', fn:(a,b)=>a/b},
        '^':{p:3, a:'R', fn:(a,b)=>Math.pow(a,b)},
      };
      const Functions = {
        'sin':Math.sin, 'cos':Math.cos, 'tan':Math.tan,
        'asin':Math.asin, 'acos':Math.acos, 'atan':Math.atan,
        'log':(x)=>Math.log10(x), 'ln':Math.log, 'exp':Math.exp,
        'sqrt':Math.sqrt, 'abs':Math.abs
      };
      function tokenize(expr, varName){
        const tokens=[]; let i=0; const s=expr.replace(/\s+/g,'');
        const isVar = ch => ch === varName;
        while(i<s.length){
          const ch=s[i];
          if (/[0-9.]/.test(ch)){
            let j=i+1; while(j<s.length && /[0-9.eE+-]/.test(s[j])){ if ((s[j]==='+'||s[j]==='-') && (s[j-1]!=='e'&&s[j-1]!=='E')) break; j++; }
            tokens.push({type:'num', val:Number(s.slice(i,j))});
            i=j; continue;
          }
          if (/[A-Za-z]/.test(ch)){
            // variable or function
            let j=i+1; while(j<s.length && /[A-Za-z0-9_]/.test(s[j])) j++;
            const name=s.slice(i,j);
            if (name===varName) tokens.push({type:'var', val:name});
            else if (Functions[name]) tokens.push({type:'fn', val:name});
            else throw new Error(`Unknown symbol: ${name}`);
            i=j; continue;
          }
          if ('+-*/^(),='.includes(ch)){
            if (ch===',') { tokens.push({type:'comma'}); i++; continue; }
            if (ch==='('||ch===')'){ tokens.push({type:'paren', val:ch}); i++; continue; }
            if (ch==='='){ tokens.push({type:'eq'}); i++; continue; }
            if ('+-*/^'.includes(ch)){
              // unary minus detection
              const prev = tokens[tokens.length-1];
              if (ch==='-' && (!prev || (prev.type!=='num' && prev.type!=='var' && !(prev.type==='paren' && prev.val===')')) )){
                tokens.push({type:'num', val:0}); // turn unary -x into 0 - x
              }
              tokens.push({type:'op', val:ch});
              i++; continue;
            }
          }
          throw new Error(`Unexpected character: ${ch}`);
        }
        return tokens;
      }
      function toRPN(expr, varName){
        const out=[]; const st=[];
        const tok = tokenize(expr, varName);
        for (let i=0;i<tok.length;i++){
          const t = tok[i];
          if (t.type==='num' || t.type==='var') out.push(t);
          else if (t.type==='fn') st.push(t);
          else if (t.type==='op'){
            const o1 = t.val;
            while (st.length){
              const top = st[st.length-1];
              if (top.type==='op'){
                const o2 = top.val;
                if ( (Ops[o2].p > Ops[o1].p) || (Ops[o2].p===Ops[o1].p && Ops[o1].a==='L') ){
                  out.push(st.pop()); continue;
                }
              } else if (top.type==='fn'){
                out.push(st.pop()); continue;
              }
              break;
            }
            st.push(t);
          } else if (t.type==='paren'){
            if (t.val==='(') st.push(t);
            else {
              while (st.length && !(st[st.length-1].type==='paren' && st[st.length-1].val==='(')) out.push(st.pop());
              if (!st.length) throw new Error('Mismatched parentheses');
              st.pop(); // remove '('
              // if function on top, pop it
              if (st.length && st[st.length-1].type==='fn') out.push(st.pop());
            }
          } else if (t.type==='comma'){
            while (st.length && !(st[st.length-1].type==='paren' && st[st.length-1].val==='(')) out.push(st.pop());
            if (!st.length) throw new Error('Misplaced comma');
          } else if (t.type==='eq'){
            out.push({type:'eq'});
          }
        }
        while (st.length){
          const t=st.pop();
          if (t.type==='paren') throw new Error('Mismatched parentheses');
          out.push(t);
        }
        return out;
      }
      function splitByEq(rpn){
        const idx = rpn.findIndex(t=>t.type==='eq');
        if (idx<0) throw new Error('Equation must contain “=”.');
        return [rpn.slice(0, idx), rpn.slice(idx+1)];
      }
      function evalRPN(rpn, x, varName){
        const st=[];
        for (const t of rpn){
          if (t.type==='num') st.push(t.val);
          else if (t.type==='var') st.push(x);
          else if (t.type==='op'){
            const b=st.pop(), a=st.pop();
            const res = Ops[t.val].fn(a,b);
            if (!isFinite(res)) throw new Error('Numeric overflow/invalid operation.');
            st.push(res);
          } else if (t.type==='fn'){
            const a=st.pop();
            const fn = Functions[t.val];
            const res = fn(a);
            if (!isFinite(res)) throw new Error('Function returned invalid value.');
            st.push(res);
          }
        }
        if (st.length!==1) throw new Error('Malformed expression.');
        return st[0];
      }
      function fFromEquation(rpn, varName){
        const [L,R] = splitByEq(rpn);
        return (x) => evalRPN(L, x, varName) - evalRPN(R, x, varName);
      }
      // Attempt polynomial extraction up to degree 2 for symbolic solution
      function polyFromRPN(rpn, varName){
        function add(A,B){
          const n = Math.max(A.length, B.length);
          const C = Array(n).fill(0); for (let i=0;i<n;i++) C[i]=(A[i]||0)+(B[i]||0); return C;
        }
        function sub(A,B){
          const n = Math.max(A.length, B.length);
          const C = Array(n).fill(0); for (let i=0;i<n;i++) C[i]=(A[i]||0)-(B[i]||0); return C;
        }
        function mul(A,B){
          const C = Array(A.length + B.length - 1).fill(0);
          for (let i=0;i<A.length;i++) for (let j=0;j<B.length;j++) C[i+j]+=A[i]*B[j];
          return C;
        }
        function divScalar(A,s){ if (s===0) throw new Error('Division by zero.'); return A.map(c=>c/s); }
        function powPoly(A, n){
          if (n<0 || n!==Math.floor(n)) throw new Error('Non-integer power not supported for symbolic.');
          let R=[1]; for (let i=0;i<n;i++) R = mul(R, A); return R;
        }
        const st=[];
        for (const t of rpn){
          if (t.type==='num') st.push([t.val]); // constant poly
          else if (t.type==='var') st.push([0,1]); // x
          else if (t.type==='op'){
            if (t.val === '+'){ const b=st.pop(), a=st.pop(); st.push(add(a,b)); }
            else if (t.val === '-'){ const b=st.pop(), a=st.pop(); st.push(sub(a,b)); }
            else if (t.val === '*'){ const b=st.pop(), a=st.pop(); st.push(mul(a,b)); }
            else if (t.val === '/'){
              const b=st.pop(), a=st.pop();
              if (b.length!==1) throw new Error('Polynomial division only by scalar supported.');
              st.push(divScalar(a,b[0]));
            } else if (t.val === '^'){
              const b=st.pop(), a=st.pop();
              if (b.length!==1) throw new Error('Exponent must be a scalar.');
              st.push(powPoly(a, Math.round(b[0])));
            }
          } else if (t.type==='fn'){
            throw new Error('Functions are not supported in symbolic mode.');
          }
        }
        if (st.length!==1) throw new Error('Malformed polynomial.');
        return st[0]; // coefficients [c0, c1, c2, ...]
      }
      function trimPoly(A){
        let i=A.length-1; while (i>0 && Math.abs(A[i])<1e-14) i--; return A.slice(0,i+1);
      }
      function solveLinear(a,b){
        if (Math.abs(a) < 1e-16) return {type:'degenerate'};
        return {type:'ok', roots:[-b/a]};
      }
      function solveQuadratic(a,b,c){
        if (Math.abs(a) < 1e-16) return solveLinear(b,c);
        const D = b*b - 4*a*c;
        if (D > 0){
          const s = Math.sqrt(D);
          const x1 = (-b - Math.sign(b)*s)/(2*a); // stable
          const x2 = c/(a*x1);
          return {type:'real', roots:[x1,x2], discriminant:D};
        } else if (Math.abs(D) <= 1e-16){
          const x = -b/(2*a);
          return {type:'real', roots:[x], discriminant:0};
        } else {
          const s = Math.sqrt(-D);
          const re = -b/(2*a);
          const im = s/(2*a);
          return {type:'complex', roots:[{re,im},{re,im:-im}], discriminant:D};
        }
      }
      // Numeric root finding (real)
      function bisect(fn, L, R, tol, maxIter){
        let fL = fn(L), fR = fn(R);
        if (!isFinite(fL) || !isFinite(fR)) return null;
        if (fL === 0) return L;
        if (fR === 0) return R;
        if (fL*fR > 0) return null;
        let m=L, fm=0;
        for (let i=0;i<maxIter;i++){
          m = 0.5*(L+R);
          fm = fn(m);
          if (!isFinite(fm)) return null;
          if (Math.abs(fm) <= tol || Math.abs(R-L) <= tol) break;
          if (fL*fm <= 0){ R = m; fR = fm; } else { L = m; fL = fm; }
        }
        return m;
      }
      function newtonRefine(fn, x0, tol, maxIter){
        let x=x0;
        for (let i=0;i<maxIter;i++){
          const h = Math.max(1e-6, Math.abs(x)*1e-6);
          const fx = fn(x);
          if (!isFinite(fx)) break;
          const d = (fn(x+h)-fn(x-h))/(2*h);
          if (!isFinite(d) || Math.abs(d) < 1e-16) break;
          const x1 = x - fx/d;
          if (!isFinite(x1)) break;
          if (Math.abs(x1 - x) <= tol) return x1;
          x = x1;
        }
        return x;
      }
      function uniquePush(arr, val, eps=1e-7){
        for (const v of arr) if (Math.abs(v - val) <= eps*(1+Math.abs(v))) return false;
        arr.push(val); return true;
      }
      function findRootsNumeric(fn, L, R, tol, maxIter){
        const roots=[];
        const N = 400;
        let prevX=L, prevF=fn(L);
        for (let i=1;i<=N;i++){
          const x = L + (i*(R-L))/N;
          const f = fn(x);
          if (!isFinite(f)){ prevX=x; prevF=f; continue; }
          // sign change
          if (isFinite(prevF) && prevF*f <= 0){
            const b = bisect(fn, prevX, x, tol, maxIter) ?? x;
            const r = newtonRefine(fn, b, tol, maxIter);
            uniquePush(roots, r, Math.sqrt(tol));
          }
          prevX=x; prevF=f;
        }
        // try Newton from a coarse grid to catch even-multiplicity roots
        for (let i=0;i<=20;i++){
          const guess = L + (i*(R-L))/20;
          const r = newtonRefine(fn, guess, tol, maxIter);
          const fr = fn(r);
          if (isFinite(fr) && Math.abs(fr) <= Math.max(tol, 1e-8)){
            uniquePush(roots, r, Math.sqrt(tol));
          }
        }
        roots.sort((a,b)=>a-b);
        return roots;
      }

      // System solver (Gaussian elimination with partial pivoting)
      function solveLinearSystem(A, b){
        const n = A.length;
        // build augmented matrix
        const M = A.map((row,i)=> row.concat([b[i]]));
        // elimination
        for (let k=0;k<n;k++){
          // pivot
          let piv=k;
          for (let i=k+1;i<n;i++) if (Math.abs(M[i][k]) > Math.abs(M[piv][k])) piv=i;
          if (Math.abs(M[piv][k]) < 1e-15) {
            // check consistency
            let inconsistent = false;
            for (let i=k;i<n;i++){
              const allZero = M[i].slice(0,n).every(v=>Math.abs(v) < 1e-15);
              if (allZero && Math.abs(M[i][n]) > 1e-12){ inconsistent = true; break; }
            }
            return { status: inconsistent ? 'inconsistent' : 'singular' };
          }
          if (piv !== k){ const tmp = M[k]; M[k] = M[piv]; M[piv] = tmp; }
          // normalize and eliminate
          const pivot = M[k][k];
          for (let j=k;j<=n;j++) M[k][j] /= pivot;
          for (let i=0;i<n;i++){
            if (i===k) continue;
            const factor = M[i][k];
            for (let j=k;j<=n;j++) M[i][j] -= factor * M[k][j];
          }
        }
        // results last column
        return { status:'ok', x: M.map(row=>row[n]), steps:M };
      }

      function clearResults(){
        setText(statusValue, 'Awaiting input');
        hide(solutionsBlock); hide(residualBlock); hide(methodBlock);
        stepsEl.innerHTML = '';
      }

      // Solve button
      solveBtn.addEventListener('click', ()=>{
        results.setAttribute('aria-busy','true');
        clearResults();

        const mode = $('input[name="calcMode"]:checked').value;

        if (mode === 'equation'){
          if (!validateEquation() | !validateVariable() | !validateInterval() | !validateTol() | !validateIter()){
            setText(statusValue, 'Please correct the highlighted fields.');
            results.setAttribute('aria-busy','false');
            return;
          }
          try{
            const variable = variableInput.value.trim();
            const rpn = toRPN(equationInput.value, variable);
            const [Lr, Rr] = splitByEq(rpn);
            const method = methodSelect.value;
            const tol = Number(tolInput.value);
            const it = Number(maxIterInput.value);
            const L = Number(minInput.value), R = Number(maxInput.value);

            // Try symbolic if allowed
            let usedMethod = '';
            let sols = [];
            let residuals = [];
            let stepDetails = '';

            const trySymbolic = (method === 'symbolic' || method === 'auto');
            let symbolicDone = false;

            if (trySymbolic){
              try{
                const pL = trimPoly(polyFromRPN(Lr, variable));
                const pR = trimPoly(polyFromRPN(Rr, variable));
                const p = trimPoly((() => {
                  // subtract arrays
                  const n = Math.max(pL.length, pR.length);
                  const C = Array(n).fill(0);
                  for (let i=0;i<n;i++) C[i] = (pL[i]||0) - (pR[i]||0);
                  return C;
                })());
                const deg = p.length-1;
                if (deg === 1){
                  const a = p[1], b = p[0];
                  const res = solveLinear(a,b);
                  if (res.type==='ok'){
                    sols = res.roots;
                    usedMethod = 'Symbolic (linear)';
                    stepDetails = `
                      <h3>Step-by-step (Linear)</h3>
                      <ol>
                        <li>Bring all terms to one side: form a·x + b = 0.</li>
                        <li>Identify a = ${fmt(a)}, b = ${fmt(b)}.</li>
                        <li>Apply x = -b/a → x = ${fmt(-b)}/${fmt(a)} = <strong>${fmt(sols[0])}</strong>.</li>
                      </ol>`;
                    symbolicDone = true;
                  }
                } else if (deg === 2){
                  const [c,b,a] = [p[0]||0, p[1]||0, p[2]||0];
                  const res = solveQuadratic(a,b,c);
                  usedMethod = 'Symbolic (quadratic)';
                  if (res.type==='real'){
                    sols = res.roots;
                    stepDetails = `
                      <h3>Step-by-step (Quadratic)</h3>
                      <ol>
                        <li>Bring all terms to one side: form a·x² + b·x + c = 0.</li>
                        <li>Identify a = ${fmt(a)}, b = ${fmt(b)}, c = ${fmt(c)}.</li>
                        <li>Discriminant Δ = b² − 4ac = ${fmt(b*b - 4*a*c)}.</li>
                        <li>Solutions: x = (-b ± √Δ) / (2a) → <strong>${sols.map(fmt).join(', ')}</strong>.</li>
                      </ol>`;
                  } else if (res.type==='complex'){
                    sols = res.roots.map(z => z); // complex
                    stepDetails = `
                      <h3>Step-by-step (Quadratic with complex roots)</h3>
                      <ol>
                        <li>a = ${fmt(a)}, b = ${fmt(b)}, c = ${fmt(c)}.</li>
                        <li>Δ = ${fmt(res.discriminant)} &lt; 0 ⇒ complex conjugate roots.</li>
                        <li>Solutions: x = ${fmt(-b/(2*a))} ± ${fmt(Math.sqrt(-res.discriminant)/(2*a))}·i.</li>
                      </ol>`;
                  }
                  symbolicDone = true;
                }
              } catch(e){ /* not polynomial / not supported */ }
            }

            if (!symbolicDone && method !== 'symbolic'){
              // Numeric fallback
              const f = fFromEquation(rpn, variable);
              const roots = findRootsNumeric(f, L, R, tol, it);
              sols = roots;
              usedMethod = 'Numeric (bracketing + Newton refinement)';
              stepDetails = `
                <h3>Method Notes</h3>
                <ul>
                  <li>Scanned the interval [${fmt(L)}, ${fmt(R)}] for sign changes.</li>
                  <li>Bracketed roots refined by bisection, then Newton method with central-difference derivative.</li>
                  <li>Tolerance: ${tol}, Max iterations: ${it}.</li>
                </ul>`;
            }

            // Present results
            if (!sols || sols.length===0){
              setText(statusValue, 'No roots found in the specified settings.');
              hide(solutionsBlock); hide(residualBlock); hide(methodBlock);
            } else {
              // compute residuals on real values (skip complex)
              let maxRes = 0;
              const realSols = sols.filter(v => typeof v === 'number' && isFinite(v));
              try{
                const f = fFromEquation(rpn, variable);
                residuals = realSols.map(x => Math.abs(f(x)));
                maxRes = residuals.length? Math.max(...residuals) : 0;
              }catch(_){}
              show(solutionsBlock);
              if (typeof sols[0] === 'number'){
                solutionsValue.innerHTML = sols.map(x=>`<span class="kbd">${variable} = ${fmt(x)}</span>`).join(' ');
              } else {
                // complex case for quadratic
                const formatZ = (z)=> `${variable} = ${fmt(z.re)} ${z.im>=0?'+':'−'} ${fmt(Math.abs(z.im))}i`;
                solutionsValue.innerHTML = sols.map(z=>`<span class="kbd">${formatZ(z)}</span>`).join(' ');
              }
              show(methodBlock); setText(methodValue, usedMethod);
              if (realSols.length){
                show(residualBlock); setText(residualValue, residuals.length? residuals.map(fmtSci).join(', ') : 'n/a');
              } else {
                hide(residualBlock);
              }
              stepsEl.innerHTML = stepDetails;
              setText(statusValue, 'Success');
            }
          }catch(err){
            setText(statusValue, 'Parsing error');
            eqError.textContent = err.message || 'Invalid equation.';
            equationInput.setAttribute('aria-invalid','true');
          }
          results.setAttribute('aria-busy','false');
        } else {
          // System mode
          sysError.textContent = '';
          const n = Number(sysSizeSel.value);
          const A = Array.from({length:n}, (_,r)=>Array.from({length:n},(_,c)=>{
            const el = document.getElementById(`a_${r}_${c}`);
            const v = el.value.trim(); return v===''?0:Number(v);
          }));
          const b = Array.from({length:n}, (_,r)=>{
            const el = document.getElementById(`b_${r}`);
            const v = el.value.trim(); return v===''?0:Number(v);
          });
          // Validate numbers
          let ok = true;
          for (let r=0;r<n;r++){
            for (let c=0;c<n;c++){
              if (!isFinite(A[r][c])) ok=false;
            }
            if (!isFinite(b[r])) ok=false;
          }
          if (!ok){
            sysError.textContent = 'Please enter valid numeric coefficients.';
            setText(statusValue, 'Please correct the highlighted fields.');
            results.setAttribute('aria-busy','false');
            return;
          }
          const sol = solveLinearSystem(A,b);
          if (sol.status==='ok'){
            show(solutionsBlock);
            solutionsValue.innerHTML = sol.x.map((v,i)=>`<span class="kbd">x${i+1} = ${fmt(v)}</span>`).join(' ');
            show(methodBlock); setText(methodValue, 'Gaussian elimination (partial pivoting)');
            hide(residualBlock);
            // Steps (show reduced row-echelon augmented matrix)
            const rows = sol.steps.map(row => row.map((v,j)=> j===row.length-1 ? `| ${fmt(v)}` : fmt(v)).join('  ')).join('<br>');
            stepsEl.innerHTML = `<h3>Elimination Trace (Augmented Matrix)</h3><pre style="overflow:auto; white-space:pre-wrap; font-family:var(--font-mono); background:#f8f9fb; padding:.75rem; border-radius:8px">${rows}</pre>`;
            setText(statusValue, 'Success');
          } else if (sol.status==='inconsistent'){
            setText(statusValue, 'No solution (inconsistent system).');
            hide(solutionsBlock); hide(residualBlock); show(methodBlock); setText(methodValue, 'Gaussian elimination');
            stepsEl.innerHTML = '<p>The system is inconsistent: a row reduced to [0 … 0 | nonzero].</p>';
          } else {
            setText(statusValue, 'Infinite solutions or singular matrix.');
            hide(solutionsBlock); hide(residualBlock); show(methodBlock); setText(methodValue, 'Gaussian elimination');
            stepsEl.innerHTML = '<p>The matrix is singular; the system may have infinitely many solutions. Provide additional constraints or adjust coefficients.</p>';
          }
          results.setAttribute('aria-busy','false');
        }
      });

      // Reset button
      resetBtn.addEventListener('click', ()=>{
        equationInput.value = '';
        variableInput.value = 'x';
        methodSelect.value = 'auto';
        minInput.value = '-100';
        maxInput.value = '100';
        tolInput.value = '1e-8';
        maxIterInput.value = '100';
        eqError.textContent = ''; varError.textContent=''; intervalError.textContent=''; tolError.textContent=''; iterError.textContent='';
        sysError.textContent = '';
        $$('input[type="number"]', sysGrid).forEach(i=>i.value='');
        clearResults();
        equationInput.focus();
      });

      // Formatting helpers
      function fmt(n){ if (typeof n!=='number' || !isFinite(n)) return String(n); const a=Math.abs(n); if (a!==0 && (a<1e-6||a>=1e7)) return n.toExponential(6); return Number(n.toFixed(12)).toString(); }
      function fmtSci(n){ if (!isFinite(n)) return String(n); return n.toExponential(2); }

      // Accessibility enhancements: keyboard toggle tooltips with Enter/Space
      $$('.tip-btn').forEach(btn=>{
        btn.addEventListener('keydown', (e)=>{
          if (e.key==='Enter' || e.key===' '){ e.preventDefault(); btn.click(); }
        });
      });
    })();
  </script>

<html><head><script defer="" src="/assets/js/mobile-menu.js"></script></head></html></body></html>