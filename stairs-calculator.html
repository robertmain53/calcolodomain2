<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stairs Calculator - Calculate Riser, Tread & Stringer</title>
<meta name="description" content="Calculate the number of steps, riser height, tread depth, and stringer length for your stairs. Compliant with building codes. Includes diagrams and formulas.">
<link rel="canonical" href="https://calcdomain.com/stairs-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
/* Accessibility & UX Enhancements */
*:focus-visible { outline: 3px solid #3b82f6; outline-offset: 2px; border-radius: 4px; }
.error-message { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
-webkit-appearance: none; 
margin: 0; 
}
input[type=number] { -moz-appearance: textfield; }
/* CLS Prevention */
#results { min-height: 250px; }
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Stairs Calculator",
      "description": "Calculate the number of steps, riser height, tread depth, and stringer length for your stairs. Compliant with building codes. Includes diagrams and formulas.",
      "url": "https://calcdomain.com/stairs-calculator.html",
      "inLanguage": "en",
      "author": { "@type": "Person", "name": "Ugo Candido" },
      "publisher": { "@type": "Organization", "name": "CalcDomain" },
      "mainEntity": {
        "@type": "HowTo",
        "name": "How to Calculate Stairs",
        "description": "A step-by-step guide to calculating stair dimensions using building code standards.",
        "step": [
          {
            "@type": "HowToStep",
            "name": "Select Unit System",
            "text": "Choose between Imperial (Inches) or Metric (CM)."
          },
          {
            "@type": "HowToStep",
            "name": "Enter Total Rise",
            "text": "Input the total vertical height from the finished lower floor to the finished upper floor or landing."
          },
          {
            "@type": "HowToStep",
            "name": "Enter Total Run (Optional)",
            "text": "Input the total horizontal distance the stairs will cover. If left blank, it will be calculated based on code-compliant tread depth."
          },
          {
            "@type": "HowToStep",
            "name": "Define Code Constraints",
            "text": "Set the maximum allowed riser height and minimum allowed tread depth based on your local building codes."
          },
          {
            "@type": "HowToStep",
            "name": "Enter Material Dimensions",
            "text": "Input the thickness of your tread boards and the width of your stringer boards for accurate cut calculations."
          },
          {
            "@type": "HowToStep",
            "name": "Calculate and Review",
            "text": "Click 'Calculate' to see all results, including number of steps, riser/tread dimensions, stair angle, and stringer cut details."
          }
        ]
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
        { "@type": "ListItem", "position": 2, "name": "Construction", "item": "https://calcdomain.com/construction.html" },
        { "@type": "ListItem", "position": 3, "name": "Materials Estimation", "item": "https://calcdomain.com/subcategories/construction-materials-estimation.html" },
        { "@type": "ListItem", "position": 4, "name": "Stairs Calculator", "item": "https://calcdomain.com/stairs-calculator.html" }
      ]
    }
  ]
}
</script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm sticky top-0 z-50">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
<a href="construction.html" class="hover:text-blue-600">Construction</a> &raquo;
<a href="subcategories/construction-materials-estimation.html" class="hover:text-blue-600">Materials Estimation</a> &raquo;
<span class="text-gray-900">Stairs Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Stairs Calculator</h1>
<p class="text-gray-600 mb-6">This calculator helps you design safe and comfortable stairs by determining the optimal riser height, tread depth, stringer length, and number of steps. It's ideal for builders, architects, and DIYers ensuring compliance with standard building codes.</p>

<section id="calculator-ui" class="space-y-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="unitSystem" class="block text-sm font-medium text-gray-700">Unit System</label>
<select id="unitSystem"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="imperial" selected>Imperial (Inches)</option>
<option value="metric">Metric (CM)</option>
</select>
</div>
<div>
</div>

<div>
<label for="totalRise" class="block text-sm font-medium text-gray-700">Total Rise (Overall Height) <span class="text-red-500">*</span></label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="totalRise" step="0.1" min="1" aria-required="true"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
placeholder="e.g., 108" aria-describedby="totalRise-error">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
<p id="totalRise-error" class="error-message" aria-live="assertive"></p>
</div>

<div>
<label for="totalRun" class="block text-sm font-medium text-gray-700">Total Run (Horizontal Length)</label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="totalRun" step="0.1" min="1"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12"
placeholder="Optional, e.g., 130" aria-describedby="totalRun-error">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
<p id="totalRun-error" class="error-message" aria-live="assertive"></p>
</div>

<div>
<label for="maxRiser" class="block text-sm font-medium text-gray-700">Max Riser Height (Code)</label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="maxRiser" value="7.75" step="0.01" min="1"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
</div>

<div>
<label for="minTread" class="block text-sm font-medium text-gray-700">Min Tread Depth (Code)</label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="minTread" value="10" step="0.01" min="1"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
</div>

<div>
<label for="treadThickness" class="block text-sm font-medium text-gray-700">Tread Thickness</label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="treadThickness" value="1.5" step="0.01" min="0"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
</div>

<div>
<label for="stringerWidth" class="block text-sm font-medium text-gray-700">Stringer Board Width</label>
<div class="mt-1 relative rounded-md shadow-sm">
<input type="number" id="stringerWidth" value="11.25" step="0.01" min="1"
class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-12">
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-gray-500 sm:text-sm unit-label">in</span>
</div>
</div>
</div>
</div>

<div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
<button type="button" id="calculateBtn" class="w-full bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
Calculate
</button>
<button type="button" id="resetBtn" class="w-full bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors">
Reset
</button>
</div>
</section>

<section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6">
<div id="results-content" class="hidden">
<div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
<div class="result-card">
<h4>Number of Risers</h4>
<p id="resNumRisers">—</p>
</div>
<div class="result-card">
<h4>Riser Height</h4>
<p id="resRiserHeight">—</p>
</div>
<div class="result-card">
<h4>Number of Treads</h4>
<p id="resNumTreads">—</p>
</div>
<div class="result-card">
<h4>Tread Depth</h4>
<p id="resTreadDepth">—</p>
</div>
<div class="result-card">
<h4>Total Run</h4>
<p id="resTotalRun">—</p>
</div>
<div class="result-card">
<h4>Stair Angle</h4>
<p id="resAngle">—</p>
</div>
<div class="result-card sm:col-span-2">
<h4>Stringer Length</h4>
<p id="resStringerLength">—</p>
</div>
</div>

<div id="compliance-warning" class="mt-4 p-3 bg-yellow-100 border border-yellow-300 text-yellow-800 rounded-md text-sm" role="alert" style="display: none;">
</div>

<div class="mt-6 p-4 bg-white rounded-lg shadow">
<h3 class="text-lg font-semibold text-gray-900 mb-2 text-center">Stair Stringer Layout</h3>

<p class="text-sm text-gray-600 text-center mt-2">This diagram illustrates the key components of your stair stringer. (Diagram not to scale)</p>

<details class="mt-4" id="cutsDetails">
<summary class="font-semibold text-gray-800">View Stringer Cut Details</summary>
<div class="mt-2 overflow-x-auto border border-gray-200 rounded-lg">
<table class="min-w-full text-sm">
<thead class="bg-gray-100 text-gray-700 uppercase">
<tr>
<th class="px-4 py-2 text-left">Component</th>
<th class="px-4 py-2 text-left">Dimension</th>
<th class="px-4 py-2 text-left">Notes</th>
</tr>
</thead>
<tbody id="cutsBody" class="text-gray-800">
<tr>
<td class="px-4 py-2 font-medium">Bottom Riser</td>
<td class="px-4 py-2" id="cutBottomRiser"> — </td>
<td class="px-4 py-2 text-xs text-gray-600">Adjusted for tread thickness</td>
</tr>
<tr>
<td class="px-4 py-2 font-medium">Standard Riser</td>
<td class="px-4 py-2" id="cutRiser"> — </td>
<td class="px-4 py-2 text-xs text-gray-600">All risers except bottom</td>
</tr>
<tr>
<td class="px-4 py-2 font-medium">Standard Tread</td>
<td class="px-4 py-2" id="cutTread"> — </td>
<td class="px-4 py-2 text-xs text-gray-600">Cut dimension on stringer</td>
</tr>
<tr>
<td class="px-4 py-2 font-medium">Stringer Throat</td>
<td class="px-4 py-2" id="cutThroat"> — </td>
<td class="px-4 py-2 text-xs text-gray-600">Min 5" (12.7cm) recommended</td>
</tr>
</tbody>
</table>
</div>
</details>
</div>
</div>
<p id="results-placeholder" class="text-center text-gray-500">Your calculated results will appear here.</p>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose prose-blue">
<h2>Data Source and Methodology</h2>
<p>This calculator is based on the prescriptive standards for stairways found in the <strong>2021 International Residential Code (IRC), Section R311.7 (Stairways)</strong>. This is the foundational building code used across most of the United States.</p>
<p>
<strong>Source:</strong> International Code Council (ICC)
<br>
<strong>Reference:</strong> 2021 IRC, Section R311.7.5 (Risers and treads)
<br>
<strong>Date:</strong> 2021
<br>
<strong>Link:</strong> <a href="https://codes.iccsafe.org/content/IRC2021P2/chapter-3-building-planning#IRC2021P2_Pt03_Ch03_SecR311.7" target="_blank" rel="noopener nofollow">View IRC R311.7</a>
</p>
<p>All calculations strictly adhere to the formulas and constraints derived from this source. The calculator determines the number of risers by dividing the total rise by the maximum allowed riser height, then recalculates for uniform dimensions, as required by **R311.7.5.1 (Dimensional uniformity)**.</p>

<h2>The Formulas Explained</h2>
<p>The core logic of stair calculation involves a few key steps to ensure safety and compliance.</p>
<div class="formula-box">
<p>1. Calculate Number of Risers (rounded up):
$$ RiserCount = \lceil \frac{TotalRise}{MaxRiserHeight} \rceil $$
</p>
<p>2. Calculate Actual Riser Height:
$$ RiserHeight = \frac{TotalRise}{RiserCount} $$
</p>
<p>3. Calculate Number of Treads:
$$ TreadCount = RiserCount - 1 $$
</p>
<p>4. Calculate Tread Depth & Total Run (if Total Run not provided):
$$ \text{Ideal TreadDepth} \approx 25 \text{ inches} - (2 \times RiserHeight) $$
$$ \text{Actual TreadDepth} = \max(\text{Ideal TreadDepth}, \text{MinTreadDepth}) $$
$$ TotalRun = TreadCount \times \text{Actual TreadDepth} $$
</p>
<p>5. Calculate Stringer Length (Pythagorean Theorem):
$$ StringerLength = \sqrt{TotalRise^2 + TotalRun^2} $$
</p>
<p>6. Calculate Bottom Riser Cut (Adjusted for Tread Thickness):
$$ BottomRiserCut = RiserHeight - TreadThickness $$
</p>
</div>

<h2>Glossary of Variables</h2>
<ul class="list-disc pl-5">
<li><strong>Total Rise:</strong> The total vertical distance from the finished lower surface to the finished upper surface.</li>
<li><strong>Total Run:</strong> The total horizontal distance covered by the staircase, from the face of the first riser to the face of the top riser.</li>
<li><strong>Riser:</strong> The vertical component of a step. `RiserHeight` is the height of one step.</li>
<li><strong>Tread:</strong> The horizontal component of a step. `TreadDepth` is the depth of one step, from front to back.</li>
<li><strong>Stringer:</strong> The long diagonal board (typically a 2x12) that supports the treads and risers.</li>
<li><strong>Stair Angle:</strong> The angle of incline of the staircase, typically between 30° and 37°.</li>
<li><strong>Stringer Throat:</strong> The amount of wood remaining on a stringer after the tread and riser "bird's mouth" cuts are made. A minimum of 5 inches (12.7 cm) is recommended for structural integrity.</li>
</ul>

<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's design a stair for a deck with a **Total Rise of 108 inches**.</p>
<p><strong>Inputs:</strong>
<br>
- Total Rise: `108 in`
<br>
- Max Riser Height (Code): `7.75 in`
<br>
- Min Tread Depth (Code): `10 in`
<br>
- Total Run: (Leave blank)
</p>
<ol class="list-decimal pl-5">
<li>
<strong>Calculate Riser Count:</strong>
<br>
$ \frac{108 \text{ in}}{7.75 \text{ in}} = 13.93 $
<br>
We must round up to the next whole number, so we will have **14 risers**.
</li>
<li>
<strong>Calculate Actual Riser Height:</strong>
<br>
$ \frac{108 \text{ in}}{14 \text{ risers}} = \textbf{7.71 in per riser} $
<br>
(This is less than 7.75", so it is compliant).
</li>
<li>
<strong>Calculate Tread Count:</strong>
<br>
$ 14 \text{ risers} - 1 = \textbf{13 treads} $
</li>
<li>
<strong>Calculate Tread Depth:</strong>
<br>
Using the "Rule of 25" (2R + T ≈ 25):
<br>
$ (2 \times 7.71) + T = 25 \rightarrow 15.42 + T = 25 \rightarrow T = 9.58 \text{ in} $
<br>
However, our code minimum is `10 in`. We must use the larger value.
<br>
Actual Tread Depth = **10 inches**.
</li>
<li>
<strong>Calculate Total Run:</strong>
<br>
$ 13 \text{ treads} \times 10 \text{ in} = \textbf{130 \text{ inches}} $
</li>
<li>
<strong>Calculate Stringer Length:</strong>
<br>
$ \sqrt{108^2 + 130^2} = \sqrt{11664 + 16900} = \sqrt{28564} = \textbf{169.01 \text{ inches}} $
</li>
</ol>
<p>The calculator provides all these values instantly, ensuring all steps are uniform and code-compliant.</p>

<h2>Frequently Asked Questions (FAQ)</h2>
<details>
<summary>What is the best riser height for stairs?</summary>
<p>While the 2021 IRC allows a maximum riser height of 7.75 inches (19.7 cm), many builders find that a height between 7 and 7.5 inches is the most comfortable for the average person. This calculator optimizes for a height as close to 7 inches as possible without exceeding your specified maximum.</p>
</details>
<details>
<summary>Why is the bottom riser cut a different size?</summary>
<p>The bottom riser on the stringer is cut shorter to account for the thickness of the first tread board. All other risers will "sit" on top of the tread below them. To make the *finished* height of all steps identical, the very first cut on the stringer (which rests on the subfloor) must be `ActualRiserHeight - TreadThickness`.</p>
</details>
<details>
<summary>How many stringers do I need?</summary>
<p>This calculator determines the *dimensions* of a stringer, not the quantity. As a general rule of thumb for standard wood decking (like 2x6 or 5/4" boards), stringers should be placed a maximum of 16 inches (40.6 cm) on center. For a 36-inch wide staircase, you would typically need 3 stringers.</p>
</details>
<details>
<summary>What is the 3/8-inch (9.5mm) rule for stairs?</summary>
<p>This refers to the IRC R311.7.5.1 (Dimensional uniformity) standard. It states that the variation between the tallest riser and the shortest riser (or deepest tread and shallowest tread) in a single flight of stairs cannot exceed 3/8 of an inch. This calculator eliminates that risk by dividing the total rise and run perfectly, ensuring **zero variation**.</p>
</details>
<details>
<summary>What is "Stringer Throat" and why is it important?</summary>
<p>The "throat" (or "remainder") is the amount of wood left on the stringer after the riser and tread cuts are made. If this area is too thin, the stringer can crack under load. While the IRC R311.7.5 does not specify a minimum throat, a common building standard is to maintain at least 5 inches (12.7 cm) of solid wood for a 2x12 stringer. This calculator estimates this value for you.</p>
</details>
<details>
<summary>Does this calculator work for deck stairs?</summary>
<p>Yes. This calculator is ideal for deck stairs, basement stairs, or any standard (non-spiral, non-winder) staircase. The principles and code requirements are the same.</p>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Construction standards verified by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-31">October 31, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get code-compliant dimensions instantly based on 2021 IRC standards.</li>
<li>Eliminates guesswork and ensures dimensional uniformity (the 3/8" rule).</li>
<li>View stringer cut details, including adjustments for tread thickness.</li>
<li>Visualize the stair angle and total run to ensure a comfortable, safe incline.</li>
<li>Switch between Imperial and Metric units for any project.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Construction Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="concrete-slab-calculator.html" class="text-blue-600 hover:underline">Concrete Slab Calculator</a></li>
<li><a href="decking-calculator.html" class="text-blue-600 hover:underline">Decking Calculator</a></li>
<li><a href="rafter-calculator.html" class="text-blue-600 hover:underline">Rafter Calculator</a></li>
<li><a href="board-foot-calculator.html" class="text-blue-600 hover:underline">Board Foot Calculator</a></li>
<li><a href="rebar-calculator.html" class="text-blue-600 hover:underline">Rebar Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. Element References ---
const elements = {
unitSystem: document.getElementById('unitSystem'),
totalRise: document.getElementById('totalRise'),
totalRun: document.getElementById('totalRun'),
maxRiser: document.getElementById('maxRiser'),
minTread: document.getElementById('minTread'),
treadThickness: document.getElementById('treadThickness'),
stringerWidth: document.getElementById('stringerWidth'),
calculateBtn: document.getElementById('calculateBtn'),
resetBtn: document.getElementById('resetBtn'),
unitLabels: document.querySelectorAll('.unit-label'),
errorTotalRise: document.getElementById('totalRise-error'),
errorTotalRun: document.getElementById('totalRun-error'),
resultsContainer: document.getElementById('results'),
resultsContent: document.getElementById('results-content'),
resultsPlaceholder: document.getElementById('results-placeholder'),
complianceWarning: document.getElementById('compliance-warning'),
res: {
numRisers: document.getElementById('resNumRisers'),
riserHeight: document.getElementById('resRiserHeight'),
numTreads: document.getElementById('resNumTreads'),
treadDepth: document.getElementById('resTreadDepth'),
totalRun: document.getElementById('resTotalRun'),
angle: document.getElementById('resAngle'),
stringerLength: document.getElementById('resStringerLength'),
cutBottomRiser: document.getElementById('cutBottomRiser'),
cutRiser: document.getElementById('cutRiser'),
cutTread: document.getElementById('cutTread'),
cutThroat: document.getElementById('cutThroat')
},
mobileMenuToggle: document.getElementById('mobile-menu-toggle'),
mobileMenu: document.getElementById('mobile-menu')
};

// --- 2. State & Constants ---
const CONVERSION_FACTOR = 2.54; // inches to cm
const IMPERIAL_DEFAULTS = { maxRiser: 7.75, minTread: 10, treadThickness: 1.5, stringerWidth: 11.25, placeholderRise: '108', placeholderRun: '130' };
const METRIC_DEFAULTS = { maxRiser: 19.7, minTread: 25.4, treadThickness: 3.8, stringerWidth: 28.6, placeholderRise: '274', placeholderRun: '330' };
let currentUnit = 'in';

// --- 3. Formatting Functions ---
const fmt = (val, unit, decimals = 2) => {
if (isNaN(val) || val === null) return '—';
return `${val.toFixed(decimals)} ${unit}`;
};
const fmtDeg = (val) => {
if (isNaN(val) || val === null) return '—';
return `${val.toFixed(1)}°`;
};

// --- 4. Core Functions ---

/**
* Toggles the unit system between Imperial and Metric
*/
function toggleUnitSystem() {
const isMetric = elements.unitSystem.value === 'metric';
currentUnit = isMetric ? 'cm' : 'in';
const defaults = isMetric ? METRIC_DEFAULTS : IMPERIAL_DEFAULTS;

// Update unit labels
elements.unitLabels.forEach(label => { label.textContent = currentUnit; });

// Update default constraint values
elements.maxRiser.value = defaults.maxRiser.toFixed(2);
elements.minTread.value = defaults.minTread.toFixed(2);
elements.treadThickness.value = defaults.treadThickness.toFixed(2);
elements.stringerWidth.value = defaults.stringerWidth.toFixed(2);

// Update placeholders
elements.totalRise.placeholder = `e.g., ${defaults.placeholderRise}`;
elements.totalRun.placeholder = `e.g., ${defaults.placeholderRun}`;

// Convert existing values
const fieldsToConvert = [elements.totalRise, elements.totalRun];
fieldsToConvert.forEach(field => {
const val = parseFloat(field.value);
if (val) {
field.value = (isMetric ? (val * CONVERSION_FACTOR) : (val / CONVERSION_FACTOR)).toFixed(2);
}
});

// Clear results and validation
clearValidation();
hideResults();
}

/**
* Validates a single input field
* @returns {boolean} - true if valid, false if invalid
*/
function validateInput(inputEl, errorEl, isRequired = false, min = 0.01) {
const val = inputEl.value;
if (isRequired && !val) {
errorEl.textContent = 'This field is required.';
inputEl.setAttribute('aria-invalid', 'true');
return false;
}
if (val && parseFloat(val) < min) {
errorEl.textContent = `Value must be greater than ${min}.`;
inputEl.setAttribute('aria-invalid', 'true');
return false;
}
errorEl.textContent = '';
inputEl.setAttribute('aria-invalid', 'false');
return true;
}

/**
* Clears all validation error messages
*/
function clearValidation() {
elements.errorTotalRise.textContent = '';
elements.errorTotalRun.textContent = '';
elements.totalRise.setAttribute('aria-invalid', 'false');
elements.totalRun.setAttribute('aria-invalid', 'false');
}

/**
* Hides the results block and shows the placeholder
*/
function hideResults() {
elements.resultsContent.classList.add('hidden');
elements.resultsPlaceholder.classList.remove('hidden');
elements.complianceWarning.style.display = 'none';
}

/**
* Shows the results block and hides the placeholder
*/
function showResults() {
elements.resultsContent.classList.remove('hidden');
elements.resultsPlaceholder.classList.add('hidden');
elements.resultsContainer.scrollIntoView({ behavior: 'smooth' });
}

/**
* Resets the calculator to its default state
*/
function resetCalculator() {
elements.unitSystem.value = 'imperial';
elements.totalRise.value = '';
elements.totalRun.value = '';
clearValidation();
toggleUnitSystem();
hideResults();
}

/**
* The main calculation logic
*/
function calculate() {
clearValidation();
const isValidRise = validateInput(elements.totalRise, elements.errorTotalRise, true, 1);
const isValidRun = validateInput(elements.totalRun, elements.errorTotalRun, false, 1);
if (!isValidRise) {
hideResults();
return;
}

// 1. Get & Parse Inputs
const rise = parseFloat(elements.totalRise.value);
let run = parseFloat(elements.totalRun.value) || 0;
const maxR = parseFloat(elements.maxRiser.value);
const minT = parseFloat(elements.minTread.value);
const treadThick = parseFloat(elements.treadThickness.value) || 0;
const stringerW = parseFloat(elements.stringerWidth.value);
const isMetric = elements.unitSystem.value === 'metric';
const unit = isMetric ? 'cm' : 'in';
const comfortRule = isMetric ? 63.5 : 25; // 25 inches or 63.5 cm
const minThroat = isMetric ? 12.7 : 5; // 5 inches or 12.7 cm

// 2. Perform Calculations
const numRisers = Math.ceil(rise / maxR);
const actualRiserHeight = rise / numRisers;
const numTreads = numRisers - 1;

let actualTreadDepth = 0;
let actualTotalRun = run;
let warning = '';

if (run > 0) {
// Total Run was provided
actualTreadDepth = run / numTreads;
if (actualTreadDepth < minT) {
warning = `Warning: Calculated tread depth (${fmt(actualTreadDepth, unit)}) is less than your minimum of ${fmt(minT, unit)}. Results are based on the provided Total Run.`;
}
} else {
// Total Run was NOT provided, calculate it
actualTreadDepth = comfortRule - (2 * actualRiserHeight);
if (actualTreadDepth < minT) {
actualTreadDepth = minT;
warning = `Note: The ideal comfort tread depth (${fmt(comfortRule - (2 * actualRiserHeight), unit)}) was below your minimum. Results use the minimum tread depth of ${fmt(minT, unit)}.`;
}
actualTotalRun = actualTreadDepth * numTreads;
}

const angle = Math.atan(rise / actualTotalRun) * (180 / Math.PI);
const stringerLength = Math.sqrt(Math.pow(rise, 2) + Math.pow(actualTotalRun, 2));
const bottomRiser = actualRiserHeight - treadThick;

// Stringer Throat Calculation
// (w - sqrt(r^2 + t^2)) * (t / sqrt(r^2 + t^2)) 
// Or simpler: (w*t - r*t) / L where L is hypotenuse of one step
const stepHypot = Math.sqrt(Math.pow(actualRiserHeight, 2) + Math.pow(actualTreadDepth, 2));
const throat = (stringerW * actualTreadDepth - actualRiserHeight * actualTreadDepth) / stepHypot;

if (throat < minThroat) {
warning += ` Critical: Calculated stringer throat is ${fmt(throat, unit)}, which is below the recommended ${fmt(minThroat, unit)}. Consider using a wider stringer board (e.g., 2x14).`;
}

// 3. Update UI
elements.res.numRisers.textContent = numRisers;
elements.res.riserHeight.textContent = fmt(actualRiserHeight, unit);
elements.res.numTreads.textContent = numTreads;
elements.res.treadDepth.textContent = fmt(actualTreadDepth, unit);
elements.res.totalRun.textContent = fmt(actualTotalRun, unit);
elements.res.angle.textContent = fmtDeg(angle);
elements.res.stringerLength.textContent = fmt(stringerLength, unit);
elements.res.cutBottomRiser.textContent = fmt(bottomRiser, unit);
elements.res.cutRiser.textContent = fmt(actualRiserHeight, unit);
elements.res.cutTread.textContent = fmt(actualTreadDepth, unit);
elements.res.cutThroat.textContent = fmt(throat, unit);

if (warning) {
elements.complianceWarning.textContent = warning;
elements.complianceWarning.style.display = 'block';
} else {
elements.complianceWarning.style.display = 'none';
}

showResults();
}

// --- 5. Event Listeners ---
elements.calculateBtn.addEventListener('click', calculate);
elements.resetBtn.addEventListener('click', resetCalculator);
elements.unitSystem.addEventListener('change', toggleUnitSystem);

// Validation listeners
elements.totalRise.addEventListener('blur', () => validateInput(elements.totalRise, elements.errorTotalRise, true, 1));
elements.totalRun.addEventListener('blur', () => validateInput(elements.totalRun, elements.errorTotalRun, false, 1));

// Keyboard support (Enter to calculate)
document.getElementById('calculator-ui').addEventListener('keydown', (e) => {
if (e.key === 'Enter' && e.target.nodeName === 'INPUT') {
e.preventDefault();
elements.calculateBtn.click();
}
});

// Mobile menu
elements.mobileMenuToggle.addEventListener('click', () => {
elements.mobileMenu.classList.toggle('hidden');
const isExpanded = !elements.mobileMenu.classList.contains('hidden');
elements.mobileMenuToggle.setAttribute('aria-expanded', isExpanded);
});

// --- 6. Initial Setup ---
toggleUnitSystem(); // Set initial unit labels and defaults
hideResults(); // Hide results pane on load

});
</script>
</body>
</html>