<!DOCTYPE html>
<html lang="en">
<head> 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="utf-8"/>
<title>RMD (Required Minimum Distribution) Calculator</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Accurately calculate your Required Minimum Distribution (RMD) using the IRS Uniform Lifetime Table. Mobile-first, WCAG-compliant, and optimized for Core Web Vitals." name="description"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/rmd.html" rel="canonical"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" name="robots"/>
<link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='64' width='64' viewBox='0 0 64 64'%3E%3Crect rx='8' ry='8' width='64' height='64' fill='%23005A9C'/%3E%3Cpath d='M16 40 L30 24 L38 32 L48 20' stroke='%23fff' stroke-width='4' fill='none'/%3E%3Ccircle cx='48' cy='20' r='3' fill='%23fff'/%3E%3C/svg%3E" rel="icon"/>
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect"/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "RMD (Required Minimum Distribution) Calculator",
  "description": "An authoritative RMD calculator that uses the IRS Uniform Lifetime Table (rev. 2022) to determine required minimum distributions for retirement accounts. WCAG 2.1 AA compliant and mobile-first.",
  "url": "https://calcdomain.com/rmd.html",
  "inLanguage": "en",
  "isPartOf": {
    "@type": "WebSite",
    "name": "CalcDomain",
    "url": "https://calcdomain.com"
  },
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://calcdomain.com/logo.png"
    }
  },
  "about": [
    { "@type": "Thing", "name": "RMD calculator" },
    { "@type": "Thing", "name": "Required Minimum Distribution" },
    { "@type": "Thing", "name": "Retirement planning" }
  ],
  "mainEntity": [
    {
      "@type": "SoftwareApplication",
      "name": "RMD (Required Minimum Distribution) Calculator",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
      "provider": { "@type": "Organization", "name": "CalcDomain" }
    },
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step RMD Example",
      "description": "Example showing how to calculate an RMD using the IRS Uniform Lifetime Table.",
      "step": [
        { "@type": "HowToStep", "name": "Gather inputs", "text": "Get your prior-year December 31 balance, your date of birth, and the tax year." },
        { "@type": "HowToStep", "name": "Determine age", "text": "Compute your age as of December 31 of the selected tax year." },
        { "@type": "HowToStep", "name": "Find factor", "text": "Look up the IRS Uniform Lifetime Table factor for that age." },
        { "@type": "HowToStep", "name": "Calculate RMD", "text": "Divide the account balance by the factor to obtain the annual RMD." }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        { "@type": "Question", "name": "What is an RMD and who must take it?", "acceptedAnswer": { "@type": "Answer", "text": "An RMD is the minimum amount you must withdraw each year from most tax-advantaged retirement accounts once you reach the applicable beginning age (73 through 2032; 75 starting 2033)." } },
        { "@type": "Question", "name": "Which table does this calculator use?", "acceptedAnswer": { "@type": "Answer", "text": "This tool uses the IRS Uniform Lifetime Table (rev. 2022) for account owners. It does not calculate joint life or inherited RMDs." } },
        { "@type": "Question", "name": "What if my spouse is more than 10 years younger and is my sole beneficiary?", "acceptedAnswer": { "@type": "Answer", "text": "In that case you may use the Joint Life Expectancy Table, which often lowers your RMD. This version focuses on the Uniform Lifetime Table; consult IRS Pub. 590-B or your advisor for joint-life factors." } },
        { "@type": "Question", "name": "When is my first RMD due?", "acceptedAnswer": { "@type": "Answer", "text": "Your first RMD (the year you reach the beginning age) may be delayed until April 1 of the following year. If you delay, you will also need to take the second RMD by December 31 of that following year." } },
        { "@type": "Question", "name": "Which balances should I enter?", "acceptedAnswer": { "@type": "Answer", "text": "Enter your account’s balance as of December 31 of the prior year. IRA RMDs can be aggregated across your IRAs, but employer plans generally cannot be aggregated across plans." } },
        { "@type": "Question", "name": "Does the SECURE 2.0 Act change the RMD age?", "acceptedAnswer": { "@type": "Answer", "text": "Yes. The beginning age is 73 for 2023–2032 and increases to 75 starting in 2033." } }
      ]
    }
  ]
}
  </script>
<style>
    :root{
      --primary:#005A9C; --secondary:#003F6E; --bg:#F8F9FA; --surface:#FFFFFF;
      --text:#212529; --muted:#6C757D; --border:#DEE2E6; --success:#198754; --danger:#DC3545;
      --radius:10px; --shadow:0 4px 12px rgba(0,0,0,.06);
      --touch:48px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:clamp(16px,2.1vw,18px)}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
    a{color:var(--primary);text-decoration:none}
    a:focus{outline:3px solid var(--primary);outline-offset:2px;border-radius:3px}
    .skip-link{position:absolute;left:8px;top:-40px;background:var(--primary);color:#fff;padding:8px 14px;border-radius:0 0 6px 6px;z-index:1000}
    .skip-link:focus{top:0}
    main{padding:1.25rem 0 2rem}
    .container{max-width:1100px;margin:0 auto;padding:0 1rem}
    h1{font-weight:800;color:var(--secondary);font-size:clamp(1.6rem,4vw,2.4rem);margin:.25rem 0 0.5rem}
    p{max-width:70ch}
    .layout{display:grid;grid-template-columns:1fr;gap:1.5rem;margin-top:1rem}
    @media(min-width:992px){.layout{grid-template-columns:420px 1fr}}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:1.25rem}
    .calculator .section-title{margin:0 0 .5rem;font-size:1.25rem}
    .form-group{margin-bottom:1rem}
    .label-row{display:flex;align-items:center;gap:.5rem;justify-content:space-between}
    label{display:block;font-weight:700;margin-bottom:.35rem}
    .help-btn{appearance:none;border:1px solid var(--border);background:var(--surface);border-radius:999px;width:var(--touch);height:var(--touch);min-width:var(--touch);min-height:var(--touch);display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
    .help-btn:focus{outline:3px solid var(--primary);outline-offset:2px}
    .tooltip{display:none;margin:.35rem 0 0;color:#0b4f71;background:#e7f2fb;border:1px solid #b6dcfa;border-radius:8px;padding:.5rem .75rem}
    .tooltip[aria-hidden="false"]{display:block}
    .input-wrap{position:relative}
    .unit{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:var(--muted);pointer-events:none}
    input[type="number"],input[type="date"],select{
      width:100%;min-height:var(--touch);padding:.75rem 2.2rem .75rem .9rem;border:1px solid var(--border);
      border-radius:8px;font-size:1rem;background:#fff;transition:border-color .2s, box-shadow .2s;
    }
    input[type="date"]{padding-right:.9rem}
    input:focus,select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(0,90,156,.15)}
    .error{color:var(--danger);font-size:.92rem;margin-top:.35rem}
    .actions{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:.75rem}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;font-weight:700;border-radius:10px;border:1px solid transparent;cursor:pointer;min-height:var(--touch);padding:.7rem 1rem}
    .btn-primary{background:var(--primary);color:#fff;border-color:var(--primary)}
    .btn-secondary{background:transparent;color:var(--primary);border-color:var(--primary)}
    .results{min-height:240px;border:1px solid var(--border);background:#fbfcfd;border-radius:12px;padding:1rem}
    .result-row{display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px dashed var(--border);padding:.6rem 0}
    .result-row:last-child{border-bottom:none}
    .result-label{color:var(--muted)}
    .result-value{font-weight:800;color:var(--success);font-size:1.25rem}
    .note{font-size:.95rem;color:#0f5132;background:#d1e7dd;border:1px solid #badbcc;border-radius:8px;padding:.75rem .9rem;margin-top:.75rem}
    .content h2{margin:1.25rem 0 .5rem;color:var(--secondary)}
    .formula-box{background:#f1f3f5;border:1px solid var(--border);border-radius:10px;padding:1rem;overflow:auto}
    ul.clean{padding-left:1.25rem}
    .data-source{background:#fff8e6;border:1px solid #ffe5a3;color:#664d03;padding:.8rem 1rem;border-radius:10px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .eeat{
      display:grid;
      gap:.75rem;
      grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
      font-size:.875rem;
      color:#475569;
    }
    .eeat span{
      display:block;
      background:#f1f5f9;
      border:1px solid var(--border);
      border-radius:10px;
      padding:.6rem .75rem;
    }
    @media (prefers-contrast: more){
      .note,.tooltip{border-width:2px}
    }
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto;transition:none}
    }
  </style>
<script async="" defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<a class="skip-link" href="#main">Skip to main content</a>

<header class="bg-white shadow-sm sticky top-0 z-50">
  <nav class="container mx-auto px-4 lg:px-6 py-4">
    <div class="flex justify-between items-center">
      <a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

      <div class="w-full max-w-md hidden md:block mx-8">
        <div class="relative">
          <input type="search" id="search-input" placeholder="Search for a calculator..."
                 class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                 autocomplete="off">
          <svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
               fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
        </div>
      </div>

      <div class="hidden md:flex items-center space-x-6 text-sm">
        <a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
        <a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
      </div>

      <button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <div id="mobile-menu" class="md:hidden mt-4 hidden">
      <div class="space-y-2">
        <a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
        <a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
      </div>
    </div>
  </nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10" id="main" role="main">
  <div class="flex flex-col lg:flex-row gap-8">
    <section class="w-full lg:w-2/3 space-y-8">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <nav class="text-sm text-gray-600 mb-3" aria-label="Breadcrumb">
          <a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
          <a href="finance.html" class="hover:text-blue-600">Finance</a> &raquo;
          <a href="subcategories/finance-retirement.html" class="hover:text-blue-600">Retirement</a> &raquo;
          <span class="text-gray-900">RMD Calculator</span>
        </nav>
        <h1>RMD (Required Minimum Distribution) Calculator</h1>
        <p>This authoritative RMD calculator estimates the minimum you must withdraw from eligible retirement accounts each year using the IRS Uniform Lifetime Table (rev. 2022). It’s designed for account owners, not inherited accounts, and helps retirees and advisors plan compliant withdrawals with confidence.</p>
        <div class="eeat mt-6">
          <span><strong>Author:</strong> Ugo Candido</span>
          <span><strong>Reviewed by:</strong> CalcDomain Editorial Board</span>
          <span><strong>Last updated:</strong> <time id="lastUpdated"></time></span>
          <span><strong>Category:</strong> Finance → Retirement</span>
        </div>
      </div>

      <div class="layout" id="calculator-layout">
        <section aria-labelledby="calc-heading" class="card calculator">
          <h2 class="section-title" id="calc-heading">Calculator</h2>
          <form id="rmdForm" novalidate="">
            <div class="form-group">
              <label for="currency">Currency</label>
              <select aria-label="Display currency" id="currency" name="currency">
                <option selected="" value="USD">USD — US Dollar</option>
                <option value="EUR">EUR — Euro</option>
                <option value="GBP">GBP — British Pound</option>
                <option value="CAD">CAD — Canadian Dollar</option>
                <option value="AUD">AUD — Australian Dollar</option>
              </select>
            </div>
            <div class="form-group">
              <div class="label-row">
                <label for="balance">Prior-Year 12/31 Account Balance *</label>
                <button aria-controls="balanceTip" aria-expanded="false" aria-label="Toggle help for prior-year balance" class="help-btn" id="balanceHelpBtn" type="button">?</button>
              </div>
              <div class="input-wrap">
                <input aria-describedby="balanceTip balanceError balanceUnit" aria-required="true" id="balance" inputmode="decimal" min="0" name="balance" placeholder="e.g., 250000" step="0.01" type="number"/>
                <span class="unit" id="balanceUnit">$</span>
              </div>
              <div aria-hidden="true" class="tooltip" id="balanceTip" role="tooltip">
                Enter the account value as of December 31 of the previous year. IRA RMDs may be aggregated across IRAs; employer-plan RMDs generally cannot be aggregated across plans.
              </div>
              <div aria-live="polite" class="error" id="balanceError" role="alert"></div>
            </div>
            <div class="form-group">
              <div class="label-row">
                <label for="taxYear">Tax Year *</label>
                <button aria-controls="yearTip" aria-expanded="false" aria-label="Toggle help for tax year" class="help-btn" id="yearHelpBtn" type="button">?</button>
              </div>
              <input aria-describedby="yearTip yearError" aria-required="true" id="taxYear" max="2040" min="2023" name="taxYear" placeholder="e.g., 2025" type="number"/>
              <div aria-hidden="true" class="tooltip" id="yearTip" role="tooltip">
                Choose the year for which the RMD is being calculated. The beginning age is 73 through 2032 and increases to 75 starting in 2033 (SECURE 2.0).
              </div>
              <div aria-live="polite" class="error" id="yearError" role="alert"></div>
            </div>
            <div class="form-group">
              <div class="label-row">
                <label for="dob">Your Date of Birth *</label>
                <button aria-controls="dobTip" aria-expanded="false" aria-label="Toggle help for date of birth" class="help-btn" id="dobHelpBtn" type="button">?</button>
              </div>
              <input aria-describedby="dobTip dobError" aria-required="true" id="dob" name="dob" type="date"/>
              <div aria-hidden="true" class="tooltip" id="dobTip" role="tooltip">
                Used to determine your age on December 31 of the selected tax year, which selects the correct IRS life-expectancy factor.
              </div>
              <div aria-live="polite" class="error" id="dobError" role="alert"></div>
            </div>
            <div class="actions">
              <button aria-label="Calculate Required Minimum Distribution" class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
              <button aria-label="Reset all fields" class="btn btn-secondary" id="resetBtn" type="reset">Reset</button>
            </div>
          </form>
        </section>

        <section aria-labelledby="results-heading" class="card">
          <h2 class="section-title" id="results-heading">Results</h2>
          <div aria-live="polite" class="results" id="resultsBox">
            <div class="result-row">
              <span class="result-label">RMD Amount</span>
              <span class="result-value" id="rmdAmount">—</span>
            </div>
            <div class="result-row">
              <span class="result-label">IRS Factor Used</span>
              <span class="result-value" id="factorUsed">—</span>
            </div>
            <div class="result-row">
              <span class="result-label">Age at Year-End</span>
              <span class="result-value" id="ageAtYearEnd">—</span>
            </div>
            <div class="result-row">
              <span class="result-label">RMD Required?</span>
              <span class="result-value" id="rmdRequired">—</span>
            </div>
            <div class="note" hidden="" id="rmdNote"></div>
          </div>
        </section>
      </div>

      <section aria-labelledby="methodology" class="content">
        <h2 id="methodology">Data Source and Methodology</h2>
        <div class="data-source">
          <p>
            Authoritative Data Source: IRS Uniform Lifetime Table (revised 2022), IRS Publication 590‑B (Distributions from Individual Retirement Arrangements) and Treasury Reg. §1.401(a)(9)‑9, Table III (Uniform Lifetime).
            Updated annually. Direct references:
          </p>
          <ul class="clean">
            <li><a href="https://www.irs.gov/pub/irs-pdf/p590b.pdf" rel="nofollow noopener" target="_blank">IRS Publication 590‑B (latest)</a></li>
            <li><a href="https://www.irs.gov/retirement-plans/plan-participant-employee/retirement-topics-required-minimum-distributions-rmds" rel="nofollow noopener" target="_blank">IRS RMDs – Retirement Topics</a></li>
          </ul>
          <p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
        </div>
        <h2>The Formula Explained</h2>
        <div class="formula-box">
          <p>Uniform Lifetime Table method for account owners:</p>
          <p>Inline: \( \text{RMD} = \dfrac{\text{Prior-Year 12/31 Balance}}{\text{Distribution Period Factor}} \)</p>
          <p>Expanded: \( \text{RMD}_{y} = \frac{B_{y-1,\,12/31}}{F(\text{age as of 12/31 of } y)} \)</p>
          <p>Where \(F(\cdot)\) is the IRS Uniform Lifetime factor for that age.</p>
        </div>
        <h2>Glossary of Variables</h2>
        <ul class="clean">
          <li><strong>Prior-Year 12/31 Balance (B)</strong>: Your retirement account value as of December 31 of the previous year.</li>
          <li><strong>Tax Year (y)</strong>: The calendar year for which the RMD is being determined.</li>
          <li><strong>Age at Year-End</strong>: Your age on December 31 of the tax year (used to select the factor).</li>
          <li><strong>Distribution Period Factor (F)</strong>: The life-expectancy divisor from the IRS Uniform Lifetime Table for your age.</li>
          <li><strong>RMD:</strong> The minimum amount that must be withdrawn for the tax year.</li>
        </ul>
        <h2>Worked Example</h2>
        <h3>How It Works: A Step-by-Step Example</h3>
        <ol class="clean">
          <li>Inputs: Balance = $250,000 (as of 12/31 last year), Tax Year = 2025, Date of Birth = 1952‑07‑01.</li>
          <li>Age at 12/31/2025 = 73.</li>
          <li>Uniform Lifetime Factor for 73 = 26.5.</li>
          <li>Compute RMD: \( \text{RMD} = \frac{250{,}000}{26.5} \approx 9{,}433.96 \).</li>
        </ol>
        <p class="note">If 2025 is your first RMD year, you may delay it until April 1, 2026; doing so means also taking your 2026 RMD by December 31, 2026.</p>
        <h2>Frequently Asked Questions (FAQ)</h2>
        <div>
          <h3>1) What is an RMD and who must take it?</h3>
          <p>An RMD is the minimum amount you must withdraw each year from most tax-deferred retirement accounts once you reach the applicable beginning age (73 through 2032; 75 starting 2033). Roth IRAs generally have no RMDs for the original owner.</p>
          <h3>2) Which table does this calculator use?</h3>
          <p>This calculator uses the IRS Uniform Lifetime Table (rev. 2022) for original account owners. Joint-life and inherited RMDs are out of scope for this version.</p>
          <h3>3) How do I know my beginning age?</h3>
          <p>Under the SECURE 2.0 Act, your RMD beginning age is 73 for 2023–2032 and 75 starting in 2033. The tool applies this automatically based on the selected tax year and your date of birth.</p>
          <h3>4) Can I aggregate multiple accounts?</h3>
          <p>RMDs from traditional IRAs can usually be aggregated and satisfied from any one or more of your IRAs. Employer plans (e.g., 401(k)) generally require RMDs to be taken separately from each plan.</p>
          <h3>5) What if my spouse is &gt;10 years younger and is my sole beneficiary?</h3>
          <p>You may use the Joint Life Expectancy Table, which often lowers the RMD. This calculator focuses on the Uniform Lifetime Table. Consult Pub. 590‑B or a fiduciary advisor for joint-life calculations.</p>
          <h3>6) What happens if I delay my first RMD?</h3>
          <p>You may delay your first RMD until April 1 of the year following your first RMD year. If you do, you will take two RMDs in that following year—potentially increasing taxable income.</p>
          <h3>7) Are the outputs tax or investment advice?</h3>
          <p>No. This tool is for educational purposes only. Confirm your numbers with a qualified tax professional or your plan custodian.</p>
        </div>
        <div class="card" style="margin-top:1rem">
          <p aria-hidden="true" class="sr-only">Authorship and review</p>
          <p>
            Tool developed by <strong>Ugo Candido</strong>. Content verified by <strong>CalcDomain Editorial Board</strong>.<br/>
            Last reviewed for accuracy on: <time datetime="" id="lastReviewed">2025-09-13</time>.
          </p>
        </div>
      </section>
    </section>

    <aside class="w-full lg:w-1/3 space-y-6">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Related Retirement Tools</h2>
        <ul class="space-y-2 text-sm text-blue-600">
          <li><a class="hover:underline" href="pension-payout.html">Pension Payout Calculator</a></li>
          <li><a class="hover:underline" href="social-security.html">Social Security Estimate</a></li>
          <li><a class="hover:underline" href="retirement.html">Retirement Planner</a></li>
          <li><a class="hover:underline" href="401k.html">401(k) Projection</a></li>
          <li><a class="hover:underline" href="ira-calculator.html">IRA Growth Calculator</a></li>
        </ul>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Quick Tips</h2>
        <ul class="list-disc pl-5 space-y-2 text-sm text-gray-700">
          <li>Remember to use the balance as of December 31 of the prior year; mid-year balances are not used.</li>
          <li>If you have multiple IRAs, you can usually satisfy the combined RMD from a single IRA.</li>
          <li>Delaying the first RMD can increase taxable income in the following year—plan cash flow accordingly.</li>
          <li>Review beneficiary designations regularly to align with estate goals.</li>
        </ul>
      </div>
    </aside>
  </div>
</main>

<footer class="bg-white border-t">
  <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
    <p>&copy; <span id="year">2025</span> CalcDomain. All Rights Reserved.</p>
    <div class="mt-4 space-x-4">
      <a href="about.html" class="hover:text-blue-600">About</a>
      <a href="contact.html" class="hover:text-blue-600">Contact</a>
      <a href="privacy.html" class="hover:text-blue-600">Privacy</a>
      <a href="terms.html" class="hover:text-blue-600">Terms</a>
    </div>
  </div>
</footer>

<script>
  (function(){
    const yearEl = document.getElementById('year');
    if(yearEl){ yearEl.textContent = new Date().getFullYear(); }
    const updatedEl = document.getElementById('lastUpdated');
    if(updatedEl){
      updatedEl.textContent = new Date().toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'});
    }
    const toggle = document.getElementById('mobile-menu-toggle');
    const menu = document.getElementById('mobile-menu');
    toggle?.addEventListener('click', () => menu?.classList.toggle('hidden'));
  })();
</script>

<script>
    (function(){
      "use strict";

      const $ = (sel, ctx=document) => ctx.querySelector(sel);
      const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

      const form = $("#rmdForm");
      const balanceEl = $("#balance");
      const taxYearEl = $("#taxYear");
      const dobEl = $("#dob");
      const currencyEl = $("#currency");
      const calcBtn = $("#calcBtn");
      const resetBtn = $("#resetBtn");
      const balanceUnitEl = $("#balanceUnit");
      const rmdAmountEl = $("#rmdAmount");
      const factorUsedEl = $("#factorUsed");
      const ageAtYearEndEl = $("#ageAtYearEnd");
      const rmdRequiredEl = $("#rmdRequired");
      const rmdNoteEl = $("#rmdNote");
      const balanceError = $("#balanceError");
      const yearError = $("#yearError");
      const dobError = $("#dobError");

      const balanceTip = $("#balanceTip");
      const yearTip = $("#yearTip");
      const dobTip = $("#dobTip");

      const toggleTooltip = btnId => {
        const btn = document.getElementById(btnId);
        if(!btn) return;
        btn.addEventListener("click", ()=>{
          const tipId = btn.getAttribute("aria-controls");
          const tip = document.getElementById(tipId);
          if(!tip) return;
          const expanded = btn.getAttribute("aria-expanded")==="true";
          btn.setAttribute("aria-expanded", expanded ? "false":"true");
          tip.setAttribute("aria-hidden", expanded ? "true":"false");
          tip.hidden = expanded;
        });
      };
      ["balanceHelpBtn","yearHelpBtn","dobHelpBtn"].forEach(toggleTooltip);

      const currencySymbols = {
        USD:"$", EUR:"€", GBP:"£", CAD:"$", AUD:"$"
      };

      function updateCurrencyUnit(){
        const code = currencyEl.value || "USD";
        balanceUnitEl.textContent = currencySymbols[code] || code;
      }
      currencyEl.addEventListener("change", () => {
        updateCurrencyUnit();
        render(compute());
      });

      const balanceRequiredId = "BalanceRequired";
      function setError(el, msg){
        el.textContent = msg || "";
        if(msg){
          el.setAttribute("role","alert");
        } else {
          el.removeAttribute("role");
        }
      }
      function clearError(el){
        el.textContent = "";
        el.removeAttribute("role");
      }

      function validateBalance(){
        const raw = balanceEl.value.trim();
        if(!raw){
          setError(balanceError, "Please enter the account balance.");
          balanceEl.setAttribute("aria-invalid","true");
          return false;
        }
        const value = Number(raw);
        if(!isFinite(value) || value < 0){
          setError(balanceError, "Balance must be a non-negative number.");
          balanceEl.setAttribute("aria-invalid","true");
          return false;
        }
        clearError(balanceError);
        balanceEl.setAttribute("aria-invalid","false");
        return true;
      }
      function validateYear(){
        const raw = taxYearEl.value.trim();
        if(!raw){
          setError(yearError, "Please provide the tax year.");
          taxYearEl.setAttribute("aria-invalid","true");
          return false;
        }
        const year = Number(raw);
        const now = new Date();
        const currentYear = now.getFullYear();
        if(!Number.isInteger(year) || year < 2023 || year > currentYear + 15){
          setError(yearError, "Enter a year between 2023 and " + (currentYear + 15) + ".");
          taxYearEl.setAttribute("aria-invalid","true");
          return false;
        }
        clearError(yearError);
        taxYearEl.setAttribute("aria-invalid","false");
        return true;
      }
      function validateDob(){
        const v = dobEl.value;
        if(!v){
          setError(dobError, "Please provide your date of birth.");
          dobEl.setAttribute("aria-invalid","true");
          return false;
        }
        const d = new Date(v + "T00:00:00");
        if(isNaN(d) || d > new Date()){
          setError(dobError, "Date of birth must be a valid date in the past.");
          dobEl.setAttribute("aria-invalid","true");
          return false;
        }
        const ageNow = new Date().getFullYear() - d.getFullYear();
        if(ageNow > 120){
          setError(dobError, "Please enter a realistic date of birth (age 120 or less).");
          dobEl.setAttribute("aria-invalid","true");
          return false;
        }
        clearError(dobError);
        dobEl.setAttribute("aria-invalid","false");
        return true;
      }

      balanceEl.addEventListener("blur", validateBalance);
      taxYearEl.addEventListener("blur", validateYear);
      dobEl.addEventListener("blur", validateDob);

      function fmtCurrency(value){
        const code = currencyEl.value || "USD";
        try {
          return new Intl.NumberFormat(undefined, {style:"currency", currency: code, maximumFractionDigits: 2}).format(value);
        } catch {
          return (currencySymbols[code] || "") + (Number(value).toFixed(2));
        }
      }

      function compute(){
        if(!(validateBalance() & validateYear() & validateDob())){
          return null;
        }
        const bal = Number(balanceEl.value);
        const year = Number(taxYearEl.value);
        const age = ageOnDec31(dobEl.value, year);
        if(isNaN(age) || age < 0){
          setError(dobError, "Could not determine your age for the selected year. Check the date.");
          return null;
        }
        const beginAge = rmdBeginningAge(year);
        const prevAge = ageOnDec31(dobEl.value, year - 1);

        let required = false;
        let factor = null;
        let note = "";

        if(age >= beginAge){
          required = true;
          const lookupAge = Math.max(72, Math.min(120, age));
          factor = UNIFORM_FACTORS[lookupAge] || null;

          if(!factor){
            required = false;
            note = "A factor for your age was not found in the IRS table range supported by this tool.";
          } else {
            const firstYear = (prevAge < beginAge);
            if(firstYear){
              note = `First RMD year detected. You may delay your ${year} RMD until April 1, ${year + 1}. If you delay, you will also take your ${year + 1} RMD by December 31, ${year + 1}.`;
            } else {
              note = `Your ${year} RMD must be taken by December 31, ${year}.`;
            }
          }
        } else {
          required = false;
          note = `No RMD is required for ${year} because you have not reached the beginning age (${beginAge}).`;
        }

        const rmd = (required && factor) ? (bal / factor) : 0;

        return { rmd, factor, age, required, note, year, balance: bal };
      }

      function render(result){
        if(!result){
          rmdAmountEl.textContent = "—";
          factorUsedEl.textContent = "—";
          ageAtYearEndEl.textContent = "—";
          rmdRequiredEl.textContent = "—";
          rmdNoteEl.hidden = true;
          return;
        }
        rmdAmountEl.textContent = fmtCurrency(result.rmd);
        factorUsedEl.textContent = result.factor ? result.factor.toFixed(1) : "n/a";
        ageAtYearEndEl.textContent = String(result.age);
        rmdRequiredEl.textContent = result.required ? "Yes" : "No";
        rmdNoteEl.textContent = result.note || "";
        rmdNoteEl.hidden = !result.note;
      }

      function formatAndRender(){
        render(compute());
      }

      calcBtn.addEventListener("click", formatAndRender);
      let debounce;
      ["input","change"].forEach(evt => form.addEventListener(evt, () => {
        clearTimeout(debounce);
        debounce = setTimeout(formatAndRender, 120);
      }));

      resetBtn.addEventListener("click", () => {
        [balanceError, yearError, dobError].forEach(clearError);
        [balanceEl, taxYearEl, dobEl].forEach(el=>el.setAttribute("aria-invalid","false"));
        setTimeout(()=>{
          const now = new Date();
          taxYearEl.value = now.getFullYear();
          updateCurrencyUnit();
          render(null);
        }, 0);
      });

      updateCurrencyUnit();
      render(null);

      balanceEl.setAttribute("aria-describedby", "balanceTip balanceError balanceUnit");
      taxYearEl.setAttribute("aria-describedby", "yearTip yearError");
      dobEl.setAttribute("aria-describedby", "dobTip dobError");
    })();
  </script>
</body>
</html>
