<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/pentagon-calculator.html">




  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pentagon calculator</title>
  <meta name="description" content="Professional pentagon calculator: area, perimeter, side, apothem (inradius), circumradius, diagonal — for regular pentagons — plus irregular pentagon area by coordinates. Mobile-first, accessible, and accurate." />
  
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <!-- Tailwind (utility-first styling) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- MathJax for LaTeX rendering -->
  <script>
    window.MathJax = { tex: { inlineMath: [["$","$"],["\\(","\\)"]] }, svg: { fontCache: 'global' } };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <!-- Chart.js (optional tiny chart for visual feedback) -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --focus: #2563eb; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji'; }
    .prose { max-width: 70ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: .75rem; }
    .prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.25rem; margin-bottom: .5rem; }
    .prose p { margin-bottom: 1rem; line-height: 1.7; }
    .prose ul, .prose ol { margin-left: 1.25rem; margin-bottom: 1rem; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }
    /* Visible focus */
    :focus-visible { outline: 3px solid var(--focus); outline-offset: 2px; }
    /* Prevent CLS on results */
    #results { min-height: 280px; }
    /* Touch targets */
    button, select, input { min-height: 48px; }
    /* Print */
    @media print { body * { visibility: hidden } #print-section, #print-section * { visibility: visible } #print-section { position:absolute; inset:0 } }
  </style>

  <!-- JSON-LD: WebPage + WebApplication (Calculator) + Breadcrumbs + FAQ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Pentagon Calculator",
    "url":"https://calcdomain.com/pentagon-calculator.html",
    "inLanguage":"en",
    "description":"Compute area, perimeter, side, diagonal, inradius (apothem), and circumradius for a regular pentagon, plus irregular pentagon area by coordinates.",
    "author": {"@type":"Person","name":"Ugo Candido"},
    "publisher": {"@type":"Organization","name":"CalcDomain"},
    "primaryImageOfPage": {"@type":"ImageObject","url":"https://calcdomain.com/assets/og/pentagon-calculator.png"}
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"Pentagon Calculator",
    "applicationCategory":"EducationApplication",
    "operatingSystem":"Any",
    "url":"https://calcdomain.com/pentagon-calculator.html",
    "author": {"@type":"Person","name":"Ugo Candido"},
    "offers": {"@type":"Offer","price":"0","priceCurrency":"USD"}
  }
  </script>
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Math & Conversions",
      "item": "https://calcdomain.com/math-conversions.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Polygon Geometry",
      "item": "https://calcdomain.com/subcategories/geometry.html"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Pentagon Calculator",
      "item": "https://calcdomain.com/pentagon-calculator.html"
    }
  ]
}</script>
  <script type="application/ld+json" id="faq-jsonld">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity": []
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white border-b">
    <div class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-extrabold text-blue-600">CalcDomain</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
        Categories
      </nav>
      <button id="mobile-menu-toggle" class="md:hidden p-2" aria-expanded="false" aria-controls="mobile-menu" aria-label="Open menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
    <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
      <a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
      Categories
    </div>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      <section class="w-full lg:w-2/3">
        <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
          <a href="index.html" class="hover:text-blue-600">Home</a> &raquo;
          <a href="math.html" class="hover:text-blue-600">Math</a> &raquo;
          <a href="subcategories/geometry.html" class="hover:text-blue-600">Geometry</a> &raquo;
          <span class="text-gray-900">Pentagon Calculator</span>
        </nav>

        <div id="print-section" class="bg-white p-6 rounded-lg shadow">
          <h1 class="text-3xl font-extrabold mb-2">pentagon calculator</h1>
          <p class="text-gray-700 mb-6">Compute <strong>area</strong>, <strong>perimeter</strong>, <strong>side</strong>, <strong>diagonal</strong>, <strong>apothem (inradius)</strong>, and <strong>circumradius</strong> for a <em>regular pentagon</em> from any single input. You can also find the <strong>area of an irregular pentagon</strong> by entering its vertices (shoelace formula). Built for engineers, teachers, and students who need trustworthy results fast.</p>

          <!-- Calculator UI -->
          <section id="calculator" class="space-y-6" aria-labelledby="calc-heading">
            <h2 id="calc-heading" class="sr-only">Calculator</h2>

            <!-- Tabs -->
            <div class="flex gap-2" role="tablist" aria-label="Pentagon modes">
              <button id="tab-regular" role="tab" aria-selected="true" aria-controls="panel-regular" class="px-4 py-2 rounded-lg border bg-blue-600 text-white">Regular pentagon</button>
              <button id="tab-irregular" role="tab" aria-selected="false" aria-controls="panel-irregular" class="px-4 py-2 rounded-lg border bg-white text-gray-900">Irregular (by coordinates)</button>
            </div>

            <!-- Regular panel -->
            <div id="panel-regular" role="tabpanel" aria-labelledby="tab-regular" class="block">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label for="knownQuantity" class="block text-sm font-medium text-gray-800">Known quantity *</label>
                  <div class="flex items-center gap-2">
                    <select id="knownQuantity" aria-required="true" aria-describedby="knownQuantity_help knownQuantity_err" class="mt-1 w-full px-3 py-2 border rounded-md">
                      <option value="side" selected>Side a</option>
                      <option value="perimeter">Perimeter P</option>
                      <option value="area">Area A</option>
                      <option value="diagonal">Diagonal d</option>
                      <option value="inradius">Apothem r (inradius)</option>
                      <option value="circumradius">Circumradius R</option>
                    </select>
                    <button type="button" data-tooltip="knownQuantity_help" class="tooltip-btn text-blue-700" aria-label="Show help for Known quantity">?</button>
                  </div>
                  <p id="knownQuantity_help" class="text-xs text-gray-600 mt-1 hidden">Choose which value you already know. The calculator derives all other properties from it.</p>
                  <p id="knownQuantity_err" class="text-sm text-red-700 mt-1" aria-live="polite"></p>
                </div>

                <div>
                  <label for="knownValue" class="block text-sm font-medium text-gray-800">Value *</label>
                  <input type="number" inputmode="decimal" id="knownValue" value="10" step="any" min="0" aria-required="true" aria-describedby="knownValue_help knownValue_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                  <div class="flex items-center gap-2 mt-2">
                    <p id="knownValue_help" class="text-xs text-gray-600">Enter a positive number. Units are optional and shown in results.</p>
                    <button type="button" data-tooltip="knownValue_help" class="tooltip-btn text-blue-700" aria-label="Show help for value">?</button>
                  </div>
                  <p id="knownValue_err" class="text-sm text-red-700 mt-1" aria-live="polite"></p>
                </div>

                <div>
                  <label for="unit" class="block text-sm font-medium text-gray-800">Unit (optional)</label>
                  <input type="text" id="unit" placeholder="e.g., cm, in, m" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>

                <div>
                  <label for="precision" class="block text-sm font-medium text-gray-800">Decimals</label>
                  <input type="number" id="precision" value="3" min="0" max="10" step="1" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
              </div>

              <div class="mt-4 flex gap-3 flex-wrap">
                <button id="btn-calc" class="px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold">Calculate</button>
                <button id="btn-reset" class="px-4 py-2 rounded-lg bg-white border text-gray-900">Reset</button>
                <button id="btn-print" class="px-4 py-2 rounded-lg bg-white border text-gray-900">Print</button>
              </div>

              <!-- Small visual preview -->
              <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                <div class="border rounded-lg p-4">
                  <canvas id="previewChart" aria-label="Proportions preview" class="w-full h-40"></canvas>
                </div>
                <div class="border rounded-lg p-4">
                  <svg id="pentagon-svg" viewBox="0 0 220 220" role="img" aria-label="Regular pentagon preview" class="w-full h-40">
                    <polygon points="" fill="#dbeafe" stroke="#2563eb" stroke-width="2" />
                  </svg>
                </div>
              </div>
            </div>

            <!-- Irregular panel -->
            <div id="panel-irregular" role="tabpanel" aria-labelledby="tab-irregular" class="hidden">
              <p class="text-sm text-gray-700 mb-2">Enter the coordinates of the five vertices in order (clockwise or counter-clockwise). Uses the shoelace formula.</p>
              <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                <div>
                  <label for="x1" class="block text-sm font-medium text-gray-800">x1 *</label>
                  <input type="number" id="x1" value="0" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="y1" class="block text-sm font-medium text-gray-800">y1 *</label>
                  <input type="number" id="y1" value="0" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="x2" class="block text-sm font-medium text-gray-800">x2 *</label>
                  <input type="number" id="x2" value="4" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="y2" class="block text-sm font-medium text-gray-800">y2 *</label>
                  <input type="number" id="y2" value="1" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="x3" class="block text-sm font-medium text-gray-800">x3 *</label>
                  <input type="number" id="x3" value="5" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="y3" class="block text-sm font-medium text-gray-800">y3 *</label>
                  <input type="number" id="y3" value="4" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="x4" class="block text-sm font-medium text-gray-800">x4 *</label>
                  <input type="number" id="x4" value="2" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="y4" class="block text-sm font-medium text-gray-800">y4 *</label>
                  <input type="number" id="y4" value="6" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="x5" class="block text-sm font-medium text-gray-800">x5 *</label>
                  <input type="number" id="x5" value="-1" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
                <div>
                  <label for="y5" class="block text-sm font-medium text-gray-800">y5 *</label>
                  <input type="number" id="y5" value="3" step="any" aria-required="true" aria-describedby="xy_err" class="mt-1 w-full px-3 py-2 border rounded-md" />
                </div>
              </div>
              <p id="xy_err" class="text-sm text-red-700 mt-2" aria-live="polite"></p>
              <div class="mt-4 flex gap-3">
                <button id="btn-irregular" class="px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold">Compute area</button>
                <button id="btn-irregular-reset" class="px-4 py-2 rounded-lg bg-white border text-gray-900">Reset</button>
              </div>
            </div>
          </section>

          <!-- Results -->
          <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" aria-live="polite">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Side a</h4>
                <p id="res-side" class="text-2xl font-bold text-blue-700">—</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Perimeter P</h4>
                <p id="res-perimeter" class="text-2xl font-bold text-blue-700">—</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Area A</h4>
                <p id="res-area" class="text-2xl font-bold text-blue-700">—</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Diagonal d</h4>
                <p id="res-diagonal" class="text-2xl font-bold text-blue-700">—</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Apothem r</h4>
                <p id="res-inradius" class="text-2xl font-bold text-blue-700">—</p>
              </div>
              <div class="bg-white border rounded-lg p-4 text-center">
                <h4 class="text-sm text-gray-600">Circumradius R</h4>
                <p id="res-circumradius" class="text-2xl font-bold text-blue-700">—</p>
              </div>
            </div>
          </section>
        </div>

        <!-- Authoritative content ecosystem -->
        <article class="bg-white p-6 rounded-lg shadow mt-8 prose">
          <h2>Data source & methodology</h2>
          <p><strong>AuthoritativeDataSource:</strong> Weisstein, Eric W. "<em>Regular Polygon</em>." <a href="https://mathworld.wolfram.com/RegularPolygon.html" class="text-blue-700 underline">Wolfram MathWorld</a>, updated periodically (accessed 2025). All polygon relations for side, radius, and area follow standard Euclidean geometry. <strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>

          <h2>The formulas explained</h2>
          <div class="formula-box">
            <p>Let $n=5$, side $a$, perimeter $P=5a$, inradius (apothem) $r$, circumradius $R$, diagonal $d$, and area $A$.</p>
            <p>Key identities (with $\phi=\tfrac{1+\sqrt{5}}{2}$ and $\alpha=\tfrac{\pi}{5}=36^\circ$):</p>
            <ul>
              <li>$d = \phi\,a$</li>
              <li>$R = \dfrac{a}{2\sin\alpha}$, \quad $r = \dfrac{a}{2\tan\alpha}$</li>
              <li>$A = \dfrac{5}{4}\,a^2\cot\alpha = \dfrac{1}{4}\,\sqrt{25+10\sqrt{5}}\,a^2$</li>
              <li>$A = \dfrac{1}{2}\,P\,r$</li>
              <li>From $R$: $a = 2R\sin\alpha$; from $r$: $a = 2r\tan\alpha$; from $P$: $a=P/5$; from $A$: $a = \sqrt{\dfrac{4A}{5\cot\alpha}}$; from $d$: $a = d/\phi$.</li>
            </ul>
            <p>Irregular pentagon area by coordinates $(x_i, y_i)$ (shoelace): $\displaystyle A = \tfrac{1}{2}\bigg|\sum_{i=1}^{5} x_i y_{i+1} - y_i x_{i+1}\bigg|$ with $(x_{6},y_{6})=(x_1,y_1)$.</p>
          </div>

          <h2>Glossary of variables</h2>
          <ul>
            <li><strong>a</strong> — side length (regular pentagon).</li>
            <li><strong>P</strong> — perimeter ($5a$).</li>
            <li><strong>d</strong> — diagonal between non-adjacent vertices ($\phi a$).</li>
            <li><strong>r</strong> — inradius / apothem (distance from center to side).</li>
            <li><strong>R</strong> — circumradius (distance from center to vertex).</li>
            <li><strong>A</strong> — area. For irregular pentagon, computed via the shoelace formula from coordinates.</li>
          </ul>

          <h2>How it works: a step-by-step example</h2>
          <p><em>Example:</em> Suppose the side is $a = 10\,\text{cm}$. Then $P=5a=50\,\text{cm}$. Using $\alpha=36^\circ$:</p>
          <ul>
            <li>$r = \dfrac{a}{2\tan 36^\circ} \approx 6.881\,\text{cm}$</li>
            <li>$R = \dfrac{a}{2\sin 36^\circ} \approx 8.506\,\text{cm}$</li>
            <li>$d = \phi a \approx 16.180\,\text{cm}$</li>
            <li>$A = \dfrac{5}{4}a^2\cot 36^\circ \approx 172.047\,\text{cm}^2$</li>
          </ul>
          <p>The calculator performs these steps automatically from any single known quantity.</p>

          <h2>Frequently asked questions</h2>
          <details>
            <summary>Can I compute everything from just one value?</summary>
            <p>Yes — for a regular pentagon, any single input (side, perimeter, area, diagonal, inradius, or circumradius) is enough to derive the rest.</p>
          </details>
          <details>
            <summary>What is the angle structure of a regular pentagon?</summary>
            <p>Each interior angle is $108^\circ$; the central angle is $72^\circ$.</p>
          </details>
          <details>
            <summary>How do I find the area of an irregular pentagon?</summary>
            <p>Enter its vertices in order in the Irregular tab; the tool uses the shoelace formula and returns the absolute area.</p>
          </details>
          <details>
            <summary>What is the ratio of diagonal to side?</summary>
            <p>It equals the golden ratio $\phi=\tfrac{1+\sqrt{5}}{2}\approx 1.61803$.</p>
          </details>
          <details>
            <summary>Which radius do I need for circumscribed/inscribed circles?</summary>
            <p>The circumradius $R$ is the distance from center to a vertex (circumscribed circle). The inradius $r$ (apothem) is the distance from center to a side (inscribed circle).</p>
          </details>
          <details>
            <summary>Units</summary>
            <p>Results preserve your length unit for linear values and use squared units for area.</p>
          </details>

          <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by the CalcDomain Editorial Board.<br>
            Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
          </div>
        </article>
      </section>

      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-6">
          <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600">Ad Placement (300×600)</div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-3">Why this calculator stands out</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Bidirectional solving: start from <em>any</em> quantity.</li>
              <li>Irregular pentagon area via shoelace (coordinates).</li>
              <li>Accessible UI with on-blur validation & tooltips.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-4">Related tools</h3>
            <ul class="space-y-2 text-sm">
              <li><a class="text-blue-700 hover:underline" href="polygon-calculator.html">Polygon Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="golden-ratio.html">Golden Ratio Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="regular-ngon-calculator.html">Regular n-gon Calculator</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="about.html" class="hover:text-blue-600">About</a>
        <a href="contact.html" class="hover:text-blue-600">Contact</a>
        <a href="privacy.html" class="hover:text-blue-600">Privacy</a>
        <a href="terms.html" class="hover:text-blue-600">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer) -->
  <script defer>
  (function(){
    const $ = (id) => document.getElementById(id);
    const knownQuantity = $('knownQuantity');
    const knownValue = $('knownValue');
    const unit = $('unit');
    const precision = $('precision');
    const res = {
      side: $('res-side'), perimeter: $('res-perimeter'), area: $('res-area'),
      diagonal: $('res-diagonal'), inradius: $('res-inradius'), circumradius: $('res-circumradius')
    };
    const errors = { knownQuantity: $('knownQuantity_err'), knownValue: $('knownValue_err'), xy: $('xy_err') };

    const tabRegular = $('tab-regular');
    const tabIrregular = $('tab-irregular');
    const panelRegular = $('panel-regular');
    const panelIrregular = $('panel-irregular');

    const btnCalc = $('btn-calc');
    const btnReset = $('btn-reset');
    const btnPrint = $('btn-print');

    const btnIrregular = $('btn-irregular');
    const btnIrregularReset = $('btn-irregular-reset');

    const previewChartCtx = $('previewChart');
    const svg = $('pentagon-svg');
    let chartInst = null;

    const PHI = (1 + Math.sqrt(5)) / 2; // golden ratio
    const alpha = Math.PI / 5; // 36 degrees

    function clampDecimals(v){
      const p = Math.min(Math.max(parseInt(precision.value||'0',10),0),10);
      return (x)=> Number.isFinite(x) ? Number(x.toFixed(p)) : NaN;
    }
    function fmt(v, suffix=''){
      const p = Math.min(Math.max(parseInt(precision.value||'0',10),0),10);
      const nf = new Intl.NumberFormat(undefined, { maximumFractionDigits:p });
      return (Number.isFinite(v)? nf.format(v): '—') + (suffix||'');
    }

    function sideFrom({ type, val }){
      const v = val;
      switch(type){
        case 'side': return v;
        case 'perimeter': return v/5;
        case 'diagonal': return v/PHI;
        case 'circumradius': return 2*v*Math.sin(alpha);
        case 'inradius': return 2*v*Math.tan(alpha);
        case 'area': return Math.sqrt( (4*v)/(5/Math.tan(alpha)) ); // 4A/(5*cot)=4A/(5/tan)= (4A*tan)/5 -> wait, formula uses cot: A=(5/4)a^2*cot(alpha)=> a = sqrt(4A/(5*cot))
        default: return NaN;
      }
    }

    function computeAllFromSide(a){
      const r = a/(2*Math.tan(alpha));
      const R = a/(2*Math.sin(alpha));
      const P = 5*a;
      const d = PHI*a;
      const A = (5/4)*a*a*(1/Math.tan(alpha)); // cot = 1/tan
      return { a, P, A, d, r, R };
    }

    function drawPentagonSVG(a){
      // Draw a regular pentagon centered in 110,110 with circumradius scaled to fit
      const size = 100; // visual radius
      const cx=110, cy=110;
      const R = size; // visual
      const pts=[];
      // start at -90 degrees so a vertex is at top
      for(let i=0;i<5;i++){
        const ang = -Math.PI/2 + i*2*Math.PI/5;
        const x = cx + R*Math.cos(ang);
        const y = cy + R*Math.sin(ang);
        pts.push(`${x.toFixed(1)},${y.toFixed(1)}`);
      }
      const poly = svg.querySelector('polygon');
      poly.setAttribute('points', pts.join(' '));
    }

    function renderChart(values){
      if(!previewChartCtx) return;
      const data = {
        labels: ['a','P','A (scaled)','d','r','R'],
        datasets: [{
          data: [values.a, values.P, Math.sqrt(Math.max(values.A,0)), values.d, values.r, values.R],
          backgroundColor: ['#2563eb','#60a5fa','#93c5fd','#1d4ed8','#3b82f6','#60a5fa']
        }]
      };
      if(chartInst){ chartInst.data=data; chartInst.update(); }
      else { chartInst = new Chart(previewChartCtx, { type:'doughnut', data, options:{ plugins:{ legend:{ position:'bottom'} }, responsive:true, maintainAspectRatio:false } }); }
    }

    function showResults(o){
      const u = unit.value?.trim();
      res.side.textContent = fmt(o.a, u?` ${u}`:'');
      res.perimeter.textContent = fmt(o.P, u?` ${u}`:'');
      res.area.textContent = fmt(o.A, u?` ${u}²`:'' );
      res.diagonal.textContent = fmt(o.d, u?` ${u}`:'');
      res.inradius.textContent = fmt(o.r, u?` ${u}`:'');
      res.circumradius.textContent = fmt(o.R, u?` ${u}`:'');
      drawPentagonSVG(o.a);
      renderChart(o);
    }

    function validateKnownValue(){
      errors.knownValue.textContent = '';
      const v = parseFloat(knownValue.value);
      if(!Number.isFinite(v) || v<=0){
        errors.knownValue.textContent = 'Enter a positive number (greater than 0).';
        return false;
      }
      return true;
    }

    function validateXY(){
      errors.xy.textContent='';
      const xs=[1,2,3,4,5].map(i=>parseFloat($("x"+i).value));
      const ys=[1,2,3,4,5].map(i=>parseFloat($("y"+i).value));
      if(xs.some(n=>!Number.isFinite(n)) || ys.some(n=>!Number.isFinite(n))){
        errors.xy.textContent = 'All coordinates must be valid numbers.';
        return null;
      }
      // Basic check for distinct points
      const set = new Set(xs.map((x,i)=>`${x},${ys[i]}`));
      if(set.size<3){ errors.xy.textContent='Provide at least three distinct points.'; return null; }
      return {xs, ys};
    }

    function computeIrregularArea(xs, ys){
      // Shoelace for 5 points
      let sum=0; const n=5;
      for(let i=0;i<n;i++){
        const j=(i+1)%n; sum += xs[i]*ys[j] - ys[i]*xs[j];
      }
      return Math.abs(sum)/2;
    }

    // Events
    knownValue.addEventListener('blur', validateKnownValue);

    document.querySelectorAll('.tooltip-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-tooltip');
        const el = $(id);
        if(!el) return;
        const hidden = el.classList.toggle('hidden');
        btn.setAttribute('aria-expanded', String(!hidden));
      });
    });

    function doCalc(){
      if(!validateKnownValue()) return;
      const type = knownQuantity.value;
      const val = parseFloat(knownValue.value);
      let a = sideFrom({type, val});
      if(!Number.isFinite(a) || a<=0){
        errors.knownValue.textContent = 'Input does not lead to a valid side length. Check the value and unit.';
        return;
      }
      const out = computeAllFromSide(a);
      showResults(out);
    }

    btnCalc.addEventListener('click', doCalc);
    btnReset.addEventListener('click', ()=>{
      knownQuantity.value='side'; knownValue.value='10'; unit.value=''; precision.value='3';
      errors.knownValue.textContent=''; doCalc();
    });
    btnPrint.addEventListener('click', ()=> window.print());

    // Tabs behavior
    function activate(tab){
      const isReg = tab===tabRegular;
      tabRegular.setAttribute('aria-selected', String(isReg));
      tabIrregular.setAttribute('aria-selected', String(!isReg));
      panelRegular.classList.toggle('hidden', !isReg);
      panelRegular.classList.toggle('block', isReg);
      panelIrregular.classList.toggle('hidden', isReg);
      panelIrregular.classList.toggle('block', !isReg);
    }
    tabRegular.addEventListener('click', ()=>activate(tabRegular));
    tabIrregular.addEventListener('click', ()=>activate(tabIrregular));

    // Irregular compute
    btnIrregular.addEventListener('click', ()=>{
      const o = validateXY(); if(!o) return;
      const A = computeIrregularArea(o.xs, o.ys);
      res.side.textContent='—'; res.perimeter.textContent='—'; res.diagonal.textContent='—'; res.inradius.textContent='—'; res.circumradius.textContent='—';
      res.area.textContent = fmt(A, unit.value?` ${unit.value}²`:'' );
    });
    btnIrregularReset.addEventListener('click', ()=>{
      ['x1','y1','x2','y2','x3','y3','x4','y4','x5','y5'].forEach((id,i)=>{
        const defaults=[0,0,4,1,5,4,2,6,-1,3]; $(id).value = defaults[i];
      });
      errors.xy.textContent='';
    });

    // Mobile menu
    const mobileBtn = $('mobile-menu-toggle');
    const mobileMenu = $('mobile-menu');
    mobileBtn.addEventListener('click', ()=>{
      const open = mobileMenu.classList.toggle('hidden');
      mobileBtn.setAttribute('aria-expanded', String(!open));
    });

    // Seed initial
    doCalc();

    // Build FAQ JSON-LD dynamically from details blocks
    const faqJson = document.getElementById('faq-jsonld');
    if(faqJson){
      const items = Array.from(document.querySelectorAll('article details')).map(d=>({
        '@type':'Question',
        'name': d.querySelector('summary')?.textContent?.trim()||'',
        'acceptedAnswer': { '@type':'Answer', 'text': d.querySelector('p')?.innerHTML||'' }
      }));
      faqJson.textContent = JSON.stringify({ '@context':'https://schema.org', '@type':'FAQPage', mainEntity: items });
    }
  })();
  </script>
</body>
</html>
