<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unsecured Loan Calculator | Calculate Your Monthly Payments</title>
<meta name="description" content="Estimate your monthly payments for an unsecured personal loan. Use our calculator to see total interest, total cost, and a full amortization schedule.">
<link rel="canonical" href="https://calcdomain.com/unsecured-loan-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1.5rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
font-size: 1.1rem;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }

/* Custom Focus State - WCAG 2.1 AA */
input:focus, select:focus, button:focus {
outline: 3px solid #3b82f6 !important;
outline-offset: 1px;
}
input:focus, select:focus {
border-color: #3b82f6 !important;
box-shadow: none !important;
}

/* Accessible Tooltip */
.tooltip-btn {
background: none; border: none; padding: 0.25rem; margin-left: 0.25rem;
border-radius: 99px; cursor: help;
}
.tooltip-text {
display: none;
background: #1f2937; color: #f9fafb;
padding: 0.75rem; border-radius: 8px; margin-top: 0.5rem;
font-size: 0.875rem; position: relative;
}
.tooltip-text[aria-hidden="false"] {
display: block;
}

/* Error Message */
.error-message {
color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem;
display: none; /* Hidden by default */
}
input[aria-invalid="true"] {
border-color: #dc2626;
}

@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
#results-chart-container { display: none !important; }
}
</style>

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebPage",
"name": "Unsecured Loan Calculator",
"description": "Estimate your monthly payments for an unsecured personal loan. Use our calculator to see total interest, total cost, and a full amortization schedule.",
"url": "https://calcdomain.com/unsecured-loan-calculator.html",
"inLanguage": "en",
"author": { "@type": "Person", "name": "Ugo Candido" },
"publisher": { "@type": "Organization", "name": "CalcDomain" }
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [
{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://calcdomain.com/" },
{ "@type": "ListItem", "position": 2, "name": "Finance", "item": "https://calcdomain.com/finance.html" },
{ "@type": "ListItem", "position": 3, "name": "Loans & Debt", "item": "https://calcdomain.com/subcategories/finance-loans-debt.html" },
{ "@type": "ListItem", "position": 4, "name": "Unsecured Loan Calculator", "item": "https://calcdomain.com/unsecured-loan-calculator.html" }
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "HowTo",
"name": "How to Use the Unsecured Loan Calculator",
"description": "A step-by-step guide to calculating your monthly payments and total loan cost.",
"step": [
{"@type": "HowToStep", "name": "Enter Loan Amount", "text": "Input the total amount of money you wish to borrow."},
{"@type": "HowToStep", "name": "Enter Interest Rate", "text": "Input the Annual Percentage Rate (APR) quoted by the lender."},
{"@type": "HowToStep", "name": "Enter Loan Term", "text": "Provide the duration over which you will repay the loan, in either months or years."},
{"@type": "HowToStep", "name": "Review Results", "text": "The calculator will instantly show your estimated monthly payment, total interest, and total cost."},
{"@type": "HowToStep", "name": "Analyze Schedule", "text": "Expand the 'View Amortization Schedule' to see a detailed breakdown of each payment, showing how much goes toward principal versus interest over the life of the loan."}
]
}
</script>
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "FAQPage",
"mainEntity": [
{
"@type": "Question",
"name": "What is an unsecured loan?",
"acceptedAnswer": {
"@type": "Answer",
"text": "An unsecured loan, often called a personal loan, is a loan that does not require you to provide any collateral (like a house or car) to secure it. The lender approves the loan based on your creditworthiness, income, and financial history. Because it's riskier for the lender, unsecured loans typically have higher interest rates than secured loans (like mortgages)."
}
},
{
"@type": "Question",
"name": "What is APR (Annual Percentage Rate)?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The Annual Percentage Rate (APR) is the total cost of borrowing money over a year, expressed as a percentage. It includes the interest rate plus any additional fees or costs associated with the loan (like origination fees). APR gives you a more complete picture of the loan's cost than the interest rate alone."
}
},
{
"@type": "Question",
"name": "How is the monthly payment calculated?",
"acceptedAnswer": {
"@type": "Answer",
"text": "The calculator uses the standard annuity formula, which calculates a fixed payment amount for the life of the loan. Each payment consists of two parts: interest (calculated on the remaining balance) and principal (the amount that reduces the loan balance). Early in the loan, a larger portion of your payment goes to interest; later, more goes toward the principal."
}
},
{
"@type": "Question",
"name": "Can I pay off an unsecured loan early?",
"acceptedAnswer": {
"@type": "Answer",
"text": "In most cases, yes. Making extra payments or paying a lump sum reduces your principal balance faster, which means you'll pay less total interest and pay off the loan sooner. However, you should always check with your lender to see if there are any 'prepayment penalties' for paying the loan off ahead of schedule."
}
},
{
"@type": "Question",
"name": "How does my credit score affect my loan terms?",
"acceptedAnswer": {
"@type": "Answer",
"text": "Your credit score is a primary factor lenders use to determine your eligibility and interest rate. A higher credit score signals to lenders that you are a low-risk borrower, which typically qualifies you for larger loan amounts and, most importantly, lower APRs. A lower credit score may result in a higher APR or loan denial."
}
}
]
}
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558fYv3kMS2IOsfA+Z9LUPoRZEoEEOBYRzEVbLqifDafOYYPcgIIuQzB" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bTwMaYpeNTHLrfMvEKIbVlkHLCnlAvN29VYFMM7LIkYlWBH" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRIsAodNgpbIpS2m" crossorigin="anonymous"
onload="renderMathInElement(document.body);"></script>

<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<ol class="flex space-x-2">
<li><a href="index.html" class="hover:text-blue-600">Home</a> &raquo;</li>
<li><a href="finance.html" class="hover:text-blue-600">Finance</a> &raquo;</li>
<li><a href="subcategories/finance-loans-debt.html" class="hover:text-blue-600">Loans &amp; Debt</a> &raquo;</li>
<li><span classs="text-gray-900" aria-current="page">Unsecured Loan Calculator</span></li>
</ol>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Unsecured Loan Calculator</h1>
<p class="text-gray-600 mb-6">Estimate your monthly payments for an unsecured personal loan. This tool helps you understand the total cost, interest paid, and provides a full amortization schedule to plan your finances.</p>

<section id="calculator-ui" class="space-y-6" aria-label="Loan Calculator Form">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="loanAmount" class="block text-sm font-medium text-gray-700">Loan Amount ($)<span class="text-red-600">*</span></label>
<input type="number" id="loanAmount" value="10000" step="100" min="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="amount-error">
<span id="amount-error" class="error-message" role="alert">Please enter a positive loan amount.</span>
</div>
<div>
<div class="flex items-center justify-between">
<label for="interestRate" class="block text-sm font-medium text-gray-700">Annual Interest Rate (APR %)<span class="text-red-600">*</span></label>
<button id="apr-tooltip-btn" class="tooltip-btn" type="button" aria-label="More info about APR" aria-expanded="false" aria-controls="apr-tooltip">
<svg class="w-5 h-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
</svg>
</button>
</div>
<input type="number" id="interestRate" value="5" step="0.01" min="0"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="rate-error apr-tooltip">
<span id="rate-error" class="error-message" role="alert">Please enter a valid interest rate.</span>
<div id="apr-tooltip" class="tooltip-text" role="tooltip" aria-hidden="true">
The **Annual Percentage Rate (APR)** is the total yearly cost of your loan, including interest and fees, expressed as a percentage.
</div>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label for="loanTerm" class="block text-sm font-medium text-gray-700">Loan Term<span class="text-red-600">*</span></label>
<input type="number" id="loanTerm" value="5" step="1" min="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
aria-required="true" aria-describedby="term-error">
<span id="term-error" class="error-message" role="alert">Please enter a positive loan term.</span>
</div>
<div>
<label for="termUnits" class="block text-sm font-medium text-gray-700">Term Unit</label>
<select id="termUnits"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
<option value="years" selected>Years</option>
<option value="months">Months</option>
</select>
</div>
</div>
</section>

<section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6" aria-live="polite" style="min-height: 220px;">
<div class="flex flex-col md:flex-row gap-6">
<div class="w-full md:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
<div class="result-card">
<h4>Monthly Payment</h4>
<p id="monthlyPayment">$0.00</p>
</div>
<div class="result-card">
<h4>Total Interest</h4>
<p id="totalInterest">$0.00</p>
</div>
<div class="result-card">
<h4>Total Principal</h4>
<p id="totalPrincipal">$0.00</p>
</div>
<div class="result-card">
<h4>Total Cost</h4>
<p id="totalCost">$0.00</p>
</div>
</div>
<div class="w-full md:w-1/3">
<div id="results-chart-container" class="h-40 md:h-full">
<canvas id="resultsChart" aria-label="Chart showing principal versus total interest"></canvas>
</div>
</div>
</div>

<details class="mt-6 bg-white rounded-lg" id="scheduleDetails">
<summary class="font-semibold text-gray-800">View Amortization Schedule</summary>
<div class="mt-4 overflow-x-auto border border-gray-200 rounded-lg" id="scheduleContainer">
<table class="min-w-full text-sm text-right">
<thead class="bg-gray-100 text-gray-700 uppercase">
<tr>
<th scope="col" class="px-4 py-2 text-left">Month</th>
<th scope="col" class="px-4 py-2">Payment</th>
<th scope="col" class="px-4 py-2">Interest</th>
<th scope="col" class="px-4 py-2">Principal</th>
<th scope="col" class="px-4 py-2">Balance</th>
</tr>
</thead>
<tbody id="scheduleBody">
</tbody>
</table>
</div>
</details>
</section>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose">
<section>
<h2>Data Source and Calculation Methodology</h2>
<p>This calculator uses the standard, universally accepted **annuity formula** for calculating amortizing loan payments. This is the same formula used by financial institutions worldwide for fixed-rate loans, including personal loans, auto loans, and mortgages.</p>
<p>All calculations are based strictly on the mathematical formulas provided below. This tool does not account for specific lender fees (like origination or late fees) unless you manually adjust the loan amount to include them.</p>
</section>

<section>
<h2>The Formula Explained</h2>
<p>To find the fixed monthly payment (M), we use the following formula, where $P$ is the principal loan amount, $r$ is the monthly interest rate, and $n$ is the total number of payments (months).</p>
<div class="formula-box">
$$ M = P \frac{r(1+r)^n}{(1+r)^n - 1} $$
</div>
<p>Once the monthly payment is known, the total cost and total interest are simple to calculate:</p>
<ul>
<li><strong>Total Cost</strong> = $M \times n$</li>
<li><strong>Total Interest Paid</strong> = $(M \times n) - P$</li>
</ul>
</section>

<section>
<h2>Glossary of Terms</h2>
<dl class="space-y-4">
<div>
<dt class="font-semibold">Loan Amount (P)</dt>
<dd>The initial amount of money you borrow from the lender, also known as the principal.</dd>
</div>
<div>
<dt class="font-semibold">Annual Interest Rate (APR)</dt>
<dd>The yearly cost of your loan, including interest, expressed as a percentage. Our calculator converts this to a monthly rate ($r$) for the formula ($r = \text{APR} / 12$).</dd>
</div>
<div>
<dt class="font-semibold">Loan Term (n)</dt>
<dd>The total amount of time you have to repay the loan, typically expressed in years or months. Our formula uses $n$, the total number of monthly payments (e.g., 5 years = 60 months).</dd>
</div>
<div>
<dt class="font-semibold">Monthly Payment (M)</dt>
<dd>The fixed amount you will pay each month for the life of the loan. Each payment is a combination of both interest and principal.</dd>
</div>
<div>
<dt class="font-semibold">Total Interest</dt>
<dd>The total amount of interest you will pay over the entire loan term. This represents the full cost of borrowing the money.</dd>
</div>
</dl>
</section>

<section>
<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's say you want to take out an unsecured loan with the following terms:</p>
<ul>
<li><strong>Loan Amount (P):</strong> $10,000</li>
<li><strong>Annual Interest Rate (APR):</strong> 5%</li>
<li><strong>Loan Term:</strong> 5 years</li>
</ul>
<p>First, we must convert the annual rate and term into monthly figures for the formula:</p>
<ol>
<li><strong>Monthly Interest Rate (r):</strong> $5\% / 100 / 12 \text{ months} = 0.004167$</li>
<li><strong>Total Number of Payments (n):</strong> $5 \text{ years} \times 12 \text{ months/year} = 60 \text{ months}$</li>
</ol>
<p>Now, we plug these values into the monthly payment formula:</p>
<div class="formula-box">
$$ M = 10,000 \frac{0.004167(1+0.004167)^{60}}{(1+0.004167)^{60} - 1} $$
$$ M = 10,000 \frac{0.004167(1.28335...)}{(1.28335...) - 1} $$
$$ M = 10,000 \frac{0.005347...}{0.28335...} $$
$$ M = \$188.71 $$
</div>
<p>Your fixed monthly payment would be <strong>$188.71</strong>.</p>
<ul>
<li><strong>Total Cost:</strong> $\$188.71 \times 60 = \$11,322.60$</li>
<li><strong>Total Interest Paid:</strong> $\$11,322.60 - \$10,000 = \$1,322.60$</li>
</ul>
</section>

<section>
<h2>Frequently Asked Questions</h2>
<details>
<summary>What is an unsecured loan?</summary>
<p>An unsecured loan, often called a personal loan, is a loan that does not require you to provide any collateral (like a house or car) to secure it. The lender approves the loan based on your creditworthiness, income, and financial history. Because it's riskier for the lender, unsecured loans typically have higher interest rates than secured loans (like mortgages).</p>
</details>
<details>
<summary>What is APR (Annual Percentage Rate)?</summary>
<p>The Annual Percentage Rate (APR) is the total cost of borrowing money over a year, expressed as a percentage. It includes the interest rate plus any additional fees or costs associated with the loan (like origination fees). APR gives you a more complete picture of the loan's cost than the interest rate alone.</p>
</details>
<details>
<summary>How is this different from a secured loan?</summary>
<p>A secured loan is "secured" by an asset you own, known as collateral. A mortgage is secured by your home, and an auto loan is secured by your car. If you default on a secured loan, the lender can seize the collateral. An unsecured loan has no collateral, so the lender's only recourse is typically through legal action or collections, which is why your credit score and income are so important for approval.</p>
</details>
<details>
<summary>Can I pay off an unsecured loan early?</summary>
<p>In most cases, yes. Making extra payments or paying a lump sum reduces your principal balance faster, which means you'll pay less total interest and pay off the loan sooner. However, you should always check with your lender to see if there are any 'prepayment penalties' for paying the loan off ahead of schedule.</p>
</details>
<details>
<summary>How does my credit score affect my loan terms?</summary>
<p>Your credit score is a primary factor lenders use to determine your eligibility and interest rate. A higher credit score signals to lenders that you are a low-risk borrower, which typically qualifies you for larger loan amounts and, most importantly, lower APRs. A lower credit score may result in a higher APR or loan denial.</p>
</details>
</section>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Finance content reviewed by the CalcDomain Editorial Board.<br>
Last accuracy review: <time datetime="2025-10-31">October 31, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>See a clear breakdown of monthly payments, total interest, and total cost.</li>
<li>View a full amortization schedule to see how your principal is paid down.</li>
<li>Model different loan scenarios to find the best terms for your budget.</li>
<li>Based on the official, standard loan amortization formula.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related Loan Tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="personal-loan-calculator.html" class="text-blue-600 hover:underline">Personal Loan Calculator</a></li>
<li><a href="loan-payoff-calculator.html" class="text-blue-600 hover:underline">Early Loan Payoff Calculator</a></li>
<li><a href="loan-comparison-calculator.html" class="text-blue-600 hover:underline">Loan Comparison Calculator</a></li>
<li><a href="apr-calculator.html" class="text-blue-600 hover:underline">APR Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600">About</a>
<a href="contact.html" class="hover:text-blue-600">Contact</a>
<a href="privacy.html" class="hover:text-blue-600">Privacy</a>
<a href="terms.html" class="hover:text-blue-600">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
const elements = {
loanAmount: document.getElementById('loanAmount'),
interestRate: document.getElementById('interestRate'),
loanTerm: document.getElementById('loanTerm'),
termUnits: document.getElementById('termUnits'),
monthlyPayment: document.getElementById('monthlyPayment'),
totalInterest: document.getElementById('totalInterest'),
totalPrincipal: document.getElementById('totalPrincipal'),
totalCost: document.getElementById('totalCost'),
scheduleBody: document.getElementById('scheduleBody'),
// Errors
amountError: document.getElementById('amount-error'),
rateError: document.getElementById('rate-error'),
termError: document.getElementById('term-error'),
// Tooltip
tooltipBtn: document.getElementById('apr-tooltip-btn'),
tooltipText: document.getElementById('apr-tooltip')
};

let chartInstance = null;

const fmtCurrency = (val) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(val || 0);

function validateInputs() {
let isValid = true;
// Reset errors
elements.amountError.style.display = 'none';
elements.loanAmount.setAttribute('aria-invalid', 'false');
elements.rateError.style.display = 'none';
elements.interestRate.setAttribute('aria-invalid', 'false');
elements.termError.style.display = 'none';
elements.loanTerm.setAttribute('aria-invalid', 'false');

const principal = parseFloat(elements.loanAmount.value);
const rate = parseFloat(elements.interestRate.value);
const term = parseFloat(elements.loanTerm.value);

if (isNaN(principal) || principal <= 0) {
elements.amountError.style.display = 'block';
elements.loanAmount.setAttribute('aria-invalid', 'true');
isValid = false;
}
if (isNaN(rate) || rate < 0) {
elements.rateError.style.display = 'block';
elements.interestRate.setAttribute('aria-invalid', 'true');
isValid = false;
}
if (isNaN(term) || term <= 0) {
elements.termError.style.display = 'block';
elements.loanTerm.setAttribute('aria-invalid', 'true');
isValid = false;
}
return isValid;
}

function calculateAmortization() {
if (!validateInputs()) {
updateOutputs(0, 0, 0, 0, []);
return;
}

const principal = parseFloat(elements.loanAmount.value);
const annualRate = parseFloat(elements.interestRate.value) / 100;
const monthlyRate = annualRate / 12;
const term = parseFloat(elements.loanTerm.value);
const units = elements.termUnits.value;
const totalPayments = (units === 'years') ? Math.round(term * 12) : Math.round(term);

let monthlyPayment = 0;
let totalCost = principal;
let totalInterest = 0;
const schedule = [];

if (monthlyRate > 0) {
const power = Math.pow(1 + monthlyRate, totalPayments);
monthlyPayment = principal * (monthlyRate * power) / (power - 1);
totalCost = monthlyPayment * totalPayments;
totalInterest = totalCost - principal;
} else {
// Interest-free loan
monthlyPayment = principal / totalPayments;
}

let remainingBalance = principal;
for (let i = 1; i <= totalPayments; i++) {
const interestPayment = remainingBalance * monthlyRate;
const principalPayment = monthlyPayment - interestPayment;
remainingBalance -= principalPayment;

schedule.push({
period: i,
payment: monthlyPayment,
interest: interestPayment,
principal: principalPayment,
balance: Math.abs(remainingBalance) < 0.01 ? 0 : remainingBalance // Handle floating point precision
});
}

updateOutputs(monthlyPayment, totalInterest, principal, totalCost, schedule);
}

function updateOutputs(monthly, interest, principal, cost, schedule) {
elements.monthlyPayment.textContent = fmtCurrency(monthly);
elements.totalInterest.textContent = fmtCurrency(interest);
elements.totalPrincipal.textContent = fmtCurrency(principal);
elements.totalCost.textContent = fmtCurrency(cost);
renderSchedule(schedule);
renderChart(principal, interest);
}

function renderSchedule(schedule) {
const tbody = elements.scheduleBody;
tbody.innerHTML = '';
if (!schedule.length) return;

schedule.forEach(row => {
const tr = document.createElement('tr');
tr.className = 'border-t border-gray-200';
tr.innerHTML = `
<td class="px-4 py-2 text-left">${row.period}</td>
<td class="px-4 py-2">${fmtCurrency(row.payment)}</td>
<td class="px-4 py-2 text-red-600">${fmtCurrency(row.interest)}</td>
<td class="px-4 py-2 text-green-600">${fmtCurrency(row.principal)}</td>
<td class="px-4 py-2 font-medium">${fmtCurrency(row.balance)}</td>`;
tbody.appendChild(tr);
});
}

function renderChart(principal, interest) {
const ctx = document.getElementById('resultsChart');
if (!ctx) return;

const data = {
labels: ['Total Principal', 'Total Interest'],
datasets: [{
data: [Math.max(0, principal), Math.max(0, interest)],
backgroundColor: ['#2563eb', '#f97316'],
hoverBackgroundColor: ['#1d4ed8', '#ea580c'],
borderWidth: 0
}]
};

if (chartInstance) {
chartInstance.data = data;
chartInstance.update();
} else {
chartInstance = new Chart(ctx, {
type: 'doughnut',
data,
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
position: 'bottom',
labels: { boxWidth: 12, padding: 15 }
},
tooltip: {
callbacks: {
label: function(context) {
let label = context.label || '';
if (label) {
label += ': ';
}
if (context.parsed !== null) {
label += fmtCurrency(context.parsed);
}
return label;
}
}
}
}
}
});
}
}

// Event Listeners
['loanAmount', 'interestRate', 'loanTerm', 'termUnits'].forEach(id => {
document.getElementById(id).addEventListener('input', calculateAmortization);
});

// On-blur validation
['loanAmount', 'interestRate', 'loanTerm'].forEach(id => {
document.getElementById(id).addEventListener('blur', validateInputs);
});

// Tooltip logic
elements.tooltipBtn.addEventListener('click', () => {
const isExpanded = elements.tooltipBtn.getAttribute('aria-expanded') === 'true';
elements.tooltipBtn.setAttribute('aria-expanded', !isExpanded);
elements.tooltipText.setAttribute('aria-hidden', isExpanded);
});

// Mobile menu toggle
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
menuToggle.addEventListener('click', () => {
const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
menuToggle.setAttribute('aria-expanded', !isExpanded);
mobileMenu.classList.toggle('hidden');
});

// Initial calculation on load
calculateAmortization();

// Render math formulas on load
if (window.renderMathInElement) {
renderMathInElement(document.body, {
delimiters: [
{left: '$$', right: '$$', display: true},
{left: '$', right: '$', display: false}
]
});
}
});
</script>
</body>
</html>