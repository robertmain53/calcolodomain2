<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Molding Calculator - Estimate Trim, Baseboard &amp; Crown</title>
<meta name="description" content="Calculate the linear feet and number of pieces of molding (baseboard, crown, trim) needed for your room, walls, or frames. Includes waste factor.">
<link rel="canonical" href="https://calcdomain.com/construction/materials-estimation/molding-calculator.html"/>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.prose { max-width: 65ch; }
.prose h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
.prose h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.5rem; }
.prose p { margin-bottom: 1rem; line-height: 1.6; }
.prose ul, .prose ol { margin-left: 1.5rem; margin-bottom: 1rem; }
.prose li { margin-bottom: 0.5rem; }
.prose dl dt { font-weight: 600; margin-top: 0.5rem; }
.prose dl dd { margin-left: 1.5rem; margin-bottom: 0.5rem; }
.formula-box {
background:#f3f4f6; border:1px solid #d1d5db; border-radius:8px; padding:1rem;
overflow-x:auto; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
font-size: 0.95rem;
}
details > summary { cursor: pointer; font-weight: 600; padding: 0.5rem 0; }
details[open] > summary { margin-bottom: 0.5rem; }
.result-card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 1.25rem; text-align: center; }
.result-card h4 { font-size: 0.95rem; color: #6b7280; margin-bottom: 0.25rem; }
.result-card p { font-size: 1.75rem; font-weight: 700; color: #2563eb; }
/* Custom focus state for WCAG compliance */
.focusable:focus-visible {
outline: 3px solid #3b82f6;
outline-offset: 2px;
box-shadow: none;
}
/* Ensure form inputs are also styled */
input.focusable:focus-visible,
select.focusable:focus-visible,
textarea.focusable:focus-visible {
border-color: #3b82f6;
box-shadow: 0 0 0 3px #bfdbfe;
}
/* Tooltip button */
.tooltip-btn {
display: inline-flex;
align-items: center;
justify-content: center;
width: 1.25rem;
height: 1.25rem;
padding: 0;
border: 1px solid #9ca3af;
border-radius: 9999px;
background-color: #f9fafb;
color: #6b7280;
font-weight: 600;
font-size: 0.75rem;
margin-left: 0.25rem;
cursor: pointer;
}
.tooltip-text {
display: none;
font-size: 0.875rem;
font-weight: 400;
background-color: #1f2937;
color: #fff;
padding: 0.5rem 0.75rem;
border-radius: 6px;
position: absolute;
z-index: 10;
width: max-content;
max-width: 250px;
bottom: 110%;
left: 50%;
transform: translateX(-50%);
}
.tooltip-container {
position: relative;
display: inline-block;
}
.tooltip-btn[aria-describedby]:focus + .tooltip-text,
.tooltip-btn[aria-describedby]:hover + .tooltip-text {
display: block;
}
/* Visually hidden for screen readers */
.sr-only {
position: absolute;
width: 1px;
height: 1px;
padding: 0;
margin: -1px;
overflow: hidden;
clip: rect(0, 0, 0, 0);
white-space: nowrap;
border-width: 0;
}
/* Error message styling */
.error-message {
color: #dc2626;
font-size: 0.875rem;
margin-top: 0.25rem;
display: none; /* Hidden by default */
}
/* Print styles */
@media print {
body * { visibility: hidden; }
#print-section, #print-section * { visibility: visible; }
#print-section { position: absolute; left: 0; top: 0; width: 100%; }
header, footer, aside, #mobile-menu-toggle, #mobile-menu { display: none !important; }
}
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Molding Calculator - Estimate Trim, Baseboard & Crown",
  "description": "Calculate the linear feet and number of pieces of molding (baseboard, crown, trim) needed for your room, walls, or frames. Includes waste factor.",
  "url": "https://calcdomain.com/construction/materials-estimation/molding-calculator.html",
  "inLanguage": "en",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://calcdomain.com/logo.png"
    }
  },
  "mainEntity": {
    "@type": "Calculator",
    "name": "Molding Calculator",
    "description": "Estimates molding requirements for rooms, walls, and frames.",
    "toolFor": {
      "@type": "HowTo",
      "name": "How to Calculate Molding Needed",
      "description": "A step-by-step guide to calculating molding for baseboards, crown molding, or picture frames, including waste.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Select Calculation Mode",
          "text": "Choose whether you are calculating for a full room (perimeter), individual walls, or a mitered frame (like a picture frame or wainscoting box)."
        },
        {
          "@type": "HowToStep",
          "name": "Enter Dimensions",
          "text": "Input the required dimensions (e.g., Room Length/Width in feet, Wall Lengths in feet, or Frame Height/Width in inches)."
        },
        {
          "@type": "HowToStep",
          "name": "Account for Openings (for Room Mode)",
          "text": "Enter the number of doors or large openings and their average width to subtract from the total perimeter."
        },
        {
          "@type": "HowToStep",
          "name": "Set Waste Factor and Piece Length",
          "text": "Add a waste factor (10-15% is standard) to account for cuts and mistakes. Select the length of the molding pieces you plan to buy (e.g., 8 ft, 12 ft)."
        },
        {
          "@type": "HowToStep",
          "name": "Review Results",
          "text": "The calculator provides the Total Linear Feet (raw), the Total Needed (including waste), and the Total Number of Pieces to purchase."
        }
      ]
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://calcdomain.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Construction",
      "item": "https://calcdomain.com/construction.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Materials Estimation",
      "item": "https://calcdomain.com/subcategories/construction-materials-estimation.html"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "name": "Molding Calculator",
      "item": "https://calcdomain.com/construction/materials-estimation/molding-calculator.html"
    }
  ]
}
</script>
<script src="search.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-900">

<header class="bg-white shadow-sm">
<nav class="container mx-auto px-4 lg:px-6 py-4">
<div class="flex justify-between items-center">
<a href="index.html" class="text-2xl font-bold text-blue-600">CalcDomain</a>

<div class="w-full max-w-md hidden md:block mx-8">
<div class="relative">
<input type="search" id="search-input" placeholder="Search for a calculator..."
class="w-full py-2 px-4 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focusable"
autocomplete="off">
<svg class="w-5 h-5 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
</svg>
<div id="search-results" class="absolute top-full left-0 right-0 hidden bg-white border border-gray-200 rounded-lg shadow-lg mt-2 max-h-96 overflow-y-auto z-50"></div>
</div>
</div>

<div class="hidden md:flex items-center space-x-6 text-sm">
<a href="search.html" class="text-gray-700 hover:text-blue-600 focusable rounded">Advanced Search</a>
<a href="index.html#categories" class="text-gray-700 hover:text-blue-600 focusable rounded">Categories</a>
</div>

<button id="mobile-menu-toggle" class="md:hidden p-2 focusable rounded" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button>
</div>

<div id="mobile-menu" class="md:hidden mt-4 hidden">
<div class="space-y-2">
<a href="search.html" class="block py-2 text-gray-700 hover:text-blue-600 focusable rounded">Advanced Search</a>
<a href="index.html#categories" class="block py-2 text-gray-700 hover:text-blue-600 focusable rounded">Categories</a>
</div>
</div>
</nav>
</header>

<main class="container mx-auto px-4 lg:px-6 py-10">
<div class="flex flex-col lg:flex-row gap-8">

<section class="w-full lg:w-2/3">
<nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
<a href="index.html" class="hover:text-blue-600 focusable rounded">Home</a> &raquo;
<a href="construction.html" class="hover:text-blue-600 focusable rounded">Construction</a> &raquo;
<a href="subcategories/construction-materials-estimation.html" class="hover:text-blue-600 focusable rounded">Materials Estimation</a> &raquo;
<span class="text-gray-900">Molding Calculator</span>
</nav>

<div id="print-section" class="bg-white p-6 rounded-lg shadow-md">
<h1 class="text-3xl font-extrabold text-gray-900 mb-2">Molding Calculator</h1>
<p class="text-gray-600 mb-6">Estimate the total linear feet and number of pieces of molding (baseboard, crown, or trim) required for your project. This tool accounts for standard waste to ensure you buy the right amount.</p>

<form id="calculator-ui" class="space-y-6" onsubmit="return false;">
<fieldset>
<legend class="block text-sm font-medium text-gray-700 mb-2">Calculation Mode</legend>
<div class="flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0">
<div class="flex items-center">
<input id="modeRoom" name="calcMode" type="radio" value="room" class="focusable h-4 w-4 text-blue-600 border-gray-300" checked>
<label for="modeRoom" class="ml-2 block text-sm text-gray-900">Room Perimeter</label>
</div>
<div class="flex items-center">
<input id="modeWalls" name="calcMode" type="radio" value="walls" class="focusable h-4 w-4 text-blue-600 border-gray-300">
<label for="modeWalls" class="ml-2 block text-sm text-gray-900">Individual Walls</label>
</div>
<div class="flex items-center">
<input id="modeFrame" name="calcMode" type="radio" value="frame" class="focusable h-4 w-4 text-blue-600 border-gray-300">
<label for="modeFrame" class="ml-2 block text-sm text-gray-900">Mitered Frame</label>
</div>
</div>
</fieldset>

<div id="roomInputs" class="space-y-4">
<p class="text-sm text-gray-500">For baseboards, crown molding, or chair rail in a standard room.</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label for="roomLength" class="block text-sm font-medium text-gray-700">Room Length (ft)<span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="roomLength" min="0" step="0.01" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
aria-describedby="roomLengthError">
<span id="roomLengthError" class="error-message" role="alert">Please enter a valid length.</span>
</div>
<div>
<label for="roomWidth" class="block text-sm font-medium text-gray-700">Room Width (ft)<span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="roomWidth" min="0" step="0.01" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
aria-describedby="roomWidthError">
<span id="roomWidthError" class="error-message" role="alert">Please enter a valid width.</span>
</div>
<div>
<label for="doorways" class="block text-sm font-medium text-gray-700">Doorways / Openings</label>
<input type="number" id="doorways" value="1" min="0" step="1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable">
</div>
<div>
<label for="doorwayWidth" class="block text-sm font-medium text-gray-700">Avg. Opening Width (ft)</label>
<input type="number" id="doorwayWidth" value="3" min="0" step="0.1"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable">
</div>
</div>
</div>

<div id="wallInputs" class="space-y-4 hidden">
<p class="text-sm text-gray-500">For non-rectangular rooms or single-wall projects.</p>
<div>
<label for="wallLengths" class="block text-sm font-medium text-gray-700">
Wall Lengths (ft)
<span class="text-red-600" aria-hidden="true">*</span>
</label>
<textarea id="wallLengths" rows="3" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
placeholder="e.g., 10.5, 8, 12.25"
aria-describedby="wallLengthsError wallLengthsHelp"></textarea>
<span id="wallLengthsError" class="error-message" role="alert">Please enter at least one valid length.</span>
<p id="wallLengthsHelp" class="mt-1 text-xs text-gray-500">Enter each wall length, separated by a comma or on a new line.</p>
</div>
</div>

<div id="frameInputs" class="space-y-4 hidden">
<p class="text-sm text-gray-500">For picture frames, wainscoting boxes, or window trim.</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label for="frameHeight" class="block text-sm font-medium text-gray-700">Frame Height (in)<span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="frameHeight" min="0" step="0.01" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
aria-describedby="frameHeightError">
<span id="frameHeightError" class="error-message" role="alert">Please enter a valid height.</span>
</div>
<div>
<label for="frameWidth" class="block text-sm font-medium text-gray-700">Frame Width (in)<span class="text-red-600" aria-hidden="true">*</span></label>
<input type="number" id="frameWidth" min="0" step="0.01" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
aria-describedby="frameWidthError">
<span id="frameWidthError" class="error-message" role="alert">Please enter a valid width.</span>
</div>
</div>
</div>

<hr class="border-gray-200">
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label for="wasteFactor" class="block text-sm font-medium text-gray-700">
Waste Factor (%)
<span class="text-red-600" aria-hidden="true">*</span>
<span class="tooltip-container">
<button type="button" class="tooltip-btn focusable" aria-describedby="wasteHelp" aria-label="About waste factor">?</button>
<span id="wasteHelp" class="tooltip-text" role="tooltip">A 10-15% waste factor is standard to account for miter cuts and mistakes.</span>
</span>
</label>
<input type="number" id="wasteFactor" value="10" min="0" step="1" aria-required="true"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable"
aria-describedby="wasteFactorError">
<span id="wasteFactorError" class="error-message" role="alert">Please enter a valid waste percentage.</span>
</div>
<div>
<label for="pieceLength" class="block text-sm font-medium text-gray-700">Molding Piece Length</label>
<select id="pieceLength"
class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focusable">
<option value="8">8 ft</option>
<option value="10">10 ft</option>
<option value="12" selected>12 ft</option>
<option value="16">16 ft</option>
</select>
</div>
</div>

<div class="flex items-center space-x-4">
<button type="button" id="calculateBtn"
class="w-full sm:w-auto px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focusable">
Calculate
</button>
<button type="button" id="resetBtn"
class="w-full sm:w-auto px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focusable">
Reset
</button>
</div>
</form>

<div id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6 hidden" aria-live="polite" style="min-height: 150px;">
<h3 class="text-xl font-semibold text-gray-900 mb-4">Your Estimated Material</h3>
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
<div class="result-card">
<h4>Total Linear Feet (Raw)</h4>
<p id="totalLinearFeet">0.00 ft</p>
</div>
<div class="result-card">
<h4>Total Needed (with Waste)</h4>
<p id="totalWithWaste">0.00 ft</p>
</div>
<div class="result-card">
<h4>Total Pieces to Buy</h4>
<p id="totalPieces">0</p>
</div>
</div>
</div>
</div>

<article class="bg-white p-6 rounded-lg shadow-md mt-8 prose prose-blue">
<h2>Data Source and Methodology</h2>
<p>Calculations are based on standard geometric formulas and construction estimation principles as outlined in guides like the <strong>RSMeans Building Construction Cost Data</strong>. The methodology ensures accurate linear foot calculations, accounts for common deductions, and applies industry-standard waste percentages.</p>
<p>All calculations strictly follow the formulas derived from these principles to provide a reliable estimate for DIY and professional projects.</p>

<h2>The Formulas Explained</h2>
<p>The calculator uses different formulas based on your selected mode. All results are then adjusted for waste and piece length.</p>

<h3>1. Room Perimeter Mode</h3>
<p>This mode calculates the total perimeter and subtracts specified openings.</p>
<div class="formula-box">
$ \text{Perimeter} = (L_{\text{room}} + W_{\text{room}}) \times 2 $
<br>
$ \text{Deductions} = N_{\text{doors}} \times W_{\text{door}} $
<br>
$ L_{\text{total}} = \text{Perimeter} - \text{Deductions} $
</div>
<p>Where $L$ is Length, $W$ is Width, and $N$ is Number.</p>

<h3>2. Individual Walls Mode</h3>
<p>This mode sums the length of all provided wall segments.</p>
<div class="formula-box">
$ L_{\text{total}} = \sum_{i=1}^{n} \text{Wall}_{i} $
</div>

<h3>3. Mitered Frame Mode</h3>
<p>This mode calculates the perimeter of a frame, converting from inches to feet.</p>
<div class="formula-box">
$ L_{\text{total (ft)}} = \frac{(H_{\text{frame (in)}} + W_{\text{frame (in)}}) \times 2}{12} $
</div>

<h3>Final Calculation (All Modes)</h3>
<p>The raw total length is used to determine the final amount needed.</p>
<div class="formula-box">
$ L_{\text{needed}} = L_{\text{total}} \times (1 + \frac{\text{Waste \%}}{100}) $
<br>
$ \text{Pieces} = \lceil \frac{L_{\text{needed}}}{\text{Piece Length}} \rceil $
</div>
<p>The $ \lceil \dots \rceil $ function is the "ceiling" function, which rounds any decimal *up* to the next whole number, ensuring you always have enough pieces.</p>

<h2>Glossary of Terms</h2>
<dl>
<dt>Linear Feet</dt>
<dd>A measure of length. This is the primary measurement for purchasing molding.</dd>
<dt>Waste Factor (%)</dt>
<dd>An added percentage (typically 10-15%) to your total length to account for material lost during cutting, especially for miter joints, and to allow for mistakes.</dd>
<dt>Total Needed</dt>
<dd>The raw linear footage plus the waste factor. This is your target purchasing amount.</dd>
<dt>Total Pieces</dt>
<dd>The number of standard-length molding sticks (e.g., 8 ft, 12 ft) required to cover your "Total Needed" length.</dd>
</dl>

<h2>How It Works: A Step-by-Step Example</h2>
<p>Let's calculate the baseboard needed for a bedroom.</p>
<ul>
<li><strong>Mode:</strong> Room Perimeter</li>
<li><strong>Room Length:</strong> 12 ft</li>
<li><strong>Room Width:</strong> 10 ft</li>
<li><strong>Doorways:</strong> 1</li>
<li><strong>Avg. Opening Width:</strong> 3 ft</li>
<li><strong>Waste Factor:</strong> 10%</li>
<li><strong>Piece Length:</strong> 8 ft</li>
</ul>
<ol>
<li><strong>Calculate Perimeter:</strong>
<br> $ (12 \text{ ft} + 10 \text{ ft}) \times 2 = 44 \text{ ft} $</li>
<li><strong>Calculate Deductions:</strong>
<br> $ 1 \times 3 \text{ ft} = 3 \text{ ft} $</li>
<li><strong>Calculate Raw Length ($L_{\text{total}}$):</strong>
<br> $ 44 \text{ ft} - 3 \text{ ft} = 41 \text{ ft} $</li>
<li><strong>Calculate Total Needed ($L_{\text{needed}}$):</strong>
<br> $ 41 \text{ ft} \times (1 + \frac{10}{100}) = 41 \times 1.10 = 45.1 \text{ ft} $</li>
<li><strong>Calculate Total Pieces:</strong>
<br> $ \lceil \frac{45.1 \text{ ft}}{8 \text{ ft}} \rceil = \lceil 5.64 \rceil = 6 \text{ pieces} $</li>
</ol>
<p><strong>Result:</strong> You would need to purchase <strong>6 pieces</strong> of 8 ft molding to complete the job.</p>

<h2>Frequently Asked Questions</h2>
<details>
<summary>What is a standard waste factor for molding?</summary>
<p>For simple rooms with few corners, 10% is often sufficient. For crown molding or rooms with many complex miter joints (like bay windows), a 15% or even 20% waste factor is safer.</p>
</details>
<details>
<summary>How do I measure for crown molding?</summary>
<p>You measure the room perimeter at the ceiling, which is the same as the floor (for standard rectangular rooms). Use the "Room Perimeter" mode. The calculation for *length* is identical to baseboards. The *complexity* is in the cutting angles, not the measurement.</p>
</details>
<details>
<summary>Should I subtract windows for baseboards?</summary>
<p>No. Baseboards run along the floor, so windows (which are on the wall) do not affect the calculation. You only need to subtract doorways or floor-to-ceiling openings where the baseboard will not run.</p>
</details>
<details>
<summary>What if my room isn't a rectangle?</summary>
<p>Use the "Individual Walls" mode. Measure each wall segment that needs molding, and enter all the lengths separated by commas. The calculator will sum them for you.</p>
</details>
<details>
<summary>Why did the calculator round up my pieces?</summary>
<p>You cannot buy 5.64 pieces of molding. You must always buy the next full piece. The calculator rounds up to ensure you have enough material to cover the total required length, including the waste factor.</p>
</details>

<div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600">
<p><strong>Tool developed by Ugo Candido.</strong> Construction methodology reviewed by the CalcDomain Engineering Review Board.<br>
Last accuracy review: <time datetime="2025-10-30">October 30, 2025</time></p>
</div>
</article>
</section>

<aside class="w-full lg:w-1/3">
<div class="sticky top-24 space-y-6">
<div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-500">
Ad Placement (300×600)
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-3">Why use this calculator</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-2">
<li>Get estimates for rooms, walls, or frames in one tool.</li>
<li>Automatically deducts doors and openings.</li>
<li>Calculates total pieces to buy, not just length.</li>
<li>Includes industry-standard waste factor for accurate purchasing.</li>
</ul>
</div>
<div class="bg-white p-6 rounded-lg shadow-md">
<h3 class="font-bold text-lg mb-4">Related construction tools</h3>
<ul class="space-y-3 text-sm">
<li><a href="drywall-calculator.html" class="text-blue-600 hover:underline focusable rounded">Drywall Calculator</a></li>
<li><a href="paint-calculator.html" class="text-blue-600 hover:underline focusable rounded">Paint Calculator</a></li>
<li><a href="flooring-calculator.html" class="text-blue-600 hover:underline focusable rounded">Flooring Calculator</a></li>
<li><a href="concrete-calculator.html" class="text-blue-600 hover:underline focusable rounded">Concrete Calculator</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>

<footer class="bg-white border-t">
<div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
<p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
<div class="mt-4 space-x-4">
<a href="about.html" class="hover:text-blue-600 focusable rounded">About</a>
<a href="contact.html" class="hover:text-blue-600 focusable rounded">Contact</a>
<a href="privacy.html" class="hover:text-blue-600 focusable rounded">Privacy</a>
<a href="terms.html" class="hover:text-blue-600 focusable rounded">Terms</a>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

// --- 1. Element Selection ---
const elements = {
// Mode Radios
modeRoom: document.getElementById('modeRoom'),
modeWalls: document.getElementById('modeWalls'),
modeFrame: document.getElementById('modeFrame'),
// Input Sections
roomInputs: document.getElementById('roomInputs'),
wallInputs: document.getElementById('wallInputs'),
frameInputs: document.getElementById('frameInputs'),
// Room Inputs
roomLength: document.getElementById('roomLength'),
roomWidth: document.getElementById('roomWidth'),
doorways: document.getElementById('doorways'),
doorwayWidth: document.getElementById('doorwayWidth'),
// Wall Inputs
wallLengths: document.getElementById('wallLengths'),
// Frame Inputs
frameHeight: document.getElementById('frameHeight'),
frameWidth: document.getElementById('frameWidth'),
// Common Inputs
wasteFactor: document.getElementById('wasteFactor'),
pieceLength: document.getElementById('pieceLength'),
// Action Buttons
calculateBtn: document.getElementById('calculateBtn'),
resetBtn: document.getElementById('resetBtn'),
// Results
resultsSection: document.getElementById('results'),
totalLinearFeet: document.getElementById('totalLinearFeet'),
totalWithWaste: document.getElementById('totalWithWaste'),
totalPieces: document.getElementById('totalPieces'),
// Error Spans
errors: {
roomLength: document.getElementById('roomLengthError'),
roomWidth: document.getElementById('roomWidthError'),
wallLengths: document.getElementById('wallLengthsError'),
frameHeight: document.getElementById('frameHeightError'),
frameWidth: document.getElementById('frameWidthError'),
wasteFactor: document.getElementById('wasteFactorError')
}
};

const inputs = [
elements.roomLength, elements.roomWidth, elements.wallLengths,
elements.frameHeight, elements.frameWidth, elements.wasteFactor
];

// --- 2. Event Listeners ---

// Mode Toggling
[elements.modeRoom, elements.modeWalls, elements.modeFrame].forEach(radio => {
radio.addEventListener('change', updateFormMode);
});

// Calculation & Reset
elements.calculateBtn.addEventListener('click', handleCalculate);
elements.resetBtn.addEventListener('click', handleReset);

// Inline Validation (on-blur)
inputs.forEach(input => {
if (input) {
input.addEventListener('blur', () => validateInput(input));
}
});

// --- 3. Core Functions ---

function updateFormMode() {
const mode = document.querySelector('input[name="calcMode"]:checked').value;

elements.roomInputs.classList.toggle('hidden', mode !== 'room');
elements.wallInputs.classList.toggle('hidden', mode !== 'walls');
elements.frameInputs.classList.toggle('hidden', mode !== 'frame');

// Update aria-required based on visibility
elements.roomLength.ariaRequired = (mode === 'room').toString();
elements.roomWidth.ariaRequired = (mode === 'room').toString();
elements.wallLengths.ariaRequired = (mode === 'walls').toString();
elements.frameHeight.ariaRequired = (mode === 'frame').toString();
elements.frameWidth.ariaRequired = (mode === 'frame').toString();

clearAllErrors();
}

function handleCalculate() {
if (!validateAll()) {
return; // Stop if validation fails
}

const mode = document.querySelector('input[name="calcMode"]:checked').value;
let rawLinearFeet = 0;

// Parse common values
const waste = parseFloat(elements.wasteFactor.value) / 100 || 0;
const pieceLen = parseFloat(elements.pieceLength.value) || 8;

try {
switch (mode) {
case 'room':
const roomLen = parseFloat(elements.roomLength.value) || 0;
const roomWid = parseFloat(elements.roomWidth.value) || 0;
const doors = parseInt(elements.doorways.value) || 0;
const doorWid = parseFloat(elements.doorwayWidth.value) || 0;
const perimeter = (roomLen + roomWid) * 2;
const deductions = doors * doorWid;
rawLinearFeet = Math.max(0, perimeter - deductions);
break;

case 'walls':
const lengthsStr = elements.wallLengths.value;
rawLinearFeet = lengthsStr
.split(/[\n,]+/) // Split by newline or comma
.map(val => parseFloat(val.trim()))
.filter(val => !isNaN(val) && val > 0)
.reduce((sum, len) => sum + len, 0);
break;

case 'frame':
const frameH = parseFloat(elements.frameHeight.value) || 0;
const frameW = parseFloat(elements.frameWidth.value) || 0;
rawLinearFeet = ((frameH + frameW) * 2) / 12; // Convert inches to feet
break;
}

const totalNeeded = rawLinearFeet * (1 + waste);
const totalPieces = Math.ceil(totalNeeded / pieceLen);

updateResults(rawLinearFeet, totalNeeded, totalPieces);

} catch (error) {
console.error("Calculation error:", error);
// In a real app, you might show a generic error message
}
}

function updateResults(raw, needed, pieces) {
elements.totalLinearFeet.textContent = `${raw.toFixed(2)} ft`;
elements.totalWithWaste.textContent = `${needed.toFixed(2)} ft`;
elements.totalPieces.textContent = pieces.toString();
elements.resultsSection.classList.remove('hidden');
}

function handleReset() {
document.getElementById('calculator-ui').reset();
elements.resultsSection.classList.add('hidden');
clearAllErrors();
updateFormMode(); // Reset to default mode
}

// --- 4. Validation ---

function validateInput(input) {
const errorEl = elements.errors[input.id];
if (!errorEl) return true; // No validation for this input

let isValid = true;
const val = input.value.trim();
const isRequired = input.ariaRequired === 'true';

if (isRequired && val === '') {
isValid = false;
errorEl.textContent = "This field is required.";
} else if (val !== '' && input.type === 'number' && parseFloat(val) < 0) {
isValid = false;
errorEl.textContent = "Value must be zero or greater.";
} else if (input.id === 'wallLengths' && isRequired && val !== '') {
const lengths = val.split(/[\n,]+/).map(v => parseFloat(v.trim()));
if (lengths.some(isNaN) || lengths.filter(v => v > 0).length === 0) {
isValid = false;
errorEl.textContent = "Please enter at least one valid number.";
}
} else {
isValid = true;
}

errorEl.style.display = isValid ? 'none' : 'block';
input.setAttribute('aria-invalid', (!isValid).toString());
return isValid;
}

function validateAll() {
let allValid = true;
const mode = document.querySelector('input[name="calcMode"]:checked').value;

// Validate common fields
allValid = validateInput(elements.wasteFactor) && allValid;

// Validate mode-specific fields
if (mode === 'room') {
allValid = validateInput(elements.roomLength) && allValid;
allValid = validateInput(elements.roomWidth) && allValid;
} else if (mode === 'walls') {
allValid = validateInput(elements.wallLengths) && allValid;
} else if (mode === 'frame') {
allValid = validateDOMElements(elements.frameHeight) && allValid;
allValid = validateInput(elements.frameWidth) && allValid;
}

return allValid;
}

function clearAllErrors() {
Object.values(elements.errors).forEach(errorEl => {
if (errorEl) errorEl.style.display = 'none';
});
inputs.forEach(input => {
if (input) input.setAttribute('aria-invalid', 'false');
});
}

// --- 5. Mobile Menu Toggle (from template) ---
const menuToggle = document.getElementById('mobile-menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
if (menuToggle && mobileMenu) {
menuToggle.addEventListener('click', () => {
const isHidden = mobileMenu.classList.toggle('hidden');
menuToggle.setAttribute('aria-expanded', !isHidden);
});
}

// Initial setup
updateFormMode();
});
</script>

</body>
</html>