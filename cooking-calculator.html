<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cooking Calculator — Scale Recipes, Convert Units, Estimate Roast Times</title>
  <meta name="description" content="Cooking calculator for professionals and home cooks: scale recipes precisely, convert mass and volume by ingredient density, and estimate roast times with doneness and oven settings.">
  <link rel="canonical" href="https://calcdomain.com/cooking-calculator.html">
  <meta name="theme-color" content="#0b5cff">

  <!-- Icons (optional if already globally provided) -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"/>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
  <link rel="shortcut icon" href="/favicon.ico"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
  <link rel="manifest" href="/site.webmanifest"/>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <!-- MathJax for LaTeX formulas -->
  <script defer id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* Base typography & print */
    body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
    .prose { max-width: 75ch; }
    .prose h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: .75rem; }
    .prose h3 { font-size: 1.125rem; font-weight: 700; margin-top: 1.25rem; margin-bottom: .5rem; }
    .formula-box { background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; }
    /* Focus styles (visible, high-contrast) */
    :focus-visible { outline: 3px solid #0b5cff; outline-offset: 2px; }
    /* Touch targets */
    .touch-target { min-height: 48px; min-width: 48px; }
    /* Prevent CLS on results area */
    #results-container, .results-min-height { min-height: 220px; }
    /* Error text */
    .error-text { color:#b91c1c; }
    /* Tooltip panel */
    .tip { display:none; }
    .tip[aria-hidden="false"] { display:block; }
    /* Table */
    table { border-collapse: collapse; }
    th, td { border-bottom: 1px solid #e5e7eb; }
    /* Print */
    @media print {
      header, footer, .no-print { display: none !important; }
      main { padding: 0; }
    }
  </style>

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Cooking Calculator",
    "url":"https://calcdomain.com/cooking-calculator.html",
    "inLanguage":"en",
    "description":"Scale recipes, convert units by ingredient density, and estimate roast times with doneness and oven settings.",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"}
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
      {"@type":"ListItem","position":2,"name":"Lifestyle Everyday","item":"https://calcdomain.com/lifestyle-everyday.html"},
      {"@type":"ListItem","position":3,"name":"Hobbies","item":"https://calcdomain.com/subcategories/lifestyle-hobbies.html"},
      {"@type":"ListItem","position":4,"name":"Cooking Calculator","item":"https://calcdomain.com/cooking-calculator.html"}
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"How do I scale a recipe accurately?","acceptedAnswer":{"@type":"Answer","text":"Use the Recipe Scaler: set original and desired servings to get a scale factor. Multiply each ingredient amount by that factor. For baker’s percentages or preferments, keep ratios consistent."}},
      {"@type":"Question","name":"Why do volume-to-gram conversions change by ingredient?","acceptedAnswer":{"@type":"Answer","text":"Ingredients have different densities and packing behaviors. The converter uses an ingredient-specific density (e.g., 1 cup all-purpose flour ≠ 1 cup sugar)."}},
      {"@type":"Question","name":"Are roast times exact?","acceptedAnswer":{"@type":"Answer","text":"No—ovens, pans, starting temperature, and shape affect heat transfer. Always confirm doneness with a food thermometer at the thickest part."}},
      {"@type":"Question","name":"Can I switch between metric and US units?","acceptedAnswer":{"@type":"Answer","text":"Yes. Each tool supports metric and US customary units. The converter handles grams/ounces and mL/tsp/Tbsp/cups."}},
      {"@type":"Question","name":"Do resting times matter after roasting?","acceptedAnswer":{"@type":"Answer","text":"Yes. Resting 10–20% of the cook time helps juices redistribute and finish carryover cooking."}},
      {"@type":"Question","name":"Which internal temperatures should I target?","acceptedAnswer":{"@type":"Answer","text":"Typical safe targets: poultry 74 °C/165 °F; pork 63 °C/145 °F (3-min rest); beef/lamb medium 63–65 °C/145–149 °F. Always follow your local food safety guidance."}},
      {"@type":"Question","name":"How are densities sourced?","acceptedAnswer":{"@type":"Answer","text":"Representative densities are derived from reputable charts (e.g., King Arthur Baking Ingredient Weight Chart) and standard references; they can vary by brand, grind, and packing method."}}
    ]
  }
  </script>

  <!-- JSON-LD: HowTo (Recipe scaling) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to Scale a Recipe",
    "description":"Adjust a recipe from original servings to a new yield.",
    "step":[
      {"@type":"HowToStep","name":"Set servings","text":"Enter original and desired servings."},
      {"@type":"HowToStep","name":"Add ingredients","text":"List ingredients with amounts and units."},
      {"@type":"HowToStep","name":"Apply factor","text":"The calculator multiplies each amount by the scale factor."},
      {"@type":"HowToStep","name":"Review rounding","text":"Choose rounding and unit preferences for practical measurements."}
    ]
  }
  </script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-5 flex items-center justify-between">
      <a href="index.html" class="text-xl font-extrabold text-blue-700">CalcDomain</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="hover:text-blue-700">Search</a>
        <a href="index.html#categories" class="hover:text-blue-700">Categories</a>
      </nav>
      <button class="md:hidden touch-target p-2 border rounded" aria-label="Open menu">
        <span class="sr-only">Open menu</span>☰
      </button>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-8">
    <!-- Breadcrumb -->
    <nav aria-label="Breadcrumb" class="text-sm text-gray-600 mb-4">
      <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
      <a href="lifestyle-everyday.html" class="hover:text-blue-700">Lifestyle Everyday</a> &raquo;
      <a href="subcategories/lifestyle-hobbies.html" class="hover:text-blue-700">Hobbies</a> &raquo;
      <span class="text-gray-900">Cooking Calculator</span>
    </nav>

    <!-- H1 + Intro -->
    <section class="bg-white rounded-xl shadow p-6">
      <h1 class="text-3xl font-extrabold mb-2">Cooking Calculator</h1>
      <p class="text-gray-700">A professional-grade tool to <strong>scale recipes</strong> precisely, <strong>convert units by ingredient density</strong>, and <strong>estimate roast times</strong> with doneness, oven type, and resting guidance. Built for chefs, food pros, and meticulous home cooks.</p>
    </section>

    <!-- Calculator -->
    <section class="mt-8 bg-white rounded-xl shadow p-6" aria-labelledby="calc-title">
      <h2 id="calc-title" class="text-2xl font-bold mb-4">Interactive Calculator</h2>

      <!-- Tabs -->
      <div role="tablist" aria-label="Calculator modes" class="flex flex-wrap gap-2 mb-6">
        <button id="tab-scale" role="tab" aria-selected="true" aria-controls="panel-scale"
                class="touch-target px-4 py-2 rounded border bg-blue-600 text-white">Recipe Scaler</button>
        <button id="tab-convert" role="tab" aria-selected="false" aria-controls="panel-convert"
                class="touch-target px-4 py-2 rounded border bg-white">Ingredient Converter</button>
        <button id="tab-roast" role="tab" aria-selected="false" aria-controls="panel-roast"
                class="touch-target px-4 py-2 rounded border bg-white">Roast Time Estimator</button>
      </div>

      <!-- Panels -->
      <div id="panel-scale" role="tabpanel" aria-labelledby="tab-scale">
        <form id="form-scale" novalidate class="grid gap-6">
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label for="origServ" class="block font-medium">Original servings <span aria-hidden="true" class="text-red-600">*</span></label>
              <div class="flex items-center gap-2">
                <input id="origServ" type="number" min="0.1" step="0.1" value="4" required aria-required="true"
                       aria-describedby="origServErr origServTip"
                       class="w-full border rounded px-3 py-2">
                <button type="button" class="touch-target px-2 border rounded" aria-expanded="false" aria-controls="origServTip" aria-label="Help: original servings">?</button>
              </div>
              <p id="origServTip" class="tip text-sm text-gray-600 mt-1" aria-hidden="true">Number of portions the recipe currently yields.</p>
              <p id="origServErr" class="error-text text-sm mt-1" aria-live="polite"></p>
            </div>
            <div>
              <label for="newServ" class="block font-medium">Desired servings <span aria-hidden="true" class="text-red-600">*</span></label>
              <div class="flex items-center gap-2">
                <input id="newServ" type="number" min="0.1" step="0.1" value="6" required aria-required="true"
                       aria-describedby="newServErr newServTip"
                       class="w-full border rounded px-3 py-2">
                <button type="button" class="touch-target px-2 border rounded" aria-expanded="false" aria-controls="newServTip" aria-label="Help: desired servings">?</button>
              </div>
              <p id="newServTip" class="tip text-sm text-gray-600 mt-1" aria-hidden="true">Target number of portions you want to make.</p>
              <p id="newServErr" class="error-text text-sm mt-1" aria-live="polite"></p>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <div>
              <label for="rounding" class="block font-medium">Rounding</label>
              <select id="rounding" class="border rounded px-3 py-2">
                <option value="none">Exact</option>
                <option value="friendly">Friendly (⅛, ¼, ½…)</option>
                <option value="cook">Cook-friendly (to 1 g / 1 mL)</option>
              </select>
            </div>
            <div>
              <label for="unitPref" class="block font-medium">Unit preference</label>
              <select id="unitPref" class="border rounded px-3 py-2">
                <option value="keep">Keep original</option>
                <option value="metric">Metric (g, mL)</option>
                <option value="us">US (oz, cups)</option>
              </select>
            </div>
          </div>

          <!-- Ingredient Table -->
          <div class="overflow-x-auto border rounded">
            <table class="min-w-full text-sm">
              <thead class="bg-gray-100">
                <tr>
                  <th class="text-left px-3 py-2">Qty *</th>
                  <th class="text-left px-3 py-2">Unit</th>
                  <th class="text-left px-3 py-2">Ingredient</th>
                  <th class="text-left px-3 py-2">Scaled Qty</th>
                  <th class="text-left px-3 py-2">Actions</th>
                </tr>
              </thead>
              <tbody id="scaleTbody"></tbody>
            </table>
          </div>

          <div class="flex flex-wrap gap-3 no-print">
            <button type="button" id="addRow" class="touch-target px-4 py-2 rounded bg-blue-600 text-white">Add ingredient</button>
            <button type="button" id="clearRows" class="touch-target px-4 py-2 rounded border">Clear</button>
          </div>

          <div id="scaleResults" class="results-min-height mt-4 p-4 rounded border bg-blue-50">
            <div class="grid sm:grid-cols-3 gap-4">
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Scale factor</div>
                <div id="scaleFactor" class="text-2xl font-bold">1.50×</div>
              </div>
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Servings</div>
                <div id="servingsLabel" class="text-2xl font-bold">4 → 6</div>
              </div>
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Rounding</div>
                <div id="roundingLabel" class="text-2xl font-bold">Friendly</div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div id="panel-convert" role="tabpanel" aria-labelledby="tab-convert" hidden>
        <form id="form-convert" novalidate class="grid gap-6">
          <div class="grid sm:grid-cols-3 gap-4">
            <div>
              <label for="convIngredient" class="block font-medium">Ingredient (density) <span class="text-red-600" aria-hidden="true">*</span></label>
              <select id="convIngredient" required aria-required="true" aria-describedby="convIngErr convIngTip" class="w-full border rounded px-3 py-2">
                <option value="">Select</option>
                <option value="water">Water</option>
                <option value="milk">Milk</option>
                <option value="ap_flour">All-purpose flour</option>
                <option value="bread_flour">Bread flour</option>
                <option value="sugar">Granulated sugar</option>
                <option value="brown_sugar">Brown sugar (packed)</option>
                <option value="butter">Butter</option>
                <option value="olive_oil">Olive oil</option>
                <option value="rice">Uncooked rice</option>
                <option value="salt">Table salt</option>
              </select>
              <p id="convIngTip" class="tip text-sm text-gray-600 mt-1" aria-hidden="true">Density lets us convert between volume and mass accurately.</p>
              <p id="convIngErr" class="error-text text-sm mt-1" aria-live="polite"></p>
            </div>
            <div>
              <label for="convFromQty" class="block font-medium">Amount <span class="text-red-600" aria-hidden="true">*</span></label>
              <input id="convFromQty" type="number" step="0.01" min="0" value="1" required aria-required="true" aria-describedby="convFromErr" class="w-full border rounded px-3 py-2">
              <p id="convFromErr" class="error-text text-sm mt-1" aria-live="polite"></p>
            </div>
            <div>
              <label for="convFromUnit" class="block font-medium">Unit (from) <span class="text-red-600" aria-hidden="true">*</span></label>
              <select id="convFromUnit" class="w-full border rounded px-3 py-2" aria-describedby="convFromUnitTip">
                <option value="g">g</option>
                <option value="oz">oz</option>
                <option value="ml">mL</option>
                <option value="tsp">tsp</option>
                <option value="tbsp">Tbsp</option>
                <option value="cup">cup</option>
              </select>
              <p id="convFromUnitTip" class="text-sm text-gray-600 mt-1">Choose a mass (g/oz) or volume unit (mL/tsp/Tbsp/cup).</p>
            </div>
          </div>

          <div class="grid sm:grid-cols-3 gap-4">
            <div>
              <label for="convToUnit" class="block font-medium">Unit (to) <span class="text-red-600" aria-hidden="true">*</span></label>
              <select id="convToUnit" class="w-full border rounded px-3 py-2">
                <option value="g">g</option>
                <option value="oz">oz</option>
                <option value="ml">mL</option>
                <option value="tsp">tsp</option>
                <option value="tbsp">Tbsp</option>
                <option value="cup">cup</option>
              </select>
            </div>
            <div class="flex items-end">
              <button type="button" id="btnConvert" class="touch-target px-4 py-2 rounded bg-blue-600 text-white">Convert</button>
            </div>
            <div class="flex items-end">
              <div class="p-3 rounded bg-blue-50 border w-full">
                <div class="text-xs uppercase text-gray-500">Result</div>
                <div id="convResult" class="text-2xl font-bold">—</div>
              </div>
            </div>
          </div>

          <details class="bg-gray-50 rounded p-4">
            <summary class="font-semibold">View density table used</summary>
            <div class="overflow-x-auto mt-3">
              <table class="min-w-full text-sm">
                <thead class="bg-gray-100">
                  <tr>
                    <th class="text-left px-3 py-2">Ingredient</th>
                    <th class="text-left px-3 py-2">g per cup</th>
                    <th class="text-left px-3 py-2">Notes</th>
                  </tr>
                </thead>
                <tbody id="densityTableBody"></tbody>
              </table>
            </div>
          </details>
        </form>
      </div>

      <div id="panel-roast" role="tabpanel" aria-labelledby="tab-roast" hidden>
        <form id="form-roast" novalidate class="grid gap-6">
          <div class="grid sm:grid-cols-3 gap-4">
            <div>
              <label for="meatType" class="block font-medium">Meat type <span class="text-red-600" aria-hidden="true">*</span></label>
              <select id="meatType" class="w-full border rounded px-3 py-2" aria-required="true">
                <option value="beef_roast">Beef roast</option>
                <option value="pork_loin">Pork loin</option>
                <option value="lamb_leg">Lamb leg</option>
                <option value="chicken_whole">Chicken (whole)</option>
                <option value="turkey_whole">Turkey (whole)</option>
              </select>
            </div>
            <div>
              <label for="weightVal" class="block font-medium">Weight <span class="text-red-600" aria-hidden="true">*</span></label>
              <input id="weightVal" type="number" step="0.01" min="0.25" value="1.5" aria-describedby="wErr wTip" class="w-full border rounded px-3 py-2">
              <p id="wTip" class="text-sm text-gray-600 mt-1">Birds: total ready-to-roast weight, without giblets.</p>
              <p id="wErr" class="error-text text-sm mt-1" aria-live="polite"></p>
            </div>
            <div>
              <label for="weightUnit" class="block font-medium">Weight unit</label>
              <select id="weightUnit" class="w-full border rounded px-3 py-2">
                <option value="kg">kg</option>
                <option value="lb">lb</option>
              </select>
            </div>
          </div>

          <div class="grid sm:grid-cols-3 gap-4">
            <div>
              <label for="doneness" class="block font-medium">Doneness</label>
              <select id="doneness" class="w-full border rounded px-3 py-2">
                <option value="medium">Medium</option>
                <option value="medium_rare">Medium-rare</option>
                <option value="well">Well done</option>
              </select>
            </div>
            <div>
              <label for="ovenType" class="block font-medium">Oven type</label>
              <select id="ovenType" class="w-full border rounded px-3 py-2">
                <option value="conventional">Conventional</option>
                <option value="convection">Convection (fan)</option>
              </select>
            </div>
            <div>
              <label for="ovenTemp" class="block font-medium">Oven temp</label>
              <select id="ovenTemp" class="w-full border rounded px-3 py-2">
                <option value="180C">180 °C</option>
                <option value="200C">200 °C</option>
                <option value="350F">350 °F</option>
                <option value="400F">400 °F</option>
              </select>
            </div>
          </div>

          <div class="flex flex-wrap gap-3 no-print">
            <button type="button" id="btnRoast" class="touch-target px-4 py-2 rounded bg-blue-600 text-white">Estimate time</button>
            <button type="button" id="btnRoastReset" class="touch-target px-4 py-2 rounded border">Reset</button>
          </div>

          <div id="roastResults" class="results-min-height mt-4 p-4 rounded border bg-blue-50">
            <div class="grid sm:grid-cols-3 gap-4">
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Cook time</div>
                <div id="cookTime" class="text-2xl font-bold">—</div>
              </div>
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Rest time</div>
                <div id="restTime" class="text-2xl font-bold">—</div>
              </div>
              <div class="p-3 rounded bg-white border text-center">
                <div class="text-xs uppercase text-gray-500">Target internal temp</div>
                <div id="targetTemp" class="text-2xl font-bold">—</div>
              </div>
            </div>
            <p class="mt-3 text-gray-700 text-sm">Always confirm with a calibrated food thermometer at the thickest part, avoiding bone.</p>
          </div>
        </form>
      </div>
    </section>

    <!-- Results anchor (for CLS budget) -->
    <section id="results-container" class="mt-8"></section>

    <!-- E-E-A-T Content -->
    <section class="mt-8 bg-white rounded-xl shadow p-6 prose">
      <h2>Authoritative Data Source &amp; Methodology</h2>
      <p><strong>AuthoritativeDataSource:</strong> Ingredient densities and weights reference <a href="https://www.kingarthurbaking.com/learn/ingredient-weight-chart" target="_blank" rel="noopener">King Arthur Baking – Ingredient Weight Chart</a> (accessed 2025); water density ≈ 1 g/mL at room temperature (standard reference). Poultry and roast doneness targets reflect widely adopted food safety guidance (e.g., USDA/EFSA style targets) and manufacturer guidance (e.g., Butterball turkey timing as a benchmark). <br><em>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</em></p>

      <h2>The Formulas Explained</h2>
      <div class="formula-box">
        <p><strong>Recipe scaling</strong>: $$q_{new} = q_{orig} \times \frac{S_{new}}{S_{orig}}$$</p>
        <p><strong>Mass–volume conversion with density</strong>: $$m = \rho \cdot V \quad\text{and}\quad V = \frac{m}{\rho}$$ where \( \rho \) is ingredient-specific (e.g., g/mL).</p>
        <p><strong>Roast time (affine model)</strong>: $$t = a \cdot w + b$$ where \(t\) is time, \(w\) is weight, \(a,b\) depend on meat type and oven. Convection typically reduces \(t\) by ~15–20%.</p>
      </div>

      <h2>Glossary of Variables</h2>
      <ul>
        <li><strong>\(S_{orig}\), \(S_{new}\)</strong>: Original and desired servings.</li>
        <li><strong>\(q_{orig}\), \(q_{new}\)</strong>: Ingredient quantity before/after scaling.</li>
        <li><strong>\(\rho\)</strong>: Ingredient density (g/mL), varies by ingredient and packing.</li>
        <li><strong>\(m\)</strong>: Mass (g or oz).</li>
        <li><strong>\(V\)</strong>: Volume (mL, tsp, Tbsp, cup).</li>
        <li><strong>\(t\)</strong>: Roast time (minutes); <strong>\(w\)</strong>: weight (kg or lb).</li>
      </ul>

      <h2>How It Works: A Step-by-Step Example</h2>
      <p><strong>Goal:</strong> Scale a 4-serving pasta recipe to 10 servings and convert 2 cups of flour to grams.</p>
      <ol>
        <li>Set \(S_{orig}=4\), \(S_{new}=10\) ⇒ scale factor \(=2.5\).</li>
        <li>Flour 2 cups × 2.5 = 5 cups. Using density (AP flour ≈ 120 g/cup), \(m = 5 \times 120 = 600\) g.</li>
        <li>Add practical rounding if needed (e.g., to nearest 5 g).</li>
      </ol>

      <h2>FAQ</h2>
      <details><summary>Do densities vary by brand and packing?</summary><p>Yes. Spoon-and-sweep vs. scoop-packed flour can differ by 10–20%. Our defaults are pro-friendly references; adjust to your house standards if needed.</p></details>
      <details><summary>How does convection change cook time?</summary><p>Fan ovens promote heat transfer; a 15–20% time reduction is typical. We apply a reduction factor within that band.</p></details>
      <details><summary>Why “friendly rounding”?</summary><p>Professional kitchens need practical measures (⅛, ¼, ½ cup, etc.). Friendly rounding keeps accuracy while yielding workable measures.</p></details>
      <details><summary>What temperatures are considered safe?</summary><p>Poultry 74 °C/165 °F; pork 63 °C/145 °F with rest; ground meats 71 °C/160 °F unless otherwise specified. Always follow local regulations.</p></details>
      <details><summary>Can I export results?</summary><p>Use the browser’s print to PDF for clean output. Table layouts are optimized for print.</p></details>

      <div class="mt-6 p-4 bg-gray-50 border rounded text-sm text-gray-700">
        <p><strong>Tool developed by Ugo Candido.</strong> Culinary content reviewed by CalcDomain Editorial Board.<br>
        Last accuracy review: <time datetime="2025-10-30">October 30, 2025</time></p>
      </div>
    </section>
  </main>

  <footer class="bg-white border-t mt-10">
    <div class="max-w-6xl mx-auto px-4 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Logic (defer) -->
  <script defer>
  // --- Accessibility helpers (tooltips) ---
  document.addEventListener('click', (e) => {
    if (e.target.matches('button[aria-controls]')) {
      const btn = e.target;
      const id = btn.getAttribute('aria-controls');
      const tip = document.getElementById(id);
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!expanded));
      if (tip) tip.setAttribute('aria-hidden', String(expanded));
    }
  });

  // --- Tabs ---
  const tabs = [
    {tab:'tab-scale', panel:'panel-scale'},
    {tab:'tab-convert', panel:'panel-convert'},
    {tab:'tab-roast', panel:'panel-roast'}
  ];
  tabs.forEach(({tab, panel}) => {
    document.getElementById(tab).addEventListener('click', () => {
      tabs.forEach(({tab: t, panel: p}) => {
        document.getElementById(t).setAttribute('aria-selected', t===tab ? 'true':'false');
        const pane = document.getElementById(p);
        if (p===panel) { pane.hidden = false; }
        else { pane.hidden = true; }
      });
    });
  });

  // --- Recipe Scaler ---
  const scaleTbody = document.getElementById('scaleTbody');
  const origServ = document.getElementById('origServ');
  const newServ  = document.getElementById('newServ');
  const rounding = document.getElementById('rounding');
  const unitPref = document.getElementById('unitPref');
  const scaleFactorEl = document.getElementById('scaleFactor');
  const servingsLabel = document.getElementById('servingsLabel');
  const roundingLabel = document.getElementById('roundingLabel');

  const units = ['g','kg','oz','lb','ml','tsp','tbsp','cup','piece'];
  function makeRow(q=100, u='g', name='Ingredient') {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="px-3 py-2"><input type="number" step="0.01" min="0" value="${q}" class="border rounded px-2 py-1 w-28 ing-qty" aria-label="Quantity"></td>
      <td class="px-3 py-2">
        <select class="border rounded px-2 py-1 ing-unit" aria-label="Unit">
          ${units.map(x=>`<option ${x===u?'selected':''}>${x}</option>`).join('')}
        </select>
      </td>
      <td class="px-3 py-2"><input type="text" value="${name}" class="border rounded px-2 py-1 w-64 ing-name" aria-label="Ingredient name"></td>
      <td class="px-3 py-2"><output class="font-semibold ing-out">—</output></td>
      <td class="px-3 py-2">
        <button type="button" class="touch-target px-3 py-1 rounded border remove-row" aria-label="Remove row">Remove</button>
      </td>`;
    scaleTbody.appendChild(tr);
  }
  document.getElementById('addRow').addEventListener('click', ()=>{ makeRow(); updateScale(); });
  document.getElementById('clearRows').addEventListener('click', ()=>{ scaleTbody.innerHTML=''; updateScale(); });
  scaleTbody.addEventListener('click', (e)=>{ if (e.target.classList.contains('remove-row')) { e.target.closest('tr').remove(); updateScale(); }});
  scaleTbody.addEventListener('input', (e)=>{ if (e.target.matches('.ing-qty, .ing-unit, .ing-name')) updateScale(); });

  // Seed 3 rows
  ['g','ml','piece'].forEach((u,i)=> makeRow(i? (i===1?200:2):100, u, ['Flour','Milk','Egg'][i]));

  function friendlyFraction(x) {
    // Round to nearest eighth for cups/spoons display
    const eighth = Math.round(x*8)/8;
    const whole = Math.floor(eighth);
    const frac = eighth - whole;
    const map = {0:'', 0.125:'1/8', 0.25:'1/4', 0.375:'3/8', 0.5:'1/2', 0.625:'5/8', 0.75:'3/4', 0.875:'7/8'};
    return whole + (map[frac] ? (whole? ' ':'')+map[frac] : '');
  }

  function roundByMode(val, unit) {
    const mode = rounding.value;
    if (mode==='none') return val;
    if (mode==='cook') {
      // 1 g / 1 mL, 0.1 oz, 1/4 tsp
      if (['g','ml'].includes(unit)) return Math.round(val);
      if (unit==='oz') return Math.round(val*10)/10;
      if (unit==='tsp') return Math.round(val*4)/4;
      if (unit==='tbsp') return Math.round(val*2)/2;
      if (unit==='cup') return Math.round(val*8)/8;
      return Math.round(val*100)/100;
    }
    if (mode==='friendly') {
      if (unit==='cup') return Math.round(val*8)/8;
      if (unit==='tbsp') return Math.round(val*2)/2;
      if (unit==='tsp') return Math.round(val*4)/4;
      return Math.round(val*10)/10;
    }
    return val;
  }

  function updateScale() {
    // Inline validation
    const o = parseFloat(origServ.value);
    const n = parseFloat(newServ.value);
    const origErr = document.getElementById('origServErr');
    const newErr  = document.getElementById('newServErr');
    origErr.textContent = (isNaN(o) || o<=0) ? 'Enter a positive number for original servings.' : '';
    newErr.textContent  = (isNaN(n) || n<=0) ? 'Enter a positive number for desired servings.' : '';
    if (isNaN(o)||o<=0||isNaN(n)||n<=0) return;

    const factor = n/o;
    scaleFactorEl.textContent = `${factor.toFixed(2)}×`;
    servingsLabel.textContent = `${o} → ${n}`;
    roundingLabel.textContent = (rounding.value==='none'?'Exact':(rounding.value==='friendly'?'Friendly':'Cook-friendly'));

    [...scaleTbody.querySelectorAll('tr')].forEach(tr=>{
      const qty = parseFloat(tr.querySelector('.ing-qty').value) || 0;
      let unit = tr.querySelector('.ing-unit').value;
      let outUnit = unit;
      let newQty = qty * factor;

      // Optional unit conversion preference
      if (unitPref.value==='metric') {
        if (unit==='oz') { newQty *= 28.3495; outUnit='g'; }
        if (unit==='lb') { newQty *= 453.592; outUnit='g'; }
        if (unit==='cup') { newQty *= 236.588; outUnit='ml'; }
        if (unit==='tbsp') { newQty *= 14.7868; outUnit='ml'; }
        if (unit==='tsp') { newQty *= 4.92892; outUnit='ml'; }
        if (unit==='kg') { /* already metric */ }
      } else if (unitPref.value==='us') {
        if (unit==='g')   { outUnit='oz'; newQty /= 28.3495; }
        if (unit==='kg')  { outUnit='lb'; newQty *= 2.20462; }
        if (unit==='ml')  { outUnit='cup'; newQty /= 236.588; }
      }

      newQty = roundByMode(newQty, outUnit);
      const out = tr.querySelector('.ing-out');

      if (rounding.value==='friendly' && outUnit==='cup') {
        out.textContent = `${friendlyFraction(newQty)} ${outUnit}`;
      } else {
        out.textContent = `${newQty} ${outUnit}`;
      }
    });
  }

  ['input','change','blur'].forEach(evt=>{
    origServ.addEventListener(evt, updateScale);
    newServ.addEventListener(evt, updateScale);
    rounding.addEventListener(evt, updateScale);
    unitPref.addEventListener(evt, updateScale);
  });
  updateScale();

  // --- Ingredient Converter ---
  const densities = {
    // g per cup and derived g/mL
    water:        { name:'Water', gPerCup: 236.588, note:'~1 g/mL at room temp' },
    milk:         { name:'Milk', gPerCup: 245, note:'Whole milk (avg)' },
    ap_flour:     { name:'All-purpose flour', gPerCup: 120, note:'Spoon & level' },
    bread_flour:  { name:'Bread flour', gPerCup: 127, note:'Spoon & level' },
    sugar:        { name:'Granulated sugar', gPerCup: 200, note:'' },
    brown_sugar:  { name:'Brown sugar (packed)', gPerCup: 220, note:'Firmly packed' },
    butter:       { name:'Butter', gPerCup: 227, note:'2 sticks' },
    olive_oil:    { name:'Olive oil', gPerCup: 216, note:'~0.92 g/mL' },
    rice:         { name:'Uncooked rice', gPerCup: 195, note:'Long-grain' },
    salt:         { name:'Table salt', gPerCup: 288, note:'Fine' }
  };
  const mlPerCup = 236.588;
  function toGrams(value, unit, rho_g_per_ml) {
    if (unit==='g') return value;
    if (unit==='oz') return value * 28.3495;
    if (unit==='ml') return value * rho_g_per_ml;
    if (unit==='tsp') return value * 4.92892 * rho_g_per_ml;
    if (unit==='tbsp') return value * 14.7868 * rho_g_per_ml;
    if (unit==='cup') return value * mlPerCup * rho_g_per_ml;
    return NaN;
  }
  function fromGrams(g, unit, rho_g_per_ml) {
    if (unit==='g') return g;
    if (unit==='oz') return g / 28.3495;
    if (unit==='ml') return g / rho_g_per_ml;
    if (unit==='tsp') return (g / rho_g_per_ml) / 4.92892;
    if (unit==='tbsp') return (g / rho_g_per_ml) / 14.7868;
    if (unit==='cup') return (g / rho_g_per_ml) / mlPerCup;
    return NaN;
  }

  const convIngredient = document.getElementById('convIngredient');
  const convFromQty = document.getElementById('convFromQty');
  const convFromUnit = document.getElementById('convFromUnit');
  const convToUnit = document.getElementById('convToUnit');
  const convResult = document.getElementById('convResult');
  const btnConvert = document.getElementById('btnConvert');
  const convIngErr = document.getElementById('convIngErr');
  const convFromErr = document.getElementById('convFromErr');

  function fillDensityTable() {
    const tbody = document.getElementById('densityTableBody');
    tbody.innerHTML = '';
    Object.entries(densities).forEach(([key, v])=>{
      const tr = document.createElement('tr');
      tr.innerHTML = `<td class="px-3 py-2">${v.name}</td><td class="px-3 py-2">${v.gPerCup}</td><td class="px-3 py-2">${v.note||''}</td>`;
      tbody.appendChild(tr);
    });
  }
  fillDensityTable();

  function convertNow() {
    convIngErr.textContent = '';
    convFromErr.textContent = '';
    const ingKey = convIngredient.value;
    const qty = parseFloat(convFromQty.value);
    if (!ingKey) convIngErr.textContent = 'Select an ingredient.';
    if (!(qty>=0)) convFromErr.textContent = 'Enter a non-negative amount.';
    if (!ingKey || !(qty>=0)) return;

    const rho = densities[ingKey].gPerCup / mlPerCup; // g/mL
    const grams = toGrams(qty, convFromUnit.value, rho);
    if (!isFinite(grams)) { convResult.textContent = '—'; return; }
    let out = fromGrams(grams, convToUnit.value, rho);

    // Practical rounding
    const unit = convToUnit.value;
    if (['g','ml'].includes(unit)) out = Math.round(out);
    else if (['oz','cup'].includes(unit)) out = Math.round(out*100)/100;
    else if (unit==='tbsp') out = Math.round(out*4)/4;
    else if (unit==='tsp') out = Math.round(out*4)/4;

    // Friendly fractions for cups/tsp/Tbsp
    function frac(u, val) {
      if (!['cup','tsp','tbsp'].includes(u)) return val.toString();
      const eighth = Math.round(val*8)/8;
      const whole = Math.floor(eighth);
      const frac = eighth - whole;
      const map = {0:'', 0.125:'1/8', 0.25:'1/4', 0.375:'3/8', 0.5:'1/2', 0.625:'5/8', 0.75:'3/4', 0.875:'7/8'};
      return whole + (map[frac] ? (whole? ' ':'')+map[frac] : '');
    }
    convResult.textContent = `${frac(unit, out)} ${unit}`;
  }
  btnConvert.addEventListener('click', convertNow);

  // --- Roast Time Estimator ---
  const btnRoast = document.getElementById('btnRoast');
  const btnRoastReset = document.getElementById('btnRoastReset');
  const cookTime = document.getElementById('cookTime');
  const restTime = document.getElementById('restTime');
  const targetTemp = document.getElementById('targetTemp');

  function minutesToHMM(mins) {
    const h = Math.floor(mins/60);
    const m = Math.round(mins%60);
    if (h<=0) return `${m} min`;
    return `${h} h ${m} min`;
    }

  function getTargetTemp(meat, doneness) {
    // Simplified professional targets; always follow local food safety guidance.
    if (meat==='chicken_whole' || meat==='turkey_whole') return '74 °C / 165 °F';
    if (meat==='pork_loin') return '63 °C / 145 °F (rest 3 min)';
    if (meat==='beef_roast' || meat==='lamb_leg') {
      if (doneness==='medium_rare') return '57–60 °C / 135–140 °F';
      if (doneness==='medium') return '63–65 °C / 145–149 °F';
      return '70 °C+ / 158 °F+';
    }
    return '—';
  }

  function estimateRoast() {
    const meat = document.getElementById('meatType').value;
    const unit = document.getElementById('weightUnit').value;
    const doneness = document.getElementById('doneness').value;
    const ovenType = document.getElementById('ovenType').value;
    const ovenTemp = document.getElementById('ovenTemp').value;
    const wVal = parseFloat(document.getElementById('weightVal').value);

    const wErr = document.getElementById('wErr');
    wErr.textContent = (!isFinite(wVal) || wVal<=0) ? 'Enter a positive weight.' : '';
    if (!isFinite(wVal) || wVal<=0) return;

    // Normalize weight in kg
    const kg = unit==='kg' ? wVal : (wVal * 0.453592);

    // Timing model (baseline ~180°C / 350°F conv.)
    // affine: t = a*w + b (minutes), per meat & doneness
    let a=0, b=0;
    switch (meat) {
      case 'beef_roast':
        if (doneness==='medium_rare') { a=55; b=0; }     // ~55 min per kg
        else if (doneness==='medium') { a=60; b=0; }
        else { a=70; b=0; } // well
        break;
      case 'pork_loin':
        a=55; b=0;
        break;
      case 'lamb_leg':
        if (doneness==='medium_rare') { a=50; b=0; }
        else if (doneness==='medium') { a=55; b=0; }
        else { a=65; b=0; }
        break;
      case 'chicken_whole':
        a=45; b=20; // classic 20 min + 45 min/kg
        break;
      case 'turkey_whole':
        a=40; b=40; // rough guide: 40 min/kg + 40
        break;
    }

    // Oven temp adjustment
    let tempFactor = 1.0;
    if (ovenTemp==='200C' || ovenTemp==='400F') tempFactor = 0.9;
    if (ovenTemp==='180C' || ovenTemp==='350F') tempFactor = 1.0;

    // Convection adjustment
    const convFactor = (ovenType==='convection') ? 0.85 : 1.0;

    let minutes = (a*kg + b) * tempFactor * convFactor;

    // Resting 10–20% of cook time
    const rest = minutes * 0.15;

    cookTime.textContent = minutesToHMM(minutes);
    restTime.textContent = minutesToHMM(rest);
    targetTemp.textContent = getTargetTemp(meat, doneness);
  }
  btnRoast.addEventListener('click', estimateRoast);
  btnRoastReset.addEventListener('click', ()=>{
    document.getElementById('form-roast').reset();
    cookTime.textContent = '—';
    restTime.textContent = '—';
    targetTemp.textContent = '—';
  });

  // Validate on blur for required fields
  ['origServ','newServ','convIngredient','convFromQty','weightVal'].forEach(id=>{
    const el = document.getElementById(id);
    el.addEventListener('blur', ()=> {
      if (id==='origServ' || id==='newServ') updateScale();
      if (id==='convIngredient' || id==='convFromQty') {/* handled at convert */}
      if (id==='weightVal') estimateRoast();
    });
  });
  </script>
</body>
</html>
