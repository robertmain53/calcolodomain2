<!DOCTYPE html>
<html lang="en"><head> 
<link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg" />
<link rel="shortcut icon" href="https://calcdomain.com/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png" />
<link rel="manifest" href="https://calcdomain.com/site.webmanifest" />
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">
<title>Polynomial Calculator | CalcDomain</title>
<meta content="Professional polynomial calculator: simplify, evaluate, add, multiply, divide (quotient &amp; remainder), derivative, antiderivative, rational factorization, and plotting. Built for students, educators, and engineers." name="description">
<meta content="Ugo Candido" name="author">
<link href="https://calcdomain.com/polynomial-calculator.html" rel="canonical">
<meta content="#0b62a4" name="theme-color">
<!-- Fonts: system stack for zero layout shift -->
<style>
    /* === Critical, mobile-first CSS (WCAG AA) === */
    :root{
      --primary:#0b62a4; --secondary:#083d66; --bg:#f7f8fa; --surface:#fff;
      --text:#1e2328; --muted:#6a7683; --border:#e2e6ea;
      --success:#1a7f37; --danger:#c0353a; --warning:#b8860b;
      --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --sans:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
      --gap-sm:.5rem; --gap:.9rem; --gap-lg:1.5rem; --radius:12px;
      --touch:48px;
      --container:1100px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:16px}
    body{margin:0;font-family:var(--sans);background:var(--bg);color:var(--text);line-height:1.6;-webkit-font-smoothing:antialiased}
    a{color:var(--primary);text-decoration:none}
    a:hover{text-decoration:underline}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .skip-link{position:absolute;left:.5rem;top:-40px;background:var(--primary);color:#fff;padding:.5rem .75rem;border-radius:6px;z-index:1000}
    .skip-link:focus{top:.5rem}

    header{background:var(--surface);border-bottom:1px solid var(--border)}
    .header-inner{max-width:var(--container);margin:0 auto;padding:.75rem 1rem;display:grid;grid-template-columns:auto 1fr auto;gap:.75rem;align-items:center}
    .logo{font-weight:800;color:var(--primary);font-size:1.125rem}
    .site-search{display:flex;gap:.5rem;align-items:center}
    .site-search input[type="search"]{flex:1 1 auto;min-width:0;border:1px solid var(--border);border-radius:8px;padding:.6rem .75rem}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:var(--touch);min-width:var(--touch);padding:.6rem .9rem;border-radius:10px;border:1px solid transparent;font-weight:650;cursor:pointer}
    .btn:focus{outline:3px solid var(--primary);outline-offset:2px}
    .btn-primary{background:var(--primary);color:#fff;border-color:var(--primary)}
    .btn-secondary{background:transparent;color:var(--primary);border-color:var(--primary)}

    nav .nav-list{display:flex;gap:.75rem;list-style:none;margin:0;padding:0}
    nav a{display:block;padding:.35rem .5rem;border-radius:8px;color:var(--secondary)}
    nav a:focus{outline:3px solid var(--primary);outline-offset:2px}

    main{max-width:var(--container);margin:0 auto;padding:1rem}
    h1{font-size:clamp(1.6rem,4.5vw,2.25rem);line-height:1.2;margin:.25rem 0 .75rem;color:var(--secondary)}
    h2{font-size:clamp(1.3rem,3.5vw,1.6rem);margin:1.25rem 0 .5rem;color:var(--secondary)}
    h3{font-size:1.1rem;margin:1rem 0 .5rem;color:var(--secondary)}
    p{margin:.5rem 0 1rem;max-width:75ch}

    .layout{display:grid;grid-template-columns:1fr;gap:var(--gap-lg)}
    @media (min-width: 980px){ .layout{grid-template-columns:420px 1fr} }

    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;box-shadow:0 1px 2px rgba(0,0,0,.04)}
    .calc .form-group{margin-bottom:1rem}
    label{display:block;font-weight:700;margin-bottom:.35rem}
    .hint{font-size:.9rem;color:var(--muted)}
    .tooltip{margin-left:.35rem}
    .tooltip button{inline-size:var(--touch);block-size:var(--touch);min-width:var(--touch);min-height:var(--touch);border-radius:999px;border:1px solid var(--border);background:#fff;cursor:pointer}
    .tooltip-content{display:none;margin-top:.35rem;font-size:.925rem;color:#1d2731;background:#eef4fb;border-left:4px solid var(--primary);padding:.5rem .75rem;border-radius:8px}
    .tooltip-content[aria-hidden="false"]{display:block}

    .grid-2{display:grid;grid-template-columns:1fr;gap:var(--gap)}
    @media (min-width:640px){.grid-2{grid-template-columns:1fr 1fr}}
    input[type="text"],input[type="number"],select{width:100%;border:1px solid var(--border);border-radius:8px;padding:.7rem .8rem;font-size:1rem}
    input:focus,select:focus{outline:3px solid #cfe6f9;outline-offset:2px;border-color:var(--primary)}
    .error{color:var(--danger);font-size:.92rem;margin-top:.35rem}
    .btn-row{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}

    .results{min-height:260px;border:1px solid var(--border);border-radius:var(--radius);background:#fbfcfd;padding:1rem}
    .result-line{display:flex;justify-content:space-between;gap:.5rem;padding:.5rem 0;border-bottom:1px dashed var(--border)}
    .result-line:last-child{border-bottom:none}
    .value{font-weight:800}
    .mono{font-family:var(--mono);font-size:.95rem}
    .badge{display:inline-block;border:1px solid var(--border);padding:.2rem .5rem;border-radius:999px;font-size:.8rem;background:#fff}

    .plot-wrap{background:#fff;border:1px solid var(--border);border-radius:var(--radius);padding:.5rem}
    canvas{width:100%;height:320px;display:block}

    footer{margin-top:2rem;padding:1.25rem;border-top:1px solid var(--border);color:var(--muted);font-size:.95rem}
    .author-box{margin-top:1rem;font-size:.95rem;color:var(--muted);border-top:1px solid var(--border);padding-top:.75rem}

    /* High-contrast & reduced-motion preferences */
    @media (prefers-contrast: more){
      a, .btn-primary{outline-color:#000}
      :root{--primary:#003366;--secondary:#001e36;--text:#000}
    }
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto !important;transition:none !important}
    }
  </style>
<!-- Structured data (E-E-A-T, HowTo example, FAQ) -->
<script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Polynomial Calculator",
    "description":"Professional polynomial calculator to simplify, evaluate, add, multiply, divide, differentiate, integrate, factor (rational), and plot.",
    "url":"https://calcdomain.com/polynomial-calculator.html",
    "inLanguage":"en",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"},
    "mainEntity":[
      {
        "@type":"HowTo",
        "name":"Worked Example: Dividing polynomials",
        "description":"Divide P(x)=2x^3-3x^2-11x+6 by D(x)=x-2 to get quotient and remainder.",
        "step":[
          {"@type":"HowToStep","name":"Enter polynomials","text":"Enter P(x) in the first field and D(x) in the second field."},
          {"@type":"HowToStep","name":"Choose operation","text":"Select “Divide (Quotient & Remainder)” and press Calculate."},
          {"@type":"HowToStep","name":"Read results","text":"The tool shows Q(x)=2x^2+x-9 and R(x)=-12 so P(x)=D(x)·Q(x)+R(x)."}
        ]
      },
      {
        "@type":"FAQPage",
        "mainEntity":[
          {"@type":"Question","name":"What formats can I type in?","acceptedAnswer":{"@type":"Answer","text":"You can enter expressions like 3x^4 - 2x^2 + 5x - 7. Use ^ for exponents, and the variable x. Coefficients may be integers or decimals."}},
          {"@type":"Question","name":"Does it factor every polynomial?","acceptedAnswer":{"@type":"Answer","text":"The tool performs exact rational factorization (via the Rational Root Theorem) and completes remaining quadratic factors. Fully general symbolic factorization is not guaranteed."}},
          {"@type":"Question","name":"How are derivatives and integrals computed?","acceptedAnswer":{"@type":"Answer","text":"They follow power rules: (ax^n)' = a·n·x^(n-1) and ∫ax^n dx = a·x^(n+1)/(n+1) + C (n ≠ -1)."}},
          {"@type":"Question","name":"How are numeric plots drawn?","acceptedAnswer":{"@type":"Answer","text":"The function is sampled uniformly across the selected window and linearly connected. Axes and grid help interpret intercepts and turning points."}},
          {"@type":"Question","name":"Can I divide polynomials with remainder?","acceptedAnswer":{"@type":"Answer","text":"Yes. The division algorithm returns quotient Q(x) and remainder R(x) with deg R < deg D."}},
          {"@type":"Question","name":"Which browsers are supported?","acceptedAnswer":{"@type":"Answer","text":"Modern evergreen browsers (desktop and mobile). No plugins required."}}
        ]
      }
    ]
  }
  </script>
<!-- MathJax for LaTeX rendering -->
<script defer="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
</head>
<body>

<a class="skip-link" href="#main-content">Skip to main content</a>
<header aria-label="Site">
<div class="header-inner">
<a aria-label="CalcDomain — Home" class="logo" href="https://calcdomain.com/">CalcDomain</a>
<form aria-label="Site-wide" class="site-search" onsubmit="window.location.href='/search.html?q='+encodeURIComponent(this.q.value); return false;" role="search">
<label class="sr-only" for="q">Search calculators</label>
<input autocomplete="off" id="q" name="q" placeholder="Search calculators…" type="search">
<button aria-label="Submit search" class="btn btn-secondary" type="submit">Search</button>
</form>
<nav aria-label="Main">
<ul class="nav-list">
<li><a href="https://calcdomain.com/math.html">Math</a></li>
<li><a href="https://calcdomain.com/science.html">Science</a></li>
<li><a href="https://calcdomain.com/engineering.html">Engineering</a></li>
</ul>
</nav>
</div>
</header>
<main id="main-content">
<h1>Polynomial Calculator</h1>
<p>
      A professional tool to <strong>simplify, evaluate, add, multiply, divide (quotient &amp; remainder), differentiate, integrate,
      rationally factor, and plot</strong> polynomials in <span class="badge">x</span>. Designed for students, teachers, and engineers who need both
      <em>speed</em> and <em>accuracy</em> with a clear, accessible UX.
    </p>
<div class="layout">
<!-- Calculator -->
<section aria-labelledby="calc-heading" class="card calc">
<h2 id="calc-heading">Calculator</h2>
<div class="form-group">
<label for="polyA">Polynomial \(P(x)\) *</label>
<div class="tooltip">
<button aria-controls="tipA" aria-expanded="false" aria-label="Toggle help for P(x)" onclick="toggleTip('tipA', this)" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip-content" id="tipA">
            Examples: <code class="mono">3x^4 - 2x^2 + 5x - 7</code>, <code class="mono">0.5x^3 - x + 1</code>.
            Use <code class="mono">^</code> for exponent, omit the <code class="mono">*</code> between number and <code class="mono">x</code>.
          </div>
<input aria-describedby="errA tipA" aria-required="true" id="polyA" inputmode="text" placeholder="e.g., 2x^3 - 3x^2 - 11x + 6" type="text">
<div aria-live="polite" class="error" id="errA" role="alert"></div>
</div>
<div class="form-group">
<label for="polyB">Second Polynomial \(Q(x)\) (optional)</label>
<div class="tooltip">
<button aria-controls="tipB" aria-expanded="false" aria-label="Toggle help for Q(x)" onclick="toggleTip('tipB', this)" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip-content" id="tipB">
            Provide when adding, multiplying, or dividing. Example: <code class="mono">x - 2</code>.
          </div>
<input aria-describedby="tipB" id="polyB" inputmode="text" placeholder="e.g., x - 2" type="text">
</div>
<div class="grid-2">
<div class="form-group">
<label for="operation">Operation *</label>
<select aria-required="true" id="operation">
<option value="simplify">Simplify / Canonical form</option>
<option value="evaluate">Evaluate at x = value</option>
<option value="add">Add P(x) + Q(x)</option>
<option value="multiply">Multiply P(x) · Q(x)</option>
<option value="divide">Divide P(x) ÷ Q(x) (Q &amp; R)</option>
<option value="derivative">Derivative P'(x)</option>
<option value="integral">Antiderivative ∫P(x)dx + C</option>
<option value="factor">Rational factorization</option>
</select>
</div>
<div class="form-group" id="evalWrap" style="display:none">
<label for="evalX">x value (for Evaluate)</label>
<input id="evalX" placeholder="e.g., 1.5" step="any" type="number">
</div>
</div>
<div class="btn-row">
<button class="btn btn-primary" id="btnCalc">Calculate</button>
<button aria-label="Plot P(x)" class="btn" id="btnPlot">Plot</button>
<button class="btn" id="btnClear">Clear</button>
<span aria-live="polite" class="hint" id="hintStatus"></span>
</div>
<div class="form-group">
<label for="window">Plot window [xmin,xmax,ymin,ymax]</label>
<input aria-describedby="winHint" class="mono" id="window" type="text" value="-10,10,-10,10">
<div class="hint" id="winHint">Comma-separated. Example: <code class="mono">-5,5,-10,10</code></div>
</div>
<div aria-label="Function plot" class="plot-wrap">
<canvas aria-label="Plot of P(x) over selected window" height="360" id="plot" role="img" width="800"></canvas>
</div>
</section>
<!-- Results -->
<section aria-labelledby="res-heading" class="card results">
<h2 id="res-heading">Results</h2>
<div aria-live="polite" id="resultsRegion">
<div class="result-line"><span>Degree</span><span class="value" id="degValue">—</span></div>
<div class="result-line"><span>Leading coefficient</span><span class="value" id="leadValue">—</span></div>
<div class="result-line"><span>Canonical form</span><span class="value mono" id="canonValue">—</span></div>
<div class="result-line"><span>Operation output</span><span class="value mono" id="opValue">—</span></div>
<div class="result-line"><span>Notes</span><span id="notesValue">—</span></div>
</div>
</section>
</div>
<!-- Authoritative content -->
<section aria-labelledby="source-heading" class="card">
<h2 id="source-heading">Data Source &amp; Methodology</h2>
<p>
<strong>Authoritative data source:</strong> Classical polynomial algebra as formalized in standard textbooks such as
        <em>J. Michael Steele, The Cauchy–Schwarz Master Class</em> and undergraduate algebra references. Core rules include the
        polynomial division algorithm and power rules for differentiation/integration. All computations in this tool follow
        those definitions and properties.
      </p>
<p><em>“Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.”</em></p>
</section>
<section aria-labelledby="formula-heading" class="card">
<h2 id="formula-heading">Formulas Explained</h2>
<div>
<p><strong>Division Algorithm.</strong> For polynomials \(P(x)\) and \(D(x)\ne0\), there exist unique \(Q(x)\), \(R(x)\) such that</p>
<p class="mono">\( P(x)=D(x)\,Q(x)+R(x),\quad \deg R&lt;\deg D. \)</p>
<p><strong>Derivative (Power Rule).</strong> For \(P(x)=\sum_i a_i x^{n_i}\):</p>
<p class="mono">\( P'(x)=\sum_i a_i n_i x^{n_i-1}. \)</p>
<p><strong>Antiderivative.</strong> For \(n\neq-1\):</p>
<p class="mono">\( \int a x^n\,dx=\frac{a}{n+1}x^{n+1}+C. \)</p>
<p><strong>Rational Root Theorem.</strong> If \(P(x)\) has integer coefficients and a rational root \(p/q\) in lowest terms,
           then \(p\) divides the constant term and \(q\) divides the leading coefficient.</p>
</div>
</section>
<section aria-labelledby="glossary-heading" class="card">
<h2 id="glossary-heading">Glossary of Variables &amp; Outputs</h2>
<ul>
<li><strong>\(P(x)\):</strong> Primary polynomial (required).</li>
<li><strong>\(Q(x)\):</strong> Second polynomial (optional; used for add/multiply/divide).</li>
<li><strong>Degree:</strong> Highest exponent with non-zero coefficient.</li>
<li><strong>Leading coefficient:</strong> Coefficient of the highest-degree term.</li>
<li><strong>Canonical form:</strong> Simplified sum of terms in descending powers of \(x\).</li>
<li><strong>Division output:</strong> Quotient and remainder, satisfying \(P=D\cdot Q + R\).</li>
<li><strong>Factorization:</strong> Product of rational linear factors and irreducible quadratics when applicable.</li>
</ul>
</section>
<section aria-labelledby="example-heading" class="card">
<h2 id="example-heading">How It Works: A Step-by-Step Example</h2>
<p><strong>Task:</strong> Divide \(P(x)=2x^3-3x^2-11x+6\) by \(D(x)=x-2\).</p>
<ol>
<li>Enter \(P(x)\) as <code class="mono">2x^3 - 3x^2 - 11x + 6</code> and \(Q(x)\) as <code class="mono">x - 2</code>.</li>
<li>Select <em>Divide (Quotient &amp; Remainder)</em> and press <em>Calculate</em>.</li>
<li>The algorithm yields \(Q(x)=2x^2+x-9\) and \(R(x)=-12\) so \(P=D\cdot Q + R\).</li>
</ol>
</section>
<section aria-labelledby="faq-heading" class="card">
<h2 id="faq-heading">Frequently Asked Questions</h2>
<details>
<summary>What inputs are supported?</summary>
<p>Expressions in one variable \(x\) with integers or decimals, plus/minus, and <code class="mono">^</code> for powers.</p>
</details>
<details>
<summary>Is factoring exact?</summary>
<p>Rational factors are found exactly (when present). Remaining quadratic parts are shown in standard form.</p>
</details>
<details>
<summary>Why do I see a remainder in division?</summary>
<p>Because \(P(x)\) may not be a multiple of \(D(x)\). By definition \(P=D\cdot Q + R\) with \(\deg R &lt; \deg D\).</p>
</details>
<details>
<summary>How precise is evaluation?</summary>
<p>All arithmetic is double-precision JavaScript numbers.</p>
</details>
<details>
<summary>How do I change the plot window?</summary>
<p>Edit the window field (e.g., <code class="mono">-5,5,-10,10</code>) and press <em>Plot</em>.</p>
</details>
</section>
<div class="author-box">
      Tool developed by <strong>Ugo Candido</strong>. Content reviewed by the <strong>CalcDomain Math Editorial Team</strong>.<br/>
      Last reviewed for accuracy on: <time datetime="2025-09-21">September 21, 2025</time>.
    </div>
</main>

<!-- Calculator logic (defer) -->
<script defer="">
    /* ===== Accessibility helpers ===== */
    function toggleTip(id, btn){
      const el = document.getElementById(id);
      const isOpen = el.getAttribute('aria-hidden') === 'false';
      el.setAttribute('aria-hidden', String(isOpen ? true : false));
      btn.setAttribute('aria-expanded', String(!isOpen));
    }

    /* ===== Polynomial utilities ===== */
    class Poly {
      // coefficients in ascending order: coeffs[k] * x^k
      constructor(coeffs){ this.c = Poly.trim(coeffs || [0]); }
      static zero(){ return new Poly([0]); }
      static fromTerms(termsMap){ // Map degree -> sum coeff
        const maxd = Math.max(0, ...termsMap.keys());
        const c = Array(maxd+1).fill(0);
        for(const [d,a] of termsMap.entries()){ c[d]=(c[d]||0)+a; }
        return new Poly(c);
      }
      static trim(c){
        let i = c.length-1;
        while(i>0 && Math.abs(c[i])<1e-12) i--;
        return c.slice(0, i+1);
      }
      degree(){ return this.c.length-1; }
      lead(){ return this.c[this.c.length-1] || 0; }
      toString(){
        const parts=[];
        for(let d=this.degree(); d>=0; d--){
          let a=this.c[d];
          if(Math.abs(a)<1e-12) continue;
          const sign = (a<0? ' - ' : (parts.length? ' + ' : ''));
          a=Math.abs(a);
          const coeff = (d===0? a.toString() : (Math.abs(a-1)<1e-12? '' : a.toString()));
          const term = d===0? coeff : (d===1? `${coeff}x` : `${coeff}x^${d}`);
          parts.push((parts.length? sign.trimStart(): (a<0?'-':''))+term);
        }
        return parts.join('').replace(/\+\s-\s/g,'- ').replace(/^\s*$/,'0');
      }
      clone(){ return new Poly(this.c.slice()); }
      add(b){
        const n=Math.max(this.c.length,b.c.length), out=Array(n).fill(0);
        for(let i=0;i<n;i++){ out[i]=(this.c[i]||0)+(b.c[i]||0); }
        return new Poly(out);
      }
      sub(b){
        const n=Math.max(this.c.length,b.c.length), out=Array(n).fill(0);
        for(let i=0;i<n;i++){ out[i]=(this.c[i]||0)-(b.c[i]||0); }
        return new Poly(out);
      }
      mul(b){
        const out=Array(this.degree()+b.degree()+2).fill(0);
        for(let i=0;i<this.c.length;i++)
          for(let j=0;j<b.c.length;j++)
            out[i+j]+=this.c[i]*b.c[j];
        return new Poly(out);
      }
      scale(k){ return new Poly(this.c.map(x=>x*k)); }
      divmod(d){ // polynomial long division
        if(d.degree()<0 || Math.abs(d.lead())<1e-12) throw new Error("Division by zero polynomial");
        let r=this.clone(), q=Poly.zero();
        const dl=d.degree(), l=d.lead();
        let qc=Array(Math.max(0, r.degree()-dl+1)).fill(0);
        while(r.degree()>=dl && !(r.degree()===0 && Math.abs(r.lead())<1e-12)){
          const k=r.degree()-dl;
          const s=r.lead()/l;
          qc[k]+=s;
          const sub = d.scale(s).shift(k);
          r=r.sub(sub);
        }
        q=new Poly(qc);
        return {q,r};
      }
      shift(k){ // multiply by x^k
        if(k<=0) return this.clone();
        return new Poly(Array(k).fill(0).concat(this.c));
      }
      deriv(){
        if(this.degree()===0) return Poly.zero();
        const out=Array(this.c.length-1).fill(0);
        for(let i=1;i<this.c.length;i++) out[i-1]=this.c[i]*i;
        return new Poly(out);
      }
      integ(){
        const out=Array(this.c.length+1).fill(0);
        for(let i=0;i<this.c.length;i++) out[i+1]=this.c[i]/(i+1);
        return new Poly(out);
      }
      eval(x){
        // Horner
        let res=0;
        for(let i=this.c.length-1;i>=0;i--) res=res*x+this.c[i];
        return res;
      }
      static parse(str){
        if(!str || !str.trim()) throw new Error("Empty polynomial");
        // Normalize: remove spaces, handle leading +/-.
        let s=str.replace(/·|\*/g,'').replace(/\s+/g,'');
        s = s.replace(/−/g,'-');
        if(!/^[0-9xX+\-^.\s]+$/.test(s)) throw new Error("Unsupported characters");
        s = s.replace(/X/g,'x');
        // Split into terms by inserting separators before +/-
        s = s.replace(/(?=[+\-])/g,' ');
        const raw = s.trim().split(/\s+/);
        const terms = new Map(); // deg -> coeff
        for(let t of raw){
          if(!t) continue;
          // match like [+|-]a x ^ b, a optional, x optional, ^b optional
          let sign=1;
          if(t[0]==='+'){ t=t.slice(1); }
          else if(t[0]==='-'){ sign=-1; t=t.slice(1); }
          if(t==='') throw new Error("Malformed term");
          let a=1, d=0;
          if(t.includes('x')){
            const [coeffPart, powPart] = t.split('x');
            if(coeffPart){ a=parseFloat(coeffPart); if(Number.isNaN(a)) throw new Error("Invalid coefficient"); }
            if(powPart && powPart.startsWith('^')){
              d=parseInt(powPart.slice(1),10);
              if(Number.isNaN(d)) throw new Error("Invalid exponent");
            } else { d=1; }
          } else {
            a=parseFloat(t);
            if(Number.isNaN(a)) throw new Error("Invalid constant term");
            d=0;
          }
          const curr = terms.get(d)||0;
          terms.set(d, curr + sign*a);
        }
        return Poly.fromTerms(terms);
      }
      // Rational factorization via Rational Root Theorem
      factorRational(){
        // Only attempt for integer-like coefficients
        const roundc = this.c.map(v=>Math.round(v));
        const intLike = this.c.every((v,i)=>Math.abs(v-roundc[i])<1e-10);
        if(!intLike) return { factors:[this.clone()], steps:["Non-integer coefficients: showing as irreducible over ℚ." ]};
        let p = new Poly(roundc);
        const steps=[];
        const factors=[];
        // helper: divisors
        const divisors = (n)=>{
          n=Math.abs(n);
          const ds=new Set();
          for(let i=1;i<=Math.sqrt(n);i++){
            if(n%i===0){ ds.add(i); ds.add(n/i); }
          }
          return Array.from(ds).sort((a,b)=>a-b);
        };
        const lc = Math.round(p.lead());
        const ct = Math.round(p.c[0]||0);
        const P = divisors(ct || 0).concat(ct===0? [0]:[]);
        const Q = divisors(lc || 1);
        const cand = new Set();
        for(const q of Q) for(const pr of P){
          if(q===0) continue;
          cand.add((pr/q));
          cand.add(-(pr/q));
        }
        // Try roots
        outer: while(p.degree()>0){
          let found=false;
          for(const r of cand){
            const val=p.eval(r);
            if(Math.abs(val)<1e-9){
              // divide by (x - r)
              const div = new Poly([ -r, 1 ]);
              const {q} = p.divmod(div);
              factors.push(div);
              steps.push(`Found rational root x = ${r}. Factor (x - ${r}).`);
              p=q;
              found=true;
              continue outer;
            }
          }
          break;
        }
        if(p.degree()===2){
          // Try to factor quadratic with integer coefficients
          const [c0,c1,c2]=p.c; // c0 + c1 x + c2 x^2
          const disc=c1*c1-4*c2*c0;
          if(Math.abs(Math.round(disc)-disc)<1e-10 && disc>=0){
            const sd=Math.round(Math.sqrt(disc));
            const r1 = (-c1 + sd)/(2*c2), r2 = (-c1 - sd)/(2*c2);
            if([r1,r2].every(x=>Number.isFinite(x))){
              factors.push(new Poly([-r1,1]), new Poly([-r2,1]));
              steps.push(`Quadratic split with Δ=${disc}: roots ${r1}, ${r2}.`);
              return {factors, steps};
            }
          }
        }
        if(p.degree()>0) factors.push(p);
        return {factors, steps};
      }
    }

    /* ===== DOM wiring ===== */
    const $ = (id)=>document.getElementById(id);
    const polyA = $('polyA'), polyB=$('polyB'), op=$('operation'), evalWrap=$('evalWrap'), evalX=$('evalX');
    const degValue=$('degValue'), leadValue=$('leadValue'), canonValue=$('canonValue'), opValue=$('opValue'), notesValue=$('notesValue');
    const btnCalc=$('btnCalc'), btnPlot=$('btnPlot'), btnClear=$('btnClear'), hintStatus=$('hintStatus');
    const errA=$('errA'), plot=$('plot'), win=$('window');

    op.addEventListener('change', ()=>{
      evalWrap.style.display = op.value==='evaluate' ? '' : 'none';
    });

    function setError(el,msg){
      el.textContent=msg||'';
    }

    function renderSummary(P){
      degValue.textContent = P ? P.degree() : '—';
      leadValue.textContent = P ? fmtNum(P.lead()) : '—';
      canonValue.textContent = P ? P.toString() : '—';
    }
    function fmtNum(x){
      if(x===0) return '0';
      const s = Math.abs(x)>=1e6 || Math.abs(x)<1e-4 ? x.toExponential(6) : x.toFixed(8);
      return s.replace(/(?:\.0+|(\.\d*?[1-9])0+)$/,'$1');
    }

    function calculate(){
      hintStatus.textContent='';
      setError(errA,'');
      opValue.textContent='—'; notesValue.textContent='—';
      let P;
      try{
        P = Poly.parse(polyA.value);
      }catch(e){
        setError(errA, String(e.message||e));
        renderSummary(null);
        return;
      }
      renderSummary(P);
      const operation = op.value;
      try{
        if(operation==='simplify'){
          opValue.textContent = P.toString();
          notesValue.textContent = 'Canonical descending-power form.';
        } else if(operation==='evaluate'){
          const vx = parseFloat(evalX.value);
          if(Number.isNaN(vx)) throw new Error("Enter a numeric x value.");
          opValue.textContent = fmtNum(P.eval(vx));
          notesValue.textContent = `P(${vx}) evaluated via Horner's method.`;
        } else if(operation==='add' || operation==='multiply' || operation==='divide'){
          if(!polyB.value.trim()) throw new Error("Provide Q(x) for this operation.");
          const Q = Poly.parse(polyB.value);
          if(operation==='add'){
            const S = P.add(Q);
            opValue.textContent = S.toString();
            notesValue.textContent = 'Termwise addition, then simplification.';
          } else if(operation==='multiply'){
            const M = P.mul(Q);
            opValue.textContent = M.toString();
            notesValue.textContent = 'Convolution of coefficients.';
          } else {
            if(Q.degree()<0 || Math.abs(Q.lead())<1e-12) throw new Error("Division by zero polynomial.");
            const {q,r} = P.divmod(Q);
            opValue.textContent = `Quotient: ${q.toString()} ; Remainder: ${r.toString()}`;
            notesValue.textContent = 'Long division: P = Q·(quotient) + remainder.';
          }
        } else if(operation==='derivative'){
          const D = P.deriv();
          opValue.textContent = D.toString();
          notesValue.textContent = 'Power rule differentiation.';
        } else if(operation==='integral'){
          const I = P.integ();
          opValue.textContent = I.toString() + ' + C';
          notesValue.textContent = 'Termwise antiderivative (n ≠ −1).';
        } else if(operation==='factor'){
          const {factors, steps} = P.factorRational();
          opValue.textContent = factors.map(f=>`(${f.toString()})`).join(' · ');
          notesValue.textContent = steps.length? steps.join(' ') : 'No rational roots found; shown with irreducible factors.';
        }
        hintStatus.textContent='Done.';
      }catch(e){
        notesValue.textContent = String(e.message||e);
      }
    }

    btnCalc.addEventListener('click', calculate);
    btnClear.addEventListener('click', ()=>{
      polyA.value=''; polyB.value=''; evalX.value=''; op.selectedIndex=0; evalWrap.style.display='none';
      renderSummary(null); opValue.textContent='—'; notesValue.textContent='—'; hintStatus.textContent='';
      const ctx=plot.getContext('2d'); ctx.clearRect(0,0,plot.width,plot.height);
    });
    polyA.addEventListener('blur', ()=>{ try{ Poly.parse(polyA.value); setError(errA,''); }catch(e){ setError(errA, String(e.message||e)); } });

    /* ===== Plotting ===== */
    function parseWindow(str){
      const parts = str.split(',').map(s=>parseFloat(s.trim()));
      if(parts.length!==4 || parts.some(v=>Number.isNaN(v))) throw new Error("Window must be 4 numbers: xmin,xmax,ymin,ymax.");
      const [xmin,xmax,ymin,ymax]=parts;
      if(!(xmax>xmin && ymax>ymin)) throw new Error("Require xmax>xmin and ymax>ymin.");
      return {xmin,xmax,ymin,ymax};
    }
    function plotPoly(P){
      const ctx=plot.getContext('2d');
      ctx.clearRect(0,0,plot.width,plot.height);
      let w;
      try{ w=parseWindow(win.value); }catch(e){ hintStatus.textContent=String(e.message||e); return; }
      const {xmin,xmax,ymin,ymax}=w;
      // helpers
      const W=plot.width, H=plot.height;
      const sx=(x)=> (x - xmin)/(xmax - xmin) * W;
      const sy=(y)=> H - (y - ymin)/(ymax - ymin) * H;

      // grid
      ctx.lineWidth=1; ctx.strokeStyle="#e7ebf0";
      const ticks=10;
      ctx.beginPath();
      for(let i=0;i<=ticks;i++){
        const x=xmin + i*(xmax-xmin)/ticks; const X=sx(x);
        ctx.moveTo(X,0); ctx.lineTo(X,H);
        const y=ymin + i*(ymax-ymin)/ticks; const Y=sy(y);
        ctx.moveTo(0,Y); ctx.lineTo(W,Y);
      }
      ctx.stroke();

      // axes
      ctx.strokeStyle="#98a5b3"; ctx.lineWidth=1.5;
      ctx.beginPath();
      if(xmin<0 && xmax>0){ const X=sx(0); ctx.moveTo(X,0); ctx.lineTo(X,H); }
      if(ymin<0 && ymax>0){ const Y=sy(0); ctx.moveTo(0,Y); ctx.lineTo(W,Y); }
      ctx.stroke();

      // function
      ctx.strokeStyle="#0b62a4"; ctx.lineWidth=2;
      ctx.beginPath();
      const N = Math.max(400, Math.floor(W)); // dense sampling
      for(let i=0;i<=N;i++){
        const x = xmin + (i/N)*(xmax-xmin);
        const y = P.eval(x);
        const X=sx(x), Y=sy(y);
        if(i===0) ctx.moveTo(X,Y); else ctx.lineTo(X,Y);
      }
      ctx.stroke();
    }
    btnPlot.addEventListener('click', ()=>{
      try{
        const P = Poly.parse(polyA.value);
        plotPoly(P);
        hintStatus.textContent='Plot updated.';
      }catch(e){
        hintStatus.textContent = String(e.message||e);
      }
    });

    // Initial state
    renderSummary(null);
  </script>
<footer class="site-footer">
<div class="container footer-content">
<div class="footer-column">
<h4>CalcDomain</h4>
<p>High-precision tools for professionals.</p>
</div>
<div class="footer-column">
<h4>Calculators</h4>
<ul class="footer-links">
<li><a href="https://calcdomain.com/construction.html">Construction</a></li>
<li><a href="https://calcdomain.com/subcategories/measurement-unit-conversions.html">Conversions</a></li>
<li><a href="https://calcdomain.com/engineering.html">Engineering</a></li>
<li><a href="https://calcdomain.com/lifestyle-everyday.html">Everyday Life</a></li>
<li><a href="https://calcdomain.com/finance.html">Finance</a></li>
<li><a href="https://calcdomain.com/health-fitness.html">Health and Fitness</a></li>
<li><a href="https://calcdomain.com/math.html">Math</a></li>
<li><a href="https://calcdomain.com/science.html">Science</a></li>
<li><a href="https://calcdomain.com/subcategories/taxes.html">Taxation</a></li>
</ul>
</div>
<div class="footer-column">
<h4>Company</h4>
<ul>
<li><a href="https://calcdomain.com/about.html">About Us</a></li>
<li><a href="https://calcdomain.com/contact.html">Contact</a></li>
<li><a href="https://calcdomain.com/privacy.html">Privacy Policy</a></li>
</ul>
</div>
</div>
<div class="container footer-bottom">
    © 2025 CalcDomain. All Rights Reserved.
  </div>
</footer>

<script defer src="https://calcdomain.com/assets/js/mobile-menu.js"></script>
<script defer src="https://calcdomain.com/assets/js/page-enhancements.js"></script>
</body></html>