<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Latency Calculator — RAM & Network (ns, one-way & RTT)</title>
  <meta name="description" content="Professional RAM and network latency calculator. Compute DRAM true latency (ns) from CAS & data rate, plus network one-way and round-trip delay with propagation, serialization, and processing components.">
  <link rel="canonical" href="https://calcdomain.com/latency-calculator.html">
  <link rel="icon" type="image/png" href="https://calcdomain.com/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="https://calcdomain.com/favicon.svg">
  <link rel="shortcut icon" href="https://calcdomain.com/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="https://calcdomain.com/apple-touch-icon.png">
  <link rel="manifest" href="https://calcdomain.com/site.webmanifest">

  <!-- TailwindCSS (CDN) -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <!-- MathJax for LaTeX rendering -->
  <script defer>
    window.MathJax = { tex: { inlineMath: [['\\(','\\)'], ['$', '$']] }, svg: { fontCache: 'global' } };
  </script>
  <script id="mathjax" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <style>
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; }
    .prose { max-width: 72ch; }
    .formula-box{ background:#f3f4f6; border:1px solid #d1d5db; border-radius:10px; padding:1rem; overflow-x:auto; }
    .result-card{ background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:1rem; text-align:center; min-height:5.5rem; }
    .result-figure{ font-size:1.6rem; font-weight:800; color:#1d4ed8; }
    .focus-ring:focus{ outline:3px solid #2563eb; outline-offset:3px; }
    .tooltip{ display:none; }
    .tooltip[aria-hidden="false"]{ display:block; }
    .error-text{ color:#b91c1c; }
    /* CLS guardrails */
    #ram-results, #net-results { min-height: 180px; }
    /* Touch target min 48px */
    .touch-target{ min-height:48px; min-width:48px; }
    @media print {
      header, nav, aside, .no-print { display:none !important; }
      #print-section { display:block !important; }
    }
  </style>

  <!-- JSON-LD: WebPage + Author -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Latency Calculator — RAM & Network",
    "url":"https://calcdomain.com/latency-calculator.html",
    "inLanguage":"en",
    "description":"Compute DRAM latency (ns) from CAS & data rate and network one-way/RTT latency with propagation, serialization, and processing components.",
    "author":{"@type":"Person","name":"Ugo Candido"},
    "publisher":{"@type":"Organization","name":"CalcDomain"},
    "dateModified":"2025-10-26"
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
      {"@type":"ListItem","position":2,"name":"Lifestyle & Everyday","item":"https://calcdomain.com/lifestyle-everyday.html"},
      {"@type":"ListItem","position":3,"name":"Miscellaneous","item":"https://calcdomain.com/subcategories/miscellaneous.html"},
      {"@type":"ListItem","position":4,"name":"Latency Calculator","item":"https://calcdomain.com/latency-calculator.html"}
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"How do I calculate DRAM latency in nanoseconds?",
       "acceptedAnswer":{"@type":"Answer","text":"Use ns = (2000 × CL) / DataRate(MT/s). For example, CL16 at 3200 MT/s → 10 ns."}},
      {"@type":"Question","name":"What contributes to network latency?",
       "acceptedAnswer":{"@type":"Answer","text":"Propagation (distance/signal speed), serialization (packet size/bandwidth), and processing/queuing at devices. The calculator sums these for one-way and RTT."}},
      {"@type":"Question","name":"Is RTT simply double the one-way delay?",
       "acceptedAnswer":{"@type":"Answer","text":"Often approximated as 2× one-way propagation + 2× serialization + 2× processing, but asymmetry, routing, and congestion can change this."}},
      {"@type":"Question","name":"What speed should I use for fiber?",
       "acceptedAnswer":{"@type":"Answer","text":"Typical speed is about 2.04e8 m/s (≈0.68c) assuming refractive index near 1.468. The calculator uses a representative value."}},
      {"@type":"Question","name":"Does lower CAS latency always mean faster RAM?",
       "acceptedAnswer":{"@type":"Answer","text":"Lower CL helps, but true latency also depends on data rate. Compare ns, not just CL or MT/s alone."}},
      {"@type":"Question","name":"How accurate is the network model?",
       "acceptedAnswer":{"@type":"Answer","text":"It provides a deterministic baseline without queuing jitter. Real networks can add variable delays from bursts, buffers and retransmissions."}}
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky as requested) -->
  <header class="bg-white border-b">
    <div class="container mx-auto px-4 lg:px-6 py-4">
      <nav class="flex items-center justify-between" aria-label="Primary">
        <a href="index.html" class="text-2xl font-extrabold text-blue-700 focus-ring">CalcDomain</a>
        <div class="hidden md:flex gap-6 text-sm">
          <a class="hover:text-blue-700 focus-ring" href="search.html">Advanced Search</a>
          <a class="hover:text-blue-700 focus-ring" href="index.html#categories">Categories</a>
        </div>
      </nav>
    </div>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      <section class="w-full lg:w-2/3">
        <!-- Breadcrumb -->
        <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
          <a href="index.html" class="hover:text-blue-700 focus-ring">Home</a> &raquo;
          <a href="lifestyle-everyday.html" class="hover:text-blue-700 focus-ring">Lifestyle &amp; Everyday</a> &raquo;
          <a href="subcategories/miscellaneous.html" class="hover:text-blue-700 focus-ring">Miscellaneous</a> &raquo;
          <span class="text-gray-900">Latency Calculator</span>
        </nav>

        <div id="print-section" class="bg-white p-6 rounded-lg shadow">
          <!-- 1. Title -->
          <h1 class="text-3xl font-extrabold mb-2">latency calculator</h1>

          <!-- 2. Introduction -->
          <p class="text-gray-700 mb-6">
            A professional, two-in-one latency tool: compute <strong>DRAM true latency (ns)</strong> from CAS &amp; data rate, and estimate
            <strong>network one-way/RTT latency</strong> by combining propagation, serialization, and processing delays.
            Built for engineers, performance analysts, overclockers, SREs, and curious learners.
          </p>

          <!-- 3. Calculator UI -->
          <section aria-labelledby="calc-tabs-heading">
            <h2 id="calc-tabs-heading" class="sr-only">Latency calculator modes</h2>

            <!-- Tabs -->
            <div role="tablist" aria-label="Calculator modes" class="flex gap-2 mb-4">
              <button id="tab-ram" role="tab" aria-selected="true" aria-controls="panel-ram"
                      class="touch-target focus-ring px-4 py-2 rounded-md bg-blue-600 text-white font-semibold">RAM latency</button>
              <button id="tab-net" role="tab" aria-selected="false" aria-controls="panel-net"
                      class="touch-target focus-ring px-4 py-2 rounded-md bg-gray-200 text-gray-900 font-semibold">Network latency</button>
            </div>

            <!-- RAM Panel -->
            <div id="panel-ram" role="tabpanel" aria-labelledby="tab-ram" class="space-y-4">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Data rate -->
                <div>
                  <label for="ramRate" class="block text-sm font-medium text-gray-800">
                    Data rate (MT/s) <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="ramRate" name="ramRate" type="number" inputmode="numeric" min="400" step="1" value="3200"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-required="true" aria-describedby="tip-ramRate err-ramRate">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-ramRate" data-tooltip="#tip-ramRate" title="Help">?</button>
                  </div>
                  <p id="tip-ramRate" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Enter the DDR data rate in mega-transfers per second (e.g., 3200 for DDR4-3200).
                  </p>
                  <p id="err-ramRate" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <!-- CAS Latency -->
                <div>
                  <label for="ramCL" class="block text-sm font-medium text-gray-800">
                    CAS Latency (CL cycles) <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="ramCL" name="ramCL" type="number" inputmode="numeric" min="2" step="1" value="16"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-required="true" aria-describedby="tip-ramCL err-ramCL">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-ramCL" data-tooltip="#tip-ramCL" title="Help">?</button>
                  </div>
                  <p id="tip-ramCL" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    CL is the number of clock cycles between a READ command and data availability.
                  </p>
                  <p id="err-ramCL" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <!-- Optional: combined timing -->
                <div>
                  <label for="ramExtras" class="block text-sm font-medium text-gray-800">
                    Include tRCD + tRP (optional)
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="ramExtras" name="ramExtras" type="text" placeholder="e.g., 18-18"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-describedby="tip-ramExtras err-ramExtras">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-ramExtras" data-tooltip="#tip-ramExtras" title="Help">?</button>
                  </div>
                  <p id="tip-ramExtras" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Optional: Enter tRCD and tRP as cycles separated by a dash (e.g., “18-18”) to estimate a
                    random-row access (CL + tRCD + tRP) in ns.
                  </p>
                  <p id="err-ramExtras" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>
              </div>

              <!-- 4. Results area (RAM) -->
              <section id="ram-results" class="mt-4 bg-blue-50 border border-blue-100 rounded-lg p-4" aria-live="polite">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div class="result-card">
                    <h3 class="text-sm text-gray-600">True CAS latency</h3>
                    <p id="ramNs" class="result-figure">—</p>
                    <p class="text-xs text-gray-500" id="ramTck">tCK: — ns</p>
                  </div>
                  <div class="result-card">
                    <h3 class="text-sm text-gray-600">Estimated random-row access</h3>
                    <p id="ramRandNs" class="result-figure">—</p>
                    <p class="text-xs text-gray-500">CL + tRCD + tRP (if provided)</p>
                  </div>
                </div>
              </section>
            </div>

            <!-- Network Panel -->
            <div id="panel-net" role="tabpanel" aria-labelledby="tab-net" class="space-y-4 hidden">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Distance -->
                <div>
                  <label for="netDistance" class="block text-sm font-medium text-gray-800">
                    Distance (one-way, km) <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="netDistance" name="netDistance" type="number" inputmode="decimal" min="0" step="0.1" value="1000"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-required="true" aria-describedby="tip-netDistance err-netDistance">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netDistance" data-tooltip="#tip-netDistance" title="Help">?</button>
                  </div>
                  <p id="tip-netDistance" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Geodesic or conduit length (one-way). RTT ≈ 2× one-way baseline, ignoring path asymmetry.
                  </p>
                  <p id="err-netDistance" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <!-- Medium -->
                <div>
                  <label for="netMedium" class="block text-sm font-medium text-gray-800">
                    Transmission medium <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <select id="netMedium" class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                            aria-required="true" aria-describedby="tip-netMedium err-netMedium">
                      <option value="fiber" selected>Optical fiber (≈0.68c)</option>
                      <option value="copper">Copper/coax (≈0.77c)</option>
                      <option value="air">Air/free-space (≈0.99c)</option>
                    </select>
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netMedium" data-tooltip="#tip-netMedium" title="Help">?</button>
                  </div>
                  <p id="tip-netMedium" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Effective signal speed as a fraction of the speed of light depends on medium refractive index.
                  </p>
                  <p id="err-netMedium" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <!-- Bandwidth and packet size -->
                <div>
                  <label for="netBandwidth" class="block text-sm font-medium text-gray-800">
                    Link bandwidth (Mbps) <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="netBandwidth" name="netBandwidth" type="number" inputmode="decimal" min="0.1" step="0.1" value="1000"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-required="true" aria-describedby="tip-netBandwidth err-netBandwidth">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netBandwidth" data-tooltip="#tip-netBandwidth" title="Help">?</button>
                  </div>
                  <p id="tip-netBandwidth" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Serialization delay = (packet bits) / bandwidth. 1500-byte @ 1 Gbps ≈ 12 µs.
                  </p>
                  <p id="err-netBandwidth" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <div>
                  <label for="netPkt" class="block text-sm font-medium text-gray-800">
                    Packet size (bytes) <span aria-hidden="true" class="text-red-600">*</span>
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="netPkt" name="netPkt" type="number" inputmode="numeric" min="64" step="1" value="1500"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-required="true" aria-describedby="tip-netPkt err-netPkt">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netPkt" data-tooltip="#tip-netPkt" title="Help">?</button>
                  </div>
                  <p id="tip-netPkt" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Include L2 overhead if you need wire-time. Defaults to 1500-byte payload.
                  </p>
                  <p id="err-netPkt" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <!-- Processing per hop & hops -->
                <div>
                  <label for="netProc" class="block text-sm font-medium text-gray-800">
                    Processing per hop (µs)
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="netProc" name="netProc" type="number" inputmode="decimal" min="0" step="0.1" value="5"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-describedby="tip-netProc err-netProc">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netProc" data-tooltip="#tip-netProc" title="Help">?</button>
                  </div>
                  <p id="tip-netProc" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Per-device switching/forwarding time (no queuing). Use 0–10 µs for modern equipment.
                  </p>
                  <p id="err-netProc" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>

                <div>
                  <label for="netHops" class="block text-sm font-medium text-gray-800">
                    Number of intermediate hops
                  </label>
                  <div class="flex items-start gap-2">
                    <input id="netHops" name="netHops" type="number" inputmode="numeric" min="0" step="1" value="6"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus-ring"
                           aria-describedby="tip-netHops err-netHops">
                    <button type="button" class="touch-target focus-ring px-2 py-1 rounded border" aria-expanded="false"
                            aria-controls="tip-netHops" data-tooltip="#tip-netHops" title="Help">?</button>
                  </div>
                  <p id="tip-netHops" class="tooltip text-sm text-gray-600 mt-1" aria-hidden="true">
                    Count intermediate routers/switches (one-way). RTT doubles the hop count effect.
                  </p>
                  <p id="err-netHops" class="text-sm error-text mt-1" role="alert" aria-live="polite"></p>
                </div>
              </div>

              <!-- 4. Results area (Network) -->
              <section id="net-results" class="mt-4 bg-blue-50 border border-blue-100 rounded-lg p-4" aria-live="polite">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div class="result-card">
                    <h3 class="text-sm text-gray-600">One-way total</h3>
                    <p id="netOneWay" class="result-figure">—</p>
                    <p class="text-xs text-gray-500" id="netBreakdownOne">Prop: — | Ser: — | Proc: —</p>
                  </div>
                  <div class="result-card">
                    <h3 class="text-sm text-gray-600">Round-trip (RTT)</h3>
                    <p id="netRTT" class="result-figure">—</p>
                    <p class="text-xs text-gray-500" id="netBreakdownRTT">—</p>
                  </div>
                </div>
              </section>
            </div>
          </section>

          <!-- 5. Authoritative Content Ecosystem -->
          <section class="prose mt-8">
            <h2>Data Source &amp; Methodology</h2>
            <ul>
              <li><strong>JEDEC DDR Standards</strong> (e.g., JESD79 series for DDRx timing definitions &amp; tCK). “All calculations strictly follow the formulas and data provided by this source.”</li>
              <li><strong>Optical Fiber Physics</strong>: group velocity \( v = c/n \) with typical \( n \approx 1.468 \Rightarrow v \approx 2.04\times 10^8 \,\mathrm{m/s} \).</li>
              <li><strong>Latency Engineering</strong>: ITU-T practice for delay budgeting (e.g., conversational guidelines in G.114) and standard serialization formula.</li>
            </ul>

            <h2>The Formula Explained</h2>
            <div class="formula-box">
              <p><strong>DRAM true latency</strong> (nanoseconds):</p>
              <p>\( t_{\mathrm{CL,ns}} = \dfrac{2000 \cdot \mathrm{CL}}{\mathrm{DataRate\ (MT/s)}} \)</p>
              <p>Clock period: \( t_\mathrm{CK} = \dfrac{2000}{\mathrm{DataRate\ (MT/s)}} \) ns</p>
              <p>Optional random-row access (cycles): \( \mathrm{CL} + t_\mathrm{RCD} + t_\mathrm{RP} \Rightarrow t_{\mathrm{ns}} = (\mathrm{cycles}) \cdot t_\mathrm{CK} \)</p>
              <hr>
              <p><strong>Network propagation delay</strong> (one-way):</p>
              <p>\( t_\mathrm{prop} = \dfrac{d}{v} = \dfrac{d}{\alpha c} \), with \( d \) meters, \( \alpha \in \{0.68,0.77,0.99\} \)</p>
              <p><strong>Serialization</strong>: \( t_\mathrm{ser} = \dfrac{\mathrm{packet\ bits}}{\mathrm{bandwidth\ bps}} \)</p>
              <p><strong>Processing</strong>: \( t_\mathrm{proc} = \mathrm{hops} \times t_{\mathrm{per\ hop}} \)</p>
              <p><strong>Total</strong> (one-way): \( t_\mathrm{oneway} = t_\mathrm{prop} + t_\mathrm{ser} + t_\mathrm{proc} \)</p>
              <p><strong>RTT</strong> (approx.): \( t_\mathrm{RTT} \approx 2 \times t_\mathrm{oneway} \)</p>
            </div>

            <h2>Glossary of Variables</h2>
            <ul>
              <li><strong>Data rate (MT/s)</strong>: DDR transfer rate in mega-transfers per second.</li>
              <li><strong>CL</strong>: CAS latency cycles.</li>
              <li><strong>tCK</strong>: DRAM base clock period, in ns.</li>
              <li><strong>Distance (km)</strong>: One-way physical or conduit distance.</li>
              <li><strong>Medium</strong>: Fiber, copper, or air/free-space (affects signal speed).</li>
              <li><strong>Bandwidth (Mbps)</strong>: Link throughput, used for serialization delay.</li>
              <li><strong>Packet size (bytes)</strong>: Payload size used for serialization.</li>
              <li><strong>Processing per hop (µs)</strong>: Device forwarding delay excluding queueing.</li>
              <li><strong>Hops</strong>: Number of intermediate devices, one-way.</li>
            </ul>

            <h2>How It Works: A Step-by-Step Example</h2>
            <h3>DRAM</h3>
            <p>Given DDR4-3200 (DataRate = 3200 MT/s) and CL = 16:<br>
            \( t_{\mathrm{CL,ns}} = \dfrac{2000 \cdot 16}{3200} = 10 \,\mathrm{ns} \).
            With \( t_\mathrm{RCD}=18 \) and \( t_\mathrm{RP}=18 \), random-row = \( (16+18+18)\cdot t_\mathrm{CK} \) with \( t_\mathrm{CK}=\dfrac{2000}{3200}=0.625 \) ns → \( 52 \cdot 0.625 = 32.5 \) ns.</p>
            <h3>Network</h3>
            <p>Distance = 1000 km over fiber (\( \alpha=0.68 \)), 1 Gbps link, 1500-byte packet, 6 hops @ 5 µs each:<br>
              \( t_{\mathrm{prop}} \approx \dfrac{1{,}000{,}000\,\mathrm{m}}{0.68c} \approx 4.9 \,\mathrm{ms}\),<br>
              \( t_{\mathrm{ser}}=\dfrac{1500\times8}{10^9} \approx 12 \,\mathrm{\mu s} \),<br>
              \( t_{\mathrm{proc}}=6\times5\,\mathrm{\mu s}=30\,\mathrm{\mu s} \).<br>
              One-way ≈ 4.942 ms; RTT ≈ 9.884 ms.
            </p>

            <h2>Frequently Asked Questions</h2>
            <details>
              <summary>Is CL the only timing that matters?</summary>
              <p>No. For random-row access, tRCD and tRP also contribute. Compare total ns, not cycles alone.</p>
            </details>
            <details>
              <summary>Why doesn’t the network result include queueing?</summary>
              <p>Queueing is workload-dependent and stochastic. This tool provides a deterministic baseline.</p>
            </details>
            <details>
              <summary>Does air always beat fiber?</summary>
              <p>Air has higher propagation speed, but fiber enables straighter long-haul routes and far higher bandwidth.</p>
            </details>
            <details>
              <summary>How do jumbo frames affect latency?</summary>
              <p>Bigger packets increase serialization delay; impact is notable at lower link rates (e.g., 100 Mbps).</p>
            </details>
            <details>
              <summary>Can I use this to estimate gaming ping?</summary>
              <p>You can estimate the physical lower bound. Actual ping includes queueing, OS/network stack, and server processing.</p>
            </details>
          </section>

          <!-- 6. Authorship & Review -->
          <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by CalcDomain Editorial Board.<br>
              Last accuracy review: <time datetime="2025-10-26">October 26, 2025</time></p>
          </div>
        </div>
      </section>

      <!-- Aside -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky lg:top-8 space-y-6">
          
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="font-bold text-lg mb-4">Related tools</h3>
            <ul class="space-y-2 text-sm">
              <li><a class="text-blue-700 hover:underline focus-ring" href="bandwidth-delay-product.html">Bandwidth-Delay Product</a></li>
              <li><a class="text-blue-700 hover:underline focus-ring" href="throughput-goodput.html">Throughput vs Goodput</a></li>
              <li><a class="text-blue-700 hover:underline focus-ring" href="dram-timings-explainer.html">DRAM Timings Explainer</a></li>
            </ul>
          </div>
          <div class="bg-gray-200 h-72 rounded-lg flex items-center justify-center text-gray-600 no-print">
            Ad Placement (300×600)
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-4 lg:px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All rights reserved.</p>
      <div class="mt-3 space-x-4">
        <a href="about.html" class="hover:text-blue-700 focus-ring">About</a>
        <a href="contact.html" class="hover:text-blue-700 focus-ring">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700 focus-ring">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700 focus-ring">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer is implicit as script is at end) -->
  <script>
    // Helpers
    const $ = (sel) => document.querySelector(sel);
    const show = (el) => el.classList.remove('hidden');
    const hide = (el) => el.classList.add('hidden');

    // Tabs
    const tabRam = $('#tab-ram'), tabNet = $('#tab-net');
    const panelRam = $('#panel-ram'), panelNet = $('#panel-net');

    function setTab(active) {
      const isRAM = active === 'ram';
      tabRam.setAttribute('aria-selected', String(isRAM));
      tabNet.setAttribute('aria-selected', String(!isRAM));
      if (isRAM) {
        tabRam.classList.replace('bg-gray-200','bg-blue-600'); tabRam.classList.replace('text-gray-900','text-white');
        tabNet.classList.replace('bg-blue-600','bg-gray-200'); tabNet.classList.replace('text-white','text-gray-900');
        show(panelRam); hide(panelNet);
      } else {
        tabNet.classList.replace('bg-gray-200','bg-blue-600'); tabNet.classList.replace('text-gray-900','text-white');
        tabRam.classList.replace('bg-blue-600','bg-gray-200'); tabRam.classList.replace('text-white','text-gray-900');
        show(panelNet); hide(panelRam);
      }
    }
    tabRam.addEventListener('click', ()=>setTab('ram'));
    tabNet.addEventListener('click', ()=>setTab('net'));

    // Accessible tooltips
    document.querySelectorAll('[data-tooltip]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-tooltip');
        const tip = document.querySelector(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.setAttribute('aria-hidden', String(expanded));
      });
      btn.addEventListener('keydown',(e)=>{
        if (e.key === 'Escape') { btn.click(); btn.focus(); }
      });
    });

    // Validation helpers
    function setError(input, errId, msg){
      const el = document.getElementById(errId);
      el.textContent = msg || '';
      if (msg) input.setAttribute('aria-invalid','true'); else input.removeAttribute('aria-invalid');
    }

    // RAM calculation
    const ramRate = $('#ramRate'), ramCL = $('#ramCL'), ramExtras = $('#ramExtras');
    const ramNs = $('#ramNs'), ramTck = $('#ramTck'), ramRandNs = $('#ramRandNs');

    function calcRAM(){
      const rate = parseFloat(ramRate.value);
      const cl = parseFloat(ramCL.value);
      if (!(rate>0)) { ramNs.textContent='—'; ramTck.textContent='tCK: — ns'; ramRandNs.textContent='—'; return; }
      const tCK = 2000 / rate; // ns
      const tCLns = (2000 * cl) / rate;
      ramNs.textContent = tCLns.toFixed(3) + ' ns';
      ramTck.textContent = 'tCK: ' + tCK.toFixed(3) + ' ns';

      // optional random-row
      const extraStr = (ramExtras.value || '').trim();
      let text = '—';
      if (extraStr){
        const m = extraStr.match(/^\s*(\d+)\s*-\s*(\d+)\s*$/);
        if (m){
          const rcd = parseInt(m[1],10), rp = parseInt(m[2],10);
          const cycles = cl + rcd + rp;
          text = (cycles * tCK).toFixed(3) + ' ns';
          setError(ramExtras, 'err-ramExtras', '');
        } else {
          setError(ramExtras, 'err-ramExtras', 'Enter two integers like "18-18" for tRCD-tRP.');
        }
      } else {
        setError(ramExtras, 'err-ramExtras', '');
      }
      ramRandNs.textContent = text;
    }

    // RAM inline validation
    ramRate.addEventListener('blur', ()=>{
      const v = parseFloat(ramRate.value);
      if (!(v>=400 && v<=20000)) setError(ramRate,'err-ramRate','Enter a data rate between 400 and 20000 MT/s.');
      else setError(ramRate,'err-ramRate','');
      calcRAM();
    });
    ramCL.addEventListener('blur', ()=>{
      const v = parseFloat(ramCL.value);
      if (!(v>=2 && v<=60)) setError(ramCL,'err-ramCL','Enter a CL between 2 and 60 cycles.');
      else setError(ramCL,'err-ramCL','');
      calcRAM();
    });
    ramExtras.addEventListener('blur', calcRAM);
    ramRate.addEventListener('input', calcRAM);
    ramCL.addEventListener('input', calcRAM);
    ramExtras.addEventListener('input', ()=>{ setError(ramExtras,'err-ramExtras',''); calcRAM(); });

    // Network calculation
    const netDistance = $('#netDistance'), netMedium = $('#netMedium'), netBandwidth = $('#netBandwidth'),
          netPkt = $('#netPkt'), netProc = $('#netProc'), netHops = $('#netHops');
    const netOneWay = $('#netOneWay'), netBreakdownOne = $('#netBreakdownOne'), netRTT = $('#netRTT'), netBreakdownRTT = $('#netBreakdownRTT');

    function alphaForMedium(m){
      if (m==='fiber') return 0.68;
      if (m==='copper') return 0.77;
      return 0.99; // air
    }
    function ms(n){ return n.toFixed(3) + ' ms'; }
    function us(n){ return n.toFixed(1) + ' µs'; }

    function calcNET(){
      const d_km = parseFloat(netDistance.value);
      const medium = netMedium.value;
      const bw_Mbps = parseFloat(netBandwidth.value);
      const pkt_bytes = parseFloat(netPkt.value);
      const proc_us = parseFloat(netProc.value);
      const hops = parseInt(netHops.value,10);

      if (!(d_km>=0) || !(bw_Mbps>0) || !(pkt_bytes>=1) || !(proc_us>=0) || !(hops>=0)) {
        netOneWay.textContent='—'; netRTT.textContent='—'; netBreakdownOne.textContent='—'; netBreakdownRTT.textContent='—'; return;
      }

      const c = 299792458; // m/s
      const alpha = alphaForMedium(medium);
      const d_m = d_km * 1000;
      const t_prop_s = d_m / (alpha * c);
      const t_prop_ms = t_prop_s * 1000;

      const bits = pkt_bytes * 8;
      const bw_bps = bw_Mbps * 1e6;
      const t_ser_s = bits / bw_bps;
      const t_ser_ms = t_ser_s * 1000;

      const t_proc_ms = (proc_us * hops) / 1000;

      const oneway_ms = t_prop_ms + t_ser_ms + t_proc_ms;
      const rtt_ms = 2 * oneway_ms;

      netOneWay.textContent = ms(oneway_ms);
      netRTT.textContent = ms(rtt_ms);

      netBreakdownOne.textContent = `Prop: ${ms(t_prop_ms)} | Ser: ${us(t_ser_ms*1000)} | Proc: ${us(t_proc_ms*1000)}`;
      netBreakdownRTT.textContent = `RTT ≈ 2×(Prop ${ms(t_prop_ms)} + Ser ${us(t_ser_ms*1000)} + Proc ${us(t_proc_ms*1000)})`;
    }

    // NET inline validation
    function validateNumber(input, errId, predicate, message){
      const v = parseFloat(input.value);
      if (!predicate(v)) setError(input, errId, message); else setError(input, errId, '');
    }
    netDistance.addEventListener('blur', ()=>{ validateNumber(netDistance,'err-netDistance', v=>v>=0 && v<=20000, 'Enter a distance between 0 and 20000 km.'); calcNET(); });
    netBandwidth.addEventListener('blur', ()=>{ validateNumber(netBandwidth,'err-netBandwidth', v=>v>0 && v<=1000000, 'Enter bandwidth between 0.1 and 1,000,000 Mbps.'); calcNET(); });
    netPkt.addEventListener('blur', ()=>{ validateNumber(netPkt,'err-netPkt', v=>v>=64 && v<=10000000, 'Enter packet size between 64 and 10,000,000 bytes.'); calcNET(); });
    netProc.addEventListener('blur', ()=>{ validateNumber(netProc,'err-netProc', v=>v>=0 && v<=1000, 'Enter processing between 0 and 1000 µs per hop.'); calcNET(); });
    netHops.addEventListener('blur', ()=>{ validateNumber(netHops,'err-netHops', v=>v>=0 && v<=200, 'Enter hops between 0 and 200.'); calcNET(); });

    [netDistance, netMedium, netBandwidth, netPkt, netProc, netHops].forEach(el=>{
      el.addEventListener('input', ()=>{ setError(el, 'err-'+el.id, ''); calcNET(); });
    });

    // Init
    document.addEventListener('DOMContentLoaded', ()=>{
      setTab('ram');
      calcRAM();
      calcNET();
    });
  </script>
</body>
</html>
