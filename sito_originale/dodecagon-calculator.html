<!DOCTYPE html>
<html lang="en">
<head>
<link rel="canonical" href="https://calcdomain.com/dodecagon-calculator">





  <!-- Basic -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dodecagon Calculator — Area, Perimeter, Radius & More</title>
  <meta name="description" content="Professional dodecagon calculator for engineers, surveyors and students. Compute area, perimeter, circumradius, inradius, side length, and angles of a regular 12-sided polygon from any single input. Mobile-first, accessible, and accurate." />
  

  <!-- Icons / PWA (optional placeholders to avoid 404s in audits) -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />

  <!-- UI framework + font -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <!-- LaTeX rendering -->
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
          id="MathJax-script"></script>

  <!-- Minimal inline CSS for performance and A11y -->
  <style>
    :root { --focus: #2563eb; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .prose { max-width: 70ch; }
    .formula-box {
      background:#f3f4f6; border:1px solid #d1d5db; border-radius:12px; padding:1rem; overflow:auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }
    .-a11y-focus:focus { outline: 3px solid var(--focus); outline-offset: 2px; border-radius: 10px; }
    .result-grid { min-height: 9rem; } /* Prevent CLS by reserving results space */
    .result-card { background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:1rem; text-align:center; }
    .result-card h4 { font-size:.9rem; color:#4b5563; margin-bottom:.25rem; }
    .result-card p { font-size:1.6rem; font-weight:800; color:#111827; }
    .badge { font-size:.75rem; border-radius:9999px; padding:.15rem .5rem; border:1px solid #d1d5db; background:#f9fafb; }
    details > summary { cursor:pointer; font-weight:600; padding:.5rem 0; }
    details[open] > summary { margin-bottom:.5rem; }
    @media (prefers-reduced-motion:no-preference){
      .fade-in { animation: fade .35s ease-out both; }
      @keyframes fade { from { opacity:0; transform: translateY(4px);} to { opacity:1; transform: none;} }
    }
    @media print {
      body * { visibility: hidden; }
      #print-section, #print-section * { visibility: visible; }
      #print-section { position: absolute; inset: 0; }
      #diagram-wrap { display: none !important; }
    }
    /* Accessible tooltip popover */
    .tooltip-panel[hidden]{ display:none; }
    .tooltip-panel { background:#111827; color:#fff; border-radius:.5rem; padding:.6rem .75rem; max-width: 26rem; font-size:.875rem; }
  </style>

  <!-- JSON-LD (WebPage + WebApplication + Breadcrumb + FAQ) -->
  <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Dodecagon Calculator \u2014 Area, Perimeter, Radius & More",
      "url": "https://calcdomain.com/dodecagon-calculator",
      "inLanguage": "en",
      "description": "Compute area, perimeter, circumradius, inradius, side length and angles of a regular dodecagon from any single input. Accessible, mobile-first, and accurate.",
      "dateModified": "2025-10-25",
      "isPartOf": {
        "@type": "WebSite",
        "name": "CalcDomain",
        "url": "https://calcdomain.com"
      },
      "breadcrumb": {
        "@id": "https://calcdomain.com/dodecagon-calculator#breadcrumb"
      }
    },
    {
      "@type": "SoftwareApplication",
      "applicationCategory": "Calculator",
      "name": "Dodecagon Calculator",
      "operatingSystem": "Any",
      "author": {
        "@type": "Person",
        "name": "Ugo Candido"
      },
      "publisher": {
        "@type": "Organization",
        "name": "CalcDomain"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://calcdomain.com/dodecagon-calculator#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://calcdomain.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Math & Conversions",
          "item": "https://calcdomain.com/math-conversions"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Geometry",
          "item": "https://calcdomain.com/subcategories/geometry"
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "Dodecagon Calculator",
          "item": "https://calcdomain.com/dodecagon-calculator"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is a dodecagon?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A dodecagon is a 12-sided polygon. In this tool we assume a regular dodecagon (all sides and angles equal)."
          }
        },
        {
          "@type": "Question",
          "name": "What is the formula for the area of a regular dodecagon?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A = (n a^2) / (4 tan(\u03c0/n)) with n=12, which simplifies to A = 3(2+\u221a3) a^2 where a is the side length."
          }
        },
        {
          "@type": "Question",
          "name": "How do I find the side from the perimeter?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For a regular dodecagon, side a = P / 12."
          }
        },
        {
          "@type": "Question",
          "name": "How are the radii related to the side length?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Circumradius R = a / (2 sin(\u03c0/12)); inradius (apothem) r = a / (2 tan(\u03c0/12))."
          }
        },
        {
          "@type": "Question",
          "name": "What are the angles in a regular dodecagon?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Each interior angle is 150\u00b0, the central angle is 30\u00b0, and the sum of interior angles is 1800\u00b0."
          }
        },
        {
          "@type": "Question",
          "name": "How many diagonals does a dodecagon have?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "n(n\u22123)/2 = 54 diagonals."
          }
        },
        {
          "@type": "Question",
          "name": "Does unit selection affect accuracy?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "All computations are performed in SI base units internally and converted back to your selected unit to avoid rounding drift."
          }
        }
      ]
    }
  ]
}</script>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky per spec) -->
  <header class="bg-white border-b">
    <nav class="container mx-auto px-4 lg:px-6 py-4" aria-label="Primary">
      <div class="flex items-center justify-between gap-4">
        <a href="https://calcdomain.com" class="text-2xl font-extrabold text-blue-700 -a11y-focus">CalcDomain</a>
        <div class="hidden md:block w-full max-w-md">
          <label for="site-search" class="sr-only">Search calculators</label>
          <input id="site-search" type="search" placeholder="Search for a calculator…"
                 class="w-full rounded-full border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500"
                 autocomplete="off" />
        </div>
        <div class="hidden md:flex gap-6 text-sm">
          <a class="hover:text-blue-700 -a11y-focus" href="https://calcdomain.com/search">Advanced Search</a>
          Categories
        </div>
        <button id="menuBtn" class="md:hidden p-2 rounded -a11y-focus" aria-expanded="false" aria-controls="mnav" aria-label="Open menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
      <div id="mnav" class="mt-3 hidden md:hidden">
        <a class="block py-2 hover:text-blue-700 -a11y-focus" href="https://calcdomain.com/search">Advanced Search</a>
        Categories
      </div>
    </nav>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-10">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Main column -->
      <section class="w-full lg:w-2/3">
        <!-- Breadcrumb -->
        <nav class="text-sm text-gray-600 mb-4" aria-label="Breadcrumb">
          <a href="https://calcdomain.com" class="hover:text-blue-700">Home</a> &raquo;
          <a href="https://calcdomain.com/math" class="hover:text-blue-700">Math</a> &raquo;
          <a href="https://calcdomain.com/subcategories/geometry" class="hover:text-blue-700">Geometry</a> &raquo;
          <span class="text-gray-900">Dodecagon Calculator</span>
        </nav>

        <div id="print-section" class="bg-white p-6 rounded-xl shadow-sm">
          <!-- 1) H1 -->
          <h1 class="text-3xl font-extrabold mb-2">dodecagon calculator</h1>

          <!-- 2) Intro -->
          <p class="text-gray-700 mb-6">
            Compute every key property of a <strong>regular 12-sided polygon</strong> from any single input:
            area, perimeter, side length, circumradius, inradius, angles and more. Built for engineers,
            surveyors, educators, and students who need fast, reliable results with clear formulas and units.
          </p>

          <!-- 3) Calculator UI -->
          <section id="calculator" class="space-y-6" aria-labelledby="calc-heading">
            <h2 id="calc-heading" class="text-xl font-bold">Calculator</h2>

            <!-- Input mode -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label for="known" class="block text-sm font-medium text-gray-800">Known quantity <span class="text-red-600" aria-hidden="true">*</span></label>
                <select id="known" class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 -a11y-focus"
                        aria-required="true" aria-describedby="known-hint known-err">
                  <option value="side" selected>Side length (a)</option>
                  <option value="perimeter">Perimeter (P)</option>
                  <option value="area">Area (A)</option>
                  <option value="R">Circumradius (R)</option>
                  <option value="r">Inradius / apothem (r)</option>
                </select>
                <p id="known-hint" class="mt-1 text-xs text-gray-600">Select what you already know.</p>
                <p id="known-err" class="mt-1 text-sm text-red-700" role="alert" hidden></p>
              </div>

              <div>
                <label for="unit" class="block text-sm font-medium text-gray-800">
                  Unit for lengths
                  <button type="button" class="ml-1 align-middle text-xs badge -a11y-focus"
                          aria-expanded="false" aria-controls="unit-tip">?</button>
                </label>
                <select id="unit" class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 -a11y-focus"
                        aria-describedby="unit-tip">
                  <option value="m" selected>meter (m)</option>
                  <option value="cm">centimeter (cm)</option>
                  <option value="mm">millimeter (mm)</option>
                  <option value="in">inch (in)</option>
                  <option value="ft">foot (ft)</option>
                </select>
                <div id="unit-tip" class="tooltip-panel mt-2" role="note" hidden>
                  All internal calculations use meters to preserve numerical stability.
                </div>
              </div>

              <div>
                <label for="value" class="block text-sm font-medium text-gray-800">Value <span class="text-red-600" aria-hidden="true">*</span></label>
                <input id="value" type="number" inputmode="decimal" step="any" min="0"
                       class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 -a11y-focus"
                       placeholder="Enter a positive number"
                       aria-required="true" aria-describedby="value-hint value-err" />
                <p id="value-hint" class="mt-1 text-xs text-gray-600">Area uses squared units; others use selected length unit.</p>
                <p id="value-err" class="mt-1 text-sm text-red-700" role="alert" hidden></p>
              </div>
            </div>

            <!-- Actions -->
            <div class="flex flex-wrap items-center gap-3 pt-1">
              <button id="calcBtn" class="px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold -a11y-focus">Calculate</button>
              <button id="resetBtn" class="px-4 py-2 rounded-lg bg-white border border-gray-300 font-semibold -a11y-focus">Reset</button>
              <button id="shareBtn" class="px-4 py-2 rounded-lg bg-white border border-gray-300 font-semibold -a11y-focus">Share with inputs</button>
              <span class="text-xs text-gray-500">INP-optimized: no heavy scripts run until you interact.</span>
            </div>
          </section>

          <!-- 4) Results -->
          <section id="results" class="mt-8 bg-blue-50 border border-blue-100 rounded-xl p-6" aria-live="polite">
            <h2 class="text-xl font-bold mb-4">Results</h2>
            <div class="result-grid grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="result-card"><h4>Side length (a)</h4><p id="res-a">—</p></div>
              <div class="result-card"><h4>Perimeter (P)</h4><p id="res-P">—</p></div>
              <div class="result-card"><h4>Area (A)</h4><p id="res-A">—</p></div>
              <div class="result-card"><h4>Circumradius (R)</h4><p id="res-R">—</p></div>
              <div class="result-card"><h4>Inradius (r)</h4><p id="res-r">—</p></div>
              <div class="result-card"><h4>Interior angle</h4><p>150°</p></div>
              <div class="result-card"><h4>Central angle</h4><p>30°</p></div>
              <div class="result-card"><h4>Diagonals</h4><p>54</p></div>
            </div>

            <!-- Simple diagram -->
            <div id="diagram-wrap" class="mt-6 bg-white border border-gray-200 rounded-xl p-4">
              <h3 class="font-semibold mb-2">Scaled diagram (regular dodecagon)</h3>
              <svg id="polySvg" viewBox="0 0 240 240" role="img" aria-label="Regular dodecagon diagram"
                   class="w-full h-60">
                <circle cx="120" cy="120" r="100" fill="#eff6ff" stroke="#bfdbfe" />
                <polygon id="poly" points="" fill="#93c5fd" stroke="#1d4ed8" stroke-width="2" opacity="0.9"></polygon>
                <line id="sideLine" x1="0" y1="0" x2="0" y2="0" stroke="#111827" stroke-width="2"></line>
                <text id="sideLabel" x="120" y="20" text-anchor="middle" font-size="12" fill="#111827">a</text>
              </svg>
              <p class="text-xs text-gray-600 mt-2">Illustrative only; not to scale with your units.</p>
            </div>
          </section>
        </div>

        <!-- 5) Authoritative Content Ecosystem -->
        <article class="bg-white p-6 rounded-xl shadow-sm mt-8 prose">
          <h2>Data Source &amp; Methodology</h2>
          <p>
            Authoritative formulas for regular polygons are drawn from
            <a class="text-blue-700 hover:underline" href="https://mathworld.wolfram.com/RegularPolygon.html" rel="nofollow">Wolfram MathWorld — Regular Polygon</a>
            and <a class="text-blue-700 hover:underline" href="https://en.wikipedia.org/wiki/Regular_polygon" rel="nofollow">Regular polygon (Wikipedia)</a> (accessed Oct&nbsp;25, 2025).<br/>
            <em>«Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.»</em>
          </p>

          <h2>The Formula Explained</h2>
          <div class="formula-box">
            For a regular dodecagon (n = 12) with side \(a\):<br/><br/>
            \[
              A = \frac{n a^2}{4 \tan\!\left(\frac{\pi}{n}\right)}
              = \frac{12 a^2}{4 \tan\!\left(\frac{\pi}{12}\right)}
              = 3(2+\sqrt{3})\,a^2
            \]
            \[
              P = n a = 12a
            \]
            \[
              R = \frac{a}{2\sin\!\left(\frac{\pi}{12}\right)}, \qquad
              r = \frac{a}{2\tan\!\left(\frac{\pi}{12}\right)}
            \]
            Interior angle: \( \alpha = \frac{(n-2)\pi}{n} = 150^\circ \).
            Central angle: \( \frac{2\pi}{n} = 30^\circ \).
          </div>

          <h2>Glossary of Variables</h2>
          <ul>
            <li><strong>a</strong> — side length of the regular dodecagon (length unit).</li>
            <li><strong>P</strong> — perimeter \(=12a\) (length unit).</li>
            <li><strong>A</strong> — area \(=3(2+\sqrt{3})a^2\) (length unit squared).</li>
            <li><strong>R</strong> — circumradius; radius of circumscribed circle.</li>
            <li><strong>r</strong> — inradius (apothem); radius of inscribed circle.</li>
          </ul>

          <h2>How It Works: A Step-by-Step Example</h2>
          <p><strong>Goal:</strong> Given side length \(a = 10\text{ cm}\), find \(A, P, R, r\).</p>
          <ol>
            <li>Perimeter: \(P = 12a = 120\text{ cm}\).</li>
            <li>Area: \(A = 3(2+\sqrt{3})a^2 \approx 3(3.732)\cdot 100 = 1119.6\text{ cm}^2\).</li>
            <li>\(R = a/[2\sin(\pi/12)] \approx 10/[2\cdot 0.258819] \approx 19.318\text{ cm}\).</li>
            <li>\(r = a/[2\tan(\pi/12)] \approx 10/[2\cdot 0.267949] \approx 18.660\text{ cm}\).</li>
          </ol>
          <p>Enter any one of these values in the calculator and the rest will be derived automatically.</p>

          <h2>Frequently Asked Questions</h2>
          <details>
            <summary>Which inputs does this calculator accept?</summary>
            <p>You can provide exactly one of: side length (a), perimeter (P), area (A), circumradius (R), or inradius (r). The tool computes all the others.</p>
          </details>
          <details>
            <summary>Are results exact or approximations?</summary>
            <p>Formulas are exact. Numerical outputs are rounded to a sensible number of significant digits for readability; you can change the rounding in the UI code if needed.</p>
          </details>
          <details>
            <summary>Does it work for non-regular dodecagons?</summary>
            <p>No. The identities used require equal sides and equal angles. Irregular 12-gons need coordinate-based polygon area methods (e.g., shoelace formula).</p>
          </details>
          <details>
            <summary>Why are there “interior” and “central” angles in the results?</summary>
            <p>They are fixed for a regular dodecagon (150° and 30° respectively) and often needed for layout, tiling, or machining operations.</p>
          </details>
          <details>
            <summary>How do units work for area?</summary>
            <p>Area is shown in the squared version of your selected unit (m², cm², in², …). Lengths use the base unit you selected.</p>
          </details>
          <details>
            <summary>What’s the number of diagonals and how is it computed?</summary>
            <p>A regular dodecagon has \(n(n-3)/2 = 54\) diagonals. This is a combinatorial identity true for any n-gon.</p>
          </details>

          <!-- 6) Authorship & review -->
          <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-700">
            <p><strong>Tool developed by Ugo Candido.</strong> Content verified by the CalcDomain Editorial Board.<br />
            Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
          </div>
        </article>
      </section>

      <!-- Aside -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24 space-y-6">
          <div class="bg-gray-200 h-72 rounded-xl flex items-center justify-center text-gray-600">
            Ad Placement (300×600)
          </div>
          <div class="bg-white p-6 rounded-xl shadow-sm">
            <h3 class="font-bold text-lg mb-3">Why this calculator is different</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
              <li>Accepts any single input and derives the rest.</li>
              <li>Accessible tooltips, keyboard-first, WCAG 2.1 AA compliant.</li>
              <li>Authoritative formulas with LaTeX and cited sources.</li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-xl shadow-sm">
            <h3 class="font-bold text-lg mb-4">Related geometry tools</h3>
            <ul class="space-y-3 text-sm">
              <li>Regular Polygon Area</li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/hexagon-calculator">Hexagon Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/octagon-calculator">Octagon Calculator</a></li>
              <li><a class="text-blue-700 hover:underline" href="https://calcdomain.com/circle-calculator">Circle Calculator</a></li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-gray-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="https://calcdomain.com/about" class="hover:text-blue-700">About</a>
        <a href="https://calcdomain.com/contact" class="hover:text-blue-700">Contact</a>
        <a href="https://calcdomain.com/privacy" class="hover:text-blue-700">Privacy</a>
        <a href="https://calcdomain.com/terms" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator Logic (defer loading) -->
  <script defer>
    // Mobile menu
    (function(){
      const btn = document.getElementById('menuBtn');
      const nav = document.getElementById('mnav');
      if(!btn || !nav) return;
      btn.addEventListener('click', () => {
        const open = nav.classList.toggle('hidden') === false;
        btn.setAttribute('aria-expanded', String(open));
      });
    })();

    // Units
    const U2M = { m:1, cm:0.01, mm:0.001, in:0.0254, ft:0.3048 };

    // Elements
    const el = {
      known: document.getElementById('known'),
      unit: document.getElementById('unit'),
      value: document.getElementById('value'),
      knownErr: document.getElementById('known-err'),
      valueErr: document.getElementById('value-err'),
      unitTipBtn: document.querySelector('label[for="unit"] button'),
      unitTip: document.getElementById('unit-tip'),
      calcBtn: document.getElementById('calcBtn'),
      resetBtn: document.getElementById('resetBtn'),
      shareBtn: document.getElementById('shareBtn'),
      resA: document.getElementById('res-a'),
      resP: document.getElementById('res-P'),
      resArea: document.getElementById('res-A'),
      resR: document.getElementById('res-R'),
      resr: document.getElementById('res-r'),
      poly: document.getElementById('poly'),
      sideLine: document.getElementById('sideLine'),
      sideLabel: document.getElementById('sideLabel')
    };

    // Accessible tooltip toggle
    (function(){
      if(!el.unitTipBtn || !el.unitTip) return;
      el.unitTipBtn.addEventListener('click', () => {
        const hidden = el.unitTip.hasAttribute('hidden');
        el.unitTip.toggleAttribute('hidden');
        el.unitTipBtn.setAttribute('aria-expanded', String(hidden));
      });
      el.unitTipBtn.addEventListener('keydown', (e) => {
        if(e.key === 'Escape' && !el.unitTip.hasAttribute('hidden')){
          el.unitTip.setAttribute('hidden','');
          el.unitTipBtn.setAttribute('aria-expanded','false');
          el.unitTipBtn.focus();
        }
      });
    })();

    // Validation helpers
    function clearError(node){ node.textContent=''; node.hidden = true; }
    function showError(node, msg){ node.textContent = msg; node.hidden = false; }
    function validateAll(){
      let ok = true;
      clearError(el.knownErr);
      clearError(el.valueErr);
      if(!el.known.value){ showError(el.knownErr, 'Please choose a known quantity.'); ok=false; }
      const v = Number(el.value.value);
      if(!isFinite(v) || v<=0){
        showError(el.valueErr, 'Enter a positive number greater than zero. Example: 12.5');
        ok=false;
      }
      if(!(el.unit.value in U2M)){ showError(el.knownErr, 'Choose a valid unit.'); ok=false; }
      return ok;
    }
    ['blur','change'].forEach(evt => {
      el.value.addEventListener(evt, validateAll);
      el.known.addEventListener(evt, validateAll);
      el.unit.addEventListener(evt, validateAll);
    });

    // Core math (regular dodecagon, n=12)
    const n = 12;
    const sin = Math.sin, tan = Math.tan, PI = Math.PI;
    const ang = PI/n;
    const sin_ang = sin(ang);           // sin(π/12)
    const tan_ang = tan(ang);           // tan(π/12)
    const K_area = n/(4*tan_ang);       // general polygon coefficient
    const AREA_FROM_A = (a)=> K_area*a*a;          // A(a)
    const P_FROM_A = (a)=> n*a;                    // P(a)
    const R_FROM_A = (a)=> a/(2* sin_ang);         // R(a)
    const r_FROM_A = (a)=> a/(2* tan_ang);         // r(a)
    // Inversions
    const A_FROM_P  = (P)=> AREA_FROM_A(P/n);
    const A_FROM_R  = (R)=> K_area * Math.pow(2*R*sin_ang,2);
    const A_FROM_r  = (r)=> (n/2)*r*( (2*r)*tan_ang ); // via A = (1/2)*Perimeter*apothem with a = 2 r tan(π/n)
    const a_FROM_A  = (A)=> Math.sqrt(A / K_area);
    const a_FROM_R  = (R)=> 2*R*sin_ang;
    const a_FROM_r  = (r)=> 2*r*tan_ang;
    const a_FROM_P  = (P)=> P/n;

    // Formatters
    const fmt = new Intl.NumberFormat(undefined, { maximumFractionDigits: 6 });
    function fmtLen(x){ return x===null?'—':`${fmt.format(x)} ${el.unit.value}`; }
    function fmtArea(x){
      const u = el.unit.value;
      const sup2 = { m:'m²', cm:'cm²', mm:'mm²', in:'in²', ft:'ft²' }[u] || (u+'²');
      return x===null?'—':`${fmt.format(x)} ${sup2}`;
    }

    // Unit conversions
    function toMeters(x){ return x * U2M[el.unit.value]; }
    function fromMeters(x){ return x / U2M[el.unit.value]; }
    function areaToUnit(x_m2){
      const k = U2M[el.unit.value];
      return x_m2 / (k*k);
    }
    function areaFromUnit(x_unit2){
      const k = U2M[el.unit.value];
      return x_unit2 * k*k;
    }

    function compute(){
      if(!validateAll()) return;

      const kind = el.known.value;
      let a_m = null, A_m2 = null, P_m = null, R_m = null, r_m = null;

      if(kind === 'side'){
        const a = toMeters(Number(el.value.value));
        a_m = a; A_m2 = AREA_FROM_A(a); P_m = P_FROM_A(a); R_m = R_FROM_A(a); r_m = r_FROM_A(a);
      }
      else if(kind === 'perimeter'){
        const P = toMeters(Number(el.value.value));
        P_m = P; const a = a_FROM_P(P); a_m = a; A_m2 = AREA_FROM_A(a); R_m = R_FROM_A(a); r_m = r_FROM_A(a);
      }
      else if(kind === 'area'){
        const A_u2 = Number(el.value.value);
        const A = areaFromUnit(A_u2);
        A_m2 = A; const a = a_FROM_A(A); a_m = a; P_m = P_FROM_A(a); R_m = R_FROM_A(a); r_m = r_FROM_A(a);
      }
      else if(kind === 'R'){
        const R = toMeters(Number(el.value.value));
        R_m = R; const a = a_FROM_R(R); a_m = a; P_m = P_FROM_A(a); A_m2 = AREA_FROM_A(a); r_m = r_FROM_A(a);
      }
      else if(kind === 'r'){
        const r = toMeters(Number(el.value.value));
        r_m = r; const a = a_FROM_r(r); a_m = a; P_m = P_FROM_A(a); A_m2 = AREA_FROM_A(a); R_m = R_FROM_A(a);
      }

      // Update UI
      el.resA.textContent    = fmtLen(fromMeters(a_m));
      el.resP.textContent    = fmtLen(fromMeters(P_m));
      el.resArea.textContent = fmtArea(areaToUnit(A_m2));
      el.resR.textContent    = fmtLen(fromMeters(R_m));
      el.resr.textContent    = fmtLen(fromMeters(r_m));

      drawPolygon(); // refresh diagram
    }

    // Share current state via URL params
    function share(){
      const url = new URL(location.href);
      url.searchParams.set('known', el.known.value);
      url.searchParams.set('unit', el.unit.value);
      url.searchParams.set('value', String(el.value.value||''));
      navigator.clipboard.writeText(url.toString())
        .then(()=> { el.shareBtn.textContent='Link copied!'; setTimeout(()=>el.shareBtn.textContent='Share with inputs',1500); })
        .catch(()=> { alert('Copy failed. You can manually copy the address bar.'); });
    }

    // Reset
    function resetAll(){
      el.known.value = 'side';
      el.unit.value  = 'm';
      el.value.value = '';
      clearError(el.knownErr); clearError(el.valueErr);
      el.resA.textContent = el.resP.textContent = el.resArea.textContent = el.resR.textContent = el.resr.textContent = '—';
      drawPolygon();
    }

    // Diagram rendering: regular 12-gon centered at (120,120), radius 100
    function drawPolygon(){
      const cx=120, cy=120, R=100;
      const pts=[];
      for(let k=0;k<12;k++){
        const th = -Math.PI/2 + k*(2*Math.PI/12);
        const x = cx + R*Math.cos(th);
        const y = cy + R*Math.sin(th);
        pts.push(`${x.toFixed(2)},${y.toFixed(2)}`);
      }
      el.poly.setAttribute('points', pts.join(' '));
      // Mark first side
      const [x1,y1] = pts[0].split(',').map(Number);
      const [x2,y2] = pts[1].split(',').map(Number);
      el.sideLine.setAttribute('x1', x1); el.sideLine.setAttribute('y1', y1);
      el.sideLine.setAttribute('x2', x2); el.sideLine.setAttribute('y2', y2);
    }
    drawPolygon(); // initial

    // Wire events
    el.calcBtn.addEventListener('click', compute);
    el.resetBtn.addEventListener('click', resetAll);
    el.shareBtn.addEventListener('click', share);
    // Calculate on Enter in value field
    el.value.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ compute(); } });

    // Initialize from URL (deep link)
    (function initFromURL(){
      const p = new URLSearchParams(location.search);
      if(p.has('known')) el.known.value = p.get('known');
      if(p.has('unit') && U2M[p.get('unit')]) el.unit.value = p.get('unit');
      if(p.has('value')) el.value.value = p.get('value');
      if(p.has('known') && p.has('value')) compute();
    })();
  </script>
</body>
</html>
