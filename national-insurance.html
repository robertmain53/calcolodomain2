<!DOCTYPE html>
<html lang="en"><head> 
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta charset="utf-8"/>
<title>UK National Insurance Calculator | CalcDomain</title>
<meta content="Accurately estimate UK National Insurance (NI) contributions for employees (Class 1) and the self‑employed (Class 2 and Class 4) for the 2024/25 tax year. Mobile‑first, accessible, and optimized for speed." name="description"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Ugo Candido" name="author"/>
<link href="https://calcdomain.com/national-insurance.html" rel="canonical"/>
<meta content="#0b3a67" name="theme-color"/>
<meta content="index,follow" name="robots"/>
<link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect width='100%25' height='100%25' fill='%23005A9C'/%3E%3Ctext x='50%25' y='54%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='36' fill='white'%3ENI%3C/text%3E%3C/svg%3E" rel="icon" type="image/svg+xml"/>
<!-- Non‑critical global styles loaded asynchronously -->
<link as="style" href="style.css" onload="this.onload=null;this.rel='stylesheet'" rel="preload"/>
<noscript><link href="style.css" rel="stylesheet"/></noscript>
<!-- Critical, mobile‑first CSS -->
<style>
    /* Design tokens (mobile-first) */
    :root{
      --primary-color:#005A9C; --secondary-color:#0B3A67; --accent-color:#00A4E4;
      --background-color:#F8FAFC; --surface-color:#FFFFFF;
      --text-color:#1B1F23; --muted-text-color:#5F6B7A; --border-color:#E2E8F0;
      --success-color:#1F8A5F; --danger-color:#C23934; --warning-color:#B7791F;
      --font-sans:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,system-ui,"Helvetica Neue","Noto Sans","Liberation Sans",sans-serif;
      --font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --radius-6:6px; --radius-8:8px; --radius-12:12px;
      --touch-min:48px; --gap-8:.5rem; --gap-12:.75rem; --gap-16:1rem; --gap-24:1.5rem; --gap-32:2rem;
      --container-max:1160px;
    }
    @media (prefers-contrast: more){ :root{ --primary-color:#00325E; --secondary-color:#001E36; --text-color:#000; } }
    @media (prefers-reduced-motion: reduce){ *{animation:none!important;transition:none!important;scroll-behavior:auto!important} }

    /* Base */
    *{box-sizing:border-box}
    html{font-size:16px}
    body{margin:0;font-family:var(--font-sans);background:var(--background-color);color:var(--text-color);line-height:1.6}
    a{color:var(--primary-color);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;height:auto}
    .container{max-width:var(--container-max);margin:0 auto;padding:0 var(--gap-16)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .skip-link{position:absolute;left:8px;top:-40px;background:var(--primary-color);color:#fff;padding:.5rem .75rem;border-radius:0 0 4px 4px;z-index:999}
    .skip-link:focus{top:0}

    /* Header (non-sticky per requirement) */
    header.site-header{position:static;background:var(--surface-color);border-bottom:1px solid var(--border-color)}
    .site-header .inner{display:flex;align-items:center;gap:var(--gap-16);justify-content:space-between;padding:.75rem 0}
    .brand{font-weight:700;color:var(--secondary-color);font-size:1.125rem}
    .top-nav a{padding:.5rem;border-radius:6px}
    .top-nav a:focus{outline:3px solid var(--primary-color);outline-offset:2px}

    /* Main */
    main{padding:var(--gap-24) 0}
    h1{font-size:1.75rem;line-height:1.25;margin:.25rem 0 0.5rem;color:var(--secondary-color)}
    h2{font-size:1.35rem;margin:1.25rem 0 .5rem;color:var(--secondary-color)}
    h3{font-size:1.1rem;margin:1rem 0 .5rem;color:var(--secondary-color)}
    p{margin:.5rem 0 1rem;max-width:70ch}
    ul{padding-left:1.1rem}

    /* Calculator layout */
    .calculator-layout{display:grid;grid-template-columns:1fr;gap:var(--gap-24);margin-top:var(--gap-16)}
    @media(min-width:992px){ .calculator-layout{grid-template-columns:minmax(290px,420px) 1fr} }

    .card{background:var(--surface-color);border:1px solid var(--border-color);border-radius:var(--radius-12);padding:clamp(1rem,2vw,1.5rem);box-shadow:0 2px 6px rgba(0,0,0,.04)}
    .card:focus-within{outline:3px solid rgba(0,90,156,.25);outline-offset:2px}

    /* Form */
    .form-group{margin-bottom:var(--gap-16)}
    label{display:block;font-weight:600;margin-bottom:.375rem}
    .label-row{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
    .help-btn{appearance:none;border:1px solid var(--border-color);background:var(--surface-color);border-radius:50%;width:32px;height:32px;min-width:32px;min-height:32px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700;color:var(--secondary-color)}
    .help-btn:focus{outline:3px solid var(--primary-color);outline-offset:2px}
    .tooltip{margin-top:.35rem;background:#EDF2F7;border:1px solid #D1D9E0;border-radius:8px;padding:.6rem;display:none}
    .tooltip[aria-hidden="false"]{display:block}

    .input-group{position:relative}
    .form-control{width:100%;min-height:var(--touch-min);padding:.75rem 2.5rem .75rem .9rem;border:1px solid var(--border-color);border-radius:var(--radius-8);font-size:1rem;background:#fff}
    .form-control:focus{outline:3px solid rgba(0,90,156,.25);border-color:var(--primary-color)}
    .form-control[aria-invalid="true"]{border-color:var(--danger-color)}
    .suffix{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:var(--muted-text-color);pointer-events:none}

    fieldset{border:0;padding:0;margin:0}
    .segmented{display:flex;gap:.5rem;flex-wrap:wrap}
    .segmented input[type=radio]{position:absolute;opacity:0;pointer-events:none}
    .segmented label{border:1px solid var(--border-color);border-radius:8px;padding:.6rem .8rem;min-height:var(--touch-min);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;font-weight:600;color:var(--secondary-color)}
    .segmented input[type=radio]:checked + label{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}
    .segmented input[type=radio]:focus-visible + label{outline:3px solid var(--primary-color);outline-offset:2px}

    .checkbox{display:flex;align-items:flex-start;gap:.6rem}
    .checkbox input{width:22px;height:22px}
    .checkbox label{font-weight:500;margin:0}

    .error{color:var(--danger-color);font-size:.9rem;margin-top:.35rem;min-height:1.25rem}

    /* Results */
    .results{min-height:260px}
    .results h2{margin-top:0}
    .result-grid{display:grid;grid-template-columns:1fr;gap:.5rem;border:1px solid var(--border-color);border-radius:10px;padding:.75rem;background:#F5F9FC}
    @media(min-width:560px){ .result-grid{grid-template-columns:1fr 1fr} }
    .result-item{display:flex;align-items:center;justify-content:space-between;padding:.55rem .6rem;background:#fff;border:1px solid var(--border-color);border-radius:8px}
    .result-label{color:var(--muted-text-color)}
    .result-value{font-weight:700;color:var(--success-color);font-variant-numeric:tabular-nums}

    .note{font-size:.95rem;color:var(--muted-text-color)}

    /* Content sections */
    .formula-box{background:#F1F5F9;border:1px solid #D8E0EA;border-radius:10px;padding:1rem;overflow-x:auto}
    code,kbd,samp{font-family:var(--font-mono)}
    .author-box{border-top:1px solid var(--border-color);margin-top:var(--gap-32);padding-top:var(--gap-16);color:var(--muted-text-color);font-size:.95rem}
    .badge{display:inline-block;background:#E6F4FF;color:#003f6e;border:1px solid #cfe8ff;border-radius:999px;padding:.15rem .5rem;font-size:.8rem;font-weight:700}

    /* Footer */
    footer{margin-top:2.5rem;border-top:1px solid var(--border-color);background:var(--surface-color)}
    footer .inner{padding:1rem 0;color:var(--muted-text-color);font-size:.95rem}
  </style>
<!-- MathJax for LaTeX rendering (deferred) -->
<script crossorigin="anonymous" defer="" id="MathJax-script" integrity="sha384-PTP7c6b7A3L4wYwW6hN1Z7k9m8Q0vNn6mM6mNfZlH5yY2o6lK0dYcL3j8y3J+J0j" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!-- Structured Data (E-E-A-T + Rich Results) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "UK National Insurance Calculator",
  "description": "Interactive calculator to estimate UK National Insurance (NI) contributions for employees (Class 1) and self‑employed (Class 2 and Class 4) for tax year 2024/25. WCAG-accessible, mobile-first and optimized for Core Web Vitals.",
  "url": "https://calcdomain.com/national-insurance.html",
  "author": {
    "@type": "Person",
    "name": "Ugo Candido"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcDomain"
  },
  "inLanguage": "en-GB",
  "about": [
    "Finance",
    "UK Taxation",
    "National Insurance"
  ],
  "mainEntity": [
    {
      "@type": "HowTo",
      "name": "How It Works: A Step-by-Step Example",
      "description": "Example using an employee on £3,000 per month in 2024/25 under category A.",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Enter inputs",
          "text": "Employment type: Employee. Pay period: Monthly. Gross pay: £3,000. Tax year: 2024/25."
        },
        {
          "@type": "HowToStep",
          "name": "Convert to annual",
          "text": "Annual pay = £3,000 × 12 = £36,000."
        },
        {
          "@type": "HowToStep",
          "name": "Apply thresholds",
          "text": "Primary Threshold (PT) £12,570; Upper Earnings Limit (UEL) £50,270. Main band earnings = £36,000 − £12,570 = £23,430. Upper band = £0."
        },
        {
          "@type": "HowToStep",
          "name": "Calculate contributions",
          "text": "Main band NI = £23,430 × 8% = £1,874.40. Upper band NI = £0 × 2% = £0. Total annual NI = £1,874.40. Monthly ≈ £156.20."
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Which tax year does this calculator use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "2024/25 (6 April 2024 to 5 April 2025). Rates and thresholds are sourced from HMRC. When HMRC publishes updates, we update the tool accordingly."
          }
        },
        {
          "@type": "Question",
          "name": "Does this include employer National Insurance?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. This tool calculates the employee’s Class 1 contributions, and for the self‑employed, Class 4 and optional Class 2. Employer NI is not included."
          }
        },
        {
          "@type": "Question",
          "name": "How do monthly and weekly thresholds work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "HMRC defines thresholds for each pay period. The calculator uses compliant thresholds for weekly and monthly pay so that contributions are computed consistently with HMRC guidance."
          }
        },
        {
          "@type": "Question",
          "name": "Are self‑employed Class 2 contributions required in 2024/25?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "From 6 April 2024 most self‑employed people do not have to pay Class 2 if profits are at or above the Small Profits Threshold. If profits are below the SPT, you may opt to pay Class 2 voluntarily to protect entitlement. The calculator lets you include this optional amount."
          }
        },
        {
          "@type": "Question",
          "name": "Does salary sacrifice or benefits in kind affect the result?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "These can change NI calculations. This tool assumes straightforward cash earnings without salary sacrifice or complex adjustments."
          }
        },
        {
          "@type": "Question",
          "name": "Which employee NI category is used?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Category A (the most common). Other categories can have different rates or thresholds and are not covered here."
          }
        }
      ]
    }
  ]
}
  </script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="search.js" defer></script>
</head>
<body>
<a class="skip-link" href="#main">Skip to main content</a>

<main class="container" id="main" role="main">
<h1>UK National Insurance Calculator</h1>
<p>This professional-grade National Insurance (NI) calculator estimates employee (Class 1) and self‑employed (Class 2 and Class 4) contributions for the UK 2024/25 tax year. It’s designed for employees, sole traders, payroll admins, and advisors who need quick, accurate, and accessible NI figures.</p>
<div aria-labelledby="calc-heading" class="calculator-layout">
<section aria-describedby="calc-desc" class="card" id="calculator">
<h2 id="calc-heading">Enter your details</h2>
<p class="note" id="calc-desc">All fields marked with * are required. Values are processed using HMRC thresholds for your selected pay period.</p>
<!-- Employment type -->
<div class="form-group">
<fieldset>
<legend>Employment type *</legend>
<div aria-label="Employment type" class="segmented" role="radiogroup">
<input aria-checked="true" checked="" id="empEmployee" name="empType" type="radio" value="employee"/>
<label for="empEmployee">Employee (Class 1)</label>
<input aria-checked="false" id="empSelf" name="empType" type="radio" value="self"/>
<label for="empSelf">Self‑employed (Class 2 &amp; 4)</label>
</div>
</fieldset>
</div>
<!-- Pay period -->
<div class="form-group">
<fieldset>
<legend>Pay period *</legend>
<div aria-label="Pay period" class="segmented" role="radiogroup">
<input checked="" id="periodAnnual" name="period" type="radio" value="annual"/>
<label for="periodAnnual">Annual</label>
<input id="periodMonthly" name="period" type="radio" value="monthly"/>
<label for="periodMonthly">Monthly</label>
<input id="periodWeekly" name="period" type="radio" value="weekly"/>
<label for="periodWeekly">Weekly</label>
</div>
</fieldset>
</div>
<!-- Amount -->
<div class="form-group">
<div class="label-row">
<label for="amount" id="amountLabel">Gross annual pay *</label>
<button aria-controls="amountHelp" aria-expanded="false" aria-label="More info about this field" class="help-btn" id="amountHelpBtn" type="button">?</button>
</div>
<div aria-hidden="true" class="tooltip" id="amountHelp" role="note">
            Enter your gross pay (employee) or taxable profits (self‑employed) for the selected period, before any NI is deducted. Do not include employer NI.
          </div>
<div class="input-group">
<input aria-describedby="amountHelp amountError amountSuffix" aria-required="true" class="form-control" id="amount" inputmode="decimal" min="0" placeholder="e.g., 36000" step="0.01" type="number"/>
<span aria-hidden="true" class="suffix" id="amountSuffix">£</span>
</div>
<div aria-live="polite" class="error" id="amountError" role="alert"></div>
</div>
<!-- Tax year (fixed to 2024/25 for accuracy) -->
<div class="form-group">
<label for="taxYear">Tax year *</label>
<select aria-describedby="taxYearNote" aria-required="true" class="form-control" id="taxYear">
<option selected="" value="2024-25">2024/25 (6 Apr 2024 – 5 Apr 2025)</option>
</select>
<div class="note" id="taxYearNote" style="margin-top:.35rem">The calculator uses HMRC 2024/25 thresholds and rates.</div>
</div>
<!-- Self-employed: optional Class 2 -->
<div class="form-group" hidden="" id="class2Block">
<div class="label-row">
<span aria-hidden="true" class="badge">Self‑employed</span>
</div>
<div class="checkbox">
<input aria-describedby="class2Tip" id="includeClass2" type="checkbox"/>
<label for="includeClass2">Include voluntary Class 2 if profits are below the Small Profits Threshold</label>
</div>
<div class="tooltip" id="class2Tip" role="note" style="display:block">
            From 6 April 2024, most self‑employed people do not have to pay Class 2 if profits are at or above the Small Profits Threshold. If profits are below the threshold, you can choose to pay Class 2 to protect State Pension and certain benefits.
          </div>
</div>
</section>
<!-- Results area (separate section for CLS stability) -->
<section aria-live="polite" class="card results" id="results">
<h2>Results</h2>
<p class="note" id="summary">Enter your details to see your estimated National Insurance.</p>
<div aria-describedby="resultFootnote" class="result-grid">
<div class="result-item">
<span class="result-label" id="resPeriodLabel">NI for selected period</span>
<span class="result-value" id="resPeriodValue">£0.00</span>
</div>
<div class="result-item">
<span class="result-label">NI per year</span>
<span class="result-value" id="resAnnual">£0.00</span>
</div>
<div class="result-item">
<span class="result-label" id="resMainLabel">Main band NI</span>
<span class="result-value" id="resMain">£0.00</span>
</div>
<div class="result-item">
<span class="result-label" id="resUpperLabel">Upper band NI</span>
<span class="result-value" id="resUpper">£0.00</span>
</div>
<div class="result-item" hidden="" id="resClass2Item">
<span class="result-label">Class 2 (voluntary)</span>
<span class="result-value" id="resClass2">£0.00</span>
</div>
<div class="result-item">
<span class="result-label">Effective NI rate</span>
<span class="result-value" id="resEffRate">0.00%</span>
</div>
</div>
<p class="note" id="resultFootnote" style="margin-top:.75rem">
          Calculations assume employee Category A or standard self‑employed rules for 2024/25. This tool is for guidance only and is not tax advice.
        </p>
</section>
</div>
<!-- Authoritative content ecosystem -->
<section class="card" style="margin-top:1.5rem">
<h2>Data Source and Methodology</h2>
<ul>
<li>
          HM Government — Work out an employee’s National Insurance contributions (updated for 2024/25).
          <a href="https://www.gov.uk/guidance/work-out-an-employees-national-insurance-contributions" rel="nofollow noopener" target="_blank">gov.uk/guidance/work-out-an-employees-national-insurance-contributions</a>
</li>
<li>
          HMRC — Rates and thresholds for employers 2024 to 2025.
          <a href="https://www.gov.uk/guidance/rates-and-thresholds-for-employers-2024-to-2025" rel="nofollow noopener" target="_blank">gov.uk/guidance/rates-and-thresholds-for-employers-2024-to-2025</a>
</li>
<li>
          HM Government — Self‑employed National Insurance rates.
          <a href="https://www.gov.uk/self-employed-national-insurance-rates" rel="nofollow noopener" target="_blank">gov.uk/self-employed-national-insurance-rates</a>
</li>
</ul>
<p><strong>Tutti i calcoli si basano rigorosamente sulle formule e sui dati forniti da questa fonte.</strong></p>
<h2>The Formula Explained</h2>
<div aria-label="Mathematical formulation" class="formula-box">
<p><strong>Employee (Class 1, Category A):</strong></p>
<p>
          For annual pay P, Primary Threshold PT, Upper Earnings Limit UEL, main rate r_m and upper rate r_u:
        </p>
<p>$$
          \mathrm{NI}_{\text{main}} = \max\!\bigl(0, \min(UEL, P) - PT\bigr)\times r_m
        $$</p>
<p>$$
          \mathrm{NI}_{\text{upper}} = \max\!\bigl(0, P - UEL\bigr)\times r_u
        $$</p>
<p>$$
          \mathrm{NI}_{\text{annual}} = \mathrm{NI}_{\text{main}} + \mathrm{NI}_{\text{upper}}
        $$</p>
<p style="margin-top:.75rem"><strong>Self‑employed (Class 4 and optional Class 2):</strong></p>
<p>
          For annual profits S, Lower Profits Limit LPL, Upper Profits Limit UPL, Class 4 rates r_{4m}, r_{4u}, weekly Class 2 rate c_2, Small Profits Threshold SPT, and an optionality flag v ∈ {0,1}:
        </p>
<p>$$
          C4_{\text{main}} = \max\!\bigl(0, \min(UPL, S) - LPL\bigr)\times r_{4m}
        $$</p>
<p>$$
          C4_{\text{upper}} = \max\!\bigl(0, S - UPL\bigr)\times r_{4u}
        $$</p>
<p>$$
          C2_{\text{vol}} =
          \begin{cases}
            52 \times c_2 \times v, &amp; \text{if } S &lt; SPT \\
            0, &amp; \text{if } S \ge SPT
          \end{cases}
        $$</p>
<p>$$
          \mathrm{NI}_{\text{annual}} = C4_{\text{main}} + C4_{\text{upper}} + C2_{\text{vol}}
        $$</p>
</div>
<h2>Glossary of Variables</h2>
<ul>
<li>P: Annual gross pay (employee).</li>
<li>S: Annual taxable profits (self‑employed).</li>
<li>PT: Primary Threshold (employee) — below this, employee NI is 0%.</li>
<li>UEL: Upper Earnings Limit (employee) — earnings above are charged at the upper rate.</li>
<li>LPL: Lower Profits Limit (self‑employed, Class 4).</li>
<li>UPL: Upper Profits Limit (self‑employed, Class 4).</li>
<li>SPT: Small Profits Threshold — below this you may opt to pay Class 2 voluntarily.</li>
<li>r_m / r_u: Employee Class 1 main and upper rates.</li>
<li>r_{4m} / r_{4u}: Self‑employed Class 4 main and upper rates.</li>
<li>c_2: Weekly Class 2 rate (voluntary when profits are below SPT in 2024/25).</li>
<li>Effective NI rate: Total NI divided by total gross pay or profits.</li>
</ul>
<h2>Worked Example</h2>
<h3>How It Works: A Step‑by‑Step Example</h3>
<p><strong>Scenario:</strong> Employee on £3,000 per month in 2024/25, Category A.</p>
<ol>
<li>Annualise: £3,000 × 12 = £36,000.</li>
<li>Apply thresholds: PT £12,570; UEL £50,270.</li>
<li>Main band: min(£36,000, £50,270) − £12,570 = £23,430.</li>
<li>Upper band: max(£36,000 − £50,270, 0) = £0.</li>
<li>NI: £23,430 × 8% = £1,874.40 per year ⇒ about £156.20 per month.</li>
</ol>
<h2>Frequently Asked Questions (FAQ)</h2>
<div>
<h3>Which tax year is supported?</h3>
<p>2024/25 (6 April 2024 to 5 April 2025). We update rates promptly when HMRC publishes changes.</p>
<h3>Does this calculator include employer NI?</h3>
<p>No. It shows employee Class 1 and self‑employed Class 4 (plus optional Class 2). Employer NI is excluded.</p>
<h3>How are weekly and monthly thresholds handled?</h3>
<p>HMRC defines thresholds per period. We use the compliant PT/UEL weekly and monthly values so your results match HMRC methods.</p>
<h3>What about special NI categories (e.g., under 21, apprentices)?</h3>
<p>This tool assumes Category A for employees. Other categories can differ and are not included here.</p>
<h3>Is Class 2 mandatory for the self‑employed in 2024/25?</h3>
<p>No, not if profits are at or above the Small Profits Threshold. If profits are below SPT, you can choose to pay Class 2 voluntarily to protect State Pension entitlement.</p>
<h3>Does salary sacrifice affect NI?</h3>
<p>Yes. Salary sacrifice can reduce NI. This tool assumes straightforward gross pay without salary sacrifice.</p>
<h3>Is this tax advice?</h3>
<p>No. It’s an educational tool. Consult a qualified advisor for your specific situation.</p>
</div>
<div class="author-box">
<p>Strumento sviluppato da <strong>Ugo Candido</strong>. Contenuti verificati da <strong>CalcDomain Tax &amp; Payroll Specialists</strong>.<br/>
        Ultima revisione per l'accuratezza in data: <time datetime="2025-09-14">14 September 2025</time>.</p>
</div>
</section>
</main>
<!-- Standard Footer --> 
<script defer="">
    (function(){
      'use strict';

      // Elements
      const empEmployee = document.getElementById('empEmployee');
      const empSelf = document.getElementById('empSelf');
      const periodRadios = Array.from(document.querySelectorAll('input[name="period"]'));
      const amount = document.getElementById('amount');
      const amountLabel = document.getElementById('amountLabel');
      const amountError = document.getElementById('amountError');
      const amountHelpBtn = document.getElementById('amountHelpBtn');
      const amountHelp = document.getElementById('amountHelp');
      const class2Block = document.getElementById('class2Block');
      const includeClass2 = document.getElementById('includeClass2');

      // Results
      const resPeriodLabel = document.getElementById('resPeriodLabel');
      const resPeriodValue = document.getElementById('resPeriodValue');
      const resAnnual = document.getElementById('resAnnual');
      const resMain = document.getElementById('resMain');
      const resUpper = document.getElementById('resUpper');
      const resEffRate = document.getElementById('resEffRate');
      const resClass2Item = document.getElementById('resClass2Item');
      const resClass2 = document.getElementById('resClass2');
      const summary = document.getElementById('summary');

      // Constants (2024/25)
      const RATES_2024 = {
        employee: {
          PT: { annual: 12570, monthly: 1048, weekly: 242 },
          UEL: { annual: 50270, monthly: 4189, weekly: 967 },
          mainRate: 0.08,
          upperRate: 0.02
        },
        self: {
          LPL: 12570,
          UPL: 50270,
          class4Main: 0.06,
          class4Upper: 0.02,
          class2Weekly: 3.45,
          SPT: 6725
        }
      };

      // Utilities
      const gbp = new Intl.NumberFormat('en-GB',{style:'currency',currency:'GBP', maximumFractionDigits:2});
      const pct = new Intl.NumberFormat('en-GB',{style:'percent', maximumFractionDigits:2});

      const getEmpType = () => (empSelf.checked ? 'self' : 'employee');
      const getPeriod = () => (periodRadios.find(r=>r.checked)?.value || 'annual');

      function periodToAnnual(value, period){
        if (!isFinite(value)) return 0;
        switch(period){
          case 'weekly': return value * 52;
          case 'monthly': return value * 12;
          default: return value;
        }
      }
      function annualToPeriod(value, period){
        if (!isFinite(value)) return 0;
        switch(period){
          case 'weekly': return value / 52;
          case 'monthly': return value / 12;
          default: return value;
        }
      }

      // Validation
      function validateAmount(){
        const v = amount.value.trim();
        let ok = true;
        if (v === ''){
          ok = false;
          amount.setAttribute('aria-invalid','true');
          amountError.textContent = 'Please enter a value. Use 0 if you have no earnings for the period.';
        } else {
          const num = Number(v);
          if (!isFinite(num) || num < 0){
            ok = false;
            amount.setAttribute('aria-invalid','true');
            amountError.textContent = 'Amount must be a number greater than or equal to 0.';
          } else if (num > 100000000){
            ok = false;
            amount.setAttribute('aria-invalid','true');
            amountError.textContent = 'That amount looks unusually high. Please check and try again.';
          } else {
            amount.setAttribute('aria-invalid','false');
            amountError.textContent = '';
          }
        }
        return ok;
      }

      // Accessible tooltip toggling
      function toggleTooltip(btn, tip){
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        tip.setAttribute('aria-hidden', String(expanded));
      }
      amountHelpBtn.addEventListener('click', ()=>toggleTooltip(amountHelpBtn, amountHelp));
      amountHelpBtn.addEventListener('keydown', (e)=>{
        if (e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggleTooltip(amountHelpBtn, amountHelp); }
      });

      // Dynamic UI based on employment type and period
      function syncLabels(){
        const empType = getEmpType();
        const period = getPeriod();
        const map = { annual: 'annual', monthly: 'monthly', weekly: 'weekly' };
        if (empType === 'employee'){
          amountLabel.textContent = `Gross ${map[period]} pay *`;
          class2Block.hidden = true;
        } else {
          amountLabel.textContent = `Taxable ${map[period]} profits *`;
          class2Block.hidden = false;
        }
        resMain.previousElementSibling.textContent = empType === 'employee' ? 'Main band NI' : 'Class 4 — main band';
        resUpper.previousElementSibling.textContent = empType === 'employee' ? 'Upper band NI' : 'Class 4 — upper band';

        resPeriodLabel.textContent = `NI for ${period}`;
      }

      // Core calculation
      function calculate(){
        if (!validateAmount()){
          // Clear results if invalid input
          resPeriodValue.textContent = gbp.format(0);
          resAnnual.textContent = gbp.format(0);
          resMain.textContent = gbp.format(0);
          resUpper.textContent = gbp.format(0);
          resClass2.textContent = gbp.format(0);
          resClass2Item.hidden = true;
          resEffRate.textContent = '0.00%';
          summary.textContent = 'Fix the highlighted issue to see your estimated National Insurance.';
          return;
        }

        const empType = getEmpType();
        const period = getPeriod();
        const v = Number(amount.value);
        const annual = periodToAnnual(v, period);

        let annualMain = 0, annualUpper = 0, annualClass2 = 0;

        if (empType === 'employee'){
          const { PT, UEL, mainRate, upperRate } = RATES_2024.employee;
          const PTp = PT[period]; // period threshold for message consistency (not used in calc by period)
          // Annual method using annual thresholds per HMRC principles
          const mainBand = Math.max(0, Math.min(RATES_2024.employee.UEL.annual, annual) - RATES_2024.employee.PT.annual);
          const upperBand = Math.max(0, annual - RATES_2024.employee.UEL.annual);
          annualMain = mainBand * mainRate;
          annualUpper = upperBand * upperRate;
          resClass2Item.hidden = true;
        } else {
          const { LPL, UPL, class4Main, class4Upper, class2Weekly, SPT } = RATES_2024.self;
          const c4MainBand = Math.max(0, Math.min(UPL, annual) - LPL);
          const c4UpperBand = Math.max(0, annual - UPL);
          annualMain = c4MainBand * class4Main;
          annualUpper = c4UpperBand * class4Upper;

          // Class 2: only if profits < SPT and user opted in
          if (annual < SPT && includeClass2.checked){
            annualClass2 = 52 * class2Weekly;
          } else {
            annualClass2 = 0;
          }
          resClass2Item.hidden = (annualClass2 === 0);
        }

        const annualTotal = Math.max(0, annualMain + annualUpper + annualClass2);
        const periodTotal = annualToPeriod(annualTotal, period);

        // Update UI
        resMain.textContent = gbp.format(annualMain);
        resUpper.textContent = gbp.format(annualUpper);
        if (!resClass2Item.hidden){ resClass2.textContent = gbp.format(annualClass2); }

        resAnnual.textContent = gbp.format(annualTotal);
        resPeriodValue.textContent = gbp.format(periodTotal);

        const effRate = (annual <= 0) ? 0 : (annualTotal / annual);
        resEffRate.textContent = (effRate*100).toFixed(2) + '%';

        const who = empSelf.checked ? 'self‑employed' : 'employee';
        summary.textContent = `Estimated ${who} National Insurance: ${resPeriodValue.textContent} per ${period}, ${resAnnual.textContent} per year.`;
      }

      // Event wiring
      amount.addEventListener('blur', validateAmount);
      amount.addEventListener('input', calculate);
      periodRadios.forEach(r => r.addEventListener('change', ()=>{ syncLabels(); calculate(); }));
      empEmployee.addEventListener('change', ()=>{ syncLabels(); calculate(); });
      empSelf.addEventListener('change', ()=>{ syncLabels(); calculate(); });
      includeClass2.addEventListener('change', calculate);

      // Initialize
      syncLabels();
      calculate();

      // Enhance keyboard focus visibly for segmented controls (for Safari/Firefox)
      document.querySelectorAll('.segmented input[type=radio]').forEach(radio=>{
        radio.addEventListener('focus', e=>{
          const lab = e.target.nextElementSibling;
          if (lab) lab.style.outline = '3px solid ' + getComputedStyle(document.documentElement).getPropertyValue('--primary-color');
          if (lab) lab.style.outlineOffset = '2px';
        });
        radio.addEventListener('blur', e=>{
          const lab = e.target.nextElementSibling;
          if (lab) lab.style.outline = 'none';
        });
      });
    })();
  </script>

<script defer src="/assets/js/mobile-menu.js"></script>
<script defer src="/assets/js/page-enhancements.js"></script>
</body></html>