<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Parabola Calculator – Vertex, Focus, Directrix, Roots, Graph</title>
<meta name="description" content="Compute parabola properties from coefficients or vertex form: vertex, focus, directrix, axis of symmetry, focal length, latus rectum, intercepts, discriminant, and an interactive plot. Includes formulas, glossary, worked example, and FAQs." />
<link rel="canonical" href="https://calcdomain.com/parabola-calculator.html" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com" defer></script>

<!-- MathJax for LaTeX -->
<script defer>
  window.MathJax = {
    tex: {inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$','$$'], ['\\[','\\]']]},
    svg: {fontCache: 'global'}
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" defer></script>

<style>
  :root { --focus: #2563eb; }
  body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
  .prose { max-width: 70ch; }
  .prose h2 { font-size: 1.375rem; font-weight: 700; margin-top: 1.75rem; margin-bottom: 0.75rem; }
  .prose h3 { font-size: 1.125rem; font-weight: 700; margin-top: 1.25rem; margin-bottom: 0.5rem; }
  .prose p  { margin-bottom: 0.9rem; line-height: 1.65; }
  .formula-box { background:#f8fafc; border:1px solid #e2e8f0; border-radius:12px; padding:1rem; overflow-x:auto; }
  .result-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:1rem; }
  .result-card h4 { font-size: .95rem; color:#475569; margin-bottom:.25rem; }
  .result-card p  { font-weight:800; font-size:1.5rem; color:#1d4ed8; }
  .a11y-note { font-size:.875rem; color:#334155; }
  /* visible focus */
  :where(a,button,input,select,textarea,details,[role="button"]) :focus { outline: none; }
  :where(a,button,input,select,textarea,summary,[role="button"]):focus-visible {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--focus) 60%, transparent);
    outline: 3px solid var(--focus);
    outline-offset: 1px;
    border-radius: 8px;
  }
  /* CLS guard for results + canvas */
  #results, #plotPanel { min-height: 280px; }
  /* error messages */
  .field-error { color:#b91c1c; font-size:.875rem; margin-top:.375rem; }
  /* large hit targets for mobile */
  .hit { min-height: 48px; }
  @media print {
    body * { visibility: hidden; }
    #print-section, #print-section * { visibility: visible; }
    #print-section { position: absolute; inset: 0; }
  }
</style>

<!-- JSON-LD: WebPage + SoftwareApplication + Breadcrumbs + FAQPage -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Parabola Calculator",
  "url": "https://calcdomain.com/parabola-calculator.html",
  "inLanguage": "en",
  "description": "Compute vertex, focus, directrix, axis, intercepts, discriminant, and plot a parabola from coefficients or vertex form.",
  "author": { "@type": "Person", "name": "Ugo Candido" },
  "publisher": { "@type": "Organization", "name": "CalcDomain" },
  "mainEntity": {
    "@type": "SoftwareApplication",
    "name": "Parabola Calculator",
    "applicationCategory": "EducationalApplication",
    "operatingSystem": "Any",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
  }
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BreadcrumbList",
  "itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://calcdomain.com/"},
    {"@type":"ListItem","position":2,"name":"Math","item":"https://calcdomain.com/math.html"},
    {"@type":"ListItem","position":3,"name":"Geometry","item":"https://calcdomain.com/subcategories/geometry.html"},
    {"@type":"ListItem","position":4,"name":"Parabola Calculator","item":"https://calcdomain.com/parabola-calculator.html"}
  ]
}
</script>
<script type="application/ld+json" id="faq-jsonld">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type":"Question",
      "name":"How do I find the vertex from y = ax^2 + bx + c?",
      "acceptedAnswer":{"@type":"Answer","text":"Use x_v = -b/(2a) and y_v = f(x_v). This calculator computes it automatically and shows the plot."}
    },
    {
      "@type":"Question",
      "name":"What are the focus and directrix in vertex form?",
      "acceptedAnswer":{"@type":"Answer","text":"For y = a(x-h)^2 + k, focal length p = 1/(4a), focus = (h, k + p), directrix: y = k - p (vertical axis case)."}
    },
    {
      "@type":"Question",
      "name":"How do I know if the parabola opens up or down?",
      "acceptedAnswer":{"@type":"Answer","text":"Sign of a: a > 0 opens upward, a < 0 opens downward for vertical parabolas."}
    },
    {
      "@type":"Question",
      "name":"Can I convert between standard and vertex form?",
      "acceptedAnswer":{"@type":"Answer","text":"Yes. Completing the square converts ax^2+bx+c to a(x-h)^2+k with h = -b/(2a) and k = c - b^2/(4a)."}
    },
    {
      "@type":"Question",
      "name":"What does the discriminant tell me?",
      "acceptedAnswer":{"@type":"Answer","text":"D = b^2 - 4ac indicates x-intercepts: D>0 two, D=0 one (tangent), D<0 none (complex roots)."}
    },
    {
      "@type":"Question",
      "name":"What is the latus rectum length?",
      "acceptedAnswer":{"@type":"Answer","text":"Its length is |4p|; for y = a(x-h)^2 + k, it equals |1/a|."}
    },
    {
      "@type":"Question",
      "name":"Does this tool support sideways parabolas?",
      "acceptedAnswer":{"@type":"Answer","text":"This version targets vertical-axis parabolas. A sideways option can be added by switching to (y-k)^2 = 4p(x-h)."}
    }
  ]
}
</script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header (non-sticky as required) -->
  <header class="bg-white border-b">
    <div class="container mx-auto px-4 lg:px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-extrabold text-blue-700">CalcDomain</a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="search.html" class="hover:text-blue-700">Search</a>
        <a href="math.html" class="hover:text-blue-700">Math</a>
        <a href="subcategories/geometry.html" class="hover:text-blue-700">Geometry</a>
      </nav>
      <button class="md:hidden p-2 rounded hit" aria-label="Open menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
  </header>

  <main class="container mx-auto px-4 lg:px-6 py-8">
    <section id="print-section" class="bg-white rounded-xl shadow-sm p-6">
      <nav class="text-sm text-slate-600 mb-4" aria-label="Breadcrumb">
        <a href="index.html" class="hover:text-blue-700">Home</a> &raquo;
        <a href="math.html" class="hover:text-blue-700">Math</a> &raquo;
        <a href="subcategorries/geometry.html" class="hover:text-blue-700">Geometry</a> &raquo;
        <span class="text-slate-900">Parabola Calculator</span>
      </nav>

      <h1 class="text-3xl font-extrabold mb-2">parabola calculator</h1>
      <p class="text-slate-700 mb-6">
        Enter either quadratic coefficients or vertex form parameters to instantly compute
        <strong>vertex</strong>, <strong>focus</strong>, <strong>directrix</strong>, <strong>axis</strong>, <strong>focal length</strong>,
        <strong>latus rectum</strong>, <strong>intercepts</strong>, and the <strong>discriminant</strong>—plus an accessible plot.
        Ideal for students, engineers, and educators needing quick, reliable analytic-geometry results.
      </p>

      <!-- Calculator UI -->
      <section id="calculator" aria-labelledby="calc-heading" class="mb-8">
        <h2 id="calc-heading" class="sr-only">Parabola input controls</h2>

        <!-- Mode toggle -->
        <div class="mb-4">
          <fieldset class="border border-slate-200 rounded-lg p-4">
            <legend class="font-semibold text-slate-800">Input mode <span aria-hidden="true">*</span></legend>
            <p class="a11y-note">Choose whether to enter quadratic coefficients (a,b,c) or vertex form (a,h,k).</p>
            <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3">
              <label class="flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-slate-50">
                <input class="hit" type="radio" name="mode" id="mode-abc" value="abc" checked aria-describedby="mode-tip" />
                <span>Standard form: <span class="font-mono">y = ax² + bx + c</span></span>
              </label>
              <label class="flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-slate-50">
                <input class="hit" type="radio" name="mode" id="mode-vertex" value="vertex" aria-describedby="mode-tip" />
                <span>Vertex form: <span class="font-mono">y = a(x − h)² + k</span></span>
              </label>
            </div>
            <p id="mode-tip" class="sr-only">Toggle between input modes.</p>
          </fieldset>
        </div>

        <!-- Inputs -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- a -->
          <div>
            <label for="a" class="block text-sm font-medium text-slate-800">Coefficient a <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="flex items-start gap-2">
              <input id="a" name="a" type="number" step="any" class="hit mt-1 w-full px-3 py-2 border rounded-md"
                     aria-required="true" aria-describedby="a-tip a-err" value="1">
              <button type="button" class="hit mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="a-tip">?</button>
            </div>
            <p id="a-tip" class="text-slate-600 text-sm mt-1 hidden">a ≠ 0. Positive opens up, negative opens down (vertical axis).</p>
            <p id="a-err" class="field-error hidden"></p>
          </div>

          <!-- b (only in abc mode) -->
          <div data-abc>
            <label for="b" class="block text-sm font-medium text-slate-800">Coefficient b <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="flex items-start gap-2">
              <input id="b" name="b" type="number" step="any" class="hit mt-1 w-full px-3 py-2 border rounded-md"
                     aria-required="true" aria-describedby="b-tip b-err" value="0">
              <button type="button" class="hit mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="b-tip">?</button>
            </div>
            <p id="b-tip" class="text-slate-600 text-sm mt-1 hidden">Linear coefficient in y = ax² + bx + c.</p>
            <p id="b-err" class="field-error hidden"></p>
          </div>

          <!-- c (only in abc mode) -->
          <div data-abc>
            <label for="c" class="block text-sm font-medium text-slate-800">Coefficient c <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="flex items-start gap-2">
              <input id="c" name="c" type="number" step="any" class="hit mt-1 w-full px-3 py-2 border rounded-md"
                     aria-required="true" aria-describedby="c-tip c-err" value="0">
              <button type="button" class="hit mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="c-tip">?</button>
            </div>
            <p id="c-tip" class="text-slate-600 text-sm mt-1 hidden">Constant term: y-intercept occurs at (0, c).</p>
            <p id="c-err" class="field-error hidden"></p>
          </div>

          <!-- h (only in vertex mode) -->
          <div data-vertex class="hidden">
            <label for="h" class="block text-sm font-medium text-slate-800">Vertex h <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="flex items-start gap-2">
              <input id="h" name="h" type="number" step="any" class="hit mt-1 w-full px-3 py-2 border rounded-md"
                     aria-required="true" aria-describedby="h-tip h-err" value="0">
              <button type="button" class="hit mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="h-tip">?</button>
            </div>
            <p id="h-tip" class="text-slate-600 text-sm mt-1 hidden">Vertex x-coordinate in y = a(x-h)² + k.</p>
            <p id="h-err" class="field-error hidden"></p>
          </div>

          <!-- k (only in vertex mode) -->
          <div data-vertex class="hidden">
            <label for="k" class="block text-sm font-medium text-slate-800">Vertex k <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="flex items-start gap-2">
              <input id="k" name="k" type="number" step="any" class="hit mt-1 w-full px-3 py-2 border rounded-md"
                     aria-required="true" aria-describedby="k-tip k-err" value="0">
              <button type="button" class="hit mt-1 px-2 py-2 border rounded-md" aria-expanded="false" aria-controls="k-tip">?</button>
            </div>
            <p id="k-tip" class="text-slate-600 text-sm mt-1 hidden">Vertex y-coordinate in y = a(x-h)² + k.</p>
            <p id="k-err" class="field-error hidden"></p>
          </div>

          <!-- domain range -->
          <div class="md:col-span-3">
            <label for="xRange" class="block text-sm font-medium text-slate-800">Plot window (x-range) <span aria-hidden="true" class="text-rose-700">*</span></label>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mt-1">
              <div>
                <input id="xmin" type="number" step="any" class="hit w-full px-3 py-2 border rounded-md"
                       aria-required="true" aria-describedby="xrange-tip xmin-err" value="-10">
                <p class="text-xs text-slate-600 mt-1">x min</p>
                <p id="xmin-err" class="field-error hidden"></p>
              </div>
              <div>
                <input id="xmax" type="number" step="any" class="hit w-full px-3 py-2 border rounded-md"
                       aria-required="true" aria-describedby="xrange-tip xmax-err" value="10">
                <p class="text-xs text-slate-600 mt-1">x max</p>
                <p id="xmax-err" class="field-error hidden"></p>
              </div>
              <div>
                <input id="ymin" type="number" step="any" class="hit w-full px-3 py-2 border rounded-md"
                       aria-required="false" aria-describedby="xrange-tip ymin-err" value="-10">
                <p class="text-xs text-slate-600 mt-1">y min</p>
                <p id="ymin-err" class="field-error hidden"></p>
              </div>
              <div>
                <input id="ymax" type="number" step="any" class="hit w-full px-3 py-2 border rounded-md"
                       aria-required="false" aria-describedby="xrange-tip ymax-err" value="10">
                <p class="text-xs text-slate-600 mt-1">y max</p>
                <p id="ymax-err" class="field-error hidden"></p>
              </div>
            </div>
            <p id="xrange-tip" class="text-slate-600 text-sm mt-1">Choose a sensible window to visualize curvature and intercepts.</p>
          </div>
        </div>

        <!-- Actions -->
        <div class="mt-6 flex flex-wrap gap-3">
          <button id="calcBtn" class="hit px-5 py-3 bg-blue-700 text-white rounded-md hover:bg-blue-800">Calculate</button>
          <button id="resetBtn" class="hit px-5 py-3 border rounded-md hover:bg-slate-50">Reset</button>
          <button id="printBtn" class="hit px-5 py-3 border rounded-md hover:bg-slate-50">Print</button>
        </div>
      </section>

      <!-- Results -->
      <section id="results" class="bg-blue-50 border border-blue-100 rounded-xl p-5">
        <h2 class="text-xl font-bold text-slate-800 mb-4">Results</h2>
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
          <div class="xl:col-span-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <div class="result-card"><h4>Vertex</h4><p id="vertexOut">—</p></div>
            <div class="result-card"><h4>Focus</h4><p id="focusOut">—</p></div>
            <div class="result-card"><h4>Directrix</h4><p id="directrixOut">—</p></div>
            <div class="result-card"><h4>Axis</h4><p id="axisOut">—</p></div>
            <div class="result-card"><h4>Focal length p</h4><p id="pOut">—</p></div>
            <div class="result-card"><h4>Latus rectum</h4><p id="lrOut">—</p></div>
            <div class="result-card"><h4>Discriminant D</h4><p id="discOut">—</p></div>
            <div class="result-card"><h4>x-intercepts</h4><p id="xintOut">—</p></div>
            <div class="result-card"><h4>y-intercept</h4><p id="yintOut">—</p></div>
          </div>
          <div id="plotPanel" class="bg-white border rounded-xl p-3">
            <canvas id="plotCanvas" width="640" height="420" aria-label="Parabola plot with axes and key features"></canvas>
          </div>
        </div>
      </section>

      <!-- Authoritative content -->
      <section class="prose mt-10">
        <h2>Data source & methodology</h2>
        <p><strong>AuthoritativeDataSource:</strong> Classical analytic geometry as presented in
          <em>OpenStax Calculus, Vol. 2 (Analytic Geometry Appendix)</em>, 2016-2024 edition; and
          <em>NIST Digital Library of Mathematical Functions (DLMF)</em>, §1 and §3 basics of conic sections.
          Direct links:
          <a href="https://openstax.org/details/books/calculus-volume-2" rel="nofollow">OpenStax</a>,
          <a href="https://dlmf.nist.gov/" rel="nofollow">NIST DLMF</a>.
          <br/><em>All computations strictly follow the formulas and definitions provided by these sources.</em>
        </p>

        <h2>The formulas explained</h2>
        <div class="formula-box">
          <p>Standard form: $$y = ax^2 + bx + c,\quad a \ne 0$$
          Vertex: $$x_v = -\\frac{b}{2a},\\quad y_v = a x_v^2 + b x_v + c$$
          Vertex form: $$y = a(x-h)^2 + k \\quad \\Leftrightarrow \\quad (x-h)^2 = \\frac{1}{a}(y-k) = 4p(y-k)$$
          Focal length: $$p = \\tfrac{1}{4a}$$
          Focus (vertical axis): $$(h,\\; k + p)$$
          Directrix (vertical axis): $$y = k - p$$
          Axis of symmetry: $$x = h$$
          Discriminant (standard form): $$D = b^2 - 4ac$$
          x-intercepts (if $D \\ge 0$): $$x = \\frac{-b \\pm \\sqrt{D}}{2a}$$
          y-intercept: $$(0,\\; c)$$
          Latus rectum length: $$|4p| = \\left|\\tfrac{1}{a}\\right|$$</p>
        </div>

        <h2>Glossary of variables</h2>
        <ul>
          <li><strong>a</strong>: quadratic/curvature coefficient; sign sets opening direction.</li>
          <li><strong>b, c</strong>: linear and constant terms (standard form).</li>
          <li><strong>h, k</strong>: vertex coordinates (vertex form).</li>
          <li><strong>p</strong>: focal length (distance from vertex to focus/directrix).</li>
          <li><strong>D</strong>: discriminant indicating number of real x-intercepts.</li>
        </ul>

        <h2>How it works: a step-by-step example</h2>
        <p><strong>Input:</strong> \(y = 2x^2 - 4x + 1\). Here \(a=2, b=-4, c=1\).</p>
        <ol>
          <li>Vertex: \(x_v = -(-4)/(2\cdot 2)=1\); \(y_v = 2(1)^2 - 4(1) + 1 = -1\). So vertex \((1, -1)\).</li>
          <li>Convert to vertex form: \(y = 2(x-1)^2 - 1\) ⇒ \(h=1, k=-1, a=2\).</li>
          <li>Focal length: \(p=1/(4a)=1/8\). Focus \((1, -1 + 1/8)= (1, -0.875)\). Directrix \(y = -1 - 1/8 = -1.125\).</li>
          <li>Axis: \(x=1\). Latus rectum length \(|1/a| = 0.5\).</li>
          <li>Discriminant: \(D = (-4)^2 - 4(2)(1) = 16 - 8 = 8\) ⇒ two x-intercepts \(x=\frac{4\pm\sqrt{8}}{4}=1\pm\frac{\sqrt{2}}{2}\).</li>
        </ol>

        <h2>Frequently asked questions</h2>
        <details><summary>Is a = 0 allowed?</summary><p>No. If \(a=0\) the graph is linear, not a parabola.</p></details>
        <details><summary>Does the calculator handle negative a?</summary><p>Yes. Negative a opens downward; formulas for p, focus, and directrix still apply.</p></details>
        <details><summary>Can I enter vertex form directly?</summary><p>Yes—switch to the vertex mode and provide (a,h,k).</p></details>
        <details><summary>What if D &lt; 0?</summary><p>No real x-intercepts; the parabola does not cross the x-axis.</p></details>
        <details><summary>How do I get a wider/narrower parabola?</summary><p>Use |a| smaller for wider; larger for narrower.</p></details>
        <details><summary>How precise are the results?</summary><p>Calculations use double-precision floats in your browser; rounding is applied for display.</p></details>

        <div class="mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700">
          <p><strong>Tool developed by Ugo Candido.</strong> Content verified by the CalcDomain Editorial Board.<br>
          Last accuracy review: <time datetime="2025-10-25">October 25, 2025</time></p>
        </div>
      </section>
    </section>
  </main>

  <footer class="bg-white border-t">
    <div class="container mx-auto px-6 py-8 text-center text-slate-600 text-sm">
      <p>&copy; 2025 CalcDomain. All Rights Reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="about.html" class="hover:text-blue-700">About</a>
        <a href="contact.html" class="hover:text-blue-700">Contact</a>
        <a href="privacy.html" class="hover:text-blue-700">Privacy</a>
        <a href="terms.html" class="hover:text-blue-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Calculator logic (defer) -->
  <script defer>
  (function(){
    const $ = (id) => document.getElementById(id);
    // Inputs
    const elA = $('a'), elB = $('b'), elC = $('c'), elH = $('h'), elK = $('k');
    const elModeAbc = $('mode-abc'), elModeVertex = $('mode-vertex');
    const elXmin = $('xmin'), elXmax = $('xmax'), elYmin = $('ymin'), elYmax = $('ymax');
    const calcBtn = $('calcBtn'), resetBtn = $('resetBtn'), printBtn = $('printBtn');

    // Outputs
    const outVertex = $('vertexOut'), outFocus = $('focusOut'), outDirectrix = $('directrixOut');
    const outAxis = $('axisOut'), outP = $('pOut'), outLR = $('lrOut'), outDisc = $('discOut');
    const outXint = $('xintOut'), outYint = $('yintOut');

    // Visibility groups
    const abcFields = document.querySelectorAll('[data-abc]');
    const vertexFields = document.querySelectorAll('[data-vertex]');

    // Tooltips toggles (buttons next to labels)
    document.querySelectorAll('button[aria-controls$="-tip"]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const tip = document.getElementById(id);
        const open = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!open));
        tip.classList.toggle('hidden', open);
      });
      // keyboard activation via Space/Enter is native on button
    });

    // Mode switch
    function setMode(mode){
      if(mode==='vertex'){
        abcFields.forEach(n=>n.classList.add('hidden'));
        vertexFields.forEach(n=>n.classList.remove('hidden'));
      } else {
        vertexFields.forEach(n=>n.classList.add('hidden'));
        abcFields.forEach(n=>n.classList.remove('hidden'));
      }
      clearErrors();
      calculate();
    }
    elModeAbc.addEventListener('change', ()=> setMode('abc'));
    elModeVertex.addEventListener('change', ()=> setMode('vertex'));

    // Validation helpers
    function setErr(inputId, msg){
      const err = document.getElementById(inputId + '-err');
      if(!err) return;
      err.textContent = msg || '';
      err.classList.toggle('hidden', !msg);
      const input = document.getElementById(inputId);
      if(input){
        input.setAttribute('aria-invalid', msg ? 'true' : 'false');
        input.setAttribute('aria-describedby', (input.getAttribute('aria-describedby')||'').split(' ').filter(x=>x && !x.endsWith('-err')).concat(msg? [inputId+'-err'] : []).join(' ').trim());
      }
    }
    function clearErrors(){
      ['a','b','c','h','k','xmin','xmax','ymin','ymax'].forEach(id=> setErr(id,''));
    }

    // on-blur inline validation
    [['a','Coefficient a must be non-zero.'],
     ['xmin','x min must be strictly less than x max.'],
     ['xmax','x max must be strictly greater than x min.']]
    .forEach(([id,msg])=>{
      const el = $(id);
      if(!el) return;
      el.addEventListener('blur', ()=>{
        if(id==='a' && Number(el.value)===0){ setErr('a', msg); }
        if((id==='xmin' || id==='xmax') && Number(elXmin.value) >= Number(elXmax.value)){
          setErr('xmin','x min < x max required.');
          setErr('xmax','x max > x min required.');
        }
      });
    });

    // Compute core numbers
    function fromABC(a,b,c){
      const xv = -b/(2*a);
      const yv = a*xv*xv + b*xv + c;
      const h = xv, k = yv;
      const p = 1/(4*a);
      const focus = [h, k + p];
      const directrix = k - p;
      const axis = h;
      const D = b*b - 4*a*c;
      let xints = null;
      if(D > 0){
        const r = Math.sqrt(D);
        xints = [(-b + r)/(2*a), (-b - r)/(2*a)];
      } else if (D === 0){
        xints = [xv];
      }
      const yint = c;
      const latus = Math.abs(1/a);
      return {h,k,a,p,focus,directrix,axis,D,xints,yint,latus};
    }
    function fromVertex(a,h,k){
      const p = 1/(4*a);
      const focus = [h, k + p];
      const directrix = k - p;
      const axis = h;
      // Convert to standard for D/intercepts:
      // y = a(x-h)^2 + k = a x^2 - 2ah x + (ah^2 + k)
      const b = -2*a*h;
      const c = a*h*h + k;
      const D = b*b - 4*a*c;
      let xints = null;
      if(D > 0){ const r = Math.sqrt(D); xints = [(-b + r)/(2*a), (-b - r)/(2*a)]; }
      else if(D === 0){ xints = [ -b/(2*a) ]; }
      const yint = c;
      const latus = Math.abs(1/a);
      return {h,k,a,p,focus,directrix,axis,D,xints,yint,latus,b,c};
    }

    // Plotting
    const canvas = $('plotCanvas');
    const ctx = canvas.getContext('2d');

    function drawAxes(xmin,xmax,ymin,ymax){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      // map functions
      const W=canvas.width,H=canvas.height;
      const sx = (x)=> (x - xmin) / (xmax - xmin) * W;
      const sy = (y)=> H - (y - ymin) / (ymax - ymin) * H;

      // grid (light)
      ctx.lineWidth = 1;
      ctx.strokeStyle = '#e2e8f0';
      ctx.beginPath();
      const stepX = niceStep(xmin,xmax), stepY = niceStep(ymin,ymax);
      for(let x=Math.ceil(xmin/stepX)*stepX; x<=xmax; x+=stepX){
        const X = sx(x);
        ctx.moveTo(X,0); ctx.lineTo(X,H);
      }
      for(let y=Math.ceil(ymin/stepY)*stepY; y<=ymax; y+=stepY){
        const Y = sy(y);
        ctx.moveTo(0,Y); ctx.lineTo(W,Y);
      }
      ctx.stroke();

      // axes
      ctx.strokeStyle = '#94a3b8';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      // y-axis
      if(xmin<0 && xmax>0){ const X = sx(0); ctx.moveTo(X,0); ctx.lineTo(X,H); }
      // x-axis
      if(ymin<0 && ymax>0){ const Y = sy(0); ctx.moveTo(0,Y); ctx.lineTo(W,Y); }
      ctx.stroke();

      // ticks
      ctx.fillStyle = '#64748b';
      ctx.font = '12px system-ui, sans-serif';
      ctx.textAlign = 'center';
      for(let x=Math.ceil(xmin/stepX)*stepX; x<=xmax; x+=stepX){
        const X = sx(x);
        const Y = sy(0);
        if(ymin<0 && ymax>0){ ctx.fillText(String(+x.toFixed(2)), X, Y - 4); }
      }
      ctx.textAlign = 'right';
      for(let y=Math.ceil(ymin/stepY)*stepY; y<=ymax; y+=stepY){
        const X = sx(0);
        const Y = sy(y);
        if(xmin<0 && xmax>0){ ctx.fillText(String(+y.toFixed(2)), X - 4, Y - 2); }
      }
      return {sx,sy};
    }

    function niceStep(min,max){
      const span = Math.abs(max - min);
      const rough = span/8;
      const pow = Math.pow(10, Math.floor(Math.log10(rough)));
      const candidates = [1,2,5,10].map(m=>m*pow);
      return candidates.find(c=>rough <= c) || candidates[candidates.length-1];
    }

    function plotParabola(a,b,c,xmin,xmax,mapper){
      const {sx,sy} = mapper;
      ctx.lineWidth = 2;
      ctx.strokeStyle = '#1d4ed8';
      ctx.beginPath();
      const N = 512;
      for(let i=0; i<=N; i++){
        const x = xmin + (i/N)*(xmax-xmin);
        const y = a*x*x + b*x + c;
        const X = sx(x), Y = sy(y);
        if(i===0) ctx.moveTo(X,Y); else ctx.lineTo(X,Y);
      }
      ctx.stroke();
    }

    function drawPoint(pt, color='#ef4444', label){
      ctx.fillStyle = color;
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(pt[0], pt[1], 4, 0, Math.PI*2);
      ctx.fill();
      if(label){
        ctx.fillStyle = '#0f172a';
        ctx.font = '12px system-ui, sans-serif';
        ctx.fillText(label, pt[0] + 6, pt[1] - 6);
      }
    }

    function drawLine(x1,y1,x2,y2, style='#10b981'){
      ctx.strokeStyle = style;
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
    }

    // Calculate and render
    function calculate(){
      clearErrors();
      const mode = elModeVertex.checked ? 'vertex' : 'abc';
      const a = Number(elA.value);
      if(!Number.isFinite(a) || a === 0){ setErr('a','Coefficient a must be a non-zero number.'); return; }

      const xmin = Number(elXmin.value), xmax = Number(elXmax.value), ymin = Number(elYmin.value), ymax = Number(elYmax.value);
      if(!(xmax > xmin)){ setErr('xmin','x min < x max required.'); setErr('xmax','x max > x min required.'); return; }

      let res, b, c, h, k;
      if(mode==='abc'){
        b = Number(elB.value); c = Number(elC.value);
        res = fromABC(a,b,c);
        h = res.h; k = res.k;
      } else {
        h = Number(elH.value); k = Number(elK.value);
        res = fromVertex(a,h,k);
        b = res.b; c = res.c;
      }

      // Outputs
      outVertex.textContent   = `(${fmt(h)}, ${fmt(k)})`;
      outFocus.textContent    = `(${fmt(res.focus[0])}, ${fmt(res.focus[1])})`;
      outDirectrix.textContent= `y = ${fmt(res.directrix)}`;
      outAxis.textContent     = `x = ${fmt(res.axis)}`;
      outP.textContent        = fmt(res.p);
      outLR.textContent       = fmt(res.latus);
      outDisc.textContent     = fmt(res.D);
      outXint.textContent     = res.xints ? res.xints.map(v=>fmt(v)).join(' , ') : 'No real intercepts';
      outYint.textContent     = `(${fmt(0)}, ${fmt(res.yint)})`;

      // Draw
      const {sx,sy} = drawAxes(xmin,xmax,ymin,ymax);
      // convert coords to px
      const map = {sx,sy};
      plotParabola(a,b,c,xmin,xmax,map);

      // vertex, focus
      drawPoint([sx(h), sy(k)], '#ef4444', 'V');
      drawPoint([sx(res.focus[0]), sy(res.focus[1])], '#10b981', 'F');

      // directrix (horizontal line y = const)
      const Yd = sy(res.directrix);
      drawLine(0, Yd, canvas.width, Yd, '#f59e0b');

      // axis (vertical x = h)
      const Xaxis = sx(res.axis);
      drawLine(Xaxis, 0, Xaxis, canvas.height, '#94a3b8');

      // x-intercepts
      if(res.xints){
        res.xints.forEach(x=> drawPoint([sx(x), sy(0)], '#9333ea'));
      }
    }

    function fmt(n){ return Number.isFinite(n) ? (Math.abs(n) < 1e-6 ? '0' : n.toFixed(6).replace(/\.?0+$/,'')) : '—'; }

    // Buttons
    calcBtn.addEventListener('click', calculate);
    printBtn.addEventListener('click', ()=> window.print());
    resetBtn.addEventListener('click', ()=>{
      elModeAbc.checked = true;
      setMode('abc');
      elA.value = 1; elB.value = 0; elC.value = 0;
      elH.value = 0; elK.value = 0;
      elXmin.value = -10; elXmax.value = 10; elYmin.value = -10; elYmax.value = 10;
      clearErrors();
      calculate();
    });

    // Recalculate on input (lightweight)
    [elA,elB,elC,elH,elK,elXmin,elXmax,elYmin,elYmax].forEach(el=>{
      if(!el) return;
      el.addEventListener('input', ()=>{
        // guard against invalid ranges
        if(el===elXmin || el===elXmax){
          if(!(Number(elXmax.value) > Number(elXmin.value))) return;
        }
        calculate();
      });
    });

    // Initialize
    setMode('abc');
  })();
  </script>
</body>
</html>
